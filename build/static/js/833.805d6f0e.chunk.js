"use strict";(self.webpackChunkside_eye=self.webpackChunkside_eye||[]).push([[833],{8833:(e,i,s)=>{s.r(i),s.d(i,{default:()=>oe});var t=s(9379),o=s(9950),r=s(6491),n=s(2053),a=s(8145),c=s(6639),d=s(249),l=s(6050),u=s(226),x=s(8614),h=s(1413),p=s(3563),m=s(4857),f=s(6589),A=s(9808),g=s(3174),y=s(2235),j=s(7357),v=s(4195),b=s(4745),w=s(7324),S=s(5333),R=s(6583),C=s(33),k=s(8170),I=s(9739),P=s(1770),W=s(5872),N=s(3553),E=s(7936),H=s(9299),q=s(7526),U=s(7882),F=s(529),D=s(6786),B=s(3061),M=s(561),z=s(7960),L=s(2092),V=s(3248),_=s(3759),O=s(6835),Y=s(3364),T=s(2924),Q=s(8429),Z=s(2074),K=s(4458),G=s(1367),J=s(330),$=s(6220),X=s(5887),ee=s(9901),ie=s(4414);const se=()=>{const[e,i]=(0,o.useState)([]),[s,t]=(0,o.useState)("");(0,Q.Zp)();(0,o.useEffect)((()=>{const e=async()=>{try{await navigator.mediaDevices.getUserMedia({audio:!0,video:!1})}catch(e){console.warn("Error requesting media permissions for device enumeration:",e)}try{const e=await navigator.mediaDevices.enumerateDevices();i(e.filter((e=>e.deviceId)));const o=e.find((e=>"audioinput"===e.kind));o&&!s&&t(o.deviceId)}catch(o){console.error("Error enumerating devices:",o)}};return navigator.mediaDevices.addEventListener("devicechange",e),e(),()=>{navigator.mediaDevices.removeEventListener("devicechange",e)}}),[]);return(0,ie.jsxs)(r.A,{sx:{my:2},children:[(0,ie.jsx)(n.A,{variant:"subtitle1",gutterBottom:!0,children:"Audio Input Device"}),(0,ie.jsx)(a.A,{select:!0,SelectProps:{native:!0},value:s,onChange:e=>{return i=e.target.value,t(i),void console.log("Selected Audio Input:",i);var i},label:"Microphone",fullWidth:!0,variant:"outlined",size:"small",disabled:0===e.filter((e=>"audioinput"===e.kind)).length,children:e.filter((e=>"audioinput"===e.kind)).length>0?e.filter((e=>"audioinput"===e.kind)).map((e=>(0,ie.jsx)("option",{value:e.deviceId,children:e.label||"Microphone ".concat(e.deviceId.substring(0,8),"...")},e.deviceId))):(0,ie.jsx)("option",{value:"",children:"No microphones found"})})]})},te=()=>{const{currentUser:e,unblockUser:i}=(0,G.As)(),[s,t]=(0,o.useState)([]),[a,m]=(0,o.useState)(!1),[f,A]=(0,o.useState)(null);(0,o.useEffect)((()=>{if(null===e||void 0===e||!e.uid||!J.db)return;(async()=>{try{m(!0);const i=(0,$.H9)(J.db,"users",e.uid),s=await(0,$.x7)(i);if(!s.exists())return void m(!1);const o=s.data().blockedUsers||[];if(0===o.length)return t([]),void m(!1);const r=await Promise.all(o.map((async e=>{try{const i=(0,$.H9)(J.db,"users",e),s=await(0,$.x7)(i);if(s.exists()){const i=s.data();return{id:e,userId:e,username:i.username||"Unknown User",name:i.name,profilePic:i.profilePic,timestamp:new Date}}return{id:e,userId:e,username:"Unknown User",timestamp:new Date}}catch(i){return console.error("Error fetching blocked user ".concat(e,":"),i),{id:e,userId:e,username:"Unknown User",timestamp:new Date}}})));t(r)}catch(i){console.error("Error fetching blocked users:",i),X.oR.error("Failed to load blocked users")}finally{m(!1)}})()}),[null===e||void 0===e?void 0:e.uid,J.db]);return a?(0,ie.jsx)(r.A,{sx:{py:2,display:"flex",justifyContent:"center"},children:(0,ie.jsx)(c.A,{size:20})}):0===s.length?(0,ie.jsx)(n.A,{color:"text.secondary",sx:{py:1},children:"You haven't blocked any users."}):(0,ie.jsx)(d.A,{sx:{py:0},children:s.map((s=>{var o;return(0,ie.jsxs)(l.Ay,{secondaryAction:(0,ie.jsx)(u.A,{variant:"outlined",size:"small",color:"primary",startIcon:f===s.userId?(0,ie.jsx)(c.A,{size:16}):(0,ie.jsx)(P.A,{}),onClick:()=>s.userId&&(async s=>{if(e)try{A(s),await i(s),t((e=>e.filter((e=>e.userId!==s)))),X.oR.success("User unblocked successfully")}catch(o){console.error("Error unblocking user:",o),X.oR.error("Failed to unblock user")}finally{A(null)}})(s.userId),disabled:f===s.userId||!s.userId,children:"Unblock"}),sx:{px:0,py:1},children:[(0,ie.jsx)(x.A,{children:(0,ie.jsx)(h.A,{src:s.profilePic,sx:{width:40,height:40},children:s.username?null===(o=s.username[0])||void 0===o?void 0:o.toUpperCase():"?"})}),(0,ie.jsx)(p.A,{primary:s.name||s.username,secondary:s.username?"@".concat(s.username):"User ".concat((s.userId||s.id||"").substring(0,5))})]},s.userId||s.id)}))})},oe=()=>{const e=(0,m.A)(),{isDarkMode:i,toggleDarkMode:s}=((0,f.A)(e.breakpoints.down("sm")),(0,K.d)()),{currentUser:P,userProfile:oe,unblockUser:re}=(0,G.As)(),{canViewProfile:ne,canViewContent:ae}=(0,G.Km)(),[ce,de]=(0,o.useState)(!1),[le,ue]=(0,o.useState)(null),[xe,he]=(0,o.useState)(!1),[pe,me]=(0,o.useState)([]),[fe,Ae]=(0,o.useState)({followers:0,following:0,pendingRequests:0,sideRooms:0}),[ge,ye]=(0,o.useState)(!1),[je,ve]=(0,o.useState)(!1),[be,we]=(0,o.useState)(""),[Se,Re]=(0,o.useState)(""),[Ce,ke]=(0,o.useState)(""),[Ie,Pe]=(0,o.useState)(!1),[We,Ne]=(0,o.useState)(""),[Ee,He]=(0,o.useState)(""),[qe,Ue]=(0,o.useState)({sideRoomNotifications:!0,messageNotifications:!0,followNotifications:!0}),[Fe,De]=(0,o.useState)([]),[Be,Me]=(0,o.useState)(!1),[ze,Le]=(0,o.useState)(null),Ve=(0,Q.Zp)(),_e=async(e,i,s)=>{if(!P)return;const o=P.uid,r=i||e;Le(e);try{const i=(0,$.H9)(J.db,"users/".concat(o,"/followRequests"),e);if(await(0,$.kd)(i),s){const e=(0,$.H9)(J.db,"users/".concat(o,"/followers"),r);await(0,$.BN)(e,{userId:r,timestamp:(0,$.O5)()});const i=(0,$.H9)(J.db,"users/".concat(r,"/following"),o);await(0,$.BN)(i,{userId:o,timestamp:(0,$.O5)()}),Ae((e=>(0,t.A)((0,t.A)({},e),{},{followers:e.followers+1,pendingRequests:e.pendingRequests-1})));try{const e=await(0,$.x7)((0,$.H9)(J.db,"users",o));if(e.exists()){const i=e.data(),s=(0,$.rJ)(J.db,"notifications");await(0,$.gS)(s,{type:"follow_accepted",userId:r,fromUserId:o,fromUsername:i.username||"",fromProfilePic:i.profilePic||"",message:"".concat(i.username||"User"," has accepted your follow request"),timestamp:(0,$.O5)(),read:!1})}}catch(n){console.error("Error creating notification:",n)}X.oR.success("Follow request accepted")}else Ae((e=>(0,t.A)((0,t.A)({},e),{},{pendingRequests:e.pendingRequests-1}))),X.oR.success("Follow request declined");me((i=>i.filter((i=>i.id!==e)))),De((i=>i.filter((i=>i.id!==e))))}catch(le){console.error("Error handling follow request:",le),X.oR.error("Failed to process follow request")}finally{Le(null)}},Oe=async()=>{if(P&&be)try{const e=(0,$.H9)(J.db,"users",P.uid),i=await(0,$.x7)(e);if(i.exists()){const e=i.data().sourceCodeHash;e&&ee.Ay.compareSync(be,e)?(Ne(be),Pe(!0),ye(!1),we(""),X.oR.success("Identity verified successfully")):X.oR.error("Invalid source code")}else X.oR.error("User data not found.")}catch(le){console.error("Error verifying code:",le),X.oR.error("Failed to verify code")}},Ye=async e=>{if(null!==P&&void 0!==P&&P.uid)try{const i=!qe[e];Ue((s=>(0,t.A)((0,t.A)({},s),{},{[e]:i})));const s=(0,$.H9)(J.db,"users",P.uid);await(0,$.mZ)(s,{["emailPreferences.".concat(e)]:i,updatedAt:(0,$.O5)()}),X.oR.success("".concat("sideRoomNotifications"===e?"Side Room":"messageNotifications"===e?"Message":"Follow"," email notifications ").concat(i?"enabled":"disabled"))}catch(le){console.error("Error updating ".concat(e," preference:"),le),X.oR.error("Failed to update notification preferences"),Ue((i=>(0,t.A)((0,t.A)({},i),{},{[e]:!i[e]})))}},Te=[{title:"Audio Settings",icon:(0,ie.jsx)(W.A,{}),description:"Manage your audio devices and microphone settings",onClick:()=>de(!0),isSetting:!0},{title:"Security & Authentication",icon:(0,ie.jsx)(N.A,{}),path:"/security",description:"Learn about our authentication flow and security features",isSetting:!0},{title:"Account Management",icon:(0,ie.jsx)(E.A,{}),path:"/account-management",description:"Manage your account settings, profile, and messaging preferences",isSetting:!0},{title:"About The Founder",icon:(0,ie.jsx)(H.A,{}),path:"/about-founder",description:"Learn about Enoch Asekomhe, the founder and developer of SideEye",isSetting:!0},{title:"View Source Code",icon:(0,ie.jsx)(q.A,{}),description:"View your unique source code for new devices",onClick:async()=>{if(P)try{const e=(0,$.H9)(J.db,"users",P.uid),i=await(0,$.x7)(e);if(i.exists()){i.data().sourceCodeHash?ye(!0):(ve(!0),X.oR.error("You need to set up your source code first"))}else X.oR.error("User data not found.")}catch(le){console.error("Error checking source code:",le),X.oR.error("Failed to check source code status")}},isSetting:!0},{title:"Report an Issue",icon:(0,ie.jsx)(U.A,{}),path:"/report",description:"Report a bug, user, or other problem",isHelp:!0},{title:"Get Help via Sade AI",icon:(0,ie.jsx)(F.A,{}),description:"Chat with Sade AI for general help or assistance",onClick:()=>{Ve("/sade-ai?intent=help")},isHelp:!0},{title:"Safety & Community Guidelines",icon:(0,ie.jsx)(D.A,{}),path:"/safety",description:"Review our Side Room guidelines and community standards for chat and messaging",isHelp:!0},{title:"About SideEye",icon:(0,ie.jsx)(H.A,{}),path:"/about",description:"Learn more about SideEye and our mission",isHelp:!0},{title:"Privacy Policy",icon:(0,ie.jsx)(B.A,{}),path:"/privacy-policy",description:"Read our privacy policy and data handling practices",isHelp:!0},{title:"Terms of Service",icon:(0,ie.jsx)(B.A,{}),path:"/terms",description:"Review our terms of service",isHelp:!0},{title:"Cookie Policy",icon:(0,ie.jsx)(M.A,{}),path:"/cookies",description:"Learn about how we use cookies",isHelp:!0},{title:"About Sade AI",icon:(0,ie.jsx)(H.A,{}),path:"/sade-ai-info",description:"Learn about Sade AI, her features and capabilities",isHelp:!0},{title:"Chat with Sade AI",icon:(0,ie.jsx)(z.A,{}),path:"/sade-ai",description:"Have a conversation with our AI assistant",isHelp:!0}];return(0,o.useEffect)((()=>{if(P){const e=(0,$.H9)(J.db,"users",P.uid),i=(0,$.aQ)(e,(e=>{if(e.exists()){const i=e.data();he(i.isPrivate||!1),i.emailPreferences&&Ue({sideRoomNotifications:!1!==i.emailPreferences.sideRoomNotifications,messageNotifications:!1!==i.emailPreferences.messageNotifications,followNotifications:!1!==i.emailPreferences.followNotifications}),Ae((e=>{var s,o,r;return(0,t.A)((0,t.A)({},e),{},{followers:(null===(s=i.followers)||void 0===s?void 0:s.length)||0,following:(null===(o=i.following)||void 0===o?void 0:o.length)||0,sideRooms:(null===(r=i.sideRooms)||void 0===r?void 0:r.length)||0})}))}})),s=(0,$.P)((0,$.rJ)(J.db,"users/".concat(P.uid,"/followRequests")),(0,$.My)("timestamp","desc")),o=(0,$.aQ)(s,(e=>{const i=e.docs.map((e=>{const i=e.data();return{id:e.id,userId:i.userId||e.id,username:i.username||(i.userId?"User_".concat(i.userId.substring(0,5)):"User_".concat(e.id.substring(0,5))),timestamp:i.timestamp}}));me(i),Ae((e=>(0,t.A)((0,t.A)({},e),{},{pendingRequests:i.length})))}),(e=>{console.error("Error fetching follow requests:",e)}));return()=>{i(),o()}}}),[P]),(0,o.useEffect)((()=>{if(!pe.length)return void De([]);(async()=>{const e=await Promise.all(pe.map((async e=>{try{const i=e.userId||e.id,s=(0,$.H9)(J.db,"users",i),t=await(0,$.x7)(s);if(t.exists()){const s=t.data();return{id:e.id,userId:i,username:s.username||e.username,name:s.name,profilePic:s.profilePic,timestamp:e.timestamp}}return{id:e.id,userId:i,username:e.username,timestamp:e.timestamp}}catch(le){return console.error("Error fetching user profile for ".concat(e.userId,":"),le),{id:e.id,userId:e.userId||e.id,username:e.username,timestamp:e.timestamp}}})));De(e)})()}),[pe,J.db]),(0,ie.jsxs)(A.A,{maxWidth:"md",sx:{py:4},children:[(0,ie.jsxs)(r.A,{sx:{mb:4},children:[(0,ie.jsx)(n.A,{variant:"h4",sx:{mb:2,fontWeight:"bold"},children:"Settings"}),le&&(0,ie.jsx)(g.A,{severity:"error",sx:{mb:2},children:le}),(0,ie.jsx)(y.A,{elevation:0,sx:{borderRadius:2,border:"1px solid ".concat(e.palette.divider)},children:(0,ie.jsx)(d.A,{disablePadding:!0,children:Te.filter((e=>e.isSetting)).map(((e,i,s)=>(0,ie.jsxs)(o.Fragment,{children:[(0,ie.jsxs)(j.A,{component:e.path?Z.N_:"div",to:e.path,onClick:e.onClick,sx:{py:1.5,px:2},children:[(0,ie.jsx)(v.A,{sx:{minWidth:40},children:e.icon}),(0,ie.jsx)(p.A,{primary:e.title,secondary:e.description,primaryTypographyProps:{fontWeight:500}})]}),i<s.length-1&&(0,ie.jsx)(b.A,{})]},e.title)))})})]}),(0,ie.jsxs)(r.A,{sx:{mb:4},children:[(0,ie.jsx)(n.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Privacy"}),(0,ie.jsxs)(y.A,{elevation:0,sx:{p:2,borderRadius:2,border:"1px solid ".concat(e.palette.divider)},children:[(0,ie.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,ie.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[xe?(0,ie.jsx)(L.A,{color:"action"}):(0,ie.jsx)(V.A,{color:"action"}),(0,ie.jsxs)(r.A,{children:[(0,ie.jsx)(n.A,{variant:"body1",sx:{fontWeight:500},children:"Private Account"}),(0,ie.jsx)(n.A,{variant:"caption",color:"text.secondary",children:xe?"Only approved followers can join your Side Rooms.":"Anyone can join your Side Rooms."})]})]}),(0,ie.jsx)(w.A,{checked:xe,onChange:async()=>{if(null===P||void 0===P||!P.uid)return;const e=!xe;try{const i=(0,$.H9)(J.db,"users",P.uid);if(await(0,$.mZ)(i,{isPrivate:e,updatedAt:(0,$.O5)()}),he(e),X.oR.success("Account set to ".concat(e?"Private":"Public")),!e&&pe.length>0){X.oR.loading("Accepting pending requests...",{id:"accepting-requests"});const e=pe.map((e=>_e(e.id,e.userId,!0)));await Promise.all(e),X.oR.dismiss("accepting-requests"),X.oR.success("All pending requests accepted.")}}catch(le){console.error("Error updating privacy settings:",le),X.oR.error("Failed to update privacy settings"),he(!e)}},color:"primary"})]}),(0,ie.jsx)(b.A,{sx:{my:2}}),(0,ie.jsxs)(r.A,{sx:{display:"flex",flexWrap:"wrap",gap:3},children:[(0,ie.jsxs)(r.A,{children:[(0,ie.jsx)(n.A,{variant:"caption",color:"text.secondary",display:"block",children:"Followers"}),(0,ie.jsx)(n.A,{variant:"body1",sx:{fontWeight:500},children:fe.followers})]}),(0,ie.jsxs)(r.A,{children:[(0,ie.jsx)(n.A,{variant:"caption",color:"text.secondary",display:"block",children:"Following"}),(0,ie.jsx)(n.A,{variant:"body1",sx:{fontWeight:500},children:fe.following})]}),xe&&(0,ie.jsxs)(r.A,{children:[(0,ie.jsx)(n.A,{variant:"caption",color:"text.secondary",display:"block",children:"Pending Requests"}),(0,ie.jsx)(n.A,{variant:"body1",sx:{fontWeight:500},children:fe.pendingRequests})]})]}),(0,ie.jsxs)(r.A,{sx:{mt:3},children:[(0,ie.jsx)(n.A,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:500},children:"Blocked Users"}),(0,ie.jsx)(te,{})]}),xe&&pe.length>0&&(0,ie.jsxs)(r.A,{sx:{mt:3},children:[(0,ie.jsx)(n.A,{variant:"h6",gutterBottom:!0,children:"Follow Requests"}),(0,ie.jsxs)(d.A,{children:[Fe.map((e=>{var i,s,t;return(0,ie.jsxs)(l.Ay,{secondaryAction:(0,ie.jsxs)(r.A,{sx:{display:"flex",gap:.5},children:[(0,ie.jsx)(S.A,{size:"small",color:"success",onClick:()=>_e(e.id,e.userId||e.id,!0),title:"Accept",disabled:ze===e.id,children:(0,ie.jsx)(_.A,{fontSize:"small"})}),(0,ie.jsx)(S.A,{size:"small",color:"error",onClick:()=>_e(e.id,e.userId||e.id,!1),title:"Decline",disabled:ze===e.id,children:(0,ie.jsx)(O.A,{fontSize:"small"})})]}),sx:{mb:1},children:[(0,ie.jsx)(x.A,{children:ze===e.id?(0,ie.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:40,height:40},children:(0,ie.jsx)(c.A,{size:24})}):(0,ie.jsx)(h.A,{src:e.profilePic,sx:{width:40,height:40},children:e.username||e.name?null===(i=(e.username||e.name||"")[0])||void 0===i?void 0:i.toUpperCase():(null===(s=(e.id||"")[0])||void 0===s?void 0:s.toUpperCase())||"?"})}),(0,ie.jsx)(p.A,{primary:(0,ie.jsxs)(r.A,{sx:{display:"flex",flexDirection:"column"},children:[e.name&&(0,ie.jsx)(n.A,{variant:"subtitle1",sx:{fontWeight:500},children:e.name}),(0,ie.jsx)(n.A,{variant:"body2",color:e.name?"text.secondary":"text.primary",children:e.username?"@".concat(e.username):"User ".concat(e.id.substring(0,5))})]}),secondary:e.timestamp?"Requested on ".concat(new Date(null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toLocaleDateString()):"Recently"})]},e.id)})),0===Fe.length&&pe.length>0&&(0,ie.jsx)(r.A,{sx:{py:2,display:"flex",justifyContent:"center"},children:(0,ie.jsx)(c.A,{size:30})})]})]})]})]}),(0,ie.jsxs)(r.A,{sx:{mb:4},children:[(0,ie.jsx)(n.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Email Notifications"}),(0,ie.jsx)(y.A,{elevation:0,sx:{p:2,borderRadius:2,border:"1px solid ".concat(e.palette.divider)},children:(0,ie.jsxs)(r.A,{sx:{mb:2},children:[(0,ie.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,ie.jsxs)(r.A,{children:[(0,ie.jsx)(n.A,{variant:"body1",sx:{fontWeight:500},children:"Side Room Notifications"}),(0,ie.jsx)(n.A,{variant:"caption",color:"text.secondary",children:"Receive emails when users you follow create or join Side Rooms"})]}),(0,ie.jsx)(w.A,{checked:qe.sideRoomNotifications,onChange:()=>Ye("sideRoomNotifications"),color:"primary"})]}),(0,ie.jsx)(b.A,{sx:{my:2}}),(0,ie.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,ie.jsxs)(r.A,{children:[(0,ie.jsx)(n.A,{variant:"body1",sx:{fontWeight:500},children:"Message Notifications"}),(0,ie.jsx)(n.A,{variant:"caption",color:"text.secondary",children:"Receive emails for new direct messages"})]}),(0,ie.jsx)(w.A,{checked:qe.messageNotifications,onChange:()=>Ye("messageNotifications"),color:"primary"})]}),(0,ie.jsx)(b.A,{sx:{my:2}}),(0,ie.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ie.jsxs)(r.A,{children:[(0,ie.jsx)(n.A,{variant:"body1",sx:{fontWeight:500},children:"Follow Notifications"}),(0,ie.jsx)(n.A,{variant:"caption",color:"text.secondary",children:"Receive emails when someone follows you"})]}),(0,ie.jsx)(w.A,{checked:qe.followNotifications,onChange:()=>Ye("followNotifications"),color:"primary"})]})]})})]}),(0,ie.jsxs)(r.A,{sx:{mb:4},children:[(0,ie.jsx)(n.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Frequently Asked Questions"}),(0,ie.jsx)(y.A,{elevation:0,sx:{p:3,borderRadius:2,border:"1px solid ".concat(e.palette.divider)},children:(0,ie.jsxs)(r.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",py:2},children:[(0,ie.jsx)(Y.A,{sx:{fontSize:48,color:"primary.main",mb:2}}),(0,ie.jsx)(n.A,{variant:"h6",gutterBottom:!0,children:"Need help with Source Codes or Security?"}),(0,ie.jsx)(n.A,{variant:"body2",color:"text.secondary",sx:{mb:3,maxWidth:500},children:"Visit our FAQ page to learn about source codes, security features, and get answers to commonly asked questions."}),(0,ie.jsx)(u.A,{variant:"contained",component:Z.N_,to:"/faq",startIcon:(0,ie.jsx)(H.A,{}),sx:{minWidth:200},children:"Visit FAQ Page"})]})})]}),(0,ie.jsxs)(r.A,{sx:{mb:4},children:[(0,ie.jsx)(n.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Sade AI Assistant"}),(0,ie.jsx)(y.A,{elevation:0,sx:{p:3,borderRadius:2,border:"1px solid ".concat(e.palette.divider)},children:(0,ie.jsxs)(r.A,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:3,alignItems:"center"},children:[(0,ie.jsx)(h.A,{src:"/images/sade-avatar.jpg",alt:"Sade AI",sx:{width:80,height:80}}),(0,ie.jsxs)(r.A,{sx:{flex:1},children:[(0,ie.jsx)(n.A,{variant:"h6",gutterBottom:!0,children:"Systematic AI for Detection and Engagement"}),(0,ie.jsx)(n.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:'Sade (pronounced "SHA-DEY") is your AI companion with a British-Nigerian personality. She can answer questions, search the web, play games, and help you navigate the SideEye app.'}),(0,ie.jsxs)(r.A,{sx:{display:"flex",gap:2,mt:1},children:[(0,ie.jsx)(u.A,{variant:"contained",size:"small",component:Z.N_,to:"/sade-ai",startIcon:(0,ie.jsx)(z.A,{}),children:"Chat with Sade"}),(0,ie.jsx)(u.A,{variant:"outlined",size:"small",component:Z.N_,to:"/sade-ai-info",startIcon:(0,ie.jsx)(H.A,{}),children:"Learn More"})]})]})]})})]}),(0,ie.jsxs)(r.A,{sx:{mb:4},children:[(0,ie.jsx)(n.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Help & Support"}),(0,ie.jsx)(y.A,{elevation:0,sx:{borderRadius:2,border:"1px solid ".concat(e.palette.divider)},children:(0,ie.jsx)(d.A,{disablePadding:!0,children:Te.filter((e=>e.isHelp)).map(((e,i,s)=>(0,ie.jsxs)(o.Fragment,{children:[(0,ie.jsxs)(j.A,{component:e.path?Z.N_:"div",to:e.path,onClick:e.onClick,sx:{py:1.5,px:2},children:[(0,ie.jsx)(v.A,{sx:{minWidth:40},children:e.icon}),(0,ie.jsx)(p.A,{primary:e.title,secondary:e.description,primaryTypographyProps:{fontWeight:500}})]}),i<s.length-1&&(0,ie.jsx)(b.A,{})]},e.title)))})})]}),(0,ie.jsxs)(R.A,{open:ce,onClose:()=>de(!1),maxWidth:"xs",fullWidth:!0,children:[(0,ie.jsx)(C.A,{children:"Audio Settings"}),(0,ie.jsxs)(k.A,{children:[(0,ie.jsxs)(l.Ay,{disablePadding:!0,children:[(0,ie.jsx)(v.A,{sx:{minWidth:40},children:(0,ie.jsx)(T.A,{})}),(0,ie.jsx)(p.A,{primary:"Dark Mode"}),(0,ie.jsx)(w.A,{checked:i,onChange:s,color:"primary",edge:"end"})]}),(0,ie.jsx)(b.A,{sx:{my:2}}),(0,ie.jsx)(se,{})]}),(0,ie.jsx)(I.A,{children:(0,ie.jsx)(u.A,{onClick:()=>de(!1),children:"Close"})})]}),(0,ie.jsxs)(R.A,{open:je,onClose:()=>ve(!1),maxWidth:"xs",fullWidth:!0,children:[(0,ie.jsx)(C.A,{children:"Create Verification Code"}),(0,ie.jsxs)(k.A,{children:[(0,ie.jsx)(n.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Create a numeric code (4-8 digits) to verify your identity when viewing sensitive information like your registration code."}),(0,ie.jsx)(a.A,{label:"New Verification Code",value:Se,onChange:e=>Re(e.target.value.replace(/[^0-9]/g,"")),fullWidth:!0,margin:"normal",type:"password",inputProps:{maxLength:8,inputMode:"numeric",pattern:"[0-9]*",minLength:4},autoFocus:!0})]}),(0,ie.jsxs)(I.A,{children:[(0,ie.jsx)(u.A,{onClick:()=>ve(!1),children:"Cancel"}),(0,ie.jsx)(u.A,{onClick:async()=>{if(!P||!Se||Se.length<4)X.oR.error("Verification code must be at least 4 digits.");else if(/^\d+$/.test(Se))try{const e=(0,$.H9)(J.db,"users",P.uid);await(0,$.mZ)(e,{verificationCode:Se,updatedAt:(0,$.O5)()}),Re(""),ve(!1),X.oR.success("Verification code created successfully. You can now view your Registration Code.")}catch(le){console.error("Error creating verification code:",le),X.oR.error("Failed to create verification code")}else X.oR.error("Verification code must contain only digits.")},variant:"contained",disabled:Se.length<4,children:"Create"})]})]}),(0,ie.jsxs)(R.A,{open:ge,onClose:()=>ye(!1),maxWidth:"xs",fullWidth:!0,children:[(0,ie.jsx)(C.A,{children:"Enter Your Source Code"}),(0,ie.jsxs)(k.A,{children:[(0,ie.jsx)(n.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"To view your registration code, please enter your source code for verification."}),(0,ie.jsx)(a.A,{label:"Source Code",value:be,onChange:e=>we(e.target.value.replace(/[^0-9]/g,"")),fullWidth:!0,margin:"normal",type:"password",inputProps:{maxLength:8,inputMode:"numeric",pattern:"[0-9]*"},autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&Oe()}})]}),(0,ie.jsxs)(I.A,{children:[(0,ie.jsx)(u.A,{onClick:()=>ye(!1),children:"Cancel"}),(0,ie.jsx)(u.A,{onClick:Oe,variant:"contained",disabled:!be,children:"Verify"})]})]}),(0,ie.jsxs)(R.A,{open:Ie,onClose:()=>Pe(!1),maxWidth:"sm",fullWidth:!0,children:[(0,ie.jsx)(C.A,{children:"Your Source Code"}),(0,ie.jsxs)(k.A,{children:[(0,ie.jsx)(g.A,{severity:"warning",icon:(0,ie.jsx)(H.A,{}),sx:{mb:2},children:"Keep this code safe and private. You'll need it to log in on new devices. Do not share it."}),(0,ie.jsx)(n.A,{variant:"body2",gutterBottom:!0,children:"Source Code:"}),(0,ie.jsx)(y.A,{elevation:0,sx:{p:2,bgcolor:"action.hover",borderRadius:1},children:(0,ie.jsx)(n.A,{sx:{fontFamily:"monospace",wordBreak:"break-all",fontSize:"1.1rem",textAlign:"center"},children:We||"No source code found."})})]}),(0,ie.jsxs)(I.A,{children:[(0,ie.jsx)(u.A,{onClick:()=>Pe(!1),children:"Close"}),(0,ie.jsx)(u.A,{onClick:()=>{navigator.clipboard.writeText(We),X.oR.success("Source code copied!")},disabled:!We,children:"Copy Code"})]})]})]})}}}]);