"use strict";(self.webpackChunkside_eye=self.webpackChunkside_eye||[]).push([[990],{1227:(e,i,r)=>{r.d(i,{A:()=>a});var s=r(3235),t=r(4414);const a=(0,s.A)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},4990:(e,i,r)=>{r.r(i),r.d(i,{default:()=>U});var s=r(9950),t=r(9808),a=r(2235),n=r(2053),o=r(3174),c=r(6491),l=r(4745),d=r(3230),u=r(5277),x=r(6497),h=r(7324),y=r(249),m=r(6050),A=r(4195),p=r(3563),j=r(6868),v=r(6986),f=r(5546),g=r(3553),b=r(1227),w=r(3235),S=r(4414);const V=(0,w.A)((0,S.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),C=(0,w.A)((0,S.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login");var P=r(6164),z=r(7526);const E=(0,w.A)((0,S.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");var W=r(9299),k=r(1367),L=r(330),M=r(6220),B=r(5887);const U=()=>{const{currentUser:e,userProfile:i}=(0,k.As)(),{canViewProfile:r,canViewContent:w}=(0,k.Km)(),[U,D]=(0,s.useState)(!1),[I,N]=(0,s.useState)({emailVerified:!1,deviceVerified:!1,lastSecurityUpdate:null});(0,s.useEffect)((()=>{if(null===e||void 0===e||!e.uid)return;const i=(0,M.H9)(L.db,"users",e.uid),r=(0,M.aQ)(i,(i=>{if(i.exists()){const r=i.data();D(r.isPrivate||!1),N({emailVerified:e.emailVerified||!1,deviceVerified:r.sourceCodeSetupComplete||!1,lastSecurityUpdate:r.lastSecurityUpdate||null})}}));return()=>r()}),[null===e||void 0===e?void 0:e.uid,null===e||void 0===e?void 0:e.emailVerified]);return(0,S.jsx)(t.A,{maxWidth:"md",sx:{py:4},children:(0,S.jsxs)(a.A,{elevation:3,sx:{p:4},children:[(0,S.jsxs)(n.A,{variant:"h4",component:"h1",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,S.jsx)(g.A,{color:"primary"})," Security & Authentication"]}),(0,S.jsx)(o.A,{severity:"info",sx:{mt:2,mb:4},children:"SideEye takes your security and privacy seriously. Our multi-layer authentication system helps protect your account and data from unauthorized access."}),(0,S.jsxs)(c.A,{sx:{mb:4},children:[(0,S.jsx)(n.A,{variant:"h5",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"medium"},children:"Security Status"}),(0,S.jsx)(l.A,{sx:{mb:3}}),(0,S.jsxs)(d.A,{direction:"row",spacing:2,sx:{mb:3},children:[(0,S.jsx)(u.A,{icon:I.emailVerified?(0,S.jsx)(b.A,{}):(0,S.jsx)(V,{}),label:I.emailVerified?"Email Verified":"Email Not Verified",color:I.emailVerified?"success":"error",variant:"outlined"}),(0,S.jsx)(u.A,{icon:I.deviceVerified?(0,S.jsx)(b.A,{}):(0,S.jsx)(V,{}),label:I.deviceVerified?"Device Verified":"Device Not Verified",color:I.deviceVerified?"success":"error",variant:"outlined"})]})]}),(0,S.jsxs)(c.A,{sx:{mb:4},children:[(0,S.jsx)(n.A,{variant:"h5",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"medium"},children:"Account Privacy"}),(0,S.jsx)(l.A,{sx:{mb:3}}),(0,S.jsxs)(a.A,{elevation:1,sx:{p:3},children:[(0,S.jsx)(x.A,{control:(0,S.jsx)(h.A,{checked:U,onChange:async()=>{if(null!==e&&void 0!==e&&e.uid)try{await(0,M.mZ)((0,M.H9)(L.db,"users",e.uid),{isPrivate:!U,lastSecurityUpdate:(0,M.O5)()}),B.oR.success("Account is now ".concat(U?"public":"private"))}catch(i){console.error("Error updating privacy settings:",i),B.oR.error("Failed to update privacy settings")}},color:"primary"}),label:(0,S.jsxs)(c.A,{children:[(0,S.jsx)(n.A,{variant:"subtitle1",children:"Private Account"}),(0,S.jsx)(n.A,{variant:"body2",color:"text.secondary",children:U?"Only approved followers can see your content":"Anyone can see your content"})]})}),(0,S.jsx)(o.A,{severity:"info",sx:{mt:2},children:U?"When your account is private, only approved followers can see your content. New followers must send a follow request.":"When your account is public, anyone can see your content and follow you without approval."})]})]}),(0,S.jsxs)(c.A,{sx:{mb:4},children:[(0,S.jsx)(n.A,{variant:"h5",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"medium"},children:"Authentication Flow"}),(0,S.jsx)(l.A,{sx:{mb:3}}),(0,S.jsxs)(y.A,{children:[(0,S.jsxs)(m.Ay,{children:[(0,S.jsx)(A.A,{children:(0,S.jsx)(C,{color:"primary"})}),(0,S.jsx)(p.A,{primary:"Step 1: Email & Password Authentication",secondary:"First, you log in with your email and password. This provides the initial layer of account security."})]}),(0,S.jsxs)(m.Ay,{children:[(0,S.jsx)(A.A,{children:(0,S.jsx)(P.A,{color:"primary"})}),(0,S.jsx)(p.A,{primary:"Step 2: Email Verification",secondary:"New accounts must verify their email address before gaining full access to all features."})]}),(0,S.jsxs)(m.Ay,{children:[(0,S.jsx)(A.A,{children:(0,S.jsx)(z.A,{color:"primary"})}),(0,S.jsx)(p.A,{primary:"Step 3: Source Code Authentication",secondary:"When logging in from a new device, you must enter your 8-digit source code as an additional security measure."})]})]})]}),(0,S.jsxs)(j.A,{children:[(0,S.jsx)(v.A,{expandIcon:(0,S.jsx)(E,{}),children:(0,S.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,S.jsx)(W.A,{fontSize:"small"})," Browser Privacy Settings"]})}),(0,S.jsxs)(f.A,{children:[(0,S.jsx)(n.A,{variant:"body2",paragraph:!0,children:"Some browsers have strict privacy settings that can affect device registration:"}),(0,S.jsxs)(y.A,{dense:!0,children:[(0,S.jsx)(m.Ay,{children:(0,S.jsx)(p.A,{primary:"\u2022 Safari users may need to enable website data storage",secondary:"Safari > Preferences > Privacy > Website Data"})}),(0,S.jsx)(m.Ay,{children:(0,S.jsx)(p.A,{primary:"\u2022 Private/Incognito browsing may require re-authentication",secondary:"Devices won't be persistently registered in private browsing modes"})}),(0,S.jsx)(m.Ay,{children:(0,S.jsx)(p.A,{primary:"\u2022 Clearing browser data will remove device registration",secondary:"You'll need to re-authenticate with your Source Code"})})]})]})]})]})})}},7526:(e,i,r)=>{r.d(i,{A:()=>a});var s=r(3235),t=r(4414);const a=(0,s.A)((0,t.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code")}}]);