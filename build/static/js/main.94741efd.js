/*! For license information please see main.94741efd.js.LICENSE.txt */
(()=>{var e={86:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},116:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>A.A,StyledEngineProvider:()=>x,ThemeContext:()=>o.T,css:()=>v.AH,default:()=>S,internal_processStyles:()=>_,keyframes:()=>v.i7});var r=n(8168),o=n(7370),i=n(9015),s=n(6477),a=n(1783),l=n(9950),c=n(7923),u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d=(0,c.A)((function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),h=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:h},f=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,a.SF)(t,n,r),(0,s.s)((function(){return(0,a.sk)(t,n,r)})),null},g=function e(t,n){var s,c,u=t.__emotion_real===t,d=u&&t.__emotion_base||t;void 0!==n&&(s=n.label,c=n.target);var h=f(t,n,u),g=h||p(d),v=!g("as");return function(){var y=arguments,b=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==s&&b.push("label:"+s+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{var w=y[0];b.push(w[0]);for(var x=y.length,A=1;A<x;A++)b.push(y[A],w[A])}var S=(0,o.w)((function(e,t,n){var r=v&&e.as||d,s="",u=[],f=e;if(null==e.theme){for(var y in f={},e)f[y]=e[y];f.theme=l.useContext(o.T)}"string"===typeof e.className?s=(0,a.Rk)(t.registered,u,e.className):null!=e.className&&(s=e.className+" ");var w=(0,i.J)(b.concat(u),t.registered,f);s+=t.key+"-"+w.name,void 0!==c&&(s+=" "+c);var x=v&&void 0===h?p(r):g,A={};for(var S in e)v&&"as"===S||x(S)&&(A[S]=e[S]);return A.className=s,n&&(A.ref=n),l.createElement(l.Fragment,null,l.createElement(m,{cache:t,serialized:w,isStringTag:"string"===typeof r}),l.createElement(r,A))}));return S.displayName=void 0!==s?s:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=b,S.__emotion_forwardProp=h,Object.defineProperty(S,"toString",{value:function(){return"."+c}}),S.withComponent=function(t,o){return e(t,(0,r.A)({},n,o,{shouldForwardProp:f(S,o,!0)})).apply(void 0,b)},S}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){g[e]=g(e)}));var v=n(8283),y=n(8603),b=n(4414);let w;function x(e){const{injectFirst:t,children:n}=e;return t&&w?(0,b.jsx)(o.C,{value:w,children:n}):n}"object"===typeof document&&(w=(0,y.A)({key:"css",prepend:!0}));var A=n(3158);function S(e,t){return g(e,t)}const _=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},195:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(4436).A)()},237:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(8587),i=n(7483),s=n(8076);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,n=(0,o.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,i.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},304:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(5501)},423:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i});var r=n(4501);const o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i=o[t];return i?`${n}-${i}`:`${r.A.generate(e)}-${t}`}},505:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(5501),o=n(6206),i=n(2703),s=n(8286),a=n(8076);function l(){function e(e,t,n,o){const a={[e]:t,theme:n},l=o[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,i.Yn)(n,u)||{};if(h)return h(a);return(0,s.NI)(a,t,(t=>{let n=(0,i.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,i.BO)(p,d,`${e}${"default"===t?"":(0,r.A)(t)}`,t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:i,theme:l={}}=n||{};if(!i)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.A;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const i=(0,s.EU)(l.breakpoints),a=Object.keys(i);let u=i;return Object.keys(r).forEach((n=>{const i=(a=r[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==i&&void 0!==i)if("object"===typeof i)if(c[n])u=(0,o.A)(u,e(n,i,l,c));else{const e=(0,s.NI)({theme:l},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),o=new Set(r);return t.every((e=>o.size===Object.keys(e).length))}(e,i)?u=(0,o.A)(u,e):u[n]=t({sx:i,theme:l})}else u=(0,o.A)(u,e(n,i,l,c))})),(0,s.vf)(a,u)}return Array.isArray(i)?i.map(u):u(i)}}const c=l();c.filterProps=["sx"];const u=c},630:(e,t,n)=>{"use strict";e.exports=n(2138)},827:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(8635).A},1014:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3539).A},1209:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1927).A},1352:(e,t,n)=>{"use strict";var r=n(7119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},1399:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9950);const o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},1506:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5393).A},1676:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5501).A},1761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,D(A);else{var t=r(u);null!==t&&N(x,t.startTime-e)}}function A(e,n){m=!1,g&&(g=!1,y(k),k=-1),f=!0;var i=p;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&o(c),w(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&N(x,d.startTime-n),l=!1}return l}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,C=null,k=-1,T=5,E=-1;function I(){return!(t.unstable_now()-E<T)}function P(){if(null!==C){var e=t.unstable_now();E=e;var n=!0;try{n=C(!0,e)}finally{n?S():(_=!1,C=null)}}else _=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,j=R.port2;R.port1.onmessage=P,S=function(){j.postMessage(null)}}else S=function(){v(P,0)};function D(e){C=e,_||(_=!0,S())}function N(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,D(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,N(x,i-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,D(A))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},1763:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(423);function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o={};return t.forEach((t=>{o[t]=(0,r.Ay)(e,t,n)})),o}},1783:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>o,sk:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},1824:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,A:()=>a});var r=n(9950);const o={};const i=[];class s{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new s}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function a(){const e=function(e,t){const n=r.useRef(o);return n.current===o&&(n.current=e(t)),n}(s.create).current;var t;return t=e.disposeEffect,r.useEffect(t,i),e}},1927:(e,t,n)=>{"use strict";function r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((()=>{e.apply(this,o)}),n)}return r.clear=()=>{clearTimeout(t)},r}n.d(t,{A:()=>r})},1942:(e,t,n)=>{e.exports=n(3488)()},1960:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},1976:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(2529).A},2004:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}n.d(t,{A:()=>o});const o=function(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}},2049:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,A=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)A.call(t,o)&&!_.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+E(l,0):i,x(s)?(o="",null!=e&&(o=e.replace(T,"$&/")+"/"),I(s,t,o,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+E(a=e[c],c);l+=I(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,o,u=i+E(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],o=0;return I(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},D={transition:null},N={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)A.call(t,c)&&!_.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},2138:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case o:return t}}}function A(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return A(e)||x(e)===u},t.isConcurrentMode=A,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===a},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x},2529:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9950),o=n(1399);const i=function(e){const t=r.useRef(e);return(0,o.A)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},2654:(e,t,n)=>{"use strict";var r=n(9950),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},2703:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>i});var r=n(5501),o=n(8286);function i(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:i(e,n)||o,t&&(r=t(r,o,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=i(e.theme,a)||{};return(0,o.NI)(e,c,(e=>{let o=s(u,l,e);return e===o&&"string"===typeof e&&(o=s(u,l,`${t}${"default"===e?"":(0,r.A)(e)}`,e)),!1===n?o:{[n]:o}}))};return c.propTypes={},c.filterProps=[t],c}},2860:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),o=n(8587),i=n(7483),s=n(3628);const a={borderRadius:4};var l=n(7937);var c=n(505),u=n(8076),d=n(86);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,m=(0,o.A)(e,h),g=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}(p);let y=(0,i.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},a,f)},m);y.applyStyles=d.A;for(var b=arguments.length,w=new Array(b>1?b-1:0),x=1;x<b;x++)w[x-1]=arguments[x];return y=w.reduce(((e,t)=>(0,i.A)(e,t)),y),y.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},2937:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(9950),o=n(1824);let i=!0,s=!1;const a=new o.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function u(){i=!1}function d(){"hidden"===this.visibilityState&&s&&(i=!0)}function h(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return i||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const p=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",d,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!h(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(s=!0,a.start(100,(()=>{s=!1})),t.current=!1,!0)},ref:e}}},3158:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(9950);var r=n(8283),o=n(4414);function i(e){const{styles:t,defaultTheme:n={}}=e,i="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,o.jsx)(r.mL,{styles:i})}},3235:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(8168),o=n(9950),i=n(8587),s=n(2004),a=n(8465),l=n(1676),c=n(8463),u=n(9254),d=n(1763),h=n(423);function p(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=n(4414);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,u.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,l.A)(n.color)}`],t[`fontSize${(0,l.A)(n.fontSize)}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r,o,i,s,a,l,c,u,d,h,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(o=r.create)?void 0:o.call(r,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),v=o.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiSvgIcon"}),{children:u,className:d,color:h="inherit",component:v="svg",fontSize:y="medium",htmlColor:b,inheritViewBox:w=!1,titleAccess:x,viewBox:A="0 0 24 24"}=n,S=(0,i.A)(n,m),_=o.isValidElement(u)&&"svg"===u.type,C=(0,r.A)({},n,{color:h,component:v,fontSize:y,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:A,hasSvgAsChild:_}),k={};w||(k.viewBox=A);const T=(e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root","inherit"!==t&&`color${(0,l.A)(t)}`,`fontSize${(0,l.A)(n)}`]};return(0,a.A)(o,p,r)})(C);return(0,f.jsxs)(g,(0,r.A)({as:v,className:(0,s.A)(T.root,d),focusable:"false",color:b,"aria-hidden":!x||void 0,role:x?"img":void 0,ref:t},k,S,_&&u.props,{ownerState:C,children:[_?u.props.children:u,x?(0,f.jsx)("title",{children:x}):null]}))}));v.muiName="SvgIcon";const y=v;function b(e,t){function n(n,o){return(0,f.jsx)(y,(0,r.A)({"data-testid":`${t}Icon`,ref:o},n,{children:e}))}return n.muiName=y.muiName,o.memo(o.forwardRef(n))}},3488:(e,t,n)=>{"use strict";var r=n(3959);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},3539:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>a});var o=n(9950);let i=0;const s=(r||(r=n.t(o,2)))["useId".toString()];function a(e){if(void 0!==s){const t=s();return null!=e?e:t}return function(e){const[t,n]=o.useState(e),r=e||t;return o.useEffect((()=>{null==t&&(i+=1,n(`mui-${i}`))}),[t]),r}(e)}},3628:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),o=n(8168);const i=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,o.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,i),c=s(t),u=Object.keys(c);function d(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function h(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-a/100}${n})`}function p(e,r){const o=u.indexOf(r);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"===typeof t[u[o]]?t[u[o]]:r)-a/100}${n})`}return(0,o.A)({keys:u,values:c,up:d,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},3828:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9950);const o=function(e,t){var n,o;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)}},3876:(e,t,n)=>{"use strict";var r=n(630),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},3931:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9950);function o(e){let{controlled:t,default:n,name:o,state:i="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[s?t:a,r.useCallback((e=>{s||l(e)}),[])]}},3959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4414:(e,t,n)=>{"use strict";e.exports=n(2654)},4436:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var r=n(8168),o=n(8587),i=n(8099),s=n(7483),a=n(8076),l=n(505),c=n(2860);var u=n(9269);const d={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},x={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function A(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,u.a)(e.main,o):"dark"===t&&(e.dark=(0,u.e$)(e.main,i)))}function S(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2}=e,l=(0,o.A)(e,b),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(t),S=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[200],light:p[50],dark:p[400]}:{main:p[500],light:p[300],dark:p[700]}}(t),_=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[500],light:f[300],dark:f[700]}:{main:f[700],light:f[400],dark:f[800]}}(t),C=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(t),k=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(t),T=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function E(e){return(0,u.eM)(e,x.text.primary)>=n?x.text.primary:w.text.primary}const I=e=>{let{color:t,name:n,mainShade:o=500,lightShade:s=300,darkShade:l=700}=e;if(t=(0,r.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,i.A)(11,n?` (${n})`:"",o));if("string"!==typeof t.main)throw new Error((0,i.A)(12,n?` (${n})`:"",JSON.stringify(t.main)));return A(t,"light",s,a),A(t,"dark",l,a),t.contrastText||(t.contrastText=E(t.main)),t},P={dark:x,light:w};return(0,s.A)((0,r.A)({common:(0,r.A)({},d),mode:t,primary:I({color:c,name:"primary"}),secondary:I({color:S,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:I({color:_,name:"error"}),warning:I({color:T,name:"warning"}),info:I({color:C,name:"info"}),success:I({color:k,name:"success"}),grey:h,contrastThreshold:n,getContrastText:E,augmentColor:I,tonalOffset:a},P[t]),l)}const _=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const C={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){const n="function"===typeof t?t(e):t,{fontFamily:i=k,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:p,pxToRem:f}=n,m=(0,o.A)(n,_);const g=a/14,v=f||(e=>e/h*g+"rem"),y=(e,t,n,o,s)=>{return(0,r.A)({fontFamily:i,fontWeight:e,fontSize:v(t),lineHeight:n},i===k?{letterSpacing:(a=o/t,Math.round(1e5*a)/1e5)+"em"}:{},s,p);var a},b={h1:y(l,96,1.167,-1.5),h2:y(l,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(u,14,1.75,.4,C),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,C),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,s.A)((0,r.A)({htmlFontSize:h,pxToRem:v,fontFamily:i,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},b),m,{clone:!1})}function E(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const I=["none",E(0,2,1,-1,0,1,1,0,0,1,3,0),E(0,3,1,-2,0,2,2,0,0,1,5,0),E(0,3,3,-2,0,3,4,0,0,1,8,0),E(0,2,4,-1,0,4,5,0,0,1,10,0),E(0,3,5,-1,0,5,8,0,0,1,14,0),E(0,3,5,-1,0,6,10,0,0,1,18,0),E(0,4,5,-2,0,7,10,1,0,2,16,1),E(0,5,5,-3,0,8,10,1,0,3,14,2),E(0,5,6,-3,0,9,12,1,0,3,16,2),E(0,6,6,-3,0,10,14,1,0,4,18,3),E(0,6,7,-4,0,11,15,1,0,4,20,3),E(0,7,8,-4,0,12,17,2,0,5,22,4),E(0,7,8,-4,0,13,19,2,0,5,24,4),E(0,7,9,-4,0,14,21,2,0,5,26,4),E(0,8,9,-5,0,15,22,2,0,6,28,5),E(0,8,10,-5,0,16,24,2,0,6,30,5),E(0,8,11,-5,0,17,26,2,0,6,32,5),E(0,9,11,-5,0,18,28,2,0,7,34,6),E(0,9,12,-6,0,19,29,2,0,7,36,6),E(0,10,13,-6,0,20,31,3,0,8,38,7),E(0,10,13,-6,0,21,33,3,0,8,40,7),E(0,10,14,-6,0,22,35,3,0,8,42,7),E(0,11,14,-7,0,23,36,3,0,9,44,8),E(0,11,15,-7,0,24,38,3,0,9,46,8)];var P=n(5361);const R={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},j=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:u={},typography:d={}}=e,h=(0,o.A)(e,j);if(e.vars&&void 0===e.generateCssVars)throw new Error((0,i.A)(18));const p=S(n),f=(0,c.A)(e);let m=(0,s.A)(f,{mixins:(g=f.breakpoints,v=t,(0,r.A)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},v)),palette:p,shadows:I.slice(),typography:T(p,d),transitions:(0,P.Ay)(u),zIndex:(0,r.A)({},R)});var g,v;m=(0,s.A)(m,h);for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];return m=b.reduce(((e,t)=>(0,s.A)(e,t)),m),m.unstable_sxConfig=(0,r.A)({},a.A,null==h?void 0:h.unstable_sxConfig),m.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},m}const N=D},4501:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const r=e=>e,o=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},o={p:r,P:function(e,t){var o,i=e.match(/(P+)(p+)?/)||[],s=i[1],a=i[2];if(!a)return n(e,t);switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",n(s,t)).replace("{{time}}",r(a,t))}};t.default=o,e.exports=t.default},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5329:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(9950)),o=n(116);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(o.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},5340:(e,t,n)=>{"use strict";e.exports=n(1761)},5361:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>u,p0:()=>a});var r=n(8587),o=n(8168);const i=["duration","easing","delay"],s={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l(e){return`${Math.round(e)}ms`}function c(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function u(e){const t=(0,o.A)({},s,e.easing),n=(0,o.A)({},a,e.duration);return(0,o.A)({getAutoHeightDuration:c,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:s=n.standard,easing:a=t.easeInOut,delay:c=0}=o;(0,r.A)(o,i);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof s?s:l(s)} ${a} ${"string"===typeof c?c:l(c)}`)).join(",")}},e,{easing:t,duration:n})}},5393:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9950),o=n(5587);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,o.A)(t,e)}))}),t)}},5501:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8099);function o(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},5511:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{A:()=>r})},5537:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8168);function o(e,t){const n=(0,r.A)({},t);return Object.keys(e).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=(0,r.A)({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const s=e[i]||{},a=t[i];n[i]={},a&&Object.keys(a)?s&&Object.keys(s)?(n[i]=(0,r.A)({},a),Object.keys(s).forEach((e=>{n[i][e]=o(s[e],a[e])}))):n[i]=a:n[i]=s}else void 0===n[i]&&(n[i]=e[i])})),n}},5587:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},6171:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,b:()=>a});var r=n(9950),o=n(5537),i=n(4414);const s=r.createContext(void 0);function a(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?(0,o.A)(i.defaultProps,r):i.styleOverrides||i.variants?r:(0,o.A)(i,r)}({props:t,name:n,theme:{components:r.useContext(s)}})}const l=function(e){let{value:t,children:n}=e;return(0,i.jsx)(s.Provider,{value:t,children:n})}},6206:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7483);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},6319:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(9526)),i=n(4414);t.A=(0,o.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},6477:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var o=n(9950),i=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,s=i||function(e){return e()},a=i||o.useLayoutEffect},6747:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},6879:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler");Symbol.for("react.provider");var a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case s:case i:case u:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case a:return e;default:return t}}case r:return t}}}t.vM=c,t.lD=h},6907:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},7034:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>o.A,createChainedFunction:()=>i,createSvgIcon:()=>s.A,debounce:()=>a.A,deprecatedPropType:()=>l,isMuiElement:()=>c.A,ownerDocument:()=>u.A,ownerWindow:()=>d.A,requirePropFactory:()=>h,setRef:()=>p,unstable_ClassNameGenerator:()=>x,unstable_useEnhancedEffect:()=>f.A,unstable_useId:()=>m.A,unsupportedProp:()=>g,useControlled:()=>v.A,useEventCallback:()=>y.A,useForkRef:()=>b.A,useIsFocusVisible:()=>w.A});var r=n(4501),o=n(1676);const i=n(5511).A;var s=n(3235),a=n(1209);const l=function(e,t){return()=>null};var c=n(3828),u=n(7402),d=n(827);const h=function(e,t){return()=>null};const p=n(5587).A;var f=n(9044),m=n(1014);const g=function(e,t,n,r,o){return null};var v=n(8733),y=n(1976),b=n(1506),w=n(2937);const x={configure:e=>{r.A.configure(e)}}},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},7295:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,u=e=>(0,c.default)((0,o.default)({},e,{theme:v((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:p,skipVariantsResolver:m,skipSx:w,overridesResolver:x=y(g(p))}=c,A=(0,i.default)(c,h),S=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,_=w||!1;let C=f;"Root"===p||"root"===p?C=r:p?C=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(C=void 0);const k=(0,s.default)(e,(0,o.default)({shouldForwardProp:C,label:undefined},A)),T=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>b(e,(0,o.default)({},r,{theme:v({theme:r.theme,defaultTheme:n,themeId:t})})):e,E=function(r){let i=T(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(T):[];d&&x&&c.push((e=>{const r=v((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,s={};return Object.entries(i).forEach((t=>{let[n,i]=t;s[n]=b(i,(0,o.default)({},e,{theme:r}))})),x(e,s)})),d&&!S&&c.push((e=>{var r;const i=v((0,o.default)({},e,{defaultTheme:n,themeId:t}));return b({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,o.default)({},e,{theme:i}))})),_||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const p=k(i,...c);return e.muiName&&(p.muiName=e.muiName),p};return k.withConfig&&(E.withConfig=k.withConfig),E}};var o=r(n(4634)),i=r(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(116)),a=n(7785),l=(r(n(304)),r(n(8399)),r(n(9904))),c=r(n(8807));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function y(e){return e?(t,n)=>n[e]:null}function b(e,t){let{ownerState:n}=t,r=(0,i.default)(t,u);const s="function"===typeof e?e((0,o.default)({ownerState:n},r)):e;if(Array.isArray(s))return s.flatMap((e=>b(e,(0,o.default)({ownerState:n},r))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,i.default)(s,d);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,o.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,o.default)({ownerState:n},r,n)):e.style))})),t}return s}},7370:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,E:()=>g,T:()=>d,c:()=>f,h:()=>h,w:()=>u});var r=n(9950),o=n(8603),i=n(1783),s=n(9015),a=n(6477),l=r.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null),c=l.Provider,u=function(e){return(0,r.forwardRef)((function(t,n){var o=(0,r.useContext)(l);return e(t,o,n)}))},d=r.createContext({});var h={}.hasOwnProperty,p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var n={};for(var r in t)h.call(t,r)&&(n[r]=t[r]);return n[p]=e,n},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,i.SF)(t,n,r),(0,a.s)((function(){return(0,i.sk)(t,n,r)})),null},g=u((function(e,t,n){var o=e.css;"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var a=e[p],l=[o],c="";"string"===typeof e.className?c=(0,i.Rk)(t.registered,l,e.className):null!=e.className&&(c=e.className+" ");var u=(0,s.J)(l,void 0,r.useContext(d));c+=t.key+"-"+u.name;var f={};for(var g in e)h.call(e,g)&&"css"!==g&&g!==p&&(f[g]=e[g]);return f.className=c,n&&(f.ref=n),r.createElement(r.Fragment,null,r.createElement(m,{cache:t,serialized:u,isStringTag:"string"===typeof a}),r.createElement(a,f))}))},7402:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6907).A},7483:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Q:()=>i});var r=n(8168),o=n(9950);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function s(e){if(o.isValidElement(e)||!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=s(e[n])})),t}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const l=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{o.isValidElement(t[r])?l[r]=t[r]:i(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&i(e[r])?l[r]=a(e[r],t[r],n):n.clone?l[r]=i(t[r])?s(t[r]):t[r]:l[r]=t[r]})),l}},7550:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="$$material"},7785:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(7483)},7923:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},7937:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>m,Lc:()=>y,Ms:()=>b});var r=n(8286),o=n(2703),i=n(6206);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],o=a[n]||"";return Array.isArray(o)?o.map((e=>r+e)):[r+o]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function p(e,t,n,r){var i;const s=null!=(i=(0,o.Yn)(e,t,!1))?i:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function f(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:`-${n}`}function g(e,t,n,o){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),o),s=e[n];return(0,r.NI)(e,s,i)}function v(e,t){const n=f(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(i.A,{})}function y(e){return v(e,u)}function b(e){return v(e,d)}function w(e){return v(e,h)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,w.propTypes={},w.filterProps=h},8076:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var r=n(7937),o=n(2703),i=n(6206);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),o=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,i.A)(t,r[n](e)):t),{});return o.propTypes={},o.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),o};var a=n(8286);function l(e){return"number"!==typeof e?e:`${e}px solid`}function c(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),w=c("outline",l),x=c("outlineColor"),A=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};A.propTypes={},A.filterProps=["borderRadius"];s(u,d,h,p,f,m,g,v,y,b,A,w,x);const S=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};S.propTypes={},S.filterProps=["gap"];const _=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};_.propTypes={},_.filterProps=["columnGap"];const C=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};C.propTypes={},C.filterProps=["rowGap"];s(S,_,C,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function k(e,t){return"grey"===t?t:e}s((0,o.Ay)({prop:"color",themeKey:"palette",transform:k}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:k}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:k}));function T(e){return e<=1&&0!==e?100*e+"%":e}const E=(0,o.Ay)({prop:"width",transform:T}),I=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:T(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};I.filterProps=["maxWidth"];const P=(0,o.Ay)({prop:"minWidth",transform:T}),R=(0,o.Ay)({prop:"height",transform:T}),j=(0,o.Ay)({prop:"maxHeight",transform:T}),D=(0,o.Ay)({prop:"minHeight",transform:T}),N=((0,o.Ay)({prop:"size",cssProperty:"width",transform:T}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:T}),s(E,I,P,R,j,D,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:A},color:{themeKey:"palette",transform:k},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:k},backgroundColor:{themeKey:"palette",transform:k},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:S},rowGap:{style:C},columnGap:{style:_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:I},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8099:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8283:(e,t,n)=>{"use strict";n.d(t,{AH:()=>u,i7:()=>d,mL:()=>c});var r=n(7370),o=n(9950),i=n(1783),s=n(6477),a=n(9015),l=(n(8603),n(3876),function(e,t){var n=arguments;if(null==t||!r.h.call(t,"css"))return o.createElement.apply(void 0,n);var i=n.length,s=new Array(i);s[0]=r.E,s[1]=(0,r.c)(e,t);for(var a=2;a<i;a++)s[a]=n[a];return o.createElement.apply(null,s)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(l||(l={}));var c=(0,r.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,o.useContext(r.T)),c=o.useRef();return(0,s.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),c.current=[n,r],function(){n.flush()}}),[t]),(0,s.i)((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,i.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null}));function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}function d(){var e=u.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},8286:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>o});var r=n(7483);const o={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${o[e]}px)`};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||i;return t.reduce(((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r)),{})}if("object"===typeof t){const e=r.breakpoints||i;return Object.keys(t).reduce(((r,i)=>{if(-1!==Object.keys(e.values||o).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){const t=a(e);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];const s=[t,...o].reduce(((e,t)=>(0,r.A)(e,t)),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const o=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),i=Object.keys(o);if(0===i.length)return t;let s;return i.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}},8345:(e,t,n)=>{"use strict";var r=n(9950),o=n(5340);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var O,L=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case A:return"Portal";case C:return"Profiler";case _:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Se=null,_e=null;function Ce(e){if(e=wo(e)){if("function"!==typeof Ae)throw Error(i(280));var t=e.stateNode;t&&(t=Ao(t),Ae(e.stateNode,e.type,t))}}function ke(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Te(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ee(e,t){return e(t)}function Ie(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ee(e,t,n)}finally{Pe=!1,(null!==Se||null!==_e)&&(Ie(),Te())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=Ao(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var De=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){De=!1}function Me(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Le=null,Fe=!1,ze=null,Ve={onError:function(e){Oe=!0,Le=e}};function Ue(e,t,n,r,o,i,s,a,l){Oe=!1,Le=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return We(o),e;if(s===r)return We(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Qe=o.unstable_requestPaint,Xe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,At,St,_t,Ct,kt=!1,Tt=[],Et=null,It=null,Pt=null,Rt=new Map,jt=new Map,Dt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Ot(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=bo(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){kt=!1,null!==Et&&Ft(Et)&&(Et=null),null!==It&&Ft(It)&&(It=null),null!==Pt&&Ft(Pt)&&(Pt=null),Rt.forEach(zt),jt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ut(Et,e),null!==It&&Ut(It,e),null!==Pt&&Ut(Pt,e),Rt.forEach(t),jt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Dt.shift()}var $t=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var o=bt,i=$t.transition;$t.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=o,$t.transition=i}}function qt(e,t,n,r){var o=bt,i=$t.transition;$t.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=o,$t.transition=i}}function Gt(e,t,n,r){if(Wt){var o=Yt(e,t,n,r);if(null===o)Wr(e,t,r,Kt,n),Mt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Et=Ot(Et,e,t,n,r,o),!0;case"dragenter":return It=Ot(It,e,t,n,r,o),!0;case"mouseover":return Pt=Ot(Pt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Rt.set(i,Ot(Rt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,jt.set(i,Ot(jt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&xt(i),null===(i=Yt(e,t,n,r))&&Wr(e,t,r,Kt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=bo(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),mn=on(L({},pn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),vn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return _n}var kn=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(kn),En=on(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=on(Rn),Dn=[9,13,27,32],Nn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var On=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Nn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function Kn(e){Fr(e,0)}function Yn(e){if(G(xo(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,xe(e)),Re(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ir(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},_r={};function Cr(e){if(Sr[e])return Sr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var kr=Cr("animationend"),Tr=Cr("animationiteration"),Er=Cr("animationstart"),Ir=Cr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Pr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Nr=Rr[Dr];jr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}jr(kr,"onAnimationEnd"),jr(Tr,"onAnimationIteration"),jr(Er,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,c){if(Ue.apply(this,arguments),Oe){if(!Oe)throw Error(i(198));var u=Le;Oe=!1,Le=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,a,c),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,a,c),i=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ur]){e[Ur]=!0,s.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Qt(t)){case 1:var o=Ht;break;case 4:o=qt;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=i,o=xe(n),s=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case kr:case Tr:case Er:l=vn;break;case Ir:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=je(f,h))&&u.push(Hr(f,m,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:xo(l),p=null==c?a:xo(c),(a=new u(m,f+"leave",l,n,o)).target=d,a.relatedTarget=p,m=null,bo(o)===r&&((u=new u(h,f+"enter",c,n,o)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Gr(p))f++;for(p=0,m=h;m;m=Gr(m))p++;for(;0<f-p;)u=Gr(u),f--;for(;0<p-f;)h=Gr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Kr(s,a,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(a=r?xo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(Wn(a))if(Xn)g=sr;else{g=or;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(s,g,n,o):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?xo(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,o)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Xt=o)?Xt.value:Xt.textContent,Bn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,o),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Nn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=y))}Fr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=je(e,n))&&r.unshift(Hr(e,i,o)),null!=(i=je(e,t))&&r.push(Hr(e,i,o))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=je(n,i))&&s.unshift(Hr(n,l,a)):o||null!=(l=je(n,i))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Bt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Ao(e){return e[fo]||null}var So=[],_o=-1;function Co(e){return{current:e}}function ko(e){0>_o||(e.current=So[_o],So[_o]=null,_o--)}function To(e,t){_o++,So[_o]=e.current,e.current=t}var Eo={},Io=Co(Eo),Po=Co(!1),Ro=Eo;function jo(e,t){var n=e.type.contextTypes;if(!n)return Eo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Do(e){return null!==(e=e.childContextTypes)&&void 0!==e}function No(){ko(Po),ko(Io)}function Mo(e,t,n){if(Io.current!==Eo)throw Error(i(168));To(Io,t),To(Po,n)}function Oo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,$(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eo,Ro=Io.current,To(Io,e),To(Po,Po.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Oo(e,t,Ro),r.__reactInternalMemoizedMergedChildContext=e,ko(Po),ko(Io),To(Io,e)):ko(Po),To(Po,n)}var zo=null,Vo=!1,Uo=!1;function Bo(e){null===zo?zo=[e]:zo.push(e)}function $o(){if(!Uo&&null!==zo){Uo=!0;var e=0,t=bt;try{var n=zo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Vo=!1}catch(o){throw null!==zo&&(zo=zo.slice(e+1)),Ge(Ze,$o),o}finally{bt=t,Uo=!1}}return null}var Wo=[],Ho=0,qo=null,Go=0,Ko=[],Yo=0,Qo=null,Xo=1,Jo="";function Zo(e,t){Wo[Ho++]=Go,Wo[Ho++]=qo,qo=e,Go=t}function ei(e,t,n){Ko[Yo++]=Xo,Ko[Yo++]=Jo,Ko[Yo++]=Qo,Qo=e;var r=Xo;e=Jo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Xo=1<<32-st(t)+o|n<<o|r,Jo=i+e}else Xo=1<<i|n<<o|r,Jo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===qo;)qo=Wo[--Ho],Wo[Ho]=null,Go=Wo[--Ho],Wo[Ho]=null;for(;e===Qo;)Qo=Ko[--Yo],Ko[Yo]=null,Jo=Ko[--Yo],Ko[Yo]=null,Xo=Ko[--Yo],Ko[Yo]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qo?{id:Xo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw pi(),Error(i(418));for(;t;)ai(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=co(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=w.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===j&&bi(i)===t.type)?((r=o(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=Nc(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Nc(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case A:return(t=Fc(t,e.mode,n)).return=e,t;case j:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?c(e,t,n,r):null;case A:return n.key===o?u(e,t,n,r):null;case j:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||M(n))return null!==o?null:d(e,t,n,r,null);yi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case A:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case j:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,o,null);yi(t,r)}return null}function m(o,i,a,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(o,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=s(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(o,d),ii&&Zo(o,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(o,a[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Zo(o,m),c}for(d=r(o,d);m<a.length;m++)null!==(g=f(d,o,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Zo(o,m),c}function g(o,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),ii&&Zo(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return ii&&Zo(o,g),u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=f(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),ii&&Zo(o,g),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&bi(c)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=vi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((i=Mc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Nc(s.type,s.key,s.props,null,r.mode,l)).ref=vi(r,i,s),l.return=r,r=l)}return a(r);case A:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(s,r.mode,l)).return=r,r=i}return a(r);case j:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(M(s))return g(r,i,s,l);yi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Lc(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var xi=wi(!0),Ai=wi(!1),Si=Co(null),_i=null,Ci=null,ki=null;function Ti(){ki=Ci=_i=null}function Ei(e){var t=Si.current;ko(Si),e._currentValue=t}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){_i=e,ki=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ri(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===_i)throw Error(i(308));Ci=e,_i.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var ji=null;function Di(e){null===ji?ji=[e]:ji.push(e)}function Ni(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Di(t)):(n.next=o.next,o.next=n),t.interleaved=n,Mi(e,r)}function Mi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Mi(e,n)}return null===(o=r.interleaved)?(t.next=t,Di(r)):(t.next=o.next,o.next=t),r.interleaved=t,Mi(e,n)}function Ui(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $i(e,t,n,r){var o=e.updateQueue;Oi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=L({},d,h);break e;case 2:Oi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ol|=s,e.lanes=s,e.memoizedState=d}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Hi={},qi=Co(Hi),Gi=Co(Hi),Ki=Co(Hi);function Yi(e){if(e===Hi)throw Error(i(174));return e}function Qi(e,t){switch(To(Ki,t),To(Gi,e),To(qi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ko(qi),To(qi,t)}function Xi(){ko(qi),ko(Gi),ko(Ki)}function Ji(e){Yi(Ki.current);var t=Yi(qi.current),n=le(t,e.type);t!==n&&(To(Gi,e),To(qi,n))}function Zi(e){Gi.current===e&&(ko(qi),ko(Gi))}var es=Co(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=w.ReactCurrentDispatcher,is=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,ps=0;function fs(){throw Error(i(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,o),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(i(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ta,e=n(r,o)}while(ds)}if(os.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(i(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function ws(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ls,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Ol|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Ol|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function As(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ss(){}function _s(e,t){var n=as,r=bs(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,ba=!0),r=r.queue,Os(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Rs(9,ks.bind(null,n,r,o,t),void 0,null),null===Il)throw Error(i(349));0!==(30&ss)||Cs(n,t,o)}return o}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ks(e,t,n,r){t.value=n,t.getSnapshot=r,Es(t)&&Is(e)}function Ts(e,t,n){return n((function(){Es(t)&&Is(e)}))}function Es(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Is(e){var t=Mi(e,1);null!==t&&nc(t,e,1,-1)}function Ps(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,as,e),[t.memoizedState,e]}function Rs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function js(){return bs().memoizedState}function Ds(e,t,n,r){var o=ys();as.flags|=e,o.memoizedState=Rs(1|t,n,void 0,void 0===r?null:r)}function Ns(e,t,n,r){var o=bs();r=void 0===r?null:r;var i=void 0;if(null!==ls){var s=ls.memoizedState;if(i=s.destroy,null!==r&&ms(r,s.deps))return void(o.memoizedState=Rs(t,n,i,r))}as.flags|=e,o.memoizedState=Rs(1|t,n,i,r)}function Ms(e,t){return Ds(8390656,8,e,t)}function Os(e,t){return Ns(2048,8,e,t)}function Ls(e,t){return Ns(4,2,e,t)}function Fs(e,t){return Ns(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ns(4,4,zs.bind(null,t,e),n)}function Us(){}function Bs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $s(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ol|=n,e.baseState=!0),t)}function Hs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=r}}function qs(){return bs().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Qs(t,n);else if(null!==(n=Ni(e,t,n,r))){nc(n,e,r,ec()),Xs(n,t,r)}}function Ks(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Qs(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Di(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Ni(e,t,o,r))&&(nc(n,e,r,o=ec()),Xs(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Qs(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Ri,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Ri,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:Ms,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Ps,useDebugValue:Us,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Ps(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,o=ys();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Il)throw Error(i(349));0!==(30&ss)||Cs(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Ms(Ts.bind(null,r,s,e),[e]),r.flags|=2048,Rs(9,ks.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Il.identifierPrefix;if(ii){var n=Jo;t=":"+t+"R"+(n=(Xo&~(1<<32-st(Xo)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ri,useCallback:Bs,useContext:Ri,useEffect:Os,useImperativeHandle:Vs,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:$s,useReducer:xs,useRef:js,useState:function(){return xs(ws)},useDebugValue:Us,useDeferredValue:function(e){return Ws(bs(),ls.memoizedState,e)},useTransition:function(){return[xs(ws)[0],bs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:_s,useId:qs,unstable_isNewReconciler:!1},ta={readContext:Ri,useCallback:Bs,useContext:Ri,useEffect:Os,useImperativeHandle:Vs,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:$s,useReducer:As,useRef:js,useState:function(){return As(ws)},useDebugValue:Us,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[As(ws)[0],bs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:_s,useId:qs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(nc(t,e,o,r),Ui(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,o))&&(nc(t,e,o,r),Ui(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=zi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Vi(e,o,r))&&(nc(t,e,r,n),Ui(t,e,r))}};function ia(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function sa(e,t,n){var r=!1,o=Eo,i=t.contextType;return"object"===typeof i&&null!==i?i=Ri(i):(o=Do(t)?Ro:Io.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?jo(e,o):Eo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ri(i):(i=Do(t)?Ro:Io.current,o.context=jo(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),$i(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),da(0,t)},n}function fa(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Vi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?Ai(t,null,n,r):xi(t,e.child,n,r)}function xa(e,t,n,r,o){n=n.render;var i=t.ref;return Pi(t,o),r=gs(e,t,n,r,i,o),n=vs(),null===e||ba?(ii&&n&&ti(t),t.flags|=1,wa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Aa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||jc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Sa(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,o)}return t.flags|=1,(e=Dc(i,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Wa(e,t,o);0!==(131072&e.flags)&&(ba=!0)}}return ka(e,t,n,r,o)}function _a(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},To(Dl,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,To(Dl,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,To(Dl,jl),jl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,To(Dl,jl),jl|=r;return wa(e,t,o,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,o){var i=Do(n)?Ro:Io.current;return i=jo(t,i),Pi(t,o),n=gs(e,t,n,r,i,o),r=vs(),null===e||ba?(ii&&r&&ti(t),t.flags|=1,wa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Ta(e,t,n,r,o){if(Do(n)){var i=!0;Lo(t)}else i=!1;if(Pi(t,o),null===t.stateNode)$a(e,t),sa(t,n,r),la(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ri(c):c=jo(t,c=Do(n)?Ro:Io.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Oi=!1;var h=t.memoizedState;s.state=h,$i(t,r,s,o),l=t.memoizedState,a!==r||h!==l||Po.current||Oi?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Oi||ia(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fi(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ri(l):l=jo(t,l=Do(n)?Ro:Io.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Oi=!1,h=t.memoizedState,s.state=h,$i(t,r,s,o);var f=t.memoizedState;a!==d||h!==f||Po.current||Oi?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(c=Oi||ia(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ea(e,t,n,r,i,o)}function Ea(e,t,n,r,o,i){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&Fo(t,n,!1),Wa(e,t,i);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,a,i)):wa(e,t,a,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Mo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mo(0,t.context,!1),Qi(e,t.containerInfo)}function Pa(e,t,n,r,o){return fi(),mi(o),t.flags|=256,wa(e,t,n,r),t.child}var Ra,ja,Da,Na,Ma={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,o=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),To(es,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Oc(l,o,0,null),e=Mc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(n),t.memoizedState=Ma,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Oc({mode:"visible",children:r.children},o,0,null),(s=Mc(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&xi(t,e.child,null,a),t.child.memoizedState=Oa(a),t.memoizedState=Ma,s);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ua(s=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Il)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Mi(e,o),nc(r,e,o,-1))}return mc(),za(e,t,a,r=ua(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Ko[Yo++]=Xo,Ko[Yo++]=Jo,Ko[Yo++]=Qo,Xo=e.id,Jo=e.overflow,Qo=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Dc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Oa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,o}return e=(a=e.child).sibling,o=Dc(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fa(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&mi(r),xi(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function Ua(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ba(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(To(es,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ua(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ua(t,!0,n,null,i);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Do(t.type)&&No(),qa(t),null;case 3:return r=t.stateNode,Xi(),ko(Po),ko(Io),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(sc(si),si=null))),ja(e,t),qa(t),null;case 5:Zi(t);var o=Yi(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qa(t),null}if(e=Yi(qi.current),hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[po]=t,r[fo]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Mr.length;o++)zr(Mr[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":oe(r,s),zr("invalid",r)}for(var l in ye(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),Z(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[fo]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Mr.length;o++)zr(Mr[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":Q(e,r),o=Y(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(s in ye(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)Na(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Yi(Ki.current),Yi(qi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return qa(t),null;case 13:if(ko(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[po]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),s=!1}else null!==si&&(sc(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Nl&&(Nl=3):mc())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return Xi(),ja(e,t),null===e&&Br(t.stateNode.containerInfo),qa(t),null;case 10:return Ei(t.type._context),qa(t),null;case 19:if(ko(es),null===(s=t.memoizedState))return qa(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return To(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Bl&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return qa(t),null}else 2*Xe()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=es.current,To(es,r?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ka(e,t){switch(ni(t),t.tag){case 1:return Do(t.type)&&No(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),ko(Po),ko(Io),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(ko(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ko(es),null;case 4:return Xi(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ja=function(){},Da=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Yi(qi.current);var i,s=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),s=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Na=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Qa=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_c(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Qa||Za(n,t);case 6:var r=ul,o=dl;ul=null,hl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Bt(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),o=o.next}while(o!==r)}hl(e,t,n);break;case 1:if(!Qa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_c(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,hl(e,t,n),Qa=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(s,a,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){_c(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){_c(e,e.return,g)}try{nl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(o,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(l){case"input":J(o,s);break;case"textarea":ie(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(o,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[fo]=s}catch(g){_c(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){_c(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Ul=Xe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(u=Qa)||d,ml(t,e),Qa=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(f=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Ja=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),cl(e,al(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(i(161))}}catch(a){_c(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var o=Ja,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Ya;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ya;var c=Qa;if(Ya=s,(Qa=l)&&!c)for(Ja=o;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Al(o):null!==l?(l.return=s,Ja=l):Al(o);for(;null!==i;)Ja=i,bl(i,t,n),i=i.sibling;Ja=o,Ya=a,Qa=c}wl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Ja=i):wl(e)}}function wl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(i(163))}Qa||512&t.flags&&ol(t)}catch(p){_c(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Al(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){_c(t,o,l)}}var i=t.return;try{ol(t)}catch(l){_c(t,i,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){_c(t,s,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Sl,_l=Math.ceil,Cl=w.ReactCurrentDispatcher,kl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,El=0,Il=null,Pl=null,Rl=0,jl=0,Dl=Co(0),Nl=0,Ml=null,Ol=0,Ll=0,Fl=0,zl=null,Vl=null,Ul=0,Bl=1/0,$l=null,Wl=!1,Hl=null,ql=null,Gl=!1,Kl=null,Yl=0,Ql=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&El)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Rl?Rl&-Rl:null!==gi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Xl=null,Error(i(185));vt(e,n,r),0!==(2&El)&&e===Il||(e===Il&&(0===(2&El)&&(Ll|=n),4===Nl&&ac(e,Rl)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Bl=Xe()+500,Vo&&$o()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===Il?Rl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Vo=!0,Bo(e)}(lc.bind(null,e)):Bo(lc.bind(null,e)),so((function(){0===(6&El)&&$o()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,Zl=0,0!==(6&El))throw Error(i(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=El;El|=2;var s=fc();for(Il===e&&Rl===t||($l=null,Bl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Ti(),Cl.current=s,El=o,null!==Pl?t=0:(Il=null,Rl=0,t=Nl)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=ic(e,o))),1===t)throw n=Ml,hc(e,0),ac(e,r),rc(e,Xe()),n;if(6===t)ac(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=ic(e,s))),1===t))throw n=Ml,hc(e,0),ac(e,r),rc(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,Vl,$l);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Ul+500-Xe())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(xc.bind(null,e,Vl,$l),t);break}xc(e,Vl,$l);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ro(xc.bind(null,e,Vl,$l),r);break}xc(e,Vl,$l);break;default:throw Error(i(329))}}}return rc(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&sc(t)),e}function sc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function ac(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(i(327));Ac();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ml,hc(e,0),ac(e,t),rc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Vl,$l),rc(e,Xe()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Bl=Xe()+500,Vo&&$o())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&Ac();var t=El;El|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(El=t))&&$o()}}function dc(){jl=Dl.current,ko(Dl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&No();break;case 3:Xi(),ko(Po),ko(Io),rs();break;case 5:Zi(r);break;case 4:Xi();break;case 13:case 19:ko(es);break;case 10:Ei(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,Pl=e=Dc(e.current,null),Rl=jl=t,Nl=0,Ml=null,Fl=Ll=Ol=0,Vl=zl=null,null!==ji){for(t=0;t<ji.length;t++)if(null!==(r=(n=ji[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}ji=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(Ti(),os.current=Js,us){for(var r=as.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,kl.current=null,null===n||null===n.return){Nl=1,Ml=t,Pl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ma(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mi(ca(c,l));break e}}s=c=ca(c,l),4!==Nl&&(Nl=2),null===zl?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bi(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Bi(s,fa(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function fc(){var e=Cl.current;return Cl.current=Js,null===e?Js:e}function mc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Il||0===(268435455&Ol)&&0===(268435455&Ll)||ac(Il,Rl)}function gc(e,t){var n=El;El|=2;var r=fc();for(Il===e&&Rl===t||($l=null,hc(e,t));;)try{vc();break}catch(o){pc(e,o)}if(Ti(),El=n,Cl.current=r,null!==Pl)throw Error(i(261));return Il=null,Rl=0,Nl}function vc(){for(;null!==Pl;)bc(Pl)}function yc(){for(;null!==Pl&&!Ye();)bc(Pl)}function bc(e){var t=Sl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,kl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,jl)))return void(Pl=n)}else{if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Nl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Nl&&(Nl=5)}function xc(e,t,n){var r=bt,o=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Ac()}while(null!==Kl);if(0!==(6&El))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Il&&(Pl=Il=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ic(tt,(function(){return Ac(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=El;El|=4,kl.current=null,function(e,t){if(eo=Wt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(l=a),p===s&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(to),Wt=!!eo,to=eo=null,e.current=n,yl(n,e,o),Qe(),El=l,bt=a,Tl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Yl=o),s=e.pendingLanes,0===s&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&Ac(),s=e.pendingLanes,0!==(1&s)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,$o()}(e,t,n,r)}finally{Tl.transition=o,bt=r}return null}function Ac(){if(null!==Kl){var e=wt(Yl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&El))throw Error(i(331));var o=El;for(El|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var p=(d=Ja).sibling,f=d.return;if(il(d),d===u){Ja=null;break}if(null!==p){p.return=f,Ja=p;break}Ja=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(A){_c(l,l.return,A)}if(l===a){Ja=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ja=x;break e}Ja=l.return}}if(El=o,$o(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(A){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=Vi(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Vi(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Rl&n)===n&&(4===Nl||3===Nl&&(130023424&Rl)===Rl&&500>Xe()-Ul?hc(e,0):Fl|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Mi(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),kc(e,n)}function Ic(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nc(e,t,n,r,o,s){var a=2;if(r=e,"function"===typeof e)jc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Mc(n.children,o,s,t);case _:a=8,o|=8;break;case C:return(e=Rc(12,n,t,2|o)).elementType=C,e.lanes=s,e;case I:return(e=Rc(13,n,t,o)).elementType=I,e.lanes=s,e;case P:return(e=Rc(19,n,t,o)).elementType=P,e.lanes=s,e;case D:return Oc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case T:a=9;break e;case E:a=11;break e;case R:a=14;break e;case j:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,o,i,s,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Rc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function Uc(e){if(!e)return Eo;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Do(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Do(n))return Oo(e,n,t)}return t}function Bc(e,t,n,r,o,i,s,a,l){return(e=Vc(n,r,!0,e,0,i,0,a,l)).context=Uc(null),n=e.current,(i=zi(r=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,Vi(n,i,o),e.current.lanes=o,vt(e,o,r),rc(e,r),e}function $c(e,t,n,r){var o=t.current,i=ec(),s=tc(o);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vi(o,t,s))&&(nc(e,o,s,i),Ui(e,o,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),fi();break;case 5:Ji(t);break;case 1:Do(t.type)&&Lo(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;To(Si,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(To(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(To(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);To(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),To(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,ii&&0!==(1048576&t.flags)&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$a(e,t),e=t.pendingProps;var o=jo(t,Io.current);Pi(t,n),o=gs(null,t,r,e,o,n);var s=vs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Do(r)?(s=!0,Lo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Li(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,r,e,n),t=Ea(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),wa(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch($a(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===R)return 14}return 2}(r),e=na(r,e),o){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=Aa(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,ka(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ta(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(Ia(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Fi(e,t),$i(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Pa(e,t,r,n,o=ca(Error(i(423)),t));break e}if(r!==o){t=Pa(e,t,r,n,o=ca(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=Ai(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=Wa(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Ca(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&ui(t),null;case 13:return La(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,To(Si,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!Po.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=zi(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ii(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ii(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Pi(t,n),r=r(o=Ri(o)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),Aa(e,t,r,o=na(r.type,o),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),$a(e,t),t.tag=1,Do(r)?(e=!0,Lo(t)):e=!1,Pi(t,n),sa(t,r,o),la(t,r,o,n),Ea(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return _a(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var a=o;o=function(){var e=Wc(s);a.call(e)}}$c(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Wc(s);i.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[mo]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mo]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){$c(t,l,n,r)})),l}(n,t,e,o,r);return Wc(s)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));$c(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){$c(null,e,null,null)})),t[mo]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&El)&&(Bl=Xe()+500,$o()))}break;case 13:uc((function(){var t=Mi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},At=function(e){if(13===e.tag){var t=Mi(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Mi(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},_t=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ae=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ao(r);if(!o)throw Error(i(90));G(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[wo,xo,Ao,ke,Te,cc]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var n=!1,r="",o=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Br(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,Br(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},8399:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>i});var r=n(6879);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t=`${e}`.match(o);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||i(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?`${n}(${r})`:n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.vM:return a(e,e.render,"ForwardRef");case r.lD:return a(e,e.type,"memo");default:return}}}},8463:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});n(9950);var r=n(6171);n(4414);function o(e){return(0,r.b)(e)}},8465:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((o=>{r[o]=e[o].reduce(((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},8603:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,i=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,b=0,w="";function x(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:m,column:g,length:s,return:""}}function A(e,t){return s(x("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return b=y>0?u(w,--y):0,g--,10===b&&(g=1,m--),b}function _(){return b=y<v?u(w,y++):0,g++,10===b&&(g=1,m++),b}function C(){return u(w,y)}function k(){return y}function T(e,t){return d(w,e,t)}function E(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function I(e){return m=g=1,v=h(w=e),y=0,[]}function P(e){return w="",e}function R(e){return a(T(y-1,N(91===e?e+2:40===e?e+1:e)))}function j(e){for(;(b=C())&&b<33;)_();return E(e)>2||E(b)>3?"":" "}function D(e,t){for(;--t&&_()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return T(e,k()+(t<6&&32==C()&&32==_()))}function N(e){for(;_();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&N(b);break;case 40:41===e&&N(e);break;case 92:_()}return y}function M(e,t){for(;_()&&e+b!==57&&(e+b!==84||47!==C()););return"/*"+T(t,y-1)+"*"+i(47===e?e:_())}function O(e){for(;!E(C());)_();return T(e,y)}var L="-ms-",F="-moz-",z="-webkit-",V="comm",U="rule",B="decl",$="@keyframes";function W(e,t){for(var n="",r=p(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case B:return e.return=e.return||e.value;case V:return"";case $:return e.return=e.value+"{"+W(e.children,r)+"}";case U:e.value=e.props.join(",")}return h(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function q(e){return P(G("",null,null,null,[""],e=I(e),0,[0],e))}function G(e,t,n,r,o,s,a,d,p){for(var m=0,g=0,v=a,y=0,b=0,w=0,x=1,A=1,T=1,E=0,I="",P=o,N=s,L=r,F=I;A;)switch(w=E,E=_()){case 40:if(108!=w&&58==u(F,v-1)){-1!=c(F+=l(R(E),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:F+=R(E);break;case 9:case 10:case 13:case 32:F+=j(w);break;case 92:F+=D(k()-1,7);continue;case 47:switch(C()){case 42:case 47:f(Y(M(_(),k()),t,n),p);break;default:F+="/"}break;case 123*x:d[m++]=h(F)*T;case 125*x:case 59:case 0:switch(E){case 0:case 125:A=0;case 59+g:-1==T&&(F=l(F,/\f/g,"")),b>0&&h(F)-v&&f(b>32?Q(F+";",r,n,v-1):Q(l(F," ","")+";",r,n,v-2),p);break;case 59:F+=";";default:if(f(L=K(F,t,n,m,g,o,d,I,P=[],N=[],v),s),123===E)if(0===g)G(F,t,L,L,P,s,v,d,N);else switch(99===y&&110===u(F,3)?100:y){case 100:case 108:case 109:case 115:G(e,L,L,r&&f(K(e,L,L,0,0,o,d,I,o,P=[],v),N),o,N,v,d,r?P:N);break;default:G(F,L,L,L,[""],N,0,d,N)}}m=g=b=0,x=T=1,I=F="",v=a;break;case 58:v=1+h(F),b=w;default:if(x<1)if(123==E)--x;else if(125==E&&0==x++&&125==S())continue;switch(F+=i(E),E*x){case 38:T=g>0?1:(F+="\f",-1);break;case 44:d[m++]=(h(F)-1)*T,T=1;break;case 64:45===C()&&(F+=R(_())),y=C(),g=v=h(I=F+=O(k())),E++;break;case 45:45===w&&2==h(F)&&(x=0)}}return s}function K(e,t,n,r,i,s,c,u,h,f,m){for(var g=i-1,v=0===i?s:[""],y=p(v),b=0,w=0,A=0;b<r;++b)for(var S=0,_=d(e,g+1,g=o(w=c[b])),C=e;S<y;++S)(C=a(w>0?v[S]+" "+_:l(_,/&\f/g,v[S])))&&(h[A++]=C);return x(e,t,n,0===i?U:u,h,f,m)}function Y(e,t,n){return x(e,t,n,V,i(b),d(e,2,-2),0)}function Q(e,t,n,r){return x(e,t,n,B,d(e,0,r),d(e,r+1,-1),r)}var X=function(e,t,n){for(var r=0,o=0;r=o,o=C(),38===r&&12===o&&(t[n]=1),!E(o);)_();return T(e,y)},J=function(e,t){return P(function(e,t){var n=-1,r=44;do{switch(E(r)){case 0:38===r&&12===C()&&(t[n]=1),e[n]+=X(y-1,t,n);break;case 2:e[n]+=R(r);break;case 4:if(44===r){e[++n]=58===C()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=_());return e}(I(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var o=[],i=J(t,o),s=n.props,a=0,l=0;a<i.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=o[a]?i[a].replace(/&\f/g,s[c]):s[c]+" "+i[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return z+e+F+e+L+e+e;case 6828:case 4268:return z+e+L+e+e;case 6165:return z+e+L+"flex-"+e+e;case 5187:return z+e+l(e,/(\w+).+(:[^]+)/,z+"box-$1$2"+L+"flex-$1$2")+e;case 5443:return z+e+L+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return z+e+L+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return z+e+L+l(e,"shrink","negative")+e;case 5292:return z+e+L+l(e,"basis","preferred-size")+e;case 6060:return z+"box-"+l(e,"-grow","")+z+e+L+l(e,"grow","positive")+e;case 4554:return z+l(e,/([^-])(transform)/g,"$1"+z+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,z+"box-pack:$3"+L+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+z+"$2-$3$1"+F+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+z)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===u(e,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+L+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return z+e+L+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return z+e+L+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return z+e+L+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return z+e+L+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case B:e.return=ne(e.value,e.length);break;case $:return W([A(e,{value:l(e.value,"@","@"+z)})],r);case U:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([A(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([A(e,{props:[l(t,/:(plac\w+)/,":"+z+"input-$1")]}),A(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),A(e,{props:[l(t,/:(plac\w+)/,L+"input-$1")]})],r)}return""}))}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,i,s=e.stylisPlugins||re,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d=[H,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=p(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}([ee,te].concat(s,d));i=function(e,t,n,r){c=n,W(q(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return f.sheet.hydrate(l),f}},8635:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6907);function o(e){return(0,r.A)(e).defaultView||window}},8733:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3931).A},8807:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>i.A});var r=n(505),o=n(237),i=n(8076)},9015:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(7923),i=!1,s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},u=(0,o.A)((function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},h="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function p(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return f={name:o.name,styles:o.styles,next:f},o.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)f={name:a.name,styles:a.styles,next:f},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=p(e,t,n[o])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?r+=s+"{"+t[l]+"}":c(l)&&(r+=u(s)+":"+d(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&i)throw new Error(h);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var f=p(e,t,a);switch(s){case"animation":case"animationName":r+=u(s)+":"+f+";";break;default:r+=s+"{"+f+"}"}}else for(var m=0;m<a.length;m++)c(a[m])&&(r+=u(s)+":"+d(s,a[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=f,m=n(e);return f=l,p(e,t,m)}}var g=n;if(null==t)return g;var v=t[g];return void 0!==v?v:g}var f,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";f=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=p(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++){if(o+=p(n,t,e[s]),r)o+=i[s]}m.lastIndex=0;for(var a,l="";null!==(a=m.exec(o));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:f}}},9044:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1399).A},9234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(8099)},9254:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a});var r=n(7295),o=n(195),i=n(7550),s=n(9608);const a=(0,r.Ay)({themeId:i.A,defaultTheme:o.A,rootShouldForwardProp:s.A})},9269:(e,t,n)=>{"use strict";var r=n(4994);t.X4=p,t.e$=f,t.tL=g,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var o=r(n(9234)),i=r(n(9344));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,o.default)(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?f(e,t):m(e,t)}},9344:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(6747)},9526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(7034)},9608:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1960);const o=e=>(0,r.A)(e)&&"classes"!==e},9825:()=>{},9904:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>i.A});var r=n(2860),o=n(3628),i=n(86)},9950:(e,t,n)=>{"use strict";e.exports=n(2049)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{Decoder:()=>mk,Encoder:()=>pk,PacketType:()=>hk,protocol:()=>dk});var t,r=n(9950),o=n.t(r,2),i=n(1352);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const a="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(DS){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,n,r,o){void 0===o&&(o={});let{window:i=document.defaultView,v5Compat:c=!1}=o,p=i.history,f=t.Pop,m=null,g=v();function v(){return(p.state||{idx:null}).idx}function y(){f=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:f,location:w.location,delta:n})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,p.replaceState(s({},p.state,{idx:g}),""));let w={get action(){return f},get location(){return e(i,p)},listen(e){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(a,y),m=e,()=>{i.removeEventListener(a,y),m=null}},createHref:e=>n(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;let o=d(w.location,e,n);r&&r(o,e),g=v()+1;let s=u(o,g),a=w.createHref(o);try{p.pushState(s,"",a)}catch(pb){if(pb instanceof DOMException&&"DataCloneError"===pb.name)throw pb;i.location.assign(a)}c&&m&&m({action:f,location:w.location,delta:1})},replace:function(e,n){f=t.Replace;let o=d(w.location,e,n);r&&r(o,e),g=v();let i=u(o,g),s=w.createHref(o);p.replaceState(i,"",s),c&&m&&m({action:f,location:w.location,delta:0})},go:e=>p.go(e)};return w}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let o=R(("string"===typeof t?p(t):t).pathname||"/",n);if(null==o)return null;let i=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=P(o);s=E(i[a],e,r)}return s}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};s.relativePath.startsWith("/")&&(l(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=O([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),y(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:T(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))o(e,t,r);else o(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let s=b(r.join("/")),a=[];return a.push(...s.map((e=>""===e?i:[i,e].join("/")))),o&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,x=3,A=2,S=1,_=10,C=-2,k=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=C),t&&(r+=A),n.filter((e=>!k(e))).reduce(((e,t)=>e+(w.test(t)?x:""===t?S:_)),r)}function E(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,o={},i="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:O([i,u.pathname]),pathnameBase:L(O([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=O([i,u.pathnameBase]))}return s}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=a[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(pb){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+pb+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function N(e,t){let n=D(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let o;void 0===r&&(r=!1),"string"===typeof e?o=p(e):(o=s({},e),l(!o.pathname||!o.pathname.includes("?"),j("?","pathname","search",o)),l(!o.pathname||!o.pathname.includes("#"),j("#","pathname","hash",o)),l(!o.search||!o.search.includes("#"),j("#","search","hash",o)));let i,a=""===e||""===o.pathname,c=a?"/":o.pathname;if(null==c)i=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"===typeof e?p(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:F(r),hash:z(o)}}(o,i),d=c&&"/"!==c&&c.endsWith("/"),h=(a||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const O=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],B=(new Set(U),["get",...U]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}const W=r.createContext(null);const H=r.createContext(null);const q=r.createContext(null);const G=r.createContext(null);const K=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=r.createContext(null);function Q(){return null!=r.useContext(G)}function X(){return Q()||l(!1),r.useContext(G).location}function J(e){r.useContext(q).static||r.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=r.useContext(K);return e?function(){let{router:e}=ue(le.UseNavigateStable),t=he(ce.UseNavigateStable),n=r.useRef(!1);return J((()=>{n.current=!0})),r.useCallback((function(r,o){void 0===o&&(o={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,$({fromRouteId:t},o)))}),[e,t])}():function(){Q()||l(!1);let e=r.useContext(W),{basename:t,future:n,navigator:o}=r.useContext(q),{matches:i}=r.useContext(K),{pathname:s}=X(),a=JSON.stringify(N(i,n.v7_relativeSplatPath)),c=r.useRef(!1);return J((()=>{c.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void o.go(n);let i=M(n,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:O([t,i.pathname])),(r.replace?o.replace:o.push)(i,r.state,r)}),[t,o,a,s,e])}()}function ee(){let{matches:e}=r.useContext(K),t=e[e.length-1];return t?t.params:{}}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:o}=r.useContext(q),{matches:i}=r.useContext(K),{pathname:s}=X(),a=JSON.stringify(N(i,o.v7_relativeSplatPath));return r.useMemo((()=>M(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function ne(e,n,o,i){Q()||l(!1);let{navigator:s,static:a}=r.useContext(q),{matches:c}=r.useContext(K),u=c[c.length-1],d=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let f,m=X();if(n){var v;let e="string"===typeof n?p(n):n;"/"===h||(null==(v=e.pathname)?void 0:v.startsWith(h))||l(!1),f=e}else f=m;let y=f.pathname||"/",b=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!a&&o&&o.matches&&o.matches.length>0?o.matches:g(e,{pathname:b});let x=ae(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:O([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:O([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,o,i);return n&&x?r.createElement(G.Provider,{value:{location:$({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:t.Pop}},x):x}function re(){let e=function(){var e;let t=r.useContext(Y),n=de(ce.UseRouteError),o=he(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[o]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,null)}const oe=r.createElement(re,null);class ie extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(K.Provider,{value:this.props.routeContext},r.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:o}=e,i=r.useContext(W);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(K.Provider,{value:t},o)}function ae(e,t,n,o){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===o&&(o=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=o)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,c=null==(i=n)?void 0:i.errors;if(null!=c){let e=a.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||l(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,d=-1;if(n&&o&&o.v7_partialHydration)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){u=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight(((e,o,i)=>{let s,l=!1,h=null,p=null;var f;n&&(s=c&&o.route.id?c[o.route.id]:void 0,h=o.route.errorElement||oe,u&&(d<0&&0===i?(f="route-fallback",!1||pe[f]||(pe[f]=!0),l=!0,p=null):d===i&&(l=!0,p=o.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),g=()=>{let t;return t=s?h:l?p:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(se,{match:o,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===i)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=r.useContext(W);return t||l(!1),t}function de(e){let t=r.useContext(H);return t||l(!1),t}function he(e){let t=function(){let e=r.useContext(K);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const pe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function me(e){let{to:t,replace:n,state:o,relative:i}=e;Q()||l(!1);let{future:s,static:a}=r.useContext(q),{matches:c}=r.useContext(K),{pathname:u}=X(),d=Z(),h=M(t,N(c,s.v7_relativeSplatPath),u,"path"===i),p=JSON.stringify(h);return r.useEffect((()=>d(JSON.parse(p),{replace:n,state:o,relative:i})),[d,p,i,n,o]),null}function ge(e){l(!1)}function ve(e){let{basename:n="/",children:o=null,location:i,navigationType:s=t.Pop,navigator:a,static:c=!1,future:u}=e;Q()&&l(!1);let d=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:d,navigator:a,static:c,future:$({v7_relativeSplatPath:!1},u)})),[d,u,a,c]);"string"===typeof i&&(i=p(i));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=i,b=r.useMemo((()=>{let e=R(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:s}}),[d,f,m,g,v,y,s]);return null==b?null:r.createElement(q.Provider,{value:h},r.createElement(G.Provider,{children:o,value:b}))}function ye(e){let{children:t,location:n}=e;return ne(be(t),n)}new Promise((()=>{}));r.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,o)=>{if(!r.isValidElement(e))return;let i=[...t,o];if(e.type===r.Fragment)return void n.push.apply(n,be(e.props.children,i));e.type!==ge&&l(!1),e.props.index&&e.props.children&&l(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=be(e.props.children,i)),n.push(s)})),n}var we=n(7119),xe=n.t(we,2);function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(DS){}new Map;const Ce=o.startTransition;xe.flushSync,o.useId;function ke(e){let{basename:t,children:n,future:o,window:i}=e,s=r.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),f((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return d("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,a)));let l=s.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:p}=o||{},m=r.useCallback((e=>{p&&Ce?Ce((()=>u(e))):u(e)}),[u,p]);return r.useLayoutEffect((()=>l.listen(m)),[l,m]),r.useEffect((()=>fe(o)),[o]),r.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:o})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=r.forwardRef((function(e,t){let n,{onClick:o,relative:i,reloadDocument:s,replace:a,state:c,target:u,to:d,preventScrollReset:p,viewTransition:f}=e,m=Se(e,_e),{basename:g}=r.useContext(q),v=!1;if("string"===typeof d&&Ee.test(d)&&(n=d,Te))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=R(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(DS){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Q()||l(!1);let{basename:o,navigator:i}=r.useContext(q),{hash:s,pathname:a,search:c}=te(e,{relative:n}),u=a;return"/"!==o&&(u="/"===a?o:O([o,a])),i.createHref({pathname:u,search:c,hash:s})}(d,{relative:i}),b=function(e,t){let{target:n,replace:o,state:i,preventScrollReset:s,relative:a,viewTransition:l}=void 0===t?{}:t,c=Z(),u=X(),d=te(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==o?o:h(u)===h(d);c(e,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l})}}),[u,c,d,o,i,n,e,s,a,l])}(d,{replace:a,state:c,target:u,preventScrollReset:p,relative:i,viewTransition:f});return r.createElement("a",Ae({},m,{href:n||y,onClick:v||s?o:function(e){o&&o(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Pe,Re;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));var je=n(8168),De=n(8587),Ne=n(2004),Me=n(116),Oe=n(505),Le=n(237),Fe=n(2860),ze=n(7370);const Ve=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(ze.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},Ue=(0,Fe.A)();const Be=function(){return Ve(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue)};var $e=n(4414);const We=["className","component"];var He=n(4501),qe=n(4436),Ge=n(7550),Ke=n(1763);const Ye=(0,Ke.A)("MuiBox",["root"]),Qe=(0,qe.A)(),Xe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:o="MuiBox-root",generateClassName:i}=e,s=(0,Me.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Oe.A),a=r.forwardRef((function(e,r){const a=Be(n),l=(0,Le.A)(e),{className:c,component:u="div"}=l,d=(0,De.A)(l,We);return(0,$e.jsx)(s,(0,je.A)({as:u,ref:r,className:(0,Ne.A)(c,i?i(o):o),theme:t&&a[t]||a},d))}));return a}({themeId:Ge.A,defaultTheme:Qe,defaultClassName:Ye.root,generateClassName:He.A.generate}),Je=Xe;var Ze=n(8463),et=n(3158);const tt=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const o=Be(r),i="function"===typeof t?t(n&&o[n]||o):t;return(0,$e.jsx)(et.A,{styles:i})};var nt=n(195);const rt=function(e){return(0,$e.jsx)(tt,(0,je.A)({},e,{defaultTheme:nt.A,themeId:Ge.A}))},ot=(e,t)=>(0,je.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),it=e=>(0,je.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const st=function(e){const t=(0,Ze.b)({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:o=!1}=t;return(0,$e.jsxs)(r.Fragment,{children:[(0,$e.jsx)(rt,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[n,o]=t;var i;r[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(i=o.palette)?void 0:i.mode}}));let o=(0,je.A)({html:ot(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,je.A)({margin:0},it(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const i=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return i&&(o=[o,i]),o}(e,o)}),n]})},at=!1,lt=!1,ct="${JSCORE_VERSION}",ut=function(e,t){if(!e)throw dt(t)},dt=function(e){return new Error("Firebase Database ("+ct+") INTERNAL ASSERT FAILED: "+e)},ht=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},pt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,s=i?e[o+1]:0,a=o+2<e.length,l=a?e[o+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ht(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const s=o<e.length?n[e.charAt(o)]:64;++o;const a=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==s||null==a)throw new ft;const l=t<<2|i>>4;if(r.push(l),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ft extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mt=function(e){const t=ht(e);return pt.encodeByteArray(t,!0)},gt=function(e){return mt(e).replace(/\./g,"")},vt=function(e){try{return pt.decodeString(e,!0)}catch(DS){console.error("base64Decode failed: ",DS)}return null};function yt(e){return bt(void 0,e)}function bt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=bt(e[n],t[n]));return e}const wt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,xt=()=>{try{return wt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALGOLIA_API_KEY:"b94f7163a6855940c1a0d94e635a307c",REACT_APP_ALGOLIA_APP_ID:"7PVTC2J64R",REACT_APP_ALGOLIA_INDEX_NAME:"searches",REACT_APP_API_URL:"https://sideeye-backend-production.up.railway.app",REACT_APP_FIREBASE_API_KEY:"AIzaSyBI9pvyseKR-5dw3eXuZgTLnG3OcvNGbeI",REACT_APP_FIREBASE_APP_ID:"1:864667627333:web:1ec087179141d1e91a982c",REACT_APP_FIREBASE_AUTH_DOMAIN:"sideeye.uk",REACT_APP_FIREBASE_DATABASE_URL:"https://sideeye-bafda-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"864667627333",REACT_APP_FIREBASE_PROJECT_ID:"sideeye-bafda",REACT_APP_FIREBASE_STORAGE_BUCKET:"sideeye-bafda.firebasestorage.app",REACT_APP_SHOTSTACK_API_KEY:"c0Bpc85oj7cHuDdfhz54eQJmmoEI1qauJyodpw9d",REACT_APP_SOCKET_SERVER_URL:"wss://sideeye-backend-production.up.railway.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(DS){return}const t=e&&vt(e[1]);return t&&JSON.parse(t)})()}catch(DS){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${DS}`)}},At=e=>{var t,n;return null===(n=null===(t=xt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},St=e=>{const t=At(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},_t=()=>{var e;return null===(e=xt())||void 0===e?void 0:e.config},Ct=e=>{var t;return null===(t=xt())||void 0===t?void 0:t[`_${e}`]};class kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Tt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gt(JSON.stringify({alg:"none",type:"JWT"})),gt(JSON.stringify(i)),""].join(".")}function Et(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function It(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function Pt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Rt(){return!0===at||!0===lt}function jt(){return!function(){var e;const t=null===(e=xt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(DS){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dt(){try{return"object"===typeof indexedDB}catch(DS){return!1}}class Nt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],o=r?function(e,t){return e.replace(Ot,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",i=`${this.serviceName}: ${o} (${n}).`;return new Nt(n,i,t)}}const Ot=/\{\$([^}]+)}/g;function Lt(e){return JSON.parse(e)}function Ft(e){return JSON.stringify(e)}const zt=function(e){let t={},n={},r={},o="";try{const i=e.split(".");t=Lt(vt(i[0])||""),n=Lt(vt(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(DS){}return{header:t,claims:n,data:r,signature:o}};function Vt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Bt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function $t(e,t,n){const r={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}function Wt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(Ht(n)&&Ht(i)){if(!Wt(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Ht(e){return null!==e&&"object"===typeof e}function qt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Gt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Kt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Yt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,o,i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),o=1518500249):(r=s^a^l,o=1859775393):u<60?(r=s&a|l&(s|a),o=2400959708):(r=s^a^l,o=3395469782);const e=(i<<5|i>>>27)+r+c+o+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=i,i=e}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const o=this.buf_;let i=this.inbuf_;for(;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++i,++r,i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++i,++r,i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class Qt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Xt),void 0===r.error&&(r.error=Xt),void 0===r.complete&&(r.complete=Xt);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(DS){}})),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(DS){"undefined"!==typeof console&&console.error&&console.error(DS)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Xt(){}function Jt(e,t){return`${e} failed: ${t} argument `}const Zt=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function en(e){return e&&e._delegate?e._delegate:e}class tn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const nn="[DEFAULT]";class rn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new kt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(DS){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(DS){if(r)return null;throw DS}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:nn})}catch(DS){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(DS){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:on(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;return this.component?this.component.multipleInstances?e:nn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function on(e){return e===nn?void 0:e}class sn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const an=[];var ln;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ln||(ln={}));const cn={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},un=ln.INFO,dn={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},hn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=dn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var o=arguments.length,i=new Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...i)};class pn{constructor(e){this.name=e,this._logLevel=un,this._logHandler=hn,this._userLogHandler=null,an.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?cn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}let fn,mn;const gn=new WeakMap,vn=new WeakMap,yn=new WeakMap,bn=new WeakMap,wn=new WeakMap;let xn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||yn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _n(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function An(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mn||(mn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Cn(this),n),_n(gn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _n(e.apply(Cn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(Cn(this),t,...r);return yn.set(i,t.sort?t.sort():[t]),_n(i)}}function Sn(e){return"function"===typeof e?An(e):(e instanceof IDBTransaction&&function(e){if(vn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));vn.set(e,t)}(e),t=e,(fn||(fn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,xn):e);var t}function _n(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(_n(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&gn.set(t,e)})).catch((()=>{})),wn.set(t,e),t}(e);if(bn.has(e))return bn.get(e);const t=Sn(e);return t!==e&&(bn.set(e,t),wn.set(t,e)),t}const Cn=e=>wn.get(e);const kn=["get","getKey","getAll","getAllKeys","count"],Tn=["put","add","delete","clear"],En=new Map;function In(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(En.get(t))return En.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Tn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!kn.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),o&&t.done]))[0]};return En.set(t,i),i}xn=(e=>({...e,get:(t,n,r)=>In(t,n)||e.get(t,n,r),has:(t,n)=>!!In(t,n)||e.has(t,n)}))(xn);class Pn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Rn="@firebase/app",jn="0.11.4",Dn=new pn("@firebase/app"),Nn="@firebase/app-compat",Mn="@firebase/analytics-compat",On="@firebase/analytics",Ln="@firebase/app-check-compat",Fn="@firebase/app-check",zn="@firebase/auth",Vn="@firebase/auth-compat",Un="@firebase/database",Bn="@firebase/data-connect",$n="@firebase/database-compat",Wn="@firebase/functions",Hn="@firebase/functions-compat",qn="@firebase/installations",Gn="@firebase/installations-compat",Kn="@firebase/messaging",Yn="@firebase/messaging-compat",Qn="@firebase/performance",Xn="@firebase/performance-compat",Jn="@firebase/remote-config",Zn="@firebase/remote-config-compat",er="@firebase/storage",tr="@firebase/storage-compat",nr="@firebase/firestore",rr="@firebase/vertexai",or="@firebase/firestore-compat",ir="firebase",sr="[DEFAULT]",ar={[Rn]:"fire-core",[Nn]:"fire-core-compat",[On]:"fire-analytics",[Mn]:"fire-analytics-compat",[Fn]:"fire-app-check",[Ln]:"fire-app-check-compat",[zn]:"fire-auth",[Vn]:"fire-auth-compat",[Un]:"fire-rtdb",[Bn]:"fire-data-connect",[$n]:"fire-rtdb-compat",[Wn]:"fire-fn",[Hn]:"fire-fn-compat",[qn]:"fire-iid",[Gn]:"fire-iid-compat",[Kn]:"fire-fcm",[Yn]:"fire-fcm-compat",[Qn]:"fire-perf",[Xn]:"fire-perf-compat",[Jn]:"fire-rc",[Zn]:"fire-rc-compat",[er]:"fire-gcs",[tr]:"fire-gcs-compat",[nr]:"fire-fst",[or]:"fire-fst-compat",[rr]:"fire-vertex","fire-js":"fire-js",[ir]:"fire-js-all"},lr=new Map,cr=new Map,ur=new Map;function dr(e,t){try{e.container.addComponent(t)}catch(DS){Dn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,DS)}}function hr(e){const t=e.name;if(ur.has(t))return Dn.debug(`There were multiple attempts to register component ${t}.`),!1;ur.set(t,e);for(const n of lr.values())dr(n,e);for(const n of cr.values())dr(n,e);return!0}function pr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const mr=new Mt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class gr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const vr="11.6.0";function yr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:sr,automaticDataCollectionEnabled:!1},t),o=r.name;if("string"!==typeof o||!o)throw mr.create("bad-app-name",{appName:String(o)});if(n||(n=_t()),!n)throw mr.create("no-options");const i=lr.get(o);if(i){if(Wt(n,i.options)&&Wt(r,i.config))return i;throw mr.create("duplicate-app",{appName:o})}const s=new sn(o);for(const l of ur.values())s.addComponent(l);const a=new gr(n,r,s);return lr.set(o,a),a}function br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr;const t=lr.get(e);if(!t&&e===sr&&_t())return yr();if(!t)throw mr.create("no-app",{appName:e});return t}function wr(e,t,n){var r;let o=null!==(r=ar[e])&&void 0!==r?r:e;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${o}" with version "${t}":`];return i&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Dn.warn(e.join(" "))}hr(new tn(`${o}-version`,(()=>({library:o,version:t})),"VERSION"))}const xr="firebase-heartbeat-store";let Ar=null;function Sr(){return Ar||(Ar=function(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=_n(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(_n(s.result),e.oldVersion,e.newVersion,_n(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(xr)}catch(DS){console.warn(DS)}}}).catch((e=>{throw mr.create("idb-open",{originalErrorMessage:e.message})}))),Ar}async function _r(e,t){try{const n=(await Sr()).transaction(xr,"readwrite"),r=n.objectStore(xr);await r.put(t,Cr(e)),await n.done}catch(DS){if(DS instanceof Nt)Dn.warn(DS.message);else{const t=mr.create("idb-set",{originalErrorMessage:null===DS||void 0===DS?void 0:DS.message});Dn.warn(t.message)}}}function Cr(e){return`${e.name}!${e.options.appId}`}class kr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Er(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Tr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(DS){Dn.warn(DS)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Tr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),Ir(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ir(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=gt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(DS){return Dn.warn(DS),""}}}function Tr(){return(new Date).toISOString().substring(0,10)}class Er{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Dt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(pb){t(pb)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Sr()).transaction(xr),n=await t.objectStore(xr).get(Cr(e));return await t.done,n}catch(DS){if(DS instanceof Nt)Dn.warn(DS.message);else{const t=mr.create("idb-get",{originalErrorMessage:null===DS||void 0===DS?void 0:DS.message});Dn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return _r(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return _r(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ir(e){return gt(JSON.stringify({version:2,heartbeats:e})).length}var Pr;Pr="",hr(new tn("platform-logger",(e=>new Pn(e)),"PRIVATE")),hr(new tn("heartbeat",(e=>new kr(e)),"PRIVATE")),wr(Rn,jn,Pr),wr(Rn,jn,"esm2017"),wr("fire-js","");wr("firebase","11.6.0","app");function Rr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function jr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dr=jr,Nr=new Mt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mr=new pn("@firebase/auth");function Or(e){if(Mr.logLevel<=ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mr.error(`Auth (${vr}): ${e}`,...n)}}function Lr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ur(e,...n)}function Fr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ur(e,...n)}function zr(e,t,n){const r=Object.assign(Object.assign({},Dr()),{[t]:n});return new Mt("auth","Firebase",r).create(t,{appName:e.name})}function Vr(e){return zr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Nr.create(e,...n)}function Br(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw Ur(t,...r)}}function $r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Or(t),new Error(t)}function Wr(e,t){e||$r(t)}function Hr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function qr(){return"http:"===Gr()||"https:"===Gr()}function Gr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Kr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(qr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Yr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wr(t>e,"Short delay should be less than long delay!"),this.isMobile=It()||Pt()}get(){return Kr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qr(e,t){Wr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Xr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void $r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void $r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void $r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zr=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eo=new Yr(3e4,6e4);function to(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function no(e,t,n,r){return ro(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const s=qt(Object.assign({key:e.config.apiKey},i)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},o);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Xr.fetch()(await io(e,e.config.apiHost,n,s),l)}))}async function ro(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jr),t);try{const t=new ao(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw lo(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw lo(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw lo(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw lo(e,"user-disabled",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw zr(e,a,s);Lr(e,a)}}catch(DS){if(DS instanceof Nt)throw DS;Lr(e,"network-request-failed",{message:String(DS)})}}async function oo(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await no(e,t,n,r,o);return"mfaPendingCredential"in i&&Lr(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function io(e,t,n,r){const o=`${t}${n}?${r}`,i=e,s=i.config.emulator?Qr(e.config,o):`${e.config.apiScheme}://${o}`;if(Zr.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function so(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ao{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Fr(this.auth,"network-request-failed"))),eo.get())}))}}function lo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Fr(e,t,r);return o.customData._tokenResponse=n,o}function co(e){return void 0!==e&&void 0!==e.enterprise}class uo{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return so(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ho(e,t){return no(e,"GET","/v2/recaptchaConfig",to(e,t))}async function po(e,t){return no(e,"POST","/v1/accounts:lookup",t)}function fo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(DS){}}function mo(e){return 1e3*Number(e)}function go(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Or("JWT malformed, contained fewer than 3 sections"),null;try{const e=vt(n);return e?JSON.parse(e):(Or("Failed to decode base64 JWT payload"),null)}catch(DS){return Or("Caught error parsing JWT payload as JSON",null===DS||void 0===DS?void 0:DS.toString()),null}}function vo(e){const t=go(e);return Br(t,"internal-error"),Br("undefined"!==typeof t.exp,"internal-error"),Br("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function yo(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(DS){throw DS instanceof Nt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(DS)&&e.auth.currentUser===e&&await e.auth.signOut(),DS}}class bo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(DS){return void("auth/network-request-failed"===(null===DS||void 0===DS?void 0:DS.code)&&this.schedule(!0))}this.schedule()}}class wo{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fo(this.lastLoginAt),this.creationTime=fo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xo(e){var t;const n=e.auth,r=await e.getIdToken(),o=await yo(e,po(n,{idToken:r}));Br(null===o||void 0===o?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const s=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?Ao(i.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new wo(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function Ao(e){return e.map((e=>{var{providerId:t}=e,n=Rr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Br(e.idToken,"internal-error"),Br("undefined"!==typeof e.idToken,"internal-error"),Br("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):vo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Br(0!==e.length,"internal-error");const t=vo(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Br(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await ro(e,{},(async()=>{const n=qt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=await io(e,r,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Xr.fetch()(i,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new So;return n&&(Br("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Br("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(Br("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return $r("not implemented")}}function _o(e,t){Br("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Co{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,o=Rr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wo(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await yo(this,this.stsTokenManager.getToken(this.auth,e));return Br(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=en(e),r=await n.getIdToken(t),o=go(r);Br(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,s=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:fo(mo(o.auth_time)),issuedAtTime:fo(mo(o.iat)),expirationTime:fo(mo(o.exp)),signInProvider:s||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=en(e);await xo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Br(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Co(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Br(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await xo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await yo(this,async function(e,t){return no(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,i,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(i=t.photoURL)&&void 0!==i?i:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:A}=t;Br(y&&A,e,"internal-error");const S=So.fromJSON(this.name,A);Br("string"===typeof y,e,"internal-error"),_o(u,e.name),_o(d,e.name),Br("boolean"===typeof b,e,"internal-error"),Br("boolean"===typeof w,e,"internal-error"),_o(h,e.name),_o(p,e.name),_o(f,e.name),_o(m,e.name),_o(g,e.name),_o(v,e.name);const _=new Co({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:S,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(_.providerData=x.map((e=>Object.assign({},e)))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new So;r.updateFromServerResponse(t);const o=new Co({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await xo(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Br(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?Ao(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===o||void 0===o?void 0:o.length),s=new So;s.updateFromIdToken(n);const a=new Co({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new wo(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===o||void 0===o?void 0:o.length)};return Object.assign(a,l),a}}const ko=new Map;function To(e){Wr(e instanceof Function,"Expected a class definition");let t=ko.get(e);return t?(Wr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ko.set(e,t),t)}class Eo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Eo.type="NONE";const Io=Eo;function Po(e,t,n){return`firebase:${e}:${t}:${n}`}class Ro{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=Po(this.userKey,r.apiKey,o),this.fullPersistenceKey=Po("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await po(this.auth,{idToken:e}).catch((()=>{}));return t?Co._fromGetAccountInfoResponse(this.auth,t,e):null}return Co._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ro(To(Io),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let o=r[0]||To(Io);const i=Po(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await po(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await Co._fromGetAccountInfoResponse(e,r,t)}else n=Co._fromJSON(e,t);c!==o&&(s=n),o=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return o._shouldAllowMigration&&a.length?(o=a[0],s&&await o._set(i,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==o)try{await e._remove(i)}catch(l){}}))),new Ro(o,e,n)):new Ro(o,e,n)}}function jo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Oo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Do(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Fo(t))return"Blackberry";if(zo(t))return"Webos";if(No(t))return"Safari";if((t.includes("chrome/")||Mo(t))&&!t.includes("edge/"))return"Chrome";if(Lo(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Do(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/firefox\//i.test(e)}function No(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/crios\//i.test(e)}function Oo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/iemobile/i.test(e)}function Lo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/android/i.test(e)}function Fo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/blackberry/i.test(e)}function zo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/webos/i.test(e)}function Vo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Uo(){return function(){const e=Et();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Bo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return Vo(e)||Lo(e)||zo(e)||Fo(e)||/windows phone/i.test(e)||Oo(e)}function $o(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=jo(Et());break;case"Worker":t=`${jo(Et())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${vr}/${r}`}class Wo{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(DS){r(DS)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(DS){t.reverse();for(const n of t)try{n()}catch(g_){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===DS||void 0===DS?void 0:DS.message})}}}class Ho{constructor(e){var t,n,r,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,o,i,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(o=a.containsUppercaseLetter)||void 0===o||o),a.isValid&&(a.isValid=null===(i=a.containsNumericCharacter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class qo{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ko(this),this.idTokenSubscription=new Ko(this),this.beforeStateQueue=new Wo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=To(t)),this._initializationPromise=this.queue((async()=>{var n,r,o;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(DS){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(o=this.currentUser)||void 0===o?void 0:o.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await po(this,{idToken:e}),n=await Co._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==i||!(null===s||void 0===s?void 0:s.user)||(r=s.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(DS){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(DS)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Br(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(DS){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xo(e)}catch(DS){if("auth/network-request-failed"!==(null===DS||void 0===DS?void 0:DS.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Vr(this));const t=e?en(e):null;return t&&Br(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Br(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return fr(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Vr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(To(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return no(e,"GET","/v2/passwordPolicy",to(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ho(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return no(e,"POST","/v2/accounts:revokeToken",to(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&To(e)||this._popupRedirectResolver;Br(t,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[To(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Br(s,this,"internal-error"),s.then((()=>{i||o(this.currentUser)})),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Br(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$o(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Mr.logLevel<=ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mr.warn(`Auth (${vr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Go(e){return en(e)}class Ko{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Qt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Br(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qo(e){return Yo.loadJS(e)}function Xo(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Jo{constructor(){this.enterprise=new Zo}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Zo{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ei="NO_RECAPTCHA";class ti{constructor(e){this.type="recaptcha-enterprise",this.auth=Go(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;co(o)?o.enterprise.ready((()=>{o.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(ei)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Jo).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ho(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new uo(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((o=>{if(!t&&co(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Yo.recaptchaEnterpriseScript;0!==t.length&&(t+=o),Qo(t).then((()=>{n(o,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ni(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new ti(e);let s;if(o)s=ei;else try{s=await i.verify(n)}catch(pb){s=await i.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ri(e,t,n,r,o){var i,s;if("EMAIL_PASSWORD_PROVIDER"===o){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ni(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch((async o=>{if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ni(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)}))}if("PHONE_PROVIDER"===o){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const o=await ni(e,t,n);return r(e,o).catch((async o=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===o.code||"auth/invalid-app-credential"===o.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const o=await ni(e,t,n,!1,!0);return r(e,o)}return Promise.reject(o)}))}{const o=await ni(e,t,n,!1,!0);return r(e,o)}}return Promise.reject(o+" provider is not supported.")}async function oi(e){const t=Go(e),n=await ho(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new uo(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new ti(t).verify()}}function ii(e,t,n){const r=Go(e);Br(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(null===n||void 0===n?void 0:n.disableWarnings),i=si(t),{host:s,port:a}=function(e){const t=si(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:ai(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ai(t)}}}(t),l={url:`${i}//${s}${null===a?"":`:${a}`}/`},c=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator)return Br(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Br(Wt(l,r.config.emulator)&&Wt(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function si(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ai(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class li{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,t){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function ci(e,t){return no(e,"POST","/v1/accounts:signUp",t)}async function ui(e,t){return oo(e,"POST","/v1/accounts:signInWithPassword",to(e,t))}async function di(e,t){return no(e,"POST","/v1/accounts:sendOobCode",to(e,t))}async function hi(e,t){return di(e,t)}class pi extends li{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new pi(e,t,"password")}static _fromEmailAndCode(e,t){return new pi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ri(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ui,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return oo(e,"POST","/v1/accounts:signInWithEmailLink",to(e,t))}(e,{email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ri(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ci,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return oo(e,"POST","/v1/accounts:signInWithEmailLink",to(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function fi(e,t){return oo(e,"POST","/v1/accounts:signInWithIdp",to(e,t))}class mi extends li{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=Rr(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new mi(n,r);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){return fi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,fi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qt(t)}return e}}async function gi(e,t){return no(e,"POST","/v1/accounts:sendVerificationCode",to(e,t))}const vi={USER_NOT_FOUND:"user-not-found"};class yi extends li{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new yi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new yi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return oo(e,"POST","/v1/accounts:signInWithPhoneNumber",to(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await oo(e,"POST","/v1/accounts:signInWithPhoneNumber",to(e,t));if(n.temporaryProof)throw lo(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return oo(e,"POST","/v1/accounts:signInWithPhoneNumber",to(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),vi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new yi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class bi{constructor(e){var t,n,r,o,i,s;const a=Gt(Kt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Br(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(o=a.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=a.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Gt(Kt(e)).link,n=t?Gt(Kt(t)).deep_link_id:null,r=Gt(Kt(e)).deep_link_id;return(r?Gt(Kt(r)).link:null)||r||n||t||e}(e);try{return new bi(t)}catch(n){return null}}}class wi{constructor(){this.providerId=wi.PROVIDER_ID}static credential(e,t){return pi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=bi.parseLink(t);return Br(n,"argument-error"),pi._fromEmailAndCode(e,n.code,n.tenantId)}}wi.PROVIDER_ID="password",wi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",wi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ai extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Si extends Ai{constructor(){super("facebook.com")}static credential(e){return mi._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Si.credential(t.oauthAccessToken)}catch(n){return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com",Si.PROVIDER_ID="facebook.com";class _i extends Ai{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mi._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return _i.credential(n,r)}catch(o){return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com",_i.PROVIDER_ID="google.com";class Ci extends Ai{constructor(){super("github.com")}static credential(e){return mi._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ci.credential(t.oauthAccessToken)}catch(n){return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com",Ci.PROVIDER_ID="github.com";class ki extends Ai{constructor(){super("twitter.com")}static credential(e,t){return mi._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ki.credential(n,r)}catch(o){return null}}}async function Ti(e,t){return oo(e,"POST","/v1/accounts:signUp",to(e,t))}ki.TWITTER_SIGN_IN_METHOD="twitter.com",ki.PROVIDER_ID="twitter.com";class Ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await Co._fromIdTokenResponse(e,n,r),i=Ii(n);return new Ei({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ii(n);return new Ei({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ii(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Pi extends Nt{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Pi.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Pi(e,t,n,r)}}function Ri(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Pi._fromErrorAndOperation(e,n,t,r);throw n}))}async function ji(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await yo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ei._forOperation(e,"link",r)}async function Di(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(fr(r.app))return Promise.reject(Vr(r));const o="reauthenticate";try{const i=await yo(e,Ri(r,o,t,e),n);Br(i.idToken,r,"internal-error");const s=go(i.idToken);Br(s,r,"internal-error");const{sub:a}=s;return Br(e.uid===a,r,"user-mismatch"),Ei._forOperation(e,o,i)}catch(DS){throw"auth/user-not-found"===(null===DS||void 0===DS?void 0:DS.code)&&Lr(r,"user-mismatch"),DS}}async function Ni(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(fr(e.app))return Promise.reject(Vr(e));const r="signIn",o=await Ri(e,r,t),i=await Ei._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}async function Mi(e,t){return Ni(Go(e),t)}async function Oi(e,t){return Di(en(e),t)}function Li(e,t,n){var r;Br((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Br("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Br("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Br(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Br(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Fi(e){const t=Go(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function zi(e,t){const n=en(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Li(n.auth,r,t);const{email:o}=await async function(e,t){return di(e,t)}(n.auth,r);o!==e.email&&await e.reload()}async function Vi(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const o=en(e),i={idToken:await o.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await yo(o,async function(e,t){return no(e,"POST","/v1/accounts:update",t)}(o.auth,i));o.displayName=s.displayName||null,o.photoURL=s.photoUrl||null;const a=o.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=o.displayName,a.photoURL=o.photoURL),await o._updateTokensIfNecessary(s)}function Ui(e,t,n,r){return en(e).onAuthStateChanged(t,n,r)}function Bi(e){return en(e).signOut()}function $i(e,t){return no(e,"POST","/v2/accounts/mfaEnrollment:start",to(e,t))}new WeakMap;const Wi="__sak";class Hi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wi,"1"),this.storage.removeItem(Wi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class qi extends Hi{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bo(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);Uo()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qi.type="LOCAL";const Gi=qi;function Ki(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),o=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(o))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function Yi(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Qi{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Yi(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Ki(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Yi(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=Yi(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Ki(n);const o=setInterval((()=>{const e=Ki(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(o)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Qi.type="COOKIE";class Xi extends Hi{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Xi.type="SESSION";const Ji=Xi;class Zi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Zi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map((async e=>e(t.origin,o))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zi.receivers=[];class ts{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise(((s,a)=>{const l=es("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),s(t.data.response);break;default:clearTimeout(c),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function ns(){return window}function rs(){return"undefined"!==typeof ns().WorkerGlobalScope&&"function"===typeof ns().importScripts}const os="firebaseLocalStorageDb",is="firebaseLocalStorage",ss="fbase_key";class as{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ls(e,t){return e.transaction([is],t?"readwrite":"readonly").objectStore(is)}function cs(){const e=indexedDB.open(os,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(is,{keyPath:ss})}catch(DS){n(DS)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(is)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(os);return new as(e).toPromise()}(),t(await cs()))}))}))}async function us(e,t,n){const r=ls(e,!0).put({[ss]:t,value:n});return new as(r).toPromise()}function ds(e,t){const n=ls(e,!0).delete(t);return new as(n).toPromise()}class hs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await cs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(DS){if(t++>3)throw DS;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zi._getInstance(rs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ts(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cs();return await us(e,Wi,"1"),await ds(e,Wi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>us(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ls(e,!1).get(t),r=await new as(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ds(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ls(e,!1).getAll();return new as(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}hs.type="LOCAL";const ps=hs;function fs(e,t){return no(e,"POST","/v2/accounts/mfaSignIn:start",to(e,t))}Xo("rcb"),new Yr(3e4,6e4);const ms="recaptcha";async function gs(e,t,n){var r;if(!e._getRecaptchaConfig())try{await oi(e)}catch(pb){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Br("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=ri(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ei){Br((null===n||void 0===n?void 0:n.type)===ms,e,"argument-error");return $i(e,await vs(e,t,n))}return $i(e,t)}),"PHONE_PROVIDER"),s=await i.catch((e=>Promise.reject(e)));return s.phoneSessionInfo.sessionInfo}{Br("signin"===t.type,e,"internal-error");const i=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Br(i,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=ri(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ei){Br((null===n||void 0===n?void 0:n.type)===ms,e,"argument-error");return fs(e,await vs(e,t,n))}return fs(e,t)}),"PHONE_PROVIDER"),l=await a.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=ri(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===ei){Br((null===n||void 0===n?void 0:n.type)===ms,e,"argument-error");return gi(e,await vs(e,t,n))}return gi(e,t)}),"PHONE_PROVIDER"),i=await r.catch((e=>Promise.reject(e)));return i.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function vs(e,t,n){Br(n.type===ms,e,"argument-error");const r=await n.verify();Br("string"===typeof r,e,"argument-error");const o=Object.assign({},t);if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.captchaResponse,n=o.phoneEnrollmentInfo.clientType,i=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),o}if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.captchaResponse,t=o.phoneSignInInfo.clientType,n=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),o}return Object.assign(o,{recaptchaToken:r}),o}class ys{constructor(e){this.providerId=ys.PROVIDER_ID,this.auth=Go(e)}verifyPhoneNumber(e,t){return gs(this.auth,e,en(t))}static credential(e,t){return yi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ys.credentialFromTaggedObject(t)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?yi._fromTokenResponse(n,r):null}}function bs(e,t){return t?To(t):(Br(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ys.PROVIDER_ID="phone",ys.PHONE_SIGN_IN_METHOD="phone";class ws extends li{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xs(e){return Ni(e.auth,new ws(e),e.bypassAuthState)}function As(e){const{auth:t,user:n}=e;return Br(n,t,"internal-error"),Di(n,new ws(e),e.bypassAuthState)}async function Ss(e){const{auth:t,user:n}=e;return Br(n,t,"internal-error"),ji(n,new ws(e),e.bypassAuthState)}class _s{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(DS){this.reject(DS)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:s}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(DS){this.reject(DS)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xs;case"linkViaPopup":case"linkViaRedirect":return Ss;case"reauthViaPopup":case"reauthViaRedirect":return As;default:Lr(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cs=new Yr(2e3,1e4);class ks extends _s{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Br(e,this.auth,"internal-error"),e}async onExecution(){Wr(1===this.filter.length,"Popup operations only handle one event");const e=es();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Fr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Cs.get())};e()}}ks.currentPopupAction=null;const Ts=new Map;class Es extends _s{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ts.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Rs(t),r=Ps(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(DS){e=()=>Promise.reject(DS)}Ts.set(this.auth._key(),e)}return this.bypassAuthState||Ts.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Is(e,t){Ts.set(e._key(),t)}function Ps(e){return To(e._redirectPersistence)}function Rs(e){return Po("pendingRedirect",e.config.apiKey,e.name)}async function js(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(fr(e.app))return Promise.reject(Vr(e));const r=Go(e),o=bs(r,t),i=new Es(r,o,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Ds{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ms(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ms(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Fr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ns(e))}saveEventToCache(e){this.cachedEventUids.add(Ns(e)),this.lastProcessedEventTime=Date.now()}}function Ns(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ms(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Os=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ls=/^https?/;async function Fs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return no(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(zs(r))return}catch(n){}Lr(e,"unauthorized-domain")}function zs(e){const t=Hr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Ls.test(n))return!1;if(Os.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Vs=new Yr(3e4,6e4);function Us(){const e=ns().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Bs(e){return new Promise(((t,n)=>{var r,o,i;function s(){Us(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Us(),n(Fr(e,"network-request-failed"))},timeout:Vs.get()})}if(null===(o=null===(r=ns().gapi)||void 0===r?void 0:r.iframes)||void 0===o?void 0:o.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=ns().gapi)||void 0===i?void 0:i.load)){const t=Xo("iframefcb");return ns()[t]=()=>{gapi.load?s():n(Fr(e,"network-request-failed"))},Qo(`${Yo.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw $s=null,e}))}let $s=null;const Ws=new Yr(5e3,15e3),Hs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gs(e){const t=e.config;Br(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:vr},o=qs.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${qt(r).slice(1)}`}async function Ks(e){const t=await function(e){return $s=$s||Bs(e),$s}(e),n=ns().gapi;return Br(n,e,"internal-error"),t.open({where:document.body,url:Gs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hs,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=Fr(e,"network-request-failed"),i=ns().setTimeout((()=>{r(o)}),Ws.get());function s(){ns().clearTimeout(i),n(t)}t.ping(s).then(s,(()=>{r(o)}))}))))}const Ys={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(DS){}}}function Xs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ys),{width:r.toString(),height:o.toString(),top:i,left:s}),c=Et().toLowerCase();n&&(a=Mo(c)?"_blank":n),Do(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Vo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Qs(null);const d=window.open(t||"",a,u);Br(d,e,"popup-blocked");try{d.focus()}catch(DS){}return new Qs(d)}const Js="__/auth/handler",Zs="emulator/auth/handler",ea=encodeURIComponent("fac");async function ta(e,t,n,r,o,i){Br(e.config.authDomain,e,"auth-domain-config-required"),Br(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vr,eventId:o};if(t instanceof xi){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Bt(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof Ai){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${ea}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Js}`;return Qr(t,Zs)}(e)}?${qt(a).slice(1)}${c}`}const na="webStorageSupport";const ra=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ji,this._completeRedirectFn=js,this._overrideRedirectResult=Is}async _openPopup(e,t,n,r){var o;Wr(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return Xs(e,await ta(e,t,n,Hr(),r),es())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ns().location.href=e}(await ta(e,t,n,Hr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Wr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ks(e),n=new Ds(e);return t.register("authEvent",(t=>{Br(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(na,{type:na},(n=>{var r;const o=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[na];void 0!==o&&t(!!o),Lr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Fs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Bo()||No()||Vo()}};var oa="@firebase/auth",ia="1.10.0";class sa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Br(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const aa=Ct("authIdTokenMaxAge")||300;let la=null;var ca;!function(e){Yo=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Fr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),ca="Browser",hr(new tn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Br(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:ca,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$o(ca)},c=new qo(r,o,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(To);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),hr(new tn("auth-internal",(e=>(e=>new sa(e))(Go(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),wr(oa,ia,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ca)),wr(oa,ia,"esm2017");var ua,da,ha="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},pa={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var o=0;16>o;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var i=e.g[3],s=t+(i^n&(o^i))+r[0]+3614090360&4294967295;s=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=n+(s<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^i&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^o^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(o^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=n+((s=t+(o^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((o=i+((s=o+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,o=e.length-1;0<=o;o--){var i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,o=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(o[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,o),i=0;break}}else for(;s<t;)if(o[i++]=e[s++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var o={};function i(e){return-128<=e&&128>e?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,o=0;e>=n;o++)t[o]=e/n|0,n*=4294967296;return new r(t,0)}var a=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],o=0;o<t;o++)n[o]=~e.g[o];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var o=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(o=o.add(n),i=c),r=y(r,1),n=y(n,1)}return t=p(e,o.j(t)),new m(o,t)}for(o=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=s(n)).j(t);d(c)||0<c.l(e);)c=(i=s(n-=r)).j(t);u(i)&&(i=l),o=o.add(i),e=p(e,c)}return new m(o,e)}function v(e){for(var t=e.g.length+1,n=[],o=0;o<t;o++)n[o]=e.i(o)<<1|e.i(o-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var o=e.g.length-n,i=[],s=0;s<o;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var o=g(n,t).g,i=((0<(n=p(n,o.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=o))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0,i=0;i<=t;i++){var s=o+(65535&this.i(i))+(65535&e.i(i)),a=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);o=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],o=0;o<2*t;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var i=0;i<e.g.length;i++){var l=this.i(o)>>>16,p=65535&this.i(o),m=e.i(i)>>>16,g=65535&e.i(i);n[2*o+2*i]+=p*g,f(n,2*o+2*i),n[2*o+2*i+1]+=l*g,f(n,2*o+2*i+1),n[2*o+2*i+1]+=p*m,f(n,2*o+2*i+1),n[2*o+2*i+2]+=l*m,f(n,2*o+2*i+2)}for(o=0;o<t;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=t;o<2*t;o++)n[o]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)&e.i(o);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)|e.i(o);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)^e.i(o);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,da=pa.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),o=a,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=s(Math.pow(n,l)),o=o.j(l).add(s(c))):o=(o=o.j(r)).add(s(c))}return o},ua=pa.Integer=r}).apply("undefined"!==typeof ha?ha:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var fa,ma,ga,va,ya,ba,wa,xa,Aa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Sa={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Aa&&Aa];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in o))break e;o=o[s]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,(function(e,t){return t}))}}));var r=r||{},o=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function A(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){o.setTimeout((()=>{throw e}),0)}function _(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new k),(e=>e.reset()));class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,E=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=o.Promise.resolve(void 0);T=()=>{e.then(R)}};var R=()=>{for(var e;e=_();){try{e.h.call(e.g)}catch(zS){S(zS)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}E=!1};function j(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(zS){}return e}();function M(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var o=!0;break e}catch(WS){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,D);var O={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}U.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=$(e,t,r,o);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new z(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function q(e,t,n,r,o){if(r&&r.once)return K(e,t,n,r,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)q(e,t[i],n,r,o);return null}return n=te(n),e&&e[L]?e.K(t,n,s(r)?!!r.capture:!!r,o):G(e,t,n,!1,r,o)}function G(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a=s(o)?!!o.capture:!!o,l=Z(e);if(l||(e[W]=l=new U(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)N||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,o){if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,o);return null}return n=te(n),e&&e[L]?e.L(t,n,s(r)?!!r.capture:!!r,o):G(e,t,n,!0,r,o)}function Y(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],n,r,o);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(i=e.g[t],n,r,o))&&(V(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,o)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):V(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){j.call(this),this.i=new U(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var o=t;x(t=new D(r,e),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];o=oe(s,r,!0,t)&&o}if(o=oe(s=t.g=e,r,!0,t)&&o,o=oe(s,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=oe(s=t.g=n[i],r,!1,t)&&o}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&B(e.i,s),o=!1!==a.call(l,r)&&o}}return o&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function se(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,j),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends j{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){j.call(this),this.h=e,this.g={}}d(le,j);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=o.JSON.stringify,he=o.JSON.parse,pe=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function fe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){D.call(this,"d")}function be(){D.call(this,"c")}d(ye,D),d(be,D);var we={},xe=null;function Ae(){return xe=xe||new ne}function Se(e){D.call(this,we.La,e)}function _e(e){const t=Ae();re(t,new Se(t))}function Ce(e,t){D.call(this,we.STAT_EVENT,e),this.stat=t}function ke(e){const t=Ae();re(t,new Ce(t,e))}function Te(e,t){D.call(this,we.Ma,e),this.size=t}function Ee(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<o.length;s++)o[s]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(Se,D),we.STAT_EVENT="statevent",d(Ce,D),we.Ma="timingevent",d(Te,D),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Re,je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ne(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}d(Ne,fe),Ne.prototype.g=function(){return new XMLHttpRequest},Ne.prototype.i=function(){return{}},Re=new Ne;var Le={},Fe={};function ze(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var o="readystatechange";Array.isArray(o)||(o&&(ce[0]=o.toString()),o=ce);for(var i=0;i<o.length;i++){var s=q(n,o[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_e(),function(e,t,n,r,o,i){e.info((function(){if(e.g)if(i)for(var s="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ee(c(e.ba,e),t)}function He(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||an(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(MS){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Yt(n)}nn(n),ke(18)}}else n.za=o[1],0<n.za-n.T&&37500>o[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ee(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(MS){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&sn(n),!f(t))for(o=n.Da.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const o=c[4];null!=o&&(n.Aa=o,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(He(a),$e(a)),r.g=s}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Kt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}_e()}catch(MS){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=h||7==t||_e(),He(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=Ht(this.g);e="";var i=r.length,s=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),qe(this);var a="";break t}this.h.i=new o.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,o,i,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,ke(12),Ge(this),qe(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Fe){4==h&&(this.s=4,ke(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,ke(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ke(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),rn(d),d.M=!0,ke(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),qe(this)}else Pe(this.i,this.l,a,null),Ke(this,a);4==h&&Ge(this),this.o&&!this.J&&(4==h?an(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=A(e[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),Ge(this),qe(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,Ge(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(_e(),ke(17)),Ge(this),this.s=2,qe(this)):We(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,o.PerformanceNavigationTiming?e=0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),o=r.length,s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function st(e){return new it(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(At(this,t),_t(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,yt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?vt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,vt=/[#\?]/g,yt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function At(e,t){xt(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return xt(e),t=Ct(e,t),e.g.has(t)}function _t(e,t,n){At(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(WS){}}function Tt(){this.g=new pe}function Et(e,t,n){const r=n||"";try{rt(e,(function(e,n){let o=e;s(e)&&(o=de(e)),t.push(r+n+"="+encodeURIComponent(o))}))}catch(DS){throw t.push(r+"type="+encodeURIComponent("_badmap")),DS}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ot(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const o=e[r];for(let e=0;e<o.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,St(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var o=i;""!==s[r]&&(o+="="+encodeURIComponent(String(s[r]))),e.push(o)}}return this.i=e.join("&")},d(It,fe),It.prototype.g=function(){return new Pt(this.l,this.j)},It.prototype.i=function(e){return function(){return e}}({}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):Dt(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Qa=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ot,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Bt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Ut(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var s=String(e.D).match(ot)[1]||null;!s&&o.self&&o.self.location&&(s=o.self.location.protocol.slice(0,-1)),i=!Lt.test(s?s.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Vt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(DS){}}}function $t(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ca){return null}}function qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qt("baseRetryDelayMs",5e3,e),this.cb=qt("retryDelaySeedMs",1e4,e),this.Wa=qt("forwardChannelMaxRetries",2,e),this.wa=qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kt(e){if(Qt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch($S){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}un(e)}function Yt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Qt(e){Yt(e),e.u&&(o.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&o.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||P(),E||(T(),E=!0),I.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function Zt(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=o[a].g;const l=o[a].map;if(n-=t,0>n)t=Math.max(0,o[a].g-100),s=!1;else try{Et(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||P(),E||(T(),E=!0),I.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ee(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ve(n,e)}function sn(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function an(e,t){var n=null;if(e.g==t){sn(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var o=e.B;re(r=Ae(),new Te(r,n)),Xt(e)}else tn(e);else if(3==(o=t.s)||0==o&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ee(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),o){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ie;if(o.Image){const r=new Image;r.onload=u(kt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(kt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(kt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(kt,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),kt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)})).catch((()=>{clearTimeout(r),kt(0,0,!1,t)}))}(r.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),un(e),Qt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof it?st(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new it(null);r&&at(s,r),t&&(s.g=t),i&&lt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ot(new It({eb:n})):new Ot(e.pa)).Ha(e.J),t}function pn(){}function fn(){}function mn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yn(this)}function gn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function yn(e){this.g=e}(e=Ot.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?me(this.o):me(Re),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(WS){return void zt(this,WS)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(WS){zt(this,WS)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Ot.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(OS){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(OS){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){ke(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const o=new Me(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),x(i,this.S)):i=this.S),null!==this.m||this.O||(o.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,o,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Nt(i)))+"&"+t:this.m&&Mt(n,this.m,i)),et(this.h,o),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),o.T=!0,ze(o,n,null)):ze(o,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ee(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Yt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),nn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Kt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ye),d(vn,be),d(yn,pn),yn.prototype.ua=function(){re(this.g,"a")},yn.prototype.ta=function(e){re(this.g,new gn(e))},yn.prototype.sa=function(e){re(this.g,new vn)},yn.prototype.ra=function(){re(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,xa=Sa.createWebChannelTransport=function(){return new fn},wa=Sa.getStatEventTarget=function(){return Ae()},ba=Sa.Event=we,ya=Sa.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,va=Sa.ErrorCode=je,De.COMPLETE="complete",ga=Sa.EventType=De,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ma=Sa.WebChannel=ge,Sa.FetchXmlHttpFactory=It,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,fa=Sa.XhrIo=Ot}).apply("undefined"!==typeof Aa?Aa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const _a="@firebase/firestore",Ca="4.7.10";class ka{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ka.UNAUTHENTICATED=new ka(null),ka.GOOGLE_CREDENTIALS=new ka("google-credentials-uid"),ka.FIRST_PARTY=new ka("first-party-uid"),ka.MOCK_USER=new ka("mock-user");let Ta="11.5.0";const Ea=new pn("@firebase/firestore");function Ia(){return Ea.logLevel}function Pa(e){if(Ea.logLevel<=ln.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(Da);Ea.debug(`Firestore (${Ta}): ${e}`,...o)}}function Ra(e){if(Ea.logLevel<=ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(Da);Ea.error(`Firestore (${Ta}): ${e}`,...o)}}function ja(e){if(Ea.logLevel<=ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(Da);Ea.warn(`Firestore (${Ta}): ${e}`,...o)}}function Da(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(NS){return e}}function Na(){const e=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Ra(e),new Error(e)}function Ma(e,t){e||Na()}function Oa(e,t){return e}const La={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fa extends Nt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class za{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Va{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ua{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ka.UNAUTHENTICATED)))}shutdown(){}}class Ba{constructor(e){this.t=e,this.currentUser=ka.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ma(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new za;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new za,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=o;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Pa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Pa("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new za)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Pa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ma("string"==typeof t.accessToken),new Va(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ma(null===e||"string"==typeof e),new ka(e)}}class $a{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ka.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Wa{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new $a(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ka.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ha{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qa{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,fr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ma(void 0===this.o);const n=e=>{null!=e.error&&Pa("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Pa("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Pa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Pa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Ha(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ma("string"==typeof e.token),this.R=e.token,new Ha(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ga(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Ka(){return new TextEncoder}class Ya{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ga(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Qa(e,t){return e<t?-1:e>t?1:0}function Xa(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),o=t.codePointAt(n);if(r!==o){if(r<128&&o<128)return Qa(r,o);{const i=Ka(),s=Za(i.encode(Ja(e,n)),i.encode(Ja(t,n)));return 0!==s?s:Qa(r,o)}}n+=r>65535?2:1}return Qa(e.length,t.length)}function Ja(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Za(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Qa(e[n],t[n]);return Qa(e.length,t.length)}function el(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const tl=-62135596800,nl=1e6;class rl{static now(){return rl.fromMillis(Date.now())}static fromDate(e){return rl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*nl);return new rl(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fa(La.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fa(La.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tl)throw new Fa(La.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fa(La.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nl}_compareTo(e){return this.seconds===e.seconds?Qa(this.nanoseconds,e.nanoseconds):Qa(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ol{static fromTimestamp(e){return new ol(e)}static min(){return new ol(new rl(0,0))}static max(){return new ol(new rl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const il="__name__";class sl{constructor(e,t,n){void 0===t?t=0:t>e.length&&Na(),void 0===n?n=e.length-t:n>e.length-t&&Na(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===sl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sl?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=sl.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Qa(e.length,t.length)}static compareSegments(e,t){const n=sl.isNumericId(e),r=sl.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?sl.extractNumericId(e).compare(sl.extractNumericId(t)):Xa(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}}class al extends sl{construct(e,t,n){return new al(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new Fa(La.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);e.push(...o.split("/").filter((e=>e.length>0)))}return new al(e)}static emptyPath(){return new al([])}}const ll=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cl extends sl{construct(e,t,n){return new cl(e,t,n)}static isValidIdentifier(e){return ll.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cl.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===il}static keyField(){return new cl([il])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new Fa(La.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Fa(La.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Fa(La.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new Fa(La.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cl(t)}static emptyPath(){return new cl([])}}class ul{constructor(e){this.path=e}static fromPath(e){return new ul(al.fromString(e))}static fromName(e){return new ul(al.fromString(e).popFirst(5))}static empty(){return new ul(al.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===al.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return al.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ul(new al(e.slice()))}}const dl=-1;class hl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}hl.UNKNOWN_ID=-1;function pl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=ol.fromTimestamp(1e9===r?new rl(n+1,0):new rl(n,r));return new ml(o,ul.empty(),t)}function fl(e){return new ml(e.readTime,e.key,dl)}class ml{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ml(ol.min(),ul.empty(),dl)}static max(){return new ml(ol.max(),ul.empty(),dl)}}function gl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ul.comparator(e.documentKey,t.documentKey),0!==n?n:Qa(e.largestBatchId,t.largestBatchId))}const vl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bl(e){if(e.code!==La.FAILED_PRECONDITION||e.message!==vl)throw e;Pa("LocalStore","Unexpectedly lost primary lease")}class wl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Na(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new wl(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof wl?t:wl.resolve(t)}catch(e){return wl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):wl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):wl.reject(t)}static resolve(e){return new wl(((t,n)=>{t(e)}))}static reject(e){return new wl(((t,n)=>{n(e)}))}static waitFor(e){return new wl(((t,n)=>{let r=0,o=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++o,i&&o===r&&t()}),(e=>n(e)))})),i=!0,o===r&&t()}))}static or(e){let t=wl.resolve(!1);for(const n of e)t=t.next((e=>e?wl.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new wl(((n,r)=>{const o=e.length,i=new Array(o);let s=0;for(let a=0;a<o;a++){const l=a;t(e[l]).next((e=>{i[l]=e,++s,s===o&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new wl(((n,r)=>{const o=()=>{!0===e()?t().next((()=>{o()}),r):n()};o()}))}}function xl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(e){return"IndexedDbTransactionError"===e.name}class Sl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Sl.ae=-1;const _l=-1;function Cl(e){return null==e}function kl(e){return 0===e&&1/e==-1/0}function Tl(e){return"number"==typeof e&&Number.isInteger(e)&&!kl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const El="\x01";function Il(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Rl(t)),t=Pl(e.get(n),t);return Rl(t)}function Pl(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const t=e.charAt(o);switch(t){case"\0":n+="\x01\x10";break;case El:n+="\x01\x11";break;default:n+=t}}return n}function Rl(e){return e+El+"\x01"}const jl="remoteDocuments",Dl="owner",Nl="mutationQueues",Ml="mutations";const Ol="documentMutations",Ll="remoteDocumentsV14",Fl="remoteDocumentGlobal",zl="targets",Vl="targetDocuments",Ul="targetGlobal",Bl="collectionParents",$l="clientMetadata",Wl="bundles",Hl="namedQueries",ql="indexConfiguration",Gl="indexState",Kl="indexEntries",Yl="documentOverlays",Ql="globals",Xl=[Nl,Ml,Ol,jl,zl,Dl,Ul,Vl,$l,Fl,Bl,Wl,Hl],Jl=[Nl,Ml,Ol,Ll,zl,Dl,Ul,Vl,$l,Fl,Bl,Wl,Hl,Yl],Zl=Jl,ec=[...Zl,ql,Gl,Kl];function tc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class oc{constructor(e,t){this.comparator=e,this.root=t||sc.EMPTY}insert(e,t){return new oc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sc.BLACK,null,null))}remove(e){return new oc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ic(this.root,e,this.comparator,!0)}}class ic{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sc{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:sc.RED,this.left=null!=r?r:sc.EMPTY,this.right=null!=o?o:sc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new sc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return sc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return sc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Na();if(this.right.isRed())throw Na();const e=this.left.check();if(e!==this.right.check())throw Na();return e+(this.isRed()?0:1)}}sc.EMPTY=null,sc.RED=!0,sc.BLACK=!1,sc.EMPTY=new class{constructor(){this.size=0}get key(){throw Na()}get value(){throw Na()}get color(){throw Na()}get left(){throw Na()}get right(){throw Na()}copy(e,t,n,r,o){return this}insert(e,t,n){return new sc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ac{constructor(e){this.comparator=e,this.data=new oc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lc(this.data.getIterator())}getIteratorFrom(e){return new lc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ac))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ac(this.comparator);return t.data=e,t}}class lc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class cc{constructor(e){this.fields=e,e.sort(cl.comparator)}static empty(){return new cc([])}unionWith(e){let t=new ac(cl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new cc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class uc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new uc("Invalid base64 string: "+e):e}}(e);return new dc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new dc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qa(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dc.EMPTY_BYTE_STRING=new dc("");const hc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(e){if(Ma(!!e),"string"==typeof e){let t=0;const n=hc.exec(e);if(Ma(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:fc(e.seconds),nanos:fc(e.nanos)}}function fc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function mc(e){return"string"==typeof e?dc.fromBase64String(e):dc.fromUint8Array(e)}const gc="server_timestamp",vc="__type__",yc="__previous_value__",bc="__local_write_time__";function wc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[vc])||void 0===n?void 0:n.stringValue)===gc}function xc(e){const t=e.mapValue.fields[yc];return wc(t)?xc(t):t}function Ac(e){const t=pc(e.mapValue.fields[bc].timestampValue);return new rl(t.seconds,t.nanos)}class Sc{constructor(e,t,n,r,o,i,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}const _c="(default)";class Cc{constructor(e,t){this.projectId=e,this.database=t||_c}static empty(){return new Cc("","")}get isDefaultDatabase(){return this.database===_c}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}const kc="__type__",Tc="__max__",Ec={mapValue:{fields:{__type__:{stringValue:Tc}}}},Ic="__vector__",Pc="value";function Rc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wc(e)?4:Kc(e)?9007199254740991:qc(e)?10:11:Na()}function jc(e,t){if(e===t)return!0;const n=Rc(e);if(n!==Rc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ac(e).isEqual(Ac(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=pc(e.timestampValue),r=pc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return mc(e.bytesValue).isEqual(mc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fc(e.geoPointValue.latitude)===fc(t.geoPointValue.latitude)&&fc(e.geoPointValue.longitude)===fc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fc(e.integerValue)===fc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=fc(e.doubleValue),r=fc(t.doubleValue);return n===r?kl(n)===kl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return el(e.arrayValue.values||[],t.arrayValue.values||[],jc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(tc(n)!==tc(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!jc(n[o],r[o])))return!1;return!0}(e,t);default:return Na()}}function Dc(e,t){return void 0!==(e.values||[]).find((e=>jc(e,t)))}function Nc(e,t){if(e===t)return 0;const n=Rc(e),r=Rc(t);if(n!==r)return Qa(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qa(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=fc(e.integerValue||e.doubleValue),r=fc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Mc(e.timestampValue,t.timestampValue);case 4:return Mc(Ac(e),Ac(t));case 5:return Xa(e.stringValue,t.stringValue);case 6:return function(e,t){const n=mc(e),r=mc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let o=0;o<n.length&&o<r.length;o++){const e=Qa(n[o],r[o]);if(0!==e)return e}return Qa(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Qa(fc(e.latitude),fc(t.latitude));return 0!==n?n:Qa(fc(e.longitude),fc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Oc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,o,i;const s=e.fields||{},a=t.fields||{},l=null===(n=s[Pc])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Pc])||void 0===r?void 0:r.arrayValue,u=Qa((null===(o=null==l?void 0:l.values)||void 0===o?void 0:o.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Oc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ec.mapValue&&t===Ec.mapValue)return 0;if(e===Ec.mapValue)return 1;if(t===Ec.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=Xa(r[s],i[s]);if(0!==e)return e;const t=Nc(n[r[s]],o[i[s]]);if(0!==t)return t}return Qa(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Na()}}function Mc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Qa(e,t);const n=pc(e),r=pc(t),o=Qa(n.seconds,r.seconds);return 0!==o?o:Qa(n.nanos,r.nanos)}function Oc(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const e=Nc(n[o],r[o]);if(e)return e}return Qa(n.length,r.length)}function Lc(e){return Fc(e)}function Fc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=pc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return mc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ul.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Fc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+=`${o}:${Fc(e.fields[o])}`;return n+"}"}(e.mapValue):Na()}function zc(e){switch(Rc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xc(e);return t?16+zc(t):16;case 5:return 2*e.stringValue.length;case 6:return mc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+zc(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return nc(e.fields,((e,n)=>{t+=e.length+zc(n)})),t}(e.mapValue);default:throw Na()}}function Vc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Uc(e){return!!e&&"integerValue"in e}function Bc(e){return!!e&&"arrayValue"in e}function $c(e){return!!e&&"nullValue"in e}function Wc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hc(e){return!!e&&"mapValue"in e}function qc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[kc])||void 0===n?void 0:n.stringValue)===Ic}function Gc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return nc(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Gc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Kc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Tc}class Yc{constructor(e){this.value=e}static empty(){return new Yc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Hc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(t)}setAll(e){let t=cl.emptyPath(),n={},r=[];e.forEach(((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=Gc(e):r.push(o.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());Hc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Hc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){nc(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Yc(Gc(this.value))}}function Qc(e){const t=[];return nc(e.fields,((e,n)=>{const r=new cl([e]);if(Hc(n)){const e=Qc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new cc(t)}class Xc{constructor(e,t,n,r,o,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Xc(e,0,ol.min(),ol.min(),ol.min(),Yc.empty(),0)}static newFoundDocument(e,t,n,r){return new Xc(e,1,t,ol.min(),n,r,0)}static newNoDocument(e,t){return new Xc(e,2,t,ol.min(),ol.min(),Yc.empty(),0)}static newUnknownDocument(e,t){return new Xc(e,3,t,ol.min(),ol.min(),Yc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ol.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ol.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(e,t){this.position=e,this.inclusive=t}}function Zc(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],s=e.position[o];if(r=i.field.isKeyField()?ul.comparator(ul.fromName(s.referenceValue),n.key):Nc(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function eu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!jc(e.position[n],t.position[n]))return!1;return!0}class tu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function nu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ru{}class ou extends ru{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new hu(e,t,n):"array-contains"===t?new gu(e,n):"in"===t?new vu(e,n):"not-in"===t?new yu(e,n):"array-contains-any"===t?new bu(e,n):new ou(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new pu(e,n):new fu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nc(t,this.value)):null!==t&&Rc(this.value)===Rc(t)&&this.matchesComparison(Nc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Na()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class iu extends ru{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new iu(e,t)}matches(e){return su(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function su(e){return"and"===e.op}function au(e){return lu(e)&&su(e)}function lu(e){for(const t of e.filters)if(t instanceof iu)return!1;return!0}function cu(e){if(e instanceof ou)return e.field.canonicalString()+e.op.toString()+Lc(e.value);if(au(e))return e.filters.map((e=>cu(e))).join(",");{const t=e.filters.map((e=>cu(e))).join(",");return`${e.op}(${t})`}}function uu(e,t){return e instanceof ou?function(e,t){return t instanceof ou&&e.op===t.op&&e.field.isEqual(t.field)&&jc(e.value,t.value)}(e,t):e instanceof iu?function(e,t){return t instanceof iu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&uu(n,t.filters[r])),!0)}(e,t):void Na()}function du(e){return e instanceof ou?function(e){return`${e.field.canonicalString()} ${e.op} ${Lc(e.value)}`}(e):e instanceof iu?function(e){return e.op.toString()+" {"+e.getFilters().map(du).join(" ,")+"}"}(e):"Filter"}class hu extends ou{constructor(e,t,n){super(e,t,n),this.key=ul.fromName(n.referenceValue)}matches(e){const t=ul.comparator(e.key,this.key);return this.matchesComparison(t)}}class pu extends ou{constructor(e,t){super(e,"in",t),this.keys=mu("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class fu extends ou{constructor(e,t){super(e,"not-in",t),this.keys=mu("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function mu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ul.fromName(e.referenceValue)))}class gu extends ou{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bc(t)&&Dc(t.arrayValue,this.value)}}class vu extends ou{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Dc(this.value.arrayValue,t)}}class yu extends ou{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Dc(this.value.arrayValue,t)}}class bu extends ou{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Dc(this.value.arrayValue,e)))}}class wu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.le=null}}function xu(e){return new wu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Au(e){const t=Oa(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>cu(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Cl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Lc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Lc(e))).join(",")),t.le=e}return t.le}function Su(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!nu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!uu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!eu(e.startAt,t.startAt)&&eu(e.endAt,t.endAt)}function _u(e){return ul.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Cu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ku(e,t,n,r,o,i,s,a){return new Cu(e,t,n,r,o,i,s,a)}function Tu(e){return new Cu(e)}function Eu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Iu(e){return null!==e.collectionGroup}function Pu(e){const t=Oa(e);if(null===t.he){t.he=[];const e=new Set;for(const o of t.explicitOrderBy)t.he.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ac(cl.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new tu(r,n))})),e.has(cl.keyField().canonicalString())||t.he.push(new tu(cl.keyField(),n))}return t.he}function Ru(e){const t=Oa(e);return t.Pe||(t.Pe=ju(t,Pu(e))),t.Pe}function ju(e,t){if("F"===e.limitType)return xu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new tu(e.field,t)}));const n=e.endAt?new Jc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Jc(e.startAt.position,e.startAt.inclusive):null;return xu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Du(e,t){const n=e.filters.concat([t]);return new Cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Nu(e,t,n){return new Cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mu(e,t){return Su(Ru(e),Ru(t))&&e.limitType===t.limitType}function Ou(e){return`${Au(Ru(e))}|lt:${e.limitType}`}function Lu(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>du(e))).join(", ")}]`),Cl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Lc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Lc(e))).join(",")),`Target(${t})`}(Ru(e))}; limitType=${e.limitType})`}function Fu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ul.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Pu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Zc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Pu(e),t))&&!(e.endAt&&!function(e,t,n){const r=Zc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Pu(e),t))}(e,t)}function zu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Vu(e){return(t,n)=>{let r=!1;for(const o of Pu(e)){const e=Uu(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function Uu(e,t,n){const r=e.field.isKeyField()?ul.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?Nc(r,o):Na()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Na()}}class Bu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nc(this.inner,((t,n)=>{for(const[r,o]of n)e(r,o)}))}isEmpty(){return rc(this.inner)}size(){return this.innerSize}}const $u=new oc(ul.comparator);function Wu(){return $u}const Hu=new oc(ul.comparator);function qu(){let e=Hu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.insert(o.key,o);return e}function Gu(e){let t=Hu;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ku(){return Qu()}function Yu(){return Qu()}function Qu(){return new Bu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Xu=new oc(ul.comparator),Ju=new ac(ul.comparator);function Zu(){let e=Ju;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.add(o);return e}const ed=new ac(Qa);function td(){return ed}function nd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kl(t)?"-0":t}}function rd(e){return{integerValue:""+e}}function od(e,t){return Tl(t)?rd(t):nd(e,t)}class id{constructor(){this._=void 0}}function sd(e,t,n){return e instanceof cd?function(e,t){const n={fields:{[vc]:{stringValue:gc},[bc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&wc(t)&&(t=xc(t)),t&&(n.fields[yc]=t),{mapValue:n}}(n,t):e instanceof ud?dd(e,t):e instanceof hd?pd(e,t):function(e,t){const n=ld(e,t),r=md(n)+md(e.Ie);return Uc(n)&&Uc(e.Ie)?rd(r):nd(e.serializer,r)}(e,t)}function ad(e,t,n){return e instanceof ud?dd(e,t):e instanceof hd?pd(e,t):n}function ld(e,t){return e instanceof fd?function(e){return Uc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class cd extends id{}class ud extends id{constructor(e){super(),this.elements=e}}function dd(e,t){const n=gd(t);for(const r of e.elements)n.some((e=>jc(e,r)))||n.push(r);return{arrayValue:{values:n}}}class hd extends id{constructor(e){super(),this.elements=e}}function pd(e,t){let n=gd(t);for(const r of e.elements)n=n.filter((e=>!jc(e,r)));return{arrayValue:{values:n}}}class fd extends id{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function md(e){return fc(e.integerValue||e.doubleValue)}function gd(e){return Bc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class vd{constructor(e,t){this.field=e,this.transform=t}}class yd{constructor(e,t){this.version=e,this.transformResults=t}}class bd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bd}static exists(e){return new bd(void 0,e)}static updateTime(e){return new bd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xd{}function Ad(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new jd(e.key,bd.none()):new Td(e.key,e.data,bd.none());{const n=e.data,r=Yc.empty();let o=new ac(cl.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new Ed(e.key,r,new cc(o.toArray()),bd.none())}}function Sd(e,t,n){e instanceof Td?function(e,t,n){const r=e.value.clone(),o=Pd(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ed?function(e,t,n){if(!wd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Pd(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(Id(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _d(e,t,n,r){return e instanceof Td?function(e,t,n,r){if(!wd(e.precondition,t))return n;const o=e.value.clone(),i=Rd(e.fieldTransforms,r,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ed?function(e,t,n,r){if(!wd(e.precondition,t))return n;const o=Rd(e.fieldTransforms,r,t),i=t.data;return i.setAll(Id(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return wd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Cd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),o=ld(r.transform,e||null);null!=o&&(null===n&&(n=Yc.empty()),n.set(r.field,o))}return n||null}function kd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&el(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ud&&t instanceof ud||e instanceof hd&&t instanceof hd?el(e.elements,t.elements,jc):e instanceof fd&&t instanceof fd?jc(e.Ie,t.Ie):e instanceof cd&&t instanceof cd}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Td extends xd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ed extends xd{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Id(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Pd(e,t,n){const r=new Map;Ma(e.length===n.length);for(let o=0;o<n.length;o++){const i=e[o],s=i.transform,a=t.data.field(i.field);r.set(i.field,ad(s,a,n[o]))}return r}function Rd(e,t,n){const r=new Map;for(const o of e){const e=o.transform,i=n.data.field(o.field);r.set(o.field,sd(e,i,t))}return r}class jd extends xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dd extends xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Sd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=_d(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=_d(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Yu();return this.mutations.forEach((r=>{const o=e.get(r.key),i=o.overlayedDocument;let s=this.applyToLocalView(i,o.mutatedFields);s=t.has(r.key)?null:s;const a=Ad(i,s);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument(ol.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Zu())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,((e,t)=>kd(e,t)))&&el(this.baseMutations,e.baseMutations,((e,t)=>kd(e,t)))}}class Md{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ma(e.mutations.length===n.length);let r=Xu;const o=e.mutations;for(let i=0;i<o.length;i++)r=r.insert(o[i].key,n[i].version);return new Md(e,t,n,r)}}class Od{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ld{constructor(e,t){this.count=e,this.unchangedNames=t}}var Fd,zd;function Vd(e){switch(e){case La.OK:return Na();case La.CANCELLED:case La.UNKNOWN:case La.DEADLINE_EXCEEDED:case La.RESOURCE_EXHAUSTED:case La.INTERNAL:case La.UNAVAILABLE:case La.UNAUTHENTICATED:return!1;case La.INVALID_ARGUMENT:case La.NOT_FOUND:case La.ALREADY_EXISTS:case La.PERMISSION_DENIED:case La.FAILED_PRECONDITION:case La.ABORTED:case La.OUT_OF_RANGE:case La.UNIMPLEMENTED:case La.DATA_LOSS:return!0;default:return Na()}}function Ud(e){if(void 0===e)return Ra("GRPC error has no .code"),La.UNKNOWN;switch(e){case Fd.OK:return La.OK;case Fd.CANCELLED:return La.CANCELLED;case Fd.UNKNOWN:return La.UNKNOWN;case Fd.DEADLINE_EXCEEDED:return La.DEADLINE_EXCEEDED;case Fd.RESOURCE_EXHAUSTED:return La.RESOURCE_EXHAUSTED;case Fd.INTERNAL:return La.INTERNAL;case Fd.UNAVAILABLE:return La.UNAVAILABLE;case Fd.UNAUTHENTICATED:return La.UNAUTHENTICATED;case Fd.INVALID_ARGUMENT:return La.INVALID_ARGUMENT;case Fd.NOT_FOUND:return La.NOT_FOUND;case Fd.ALREADY_EXISTS:return La.ALREADY_EXISTS;case Fd.PERMISSION_DENIED:return La.PERMISSION_DENIED;case Fd.FAILED_PRECONDITION:return La.FAILED_PRECONDITION;case Fd.ABORTED:return La.ABORTED;case Fd.OUT_OF_RANGE:return La.OUT_OF_RANGE;case Fd.UNIMPLEMENTED:return La.UNIMPLEMENTED;case Fd.DATA_LOSS:return La.DATA_LOSS;default:return Na()}}(zd=Fd||(Fd={}))[zd.OK=0]="OK",zd[zd.CANCELLED=1]="CANCELLED",zd[zd.UNKNOWN=2]="UNKNOWN",zd[zd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zd[zd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zd[zd.NOT_FOUND=5]="NOT_FOUND",zd[zd.ALREADY_EXISTS=6]="ALREADY_EXISTS",zd[zd.PERMISSION_DENIED=7]="PERMISSION_DENIED",zd[zd.UNAUTHENTICATED=16]="UNAUTHENTICATED",zd[zd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zd[zd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zd[zd.ABORTED=10]="ABORTED",zd[zd.OUT_OF_RANGE=11]="OUT_OF_RANGE",zd[zd.UNIMPLEMENTED=12]="UNIMPLEMENTED",zd[zd.INTERNAL=13]="INTERNAL",zd[zd.UNAVAILABLE=14]="UNAVAILABLE",zd[zd.DATA_LOSS=15]="DATA_LOSS";let Bd=null;const $d=new ua([4294967295,4294967295],0);function Wd(e){const t=Ka().encode(e),n=new da;return n.update(t),new Uint8Array(n.digest())}function Hd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new ua([n,r],0),new ua([o,i],0)]}class qd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Gd(`Invalid padding: ${t}`);if(n<0)throw new Gd(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Gd(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Gd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ua.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(ua.fromNumber(n)));return 1===r.compare($d)&&(r=new ua([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=Wd(e),[n,r]=Hd(t);for(let o=0;o<this.hashCount;o++){const e=this.Ae(n,r,o);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new qd(o,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.Ee)return;const t=Wd(e),[n,r]=Hd(t);for(let o=0;o<this.hashCount;o++){const e=this.Ae(n,r,o);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Gd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kd{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Yd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Kd(ol.min(),r,new oc(Qa),Wu(),Zu())}}class Yd{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Yd(n,t,Zu(),Zu(),Zu())}}class Qd{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class Xd{constructor(e,t){this.targetId=e,this.ge=t}}class Jd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Zd{constructor(){this.pe=0,this.ye=nh(),this.we=dc.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Zu(),t=Zu(),n=Zu();return this.ye.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Na()}})),new Yd(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=nh()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ma(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class eh{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Wu(),this.$e=th(),this.Ue=th(),this.Ke=new oc(Qa)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Na()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const o=r.target;if(_u(o))if(0===n){const e=new ul(o.path);this.ze(t,e,Xc.newNoDocument(e,ol.min()))}else Ma(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),o=n?this.nt(n,e,r):1;if(0!==o){this.Ye(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Bd||Bd.rt(function(e,t,n,r,o){var i,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===o,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,o))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let i,s;try{i=mc(n).toUint8Array()}catch(e){if(e instanceof uc)return ja("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new qd(i,r,o)}catch(e){return ja(e instanceof Gd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ee?null:s}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const o=this.ke.it(),i=`projects/${o.projectId}/databases/${o.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const o=this.Xe(r);if(o){if(n.current&&_u(o.target)){const t=new ul(o.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,Xc.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=Zu();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Kd(e,t,this.Ke,this.Qe,n);return this.Qe=Wu(),this.$e=th(),this.Ue=th(),this.Ke=new oc(Qa),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Zd,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new ac(Qa),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ac(Qa),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Pa("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Zd),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function th(){return new oc(ul.comparator)}function nh(){return new oc(ul.comparator)}const rh={asc:"ASCENDING",desc:"DESCENDING"},oh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ih={and:"AND",or:"OR"};class sh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ah(e,t){return e.useProto3Json||Cl(t)?t:{value:t}}function lh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ch(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uh(e,t){return lh(e,t.toTimestamp())}function dh(e){return Ma(!!e),ol.fromTimestamp(function(e){const t=pc(e);return new rl(t.seconds,t.nanos)}(e))}function hh(e,t){return ph(e,t).canonicalString()}function ph(e,t){const n=function(e){return new al(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function fh(e){const t=al.fromString(e);return Ma(Nh(t)),t}function mh(e,t){return hh(e.databaseId,t.path)}function gh(e,t){const n=fh(t);if(n.get(1)!==e.databaseId.projectId)throw new Fa(La.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fa(La.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ul(wh(n))}function vh(e,t){return hh(e.databaseId,t)}function yh(e){const t=fh(e);return 4===t.length?al.emptyPath():wh(t)}function bh(e){return new al(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wh(e){return Ma(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function xh(e,t,n){return{name:mh(e,t),fields:n.value.mapValue.fields}}function Ah(e,t){let n;if(t instanceof Td)n={update:xh(e,t.key,t.value)};else if(t instanceof jd)n={delete:mh(e,t.key)};else if(t instanceof Ed)n={update:xh(e,t.key,t.data),updateMask:Dh(t.fieldMask)};else{if(!(t instanceof Dd))return Na();n={verify:mh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof cd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ud)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fd)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Na()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:uh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Na()}(e,t.precondition)),n}function Sh(e,t){return{documents:[vh(e,t.path)]}}function _h(e,t){const n={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vh(e,o);const i=function(e){if(0!==e.length)return jh(iu.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ph(e.field),direction:Th(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=ah(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:o}}function Ch(e){let t=yh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ma(1===r);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=kh(e);return t instanceof iu&&au(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new tu(Rh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Cl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Jc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Jc(n,t)}(n.endAt)),ku(t,o,s,i,a,"F",l,c)}function kh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Rh(e.unaryFilter.field);return ou.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Rh(e.unaryFilter.field);return ou.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rh(e.unaryFilter.field);return ou.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Rh(e.unaryFilter.field);return ou.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Na()}}(e):void 0!==e.fieldFilter?function(e){return ou.create(Rh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Na()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return iu.create(e.compositeFilter.filters.map((e=>kh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Na()}}(e.compositeFilter.op))}(e):Na()}function Th(e){return rh[e]}function Eh(e){return oh[e]}function Ih(e){return ih[e]}function Ph(e){return{fieldPath:e.canonicalString()}}function Rh(e){return cl.fromServerFormat(e.fieldPath)}function jh(e){return e instanceof ou?function(e){if("=="===e.op){if(Wc(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NAN"}};if($c(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Wc(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NOT_NAN"}};if($c(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ph(e.field),op:Eh(e.op),value:e.value}}}(e):e instanceof iu?function(e){const t=e.getFilters().map((e=>jh(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ih(e.op),filters:t}}}(e):Na()}function Dh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Nh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Mh{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ol.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ol.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:dc.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Mh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Mh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Oh{constructor(e){this.Tt=e}}function Lh(e){const t=Ch({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Nu(t,t.limit,"L"):t}class Fh{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(fc(e.integerValue));else if("doubleValue"in e){const n=fc(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),kl(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=pc(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(mc(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?Kc(e)?this.ft(t,Number.MAX_SAFE_INTEGER):qc(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Na()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const o=e.fields||{};this.ft(t,53);const i=Pc,s=(null===(r=null===(n=o[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(fc(s)),this.wt(i,t),this.Rt(o[i],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),ul.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}Fh.xt=new Fh;class zh{constructor(){this.Tn=new Vh}addToCollectionParentIndex(e,t){return this.Tn.add(t),wl.resolve()}getCollectionParents(e,t){return wl.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return wl.resolve()}deleteFieldIndex(e,t){return wl.resolve()}deleteAllFieldIndexes(e){return wl.resolve()}createTargetIndexes(e,t){return wl.resolve()}getDocumentsMatchingTarget(e,t){return wl.resolve(null)}getIndexType(e,t){return wl.resolve(0)}getFieldIndexes(e,t){return wl.resolve([])}getNextCollectionGroupToUpdate(e){return wl.resolve(null)}getMinOffset(e,t){return wl.resolve(ml.min())}getMinOffsetFromCollectionGroup(e,t){return wl.resolve(ml.min())}updateCollectionGroup(e,t,n){return wl.resolve()}updateIndexEntries(e,t){return wl.resolve()}}class Vh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ac(al.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ac(al.comparator)).toArray()}}new Uint8Array(0);const Uh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bh=41943040;class $h{static withCacheSize(e){return new $h(e,$h.DEFAULT_COLLECTION_PERCENTILE,$h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}$h.DEFAULT_COLLECTION_PERCENTILE=10,$h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$h.DEFAULT=new $h(Bh,$h.DEFAULT_COLLECTION_PERCENTILE,$h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$h.DISABLED=new $h(-1,0,0);class Wh{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Wh(0)}static Kn(){return new Wh(-1)}}const Hh="LruGarbageCollector",qh=1048576;function Gh(e,t){let[n,r]=e,[o,i]=t;const s=Qa(n,o);return 0===s?Qa(r,i):s}class Kh{constructor(e){this.Hn=e,this.buffer=new ac(Gh),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Gh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Yh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){Pa(Hh,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Al(e)?Pa(Hh,"Ignoring IndexedDB error during garbage collection: ",e):await bl(e)}await this.er(3e5)}))}}class Qh{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return wl.resolve(Sl.ae);const n=new Kh(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pa("LruGarbageCollector","Garbage collection skipped; disabled"),wl.resolve(Uh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Pa("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uh):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,o,i,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Pa("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(o=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Ia()<=ln.DEBUG&&Pa("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${r} in `+(s-i)+"ms\n"+`\tRemoved ${o} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),wl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e}))))}}function Xh(e,t){return new Qh(e,t)}class Jh{constructor(){this.changes=new Bu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?wl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ep{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&_d(n.mutation,e,cc.empty(),rl.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Zu()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zu();const r=Ku();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=qu();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ku();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Zu())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let o=Wu();const i=Qu(),s=Qu();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Ed)?o=o.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),_d(s.mutation,t,s.mutation.getFieldMask(),rl.now())):i.set(t.key,cc.empty())})),this.recalculateAndSaveOverlays(e,o).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Zh(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Qu();let r=new oc(((e,t)=>e-t)),o=Zu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const o of e)o.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||cc.empty();s=o.applyToLocalView(i,s),n.set(e,s);const a=(r.get(o.batchId)||Zu()).add(e);r=r.insert(o.batchId,a)}))})).next((()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Yu();l.forEach((e=>{if(!o.has(e)){const r=Ad(t.get(e),n.get(e));null!==r&&c.set(e,r),o=o.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return wl.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ul.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Iu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):wl.resolve(Ku());let s=dl,a=o;return i.next((t=>wl.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?wl.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,o))).next((()=>this.computeViews(e,a,t,Zu()))).next((e=>({batchId:s,changes:Gu(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ul(t)).next((e=>{let t=qu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let i=qu();return this.indexManager.getCollectionParents(e,o).next((s=>wl.forEach(s,(s=>{const a=function(e,t){return new Cu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(o));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r)))).next((e=>{o.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Xc.newInvalidDocument(r)))}));let n=qu();return e.forEach(((e,r)=>{const i=o.get(e);void 0!==i&&_d(i.mutation,r,cc.empty(),rl.now()),Fu(t,r)&&(n=n.insert(e,r))})),n}))}}class tp{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return wl.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:dh(e.createTime)}}(t)),wl.resolve()}getNamedQuery(e,t){return wl.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:Lh(e.bundledQuery),readTime:dh(e.readTime)}}(t)),wl.resolve()}}class np{constructor(){this.overlays=new oc(ul.comparator),this.Rr=new Map}getOverlay(e,t){return wl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ku();return wl.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),wl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),wl.resolve()}getOverlaysForCollection(e,t,n){const r=Ku(),o=t.length+1,i=new ul(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return wl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new oc(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=Ku(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Ku(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return wl.resolve(s)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Od(t,n));let o=this.Rr.get(t);void 0===o&&(o=Zu(),this.Rr.set(t,o)),this.Rr.set(t,o.add(n.key))}}class rp{constructor(){this.sessionToken=dc.EMPTY_BYTE_STRING}getSessionToken(e){return wl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,wl.resolve()}}class op{constructor(){this.Vr=new ac(ip.mr),this.gr=new ac(ip.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new ip(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new ip(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new ul(new al([])),n=new ip(t,e),r=new ip(t,e+1),o=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),o.push(e.key)})),o}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ul(new al([])),n=new ip(t,e),r=new ip(t,e+1);let o=Zu();return this.gr.forEachInRange([n,r],(e=>{o=o.add(e.key)})),o}containsKey(e){const t=new ip(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ip{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ul.comparator(e.key,t.key)||Qa(e.Cr,t.Cr)}static pr(e,t){return Qa(e.Cr,t.Cr)||ul.comparator(e.key,t.key)}}class sp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ac(ip.mr)}checkEmpty(e){return wl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Nd(o,t,n,r);this.mutationQueue.push(i);for(const s of r)this.Mr=this.Mr.add(new ip(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return wl.resolve(i)}lookupMutationBatch(e,t){return wl.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),o=r<0?0:r;return wl.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return wl.resolve(0===this.mutationQueue.length?_l:this.Fr-1)}getAllMutationBatches(e){return wl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ip(t,0),r=new ip(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);o.push(t)})),wl.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ac(Qa);return t.forEach((e=>{const t=new ip(e,0),r=new ip(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),wl.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;ul.isDocumentKey(o)||(o=o.child(""));const i=new ip(new ul(o),0);let s=new ac(Qa);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Cr)),!0)}),i),wl.resolve(this.Br(s))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ma(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return wl.forEach(t.mutations,(r=>{const o=new ip(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new ip(t,0),r=this.Mr.firstAfterOrEqual(n);return wl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,wl.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ap{constructor(e){this.kr=e,this.docs=new oc(ul.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return wl.resolve(n?n.document.mutableCopy():Xc.newInvalidDocument(t))}getEntries(e,t){let n=Wu();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Xc.newInvalidDocument(e))})),wl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=Wu();const i=t.path,s=new ul(i.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||gl(fl(s),n)<=0||(r.has(s.key)||Fu(t,s))&&(o=o.insert(s.key,s.mutableCopy()))}return wl.resolve(o)}getAllFromCollectionGroup(e,t,n,r){Na()}qr(e,t){return wl.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new lp(this)}getSize(e){return wl.resolve(this.size)}}class lp extends Jh{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),wl.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class cp{constructor(e){this.persistence=e,this.Qr=new Bu((e=>Au(e)),Su),this.lastRemoteSnapshotVersion=ol.min(),this.highestTargetId=0,this.$r=0,this.Ur=new op,this.targetCount=0,this.Kr=Wh.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),wl.resolve()}getLastRemoteSnapshotVersion(e){return wl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return wl.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),wl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),wl.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Wh(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,wl.resolve()}updateTargetData(e,t){return this.zn(t),wl.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,wl.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.Qr.forEach(((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Qr.delete(i),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),wl.waitFor(o).next((()=>r))}getTargetCount(e){return wl.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return wl.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),wl.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((t=>{o.push(r.markPotentiallyOrphaned(e,t))})),wl.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),wl.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return wl.resolve(n)}containsKey(e,t){return wl.resolve(this.Ur.containsKey(t))}}class up{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Sl(0),this.zr=!1,this.zr=!0,this.jr=new rp,this.referenceDelegate=e(this),this.Hr=new cp(this),this.indexManager=new zh,this.remoteDocumentCache=function(e){return new ap(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new Oh(t),this.Yr=new tp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new np,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new sp(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Pa("MemoryPersistence","Starting transaction:",e);const r=new dp(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return wl.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class dp extends yl{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.ti=new op,this.ni=null}static ri(e){return new hp(e)}get ii(){if(this.ni)return this.ni;throw Na()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),wl.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),wl.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),wl.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wl.forEach(this.ii,(n=>{const r=ul.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,ol.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return wl.or([()=>wl.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class pp{constructor(e,t){this.persistence=e,this.oi=new Bu((e=>Il(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Xh(this,t)}static ri(e,t){return new pp(e,t)}Zr(){}Xr(e){return wl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return wl.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?wl.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,o.removeEntry(r,ol.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),wl.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),wl.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),wl.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),wl.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zc(e.data.value)),t}ar(e,t,n){return wl.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return wl.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class fp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Zu(),r=Zu();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new fp(e,t.fromCache,n,r)}}class mp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gp{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=jt()?8:xl(Et())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.rs(e,t).next((e=>{o.result=e})).next((()=>{if(!o.result)return this.ss(e,t,r,n).next((e=>{o.result=e}))})).next((()=>{if(o.result)return;const n=new mp;return this._s(e,t,n).next((r=>{if(o.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>o.result))}us(e,t,n,r){return n.documentReadCount<this.es?(Ia()<=ln.DEBUG&&Pa("QueryEngine","SDK will not create cache indexes for query:",Lu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),wl.resolve()):(Ia()<=ln.DEBUG&&Pa("QueryEngine","Query:",Lu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(Ia()<=ln.DEBUG&&Pa("QueryEngine","The SDK decides to create cache indexes for query:",Lu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ru(t))):wl.resolve())}rs(e,t){if(Eu(t))return wl.resolve(null);let n=Ru(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Nu(t,null,"F"),n=Ru(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const o=Zu(...r);return this.ns.getDocuments(e,o).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.cs(t,r);return this.ls(t,i,o,n.readTime)?this.rs(e,Nu(t,null,"F")):this.hs(e,i,t,n)}))))})))))}ss(e,t,n,r){return Eu(t)||r.isEqual(ol.min())?wl.resolve(null):this.ns.getDocuments(e,n).next((o=>{const i=this.cs(t,o);return this.ls(t,i,n,r)?wl.resolve(null):(Ia()<=ln.DEBUG&&Pa("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lu(t)),this.hs(e,i,t,pl(r,dl)).next((e=>e)))}))}cs(e,t){let n=new ac(Vu(e));return t.forEach(((t,r)=>{Fu(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}_s(e,t,n){return Ia()<=ln.DEBUG&&Pa("QueryEngine","Using full collection scan to execute query:",Lu(t)),this.ns.getDocumentsMatchingQuery(e,t,ml.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const vp="LocalStore";class yp{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new oc(Qa),this.Is=new Bu((e=>Au(e)),Su),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ep(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function bp(e,t,n,r){return new yp(e,t,n,r)}async function wp(e,t){const n=Oa(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((o=>(r=o,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const o=[],i=[];let s=Zu();for(const e of r){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Rs:e,removedBatchIds:o,addedBatchIds:i})))}))}))}function xp(e){const t=Oa(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function Ap(e,t,n){let r=Zu(),o=Zu();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Wu();return n.forEach(((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(o=o.add(n)),i.isNoDocument()&&i.version.isEqual(ol.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Pa(vp,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)})),{Vs:r,fs:o}}))}function Sp(e,t){const n=Oa(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=_l),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function _p(e,t){const n=Oa(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((o=>o?(r=o,wl.resolve(r)):n.Hr.allocateTargetId(e).next((o=>(r=new Mh(t,o,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Cp(e,t,n){const r=Oa(e),o=r.Ts.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,o)))}catch(e){if(!Al(e))throw e;Pa(vp,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(o.target)}function kp(e,t,n){const r=Oa(e);let o=ol.min(),i=Zu();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Oa(e),o=r.Is.get(n);return void 0!==o?wl.resolve(r.Ts.get(o)):r.Hr.getTargetData(t,n)}(r,e,Ru(t)).next((t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?o:ol.min(),n?i:Zu()))).next((e=>(Tp(r,zu(t),e),{documents:e,gs:i})))))}function Tp(e,t,n){let r=e.Es.get(t)||ol.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class Ep{constructor(){this.activeTargetIds=td()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ip{constructor(){this.ho=new Ep,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ep,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pp{To(e){}shutdown(){}}const Rp="ConnectivityMonitor";class jp{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Pa(Rp,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Pa(Rp,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Dp=null;function Np(){return null===Dp?Dp=268435456+Math.round(2147483648*Math.random()):Dp++,"0x"+Dp.toString(16)}const Mp="RestConnection",Op={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lp{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===_c?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,o){const i=Np(),s=this.bo(e,t.toUriEncodedString());Pa(Mp,`Sending RPC '${e}' ${i}:`,s,n);const a={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(a,r,o),this.vo(e,s,a,n).then((t=>(Pa(Mp,`Received RPC '${e}' ${i}: `,t),t)),(t=>{throw ja(Mp,`RPC '${e}' ${i} failed with error: `,t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,o,i){return this.So(e,t,n,r,o)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ta,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Op[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class Fp{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const zp="WebChannelConnection";class Vp extends Lp{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const o=Np();return new Promise(((i,s)=>{const a=new fa;a.setWithCredentials(!0),a.listenOnce(ga.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case va.NO_ERROR:const t=a.getResponseJson();Pa(zp,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),i(t);break;case va.TIMEOUT:Pa(zp,`RPC '${e}' ${o} timed out`),s(new Fa(La.DEADLINE_EXCEEDED,"Request time out"));break;case va.HTTP_ERROR:const n=a.getStatus();if(Pa(zp,`RPC '${e}' ${o} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(La).indexOf(t)>=0?t:La.UNKNOWN}(t.status);s(new Fa(e,t.message))}else s(new Fa(La.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Fa(La.UNAVAILABLE,"Connection failed."));break;default:Na()}}finally{Pa(zp,`RPC '${e}' ${o} completed.`)}}));const l=JSON.stringify(r);Pa(zp,`RPC '${e}' ${o} sending request:`,r),a.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=Np(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=xa(),s=wa(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=o.join("");Pa(zp,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=i.createWebChannel(c,a);let d=!1,h=!1;const p=new Fp({Fo:t=>{h?Pa(zp,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Pa(zp,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Pa(zp,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,ma.EventType.OPEN,(()=>{h||(Pa(zp,`RPC '${e}' stream ${r} transport opened.`),p.Qo())})),f(u,ma.EventType.CLOSE,(()=>{h||(h=!0,Pa(zp,`RPC '${e}' stream ${r} transport closed`),p.Uo())})),f(u,ma.EventType.ERROR,(t=>{h||(h=!0,ja(zp,`RPC '${e}' stream ${r} transport errored:`,t),p.Uo(new Fa(La.UNAVAILABLE,"The operation could not be completed")))})),f(u,ma.EventType.MESSAGE,(t=>{var n;if(!h){const o=t.data[0];Ma(!!o);const i=o,s=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){Pa(zp,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=Fd[e];if(void 0!==t)return Ud(t)}(t),o=s.message;void 0===n&&(n=La.INTERNAL,o="Unknown error status: "+t+" with message "+s.message),h=!0,p.Uo(new Fa(n,o)),u.close()}else Pa(zp,`RPC '${e}' stream ${r} received:`,o),p.Ko(o)}})),f(s,ba.STAT_EVENT,(t=>{t.stat===ya.PROXY?Pa(zp,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ya.NOPROXY&&Pa(zp,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.$o()}),0),p}}function Up(){return"undefined"!=typeof document?document:null}function Bp(e){return new sh(e,!0)}class $p{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&Pa("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const Wp="PersistentStream";class Hp{constructor(e,t,n,r,o,i,s,a){this.Ti=e,this.n_=n,this.r_=r,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $p(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===La.RESOURCE_EXHAUSTED?(Ra(t.toString()),Ra("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===La.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new Fa(La.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Pa(Wp,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Pa(Wp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qp extends Hp{constructor(e,t,n,r,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Na()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Ma(void 0===t||"string"==typeof t),dc.fromBase64String(t||"")):(Ma(void 0===t||t instanceof Buffer||t instanceof Uint8Array),dc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?La.UNKNOWN:Ud(e.code);return new Fa(t,e.message||"")}(s);n=new Jd(r,o,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=gh(e,r.document.name),i=dh(r.document.updateTime),s=r.document.createTime?dh(r.document.createTime):ol.min(),a=new Yc({mapValue:{fields:r.document.fields}}),l=Xc.newFoundDocument(o,i,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Qd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=gh(e,r.document),i=r.readTime?dh(r.readTime):ol.min(),s=Xc.newNoDocument(o,i),a=r.removedTargetIds||[];n=new Qd([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=gh(e,r.document),i=r.removedTargetIds||[];n=new Qd([],i,o,null)}else{if(!("filter"in t))return Na();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:o}=e,i=new Ld(r,o),s=e.targetId;n=new Xd(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ol.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ol.min():t.readTime?dh(t.readTime):ol.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=bh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=_u(r)?{documents:Sh(e,r)}:{query:_h(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ch(e,t.resumeToken);const r=ah(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ol.min())>0){n.readTime=lh(e,t.snapshotVersion.toTimestamp());const r=ah(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Na()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=bh(this.serializer),t.removeTarget=e,this.I_(t)}}class Gp extends Hp{constructor(e,t,n,r,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ma(!!e.streamToken),this.lastStreamToken=e.streamToken,Ma(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){Ma(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(Ma(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?dh(e.updateTime):dh(t);return n.isEqual(ol.min())&&(n=dh(t)),new yd(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=dh(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=bh(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ah(this.serializer,e)))};this.I_(t)}}class Kp{}class Yp extends Kp{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Fa(La.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[i,s]=o;return this.connection.So(e,ph(t,n),r,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===La.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fa(La.UNKNOWN,e.toString())}))}Co(e,t,n,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Co(e,ph(t,n),r,s,a,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===La.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fa(La.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Qp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ra(t),this.N_=!1):Pa("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Xp="RemoteStore";class Jp{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To((e=>{n.enqueueAndForget((async()=>{lf(this)&&(Pa(Xp,"Restarting streams for network reachability change."),await async function(e){const t=Oa(e);t.W_.add(4),await ef(t),t.j_.set("Unknown"),t.W_.delete(4),await Zp(t)}(this))}))})),this.j_=new Qp(n,r)}}async function Zp(e){if(lf(e))for(const t of e.G_)await t(!0)}async function ef(e){for(const t of e.G_)await t(!1)}function tf(e,t){const n=Oa(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),af(n)?sf(n):Tf(n).c_()&&rf(n,t))}function nf(e,t){const n=Oa(e),r=Tf(n);n.K_.delete(t),r.c_()&&of(n,t),0===n.K_.size&&(r.c_()?r.P_():lf(n)&&n.j_.set("Unknown"))}function rf(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ol.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Tf(e).y_(t)}function of(e,t){e.H_.Ne(t),Tf(e).w_(t)}function sf(e){e.H_=new eh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Tf(e).start(),e.j_.B_()}function af(e){return lf(e)&&!Tf(e).u_()&&e.K_.size>0}function lf(e){return 0===Oa(e).W_.size}function cf(e){e.H_=void 0}async function uf(e){e.j_.set("Online")}async function df(e){e.K_.forEach(((t,n)=>{rf(e,t)}))}async function hf(e,t){cf(e),af(e)?(e.j_.q_(t),sf(e)):e.j_.set("Unknown")}async function pf(e,t,n){if(e.j_.set("Online"),t instanceof Jd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){Pa(Xp,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ff(e,n)}else if(t instanceof Qd?e.H_.We(t):t instanceof Xd?e.H_.Ze(t):e.H_.je(t),!n.isEqual(ol.min()))try{const t=await xp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=e.K_.get(r);o&&e.K_.set(r,o.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(dc.EMPTY_BYTE_STRING,r.snapshotVersion)),of(e,t);const o=new Mh(r.target,t,n,r.sequenceNumber);rf(e,o)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Pa(Xp,"Failed to raise snapshot:",t),await ff(e,t)}}async function ff(e,t,n){if(!Al(t))throw t;e.W_.add(1),await ef(e),e.j_.set("Offline"),n||(n=()=>xp(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Pa(Xp,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Zp(e)}))}function mf(e,t){return t().catch((n=>ff(e,n,t)))}async function gf(e){const t=Oa(e),n=Ef(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:_l;for(;vf(t);)try{const e=await Sp(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,yf(t,e)}catch(e){await ff(t,e)}bf(t)&&wf(t)}function vf(e){return lf(e)&&e.U_.length<10}function yf(e,t){e.U_.push(t);const n=Ef(e);n.c_()&&n.S_&&n.b_(t.mutations)}function bf(e){return lf(e)&&!Ef(e).u_()&&e.U_.length>0}function wf(e){Ef(e).start()}async function xf(e){Ef(e).C_()}async function Af(e){const t=Ef(e);for(const n of e.U_)t.b_(n.mutations)}async function Sf(e,t,n){const r=e.U_.shift(),o=Md.from(r,t,n);await mf(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await gf(e)}async function _f(e,t){t&&Ef(e).S_&&await async function(e,t){if(function(e){return Vd(e)&&e!==La.ABORTED}(t.code)){const n=e.U_.shift();Ef(e).h_(),await mf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await gf(e)}}(e,t),bf(e)&&wf(e)}async function Cf(e,t){const n=Oa(e);n.asyncQueue.verifyOperationInProgress(),Pa(Xp,"RemoteStore received new credentials");const r=lf(n);n.W_.add(3),await ef(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Zp(n)}async function kf(e,t){const n=Oa(e);t?(n.W_.delete(2),await Zp(n)):t||(n.W_.add(2),await ef(n),n.j_.set("Unknown"))}function Tf(e){return e.J_||(e.J_=function(e,t,n){const r=Oa(e);return r.M_(),new qp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:uf.bind(null,e),No:df.bind(null,e),Lo:hf.bind(null,e),p_:pf.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),af(e)?sf(e):e.j_.set("Unknown")):(await e.J_.stop(),cf(e))}))),e.J_}function Ef(e){return e.Y_||(e.Y_=function(e,t,n){const r=Oa(e);return r.M_(),new Gp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:xf.bind(null,e),Lo:_f.bind(null,e),D_:Af.bind(null,e),v_:Sf.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await gf(e)):(await e.Y_.stop(),e.U_.length>0&&(Pa(Xp,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class If{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const i=Date.now()+n,s=new If(e,t,i,r,o);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fa(La.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pf(e,t){if(Ra("AsyncQueue",`${t}: ${e}`),Al(e))return new Fa(La.UNAVAILABLE,`${t}: ${e}`);throw e}class Rf{static emptySet(e){return new Rf(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ul.comparator(t.key,n.key):(e,t)=>ul.comparator(e.key,t.key),this.keyedMap=qu(),this.sortedSet=new oc(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Rf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class jf{constructor(){this.Z_=new oc(ul.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Na():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Df{constructor(e,t,n,r,o,i,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,o){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Df(e,t,Rf.emptySet(t),i,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Nf{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class Mf{constructor(){this.queries=Of(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=Oa(e),r=n.queries;n.queries=Of(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Fa(La.ABORTED,"Firestore shutting down"))}}function Of(){return new Bu((e=>Ou(e)),Mu)}async function Lf(e,t){const n=Oa(e);let r=3;const o=t.query;let i=n.queries.get(o);i?!i.na()&&t.ra()&&(r=2):(i=new Nf,r=t.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(o,!0);break;case 1:i.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(e){const n=Pf(e,`Initialization of query '${Lu(t.query)}' failed`);return void t.onError(n)}n.queries.set(o,i),i.ta.push(t),t.sa(n.onlineState),i.ea&&t.oa(i.ea)&&Uf(n)}async function Ff(e,t){const n=Oa(e),r=t.query;let o=3;const i=n.queries.get(r);if(i){const e=i.ta.indexOf(t);e>=0&&(i.ta.splice(e,1),0===i.ta.length?o=t.ra()?0:1:!i.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zf(e,t){const n=Oa(e);let r=!1;for(const o of t){const e=o.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(o)&&(r=!0);t.ea=o}}r&&Uf(n)}function Vf(e,t,n){const r=Oa(e),o=r.queries.get(t);if(o)for(const i of o.ta)i.onError(n);r.queries.delete(t)}function Uf(e){e.ia.forEach((e=>{e.next()}))}var Bf,$f;($f=Bf||(Bf={}))._a="default",$f.Cache="cache";class Wf{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Df(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=Df.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Bf.Cache}}class Hf{constructor(e){this.key=e}}class qf{constructor(e){this.key=e}}class Gf{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Zu(),this.mutatedKeys=Zu(),this.ya=Vu(e),this.wa=new Rf(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new jf,r=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Fu(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.va(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.ya(u,a)>0||l&&this.ya(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(i=i.add(u),o=h?o.add(e):o.delete(e)):(i=i.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),o=o.delete(e.key),n.track({type:1,doc:e})}return{wa:i,Da:n,ls:s,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const i=e.Da.X_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Na()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const s=t&&!r?this.Fa():[],a=0===this.pa.size&&this.current&&!r?1:0,l=a!==this.ga;return this.ga=a,0!==i.length||l?{snapshot:new Df(this.query,e.wa,o,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:s}:{Ma:s}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new jf,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Zu(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new qf(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new Hf(n))})),t}Oa(e){this.fa=e.gs,this.pa=Zu();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Df.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const Kf="SyncEngine";class Yf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Qf{constructor(e){this.key=e,this.Ba=!1}}class Xf{constructor(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.La={},this.ka=new Bu((e=>Ou(e)),Mu),this.qa=new Map,this.Qa=new Set,this.$a=new oc(ul.comparator),this.Ua=new Map,this.Ka=new op,this.Wa={},this.Ga=new Map,this.za=Wh.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Jf(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=bm(e);let o;const i=r.ka.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.Na()):o=await em(r,t,n,!0),o}async function Zf(e,t){const n=bm(e);await em(n,t,!0,!1)}async function em(e,t,n,r){const o=await _p(e.localStore,Ru(t)),i=o.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await tm(e,t,i,"current"===s,o.resumeToken)),e.isPrimaryClient&&n&&tf(e.remoteStore,o),a}async function tm(e,t,n,r,o){e.Ha=(t,n,r)=>async function(e,t,n,r){let o=t.view.ba(n);o.ls&&(o=await kp(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,o)})));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(o,e.isPrimaryClient,i,s);return pm(e,t.targetId,a.Ma),a.snapshot}(e,t,n,r);const i=await kp(e.localStore,t,!0),s=new Gf(t,i.gs),a=s.ba(i.documents),l=Yd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,o),c=s.applyChanges(a,e.isPrimaryClient,l);pm(e,n,c.Ma);const u=new Yf(t,n,s);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function nm(e,t,n){const r=Oa(e),o=r.ka.get(t),i=r.qa.get(o.targetId);if(i.length>1)return r.qa.set(o.targetId,i.filter((e=>!Mu(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Cp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&nf(r.remoteStore,o.targetId),dm(r,o.targetId)})).catch(bl)):(dm(r,o.targetId),await Cp(r.localStore,o.targetId,!0))}async function rm(e,t){const n=Oa(e),r=n.ka.get(t),o=n.qa.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nf(n.remoteStore,r.targetId))}async function om(e,t){const n=Oa(e);try{const e=await function(e,t){const n=Oa(e),r=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const s=[];t.targetChanges.forEach(((i,a)=>{const l=o.get(a);if(!l)return;s.push(n.Hr.removeMatchingKeys(e,i.removedDocuments,a).next((()=>n.Hr.addMatchingKeys(e,i.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(dc.EMPTY_BYTE_STRING,ol.min()).withLastLimboFreeSnapshotVersion(ol.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),o=o.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&s.push(n.Hr.updateTargetData(e,c))}));let a=Wu(),l=Zu();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Ap(e,i,t.documentUpdates).next((e=>{a=e.Vs,l=e.fs}))),!r.isEqual(ol.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return wl.waitFor(s).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ts=o,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ua.get(t);r&&(Ma(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?Ma(r.Ba):e.removedDocuments.size>0&&(Ma(r.Ba),r.Ba=!1))})),await gm(n,e,t)}catch(e){await bl(e)}}function im(e,t,n){const r=Oa(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const o=r.view.sa(t);o.snapshot&&e.push(o.snapshot)})),function(e,t){const n=Oa(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const o of n.ta)o.sa(t)&&(r=!0)})),r&&Uf(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function sm(e,t,n){const r=Oa(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Ua.get(t),i=o&&o.key;if(i){let e=new oc(ul.comparator);e=e.insert(i,Xc.newNoDocument(i,ol.min()));const n=Zu().add(i),o=new Kd(ol.min(),new Map,new oc(Qa),e,n);await om(r,o),r.$a=r.$a.remove(i),r.Ua.delete(t),mm(r)}else await Cp(r.localStore,t,!1).then((()=>dm(r,t,n))).catch(bl)}async function am(e,t){const n=Oa(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Oa(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const o=n.batch,i=o.keys();let s=wl.resolve();return i.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);Ma(null!==i),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,o)))}(n,e,t,o).next((()=>o.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Zu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);um(n,r,null),cm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gm(n,e)}catch(e){await bl(e)}}async function lm(e,t,n){const r=Oa(e);try{const e=await function(e,t){const n=Oa(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ma(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);um(r,t,n),cm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await gm(r,e)}catch(n){await bl(n)}}function cm(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function um(e,t,n){const r=Oa(e);let o=r.Wa[r.currentUser.toKey()];if(o){const e=o.get(t);e&&(n?e.reject(n):e.resolve(),o=o.remove(t)),r.Wa[r.currentUser.toKey()]=o}}function dm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||hm(e,t)}))}function hm(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(nf(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),mm(e))}function pm(e,t,n){for(const r of n)r instanceof Hf?(e.Ka.addReference(r.key,t),fm(e,r)):r instanceof qf?(Pa(Kf,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||hm(e,r.key)):Na()}function fm(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Pa(Kf,"New document in limbo: "+n),e.Qa.add(r),mm(e))}function mm(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new ul(al.fromString(t)),r=e.za.next();e.Ua.set(r,new Qf(n)),e.$a=e.$a.insert(n,r),tf(e.remoteStore,new Mh(Ru(Tu(n.path)),r,"TargetPurposeLimboResolution",Sl.ae))}}async function gm(e,t,n){const r=Oa(e),o=[],i=[],s=[];r.ka.isEmpty()||(r.ka.forEach(((e,a)=>{s.push(r.Ha(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const o=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,o?"current":"not-current")}if(e){o.push(e);const t=fp.Yi(a.targetId,e);i.push(t)}})))})),await Promise.all(s),r.La.p_(o),await async function(e,t){const n=Oa(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>wl.forEach(t,(t=>wl.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>wl.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Al(e))throw e;Pa(vp,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,o=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,o)}}}(r.localStore,i))}async function vm(e,t){const n=Oa(e);if(!n.currentUser.isEqual(t)){Pa(Kf,"User change. New user:",t.toKey());const e=await wp(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new Fa(La.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await gm(n,e.Rs)}}function ym(e,t){const n=Oa(e),r=n.Ua.get(t);if(r&&r.Ba)return Zu().add(r.key);{let e=Zu();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function bm(e){const t=Oa(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=om.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ym.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sm.bind(null,t),t.La.p_=zf.bind(null,t.eventManager),t.La.Ja=Vf.bind(null,t.eventManager),t}function wm(e){const t=Oa(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=am.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lm.bind(null,t),t}class xm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return bp(this.persistence,new gp,e.initialUser,this.serializer)}Xa(e){return new up(hp.ri,this.serializer)}Za(e){return new Ip}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xm.provider={build:()=>new xm};class Am extends xm{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ma(this.persistence.referenceDelegate instanceof pp);const n=this.persistence.referenceDelegate.garbageCollector;return new Yh(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?$h.withCacheSize(this.cacheSizeBytes):$h.DEFAULT;return new up((e=>pp.ri(e,t)),this.serializer)}}class Sm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>im(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=vm.bind(null,this.syncEngine),await kf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Mf}createDatastore(e){const t=Bp(e.databaseInfo.databaseId),n=function(e){return new Vp(e)}(e.databaseInfo);return function(e,t,n,r){return new Yp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new Jp(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,(e=>im(this.syncEngine,e,0)),jp.D()?new jp:new Pp)}createSyncEngine(e,t){return function(e,t,n,r,o,i,s){const a=new Xf(e,t,n,r,o,i);return s&&(a.ja=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Oa(e);Pa(Xp,"RemoteStore shutting down."),t.W_.add(5),await ef(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Sm.provider={build:()=>new Sm};class _m{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ra("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Cm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Fa(La.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Oa(e),r={documents:t.map((e=>mh(n.serializer,e)))},o=await n.Co("BatchGetDocuments",n.serializer.databaseId,al.emptyPath(),r,t.length),i=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Ma(!!t.found),t.found.name,t.found.updateTime;const n=gh(e,t.found.name),r=dh(t.found.updateTime),o=t.found.createTime?dh(t.found.createTime):ol.min(),i=new Yc({mapValue:{fields:t.found.fields}});return Xc.newFoundDocument(n,r,o,i)}(e,t):"missing"in t?function(e,t){Ma(!!t.missing),Ma(!!t.readTime);const n=gh(e,t.missing),r=dh(t.readTime);return Xc.newNoDocument(n,r)}(e,t):Na()}(n.serializer,e);i.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=i.get(e.toString());Ma(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new jd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=ul.fromPath(t);this.mutations.push(new Dd(n,this.precondition(n)))})),await async function(e,t){const n=Oa(e),r={writes:t.map((e=>Ah(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,al.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Na();t=ol.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Fa(La.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ol.min())?bd.exists(!1):bd.updateTime(t):bd.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ol.min()))throw new Fa(La.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bd.updateTime(t)}return bd.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class km{constructor(e,t,n,r,o){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=o,this.Tu=n.maxAttempts,this.a_=new $p(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo((async()=>{const e=new Cm(this.datastore),t=this.du(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Au(e)}))))})).catch((e=>{this.Au(e)}))}))}du(e){try{const t=this.updateFunction(e);return!Cl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Eu(),Promise.resolve())))):this.deferred.reject(e)}Ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Vd(t)}return!1}}const Tm="FirestoreClient";class Em{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ka.UNAUTHENTICATED,this.clientId=Ya.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async e=>{Pa(Tm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Pa(Tm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(NS){const n=Pf(NS,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Im(e,t){e.asyncQueue.verifyOperationInProgress(),Pa(Tm,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await wp(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Pm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Rm(e);Pa(Tm,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Cf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Cf(t.remoteStore,n))),e._onlineComponents=t}async function Rm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Pa(Tm,"Using user provided OfflineComponentProvider");try{await Im(e,e._uninitializedComponentsProvider._offline)}catch(NS){const n=NS;if(!function(e){return"FirebaseError"===e.name?e.code===La.FAILED_PRECONDITION||e.code===La.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await Im(e,new xm)}}else Pa(Tm,"Using default OfflineComponentProvider"),await Im(e,new Am(void 0));return e._offlineComponents}async function jm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Pa(Tm,"Using user provided OnlineComponentProvider"),await Pm(e,e._uninitializedComponentsProvider._online)):(Pa(Tm,"Using default OnlineComponentProvider"),await Pm(e,new Sm))),e._onlineComponents}function Dm(e){return jm(e).then((e=>e.syncEngine))}function Nm(e){return jm(e).then((e=>e.datastore))}async function Mm(e){const t=await jm(e),n=t.eventManager;return n.onListen=Jf.bind(null,t.syncEngine),n.onUnlisten=nm.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Zf.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rm.bind(null,t.syncEngine),n}function Om(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new za;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,o){const i=new _m({next:a=>{i.su(),t.enqueueAndForget((()=>Ff(e,s)));const l=a.docs.has(n);!l&&a.fromCache?o.reject(new Fa(La.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?o.reject(new Fa(La.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(a)},error:e=>o.reject(e)}),s=new Wf(Tu(n.path),i,{includeMetadataChanges:!0,Ta:!0});return Lf(e,s)}(await Mm(e),e.asyncQueue,t,n,r))),r.promise}function Lm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new za;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,o){const i=new _m({next:n=>{i.su(),t.enqueueAndForget((()=>Ff(e,s))),n.fromCache&&"server"===r.source?o.reject(new Fa(La.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:e=>o.reject(e)}),s=new Wf(n,i,{includeMetadataChanges:!0,Ta:!0});return Lf(e,s)}(await Mm(e),e.asyncQueue,t,n,r))),r.promise}function Fm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const zm=new Map;function Vm(e,t,n){if(!n)throw new Fa(La.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Um(e){if(!ul.isDocumentKey(e))throw new Fa(La.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Bm(e){if(ul.isDocumentKey(e))throw new Fa(La.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function $m(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Na()}function Wm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fa(La.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$m(e);throw new Fa(La.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Hm(e,t){if(t<=0)throw new Fa(La.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}const qm="firestore.googleapis.com",Gm=!0;class Km{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Fa(La.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qm,this.ssl=Gm}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Gm;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Bh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<qh)throw new Fa(La.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Fa(La.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Fa(La.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Fa(La.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Fa(La.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ym{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Km({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fa(La.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fa(La.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Km(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ua;switch(e.type){case"firstParty":return new Wa(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Fa(La.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zm.get(e);t&&(Pa("ComponentProvider","Removing Datastore"),zm.delete(e),t.terminate())}(this),Promise.resolve()}}class Qm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Qm(this.firestore,e,this._query)}}class Xm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xm(this.firestore,e,this._key)}}class Jm extends Qm{constructor(e,t,n){super(e,t,Tu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xm(this.firestore,null,new ul(e))}withConverter(e){return new Jm(this.firestore,e,this._path)}}function Zm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=en(e),Vm("collection","path",t),e instanceof Ym){const n=al.fromString(t,...r);return Bm(n),new Jm(e,null,n)}{if(!(e instanceof Xm||e instanceof Jm))throw new Fa(La.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(al.fromString(t,...r));return Bm(n),new Jm(e.firestore,null,n)}}function eg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=en(e),1===arguments.length&&(t=Ya.newId()),Vm("doc","path",t),e instanceof Ym){const n=al.fromString(t,...r);return Um(n),new Xm(e,null,new ul(n))}{if(!(e instanceof Xm||e instanceof Jm))throw new Fa(La.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(al.fromString(t,...r));return Um(n),new Xm(e.firestore,e instanceof Jm?e.converter:null,new ul(n))}}const tg="AsyncQueue";class ng{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $p(this,"async_queue_retry"),this.Su=()=>{const e=Up();e&&Pa(tg,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=Up();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Up();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new za;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(DS){if(!Al(DS))throw DS;Pa(tg,"Operation failed with retryable error: "+DS)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ra("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=If.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Na()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function rg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class og extends Ym{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ng,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ng(e),this._firestoreClient=void 0,await e}}}function ig(e){if(e._terminated)throw new Fa(La.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||sg(e),e._firestoreClient}function sg(e){var t,n,r;const o=e._freezeSettings(),i=function(e,t,n,r){return new Sc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Fm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||(null===(n=o.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=o.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new Em(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ag{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ag(dc.fromBase64String(e))}catch(e){throw new Fa(La.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ag(dc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Fa(La.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cg{constructor(e){this._methodName=e}}class ug{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fa(La.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fa(La.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qa(this._lat,e._lat)||Qa(this._long,e._long)}}class dg{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const hg=/^__.*__$/;class pg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ed(e,this.data,this.fieldMask,t,this.fieldTransforms):new Td(e,this.data,t,this.fieldTransforms)}}class fg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ed(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Na()}}class gg{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Og(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(mg(this.Lu)&&hg.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class vg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Bp(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new gg({Lu:e,methodName:t,zu:n,path:cl.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yg(e){const t=e._freezeSettings(),n=Bp(e._databaseId);return new vg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bg(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ju(i.merge||i.mergeFields?2:0,t,n,o);jg("Data must be an object, but it was:",s,r);const a=Pg(r,s);let l,c;if(i.merge)l=new cc(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=Dg(t,r,n);if(!s.contains(o))throw new Fa(La.INVALID_ARGUMENT,`Field '${o}' is specified in your field mask but missing from your input data.`);Lg(e,o)||e.push(o)}l=new cc(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new pg(new Yc(a),l,c)}class wg extends cg{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wg}}function xg(e,t,n){return new gg({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Ag extends cg{_toFieldTransform(e){return new vd(e.path,new cd)}isEqual(e){return e instanceof Ag}}class Sg extends cg{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=xg(this,e,!0),n=this.Hu.map((e=>Ig(e,t))),r=new ud(n);return new vd(e.path,r)}isEqual(e){return e instanceof Sg&&Wt(this.Hu,e.Hu)}}class _g extends cg{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=xg(this,e,!0),n=this.Hu.map((e=>Ig(e,t))),r=new hd(n);return new vd(e.path,r)}isEqual(e){return e instanceof _g&&Wt(this.Hu,e.Hu)}}class Cg extends cg{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new fd(e.serializer,od(e.serializer,this.Ju));return new vd(e.path,t)}isEqual(e){return e instanceof Cg&&this.Ju===e.Ju}}function kg(e,t,n,r){const o=e.ju(1,t,n);jg("Data must be an object, but it was:",o,r);const i=[],s=Yc.empty();nc(r,((e,r)=>{const a=Mg(t,e,n);r=en(r);const l=o.Uu(a);if(r instanceof wg)i.push(a);else{const e=Ig(r,l);null!=e&&(i.push(a),s.set(a,e))}}));const a=new cc(i);return new fg(s,a,o.fieldTransforms)}function Tg(e,t,n,r,o,i){const s=e.ju(1,t,n),a=[Dg(t,r,n)],l=[o];if(i.length%2!=0)throw new Fa(La.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(Dg(t,i[h])),l.push(i[h+1]);const c=[],u=Yc.empty();for(let h=a.length-1;h>=0;--h)if(!Lg(c,a[h])){const e=a[h];let t=l[h];t=en(t);const n=s.Uu(e);if(t instanceof wg)c.push(e);else{const r=Ig(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new cc(c);return new fg(u,d,s.fieldTransforms)}function Eg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ig(n,e.ju(r?4:3,t))}function Ig(e,t){if(Rg(e=en(e)))return jg("Unsupported field value:",t,e),Pg(e,t);if(e instanceof cg)return function(e,t){if(!mg(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=Ig(o,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=en(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return od(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=rl.fromDate(e);return{timestampValue:lh(t.serializer,n)}}if(e instanceof rl){const n=new rl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:lh(t.serializer,n)}}if(e instanceof ug)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ag)return{bytesValue:ch(t.serializer,e._byteString)};if(e instanceof Xm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:hh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof dg)return function(e,t){return{mapValue:{fields:{[kc]:{stringValue:Ic},[Pc]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return nd(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${$m(e)}`)}(e,t)}function Pg(e,t){const n={};return rc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nc(e,((e,r)=>{const o=Ig(r,t.qu(e));null!=o&&(n[e]=o)})),{mapValue:{fields:n}}}function Rg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rl||e instanceof ug||e instanceof ag||e instanceof Xm||e instanceof cg||e instanceof dg)}function jg(e,t,n){if(!Rg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=$m(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Dg(e,t,n){if((t=en(t))instanceof lg)return t._internalPath;if("string"==typeof t)return Mg(e,t);throw Og("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ng=new RegExp("[~\\*/\\[\\]]");function Mg(e,t,n){if(t.search(Ng)>=0)throw Og(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new lg(...t.split("."))._internalPath}catch(r){throw Og(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Og(e,t,n,r,o){const i=r&&!r.isEmpty(),s=void 0!==o;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${r}`),s&&(l+=` in document ${o}`),l+=")"),new Fa(La.INVALID_ARGUMENT,a+e+l)}function Lg(e,t){return e.some((e=>e.isEqual(t)))}class Fg{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zg extends Fg{data(){return super.data()}}function Vg(e,t){return"string"==typeof t?Mg(e,t):t instanceof lg?t._internalPath:t._delegate._internalPath}function Ug(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Fa(La.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bg{}class $g extends Bg{}function Wg(e,t){let n=[];for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t instanceof Bg&&n.push(t),n=n.concat(o),function(e){const t=e.filter((e=>e instanceof Gg)).length,n=e.filter((e=>e instanceof Hg)).length;if(t>1||t>0&&n>0)throw new Fa(La.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Hg extends $g{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hg(e,t,n)}_apply(e){const t=this._parse(e);return iv(e._query,t),new Qm(e.firestore,e.converter,Du(e._query,t))}_parse(e){const t=yg(e.firestore),n=function(e,t,n,r,o,i,s){let a;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Fa(La.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){ov(s,i);const t=[];for(const n of s)t.push(rv(r,e,n));a={arrayValue:{values:t}}}else a=rv(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||ov(s,i),a=Eg(n,t,s,"in"===i||"not-in"===i);return ou.create(o,i,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function qg(e,t,n){const r=t,o=Vg("where",e);return Hg._create(o,r,n)}class Gg extends Bg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gg(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:iu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const o of r)iv(n,o),n=Du(n,o)}(e._query,t),new Qm(e.firestore,e.converter,Du(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Kg extends $g{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kg(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Fa(La.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Fa(La.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(t,n)}(e._query,this._field,this._direction);return new Qm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Cu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Yg(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Vg("orderBy",e);return Kg._create(n,t)}class Qg extends $g{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Qg(e,t,n)}_apply(e){return new Qm(e.firestore,e.converter,Nu(e._query,this._limit,this._limitType))}}function Xg(e){return Hm("limit",e),Qg._create("limit",e,"F")}class Jg extends $g{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Jg(e,t,n)}_apply(e){const t=nv(e,this.type,this._docOrFields,this._inclusive);return new Qm(e.firestore,e.converter,function(e,t){return new Cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Zg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jg._create("startAt",t,!0)}class ev extends $g{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ev(e,t,n)}_apply(e){const t=nv(e,this.type,this._docOrFields,this._inclusive);return new Qm(e.firestore,e.converter,function(e,t){return new Cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function tv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ev._create("endAt",t,!0)}function nv(e,t,n,r){if(n[0]=en(n[0]),n[0]instanceof Fg)return function(e,t,n,r,o){if(!r)throw new Fa(La.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const i=[];for(const s of Pu(e))if(s.field.isKeyField())i.push(Vc(t,r.key));else{const e=r.data.field(s.field);if(wc(e))throw new Fa(La.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Fa(La.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}i.push(e)}return new Jc(i,o)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const o=yg(e.firestore);return function(e,t,n,r,o,i){const s=e.explicitOrderBy;if(o.length>s.length)throw new Fa(La.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<o.length;l++){const i=o[l];if(s[l].field.isKeyField()){if("string"!=typeof i)throw new Fa(La.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof i}`);if(!Iu(e)&&-1!==i.indexOf("/"))throw new Fa(La.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${i}' contains a slash.`);const n=e.path.child(al.fromString(i));if(!ul.isDocumentKey(n))throw new Fa(La.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const o=new ul(n);a.push(Vc(t,o))}else{const e=Eg(n,r,i);a.push(e)}}return new Jc(a,i)}(e._query,e.firestore._databaseId,o,t,n,r)}}function rv(e,t,n){if("string"==typeof(n=en(n))){if(""===n)throw new Fa(La.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iu(t)&&-1!==n.indexOf("/"))throw new Fa(La.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(al.fromString(n));if(!ul.isDocumentKey(r))throw new Fa(La.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vc(e,new ul(r))}if(n instanceof Xm)return Vc(e,n._key);throw new Fa(La.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$m(n)}.`)}function ov(e,t){if(!Array.isArray(e)||0===e.length)throw new Fa(La.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iv(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Fa(La.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Fa(La.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class sv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Rc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Na()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return nc(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const o=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Pc].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>fc(e.doubleValue)));return new dg(o)}convertGeoPoint(e){return new ug(fc(e.latitude),fc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=xc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){const t=pc(e);return new rl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=al.fromString(e);Ma(Nh(n));const r=new Cc(n.get(1),n.get(3)),o=new ul(n.popFirst(5));return r.isEqual(t)||Ra(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function av(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class lv extends sv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ag(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xm(this.firestore,null,t)}}class cv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uv extends Fg{constructor(e,t,n,r,o,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new dv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Vg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class dv extends uv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class hv{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new cv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new dv(this._firestore,this._userDataWriter,n.key,n,new cv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Fa(La.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new dv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new cv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new dv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,i=-1;return 0!==t.type&&(o=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:pv(t.type),doc:r,oldIndex:o,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function pv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Na()}}function fv(e){e=Wm(e,Xm);const t=Wm(e.firestore,og);return Om(ig(t),e._key).then((n=>Sv(t,e,n)))}class mv extends sv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ag(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xm(this.firestore,null,t)}}function gv(e){e=Wm(e,Qm);const t=Wm(e.firestore,og),n=ig(t),r=new mv(t);return Ug(e._query),Lm(n,e._query).then((n=>new hv(t,r,e,n)))}function vv(e,t,n){e=Wm(e,Xm);const r=Wm(e.firestore,og),o=av(e.converter,t,n);return Av(r,[bg(yg(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,bd.none())])}function yv(e,t,n){e=Wm(e,Xm);const r=Wm(e.firestore,og),o=yg(r);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return i="string"==typeof(t=en(t))||t instanceof lg?Tg(o,"updateDoc",e._key,t,n,a):kg(o,"updateDoc",e._key,t),Av(r,[i.toMutation(e._key,bd.exists(!0))])}function bv(e){return Av(Wm(e.firestore,og),[new jd(e._key,bd.none())])}function wv(e,t){const n=Wm(e.firestore,og),r=eg(e),o=av(e.converter,t);return Av(n,[bg(yg(e.firestore),"addDoc",r._key,o,null!==e.converter,{}).toMutation(r._key,bd.exists(!1))]).then((()=>r))}function xv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,i,s;e=en(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||rg(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(rg(n[l])){const e=n[l];n[l]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[l+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof Xm)d=Wm(e.firestore,og),h=Tu(e._key.path),u={next:t=>{n[l]&&n[l](Sv(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Wm(e,Qm);d=Wm(t.firestore,og),h=t._query;const r=new mv(d);u={next:e=>{n[l]&&n[l](new hv(d,r,t,e))},error:n[l+1],complete:n[l+2]},Ug(e._query)}return function(e,t,n,r){const o=new _m(r),i=new Wf(t,o,n);return e.asyncQueue.enqueueAndForget((async()=>Lf(await Mm(e),i))),()=>{o.su(),e.asyncQueue.enqueueAndForget((async()=>Ff(await Mm(e),i)))}}(ig(d),h,c,u)}function Av(e,t){return function(e,t){const n=new za;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=wm(e);try{const e=await function(e,t){const n=Oa(e),r=rl.now(),o=t.reduce(((e,t)=>e.add(t.key)),Zu());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Wu(),l=Zu();return n.ds.getEntries(e,o).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((o=>{i=o;const s=[];for(const e of t){const t=Cd(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new Ed(e.key,t,Qc(t.value.mapValue),bd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Gu(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new oc(Qa)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await gm(r,e.changes),await gf(r.remoteStore)}catch(e){const t=Pf(e,"Failed to persist write");n.reject(t)}}(await Dm(e),t,n))),n.promise}(ig(e),t)}function Sv(e,t,n){const r=n.docs.get(t._key),o=new mv(e);return new uv(e,o,t._key,r,new cv(n.hasPendingWrites,n.fromCache),t.converter)}const _v={maxAttempts:5};function Cv(e,t){if((e=en(e)).firestore!==t)throw new Fa(La.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class kv{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=yg(e)}get(e){const t=Cv(e,this._firestore),n=new lv(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Na();const r=e[0];if(r.isFoundDocument())return new Fg(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Fg(this._firestore,n,t._key,null,t.converter);throw Na()}))}set(e,t,n){const r=Cv(e,this._firestore),o=av(r.converter,t,n),i=bg(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,n);return this._transaction.set(r._key,i),this}update(e,t,n){const r=Cv(e,this._firestore);let o;for(var i=arguments.length,s=new Array(i>3?i-3:0),a=3;a<i;a++)s[a-3]=arguments[a];return o="string"==typeof(t=en(t))||t instanceof lg?Tg(this._dataReader,"Transaction.update",r._key,t,n,s):kg(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,o),this}delete(e){const t=Cv(e,this._firestore);return this._transaction.delete(t._key),this}}class Tv extends kv{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Cv(e,this._firestore),n=new mv(this._firestore);return super.get(e).then((e=>new uv(this._firestore,n,t._key,e._document,new cv(!1,!1),t.converter)))}}function Ev(e,t,n){e=Wm(e,og);const r=Object.assign(Object.assign({},_v),n);return function(e){if(e.maxAttempts<1)throw new Fa(La.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new za;return e.asyncQueue.enqueueAndForget((async()=>{const o=await Nm(e);new km(e.asyncQueue,o,n,t,r).Iu()})),r.promise}(ig(e),(n=>t(new Tv(e,n))),r)}function Iv(){return new Ag("serverTimestamp")}function Pv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sg("arrayUnion",t)}function Rv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _g("arrayRemove",t)}function jv(e){return new Cg("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ta=e}(vr),hr(new tn("firestore",((e,n)=>{let{instanceIdentifier:r,options:o}=n;const i=e.getProvider("app").getImmediate(),s=new og(new Ba(e.getProvider("auth-internal")),new qa(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fa(La.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(e.options.projectId,t)}(i,r),i);return o=Object.assign({useFetchStreams:t},o),s._setSettings(o),s}),"PUBLIC").setMultipleInstances(!0)),wr(_a,Ca,e),wr(_a,Ca,"esm2017")}();const Dv="firebasestorage.googleapis.com",Nv="storageBucket";class Mv extends Nt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Fv(e),`Firebase Storage: ${t} (${Fv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mv.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ov,Lv;function Fv(e){return"storage/"+e}function zv(){return new Mv(Ov.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Vv(){return new Mv(Ov.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Uv(){return new Mv(Ov.CANCELED,"User canceled the upload/download.")}function Bv(){return new Mv(Ov.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $v(e){return new Mv(Ov.INVALID_ARGUMENT,e)}function Wv(){return new Mv(Ov.APP_DELETED,"The Firebase app was deleted.")}function Hv(e,t){return new Mv(Ov.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function qv(e){throw new Mv(Ov.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ov||(Ov={}));class Gv{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Gv.makeFromUrl(e,t)}catch(DS){return new Gv(e,"")}if(""===n.path)return n;throw r=e,new Mv(Ov.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const o=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp(`^https?://${t===Dv?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let o=r[t.indices.path];o||(o=""),n=new Gv(e,o),t.postModify(n);break}}if(null==n)throw function(e){return new Mv(Ov.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Kv{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Yv(e){return"string"===typeof e||e instanceof String}function Qv(e){return Xv()&&e instanceof Blob}function Xv(){return"undefined"!==typeof Blob}function Jv(e,t,n,r){if(r<t)throw $v(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw $v(`Invalid value for '${e}'. Expected ${n} or less.`)}function Zv(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function ey(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function ty(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),o=-1!==t.indexOf(e);return n||r||o}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Lv||(Lv={}));class ny{constructor(e,t,n,r,o,i,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new ry(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Lv.NO_ERROR,o=n.getStatus();if(!t||ty(o,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Lv.ABORT;return void e(!1,new ry(!1,null,t))}const i=-1!==this.successCodes_.indexOf(o);e(!0,new ry(i,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,o=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(o,o.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(DS){r(DS)}else if(null!==o){const e=zv();e.serverResponse=o.getErrorText(),this.errorCallback_?r(this.errorCallback_(o,e)):r(e)}else if(t.canceled){r(this.appDelete_?Wv():Uv())}else{r(Vv())}};this.canceled_?t(0,new ry(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,o=null,i=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){o=setTimeout((()=>{o=null,e(p,l())}),t)}function h(){i&&clearTimeout(i)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),d(i)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==o?(e||(a=2),clearTimeout(o),d(0)):e||(a=1)))}return d(0),i=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ry{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function oy(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function iy(){const e=oy();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Xv())return new Blob(n);throw new Mv(Ov.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function sy(e){if("undefined"===typeof atob)throw t="base-64",new Mv(Ov.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const ay="raw",ly="base64",cy="base64url",uy="data_url";class dy{constructor(e,t){this.data=e,this.contentType=t||null}}function hy(e,t){switch(e){case ay:return new dy(py(t));case ly:case cy:return new dy(fy(e,t));case uy:return new dy(function(e){const t=new my(e);return t.base64?fy(ly,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(DS){throw Hv(uy,"Malformed data URL.")}return py(t)}(t.rest)}(t),function(e){const t=new my(e);return t.contentType}(t))}throw zv()}function py(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function fy(e,t){switch(e){case ly:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Hv(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case cy:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Hv(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=sy(t)}catch(DS){if(DS.message.includes("polyfill"))throw DS;throw Hv(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class my{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Hv(uy,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class gy{constructor(e,t){let n=0,r="";Qv(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Qv(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new gy(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new gy(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Xv()){const e=t.map((e=>e instanceof gy?e.data_:e));return new gy(iy.apply(null,e))}{const e=t.map((e=>Yv(e)?hy(ay,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let o=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[o++]=e[t]})),new gy(r,!0)}}uploadData(){return this.data_}}function vy(e){let t;try{t=JSON.parse(e)}catch(DS){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function yy(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function by(e,t){return t}class wy{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||by}}let xy=null;function Ay(){if(xy)return xy;const e=[];e.push(new wy("bucket")),e.push(new wy("generation")),e.push(new wy("metageneration")),e.push(new wy("name","fullPath",!0));const t=new wy("name");t.xform=function(e,t){return function(e){return!Yv(e)||e.length<2?e:yy(e)}(t)},e.push(t);const n=new wy("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new wy("timeCreated")),e.push(new wy("updated")),e.push(new wy("md5Hash",null,!0)),e.push(new wy("cacheControl",null,!0)),e.push(new wy("contentDisposition",null,!0)),e.push(new wy("contentEncoding",null,!0)),e.push(new wy("contentLanguage",null,!0)),e.push(new wy("contentType",null,!0)),e.push(new wy("metadata","customMetadata",!0)),xy=e,xy}function Sy(e,t,n){const r={type:"file"},o=n.length;for(let i=0;i<o;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,o=new Gv(n,r);return t._makeStorageReference(o)}})}(r,e),r}function _y(e,t,n){const r=vy(t);if(null===r)return null;return Sy(e,r,n)}function Cy(e,t){const n={},r=t.length;for(let o=0;o<r;o++){const r=t[o];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class ky{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ty(e){if(!e)throw zv()}function Ey(e,t){return function(n,r){const o=_y(e,r,t);return Ty(null!==o),o}}function Iy(e,t){return function(n,r){const o=_y(e,r,t);return Ty(null!==o),function(e,t,n,r){const o=vy(t);if(null===o)return null;if(!Yv(o.downloadTokens))return null;const i=o.downloadTokens;if(0===i.length)return null;const s=encodeURIComponent;return i.split(",").map((t=>{const o=e.bucket,i=e.fullPath;return Zv("/b/"+s(o)+"/o/"+s(i),n,r)+ey({alt:"media",token:t})}))[0]}(o,r,e.host,e._protocol)}}function Py(e){return function(t,n){let r;var o,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Mv(Ov.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Mv(Ov.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new Mv(Ov.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(o=e.path,r=new Mv(Ov.UNAUTHORIZED,"User does not have permission to access '"+o+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Ry(e){const t=Py(e);return function(n,r){let o=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,o=new Mv(Ov.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function jy(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Dy(e,t,n,r,o){const i=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=jy(t,r,o),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Cy(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=gy.getBlob(c,r,u);if(null===d)throw Bv();const h={name:l.fullPath},p=Zv(i,e.host,e._protocol),f=e.maxUploadRetryTime,m=new ky(p,"POST",Ey(e,n),f);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=Py(t),m}class Ny{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lv.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Lv.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Lv.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw qv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qv("cannot .getStatus() before sending");try{return this.xhr_.status}catch(DS){return-1}}getResponse(){if(!this.sent_)throw qv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class My extends Ny{initXhr(){this.xhr_.responseType="text"}}function Oy(){return new My}class Ly{constructor(e,t){this._service=e,this._location=t instanceof Gv?t:Gv.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ly(e,t)}get root(){const e=new Gv(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yy(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Gv(this._location.bucket,e);return new Ly(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Mv(Ov.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Fy(e,t,n){e._throwIfRoot("uploadBytes");const r=Dy(e.storage,e._location,Ay(),new gy(t,!0),n);return e.storage.makeRequestWithTokens(r,Oy).then((t=>({metadata:t,ref:e})))}function zy(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Zv(t.fullServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,i=new ky(r,"GET",Iy(e,n),o);return i.errorHandler=Ry(t),i}(e.storage,e._location,Ay());return e.storage.makeRequestWithTokens(t,Oy).then((e=>{if(null===e)throw new Mv(Ov.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Vy(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Gv(e._location.bucket,n);return new Ly(e.storage,r)}function Uy(e,t){if(e instanceof Wy){const n=e;if(null==n._bucket)throw new Mv(Ov.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Nv+"' property when initializing the app?");const r=new Ly(n,n._bucket);return null!=t?Uy(r,t):r}return void 0!==t?Vy(e,t):e}function By(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Wy)return function(e,t){return new Ly(e,t)}(e,t);throw $v("To use ref(service, url), the first argument must be a Storage instance.")}return Uy(e,t)}function $y(e,t){const n=null===t||void 0===t?void 0:t[Nv];return null==n?null:Gv.makeFromBucketSpec(n,e)}class Wy{constructor(e,t,n,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Dv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Gv.makeFromBucketSpec(r,this._host):$y(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Gv.makeFromBucketSpec(this._url,e):this._bucket=$y(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ly(this,e)}_makeRequest(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Kv(Wv());{const i=function(e,t,n,r,o,i){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=ey(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new ny(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,s)}(e,this._appId,n,r,t,this._firebaseVersion,o);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Hy="@firebase/storage",qy="0.13.7",Gy="storage";function Ky(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Wy(r,o,i,n,vr)}hr(new tn(Gy,Ky,"PUBLIC").setMultipleInstances(!0)),wr(Hy,qy,""),wr(Hy,qy,"esm2017");const Yy="@firebase/database",Qy="1.0.14";let Xy="";function Jy(e){Xy=e}class Zy{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ft(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Lt(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class eb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Vt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const tb=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Zy(t)}}catch(DS){}return new eb},nb=tb("localStorage"),rb=tb("sessionStorage"),ob=new pn("@firebase/database"),ib=function(){let e=1;return function(){return e++}}(),sb=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){const t=o-55296;r++,ut(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(t<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}(e),n=new Yt;n.update(t);const r=n.digest();return pt.encodeByteArray(r)},ab=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=ab.apply(null,n):e+="object"===typeof n?Ft(n):n,e+=" "}return e};let lb=null,cb=!0;const ub=function(e,t){ut(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(ob.logLevel=ln.VERBOSE,lb=ob.log.bind(ob),t&&rb.set("logging_enabled",!0)):"function"===typeof e?lb=e:(lb=null,rb.remove("logging_enabled"))},db=function(){if(!0===cb&&(cb=!1,null===lb&&!0===rb.get("logging_enabled")&&ub(!0)),lb){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=ab.apply(null,t);lb(r)}},hb=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];db(e,...n)}},pb=function(){const e="FIREBASE INTERNAL ERROR: "+ab(...arguments);ob.error(e)},fb=function(){const e=`FIREBASE FATAL ERROR: ${ab(...arguments)}`;throw ob.error(e),new Error(e)},mb=function(){const e="FIREBASE WARNING: "+ab(...arguments);ob.warn(e)},gb=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},vb="[MIN_NAME]",yb="[MAX_NAME]",bb=function(e,t){if(e===t)return 0;if(e===vb||t===yb)return-1;if(t===vb||e===yb)return 1;{const n=Tb(e),r=Tb(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},wb=function(e,t){return e===t?0:e<t?-1:1},xb=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ft(t))},Ab=function(e){if("object"!==typeof e||null===e)return Ft(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Ft(t[r]),n+=":",n+=Ab(e[t[r]]);return n+="}",n},Sb=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function _b(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Cb=function(e){ut(!gb(e),"Invalid JSON number");const t=1023;let n,r,o,i,s;0===e?(r=0,o=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=i+t,o=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(r=0,o=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(o%2?1:0),o=Math.floor(o/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const kb=new RegExp("^-?(0*)\\d{1,10}$"),Tb=function(e){if(kb.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Eb=function(e){try{e()}catch(DS){setTimeout((()=>{const t=DS.stack||"";throw mb("Exception was thrown by user callback.",t),DS}),Math.floor(0))}},Ib=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Pb{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,fr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){mb(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Rb{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(db("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mb(e)}}class jb{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}jb.OWNER="owner";const Db="5",Nb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Mb="ac",Ob="websocket",Lb="long_polling";class Fb{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=i,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nb.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&nb.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function zb(e,t,n){let r;if(ut("string"===typeof t,"typeof type must == string"),ut("object"===typeof n,"typeof params must == object"),t===Ob)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Lb)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const o=[];return _b(n,((e,t)=>{o.push(e+"="+t)})),r+o.join("&")}class Vb{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Vt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return yt(this.counters_)}}const Ub={},Bb={};function $b(e){const t=e.toString();return Ub[t]||(Ub[t]=new Vb),Ub[t]}class Wb{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Eb((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Hb="start";class qb{constructor(e,t,n,r,o,i,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hb(e),this.stats_=$b(t),this.urlFn=e=>(this.appCheckToken&&(e[Mb]=this.appCheckToken),zb(t,Lb,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Wb(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Rt()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Gb((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Hb)n.id=i,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,i)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Hb]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Db,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Mb]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Nb.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qb.forceAllow_=!0}static forceDisallow(){qb.forceDisallow_=!0}static isAvailable(){return!Rt()&&(!!qb.forceAllow_||!qb.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ft(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=mt(t),r=Sb(n,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Rt())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ft(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Gb{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Rt())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=ib(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Gb.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(DS){db("frame writing exception"),DS.stack&&db(DS.stack),db(DS)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||db("No IE domain setting required")}catch(DS){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Rt()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{db("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(DS){}}),Math.floor(1))}}let Kb=null;"undefined"!==typeof MozWebSocket?Kb=MozWebSocket:"undefined"!==typeof WebSocket&&(Kb=WebSocket);class Yb{constructor(e,t,n,r,o,i,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hb(this.connId),this.stats_=$b(t),this.connURL=Yb.connectionURL_(t,i,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,o){const i={};return i.v=Db,!Rt()&&"undefined"!==typeof location&&location.hostname&&Nb.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i[Mb]=r),o&&(i.p=o),zb(e,Ob,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nb.set("previous_websocket_failure",!0);try{let e;if(Rt()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${Db}/${Xy}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALGOLIA_API_KEY:"b94f7163a6855940c1a0d94e635a307c",REACT_APP_ALGOLIA_APP_ID:"7PVTC2J64R",REACT_APP_ALGOLIA_INDEX_NAME:"searches",REACT_APP_API_URL:"https://sideeye-backend-production.up.railway.app",REACT_APP_FIREBASE_API_KEY:"AIzaSyBI9pvyseKR-5dw3eXuZgTLnG3OcvNGbeI",REACT_APP_FIREBASE_APP_ID:"1:864667627333:web:1ec087179141d1e91a982c",REACT_APP_FIREBASE_AUTH_DOMAIN:"sideeye.uk",REACT_APP_FIREBASE_DATABASE_URL:"https://sideeye-bafda-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"864667627333",REACT_APP_FIREBASE_PROJECT_ID:"sideeye-bafda",REACT_APP_FIREBASE_STORAGE_BUCKET:"sideeye-bafda.firebasestorage.app",REACT_APP_SHOTSTACK_API_KEY:"c0Bpc85oj7cHuDdfhz54eQJmmoEI1qauJyodpw9d",REACT_APP_SOCKET_SERVER_URL:"wss://sideeye-backend-production.up.railway.app"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Kb(this.connURL,[],e)}catch(DS){this.log_("Error instantiating WebSocket.");const t=DS.message||DS.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Yb.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Kb&&!Yb.forceDisallow_}static previouslyFailed(){return nb.isInMemoryStorage||!0===nb.get("previous_websocket_failure")}markConnectionHealthy(){nb.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Lt(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ut(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Ft(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Sb(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(DS){this.log_("Exception thrown from WebSocket.send():",DS.message||DS.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yb.responsesRequiredToBeHealthy=2,Yb.healthyTimeout=3e4;class Qb{static get ALL_TRANSPORTS(){return[qb,Yb]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Yb&&Yb.isAvailable();let n=t&&!Yb.previouslyFailed();if(e.webSocketOnly&&(t||mb("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Yb];else{const e=this.transports_=[];for(const t of Qb.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Qb.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qb.globalTransportInitialized_=!1;class Xb{constructor(e,t,n,r,o,i,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hb("c:"+this.id+":"),this.transportManager_=new Qb(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ib((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=xb("t",e),n=xb("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=xb("t",e),n=xb("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=xb("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?pb("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pb("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Db!==n&&mb("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Ib((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ib((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nb.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Jb{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Zb{constructor(e){this.allowedEvents_=e,this.listeners_={},ut(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<o.length;e++)o[e].callback.apply(o[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!n||n===r[o].context))return void r.splice(o,1)}validateEventType_(e){ut(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class ew extends Zb{static getInstance(){return new ew}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||It()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}getInitialEvent(e){return ut("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class tw{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function nw(){return new tw("")}function rw(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ow(e){return e.pieces_.length-e.pieceNum_}function iw(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new tw(e.pieces_,t)}function sw(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function aw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function lw(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new tw(t,0)}function cw(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof tw)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new tw(n,0)}function uw(e){return e.pieceNum_>=e.pieces_.length}function dw(e,t){const n=rw(e),r=rw(t);if(null===n)return t;if(n===r)return dw(iw(e),iw(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function hw(e,t){if(ow(e)!==ow(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function pw(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ow(e)>ow(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class fw{constructor(e,t){this.errorPrefix_=t,this.parts_=aw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Zt(this.parts_[n]);mw(this)}}function mw(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gw(e))}function gw(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class vw extends Zb{static getInstance(){return new vw}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}getInitialEvent(e){return ut("visible"===e,"Unknown event type: "+e),[this.visible_]}}const yw=1e3;class bw extends Jb{constructor(e,t,n,r,o,i,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=bw.nextPersistentConnectionId_++,this.log_=hb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Rt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vw.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ew.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(Ft(o)),ut(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new kt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const o=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+o),this.listens.has(i)||this.listens.set(i,new Map),ut(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ut(!this.listens.get(i).has(o),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(i).set(o,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const o={p:n};e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(o=>{const i=o.d,s=o.s;bw.warnOnListenWarnings_(i,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",o),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,i))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Vt(e,"w")){const n=Ut(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();mb(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=zt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=zt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ut(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const o={p:e};r&&(o.q=n,o.t=r),this.sendRequest("n",o)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const o={p:t,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,o){this.initConnection_();const i={p:t,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ft(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):pb("Unrecognized action received from server: "+Ft(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ut(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yw,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yw),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+bw.nextConnectionId_++,o=this.lastSessionId;let i=!1,s=null;const a=function(){s?s.close():(i=!0,n())},l=function(e){ut(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);i?db("getToken() completed but was canceled"):(db("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new Xb(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{mb(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),o))}catch(pb){this.log_("Failed to get token: "+pb),i||(this.repoInfo_.nodeAdmin&&mb(pb),a())}}}interrupt(e){db("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){db("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bt(this.interruptReasons_)&&(this.reconnectDelay_=yw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Ab(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new tw(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){db("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){db("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Rt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Xy.replace(/\./g,"-")]=1,It()?e["framework.cordova"]=1:Pt()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ew.getInstance().currentlyOnline();return Bt(this.interruptReasons_)&&e}}bw.nextPersistentConnectionId_=0,bw.nextConnectionId_=0;class ww{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ww(e,t)}}class xw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new ww(vb,e),r=new ww(vb,t);return 0!==this.compare(n,r)}minPost(){return ww.MIN}}let Aw;class Sw extends xw{static get __EMPTY_NODE(){return Aw}static set __EMPTY_NODE(e){Aw=e}compare(e,t){return bb(e.name,t.name)}isDefinedOn(e){throw dt("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ww.MIN}maxPost(){return new ww(yb,Aw)}makePost(e,t){return ut("string"===typeof e,"KeyIndex indexValue must always be a string."),new ww(e,Aw)}toString(){return".key"}}const _w=new Sw;class Cw{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class kw{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:kw.RED,this.left=null!=r?r:Tw.EMPTY_NODE,this.right=null!=o?o:Tw.EMPTY_NODE}copy(e,t,n,r,o){return new kw(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Tw.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Tw.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,kw.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,kw.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}kw.RED=!0,kw.BLACK=!1;class Tw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tw.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Tw(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,kw.BLACK,null,null))}remove(e){return new Tw(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kw.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Cw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Cw(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Cw(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Cw(this.root_,null,this.comparator_,!0,e)}}function Ew(e,t){return bb(e.name,t.name)}function Iw(e,t){return bb(e,t)}let Pw;Tw.EMPTY_NODE=new class{copy(e,t,n,r,o){return this}insert(e,t,n){return new kw(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Rw=function(e){return"number"===typeof e?"number:"+Cb(e):"string:"+e},jw=function(e){if(e.isLeafNode()){const t=e.val();ut("string"===typeof t||"number"===typeof t||"object"===typeof t&&Vt(t,".sv"),"Priority must be a string or number.")}else ut(e===Pw||e.isEmpty(),"priority of unexpected type.");ut(e===Pw||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Dw,Nw,Mw;class Ow{static set __childrenNodeConstructor(e){Dw=e}static get __childrenNodeConstructor(){return Dw}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ow.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ut(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),jw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ow(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Ow.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return uw(e)?this:".priority"===rw(e)?this.priorityNode_:Ow.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Ow.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=rw(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(ut(".priority"!==n||1===ow(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Ow.__childrenNodeConstructor.EMPTY_NODE.updateChild(iw(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Rw(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Cb(this.value_):this.value_,this.lazyHash_=sb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ow.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ow.__childrenNodeConstructor?-1:(ut(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Ow.VALUE_TYPE_ORDER.indexOf(t),o=Ow.VALUE_TYPE_ORDER.indexOf(n);return ut(r>=0,"Unknown leaf type: "+t),ut(o>=0,"Unknown leaf type: "+n),r===o?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Ow.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Lw=new class extends xw{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),o=n.compareTo(r);return 0===o?bb(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ww.MIN}maxPost(){return new ww(yb,new Ow("[PRIORITY-POST]",Mw))}makePost(e,t){const n=Nw(e);return new ww(t,new Ow("[PRIORITY-POST]",n))}toString(){return".priority"}},Fw=Math.log(2);class zw{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Fw,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Vw=function(e,t,n,r){e.sort(t);const o=function(t,r){const i=r-t;let s,a;if(0===i)return null;if(1===i)return s=e[t],a=n?n(s):s,new kw(a,s.node,kw.BLACK,null,null);{const l=parseInt(i/2,10)+t,c=o(t,l),u=o(l+1,r);return s=e[l],a=n?n(s):s,new kw(a,s.node,kw.BLACK,c,u)}},i=function(t){let r=null,i=null,s=e.length;const a=function(t,r){const i=s-t,a=s;s-=t;const c=o(i+1,a),u=e[i],d=n?n(u):u;l(new kw(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(i=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,kw.BLACK):(a(r,kw.BLACK),a(r,kw.RED))}return i}(new zw(e.length));return new Tw(r||t,i)};let Uw;const Bw={};class $w{static get Default(){return ut(Bw&&Lw,"ChildrenNode.ts has not been loaded"),Uw=Uw||new $w({".priority":Bw},{".priority":Lw}),Uw}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Ut(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Tw?t:null}hasIndex(e){return Vt(this.indexSet_,e.toString())}addIndex(e,t){ut(e!==_w,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=t.getIterator(ww.Wrap);let i,s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=o.getNext();i=r?Vw(n,e.getCompare()):Bw;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=i,new $w(c,l)}addToIndexes(e,t){const n=$t(this.indexes_,((n,r)=>{const o=Ut(this.indexSet_,r);if(ut(o,"Missing index implementation for "+r),n===Bw){if(o.isDefinedOn(e.node)){const n=[],r=t.getIterator(ww.Wrap);let i=r.getNext();for(;i;)i.name!==e.name&&n.push(i),i=r.getNext();return n.push(e),Vw(n,o.getCompare())}return Bw}{const r=t.get(e.name);let o=n;return r&&(o=o.remove(new ww(e.name,r))),o.insert(e,e.node)}}));return new $w(n,this.indexSet_)}removeFromIndexes(e,t){const n=$t(this.indexes_,(n=>{if(n===Bw)return n;{const r=t.get(e.name);return r?n.remove(new ww(e.name,r)):n}}));return new $w(n,this.indexSet_)}}let Ww;class Hw{static get EMPTY_NODE(){return Ww||(Ww=new Hw(new Tw(Iw),null,$w.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&jw(this.priorityNode_),this.children_.isEmpty()&&ut(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ww}updatePriority(e){return this.children_.isEmpty()?this:new Hw(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Ww:t}}getChild(e){const t=rw(e);return null===t?this:this.getImmediateChild(t).getChild(iw(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(ut(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new ww(e,t);let r,o;t.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(n,this.children_));const i=r.isEmpty()?Ww:this.priorityNode_;return new Hw(r,i,o)}}updateChild(e,t){const n=rw(e);if(null===n)return t;{ut(".priority"!==rw(e)||1===ow(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(iw(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,o=!0;if(this.forEachChild(Lw,((i,s)=>{t[i]=s.val(e),n++,o&&Hw.INTEGER_REGEXP_.test(i)?r=Math.max(r,Number(i)):o=!1})),!e&&o&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Rw(this.getPriority().val())+":"),this.forEachChild(Lw,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":sb(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new ww(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ww(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ww(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,ww.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,ww.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qw?-1:0}withIndex(e){if(e===_w||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Hw(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===_w||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Lw),n=t.getIterator(Lw);let r=e.getNext(),o=n.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=e.getNext(),o=n.getNext()}return null===r&&null===o}return!1}return!1}}resolveIndex_(e){return e===_w?null:this.indexMap_.get(e.toString())}}Hw.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const qw=new class extends Hw{constructor(){super(new Tw(Iw),Hw.EMPTY_NODE,$w.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Hw.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ww,{MIN:{value:new ww(vb,Hw.EMPTY_NODE)},MAX:{value:new ww(yb,qw)}}),Sw.__EMPTY_NODE=Hw.EMPTY_NODE,Ow.__childrenNodeConstructor=Hw,Pw=qw,function(e){Mw=e}(qw);function Gw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Hw.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ut(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Ow(e,Gw(t))}if(e instanceof Array){let n=Hw.EMPTY_NODE;return _b(e,((t,r)=>{if(Vt(e,t)&&"."!==t.substring(0,1)){const e=Gw(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Gw(t))}{const n=[];let r=!1;if(_b(e,((e,t)=>{if("."!==e.substring(0,1)){const o=Gw(t);o.isEmpty()||(r=r||!o.getPriority().isEmpty(),n.push(new ww(e,o)))}})),0===n.length)return Hw.EMPTY_NODE;const o=Vw(n,Ew,(e=>e.name),Iw);if(r){const e=Vw(n,Lw.getCompare());return new Hw(o,Gw(t),new $w({".priority":e},{".priority":Lw}))}return new Hw(o,Gw(t),$w.Default)}}!function(e){Nw=e}(Gw);class Kw extends xw{constructor(e){super(),this.indexPath_=e,ut(!uw(e)&&".priority"!==rw(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),o=n.compareTo(r);return 0===o?bb(e.name,t.name):o}makePost(e,t){const n=Gw(e),r=Hw.EMPTY_NODE.updateChild(this.indexPath_,n);return new ww(t,r)}maxPost(){const e=Hw.EMPTY_NODE.updateChild(this.indexPath_,qw);return new ww(yb,e)}toString(){return aw(this.indexPath_,0).join("/")}}const Yw=new class extends xw{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?bb(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ww.MIN}maxPost(){return ww.MAX}makePost(e,t){const n=Gw(e);return new ww(t,n)}toString(){return".value"}};function Qw(e){return{type:"value",snapshotNode:e}}function Xw(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Jw(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Zw(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class ex{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Lw}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ut(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ut(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vb}hasEnd(){return this.endSet_}getIndexEndValue(){return ut(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ut(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yb}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ut(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Lw}copy(){const e=new ex;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tx(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Lw?n="$priority":e.index_===Yw?n="$value":e.index_===_w?n="$key":(ut(e.index_ instanceof Kw,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ft(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Ft(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Ft(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Ft(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Ft(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function nx(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Lw&&(t.i=e.index_.toString()),t}class rx extends Jb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(ut(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=hb("p:rest:"),this.listens_={}}listen(e,t,n,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const i=rx.getListenId_(e,n),s={};this.listens_[i]=s;const a=tx(e._queryParams);this.restRequest_(o+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(o,a,!1,n),Ut(this.listens_,i)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=rx.getListenId_(e,t);delete this.listens_[n]}get(e){const t=tx(e._queryParams),n=e._path.toString(),r=new kt;return this.restRequest_(n+".json",t,((e,t)=>{let o=t;404===e&&(o=null,e=null),null===e?(this.onDataUpdate_(n,o,!1,null),r.resolve(o)):r.reject(new Error(o))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[o,i]=r;o&&o.accessToken&&(t.auth=o.accessToken),i&&i.token&&(t.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+qt(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=Lt(a.responseText)}catch(DS){mb("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&mb("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class ox{constructor(){this.rootNode_=Hw.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ix(){return{value:null,children:new Map}}function sx(e,t,n){if(uw(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=rw(t);e.children.has(r)||e.children.set(r,ix());sx(e.children.get(r),t=iw(t),n)}}function ax(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{ax(r,new tw(t.toString()+"/"+e),n)}))}class lx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&_b(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class cx{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new lx(e);const n=1e4+2e4*Math.random();Ib(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;_b(e,((e,r)=>{r>0&&Vt(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Ib(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ux;function dx(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ux||(ux={}));class hx{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ux.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(uw(this.path)){if(null!=this.affectedTree.value)return ut(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new tw(e));return new hx(nw(),t,this.revert)}}return ut(rw(this.path)===e,"operationForChild called for unrelated child."),new hx(iw(this.path),this.affectedTree,this.revert)}}class px{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ux.OVERWRITE}operationForChild(e){return uw(this.path)?new px(this.source,nw(),this.snap.getImmediateChild(e)):new px(this.source,iw(this.path),this.snap)}}class fx{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ux.MERGE}operationForChild(e){if(uw(this.path)){const t=this.children.subtree(new tw(e));return t.isEmpty()?null:t.value?new px(this.source,nw(),t.value):new fx(this.source,nw(),t)}return ut(rw(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new fx(this.source,iw(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class mx{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(uw(e))return this.isFullyInitialized()&&!this.filtered_;const t=rw(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function gx(e,t,n,r,o,i){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw dt("Should only compare child_ events.");const r=new ww(t.childName,t.snapshotNode),o=new ww(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,i);o.forEach((o=>{o.respondsTo(n.type)&&t.push(o.createEvent(r,e.query_))}))}))}function vx(e,t){return{eventCache:e,serverCache:t}}function yx(e,t,n,r){return vx(new mx(t,n,r),e.serverCache)}function bx(e,t,n,r){return vx(e.eventCache,new mx(t,n,r))}function wx(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function xx(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ax;class Sx{static fromObject(e){let t=new Sx(null);return _b(e,((e,n)=>{t=t.set(new tw(e),n)})),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Ax||(Ax=new Tw(wb)),Ax);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:nw(),value:this.value};if(uw(e))return null;{const n=rw(e),r=this.children.get(n);if(null!==r){const o=r.findRootMostMatchingPathAndValue(iw(e),t);if(null!=o){return{path:cw(new tw(n),o.path),value:o.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(uw(e))return this;{const t=rw(e),n=this.children.get(t);return null!==n?n.subtree(iw(e)):new Sx(null)}}set(e,t){if(uw(e))return new Sx(t,this.children);{const n=rw(e),r=(this.children.get(n)||new Sx(null)).set(iw(e),t),o=this.children.insert(n,r);return new Sx(this.value,o)}}remove(e){if(uw(e))return this.children.isEmpty()?new Sx(null):new Sx(null,this.children);{const t=rw(e),n=this.children.get(t);if(n){const r=n.remove(iw(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new Sx(null):new Sx(this.value,o)}return this}}get(e){if(uw(e))return this.value;{const t=rw(e),n=this.children.get(t);return n?n.get(iw(e)):null}}setTree(e,t){if(uw(e))return t;{const n=rw(e),r=(this.children.get(n)||new Sx(null)).setTree(iw(e),t);let o;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Sx(this.value,o)}}fold(e){return this.fold_(nw(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,o)=>{n[r]=o.fold_(cw(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,nw(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(uw(e))return null;{const r=rw(e),o=this.children.get(r);return o?o.findOnPath_(iw(e),cw(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,nw(),t)}foreachOnPath_(e,t,n){if(uw(e))return this;{this.value&&n(t,this.value);const r=rw(e),o=this.children.get(r);return o?o.foreachOnPath_(iw(e),cw(t,r),n):new Sx(null)}}foreach(e){this.foreach_(nw(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(cw(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class _x{constructor(e){this.writeTree_=e}static empty(){return new _x(new Sx(null))}}function Cx(e,t,n){if(uw(t))return new _x(new Sx(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let i=r.value;const s=dw(o,t);return i=i.updateChild(s,n),new _x(e.writeTree_.set(o,i))}{const r=new Sx(n),o=e.writeTree_.setTree(t,r);return new _x(o)}}}function kx(e,t,n){let r=e;return _b(n,((e,n)=>{r=Cx(r,cw(t,e),n)})),r}function Tx(e,t){if(uw(t))return _x.empty();{const n=e.writeTree_.setTree(t,new Sx(null));return new _x(n)}}function Ex(e,t){return null!=Ix(e,t)}function Ix(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(dw(n.path,t)):null}function Px(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Lw,((e,n)=>{t.push(new ww(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new ww(e,n.value))})),t}function Rx(e,t){if(uw(t))return e;{const n=Ix(e,t);return new _x(null!=n?new Sx(n):e.writeTree_.subtree(t))}}function jx(e){return e.writeTree_.isEmpty()}function Dx(e,t){return Nx(nw(),e.writeTree_,t)}function Nx(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,o)=>{".priority"===t?(ut(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=Nx(cw(e,t),o,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(cw(e,".priority"),r)),n}}function Mx(e,t){return Kx(t,e)}function Ox(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));ut(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let o=r.visible,i=!1,s=e.allWrites.length-1;for(;o&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&Lx(t,r.path)?o=!1:pw(r.path,t.path)&&(i=!0)),s--}if(o){if(i)return function(e){e.visibleWrites=zx(e.allWrites,Fx,nw()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Tx(e.visibleWrites,r.path);else{_b(r.children,(t=>{e.visibleWrites=Tx(e.visibleWrites,cw(r.path,t))}))}return!0}return!1}function Lx(e,t){if(e.snap)return pw(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&pw(cw(e.path,n),t))return!0;return!1}function Fx(e){return e.visible}function zx(e,t,n){let r=_x.empty();for(let o=0;o<e.length;++o){const i=e[o];if(t(i)){const e=i.path;let t;if(i.snap)pw(n,e)?(t=dw(n,e),r=Cx(r,t,i.snap)):pw(e,n)&&(t=dw(e,n),r=Cx(r,nw(),i.snap.getChild(t)));else{if(!i.children)throw dt("WriteRecord should have .snap or .children");if(pw(n,e))t=dw(n,e),r=kx(r,t,i.children);else if(pw(e,n))if(t=dw(e,n),uw(t))r=kx(r,nw(),i.children);else{const e=Ut(i.children,rw(t));if(e){const n=e.getChild(iw(t));r=Cx(r,nw(),n)}}}}}return r}function Vx(e,t,n,r,o){if(r||o){const i=Rx(e.visibleWrites,t);if(!o&&jx(i))return n;if(o||null!=n||Ex(i,nw())){const i=function(e){return(e.visible||o)&&(!r||!~r.indexOf(e.writeId))&&(pw(e.path,t)||pw(t,e.path))};return Dx(zx(e.allWrites,i,t),n||Hw.EMPTY_NODE)}return null}{const r=Ix(e.visibleWrites,t);if(null!=r)return r;{const r=Rx(e.visibleWrites,t);if(jx(r))return n;if(null!=n||Ex(r,nw())){return Dx(r,n||Hw.EMPTY_NODE)}return null}}}function Ux(e,t,n,r){return Vx(e.writeTree,e.treePath,t,n,r)}function Bx(e,t){return function(e,t,n){let r=Hw.EMPTY_NODE;const o=Ix(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Lw,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const o=Rx(e.visibleWrites,t);return n.forEachChild(Lw,((e,t)=>{const n=Dx(Rx(o,new tw(e)),t);r=r.updateImmediateChild(e,n)})),Px(o).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Px(Rx(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function $x(e,t,n,r){return function(e,t,n,r,o){ut(r||o,"Either existingEventSnap or existingServerSnap must exist");const i=cw(t,n);if(Ex(e.visibleWrites,i))return null;{const t=Rx(e.visibleWrites,i);return jx(t)?o.getChild(n):Dx(t,o.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Wx(e,t){return function(e,t){return Ix(e.visibleWrites,t)}(e.writeTree,cw(e.treePath,t))}function Hx(e,t,n,r,o,i){return function(e,t,n,r,o,i,s){let a;const l=Rx(e.visibleWrites,t),c=Ix(l,nw());if(null!=c)a=c;else{if(null==n)return[];a=Dx(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=i?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<o;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,o,i)}function qx(e,t,n){return function(e,t,n,r){const o=cw(t,n),i=Ix(e.visibleWrites,o);if(null!=i)return i;if(r.isCompleteForChild(n))return Dx(Rx(e.visibleWrites,o),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Gx(e,t){return Kx(cw(e.treePath,t),e.writeTree)}function Kx(e,t){return{treePath:e,writeTree:t}}class Yx{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;ut("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ut(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,Zw(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,Jw(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,Xw(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw dt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Zw(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Qx=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Xx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new mx(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qx(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:xx(this.viewCache_),o=Hx(this.writes_,r,t,1,n,e);return 0===o.length?null:o[0]}}function Jx(e,t,n,r,o){const i=new Yx;let s,a;if(n.type===ux.OVERWRITE){const l=n;l.source.fromUser?s=tA(e,t,l.path,l.snap,r,o,i):(ut(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!uw(l.path),s=eA(e,t,l.path,l.snap,r,o,a,i))}else if(n.type===ux.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,o,i,s){let a=t;return r.foreach(((r,l)=>{const c=cw(n,r);nA(t,rw(c))&&(a=tA(e,a,c,l,o,i,s))})),r.foreach(((r,l)=>{const c=cw(n,r);nA(t,rw(c))||(a=tA(e,a,c,l,o,i,s))})),a}(e,t,l.path,l.children,r,o,i):(ut(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=oA(e,t,l.path,l.children,r,o,a,i))}else if(n.type===ux.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,o,i){let s;if(null!=Wx(r,n))return t;{const a=new Xx(r,t,o),l=t.eventCache.getNode();let c;if(uw(n)||".priority"===rw(n)){let n;if(t.serverCache.isFullyInitialized())n=Ux(r,xx(t));else{const e=t.serverCache.getNode();ut(e instanceof Hw,"serverChildren would be complete if leaf node"),n=Bx(r,e)}c=e.filter.updateFullNode(l,n,i)}else{const o=rw(n);let u=qx(r,o,t.serverCache);null==u&&t.serverCache.isCompleteForChild(o)&&(u=l.getImmediateChild(o)),c=null!=u?e.filter.updateChild(l,o,u,iw(n),a,i):t.eventCache.getNode().hasChild(o)?e.filter.updateChild(l,o,Hw.EMPTY_NODE,iw(n),a,i):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Ux(r,xx(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,i)))}return s=t.serverCache.isFullyInitialized()||null!=Wx(r,nw()),yx(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,o,i):function(e,t,n,r,o,i,s){if(null!=Wx(o,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(uw(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return eA(e,t,n,l.getNode().getChild(n),o,i,a,s);if(uw(n)){let r=new Sx(null);return l.getNode().forEachChild(_w,((e,t)=>{r=r.set(new tw(e),t)})),oA(e,t,n,r,o,i,a,s)}return t}{let c=new Sx(null);return r.foreach(((e,t)=>{const r=cw(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),oA(e,t,n,c,o,i,a,s)}}(e,t,a.path,a.affectedTree,r,o,i)}else{if(n.type!==ux.LISTEN_COMPLETE)throw dt("Unknown operation type: "+n.type);s=function(e,t,n,r,o){const i=t.serverCache,s=bx(t,i.getNode(),i.isFullyInitialized()||uw(n),i.isFiltered());return Zx(e,s,n,r,Qx,o)}(e,t,n.path,r,i)}const l=i.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=wx(e);(n.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Qw(wx(t)))}}(t,s,l),{viewCache:s,changes:l}}function Zx(e,t,n,r,o,i){const s=t.eventCache;if(null!=Wx(r,n))return t;{let a,l;if(uw(n))if(ut(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=xx(t),o=Bx(r,n instanceof Hw?n:Hw.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),o,i)}else{const n=Ux(r,xx(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,i)}else{const c=rw(n);if(".priority"===c){ut(1===ow(n),"Can't have a priority with additional path components");const o=s.getNode();l=t.serverCache.getNode();const i=$x(r,n,o,l);a=null!=i?e.filter.updatePriority(o,i):s.getNode()}else{const u=iw(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=$x(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=qx(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,o,i):s.getNode()}}return yx(t,a,s.isFullyInitialized()||uw(n),e.filter.filtersNodes())}}function eA(e,t,n,r,o,i,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(uw(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=rw(n);if(!l.isCompleteForPath(n)&&ow(n)>1)return t;const o=iw(n),i=l.getNode().getImmediateChild(e).updateChild(o,r);c=".priority"===e?u.updatePriority(l.getNode(),i):u.updateChild(l.getNode(),e,i,o,Qx,null)}const d=bx(t,c,l.isFullyInitialized()||uw(n),u.filtersNodes());return Zx(e,d,n,o,new Xx(o,d,i),a)}function tA(e,t,n,r,o,i,s){const a=t.eventCache;let l,c;const u=new Xx(o,t,i);if(uw(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=yx(t,c,!0,e.filter.filtersNodes());else{const o=rw(n);if(".priority"===o)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=yx(t,c,a.isFullyInitialized(),a.isFiltered());else{const i=iw(n),c=a.getNode().getImmediateChild(o);let d;if(uw(i))d=r;else{const e=u.getCompleteChild(o);d=null!=e?".priority"===sw(i)&&e.getChild(lw(i)).isEmpty()?e:e.updateChild(i,r):Hw.EMPTY_NODE}if(c.equals(d))l=t;else{l=yx(t,e.filter.updateChild(a.getNode(),o,d,i,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function nA(e,t){return e.eventCache.isCompleteForChild(t)}function rA(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function oA(e,t,n,r,o,i,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=uw(n)?r:new Sx(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=rA(0,t.serverCache.getNode().getImmediateChild(n),r);c=eA(e,c,new tw(n),l,o,i,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=rA(0,t.serverCache.getNode().getImmediateChild(n),r);c=eA(e,c,new tw(n),l,o,i,s,a)}})),c}function iA(e,t){const n=xx(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!uw(t)&&!n.getImmediateChild(rw(t)).isEmpty())?n.getChild(t):null}function sA(e,t,n,r){t.type===ux.MERGE&&null!==t.source.queryId&&(ut(xx(e.viewCache_),"We should always have a full cache before handling merges"),ut(wx(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,i=Jx(e.processor_,o,t,n,r);var s,a;return s=e.processor_,a=i.viewCache,ut(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),ut(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),ut(i.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,aA(e,i.changes,i.viewCache.eventCache.getNode(),null)}function aA(e,t,n,r){const o=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const o=[],i=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),gx(e,o,"child_removed",t,r,n),gx(e,o,"child_added",t,r,n),gx(e,o,"child_moved",i,r,n),gx(e,o,"child_changed",t,r,n),gx(e,o,"value",t,r,n),o}(e.eventGenerator_,t,n,o)}let lA,cA;function uA(e,t,n,r){const o=t.source.queryId;if(null!==o){const i=e.views.get(o);return ut(null!=i,"SyncTree gave us an op for an invalid query."),sA(i,t,n,r)}{let o=[];for(const i of e.views.values())o=o.concat(sA(i,t,n,r));return o}}function dA(e,t){let n=null;for(const r of e.views.values())n=n||iA(r,t);return n}class hA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Sx(null),this.pendingWriteTree_={visibleWrites:_x.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pA(e,t,n,r,o){return function(e,t,n,r,o){ut(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=Cx(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?yA(e,new px({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function fA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Ox(e.pendingWriteTree_,t)){let t=new Sx(null);return null!=r.snap?t=t.set(nw(),!0):_b(r.children,(e=>{t=t.set(new tw(e),!0)})),yA(e,new hx(r.path,t,n))}return[]}function mA(e,t,n){return yA(e,new px({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function gA(e,t,n,r){const o=xA(e,r);if(null!=o){const r=AA(o),i=r.path,s=r.queryId,a=dw(i,t);return SA(e,i,new px(dx(s),a,n))}return[]}function vA(e,t,n){const r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=dA(n,dw(e,t));if(r)return r}));return Vx(r,t,o,n,!0)}function yA(e,t){return bA(t,e.syncPointTree_,null,Mx(e.pendingWriteTree_,nw()))}function bA(e,t,n,r){if(uw(e.path))return wA(e,t,n,r);{const o=t.get(nw());null==n&&null!=o&&(n=dA(o,nw()));let i=[];const s=rw(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=Gx(r,s);i=i.concat(bA(a,l,e,t))}return o&&(i=i.concat(uA(o,e,r,n))),i}}function wA(e,t,n,r){const o=t.get(nw());null==n&&null!=o&&(n=dA(o,nw()));let i=[];return t.children.inorderTraversal(((t,o)=>{const s=n?n.getImmediateChild(t):null,a=Gx(r,t),l=e.operationForChild(t);l&&(i=i.concat(wA(l,o,s,a)))})),o&&(i=i.concat(uA(o,e,r,n))),i}function xA(e,t){return e.tagToQueryMap.get(t)}function AA(e){const t=e.indexOf("$");return ut(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new tw(e.substr(0,t))}}function SA(e,t,n){const r=e.syncPointTree_.get(t);ut(r,"Missing sync point for query tag that we're tracking");return uA(r,n,Mx(e.pendingWriteTree_,t),null)}class _A{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new _A(t)}node(){return this.node_}}class CA{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=cw(this.path_,e);return new CA(this.syncTree_,t)}node(){return vA(this.syncTree_,this.path_)}}const kA=function(e,t,n){return e&&"object"===typeof e?(ut(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?TA(e[".sv"],t,n):"object"===typeof e[".sv"]?EA(e[".sv"],t):void ut(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},TA=function(e,t,n){if("timestamp"===e)return n.timestamp;ut(!1,"Unexpected server value: "+e)},EA=function(e,t,n){e.hasOwnProperty("increment")||ut(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&ut(!1,"Unexpected increment value: "+r);const o=t.node();if(ut(null!==o&&"undefined"!==typeof o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const i=o.getValue();return"number"!==typeof i?r:i+r},IA=function(e,t,n,r){return RA(t,new CA(n,e),r)},PA=function(e,t,n){return RA(e,new _A(t),n)};function RA(e,t,n){const r=e.getPriority().val(),o=kA(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const r=e,i=kA(r.getValue(),t,n);return i!==r.getValue()||o!==r.getPriority().val()?new Ow(i,Gw(o)):e}{const r=e;return i=r,o!==r.getPriority().val()&&(i=i.updatePriority(new Ow(o))),r.forEachChild(Lw,((e,r)=>{const o=RA(r,t.getImmediateChild(e),n);o!==r&&(i=i.updateImmediateChild(e,o))})),i}}class jA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function DA(e,t){let n=t instanceof tw?t:new tw(t),r=e,o=rw(n);for(;null!==o;){const e=Ut(r.node.children,o)||{children:{},childCount:0};r=new jA(o,r,e),n=iw(n),o=rw(n)}return r}function NA(e){return e.node.value}function MA(e,t){e.node.value=t,VA(e)}function OA(e){return e.node.childCount>0}function LA(e,t){_b(e.node.children,((n,r)=>{t(new jA(n,e,r))}))}function FA(e,t,n,r){n&&!r&&t(e),LA(e,(e=>{FA(e,t,!0,r)})),n&&r&&t(e)}function zA(e){return new tw(null===e.parent?e.name:zA(e.parent)+"/"+e.name)}function VA(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===NA(e)&&!OA(e)}(n),o=Vt(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,VA(e)):r||o||(e.node.children[t]=n.node,e.node.childCount++,VA(e))}(e.parent,e.name,e)}const UA=/[\[\].#$\/\u0000-\u001F\u007F]/,BA=/[\[\].#$\u0000-\u001F\u007F]/,$A=10485760,WA=function(e){return"string"===typeof e&&0!==e.length&&!UA.test(e)},HA=function(e){return"string"===typeof e&&0!==e.length&&!BA.test(e)},qA=function(e,t,n){const r=n instanceof tw?new fw(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+gw(r));if("function"===typeof t)throw new Error(e+"contains a function "+gw(r)+" with contents = "+t.toString());if(gb(t))throw new Error(e+"contains "+t.toString()+" "+gw(r));if("string"===typeof t&&t.length>$A/3&&Zt(t)>$A)throw new Error(e+"contains a string greater than "+$A+" utf8 bytes "+gw(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,o=!1;if(_b(t,((t,i)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!WA(t)))throw new Error(e+" contains an invalid key ("+t+") "+gw(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Zt(t),mw(e)}(r,t),qA(e,i,r),function(e){const t=e.parts_.pop();e.byteLength_-=Zt(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&o)throw new Error(e+' contains ".value" child '+gw(r)+" in addition to actual children.")}},GA=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!WA(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),HA(e)}(n))throw new Error(Jt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class KA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function YA(e,t){let n=null;for(let r=0;r<t.length;r++){const o=t[r],i=o.getPath();null===n||hw(i,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:i}),n.events.push(o)}n&&e.eventLists_.push(n)}function QA(e,t,n){YA(e,n),XA(e,(e=>pw(e,t)||pw(t,e)))}function XA(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const o=e.eventLists_[r];if(o){t(o.path)?(JA(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function JA(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();lb&&db("event: "+n.toString()),Eb(r)}}}const ZA="repo_interrupt";class eS{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ix(),this.transactionQueueTree_=new jA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tS(e,t,n){if(e.stats_=$b(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new rx(e.repoInfo_,((t,n,r,o)=>{oS(e,t,n,r,o)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>iS(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ft(n)}catch(DS){throw new Error("Invalid authOverride provided: "+DS)}}e.persistentConnection_=new bw(e.repoInfo_,t,((t,n,r,o)=>{oS(e,t,n,r,o)}),(t=>{iS(e,t)}),(t=>{!function(e,t){_b(t,((t,n)=>{sS(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Bb[n]||(Bb[n]=t()),Bb[n]}(e.repoInfo_,(()=>new cx(e.stats_,e.server_))),e.infoData_=new ox,e.infoSyncTree_=new hA({startListening:(t,n,r,o)=>{let i=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(i=mA(e.infoSyncTree_,t._path,s),setTimeout((()=>{o("ok")}),0)),i},stopListening:()=>{}}),sS(e,"connected",!1),e.serverSyncTree_=new hA({startListening:(t,n,r,o)=>(e.server_.listen(t,r,n,((n,r)=>{const i=o(n,r);QA(e.eventQueue_,t._path,i)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function nS(e){const t=e.infoData_.getNode(new tw(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function rS(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:nS(e)})}function oS(e,t,n,r,o){e.dataUpdateCount++;const i=new tw(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(o)if(r){const t=$t(n,(e=>Gw(e)));s=function(e,t,n,r){const o=xA(e,r);if(o){const r=AA(o),i=r.path,s=r.queryId,a=dw(i,t),l=Sx.fromObject(n);return SA(e,i,new fx(dx(s),a,l))}return[]}(e.serverSyncTree_,i,t,o)}else{const t=Gw(n);s=gA(e.serverSyncTree_,i,t,o)}else if(r){const t=$t(n,(e=>Gw(e)));s=function(e,t,n){const r=Sx.fromObject(n);return yA(e,new fx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,i,t)}else{const t=Gw(n);s=mA(e.serverSyncTree_,i,t)}let a=i;s.length>0&&(a=hS(e,i)),QA(e.eventQueue_,a,s)}function iS(e,t){sS(e,"connected",t),!1===t&&function(e){cS(e,"onDisconnectEvents");const t=rS(e),n=ix();ax(e.onDisconnect_,nw(),((r,o)=>{const i=IA(r,o,e.serverSyncTree_,t);sx(n,r,i)}));let r=[];ax(n,nw(),((t,n)=>{r=r.concat(mA(e.serverSyncTree_,t,n));const o=vS(e,t);hS(e,o)})),e.onDisconnect_=ix(),QA(e.eventQueue_,nw(),r)}(e)}function sS(e,t,n){const r=new tw("/.info/"+t),o=Gw(n);e.infoData_.updateSnapshot(r,o);const i=mA(e.infoSyncTree_,r,o);QA(e.eventQueue_,r,i)}function aS(e){return e.nextWriteId_++}function lS(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ZA)}function cS(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];db(t,...r)}function uS(e,t,n){return vA(e.serverSyncTree_,t,n)||Hw.EMPTY_NODE}function dS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||gS(e,t),NA(t)){const n=fS(e,t);ut(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),o=uS(e,t,r);let i=o;const s=o.hash();for(let c=0;c<n.length;c++){const e=n[c];ut(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=dw(t,e.path);i=i.updateChild(r,e.currentOutputSnapshotRaw)}const a=i.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{cS(e,"transaction put response",{path:l.toString(),status:r});let o=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,o=o.concat(fA(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();gS(e,DA(e.transactionQueueTree_,t)),dS(e,e.transactionQueueTree_),QA(e.eventQueue_,t,o);for(let e=0;e<r.length;e++)Eb(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{mb("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}hS(e,t)}}),s)}(e,zA(t),n)}else OA(t)&&LA(t,(t=>{dS(e,t)}))}function hS(e,t){const n=pS(e,t),r=zA(n);return function(e,t,n){if(0===t.length)return;const r=[];let o=[];const i=t.filter((e=>0===e.status)),s=i.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const i=t[l],c=dw(n,i.path);let u,d=!1;if(ut(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===i.status)d=!0,u=i.abortReason,o=o.concat(fA(e.serverSyncTree_,i.currentWriteId,!0));else if(0===i.status)if(i.retryCount>=25)d=!0,u="maxretry",o=o.concat(fA(e.serverSyncTree_,i.currentWriteId,!0));else{const n=uS(e,i.path,s);i.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){qA("transaction failed: Data returned ",r,i.path);let t=Gw(r);"object"===typeof r&&null!=r&&Vt(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=i.currentWriteId,l=rS(e),c=PA(t,n,l);i.currentOutputSnapshotRaw=t,i.currentOutputSnapshotResolved=c,i.currentWriteId=aS(e),s.splice(s.indexOf(a),1),o=o.concat(pA(e.serverSyncTree_,i.path,c,i.currentWriteId,i.applyLocally)),o=o.concat(fA(e.serverSyncTree_,a,!0))}else d=!0,u="nodata",o=o.concat(fA(e.serverSyncTree_,i.currentWriteId,!0))}QA(e.eventQueue_,n,o),o=[],d&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;gS(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Eb(r[l]);dS(e,e.transactionQueueTree_)}(e,fS(e,n),r),r}function pS(e,t){let n,r=e.transactionQueueTree_;for(n=rw(t);null!==n&&void 0===NA(r);)r=DA(r,n),n=rw(t=iw(t));return r}function fS(e,t){const n=[];return mS(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function mS(e,t,n){const r=NA(t);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);LA(t,(t=>{mS(e,t,n)}))}function gS(e,t){const n=NA(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,MA(t,n.length>0?n:void 0)}LA(t,(t=>{gS(e,t)}))}function vS(e,t){const n=zA(pS(e,t)),r=DA(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{yS(e,t)})),yS(e,r),FA(r,(t=>{yS(e,t)})),n}function yS(e,t){const n=NA(t);if(n){const r=[];let o=[],i=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(ut(i===t-1,"All SENT items should be at beginning of queue."),i=t,n[t].status=3,n[t].abortReason="set"):(ut(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),o=o.concat(fA(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===i?MA(t,void 0):n.length=i+1,QA(e.eventQueue_,zA(t),o);for(let e=0;e<r.length;e++)Eb(r[e])}}const bS=function(e,t){const n=wS(e),r=n.namespace;"firebase.com"===n.domain&&fb(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||fb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&mb("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Fb(n.host,n.secure,r,o,t,"",r!==n.subdomain),path:new tw(n.pathString)}},wS=function(e){let t="",n="",r="",o="",i="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(o=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(DS){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mb(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),i=r}"ns"in h&&(i=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:o,namespace:i}},xS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class AS{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return uw(this._path)?null:sw(this._path)}get ref(){return new SS(this._repo,this._path)}get _queryIdentifier(){const e=nx(this._queryParams),t=Ab(e);return"{}"===t?"default":t}get _queryObject(){return nx(this._queryParams)}isEqual(e){if(!((e=en(e))instanceof AS))return!1;const t=this._repo===e._repo,n=hw(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class SS extends AS{constructor(e,t){super(e,t,new ex,!1)}get parent(){const e=lw(this._path);return null===e?null:new SS(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}!function(e){ut(!lA,"__referenceConstructor has already been defined"),lA=e}(SS),function(e){ut(!cA,"__referenceConstructor has already been defined"),cA=e}(SS);const _S={};let CS=!1;function kS(e,t,n,r,o){let i=r||e.options.databaseURL;void 0===i&&(e.options.projectId||fb("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),db("Using default host for project ",e.options.projectId),i=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,l=bS(i,o),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALGOLIA_API_KEY:"b94f7163a6855940c1a0d94e635a307c",REACT_APP_ALGOLIA_APP_ID:"7PVTC2J64R",REACT_APP_ALGOLIA_INDEX_NAME:"searches",REACT_APP_API_URL:"https://sideeye-backend-production.up.railway.app",REACT_APP_FIREBASE_API_KEY:"AIzaSyBI9pvyseKR-5dw3eXuZgTLnG3OcvNGbeI",REACT_APP_FIREBASE_APP_ID:"1:864667627333:web:1ec087179141d1e91a982c",REACT_APP_FIREBASE_AUTH_DOMAIN:"sideeye.uk",REACT_APP_FIREBASE_DATABASE_URL:"https://sideeye-bafda-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"864667627333",REACT_APP_FIREBASE_PROJECT_ID:"sideeye-bafda",REACT_APP_FIREBASE_STORAGE_BUCKET:"sideeye-bafda.firebasestorage.app",REACT_APP_SHOTSTACK_API_KEY:"c0Bpc85oj7cHuDdfhz54eQJmmoEI1qauJyodpw9d",REACT_APP_SOCKET_SERVER_URL:"wss://sideeye-backend-production.up.railway.app"}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,i=`http://${a}?ns=${c.namespace}`,l=bS(i,o),c=l.repoInfo):s=!l.repoInfo.secure;const u=o&&s?new jb(jb.OWNER):new Rb(e.name,e.options,t);GA("Invalid Firebase Database URL",l),uw(l.path)||fb("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let o=_S[t.name];o||(o={},_S[t.name]=o);let i=o[e.toURLString()];i&&fb("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new eS(e,CS,n,r),o[e.toURLString()]=i,i}(c,e,u,new Pb(e,n));return new TS(d,e)}class TS{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new SS(this._repo,nw())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=_S[t];n&&n[e.key]===e||fb(`Database ${t}(${e.repoInfo_}) has already been deleted.`),lS(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&fb("Cannot call "+e+" on a deleted database.")}}bw.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},bw.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Jy(vr),hr(new tn("database",((e,t)=>{let{instanceIdentifier:n}=t;return kS(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),wr(Yy,Qy,e),wr(Yy,Qy,"esm2017")}();const ES=0===Array.from(lr.values()).length?yr({apiKey:"AIzaSyBI9pvyseKR-5dw3eXuZgTLnG3OcvNGbeI",authDomain:"sideeye.uk",projectId:"sideeye-bafda",storageBucket:"sideeye-bafda.firebasestorage.app",messagingSenderId:"864667627333",appId:"1:864667627333:web:1ec087179141d1e91a982c",databaseURL:"https://sideeye-bafda-default-rtdb.europe-west1.firebasedatabase.app"},{automaticDataCollectionEnabled:!1}):br();console.log("Initializing Firebase app");const IS=function(e,t,n){n||(n=_c);const r=pr(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n});if(Wt(r.getOptions(n),t))return e;throw new Fa(La.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new Fa(La.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<qh)throw new Fa(La.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}(ES,{cacheSizeBytes:-1,experimentalForceLongPolling:!0}),PS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();const t=pr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=pr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Wt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Lr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ra,persistence:[ps,Gi,Ji]}),r=Ct("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aa)return;const o=null===n||void 0===n?void 0:n.token;la!==o&&(la=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))})(e.toString());!function(e,t,n){en(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){en(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}const o=At("auth");return o&&ii(n,`http://${o}`),n}(ES),RS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br(),t=arguments.length>1?arguments[1]:void 0;e=en(e);const n=pr(e,Gy).getImmediate({identifier:t}),r=St("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:Tt(o,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(ES),jS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br(),t=arguments.length>1?arguments[1]:void 0;const n=pr(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=St("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=en(e),e._checkNotDeleted("useEmulator");const o=`${t}:${n}`,i=e._repoInternal;if(e._instanceStarted){if(o===e._repoInternal.repoInfo_.host&&Wt(r,i.repoInfo_.emulatorOptions))return;fb("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&fb('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new jb(jb.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Tt(r.mockUserToken,e.app.options.projectId);s=new jb(t)}!function(e,t,n,r){e.repoInfo_=new Fb(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(i,o,r,s)}(n,...e)}return n}(ES);Ui(PS,(e=>{console.log("Firebase auth state changed:",e?"User logged in":"No user")}));(()=>{{console.log("Checking Firebase configuration in production..."),console.log("Firebase App:",ES.name),console.log("Firebase Auth:",PS.app.name),console.log("Firestore:",IS.app.name),console.log("Realtime Database:",jS.app.name);const e=ES.options.projectId;console.log("Firebase Project ID:",e);const t=ES.options.apiKey;console.log("Firebase API Key:",t?"Present":"Missing");const n=ES.options.authDomain;console.log("Firebase Auth Domain:",n),e&&t&&n||(console.error("Firebase configuration is incomplete!"),console.error("Project ID:",e),console.error("API Key:",t?"Present":"Missing"),console.error("Auth Domain:",n))}})();let DS={data:""},NS=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||DS,MS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,OS=/\/\*[^]*?\*\/|  +/g,LS=/\n+/g,FS=(e,t)=>{let n="",r="",o="";for(let i in e){let s=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+s+";":r+="f"==i[1]?FS(s,i):i+"{"+FS(s,"k"==i[1]?"":t)+"}":"object"==typeof s?r+=FS(s,t?t.replace(/([^,])+/g,(e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):i):null!=s&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=FS.p?FS.p(i,s):i+":"+s+";")}return n+(t&&o?t+"{"+o+"}":o)+r},zS={},VS=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+VS(e[n]);return t}return e},US=(e,t,n,r,o)=>{let i=VS(e),s=zS[i]||(zS[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!zS[s]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=MS.exec(e.replace(OS,""));)t[4]?r.shift():t[3]?(n=t[3].replace(LS," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(LS," ").trim();return r[0]})(e);zS[s]=FS(o?{["@keyframes "+s]:t}:t,n?"":"."+s)}let a=n&&zS.g?zS.g:null;return n&&(zS.g=zS[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(zS[s],t,r,a),s};function BS(e){let t=this||{},n=e.call?e(t.p):e;return US(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,o)=>{let i=t[o];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":FS(e,""):!1===e?"":e}return e+r+(null==i?"":i)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,NS(t.target),t.g,t.o,t.k)}BS.bind({g:1});let $S,WS,HS,qS=BS.bind({k:1});function GS(e,t){let n=this||{};return function(){let r=arguments;function o(i,s){let a=Object.assign({},i),l=a.className||o.className;n.p=Object.assign({theme:WS&&WS()},a),n.o=/ *go\d+/.test(l),a.className=BS.apply(n,r)+(l?" "+l:""),t&&(a.ref=s);let c=e;return e[0]&&(c=a.as||e,delete a.as),HS&&c[0]&&HS(a),$S(c,a)}return t?t(o):o}}var KS=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,YS=(()=>{let e=0;return()=>(++e).toString()})(),QS=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),XS=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return XS(e,{type:e.toasts.find((e=>e.id===n.id))?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+o})))}}},JS=[],ZS={toasts:[],pausedAt:void 0},e_=e=>{ZS=XS(ZS,e),JS.forEach((e=>{e(ZS)}))},t_={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},n_=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||YS()}}(t,e,n);return e_({type:2,toast:r}),r.id},r_=(e,t)=>n_("blank")(e,t);r_.error=n_("error"),r_.success=n_("success"),r_.loading=n_("loading"),r_.custom=n_("custom"),r_.dismiss=e=>{e_({type:3,toastId:e})},r_.remove=e=>e_({type:4,toastId:e}),r_.promise=(e,t,n)=>{let r=r_.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let o=t.success?KS(t.success,e):void 0;return o?r_.success(o,{id:r,...n,...null==n?void 0:n.success}):r_.dismiss(r),e})).catch((e=>{let o=t.error?KS(t.error,e):void 0;o?r_.error(o,{id:r,...n,...null==n?void 0:n.error}):r_.dismiss(r)})),e};var o_=(e,t)=>{e_({type:1,toast:{id:e,height:t}})},i_=()=>{e_({type:5,time:Date.now()})},s_=new Map,a_=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,r.useState)(ZS),o=(0,r.useRef)(ZS);(0,r.useEffect)((()=>(o.current!==ZS&&n(ZS),JS.push(n),()=>{let e=JS.indexOf(n);e>-1&&JS.splice(e,1)})),[]);let i=t.toasts.map((t=>{var n,r,o;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||t_[t.type],style:{...e.style,...null==(o=e[t.type])?void 0:o.style,...t.style}}}));return{...t,toasts:i}}(e);(0,r.useEffect)((()=>{if(n)return;let e=Date.now(),r=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>r_.dismiss(t.id)),n);t.visible&&r_.dismiss(t.id)}));return()=>{r.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let o=(0,r.useCallback)((()=>{n&&e_({type:6,time:Date.now()})}),[n]),i=(0,r.useCallback)(((e,n)=>{let{reverseOrder:r=!1,gutter:o=8,defaultPosition:i}=n||{},s=t.filter((t=>(t.position||i)===(e.position||i)&&t.height)),a=s.findIndex((t=>t.id===e.id)),l=s.filter(((e,t)=>t<a&&e.visible)).length;return s.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+o),0)}),[t]);return(0,r.useEffect)((()=>{t.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(s_.has(e))return;let n=setTimeout((()=>{s_.delete(e),e_({type:4,toastId:e})}),t);s_.set(e,n)}(e.id,e.removeDelay);else{let t=s_.get(e.id);t&&(clearTimeout(t),s_.delete(e.id))}}))}),[t]),{toasts:t,handlers:{updateHeight:o_,startPause:i_,endPause:o,calculateOffset:i}}},l_=qS`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,c_=qS`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,u_=qS`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,d_=GS("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${l_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${c_} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${u_} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,h_=qS`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,p_=GS("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${h_} 1s linear infinite;
`,f_=qS`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,m_=qS`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,g_=GS("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${f_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${m_} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,v_=GS("div")`
  position: absolute;
`,y_=GS("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,b_=qS`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,w_=GS("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${b_} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,x_=e=>{let{toast:t}=e,{icon:n,type:o,iconTheme:i}=t;return void 0!==n?"string"==typeof n?r.createElement(w_,null,n):n:"blank"===o?null:r.createElement(y_,null,r.createElement(p_,{...i}),"loading"!==o&&r.createElement(v_,null,"error"===o?r.createElement(d_,{...i}):r.createElement(g_,{...i})))},A_=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,S_=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,__=GS("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,C_=GS("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,k_=r.memo((e=>{let{toast:t,position:n,style:o,children:i}=e,s=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,o]=QS()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[A_(n),S_(n)];return{animation:t?`${qS(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qS(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||n||"top-center",t.visible):{opacity:0},a=r.createElement(x_,{toast:t}),l=r.createElement(C_,{...t.ariaProps},KS(t.message,t));return r.createElement(__,{className:t.className,style:{...s,...o,...t.style}},"function"==typeof i?i({icon:a,message:l}):r.createElement(r.Fragment,null,a,l))}));!function(e,t,n,r){FS.p=t,$S=e,WS=n,HS=r}(r.createElement);var T_=e=>{let{id:t,className:n,style:o,onHeightUpdate:i,children:s}=e,a=r.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;i(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,i]);return r.createElement("div",{ref:a,className:n,style:o},s)},E_=BS`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,I_=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:o,gutter:i,children:s,containerStyle:a,containerClassName:l}=e,{toasts:c,handlers:u}=a_(o);return r.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((e=>{let o=e.position||n,a=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:QS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...o}})(o,u.calculateOffset(e,{reverseOrder:t,gutter:i,defaultPosition:n}));return r.createElement(T_,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?E_:"",style:a},"custom"===e.type?KS(e.message,e):s?s(e):r.createElement(k_,{toast:e,position:o}))})))},P_=n(9825),R_=null;function j_(e,t){if("number"!==typeof(e=e||W_))throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var n=[];return n.push("$2b$"),e<10&&n.push("0"),n.push(e.toString()),n.push("$"),n.push(U_(function(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return P_.randomBytes(e)}catch{}if(!R_)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return R_(e)}($_),$_)),n.join("")}function D_(e,t,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof e&&(n=e,e=void 0),"undefined"===typeof e)e=W_;else if("number"!==typeof e)throw Error("illegal arguments: "+typeof e);function r(t){L_((function(){try{t(null,j_(e))}catch(n){t(n)}}))}if(!n)return new Promise((function(e,t){r((function(n,r){n?t(n):e(r)}))}));if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);r(n)}function N_(e,t){if("undefined"===typeof t&&(t=W_),"number"===typeof t&&(t=j_(t)),"string"!==typeof e||"string"!==typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return eC(e,t)}function M_(e,t,n,r){function o(n){"string"===typeof e&&"number"===typeof t?D_(t,(function(t,o){eC(e,o,n,r)})):"string"===typeof e&&"string"===typeof t?eC(e,t,n,r):L_(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!n)return new Promise((function(e,t){o((function(n,r){n?t(n):e(r)}))}));if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);o(n)}function O_(e,t){for(var n=e.length^t.length,r=0;r<e.length;++r)n|=e.charCodeAt(r)^t.charCodeAt(r);return 0===n}var L_="undefined"!==typeof process&&process&&"function"===typeof process.nextTick?"function"===typeof setImmediate?setImmediate:process.nextTick:setTimeout;function F_(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t}var z_="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),V_=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function U_(e,t){var n,r,o=0,i=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;o<t;){if(n=255&e[o++],i.push(z_[n>>2&63]),n=(3&n)<<4,o>=t){i.push(z_[63&n]);break}if(n|=(r=255&e[o++])>>4&15,i.push(z_[63&n]),n=(15&r)<<2,o>=t){i.push(z_[63&n]);break}n|=(r=255&e[o++])>>6&3,i.push(z_[63&n]),i.push(z_[63&r])}return i.join("")}function B_(e,t){var n,r,o,i,s,a=0,l=e.length,c=0,u=[];if(t<=0)throw Error("Illegal len: "+t);for(;a<l-1&&c<t&&(n=(s=e.charCodeAt(a++))<V_.length?V_[s]:-1,r=(s=e.charCodeAt(a++))<V_.length?V_[s]:-1,-1!=n&&-1!=r)&&(i=n<<2>>>0,i|=(48&r)>>4,u.push(String.fromCharCode(i)),!(++c>=t||a>=l))&&-1!=(o=(s=e.charCodeAt(a++))<V_.length?V_[s]:-1)&&(i=(15&r)<<4>>>0,i|=(60&o)>>2,u.push(String.fromCharCode(i)),!(++c>=t||a>=l));)i=(3&o)<<6>>>0,i|=(s=e.charCodeAt(a++))<V_.length?V_[s]:-1,u.push(String.fromCharCode(i)),++c;var d=[];for(a=0;a<c;a++)d.push(u[a].charCodeAt(0));return d}var $_=16,W_=10,H_=16,q_=100,G_=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],K_=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Y_=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Q_(e,t,n,r){var o,i=e[t],s=e[t+1];return o=r[(i^=n[0])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[1])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[2])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[3])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[4])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[5])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[6])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[7])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[8])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[9])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[10])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[11])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[12])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[13])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[14])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[15])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],i^=(o+=r[768|255&s])^n[16],e[t]=s^n[H_+1],e[t+1]=i,e}function X_(e,t){for(var n=0,r=0;n<4;++n)r=r<<8|255&e[t],t=(t+1)%e.length;return{key:r,offp:t}}function J_(e,t,n){for(var r,o=0,i=[0,0],s=t.length,a=n.length,l=0;l<s;l++)o=(r=X_(e,o)).offp,t[l]=t[l]^r.key;for(l=0;l<s;l+=2)i=Q_(i,0,t,n),t[l]=i[0],t[l+1]=i[1];for(l=0;l<a;l+=2)i=Q_(i,0,t,n),n[l]=i[0],n[l+1]=i[1]}function Z_(e,t,n,r,o){var i,s=Y_.slice(),a=s.length;if(n<4||n>31){if(i=Error("Illegal number of rounds (4-31): "+n),r)return void L_(r.bind(this,i));throw i}if(t.length!==$_){if(i=Error("Illegal salt length: "+t.length+" != "+$_),r)return void L_(r.bind(this,i));throw i}n=1<<n>>>0;var l,c,u,d=0;function h(){if(o&&o(d/n),!(d<n)){for(d=0;d<64;d++)for(u=0;u<a>>1;u++)Q_(s,u<<1,l,c);var i=[];for(d=0;d<a;d++)i.push((s[d]>>24&255)>>>0),i.push((s[d]>>16&255)>>>0),i.push((s[d]>>8&255)>>>0),i.push((255&s[d])>>>0);return r?void r(null,i):i}for(var p=Date.now();d<n&&(d+=1,J_(e,l,c),J_(t,l,c),!(Date.now()-p>q_)););r&&L_(h)}if("function"===typeof Int32Array?(l=new Int32Array(G_),c=new Int32Array(K_)):(l=G_.slice(),c=K_.slice()),function(e,t,n,r){for(var o,i=0,s=[0,0],a=n.length,l=r.length,c=0;c<a;c++)i=(o=X_(t,i)).offp,n[c]=n[c]^o.key;for(i=0,c=0;c<a;c+=2)i=(o=X_(e,i)).offp,s[0]^=o.key,i=(o=X_(e,i)).offp,s[1]^=o.key,s=Q_(s,0,n,r),n[c]=s[0],n[c+1]=s[1];for(c=0;c<l;c+=2)i=(o=X_(e,i)).offp,s[0]^=o.key,i=(o=X_(e,i)).offp,s[1]^=o.key,s=Q_(s,0,n,r),r[c]=s[0],r[c+1]=s[1]}(t,e,l,c),"undefined"!==typeof r)h();else for(var p;;)if("undefined"!==typeof(p=h()))return p||[]}function eC(e,t,n,r){var o,i,s;if("string"!==typeof e||"string"!==typeof t){if(o=Error("Invalid string / salt: Not a string"),n)return void L_(n.bind(this,o));throw o}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(o=Error("Invalid salt version: "+t.substring(0,2)),n)return void L_(n.bind(this,o));throw o}if("$"===t.charAt(2))i=String.fromCharCode(0),s=3;else{if("a"!==(i=t.charAt(2))&&"b"!==i&&"y"!==i||"$"!==t.charAt(3)){if(o=Error("Invalid salt revision: "+t.substring(2,4)),n)return void L_(n.bind(this,o));throw o}s=4}if(t.charAt(s+2)>"$"){if(o=Error("Missing salt rounds"),n)return void L_(n.bind(this,o));throw o}var a=10*parseInt(t.substring(s,s+1),10)+parseInt(t.substring(s+1,s+2),10),l=t.substring(s+3,s+25),c=function(e){for(var t,n,r=0,o=new Array(F_(e)),i=0,s=e.length;i<s;++i)(t=e.charCodeAt(i))<128?o[r++]=t:t<2048?(o[r++]=t>>6|192,o[r++]=63&t|128):55296===(64512&t)&&56320===(64512&(n=e.charCodeAt(i+1)))?(t=65536+((1023&t)<<10)+(1023&n),++i,o[r++]=t>>18|240,o[r++]=t>>12&63|128,o[r++]=t>>6&63|128,o[r++]=63&t|128):(o[r++]=t>>12|224,o[r++]=t>>6&63|128,o[r++]=63&t|128);return o}(e+=i>="a"?"\0":""),u=B_(l,$_);function d(e){var t=[];return t.push("$2"),i>="a"&&t.push(i),t.push("$"),a<10&&t.push("0"),t.push(a.toString()),t.push("$"),t.push(U_(u,u.length)),t.push(U_(e,4*Y_.length-1)),t.join("")}if("undefined"==typeof n)return d(Z_(c,u,a));Z_(c,u,a,(function(e,t){e?n(e,null):n(null,d(t))}),r)}const tC={setRandomFallback:function(e){R_=e},genSaltSync:j_,genSalt:D_,hashSync:N_,hash:M_,compareSync:function(e,t){if("string"!==typeof e||"string"!==typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return 60===t.length&&O_(N_(e,t.substring(0,t.length-31)),t)},compare:function(e,t,n,r){function o(n){"string"===typeof e&&"string"===typeof t?60===t.length?M_(e,t.substring(0,29),(function(e,r){e?n(e):n(null,O_(r,t))}),r):L_(n.bind(this,null,!1)):L_(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!n)return new Promise((function(e,t){o((function(n,r){n?t(n):e(r)}))}));if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);o(n)},getRounds:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)},getSalt:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);if(60!==e.length)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)},truncates:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);return F_(e)>72},encodeBase64:function(e,t){return U_(e,t)},decodeBase64:function(e,t){return B_(e,t)}},nC=Object.create(null);nC.open="0",nC.close="1",nC.ping="2",nC.pong="3",nC.message="4",nC.upgrade="5",nC.noop="6";const rC=Object.create(null);Object.keys(nC).forEach((e=>{rC[nC[e]]=e}));const oC={type:"error",data:"parser error"},iC="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),sC="function"===typeof ArrayBuffer,aC=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,lC=(e,t,n)=>{let{type:r,data:o}=e;return iC&&o instanceof Blob?t?n(o):cC(o,n):sC&&(o instanceof ArrayBuffer||aC(o))?t?n(o):cC(new Blob([o]),n):n(nC[r]+(o||""))},cC=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function uC(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let dC;const hC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pC="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)pC[hC.charCodeAt(n)]=n;const fC="function"===typeof ArrayBuffer,mC=(e,t)=>{if("string"!==typeof e)return{type:"message",data:vC(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:gC(e.substring(1),t)};return rC[n]?e.length>1?{type:rC[n],data:e.substring(1)}:{type:rC[n]}:oC},gC=(e,t)=>{if(fC){const n=(e=>{let t,n,r,o,i,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const c=new ArrayBuffer(s),u=new Uint8Array(c);for(t=0;t<a;t+=4)n=pC[e.charCodeAt(t)],r=pC[e.charCodeAt(t+1)],o=pC[e.charCodeAt(t+2)],i=pC[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|o>>2,u[l++]=(3&o)<<6|63&i;return c})(e);return vC(n,t)}return{base64:!0,data:e}},vC=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,yC=String.fromCharCode(30);function bC(){return new TransformStream({transform(e,t){!function(e,t){iC&&e.data instanceof Blob?e.data.arrayBuffer().then(uC).then(t):sC&&(e.data instanceof ArrayBuffer||aC(e.data))?t(uC(e.data)):lC(e,!1,(e=>{dC||(dC=new TextEncoder),t(dC.encode(e))}))}(e,(n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const e=new DataView(o.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{o=new Uint8Array(9);const e=new DataView(o.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(o[0]|=128),t.enqueue(o),t.enqueue(n)}))}})}let wC;function xC(e){return e.reduce(((e,t)=>e+t.length),0)}function AC(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function SC(e){if(e)return function(e){for(var t in SC.prototype)e[t]=SC.prototype[t];return e}(e)}SC.prototype.on=SC.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},SC.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},SC.prototype.off=SC.prototype.removeListener=SC.prototype.removeAllListeners=SC.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},SC.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},SC.prototype.emitReserved=SC.prototype.emit,SC.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},SC.prototype.hasListeners=function(e){return!!this.listeners(e).length};const _C="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),CC="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function kC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const TC=CC.setTimeout,EC=CC.clearTimeout;function IC(e,t){t.useNativeTimers?(e.setTimeoutFn=TC.bind(CC),e.clearTimeoutFn=EC.bind(CC)):(e.setTimeoutFn=CC.setTimeout.bind(CC),e.clearTimeoutFn=CC.clearTimeout.bind(CC))}function PC(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class RC extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class jC extends SC{constructor(e){super(),this.writable=!1,IC(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new RC(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=mC(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class DC extends jC{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(yC),r=[];for(let o=0;o<n.length;o++){const e=mC(n[o],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach(((e,i)=>{lC(e,!1,(e=>{r[i]=e,++o===n&&t(r.join(yC))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=PC()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let NC=!1;try{NC="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(IQ){}const MC=NC;function OC(){}class LC extends DC{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class FC extends SC{constructor(e,t,n){super(),this.createRequest=e,IC(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=kC(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(DS){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(DS){}try{n.setRequestHeader("Accept","*/*")}catch(DS){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(DS){return void this.setTimeoutFn((()=>{this._onError(DS)}),0)}"undefined"!==typeof document&&(this._index=FC.requestsCount++,FC.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=OC,e)try{this._xhr.abort()}catch(DS){}"undefined"!==typeof document&&delete FC.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(FC.requestsCount=0,FC.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",zC);else if("function"===typeof addEventListener){addEventListener("onpagehide"in CC?"pagehide":"unload",zC,!1)}function zC(){for(let e in FC.requests)FC.requests.hasOwnProperty(e)&&FC.requests[e].abort()}const VC=function(){const e=UC({xdomain:!1});return e&&null!==e.responseType}();function UC(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||MC))return new XMLHttpRequest}catch(DS){}if(!t)try{return new(CC[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(DS){}}const BC="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class $C extends jC{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=BC?{}:kC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(IQ){return this.emitReserved("error",IQ)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;lC(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(DS){}r&&_C((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=PC()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const WC=CC.WebSocket||CC.MozWebSocket;const HC={websocket:class extends $C{createSocket(e,t,n){return BC?new WC(e,t,n):t?new WC(e,t):new WC(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends jC{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(IQ){return this.emitReserved("error",IQ)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){wC||(wC=new TextDecoder);const n=[];let r=0,o=-1,i=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(0===r){if(xC(n)<1)break;const e=AC(n,1);i=128===(128&e[0]),o=127&e[0],r=o<126?3:126===o?1:2}else if(1===r){if(xC(n)<2)break;const e=AC(n,2);o=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(xC(n)<8)break;const e=AC(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){a.enqueue(oC);break}o=i*Math.pow(2,32)+t.getUint32(4),r=3}else{if(xC(n)<o)break;const e=AC(n,o);a.enqueue(mC(i?e:wC.decode(e),t)),r=0}if(0===o||o>e){a.enqueue(oC);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=bC();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const o=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),o())})).catch((e=>{}))};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then((()=>{r&&_C((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends LC{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=VC&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new FC(UC,this.uri(),e)}}},qC=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,GC=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function KC(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=qC.exec(e||""),i={},s=14;for(;s--;)i[GC[s]]=o[s]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,i.query),i}const YC="function"===typeof addEventListener&&"function"===typeof removeEventListener,QC=[];YC&&addEventListener("offline",(()=>{QC.forEach((e=>e()))}),!1);class XC extends SC{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=KC(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=KC(t.host).host);IC(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,o=n.length;r<o;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),YC&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},QC.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&XC.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",XC.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,_C((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(XC.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),YC&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=QC.indexOf(this._offlineEventListener);-1!==e&&QC.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}XC.protocol=4;class JC extends XC{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;XC.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;XC.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function o(){n||(n=!0,c(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,o(),this.emitReserved("upgradeError",n)};function s(){i("transport closed")}function a(){i("socket closed")}function l(e){t&&e.name!==t.name&&o()}const c=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",s),this.off("close",a),this.off("upgrading",l)};t.once("open",r),t.once("error",i),t.once("close",s),this.once("close",a),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class ZC extends JC{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>HC[e])).filter((e=>!!e))),super(e,t)}}const ek="function"===typeof ArrayBuffer,tk=Object.prototype.toString,nk="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===tk.call(Blob),rk="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===tk.call(File);function ok(e){return ek&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||nk&&e instanceof Blob||rk&&e instanceof File}function ik(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(ik(e[t]))return!0;return!1}if(ok(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return ik(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ik(e[n]))return!0;return!1}function sk(e){const t=[],n=e.data,r=e;return r.data=ak(n,t),r.attachments=t.length,{packet:r,buffers:t}}function ak(e,t){if(!e)return e;if(ok(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=ak(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=ak(e[r],t));return n}return e}function lk(e,t){return e.data=ck(e.data,t),delete e.attachments,e}function ck(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ck(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ck(e[n],t));return e}const uk=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],dk=5;var hk;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(hk||(hk={}));class pk{constructor(e){this.replacer=e}encode(e){return e.type!==hk.EVENT&&e.type!==hk.ACK||!ik(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===hk.EVENT?hk.BINARY_EVENT:hk.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==hk.BINARY_EVENT&&e.type!==hk.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=sk(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function fk(e){return"[object Object]"===Object.prototype.toString.call(e)}class mk extends SC{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===hk.BINARY_EVENT;n||t.type===hk.BINARY_ACK?(t.type=n?hk.EVENT:hk.ACK,this.reconstructor=new gk(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!ok(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===hk[n.type])throw new Error("unknown packet type "+n.type);if(n.type===hk.BINARY_EVENT||n.type===hk.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!mk.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(DS){return!1}}static isPayloadValid(e,t){switch(e){case hk.CONNECT:return fk(t);case hk.DISCONNECT:return void 0===t;case hk.CONNECT_ERROR:return"string"===typeof t||fk(t);case hk.EVENT:case hk.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===uk.indexOf(t[0]));case hk.ACK:case hk.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class gk{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=lk(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function vk(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const yk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class bk extends SC{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[vk(e,"open",this.onopen.bind(this)),vk(e,"packet",this.onpacket.bind(this)),vk(e,"error",this.onerror.bind(this)),vk(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(yk.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const a={type:hk.EVENT,data:i,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof i[i.length-1]){const e=this.ids++,t=i.pop();this._registerAckCallback(e,t),a.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const o=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===o)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),o),s=function(){r.io.clearTimeoutFn(i);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.apply(r,n)};s.withError=!0,this.acks[e]=s}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const o=(e,n)=>e?r(e):t(n);o.withError=!0,n.push(o),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];n(null,...i)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:hk.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case hk.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case hk.EVENT:case hk.BINARY_EVENT:this.onevent(e);break;case hk.ACK:case hk.BINARY_ACK:this.onack(e);break;case hk.DISCONNECT:this.ondisconnect();break;case hk.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.packet({type:hk.ACK,id:e,data:o})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:hk.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function wk(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}wk.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},wk.prototype.reset=function(){this.attempts=0},wk.prototype.setMin=function(e){this.ms=e},wk.prototype.setMax=function(e){this.max=e},wk.prototype.setJitter=function(e){this.jitter=e};class xk extends SC{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,IC(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new wk({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||e;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ZC(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=vk(t,"open",(function(){n.onopen(),e&&e()})),o=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=vk(t,"error",o);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),o(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(vk(e,"ping",this.onping.bind(this)),vk(e,"data",this.ondata.bind(this)),vk(e,"error",this.onerror.bind(this)),vk(e,"close",this.onclose.bind(this)),vk(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(DS){this.onclose("parse error",DS)}}ondecoded(e){_C((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new bk(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ak={};function Sk(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=KC(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,o=n.id,i=n.path,s=Ak[o]&&i in Ak[o].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?a=new xk(r,t):(Ak[o]||(Ak[o]=new xk(r,t)),a=Ak[o]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Sk,{Manager:xk,Socket:bk,io:Sk,connect:Sk});const _k=new class{constructor(){this.devices=[],this.currentInputDevice=null,this.currentOutputDevice=null,this.onDeviceChangeCallbacks=new Set,this.isInitializing=!0,this.initDeviceListener()}async initDeviceListener(){try{await navigator.mediaDevices.getUserMedia({audio:!0})}catch(pb){console.error("Failed to get initial audio permissions:",pb)}navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceChange.bind(this)),await this.updateDeviceList()}async handleDeviceChange(){await this.updateDeviceList(),this.onDeviceChangeCallbacks.forEach((e=>e()))}async updateDeviceList(){try{const e=await navigator.mediaDevices.enumerateDevices();if(this.devices=e.filter((e=>"audioinput"===e.kind||"audiooutput"===e.kind)).map((e=>({deviceId:e.deviceId,label:e.label||`${"audioinput"===e.kind?"Microphone":"Speaker"} ${e.deviceId.slice(0,5)}`,kind:e.kind}))),!this.currentInputDevice){const e=this.devices.find((e=>"audioinput"===e.kind));e&&(this.currentInputDevice=e.deviceId)}if(!this.currentOutputDevice){const e=this.devices.find((e=>"audiooutput"===e.kind));e&&(this.currentOutputDevice=e.deviceId)}}catch(pb){console.error("Failed to update device list:",pb),r_.error("Failed to get audio devices list")}finally{this.isInitializing=!1}}async getAudioStream(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isInitializing&&(console.warn("Device manager still initializing, delaying getAudioStream"),await new Promise((e=>setTimeout(e,100))));try{const t={audio:{...e,deviceId:this.currentInputDevice?{exact:this.currentInputDevice}:void 0,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:48e3,channelCount:1}};return await navigator.mediaDevices.getUserMedia(t)}catch(pb){return console.error("Failed to get audio stream:",pb),pb instanceof Error&&("NotAllowedError"===pb.name?r_.error("Microphone access was denied"):"NotFoundError"===pb.name?r_.error("No microphone found"):r_.error(`Failed to access microphone: ${pb.message}`)),null}}async setAudioOutput(e,t){if(this.isInitializing&&(console.warn("Device manager still initializing, delaying setAudioOutput"),await new Promise((e=>setTimeout(e,100)))),"setSinkId"in e)try{const n=t||this.currentOutputDevice;n&&(await e.setSinkId(n),this.currentOutputDevice=n)}catch(pb){console.error("Failed to set audio output device:",pb),r_.error("Error changing speaker. Please try again.")}}async setInputDevice(e){this.isInitializing&&(console.warn("Device manager still initializing, delaying setInputDevice"),await new Promise((e=>setTimeout(e,100))));const t=this.devices.find((t=>t.deviceId===e&&"audioinput"===t.kind));if(!t)return!1;try{const t=await this.getAudioStream({deviceId:{exact:e}});if(t)return t.getTracks().forEach((e=>e.stop())),this.currentInputDevice=e,!0}catch(pb){console.error("Failed to set input device:",pb),r_.error("Error changing microphone. Please try again.")}return!1}async setOutputDevice(e){const t=this.devices.find((t=>t.deviceId===e&&"audiooutput"===t.kind));return!!t&&(this.currentOutputDevice=e,!0)}getInputDevices(){return this.devices.filter((e=>"audioinput"===e.kind))}getOutputDevices(){return this.devices.filter((e=>"audiooutput"===e.kind))}getCurrentInputDevice(){return this.currentInputDevice}getCurrentOutputDevice(){return this.currentOutputDevice}onDeviceChange(e){return this.onDeviceChangeCallbacks.add(e),()=>this.onDeviceChangeCallbacks.delete(e)}async refreshDevices(){await this.updateDeviceList()}};const Ck=new class{constructor(){this.socket=null,this.stream=null,this.audioContext=null,this.mediaRecorder=null,this.isRecording=!1,this.audioQueue=new Map,this.isPlaying=!1,this.gainNode=null,this.audioSources=new Map,this.analyser=null,this.audioLevelCallbacks=new Set,this.speakingDetectionInterval=null,this.currentRoomId="",this.audioElement=null,this.deviceChangeCallbacks=new Set,this.isMuted=!1,this.microphoneNode=null,this.audioWorklet=null,this.audioChunks=[],this.lastChunkTime=0,this.speakingStates=new Map,this.silenceTimeouts=new Map,this.audioProcessingInterval=null,this.BUFFER_TARGET_DURATION_MS=150,this.queueProcessingTimeouts=new Map,this.QUEUE_MAX_WAIT_MS=500,this.currentUserId=null;const e="https://sideeye-backend-production.up.railway.app";console.log(`Connecting to Socket.IO server at: ${e}`),this.socket=Sk(e,{transports:["websocket"],reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5}),this.setupSocketListeners(),this.setupAudioContext(),this.setupAudioElement(),this.startAudioProcessingLoop(),_k.onDeviceChange((()=>{this.deviceChangeCallbacks.forEach((e=>e()))}))}setupAudioElement(){this.audioElement=document.createElement("audio"),this.audioElement.autoplay=!0,document.body.appendChild(this.audioElement)}async setupAudioContext(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:48e3,latencyHint:"interactive"}),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=1024,this.analyser.smoothingTimeConstant=.2,this.analyser.minDecibels=-65,this.analyser.maxDecibels=-10,this.analyser.connect(this.gainNode),"suspended"===this.audioContext.state&&await this.audioContext.resume(),console.log("Audio context setup complete")}catch(pb){console.error("Error setting up audio context:",pb),r_.error("Failed to initialize audio system")}}async handleDeviceChange(){this.currentRoomId&&this.stream&&this.currentUserId&&(await this.leaveRoom(this.currentRoomId,this.currentUserId),await this.joinRoom(this.currentRoomId,this.currentUserId))}onAudioLevel(e){this.audioLevelCallbacks.add(e)}removeAudioLevelCallback(e){this.audioLevelCallbacks.delete(e)}startSpeakingDetection(){if(!this.analyser||!this.stream||!this.currentUserId)return;const e=this.currentUserId,t=this.analyser.frequencyBinCount,n=new Uint8Array(t);let r=0;this.speakingDetectionInterval=window.setInterval((()=>{if(!this.analyser||this.isMuted)return;this.analyser.getByteFrequencyData(n);const o=Math.sqrt(n.reduce(((e,t)=>e+t*t),0)/t),i=o>25,s=this.silenceTimeouts.get(e);if(s&&clearTimeout(s),i){var a;if(r++,r>=3&&!this.speakingStates.get(e))this.speakingStates.set(e,!0),this.audioLevelCallbacks.forEach((t=>t(e,!0))),null===(a=this.socket)||void 0===a||a.emit("user-speaking",{roomId:this.currentRoomId,userId:e,isSpeaking:!0})}else{r=0;const t=setTimeout((()=>{var t;this.speakingStates.get(e)&&(this.speakingStates.set(e,!1),this.audioLevelCallbacks.forEach((t=>t(e,!1))),null===(t=this.socket)||void 0===t||t.emit("user-speaking",{roomId:this.currentRoomId,userId:e,isSpeaking:!1}))}),200);this.silenceTimeouts.set(e,t)}}),33)}setupSocketListeners(){this.socket&&(this.socket.on("connect",(()=>{console.log("Connected to audio server")})),this.socket.on("disconnect",(()=>{console.log("Disconnected from audio server"),this.stopAllAudioProcessing(),r_.error("Disconnected from audio server")})),this.socket.on("user-joined",(e=>{console.log("User joined:",e)})),this.socket.on("user-left",(e=>{console.log("User left:",e),this.stopUserAudio(e),this.speakingStates.delete(e);const t=this.silenceTimeouts.get(e);t&&(clearTimeout(t),this.silenceTimeouts.delete(e))})),this.socket.on("user-speaking",(e=>{this.audioLevelCallbacks.forEach((t=>t(e.userId,e.isSpeaking)))})),this.socket.on("room-users",(e=>{console.log("Room users:",e)})),this.socket.on("audio-stream",(e=>{this.audioQueue.has(e.userId)||this.audioQueue.set(e.userId,[]);const t=this.audioQueue.get(e.userId);t&&(t.length<100?(t.push(e.audio),this.resetQueueProcessingTimeout(e.userId)):console.warn(`Audio queue for ${e.userId} is full, dropping chunk.`))})),this.socket.on("connect_error",(e=>{console.error("Socket connection error:",e),r_.error("Connection error: "+e.message)})),this.socket.on("user-muted",(e=>{console.log(`User ${e.userId} mute status:`,e.isMuted)})))}async handleIncomingAudio(e,t){if(this.audioContext&&this.gainNode)try{"suspended"===this.audioContext.state&&await this.audioContext.resume(),this.stopUserAudio(t);const n=await this.audioContext.decodeAudioData(e),r=this.audioContext.createBufferSource();r.buffer=n;const o=this.audioContext.createDynamicsCompressor();o.threshold.value=-50,o.knee.value=40,o.ratio.value=12,o.attack.value=.003,o.release.value=.25,r.playbackRate.value=1;const i=this.audioContext.createBiquadFilter();i.type="bandpass",i.frequency.value=1e3,i.Q.value=.5;const s=this.audioContext.createBiquadFilter();s.type="highshelf",s.frequency.value=4e3,s.gain.value=3,r.connect(i).connect(s).connect(o).connect(this.gainNode);const a=.02,l=this.audioContext.currentTime+a;r.start(l),this.audioSources.set(t,r),r.onended=()=>{r.disconnect(),this.audioSources.delete(t)}}catch(pb){console.error("Error handling incoming audio:",pb)}}async joinRoom(e,t){if(!this.socket)return console.error("Socket not initialized"),!1;try{var n;this.currentRoomId=e,console.log("Requesting microphone access...");const r=await navigator.permissions.query({name:"microphone"});if("denied"===r.state)throw new Error("Microphone permission denied. Please allow microphone access in your browser settings.");if("prompt"===r.state&&r_.loading("Please allow microphone access..."),this.stream=await _k.getAudioStream(),!this.stream)throw new Error("Failed to get audio stream");if(r_.success("Microphone access granted"),console.log("Microphone access granted"),this.stream.getAudioTracks().forEach((e=>{e.enabled=!this.isMuted})),"suspended"===(null===(n=this.audioContext)||void 0===n?void 0:n.state)&&await this.audioContext.resume(),this.audioContext&&this.analyser){this.audioContext.createMediaStreamSource(this.stream).connect(this.analyser)}return this.socket.emit("join-room",e,t),console.log("Joined room:",e),this.currentUserId=t,this.setupAudioRecording(e,t),this.startSpeakingDetection(),!0}catch(pb){return console.error("Error joining room:",pb),pb instanceof Error&&r_.error("Failed to join room: "+pb.message),!1}}setupAudioRecording(e,t){if(this.stream&&this.audioContext)try{this.microphoneNode=this.audioContext.createMediaStreamSource(this.stream);const n=this.audioContext.createDynamicsCompressor();n.threshold.value=-50,n.knee.value=40,n.ratio.value=12,n.attack.value=.003,n.release.value=.25,this.mediaRecorder=new MediaRecorder(this.stream,{mimeType:"audio/webm;codecs=opus",bitsPerSecond:256e3}),this.mediaRecorder.ondataavailable=async n=>{if(n.data.size>0&&this.socket&&!this.isMuted)try{const r=await n.data.arrayBuffer();this.socket.emit("audio-stream",{roomId:e,userId:t,audio:r})}catch(pb){console.error("Error processing audio data:",pb)}},this.microphoneNode.connect(n).connect(this.analyser).connect(this.gainNode),this.isRecording=!0,this.mediaRecorder.start(10),this.isMuted&&(this.stream.getAudioTracks().forEach((e=>{e.enabled=!1})),this.microphoneNode.disconnect(),this.mediaRecorder.pause()),this.startSpeakingDetection()}catch(pb){console.error("Error setting up audio recording:",pb),r_.error("Failed to setup audio recording")}}leaveRoom(e,t){console.log("Leaving room:",e),this.stopAllAudioProcessing(),this.currentUserId=null,this.socket&&(this.socket.emit("leave-room",e,t),this.currentRoomId="")}stopAllAudioProcessing(){console.log("Stopping all audio processing..."),this.stopAudioProcessingLoop(),this.speakingDetectionInterval&&(window.clearInterval(this.speakingDetectionInterval),this.speakingDetectionInterval=null),this.mediaRecorder&&this.isRecording&&(this.mediaRecorder.stop(),this.isRecording=!1),this.stream&&(this.stream.getTracks().forEach((e=>{e.stop()})),this.stream=null),this.microphoneNode&&(this.microphoneNode.disconnect(),this.microphoneNode=null),this.audioSources.forEach(((e,t)=>{try{e.stop(),e.disconnect()}catch(pb){console.warn("Minor error stopping audio source:",pb)}})),this.audioSources.clear(),this.audioQueue.clear(),this.speakingStates.clear(),this.silenceTimeouts.forEach((e=>clearTimeout(e))),this.silenceTimeouts.clear()}disconnect(){console.log("Disconnecting AudioService..."),this.stopAllAudioProcessing(),this.stopAudioProcessingLoop(),this.currentUserId=null,this.socket&&(this.socket.disconnect(),this.socket=null),this.audioContext&&(this.audioContext.close(),this.audioContext=null),this.stream&&(this.stream.getTracks().forEach((e=>e.stop())),this.stream=null),this.audioSources.forEach(((e,t)=>{this.stopUserAudio(t)})),this.audioQueue.clear(),this.audioSources.clear(),this.audioElement&&(this.audioElement.remove(),this.audioElement=null)}stopUserAudio(e){const t=this.audioSources.get(e);if(t){try{t.stop(),t.disconnect()}catch(pb){console.warn("Minor error stopping user audio source:",pb)}this.audioSources.delete(e),this.audioQueue.delete(e),this.speakingStates.delete(e);const n=this.silenceTimeouts.get(e);n&&(clearTimeout(n),this.silenceTimeouts.delete(e)),this.clearQueueProcessingTimeout(e)}}setMuted(e){this.isMuted!==e&&(this.isMuted=e,console.log("Setting mute state:",e),this.stream&&this.stream.getAudioTracks().forEach((t=>{t.enabled=!e,console.log("Audio track enabled:",!e)})),this.microphoneNode&&this.analyser&&this.gainNode&&(e?this.microphoneNode.disconnect():this.microphoneNode.connect(this.analyser).connect(this.gainNode)),this.mediaRecorder&&this.isRecording&&(e?(this.mediaRecorder.pause(),console.log("MediaRecorder paused")):(this.mediaRecorder.resume(),console.log("MediaRecorder resumed"))),e&&this.currentUserId&&(this.speakingStates.set(this.currentUserId,!1),this.audioLevelCallbacks.forEach((e=>e(this.currentUserId,!1)))),this.socket&&this.currentRoomId&&this.currentUserId&&this.socket.emit("user-muted",{roomId:this.currentRoomId,userId:this.currentUserId,isMuted:e}))}isMicrophoneMuted(){return this.isMuted}setVolume(e){this.gainNode&&(this.gainNode.gain.value=e)}async setAudioInput(e){const t=await _k.setInputDevice(e);return t&&this.currentRoomId&&this.currentUserId&&(await this.leaveRoom(this.currentRoomId,this.currentUserId),await this.joinRoom(this.currentRoomId,this.currentUserId)),t}async setAudioOutput(e){return this.audioElement&&await _k.setAudioOutput(this.audioElement,e),_k.setOutputDevice(e)}getInputDevices(){return _k.getInputDevices()}getOutputDevices(){return _k.getOutputDevices()}onDeviceChange(e){return this.deviceChangeCallbacks.add(e),()=>this.deviceChangeCallbacks.delete(e)}startAudioProcessingLoop(){this.audioProcessingInterval&&clearInterval(this.audioProcessingInterval),this.audioProcessingInterval=window.setInterval((()=>{this.processAudioQueue()}),this.BUFFER_TARGET_DURATION_MS/2)}stopAudioProcessingLoop(){this.audioProcessingInterval&&(clearInterval(this.audioProcessingInterval),this.audioProcessingInterval=null),this.queueProcessingTimeouts.forEach((e=>clearTimeout(e))),this.queueProcessingTimeouts.clear()}async processAudioQueue(){if(!this.audioContext||"running"!==this.audioContext.state)return;const e=Array.from(this.audioQueue.keys());for(const t of e)this.processUserAudioQueue(t)}async processUserAudioQueue(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.audioQueue.get(e);if(!n||0===n.length)return;const r=10*n.length;if(t||r>=this.BUFFER_TARGET_DURATION_MS){if(this.audioSources.has(e))return;const t=[...n];this.audioQueue.set(e,[]),this.clearQueueProcessingTimeout(e),console.log(`Processing ${t.length} chunks for user ${e}`);try{const n=new Blob(t,{type:"audio/webm;codecs=opus"}),r=await n.arrayBuffer();r.byteLength>0&&await this.decodeAndPlayAudio(r,e)}catch(pb){console.error(`Error processing audio queue for ${e}:`,pb)}}}async decodeAndPlayAudio(e,t){if(this.audioContext&&this.gainNode)try{"suspended"===this.audioContext.state&&await this.audioContext.resume(),this.stopUserAudio(t),console.log(`Decoding ${e.byteLength} bytes for ${t}`);const n=await this.audioContext.decodeAudioData(e).catch((e=>{throw console.error(`decodeAudioData failed for ${t}:`,e),r_.error(`Error decoding audio from ${t}.`),e}));if(!n)return;const r=this.audioContext.createBufferSource();r.buffer=n;const o=this.audioContext.createDynamicsCompressor();o.threshold.value=-50,o.knee.value=40,o.ratio.value=12,o.attack.value=.003,o.release.value=.25,r.playbackRate.value=1;const i=this.audioContext.createBiquadFilter();i.type="bandpass",i.frequency.value=1e3,i.Q.value=.5;const s=this.audioContext.createBiquadFilter();s.type="highshelf",s.frequency.value=4e3,s.gain.value=3,r.connect(i).connect(s).connect(o).connect(this.gainNode);const a=.02,l=this.audioContext.currentTime+a;r.start(l),this.audioSources.set(t,r),r.onended=()=>{r.disconnect(),this.audioSources.delete(t)}}catch(pb){console.error("Error handling incoming audio:",pb)}}resetQueueProcessingTimeout(e){const t=this.queueProcessingTimeouts.get(e);t&&clearTimeout(t);const n=setTimeout((()=>{console.log(`Processing queue for ${e} due to timeout.`),this.processUserAudioQueue(e,!0),this.queueProcessingTimeouts.delete(e)}),this.QUEUE_MAX_WAIT_MS);this.queueProcessingTimeouts.set(e,n)}clearQueueProcessingTimeout(e){const t=this.queueProcessingTimeouts.get(e);t&&(clearTimeout(t),this.queueProcessingTimeouts.delete(e))}},kk=(0,r.createContext)({user:null,loading:!0,error:null,login:async()=>{},register:async()=>{},logout:async()=>{},resetPassword:async()=>{},sendEmailVerification:async()=>{},setError:()=>{},forceCheckEmailVerification:async()=>!1,currentUser:null,userProfile:null,setUserProfile:()=>{},verifySourceCodeAndCompleteLogin:async()=>{},tempUserForSourceCode:null}),Tk=e=>{var t;let{children:n}=e;const[o,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(null),h=Z(),p=(e,t)=>{console.error(`[${t}] Error:`,e)};(0,r.useEffect)((()=>{console.log("Setting up auth state listener");const e=Ui(PS,(async e=>{if(console.log("Auth state changed:",e?"User logged in":"No user"),e)try{console.log("Reloading Firebase user data..."),await e.reload();const t=PS.currentUser;if(console.log("Firebase user data reloaded."),!t)return console.log("User is null after reload, signing out."),i(null),void a(!1);console.log("Fetching Firestore document for:",t.uid);const n=await fv(eg(IS,"users",t.uid));if(n.exists()){const e=n.data();i({...t,profile:e}),console.log("User data loaded successfully:",t.uid)}else console.error("User document not found in Firestore:",t.uid),i(null),Bi(PS),console.log("Signed out due to missing Firestore document.")}catch(l){console.error("Error loading user data:",l),i(null)}else i(null);a(!1)}));return()=>{console.log("Cleaning up auth state listener"),e()}}),[]),(0,r.useEffect)((()=>{if(null===o||void 0===o||!o.uid||!IS)return;const e=xv(eg(IS,"users",o.uid),(e=>{if(e.exists()){var t;const n=e.data(),r=null===(t=o.profile)||void 0===t?void 0:t.isPrivate;i((e=>e?{...e,profile:n}:null)),i((e=>e?{...e,isPrivate:n.isPrivate||!1,followers:n.followers||[],following:n.following||[]}:null)),r!==n.isPrivate&&(r_.success("Account is now "+(n.isPrivate?"private":"public")),window.location.pathname.includes("/profile")&&window.location.reload())}}),(e=>{console.error("Error listening to privacy changes:",e),r_.error("Failed to sync privacy settings")}));return()=>e()}),[null===o||void 0===o?void 0:o.uid,IS,null===o||void 0===o||null===(t=o.profile)||void 0===t?void 0:t.isPrivate]),(0,r.useEffect)((()=>{o&&!s&&(o.emailVerified||r_.error("Please verify your email to continue",{duration:5e3,id:"email-verification-needed"}),o.profile&&!o.profile.sourceCodeSetupComplete&&r_.error("Please set up your source code to continue",{duration:5e3,id:"source-code-setup-needed"}))}),[o,s]);const f=async e=>{try{console.log("Starting forceCheckEmailVerification for user:",e.uid),console.log("Initial emailVerified status:",e.emailVerified),await e.reload();const n=PS.currentUser;if(!n)return console.error("User disappeared after reload"),!1;const r=n.emailVerified;if(console.log("Email verification status after reload:",r),r&&IS)try{const e=eg(IS,"users",n.uid),t=await fv(e);if(t.exists()){if(!t.data().isVerified){const t=await(async e=>{if(!IS)return!1;try{return(await fv(eg(IS,"admins",e))).exists()}catch(l){return console.log("Error checking admin status:",l),!1}})(n.uid);t?(await yv(e,{isVerified:!0,updatedAt:Iv()}),console.log("Updated user profile verification status in Firestore")):console.log("User is not admin, skipping verification status update")}}}catch(l){console.log("Could not access user profile in Firestore")}try{const e=await n.getIdTokenResult(!0);return console.log("Token verification status:",e.claims.email_verified),e.claims.email_verified&&!r?(await n.reload(),n.emailVerified):!0===e.claims.email_verified}catch(t){return console.error("Error checking token verification status:",t),r}}catch(l){return console.error("Failed to check email verification status:",l),!1}},m={user:o,loading:s,error:l,login:async(e,t)=>{a(!0),c(null);try{if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e))throw new Error("auth/invalid-email");console.log("Starting login process for:",e),await function(e,t){return en(e).setPersistence(t)}(PS,Gi),console.log("Persistence set to LOCAL");const n=await function(e,t,n){return fr(e.app)?Promise.reject(Vr(e)):Mi(en(e),wi.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Fi(e),t}))}(PS,e,t),r=n.user;console.log("Firebase Auth login successful for user:",r.uid);const o=await f(r);if(console.log("Email verification status:",o),!o)return console.log("Email not verified, redirecting to verification page..."),c("Please verify your email before logging in."),await Bi(PS),a(!1),void h("/verify-email",{replace:!0});const s=await fv(eg(IS,"users",r.uid));if(s.exists()){const e=s.data();if(console.log("Retrieved user profile:",e),!e.sourceCodeSetupComplete)return console.log("Source code setup not complete, redirecting to setup..."),a(!1),void h("/setup-source-code",{replace:!0});i({...r,profile:e}),a(!1),console.log("Login complete, redirecting to feed..."),h("/",{replace:!0})}else{console.log("User profile not found, creating default profile...");const e={name:r.displayName||"",username:r.displayName||"",email:r.email||"",profilePic:r.photoURL||"",bio:"",location:"",website:"",followers:[],following:[],connections:[],isVerified:!1,sourceCodeHash:null,sourceCodeSetupComplete:!1,createdAt:rl.fromDate(new Date),lastLogin:rl.fromDate(new Date),dateOfBirth:rl.fromDate(new Date(2e3,0,1)),settings:{theme:"light",notifications:!0,privacy:"public"},preferences:{theme:"light",language:"en",notifications:!0,emailNotifications:!0,pushNotifications:!0}};await vv(eg(IS,"users",r.uid),e),console.log("Created default user profile");const t=(await fv(eg(IS,"users",r.uid))).data();if(!t.sourceCodeSetupComplete)return console.log("Source code setup not complete, redirecting to setup..."),a(!1),void h("/setup-source-code",{replace:!0});i({...r,profile:t}),a(!1),console.log("Login complete, redirecting to feed..."),h("/",{replace:!0})}}catch(l){console.error("Login function error:",l);let t="An error occurred during login.";"auth/invalid-credential"===l.code||"auth/invalid-credential"===l.message?t="Invalid email or password. Please check your credentials and try again.":"auth/user-not-found"===l.code||"auth/user-not-found"===l.message?t="No account found with this email.":"auth/wrong-password"===l.code||"auth/wrong-password"===l.message?t="Incorrect password.":"auth/too-many-requests"===l.code||"auth/too-many-requests"===l.message?t="Too many failed attempts. Please try again later.":"auth/network-request-failed"===l.code||"auth/network-request-failed"===l.message?t="Network error. Please check your connection.":"auth/invalid-email"===l.code||"auth/invalid-email"===l.message?t="Invalid email address. Please check the format.":"User profile not found"===l.message&&(t="User profile not found. Please contact support."),c(t),i(null),a(!1),p(l,"Login Function")}},register:async(e,t,n,r)=>{a(!0),c(null);try{const o=await async function(e,t,n){if(fr(e.app))return Promise.reject(Vr(e));const r=Go(e),o=ri(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ti,"EMAIL_PASSWORD_PROVIDER"),i=await o.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Fi(e),t})),s=await Ei._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(PS,e,t),s=o.user;if(console.log("User created successfully with UID:",s.uid),await Vi(s,{displayName:n}),console.log("User profile updated with username:",n),await zi(s),console.log("Verification email sent to:",s.email),IS){const t={theme:"light",language:"en",notifications:!0,emailNotifications:!0,pushNotifications:!0},o={name:n,username:n,email:e||"",profilePic:s.photoURL||"",bio:"",location:"",website:"",followers:[],following:[],connections:[],isVerified:!1,sourceCodeHash:null,sourceCodeSetupComplete:!1,createdAt:rl.fromDate(new Date),lastLogin:rl.fromDate(new Date),dateOfBirth:r,settings:{theme:"light",notifications:!0,privacy:"public"},preferences:t};await vv(eg(IS,"users",s.uid),o),console.log("Basic user profile created in Firestore")}i(s)}catch(l){throw console.error("Registration error:",l),c(Ik(l.code)),l}finally{a(!1)}},logout:async()=>{a(!0),c(null);try{console.log("Starting logout process..."),console.log("Disconnecting audio service..."),Ck.disconnect(),console.log("Audio service disconnected."),await Bi(PS),console.log("Firebase sign out successful."),i(null),a(!1),console.log("User state cleared, navigating to /login..."),h("/login",{replace:!0}),console.log("Navigation to /login triggered.")}catch(l){console.error("Error during logout:",l),p(l,"Logout"),c(Ik(l.code)),a(!1)}},resetPassword:async e=>{try{a(!0),await async function(e,t,n){const r=Go(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Li(r,o,n),await ri(r,o,"getOobCode",hi,"EMAIL_PASSWORD_PROVIDER")}(PS,e)}catch(l){throw c(l.message),l}finally{a(!1)}},sendEmailVerification:async()=>{const e=PS.currentUser;if(e)try{a(!0),await e.reload();const t=PS.currentUser;if(!t)return void c("User not found");if(t.emailVerified)return await f(t),void h("/setup-source-code");await zi(t,{url:`${window.location.origin}/verify-email`,handleCodeInApp:!0}),IS&&await yv(eg(IS,"users",t.uid),{lastVerificationAttempt:Iv(),verificationStatus:"pending"}),r_.success("Verification email sent")}catch(l){console.error("Error sending verification email:",l),c(Ik(l.code||l.message))}finally{a(!1)}else c("No user available to send verification email")},setError:c,forceCheckEmailVerification:f,currentUser:o,userProfile:(null===o||void 0===o?void 0:o.profile)||null,setUserProfile:e=>{o&&i({...o,profile:e})},verifySourceCodeAndCompleteLogin:async e=>{if(!u||!IS)return c("No user logged in"),void console.error("verifySourceCodeAndCompleteLogin: No temporary user found");try{a(!0),c(null);const t=eg(IS,"users",u.uid),n=await fv(t);if(!n.exists())return c("User profile not found"),void console.error("verifySourceCodeAndCompleteLogin: User profile not found");const r=n.data();if(!r.sourceCodeHash)return c("Source code not set up"),void console.error("verifySourceCodeAndCompleteLogin: No source code hash found");if(!await tC.compare(e,r.sourceCodeHash))return void c("Invalid source code");i({...u,profile:r}),d(null),a(!1),setTimeout((()=>{h("/")}),0)}catch(l){console.error("Error verifying source code:",l),c("Failed to verify source code"),a(!1)}},tempUserForSourceCode:u};return(0,$e.jsx)(kk.Provider,{value:m,children:n})},Ek=()=>{const e=(0,r.useContext)(kk);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Ik=e=>{switch(e){case"auth/invalid-email":return"Invalid email address";case"auth/user-disabled":return"This account has been disabled";case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/email-already-in-use":return"Email is already in use";case"auth/weak-password":return"Password is too weak";case"auth/network-request-failed":return"Network error. Please check your connection";case"auth/too-many-requests":return"Too many attempts. Please try again later";default:return"An error occurred. Please try again"}},Pk=()=>{const{user:e}=Ek();return{canViewProfile:t=>{var n,r,o;if(!e)return!1;if(e.uid===t)return!0;const i=null===(n=e.profile)||void 0===n||null===(r=n.followers)||void 0===r?void 0:r.includes(t);return!(null!==(o=e.profile)&&void 0!==o&&o.isPrivate)||i},canViewContent:t=>{var n,r,o;if(!e)return!1;if(e.uid===t)return!0;const i=null===(n=e.profile)||void 0===n||null===(r=n.following)||void 0===r?void 0:r.includes(t);return!(null!==(o=e.profile)&&void 0!==o&&o.isPrivate)||i}}},Rk=(0,r.createContext)(void 0),jk=e=>{let{children:t}=e;const{currentUser:n}=Ek(),[o,i]=(0,r.useState)([]),[s,a]=(0,r.useState)(0),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(!1),h=(0,r.useCallback)((async e=>{if(!e)return;c(!0);const t=xv(Wg(Zm(IS,"notifications"),qg("recipientId","==",e),Yg("createdAt","desc"),Xg(50)),(e=>{const t=e.docs.map((e=>{var t;const n=e.data();return{id:e.id,...n,createdAt:null!==(t=n.createdAt)&&void 0!==t&&t.toDate?n.createdAt.toDate():new Date}}));i(t);const n=t.filter((e=>!e.isRead)).length;a(n),u||d(!0),c(!1)}),(e=>{console.error("Error fetching notifications: ",e),c(!1)}));return t}),[u]);(0,r.useEffect)((()=>{let e;if(null!==n&&void 0!==n&&n.uid){h(n.uid).then((t=>{t&&(e=t)})).catch((e=>{console.error("Failed to setup notification listener:",e)}))}else i([]),a(0),c(!0),d(!1);return()=>{e&&e()}}),[n,h]);const p={notifications:o,unreadCount:s,loading:l,fetchNotifications:h,markAsRead:async e=>{try{const t=eg(IS,"notifications",e);await yv(t,{isRead:!0})}catch(pb){console.error("Error marking notification as read: ",pb)}},markAllAsRead:async e=>{if(e){c(!0);try{const t=Wg(Zm(IS,"notifications"),qg("recipientId","==",e),qg("isRead","==",!1)),n=(await gv(t)).docs.map((e=>yv(eg(IS,"notifications",e.id),{isRead:!0})));await Promise.all(n)}catch(pb){console.error("Error marking all notifications as read: ",pb)}}},deleteNotification:async e=>{try{const t=eg(IS,"notifications",e);await bv(t)}catch(pb){console.error("Error deleting notification: ",pb)}},addNotification:async e=>{try{await wv(Zm(IS,"notifications"),{...e,isRead:!1,createdAt:Iv()})}catch(pb){console.error("Error adding notification: ",pb)}}};return(0,$e.jsx)(Rk.Provider,{value:p,children:t})},Dk=()=>{const e=(0,r.useContext)(Rk);if(void 0===e)throw new Error("useNotifications must be used within a NotificationProvider");return e};const Nk=r.createContext(null);function Mk(){return r.useContext(Nk)}const Ok="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const Lk=function(e){const{children:t,theme:n}=e,o=Mk(),i=r.useMemo((()=>{const e=null===o?n:function(e,t){if("function"===typeof t)return t(e);return(0,je.A)({},e,t)}(o,n);return null!=e&&(e[Ok]=null!==o),e}),[n,o]);return(0,$e.jsx)(Nk.Provider,{value:i,children:t})},Fk=["value"],zk=r.createContext();const Vk=()=>{const e=r.useContext(zk);return null!=e&&e},Uk=function(e){let{value:t}=e,n=(0,De.A)(e,Fk);return(0,$e.jsx)(zk.Provider,(0,je.A)({value:null==t||t},n))};var Bk=n(6171);const $k={};function Wk(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r.useMemo((()=>{const r=e&&t[e]||t;if("function"===typeof n){const i=n(r),s=e?(0,je.A)({},t,{[e]:i}):i;return o?()=>s:s}return e?(0,je.A)({},t,{[e]:n}):(0,je.A)({},t,n)}),[e,t,n,o])}const Hk=function(e){const{children:t,theme:n,themeId:r}=e,o=Ve($k),i=Mk()||$k,s=Wk(r,o,n),a=Wk(r,i,n,!0),l="rtl"===s.direction;return(0,$e.jsx)(Lk,{theme:a,children:(0,$e.jsx)(ze.T.Provider,{value:s,children:(0,$e.jsx)(Uk,{value:l,children:(0,$e.jsx)(Bk.A,{value:null==s?void 0:s.components,children:t})})})})},qk=["theme"];function Gk(e){let{theme:t}=e,n=(0,De.A)(e,qk);const r=t[Ge.A];let o=r||t;return"function"!==typeof t&&(r&&!r.vars?o=(0,je.A)({},r,{vars:null}):t&&!t.vars&&(o=(0,je.A)({},t,{vars:null}))),(0,$e.jsx)(Hk,(0,je.A)({},n,{themeId:r?Ge.A:void 0,theme:o}))}const Kk=(0,r.createContext)(void 0),Yk=e=>{let{children:t}=e;const[n,o]=(0,r.useState)((()=>{const e=localStorage.getItem("darkMode");return!!e&&JSON.parse(e)}));(0,r.useEffect)((()=>{localStorage.setItem("darkMode",JSON.stringify(n))}),[n]);const i=(0,qe.A)({palette:{mode:n?"dark":"light",primary:{main:"#1976d2"},secondary:{main:"#dc004e"},background:{default:n?"#121212":"#ffffff",paper:n?"#1e1e1e":"#ffffff"}},components:{MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}}}});return(0,$e.jsx)(Kk.Provider,{value:{isDarkMode:n,toggleDarkMode:()=>{o(!n)}},children:(0,$e.jsx)(Gk,{theme:i,children:t})})};var Qk=n(8465),Xk=n(9254),Jk=n(1676),Zk=n(9269);const eT=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};var tT=n(423);function nT(e){return(0,tT.Ay)("MuiPaper",e)}(0,Ke.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const rT=["className","component","elevation","square","variant"],oT=(0,Xk.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,je.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.divider}`},"elevation"===n.variant&&(0,je.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,Zk.X4)("#fff",eT(n.elevation))}, ${(0,Zk.X4)("#fff",eT(n.elevation))})`},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),iT=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:i=1,square:s=!1,variant:a="elevation"}=n,l=(0,De.A)(n,rT),c=(0,je.A)({},n,{component:o,elevation:i,square:s,variant:a}),u=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e,i={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]};return(0,Qk.A)(i,nT,o)})(c);return(0,$e.jsx)(oT,(0,je.A)({as:o,ownerState:c,className:(0,Ne.A)(u.root,r),ref:t},l))})),sT=iT;function aT(e){return(0,tT.Ay)("MuiAppBar",e)}(0,Ke.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const lT=["className","color","enableColorOnDark","position"],cT=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,uT=(0,Xk.Ay)(sT,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,Jk.A)(n.position)}`],t[`color${(0,Jk.A)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,je.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,je.A)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,je.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,je.A)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:cT(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:cT(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:cT(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:cT(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},!["inherit","transparent"].includes(n.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),dT=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:i=!1,position:s="fixed"}=n,a=(0,De.A)(n,lT),l=(0,je.A)({},n,{color:o,position:s,enableColorOnDark:i}),c=(e=>{const{color:t,position:n,classes:r}=e,o={root:["root",`color${(0,Jk.A)(t)}`,`position${(0,Jk.A)(n)}`]};return(0,Qk.A)(o,aT,r)})(l);return(0,$e.jsx)(uT,(0,je.A)({square:!0,component:"header",ownerState:l,elevation:4,className:(0,Ne.A)(c.root,r,"fixed"===s&&"mui-fixed"),ref:t},a))})),hT=dT;function pT(e){return(0,tT.Ay)("MuiToolbar",e)}(0,Ke.A)("MuiToolbar",["root","gutters","regular","dense"]);const fT=["className","component","disableGutters","variant"],mT=(0,Xk.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),gT=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:i=!1,variant:s="regular"}=n,a=(0,De.A)(n,fT),l=(0,je.A)({},n,{component:o,disableGutters:i,variant:s}),c=(e=>{const{classes:t,disableGutters:n,variant:r}=e,o={root:["root",!n&&"gutters",r]};return(0,Qk.A)(o,pT,t)})(l);return(0,$e.jsx)(mT,(0,je.A)({as:o,className:(0,Ne.A)(c.root,r),ref:t,ownerState:l},a))})),vT=gT;var yT=n(3235);const bT=(0,yT.A)((0,$e.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function wT(e){return(0,tT.Ay)("MuiAvatar",e)}(0,Ke.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var xT=n(5393);const AT=function(e){return"string"===typeof e};const ST=function(e,t,n){return void 0===e||AT(e)?t:(0,je.A)({},t,{ownerState:(0,je.A)({},t.ownerState,n)})};const _T=function(e,t,n){return"function"===typeof e?e(t,n):e};const CT=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const kT=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const TT=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=(0,Ne.A)(null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),t=(0,je.A)({},null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),s=(0,je.A)({},n,o,r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=CT((0,je.A)({},o,r)),a=kT(r),l=kT(o),c=t(s),u=(0,Ne.A)(null==c?void 0:c.className,null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),d=(0,je.A)({},null==c?void 0:c.style,null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),h=(0,je.A)({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}},ET=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],IT=["component","slots","slotProps"],PT=["component"];function RT(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,getSlotOwnerState:s,internalForwardedProps:a}=t,l=(0,De.A)(t,ET),{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0}}=i,h=(0,De.A)(i,IT),p=u[e]||r,f=_T(d[e],o),m=TT((0,je.A)({className:n},l,{externalForwardedProps:"root"===e?h:void 0,externalSlotProps:f})),{props:{component:g},internalRef:v}=m,y=(0,De.A)(m.props,PT),b=(0,xT.A)(v,null==f?void 0:f.ref,t.ref),w=s?s(y):{},x=(0,je.A)({},o,w),A="root"===e?g||c:g,S=ST(p,(0,je.A)({},"root"===e&&!c&&!u[e]&&a,"root"!==e&&!u[e]&&a,y,A&&{as:A},{ref:b}),x);return Object.keys(w).forEach((e=>{delete S[e]})),[p,S]}const jT=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],DT=(0,Xk.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,je.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,je.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),NT=(0,Xk.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),MT=(0,Xk.Ay)(bT,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const OT=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiAvatar"}),{alt:o,children:i,className:s,component:a="div",slots:l={},slotProps:c={},imgProps:u,sizes:d,src:h,srcSet:p,variant:f="circular"}=n,m=(0,De.A)(n,jT);let g=null;const v=function(e){let{crossOrigin:t,referrerPolicy:n,src:o,srcSet:i}=e;const[s,a]=r.useState(!1);return r.useEffect((()=>{if(!o&&!i)return;a(!1);let e=!0;const r=new Image;return r.onload=()=>{e&&a("loaded")},r.onerror=()=>{e&&a("error")},r.crossOrigin=t,r.referrerPolicy=n,r.src=o,i&&(r.srcset=i),()=>{e=!1}}),[t,n,o,i]),s}((0,je.A)({},u,{src:h,srcSet:p})),y=h||p,b=y&&"error"!==v,w=(0,je.A)({},n,{colorDefault:!b,component:a,variant:f}),x=(e=>{const{classes:t,variant:n,colorDefault:r}=e,o={root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,Qk.A)(o,wT,t)})(w),[A,S]=RT("img",{className:x.img,elementType:NT,externalForwardedProps:{slots:l,slotProps:{img:(0,je.A)({},u,c.img)}},additionalProps:{alt:o,src:h,srcSet:p,sizes:d},ownerState:w});return g=b?(0,$e.jsx)(A,(0,je.A)({},S)):i||0===i?i:y&&o?o[0]:(0,$e.jsx)(MT,{ownerState:w,className:x.fallback}),(0,$e.jsx)(DT,(0,je.A)({as:a,ownerState:w,className:(0,Ne.A)(x.root,s),ref:t},m,{children:g}))})),LT=OT;function FT(e){return(0,tT.Ay)("MuiTypography",e)}(0,Ke.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const zT=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],VT=(0,Xk.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,Jk.A)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),UT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},BT={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},$T=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiTypography"}),r=(e=>BT[e]||e)(n.color),o=(0,Le.A)((0,je.A)({},n,{color:r})),{align:i="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=UT}=o,p=(0,De.A)(o,zT),f=(0,je.A)({},o,{align:i,color:r,className:s,component:a,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h}),m=a||(u?"p":h[d]||UT[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=e,a={root:["root",i,"inherit"!==e.align&&`align${(0,Jk.A)(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return(0,Qk.A)(a,FT,s)})(f);return(0,$e.jsx)(VT,(0,je.A)({as:m,ref:t,ownerState:f,className:(0,Ne.A)(g.root,s)},p))})),WT=$T;var HT=n(1506),qT=n(1976),GT=n(2937);function KT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YT(e,t){return YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},YT(e,t)}function QT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,YT(e,t)}const XT=r.createContext(null);function JT(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function ZT(e,t,n){return null!=n[t]?n[t]:e.props[t]}function eE(e,t,n){var o=JT(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var s in e)s in t?i.length&&(o[s]=i,i=[]):i.push(s);var a={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];a[o[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(t,o);return Object.keys(i).forEach((function(s){var a=i[s];if((0,r.isValidElement)(a)){var l=s in t,c=s in o,u=t[s],d=(0,r.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,r.isValidElement)(u)&&(i[s]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:ZT(a,"exit",e),enter:ZT(a,"enter",e)})):i[s]=(0,r.cloneElement)(a,{in:!1}):i[s]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:ZT(a,"exit",e),enter:ZT(a,"enter",e)})}})),i}var tE=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},nE=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(KT(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}QT(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,o,i=t.children,s=t.handleExited;return{children:t.firstRender?(n=e,o=s,JT(n.children,(function(e){return(0,r.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:ZT(e,"appear",n),enter:ZT(e,"enter",n),exit:ZT(e,"exit",n)})}))):eE(e,i,s),firstRender:!1}},n.handleExited=function(e,t){var n=JT(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,je.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=(0,De.A)(e,["component","childFactory"]),i=this.state.contextValue,s=tE(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===t?r.createElement(XT.Provider,{value:i},s):r.createElement(XT.Provider,{value:i},r.createElement(t,o,s))},t}(r.Component);nE.propTypes={},nE.defaultProps={component:"div",childFactory:function(e){return e}};const rE=nE;var oE=n(8283),iE=n(1824);const sE=function(e){const{className:t,classes:n,pulsate:o=!1,rippleX:i,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=r.useState(!1),p=(0,Ne.A)(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),f={width:a,height:a,top:-a/2+s,left:-a/2+i},m=(0,Ne.A)(n.child,d&&n.childLeaving,o&&n.childPulsate);return l||d||h(!0),r.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,$e.jsx)("span",{className:p,style:f,children:(0,$e.jsx)("span",{className:m})})};const aE=(0,Ke.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),lE=["center","classes","className"];let cE,uE,dE,hE,pE=e=>e;const fE=(0,oE.i7)(cE||(cE=pE`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),mE=(0,oE.i7)(uE||(uE=pE`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),gE=(0,oE.i7)(dE||(dE=pE`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),vE=(0,Xk.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),yE=(0,Xk.Ay)(sE,{name:"MuiTouchRipple",slot:"Ripple"})(hE||(hE=pE`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),aE.rippleVisible,fE,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),aE.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),aE.child,aE.childLeaving,mE,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),aE.childPulsate,gE,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),bE=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:s}=n,a=(0,De.A)(n,lE),[l,c]=r.useState([]),u=r.useRef(0),d=r.useRef(null);r.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=r.useRef(!1),p=(0,iE.A)(),f=r.useRef(null),m=r.useRef(null),g=r.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:s}=e;c((e=>[...e,(0,$e.jsx)(yE,{classes:{ripple:(0,Ne.A)(i.ripple,aE.ripple),rippleVisible:(0,Ne.A)(i.rippleVisible,aE.rippleVisible),ripplePulsate:(0,Ne.A)(i.ripplePulsate,aE.ripplePulsate),child:(0,Ne.A)(i.child,aE.child),childLeaving:(0,Ne.A)(i.childLeaving,aE.childLeaving),childPulsate:(0,Ne.A)(i.childPulsate,aE.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},u.current)])),u.current+=1,d.current=s}),[i]),v=r.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:i=o||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const a=s?null:m.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(i)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===f.current&&(f.current=()=>{g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},p.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[o,g,p]),y=r.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=r.useCallback(((e,t)=>{if(p.clear(),"touchend"===(null==e?void 0:e.type)&&f.current)return f.current(),f.current=null,void p.start(0,(()=>{b(e,t)}));f.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[p]);return r.useImperativeHandle(t,(()=>({pulsate:y,start:v,stop:b})),[y,v,b]),(0,$e.jsx)(vE,(0,je.A)({className:(0,Ne.A)(aE.root,i.root,s),ref:m},a,{children:(0,$e.jsx)(rE,{component:null,exit:!0,children:l})}))})),wE=bE;function xE(e){return(0,tT.Ay)("MuiButtonBase",e)}const AE=(0,Ke.A)("MuiButtonBase",["root","disabled","focusVisible"]),SE=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],_E=(0,Xk.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${AE.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),CE=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:m,onContextMenu:g,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:w,onKeyUp:x,onMouseDown:A,onMouseLeave:S,onMouseUp:_,onTouchEnd:C,onTouchMove:k,onTouchStart:T,tabIndex:E=0,TouchRippleProps:I,touchRippleRef:P,type:R}=n,j=(0,De.A)(n,SE),D=r.useRef(null),N=r.useRef(null),M=(0,HT.A)(N,P),{isFocusVisibleRef:O,onFocus:L,onBlur:F,ref:z}=(0,GT.A)(),[V,U]=r.useState(!1);c&&V&&U(!1),r.useImperativeHandle(o,(()=>({focusVisible:()=>{U(!0),D.current.focus()}})),[]);const[B,$]=r.useState(!1);r.useEffect((()=>{$(!0)}),[]);const W=B&&!u&&!c;function H(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return(0,qT.A)((r=>{t&&t(r);return!n&&N.current&&N.current[e](r),!0}))}r.useEffect((()=>{V&&h&&!u&&B&&N.current.pulsate()}),[u,h,V,B]);const q=H("start",A),G=H("stop",g),K=H("stop",v),Y=H("stop",_),Q=H("stop",(e=>{V&&e.preventDefault(),S&&S(e)})),X=H("start",T),J=H("stop",C),Z=H("stop",k),ee=H("stop",(e=>{F(e),!1===O.current&&U(!1),f&&f(e)}),!1),te=(0,qT.A)((e=>{D.current||(D.current=e.currentTarget),L(e),!0===O.current&&(U(!0),b&&b(e)),y&&y(e)})),ne=()=>{const e=D.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},re=r.useRef(!1),oe=(0,qT.A)((e=>{h&&!re.current&&V&&N.current&&" "===e.key&&(re.current=!0,N.current.stop(e,(()=>{N.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),ie=(0,qT.A)((e=>{h&&" "===e.key&&N.current&&V&&!e.defaultPrevented&&(re.current=!1,N.current.stop(e,(()=>{N.current.pulsate(e)}))),x&&x(e),m&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let se=l;"button"===se&&(j.href||j.to)&&(se=p);const ae={};"button"===se?(ae.type=void 0===R?"button":R,ae.disabled=c):(j.href||j.to||(ae.role="button"),c&&(ae["aria-disabled"]=c));const le=(0,HT.A)(t,z,D);const ce=(0,je.A)({},n,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:E,focusVisible:V}),ue=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i={root:["root",t&&"disabled",n&&"focusVisible"]},s=(0,Qk.A)(i,xE,o);return n&&r&&(s.root+=` ${r}`),s})(ce);return(0,$e.jsxs)(_E,(0,je.A)({as:se,className:(0,Ne.A)(ue.root,a),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:G,onFocus:te,onKeyDown:oe,onKeyUp:ie,onMouseDown:q,onMouseLeave:Q,onMouseUp:Y,onDragLeave:K,onTouchEnd:J,onTouchMove:Z,onTouchStart:X,ref:le,tabIndex:c?-1:E,type:R},ae,j,{children:[s,W?(0,$e.jsx)(wE,(0,je.A)({ref:M,center:i},I)):null]}))})),kE=CE;function TE(e){return(0,tT.Ay)("MuiIconButton",e)}const EE=(0,Ke.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),IE=["edge","children","className","color","disabled","disableFocusRipple","size"],PE=(0,Xk.Ay)(kE,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,Jk.A)(n.color)}`],n.edge&&t[`edge${(0,Jk.A)(n.edge)}`],t[`size${(0,Jk.A)(n.size)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Zk.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const o=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,je.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,je.A)({color:null==o?void 0:o.main},!n.disableRipple&&{"&:hover":(0,je.A)({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Zk.X4)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${EE.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),RE=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:i,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium"}=n,u=(0,De.A)(n,IE),d=(0,je.A)({},n,{edge:r,color:s,disabled:a,disableFocusRipple:l,size:c}),h=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e,s={root:["root",n&&"disabled","default"!==r&&`color${(0,Jk.A)(r)}`,o&&`edge${(0,Jk.A)(o)}`,`size${(0,Jk.A)(i)}`]};return(0,Qk.A)(s,TE,t)})(d);return(0,$e.jsx)(PE,(0,je.A)({className:(0,Ne.A)(h.root,i),centerRipple:!0,focusRipple:!l,disabled:a,ref:t},u,{ownerState:d,children:o}))})),jE=RE,DE=e=>{const t=r.useRef({});return r.useEffect((()=>{t.current=e})),t.current},NE=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const ME=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:i=!1}=e,s=(0,De.A)(e,NE),a=i?{}:_T(r,o),{props:l,internalRef:c}=TT((0,je.A)({},s,{externalSlotProps:a})),u=(0,xT.A)(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref);return ST(n,(0,je.A)({},l,{ref:u}),o)};const OE=function(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:o=!1}=e,i=DE({badgeContent:t,max:r});let s=n;!1!==n||0!==t||o||(s=!0);const{badgeContent:a,max:l=r}=s?i:e;return{badgeContent:a,invisible:s,max:l,displayValue:a&&Number(a)>l?`${l}+`:a}};function LE(e){return(0,tT.Ay)("MuiBadge",e)}const FE=(0,Ke.A)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),zE=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],VE=(0,Xk.Ay)("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),UE=(0,Xk.Ay)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${(0,Jk.A)(n.anchorOrigin.vertical)}${(0,Jk.A)(n.anchorOrigin.horizontal)}${(0,Jk.A)(n.overlap)}`],"default"!==n.color&&t[`color${(0,Jk.A)(n.color)}`],n.invisible&&t.invisible]}})((e=>{let{theme:t}=e;var n;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n,r;return(null!=(n=t.vars)?n:t).palette[e].main&&(null!=(r=t.vars)?r:t).palette[e].contrastText})).map((e=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}}))),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${FE.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${FE.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${FE.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${FE.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${FE.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${FE.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${FE.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${FE.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}})),BE=r.forwardRef((function(e,t){var n,r,o,i,s,a;const l=(0,Ze.b)({props:e,name:"MuiBadge"}),{anchorOrigin:c={vertical:"top",horizontal:"right"},className:u,component:d,components:h={},componentsProps:p={},children:f,overlap:m="rectangular",color:g="default",invisible:v=!1,max:y=99,badgeContent:b,slots:w,slotProps:x,showZero:A=!1,variant:S="standard"}=l,_=(0,De.A)(l,zE),{badgeContent:C,invisible:k,max:T,displayValue:E}=OE({max:y,invisible:v,badgeContent:b,showZero:A}),I=DE({anchorOrigin:c,color:g,overlap:m,variant:S,badgeContent:b}),P=k||null==C&&"dot"!==S,{color:R=g,overlap:j=m,anchorOrigin:D=c,variant:N=S}=P?I:l,M="dot"!==N?E:void 0,O=(0,je.A)({},l,{badgeContent:C,invisible:P,max:T,displayValue:M,showZero:A,anchorOrigin:D,color:R,overlap:j,variant:N}),L=(e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:o,variant:i,classes:s={}}=e,a={root:["root"],badge:["badge",i,r&&"invisible",`anchorOrigin${(0,Jk.A)(n.vertical)}${(0,Jk.A)(n.horizontal)}`,`anchorOrigin${(0,Jk.A)(n.vertical)}${(0,Jk.A)(n.horizontal)}${(0,Jk.A)(o)}`,`overlap${(0,Jk.A)(o)}`,"default"!==t&&`color${(0,Jk.A)(t)}`]};return(0,Qk.A)(a,LE,s)})(O),F=null!=(n=null!=(r=null==w?void 0:w.root)?r:h.Root)?n:VE,z=null!=(o=null!=(i=null==w?void 0:w.badge)?i:h.Badge)?o:UE,V=null!=(s=null==x?void 0:x.root)?s:p.root,U=null!=(a=null==x?void 0:x.badge)?a:p.badge,B=ME({elementType:F,externalSlotProps:V,externalForwardedProps:_,additionalProps:{ref:t,as:d},ownerState:O,className:(0,Ne.A)(null==V?void 0:V.className,L.root,u)}),$=ME({elementType:z,externalSlotProps:U,ownerState:O,className:(0,Ne.A)(L.badge,null==U?void 0:U.className)});return(0,$e.jsxs)(F,(0,je.A)({},B,{children:[f,(0,$e.jsx)(z,(0,je.A)({},$,{children:M}))]}))})),$E=BE;var WE=n(5537),HE=n(9608);function qE(e){return(0,tT.Ay)("MuiButton",e)}const GE=(0,Ke.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const KE=r.createContext({});const YE=r.createContext(void 0),QE=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],XE=e=>(0,je.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),JE=(0,Xk.Ay)(kE,{shouldForwardProp:e=>(0,HE.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,Jk.A)(n.color)}`],t[`size${(0,Jk.A)(n.size)}`],t[`${n.variant}Size${(0,Jk.A)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,o;const i="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,je.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,je.A)({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Zk.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Zk.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:`1px solid ${(t.vars||t).palette[n.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Zk.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,je.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${GE.focusVisible}`]:(0,je.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${GE.disabled}`]:(0,je.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[n.color].mainChannel} / 0.5)`:`1px solid ${(0,Zk.X4)(t.palette[n.color].main,.5)}`},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(o=t.palette).getContrastText)?void 0:r.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${GE.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${GE.disabled}`]:{boxShadow:"none"}}})),ZE=(0,Xk.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${(0,Jk.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},XE(t))})),eI=(0,Xk.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${(0,Jk.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},XE(t))})),tI=r.forwardRef((function(e,t){const n=r.useContext(KE),o=r.useContext(YE),i=(0,WE.A)(n,e),s=(0,Ze.b)({props:i,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:f,focusVisibleClassName:m,fullWidth:g=!1,size:v="medium",startIcon:y,type:b,variant:w="text"}=s,x=(0,De.A)(s,QE),A=(0,je.A)({},s,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:g,size:v,type:b,variant:w}),S=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,classes:s}=e,a={root:["root",i,`${i}${(0,Jk.A)(t)}`,`size${(0,Jk.A)(o)}`,`${i}Size${(0,Jk.A)(o)}`,`color${(0,Jk.A)(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,Jk.A)(o)}`],endIcon:["icon","endIcon",`iconSize${(0,Jk.A)(o)}`]},l=(0,Qk.A)(a,qE,s);return(0,je.A)({},s,l)})(A),_=y&&(0,$e.jsx)(ZE,{className:S.startIcon,ownerState:A,children:y}),C=f&&(0,$e.jsx)(eI,{className:S.endIcon,ownerState:A,children:f}),k=o||"";return(0,$e.jsxs)(JE,(0,je.A)({ownerState:A,className:(0,Ne.A)(n.className,S.root,u,k),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:(0,Ne.A)(S.focusVisible,m),ref:t,type:b},x,{classes:S,children:[_,a,C]}))})),nI=tI;var rI=n(7402);const oI=r.createContext({});function iI(e){return(0,tT.Ay)("MuiList",e)}(0,Ke.A)("MuiList",["root","padding","dense","subheader"]);const sI=["children","className","component","dense","disablePadding","subheader"],aI=(0,Xk.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,je.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),lI=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiList"}),{children:o,className:i,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=n,u=(0,De.A)(n,sI),d=r.useMemo((()=>({dense:a})),[a]),h=(0,je.A)({},n,{component:s,dense:a,disablePadding:l}),p=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e,i={root:["root",!n&&"padding",r&&"dense",o&&"subheader"]};return(0,Qk.A)(i,iI,t)})(h);return(0,$e.jsx)(oI.Provider,{value:d,children:(0,$e.jsxs)(aI,(0,je.A)({as:s,className:(0,Ne.A)(p.root,i),ref:t,ownerState:h},u,{children:[c,o]}))})})),cI=lI;function uI(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const dI=uI;var hI=n(9044);const pI=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function fI(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function mI(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function gI(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function vI(e,t,n,r,o,i){let s=!1,a=o(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&gI(a,i)&&!t)return a.focus(),!0;a=o(e,a,n)}return!1}const yI=r.forwardRef((function(e,t){const{actions:n,autoFocus:o=!1,autoFocusItem:i=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=(0,De.A)(e,pI),p=r.useRef(null),f=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,hI.A)((()=>{o&&p.current.focus()}),[o]),r.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&r){const t=`${dI((0,rI.A)(e))}px`;p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width=`calc(100% + ${t})`}return p.current}})),[]);const m=(0,HT.A)(p,t);let g=-1;r.Children.forEach(s,((e,t)=>{r.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=t),g===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=s.length&&(g=-1))):g===t&&(g+=1,g>=s.length&&(g=-1))}));const v=r.Children.map(s,((e,t)=>{if(t===g){const t={};return i&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),r.cloneElement(e,t)}return e}));return(0,$e.jsx)(cI,(0,je.A)({role:"menu",ref:m,className:a,onKeyDown:e=>{const t=p.current,n=e.key,r=(0,rI.A)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),vI(t,r,c,l,fI);else if("ArrowUp"===n)e.preventDefault(),vI(t,r,c,l,mI);else if("Home"===n)e.preventDefault(),vI(t,null,c,l,fI);else if("End"===n)e.preventDefault(),vI(t,null,c,l,mI);else if(1===n.length){const o=f.current,i=n.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(i);const a=r&&!o.repeating&&gI(r,o);o.previousKeyMatched&&(a||vI(t,r,!1,l,fI,o))?e.preventDefault():o.previousKeyMatched=!1}u&&u(e)},tabIndex:o?0:-1},h,{children:v}))})),bI=yI;var wI=n(1209),xI=n(827);function AI(e){var t;return parseInt(r.version,10)>=19?(null==e||null==(t=e.props)?void 0:t.ref)||null:(null==e?void 0:e.ref)||null}const SI=!1;var _I=function(e){return e.scrollTop},CI="unmounted",kI="exited",TI="entering",EI="entered",II="exiting",PI=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=kI,r.appearStatus=TI):o=EI:o=t.unmountOnExit||t.mountOnEnter?CI:kI,r.state={status:o},r.nextCallback=null,r}QT(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===CI?{status:kI}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==TI&&n!==EI&&(t=TI):n!==TI&&n!==EI||(t=II)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===TI){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:we.findDOMNode(this);n&&_I(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===kI&&this.setState({status:CI})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[we.findDOMNode(this),r],i=o[0],s=o[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||SI?this.safeSetState({status:EI},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:TI},(function(){t.props.onEntering(i,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:EI},(function(){t.props.onEntered(i,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:we.findDOMNode(this);t&&!SI?(this.props.onExit(r),this.safeSetState({status:II},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:kI},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:kI},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:we.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===CI)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,De.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(XT.Provider,{value:null},"function"===typeof n?n(e,o):r.cloneElement(r.Children.only(n),o))},t}(r.Component);function RI(){}PI.contextType=XT,PI.propTypes={},PI.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:RI,onEntering:RI,onEntered:RI,onExit:RI,onExiting:RI,onExited:RI},PI.UNMOUNTED=CI,PI.EXITED=kI,PI.ENTERING=TI,PI.ENTERED=EI,PI.EXITING=II;const jI=PI;function DI(){const e=Be(nt.A);return e[Ge.A]||e}const NI=e=>e.scrollTop;function MI(e,t){var n,r;const{timeout:o,easing:i,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof o?o:o[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof i?i[t.mode]:i,delay:s.transitionDelay}}const OI=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function LI(e){return`scale(${e}, ${e**2})`}const FI={entering:{opacity:1,transform:LI(1)},entered:{opacity:1,transform:"none"}},zI="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),VI=r.forwardRef((function(e,t){const{addEndListener:n,appear:o=!0,children:i,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:g=jI}=e,v=(0,De.A)(e,OI),y=(0,iE.A)(),b=r.useRef(),w=DI(),x=r.useRef(null),A=(0,HT.A)(x,AI(i),t),S=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},_=S(u),C=S(((e,t)=>{NI(e);const{duration:n,delay:r,easing:o}=MI({style:f,timeout:m,easing:s},{mode:"enter"});let i;"auto"===m?(i=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=n,e.style.transition=[w.transitions.create("opacity",{duration:i,delay:r}),w.transitions.create("transform",{duration:zI?i:.666*i,delay:r,easing:o})].join(","),l&&l(e,t)})),k=S(c),T=S(p),E=S((e=>{const{duration:t,delay:n,easing:r}=MI({style:f,timeout:m,easing:s},{mode:"exit"});let o;"auto"===m?(o=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=t,e.style.transition=[w.transitions.create("opacity",{duration:o,delay:n}),w.transitions.create("transform",{duration:zI?o:.666*o,delay:zI?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=LI(.75),d&&d(e)})),I=S(h);return(0,$e.jsx)(g,(0,je.A)({appear:o,in:a,nodeRef:x,onEnter:C,onEntered:k,onEntering:_,onExit:E,onExited:I,onExiting:T,addEndListener:e=>{"auto"===m&&y.start(b.current||0,e),n&&n(x.current,e)},timeout:"auto"===m?null:m},v,{children:(e,t)=>r.cloneElement(i,(0,je.A)({style:(0,je.A)({opacity:0,transform:LI(.75),visibility:"exited"!==e||a?void 0:"hidden"},FI[e],f,i.props.style),ref:A},t))}))}));VI.muiSupportAuto=!0;const UI=VI;var BI=n(6907);const $I=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function WI(e){const t=[],n=[];return Array.from(e.querySelectorAll($I)).forEach(((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function HI(){return!0}const qI=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:i=!1,getTabbable:s=WI,isEnabled:a=HI,open:l}=e,c=r.useRef(!1),u=r.useRef(null),d=r.useRef(null),h=r.useRef(null),p=r.useRef(null),f=r.useRef(!1),m=r.useRef(null),g=(0,xT.A)(AI(t),m),v=r.useRef(null);r.useEffect((()=>{l&&m.current&&(f.current=!n)}),[n,l]),r.useEffect((()=>{if(!l||!m.current)return;const e=(0,BI.A)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{i||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),r.useEffect((()=>{if(!l||!m.current)return;const e=(0,BI.A)(m.current),t=t=>{v.current=t,!o&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,i;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(i=v.current)?void 0:i.key)),t=n[0],o=n[n.length-1];"string"!==typeof t&&"string"!==typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,o,i,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,$e.jsxs)(r.Fragment,{children:[(0,$e.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),r.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,$e.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})};var GI=n(1399),KI=n(5587);const YI=r.forwardRef((function(e,t){const{children:n,container:o,disablePortal:i=!1}=e,[s,a]=r.useState(null),l=(0,xT.A)(r.isValidElement(n)?AI(n):null,t);if((0,GI.A)((()=>{i||a(function(e){return"function"===typeof e?e():e}(o)||document.body)}),[o,i]),(0,GI.A)((()=>{if(s&&!i)return(0,KI.A)(t,s),()=>{(0,KI.A)(t,null)}}),[t,s,i]),i){if(r.isValidElement(n)){const e={ref:l};return r.cloneElement(n,e)}return(0,$e.jsx)(r.Fragment,{children:n})}return(0,$e.jsx)(r.Fragment,{children:s?we.createPortal(n,s):s})})),QI=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],XI={entering:{opacity:1},entered:{opacity:1}},JI=r.forwardRef((function(e,t){const n=DI(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:v=o,TransitionComponent:y=jI}=e,b=(0,De.A)(e,QI),w=r.useRef(null),x=(0,HT.A)(w,AI(a),t),A=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},S=A(h),_=A(((e,t)=>{NI(e);const r=MI({style:g,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),C=A(d),k=A(m),T=A((e=>{const t=MI({style:g,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),E=A(f);return(0,$e.jsx)(y,(0,je.A)({appear:s,in:c,nodeRef:w,onEnter:_,onEntered:C,onEntering:S,onExit:T,onExited:E,onExiting:k,addEndListener:e=>{i&&i(w.current,e)},timeout:v},b,{children:(e,t)=>r.cloneElement(a,(0,je.A)({style:(0,je.A)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},XI[e],g,a.props.style),ref:x},t))}))})),ZI=JI;function eP(e){return(0,tT.Ay)("MuiBackdrop",e)}(0,Ke.A)("MuiBackdrop",["root","invisible"]);const tP=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],nP=(0,Xk.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,je.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),rP=r.forwardRef((function(e,t){var n,r,o;const i=(0,Ze.b)({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:c={},componentsProps:u={},invisible:d=!1,open:h,slotProps:p={},slots:f={},TransitionComponent:m=ZI,transitionDuration:g}=i,v=(0,De.A)(i,tP),y=(0,je.A)({},i,{component:l,invisible:d}),b=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,Qk.A)(r,eP,t)})(y),w=null!=(n=p.root)?n:u.root;return(0,$e.jsx)(m,(0,je.A)({in:h,timeout:g},v,{children:(0,$e.jsx)(nP,(0,je.A)({"aria-hidden":!0},w,{as:null!=(r=null!=(o=f.root)?o:c.Root)?r:l,className:(0,Ne.A)(b.root,a,null==w?void 0:w.className),ownerState:(0,je.A)({},y,null==w?void 0:w.ownerState),classes:b,ref:t,children:s}))}))})),oP=rP;var iP=n(2529),sP=n(5511),aP=n(8635);function lP(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function cP(e){return parseInt((0,aP.A)(e).getComputedStyle(e).paddingRight,10)||0}function uP(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===i.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&lP(e,o)}))}function dP(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function hP(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,BI.A)(e);return t.body===e?(0,aP.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=uI((0,BI.A)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${cP(r)+e}px`;const t=(0,BI.A)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${cP(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,BI.A)(r).body;else{const t=r.parentElement,n=(0,aP.A)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const pP=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&lP(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);uP(t,e.mount,e.modalRef,r,!0);const o=dP(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=dP(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=hP(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=dP(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&lP(e.modalRef,t),uP(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&lP(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const fP=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,manager:i=pP,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:u,open:d,rootRef:h}=e,p=r.useRef({}),f=r.useRef(null),m=r.useRef(null),g=(0,xT.A)(m,h),[v,y]=r.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const x=()=>(p.current.modalRef=m.current,p.current.mount=f.current,p.current),A=()=>{i.mount(x(),{disableScrollLock:o}),m.current&&(m.current.scrollTop=0)},S=(0,iP.A)((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||(0,BI.A)(f.current).body;i.add(x(),e),m.current&&A()})),_=r.useCallback((()=>i.isTopModal(x())),[i]),C=(0,iP.A)((e=>{f.current=e,e&&(d&&_()?A():m.current&&lP(m.current,w))})),k=r.useCallback((()=>{i.remove(x(),w)}),[w,i]);r.useEffect((()=>()=>{k()}),[k]),r.useEffect((()=>{d?S():b&&s||k()}),[d,k,b,s,S]);const T=e=>t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),"Escape"===t.key&&229!==t.which&&_()&&(n||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},E=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=CT(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,je.A)({},n,t);return(0,je.A)({role:"presentation"},r,{onKeyDown:T(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,je.A)({"aria-hidden":!0},e,{onClick:E(e),open:d})},getTransitionProps:()=>({onEnter:(0,sP.A)((()=>{y(!1),a&&a()}),null==c?void 0:c.props.onEnter),onExited:(0,sP.A)((()=>{y(!0),l&&l(),s&&k()}),null==c?void 0:c.props.onExited)}),rootRef:g,portalRef:C,isTopModal:_,exited:v,hasTransition:b}};function mP(e){return(0,tT.Ay)("MuiModal",e)}(0,Ke.A)("MuiModal",["root","hidden","backdrop"]);const gP=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],vP=(0,Xk.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),yP=(0,Xk.Ay)(oP,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),bP=r.forwardRef((function(e,t){var n,o,i,s,a,l;const c=(0,Ze.b)({name:"MuiModal",props:e}),{BackdropComponent:u=yP,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:f,container:m,component:g,components:v={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:x=!1,disablePortal:A=!1,disableRestoreFocus:S=!1,disableScrollLock:_=!1,hideBackdrop:C=!1,keepMounted:k=!1,onBackdropClick:T,open:E,slotProps:I,slots:P}=c,R=(0,De.A)(c,gP),j=(0,je.A)({},c,{closeAfterTransition:p,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:x,disablePortal:A,disableRestoreFocus:S,disableScrollLock:_,hideBackdrop:C,keepMounted:k}),{getRootProps:D,getBackdropProps:N,getTransitionProps:M,portalRef:O,isTopModal:L,exited:F,hasTransition:z}=fP((0,je.A)({},j,{rootRef:t})),V=(0,je.A)({},j,{exited:F}),U=(e=>{const{open:t,exited:n,classes:r}=e,o={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,Qk.A)(o,mP,r)})(V),B={};if(void 0===f.props.tabIndex&&(B.tabIndex="-1"),z){const{onEnter:e,onExited:t}=M();B.onEnter=e,B.onExited=t}const $=null!=(n=null!=(o=null==P?void 0:P.root)?o:v.Root)?n:vP,W=null!=(i=null!=(s=null==P?void 0:P.backdrop)?s:v.Backdrop)?i:u,H=null!=(a=null==I?void 0:I.root)?a:y.root,q=null!=(l=null==I?void 0:I.backdrop)?l:y.backdrop,G=ME({elementType:$,externalSlotProps:H,externalForwardedProps:R,getSlotProps:D,additionalProps:{ref:t,as:g},ownerState:V,className:(0,Ne.A)(h,null==H?void 0:H.className,null==U?void 0:U.root,!V.open&&V.exited&&(null==U?void 0:U.hidden))}),K=ME({elementType:W,externalSlotProps:q,additionalProps:d,getSlotProps:e=>N((0,je.A)({},e,{onClick:t=>{T&&T(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,Ne.A)(null==q?void 0:q.className,null==d?void 0:d.className,null==U?void 0:U.backdrop),ownerState:V});return k||E||z&&!F?(0,$e.jsx)(YI,{ref:O,container:m,disablePortal:A,children:(0,$e.jsxs)($,(0,je.A)({},G,{children:[!C&&u?(0,$e.jsx)(W,(0,je.A)({},K)):null,(0,$e.jsx)(qI,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:S,isEnabled:L,open:E,children:r.cloneElement(f,B)})]}))}):null})),wP=bP;function xP(e){return(0,tT.Ay)("MuiPopover",e)}(0,Ke.A)("MuiPopover",["root","paper"]);const AP=["onEntering"],SP=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],_P=["slotProps"];function CP(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function kP(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function TP(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function EP(e){return"function"===typeof e?e():e}const IP=(0,Xk.Ay)(wP,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),PP=(0,Xk.Ay)(sT,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),RP=r.forwardRef((function(e,t){var n,o,i;const s=(0,Ze.b)({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:f,elevation:m=8,marginThreshold:g=16,open:v,PaperProps:y={},slots:b,slotProps:w,transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:A=UI,transitionDuration:S="auto",TransitionProps:{onEntering:_}={},disableScrollLock:C=!1}=s,k=(0,De.A)(s.TransitionProps,AP),T=(0,De.A)(s,SP),E=null!=(n=null==w?void 0:w.paper)?n:y,I=r.useRef(),P=(0,HT.A)(I,E.ref),R=(0,je.A)({},s,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:E,transformOrigin:x,TransitionComponent:A,transitionDuration:S,TransitionProps:k}),j=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"],paper:["paper"]},xP,t)})(R),D=r.useCallback((()=>{if("anchorPosition"===d)return u;const e=EP(l),t=(e&&1===e.nodeType?e:(0,rI.A)(I.current).body).getBoundingClientRect();return{top:t.top+CP(t,c.vertical),left:t.left+kP(t,c.horizontal)}}),[l,c.horizontal,c.vertical,u,d]),N=r.useCallback((e=>({vertical:CP(e,x.vertical),horizontal:kP(e,x.horizontal)})),[x.horizontal,x.vertical]),M=r.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=N(t);if("none"===d)return{top:null,left:null,transformOrigin:TP(n)};const r=D();let o=r.top-n.vertical,i=r.left-n.horizontal;const s=o+t.height,a=i+t.width,c=(0,xI.A)(EP(l)),u=c.innerHeight-g,h=c.innerWidth-g;if(null!==g&&o<g){const e=o-g;o-=e,n.vertical+=e}else if(null!==g&&s>u){const e=s-u;o-=e,n.vertical+=e}if(null!==g&&i<g){const e=i-g;i-=e,n.horizontal+=e}else if(a>h){const e=a-h;i-=e,n.horizontal+=e}return{top:`${Math.round(o)}px`,left:`${Math.round(i)}px`,transformOrigin:TP(n)}}),[l,d,D,N,g]),[O,L]=r.useState(v),F=r.useCallback((()=>{const e=I.current;if(!e)return;const t=M(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,L(!0)}),[M]);r.useEffect((()=>(C&&window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F))),[l,C,F]);r.useEffect((()=>{v&&F()})),r.useImperativeHandle(a,(()=>v?{updatePosition:()=>{F()}}:null),[v,F]),r.useEffect((()=>{if(!v)return;const e=(0,wI.A)((()=>{F()})),t=(0,xI.A)(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,v,F]);let z=S;"auto"!==S||A.muiSupportAuto||(z=void 0);const V=f||(l?(0,rI.A)(EP(l)).body:void 0),U=null!=(o=null==b?void 0:b.root)?o:IP,B=null!=(i=null==b?void 0:b.paper)?i:PP,$=ME({elementType:B,externalSlotProps:(0,je.A)({},E,{style:O?E.style:(0,je.A)({},E.style,{opacity:0})}),additionalProps:{elevation:m,ref:P},ownerState:R,className:(0,Ne.A)(j.paper,null==E?void 0:E.className)}),W=ME({elementType:U,externalSlotProps:(null==w?void 0:w.root)||{},externalForwardedProps:T,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:V,open:v},ownerState:R,className:(0,Ne.A)(j.root,p)}),{slotProps:H}=W,q=(0,De.A)(W,_P);return(0,$e.jsx)(U,(0,je.A)({},q,!AT(U)&&{slotProps:H,disableScrollLock:C},{children:(0,$e.jsx)(A,(0,je.A)({appear:!0,in:v,onEntering:(e,t)=>{_&&_(e,t),F()},onExited:()=>{L(!1)},timeout:z},k,{children:(0,$e.jsx)(B,(0,je.A)({},$,{children:h}))}))}))})),jP=RP;function DP(e){return(0,tT.Ay)("MuiMenu",e)}(0,Ke.A)("MuiMenu",["root","paper","list"]);const NP=["onEntering"],MP=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],OP={vertical:"top",horizontal:"right"},LP={vertical:"top",horizontal:"left"},FP=(0,Xk.Ay)(jP,{shouldForwardProp:e=>(0,HE.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),zP=(0,Xk.Ay)(PP,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),VP=(0,Xk.Ay)(bI,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),UP=r.forwardRef((function(e,t){var n,o;const i=(0,Ze.b)({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:f,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:y={},slotProps:b={}}=i,w=(0,De.A)(i.TransitionProps,NP),x=(0,De.A)(i,MP),A=Vk(),S=(0,je.A)({},i,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:p,transitionDuration:m,TransitionProps:w,variant:v}),_=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"],paper:["paper"],list:["list"]},DP,t)})(S),C=s&&!c&&h,k=r.useRef(null);let T=-1;r.Children.map(a,((e,t)=>{r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===T)&&(T=t))}));const E=null!=(n=y.paper)?n:zP,I=null!=(o=b.paper)?o:p,P=ME({elementType:y.root,externalSlotProps:b.root,ownerState:S,className:[_.root,l]}),R=ME({elementType:E,externalSlotProps:I,ownerState:S,className:_.paper});return(0,$e.jsx)(FP,(0,je.A)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?OP:LP,slots:{paper:E,root:y.root},slotProps:{root:P,paper:R},open:h,ref:t,transitionDuration:m,TransitionProps:(0,je.A)({onEntering:(e,t)=>{k.current&&k.current.adjustStyleForScrollbar(e,{direction:A?"rtl":"ltr"}),g&&g(e,t)}},w),ownerState:S},x,{classes:f,children:(0,$e.jsx)(VP,(0,je.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:k,autoFocus:s&&(-1===T||c),autoFocusItem:C,variant:v},u,{className:(0,Ne.A)(_.list,u.className),children:a}))}))})),BP=UP;function $P(e){return(0,tT.Ay)("MuiDivider",e)}const WP=(0,Ke.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function HP(e){return(0,tT.Ay)("MuiListItemIcon",e)}const qP=(0,Ke.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);function GP(e){return(0,tT.Ay)("MuiListItemText",e)}const KP=(0,Ke.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function YP(e){return(0,tT.Ay)("MuiMenuItem",e)}const QP=(0,Ke.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),XP=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],JP=(0,Xk.Ay)(kE,{shouldForwardProp:e=>(0,HE.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${QP.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Zk.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${QP.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Zk.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${QP.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Zk.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Zk.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${QP.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${QP.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${WP.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${WP.inset}`]:{marginLeft:52},[`& .${KP.root}`]:{marginTop:0,marginBottom:0},[`& .${KP.inset}`]:{paddingLeft:36},[`& .${qP.root}`]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,je.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${qP.root} svg`]:{fontSize:"1.25rem"}}))})),ZP=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=n,p=(0,De.A)(n,XP),f=r.useContext(oI),m=r.useMemo((()=>({dense:s||f.dense||!1,disableGutters:l})),[f.dense,s,l]),g=r.useRef(null);(0,hI.A)((()=>{o&&g.current&&g.current.focus()}),[o]);const v=(0,je.A)({},n,{dense:m.dense,divider:a,disableGutters:l}),y=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:s}=e,a={root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},l=(0,Qk.A)(a,YP,s);return(0,je.A)({},s,l)})(n),b=(0,HT.A)(g,t);let w;return n.disabled||(w=void 0!==d?d:-1),(0,$e.jsx)(oI.Provider,{value:m,children:(0,$e.jsx)(JP,(0,je.A)({ref:b,role:u,tabIndex:w,component:i,focusVisibleClassName:(0,Ne.A)(y.focusVisible,c),className:(0,Ne.A)(y.root,h)},p,{ownerState:v,classes:y}))})})),eR=ZP,tR=["className"],nR=(0,Xk.Ay)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),rR=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiListItemIcon"}),{className:o}=n,i=(0,De.A)(n,tR),s=r.useContext(oI),a=(0,je.A)({},n,{alignItems:s.alignItems}),l=(e=>{const{alignItems:t,classes:n}=e,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,Qk.A)(r,HP,n)})(a);return(0,$e.jsx)(nR,(0,je.A)({className:(0,Ne.A)(l.root,o),ownerState:a,ref:t},i))})),oR=rR,iR=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],sR=(0,Xk.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${KP.primary}`]:t.primary},{[`& .${KP.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,je.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),aR=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiListItemText"}),{children:o,className:i,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=n,h=(0,De.A)(n,iR),{dense:p}=r.useContext(oI);let f=null!=l?l:o,m=u;const g=(0,je.A)({},n,{disableTypography:s,inset:a,primary:!!f,secondary:!!m,dense:p}),v=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e,s={root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,Qk.A)(s,GP,t)})(g);return null==f||f.type===WT||s||(f=(0,$e.jsx)(WT,(0,je.A)({variant:p?"body2":"body1",className:v.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:f}))),null==m||m.type===WT||s||(m=(0,$e.jsx)(WT,(0,je.A)({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},d,{children:m}))),(0,$e.jsxs)(sR,(0,je.A)({className:(0,Ne.A)(v.root,i),ownerState:g,ref:t},h,{children:[f,m]}))})),lR=aR,cR=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],uR=(0,Xk.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:(0,Zk.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{ownerState:t}=e;return(0,je.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}})}),(e=>{let{ownerState:t}=e;return(0,je.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),dR=(0,Xk.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},"vertical"===n.orientation&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})})),hR=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:i,component:s=(o?"div":"hr"),flexItem:a=!1,light:l=!1,orientation:c="horizontal",role:u=("hr"!==s?"separator":void 0),textAlign:d="center",variant:h="fullWidth"}=n,p=(0,De.A)(n,cR),f=(0,je.A)({},n,{absolute:r,component:s,flexItem:a,light:l,orientation:c,role:u,textAlign:d,variant:h}),m=(e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:s,textAlign:a,variant:l}=e,c={root:["root",t&&"absolute",l,i&&"light","vertical"===s&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]};return(0,Qk.A)(c,$P,r)})(f);return(0,$e.jsx)(uR,(0,je.A)({as:s,className:(0,Ne.A)(m.root,i),role:u,ref:t,ownerState:f},p,{children:o?(0,$e.jsx)(dR,{className:m.wrapper,ownerState:f,children:o}):null}))}));hR.muiSkipListHighlight=!0;const pR=hR,fR=(0,yT.A)((0,$e.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),mR=(0,yT.A)((0,$e.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),gR=(0,yT.A)((0,$e.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),vR=(0,yT.A)((0,$e.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),yR=()=>{const e=Z(),[t,n]=(0,r.useState)(null),{currentUser:o,logout:i}=Ek(),{unreadCount:s}=Dk(),a=()=>{n(null)};return(0,$e.jsx)($e.Fragment,{children:(0,$e.jsx)(hT,{position:"static",elevation:0,sx:{backgroundColor:"transparent",backgroundImage:"none",boxShadow:"none",borderBottom:"none",padding:"0 24px"},children:(0,$e.jsxs)(vT,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 0",minHeight:"auto"},disableGutters:!0,children:[(0,$e.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:3},children:[(0,$e.jsx)(LT,{src:"/logo.png",alt:"Side Eye",sx:{width:40,height:40,cursor:"pointer","&:hover":{opacity:.8}},onClick:()=>e("/")}),(0,$e.jsx)(WT,{variant:"h5",component:"div",sx:{fontWeight:"bold",cursor:"pointer",color:"primary.main","&:hover":{opacity:.8}},onClick:()=>e("/"),children:"SideEye"})]}),(0,$e.jsx)(Je,{sx:{display:"flex",alignItems:"center",gap:2},children:o?(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(jE,{color:s>0?"error":"inherit",onClick:()=>e("/notifications"),sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,$e.jsx)($E,{badgeContent:s,color:"error",children:(0,$e.jsx)(fR,{})})}),(0,$e.jsx)(jE,{color:"inherit",onClick:e=>{n(e.currentTarget)},sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,$e.jsx)(mR,{})})]}):(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(nI,{color:"inherit",onClick:()=>e("/login"),sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:"Login"}),(0,$e.jsx)(nI,{color:"inherit",onClick:()=>e("/register"),sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:"Register"})]})}),(0,$e.jsxs)(BP,{anchorEl:t,open:Boolean(t),onClose:a,sx:{"& .MuiPaper-root":{borderRadius:2,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",minWidth:200,border:"none"}},children:[(0,$e.jsxs)(eR,{onClick:()=>{return t="/settings",a(),void setTimeout((()=>{e(t,{replace:!0})}),50);var t},children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(gR,{})}),(0,$e.jsx)(lR,{primary:"Settings"})]}),(0,$e.jsx)(pR,{}),(0,$e.jsxs)(eR,{onClick:async()=>{await i(),a()},children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(vR,{})}),(0,$e.jsx)(lR,{children:"Logout"})]})]})]})})})};var bR=n(5501);function wR(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,WE.A)(t.components[n].defaultProps,r):r}function xR(e){let{props:t,name:n,defaultTheme:r,themeId:o}=e,i=Be(r);o&&(i=i[o]||i);return wR({theme:i,name:n,props:t})}var AR=n(7483);const SR=["ownerState"],_R=["variants"],CR=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function kR(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const TR=(0,Fe.A)(),ER=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function IR(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function PR(e){return e?(t,n)=>n[e]:null}function RR(e,t){let{ownerState:n}=t,r=(0,De.A)(t,SR);const o="function"===typeof e?e((0,je.A)({ownerState:n},r)):e;if(Array.isArray(o))return o.flatMap((e=>RR(e,(0,je.A)({ownerState:n},r))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,De.A)(o,_R);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,je.A)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,je.A)({ownerState:n},r,n)):e.style))})),t}return o}const jR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=TR,rootShouldForwardProp:r=kR,slotShouldForwardProp:o=kR}=e,i=e=>(0,Oe.A)((0,je.A)({},e,{theme:IR((0,je.A)({},e,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Me.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:d=PR(ER(l))}=s,h=(0,De.A)(s,CR),p=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,f=u||!1;let m=kR;"Root"===l||"root"===l?m=r:l?m=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=(0,Me.default)(e,(0,je.A)({shouldForwardProp:m,label:undefined},h)),v=e=>"function"===typeof e&&e.__emotion_real!==e||(0,AR.Q)(e)?r=>RR(e,(0,je.A)({},r,{theme:IR({theme:r.theme,defaultTheme:n,themeId:t})})):e,y=function(r){let o=v(r);for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];const u=l?l.map(v):[];a&&d&&u.push((e=>{const r=IR((0,je.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[a]||!r.components[a].styleOverrides)return null;const o=r.components[a].styleOverrides,i={};return Object.entries(o).forEach((t=>{let[n,o]=t;i[n]=RR(o,(0,je.A)({},e,{theme:r}))})),d(e,i)})),a&&!p&&u.push((e=>{var r;const o=IR((0,je.A)({},e,{defaultTheme:n,themeId:t}));return RR({variants:null==o||null==(r=o.components)||null==(r=r[a])?void 0:r.variants},(0,je.A)({},e,{theme:o}))})),f||u.push(i);const h=u.length-l.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const m=g(o,...u);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(y.withConfig=g.withConfig),y}}(),DR=jR,NR=["className","component","disableGutters","fixed","maxWidth","classes"],MR=(0,Fe.A)(),OR=DR("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,bR.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),LR=e=>xR({props:e,name:"MuiContainer",defaultTheme:MR});const FR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=OR,useThemeProps:n=LR,componentName:o="MuiContainer"}=e,i=t((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:`${o}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`}})})),s=r.forwardRef((function(e,t){const r=n(e),{className:s,component:a="div",disableGutters:l=!1,fixed:c=!1,maxWidth:u="lg"}=r,d=(0,De.A)(r,NR),h=(0,je.A)({},r,{component:a,disableGutters:l,fixed:c,maxWidth:u}),p=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:i}=e,s={root:["root",i&&`maxWidth${(0,bR.A)(String(i))}`,r&&"fixed",o&&"disableGutters"]};return(0,Qk.A)(s,(e=>(0,tT.Ay)(t,e)),n)})(h,o);return(0,$e.jsx)(i,(0,je.A)({as:a,ownerState:h,className:(0,Ne.A)(p.root,s),ref:t},d))}));return s}({createStyledComponent:(0,Xk.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,Jk.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,Ze.b)({props:e,name:"MuiContainer"})}),zR=FR;var VR=n(3539),UR=n(8099),BR=n(1927);const $R=["onChange","maxRows","minRows","style","value"];function WR(e){return parseInt(e,10)||0}const HR={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function qR(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const GR=r.forwardRef((function(e,t){const{onChange:n,maxRows:o,minRows:i=1,style:s,value:a}=e,l=(0,De.A)(e,$R),{current:c}=r.useRef(null!=a),u=r.useRef(null),d=(0,xT.A)(t,u),h=r.useRef(null),p=r.useRef(null),f=r.useCallback((()=>{const t=u.current,n=p.current;if(!t||!n)return;const r=(0,aP.A)(t).getComputedStyle(t);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const s=r.boxSizing,a=WR(r.paddingBottom)+WR(r.paddingTop),l=WR(r.borderBottomWidth)+WR(r.borderTopWidth),c=n.scrollHeight;n.value="x";const d=n.scrollHeight;let h=c;i&&(h=Math.max(Number(i)*d,h)),o&&(h=Math.min(Number(o)*d,h)),h=Math.max(h,d);return{outerHeightStyle:h+("border-box"===s?a+l:0),overflowing:Math.abs(h-c)<=1}}),[o,i,e.placeholder]),m=(0,iP.A)((()=>{const e=u.current,t=f();if(!e||!t||qR(t))return!1;const n=t.outerHeightStyle;return null!=h.current&&h.current!==n})),g=r.useCallback((()=>{const e=u.current,t=f();if(!e||!t||qR(t))return;const n=t.outerHeightStyle;h.current!==n&&(h.current=n,e.style.height=`${n}px`),e.style.overflow=t.overflowing?"hidden":""}),[f]),v=r.useRef(-1);(0,GI.A)((()=>{const e=(0,BR.A)(g),t=null==u?void 0:u.current;if(!t)return;const n=(0,aP.A)(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver((()=>{m()&&(r.unobserve(t),cancelAnimationFrame(v.current),g(),v.current=requestAnimationFrame((()=>{r.observe(t)})))})),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(v.current),n.removeEventListener("resize",e),r&&r.disconnect()}}),[f,g,m]),(0,GI.A)((()=>{g()}));return(0,$e.jsxs)(r.Fragment,{children:[(0,$e.jsx)("textarea",(0,je.A)({value:a,onChange:e=>{c||g(),n&&n(e)},ref:d,rows:i,style:s},l)),(0,$e.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:(0,je.A)({},HR,s,{paddingTop:0,paddingBottom:0})})]})})),KR=GR;function YR(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const QR=r.createContext(void 0);function XR(){return r.useContext(QR)}function JR(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function ZR(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(JR(e.value)&&""!==e.value||t&&JR(e.defaultValue)&&""!==e.defaultValue)}function ej(e){return(0,tT.Ay)("MuiInputBase",e)}const tj=(0,Ke.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),nj=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rj=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${(0,Jk.A)(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},oj=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ij=(0,Xk.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rj})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${tj.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,je.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),sj=(0,Xk.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:oj})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,o=(0,je.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,je.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${tj.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${tj.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),aj=(0,$e.jsx)(rt,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),lj=r.forwardRef((function(e,t){var n;const o=(0,Ze.b)({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,fullWidth:m=!1,id:g,inputComponent:v="input",inputProps:y={},inputRef:b,maxRows:w,minRows:x,multiline:A=!1,name:S,onBlur:_,onChange:C,onClick:k,onFocus:T,onKeyDown:E,onKeyUp:I,placeholder:P,readOnly:R,renderSuffix:j,rows:D,slotProps:N={},slots:M={},startAdornment:O,type:L="text",value:F}=o,z=(0,De.A)(o,nj),V=null!=y.value?y.value:F,{current:U}=r.useRef(null!=V),B=r.useRef(),$=r.useCallback((e=>{0}),[]),W=(0,HT.A)(B,b,y.ref,$),[H,q]=r.useState(!1),G=XR();const K=YR({props:o,muiFormControl:G,states:["color","disabled","error","hiddenLabel","size","required","filled"]});K.focused=G?G.focused:H,r.useEffect((()=>{!G&&h&&H&&(q(!1),_&&_())}),[G,h,H,_]);const Y=G&&G.onFilled,Q=G&&G.onEmpty,X=r.useCallback((e=>{ZR(e)?Y&&Y():Q&&Q()}),[Y,Q]);(0,hI.A)((()=>{U&&X({value:V})}),[V,X,U]);r.useEffect((()=>{X(B.current)}),[]);let J=v,Z=y;A&&"input"===J&&(Z=D?(0,je.A)({type:void 0,minRows:D,maxRows:D},Z):(0,je.A)({type:void 0,maxRows:w,minRows:x},Z),J=KR);r.useEffect((()=>{G&&G.setAdornedStart(Boolean(O))}),[G,O]);const ee=(0,je.A)({},o,{color:K.color||"primary",disabled:K.disabled,endAdornment:f,error:K.error,focused:K.focused,formControl:G,fullWidth:m,hiddenLabel:K.hiddenLabel,multiline:A,size:K.size,startAdornment:O,type:L}),te=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e,m={root:["root",`color${(0,Jk.A)(n)}`,r&&"disabled",o&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&`size${(0,Jk.A)(h)}`,u&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return(0,Qk.A)(m,ej,t)})(ee),ne=M.root||c.Root||ij,re=N.root||u.root||{},oe=M.input||c.Input||sj;return Z=(0,je.A)({},Z,null!=(n=N.input)?n:u.input),(0,$e.jsxs)(r.Fragment,{children:[!p&&aj,(0,$e.jsxs)(ne,(0,je.A)({},re,!AT(ne)&&{ownerState:(0,je.A)({},ee,re.ownerState)},{ref:t,onClick:e=>{B.current&&e.currentTarget===e.target&&B.current.focus(),k&&k(e)}},z,{className:(0,Ne.A)(te.root,re.className,l,R&&"MuiInputBase-readOnly"),children:[O,(0,$e.jsx)(QR.Provider,{value:null,children:(0,$e.jsx)(oe,(0,je.A)({ownerState:ee,"aria-invalid":K.error,"aria-describedby":i,autoComplete:s,autoFocus:a,defaultValue:d,disabled:K.disabled,id:g,onAnimationStart:e=>{X("mui-auto-fill-cancel"===e.animationName?B.current:{value:"x"})},name:S,placeholder:P,readOnly:R,required:K.required,rows:D,value:V,onKeyDown:E,onKeyUp:I,type:L},Z,!AT(oe)&&{as:J,ownerState:(0,je.A)({},ee,Z.ownerState)},{ref:W,className:(0,Ne.A)(te.input,Z.className,R&&"MuiInputBase-readOnly"),onBlur:e=>{_&&_(e),y.onBlur&&y.onBlur(e),G&&G.onBlur?G.onBlur(e):q(!1)},onChange:function(e){if(!U){const t=e.target||B.current;if(null==t)throw new Error((0,UR.A)(1));X({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.onChange&&y.onChange(e,...n),C&&C(e,...n)},onFocus:e=>{K.disabled?e.stopPropagation():(T&&T(e),y.onFocus&&y.onFocus(e),G&&G.onFocus?G.onFocus(e):q(!0))}}))}),f,j?j((0,je.A)({},K,{startAdornment:O})):null]}))]})})),cj=lj;function uj(e){return(0,tT.Ay)("MuiInput",e)}const dj=(0,je.A)({},tj,(0,Ke.A)("MuiInput",["root","underline","input"])),hj=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],pj=(0,Xk.Ay)(ij,{shouldForwardProp:e=>(0,HE.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...rj(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),(0,je.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dj.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dj.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dj.disabled}, .${dj.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${dj.disabled}:before`]:{borderBottomStyle:"dotted"}})})),fj=(0,Xk.Ay)(sj,{name:"MuiInput",slot:"Input",overridesResolver:oj})({}),mj=r.forwardRef((function(e,t){var n,r,o,i;const s=(0,Ze.b)({props:e,name:"MuiInput"}),{disableUnderline:a,components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:f={},type:m="text"}=s,g=(0,De.A)(s,hj),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,Qk.A)(r,uj,t);return(0,je.A)({},t,o)})(s),y={root:{ownerState:{disableUnderline:a}}},b=(null!=p?p:c)?(0,AR.A)(null!=p?p:c,y):y,w=null!=(n=null!=(r=f.root)?r:l.Root)?n:pj,x=null!=(o=null!=(i=f.input)?i:l.Input)?o:fj;return(0,$e.jsx)(cj,(0,je.A)({slots:{root:w,input:x},slotProps:b,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:m},g,{classes:v}))}));mj.muiName="Input";const gj=mj;function vj(e){return(0,tT.Ay)("MuiFilledInput",e)}const yj=(0,je.A)({},tj,(0,Ke.A)("MuiFilledInput",["root","underline","input"])),bj=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],wj=(0,Xk.Ay)(ij,{shouldForwardProp:e=>(0,HE.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...rj(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const o="light"===t.palette.mode,i=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,je.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${yj.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${yj.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yj.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yj.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yj.disabled}, .${yj.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${yj.disabled}:before`]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,je.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),xj=(0,Xk.Ay)(sj,{name:"MuiFilledInput",slot:"Input",overridesResolver:oj})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),Aj=r.forwardRef((function(e,t){var n,r,o,i;const s=(0,Ze.b)({props:e,name:"MuiFilledInput"}),{components:a={},componentsProps:l,fullWidth:c=!1,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:p={},type:f="text"}=s,m=(0,De.A)(s,bj),g=(0,je.A)({},s,{fullWidth:c,inputComponent:u,multiline:d,type:f}),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,Qk.A)(r,vj,t);return(0,je.A)({},t,o)})(s),y={root:{ownerState:g},input:{ownerState:g}},b=(null!=h?h:l)?(0,AR.A)(y,null!=h?h:l):y,w=null!=(n=null!=(r=p.root)?r:a.Root)?n:wj,x=null!=(o=null!=(i=p.input)?i:a.Input)?o:xj;return(0,$e.jsx)(cj,(0,je.A)({slots:{root:w,input:x},componentsProps:b,fullWidth:c,inputComponent:u,multiline:d,ref:t,type:f},m,{classes:v}))}));Aj.muiName="Input";const Sj=Aj;var _j;const Cj=["children","classes","className","label","notched"],kj=(0,Xk.Ay)("fieldset",{shouldForwardProp:HE.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Tj=(0,Xk.Ay)("legend",{shouldForwardProp:HE.A})((e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,je.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Ej(e){return(0,tT.Ay)("MuiOutlinedInput",e)}const Ij=(0,je.A)({},tj,(0,Ke.A)("MuiOutlinedInput",["root","notchedOutline","input"])),Pj=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Rj=(0,Xk.Ay)(ij,{shouldForwardProp:e=>(0,HE.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:rj})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,je.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ij.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ij.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Ij.focused} .${Ij.notchedOutline}`]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},[`&.${Ij.error} .${Ij.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ij.disabled} .${Ij.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,je.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),jj=(0,Xk.Ay)((function(e){const{className:t,label:n,notched:r}=e,o=(0,De.A)(e,Cj),i=null!=n&&""!==n,s=(0,je.A)({},e,{notched:r,withLabel:i});return(0,$e.jsx)(kj,(0,je.A)({"aria-hidden":!0,className:t,ownerState:s},o,{children:(0,$e.jsx)(Tj,{ownerState:s,children:i?(0,$e.jsx)("span",{children:n}):_j||(_j=(0,$e.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}})),Dj=(0,Xk.Ay)(sj,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:oj})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Nj=r.forwardRef((function(e,t){var n,o,i,s,a;const l=(0,Ze.b)({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:f,slots:m={},type:g="text"}=l,v=(0,De.A)(l,Pj),y=(e=>{const{classes:t}=e,n=(0,Qk.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ej,t);return(0,je.A)({},t,n)})(l),b=XR(),w=YR({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x=(0,je.A)({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:b,fullWidth:u,hiddenLabel:w.hiddenLabel,multiline:p,size:w.size,type:g}),A=null!=(n=null!=(o=m.root)?o:c.Root)?n:Rj,S=null!=(i=null!=(s=m.input)?s:c.Input)?i:Dj;return(0,$e.jsx)(cj,(0,je.A)({slots:{root:A,input:S},renderSuffix:e=>(0,$e.jsx)(jj,{ownerState:x,className:y.notchedOutline,label:null!=h&&""!==h&&w.required?a||(a=(0,$e.jsxs)(r.Fragment,{children:[h,"\u2009","*"]})):h,notched:"undefined"!==typeof f?f:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:t,type:g},v,{classes:(0,je.A)({},y,{notchedOutline:null})}))}));Nj.muiName="Input";const Mj=Nj;function Oj(e){return(0,tT.Ay)("MuiFormLabel",e)}const Lj=(0,Ke.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Fj=["children","className","color","component","disabled","error","filled","focused","required"],zj=(0,Xk.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,je.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Lj.focused}`]:{color:(t.vars||t).palette[n.color].main},[`&.${Lj.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Lj.error}`]:{color:(t.vars||t).palette.error.main}})})),Vj=(0,Xk.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${Lj.error}`]:{color:(t.vars||t).palette.error.main}}})),Uj=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiFormLabel"}),{children:r,className:o,component:i="label"}=n,s=(0,De.A)(n,Fj),a=YR({props:n,muiFormControl:XR(),states:["color","required","focused","disabled","error","filled"]}),l=(0,je.A)({},n,{color:a.color||"primary",component:i,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:s,required:a}=e,l={root:["root",`color${(0,Jk.A)(n)}`,o&&"disabled",i&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return(0,Qk.A)(l,Oj,t)})(l);return(0,$e.jsxs)(zj,(0,je.A)({as:i,ownerState:l,className:(0,Ne.A)(c.root,o),ref:t},s,{children:[r,a.required&&(0,$e.jsxs)(Vj,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),Bj=Uj;function $j(e){return(0,tT.Ay)("MuiInputLabel",e)}(0,Ke.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Wj=["disableAnimation","margin","shrink","variant","className"],Hj=(0,Xk.Ay)(Bj,{shouldForwardProp:e=>(0,HE.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Lj.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,je.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,je.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,je.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),qj=r.forwardRef((function(e,t){const n=(0,Ze.b)({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:o,className:i}=n,s=(0,De.A)(n,Wj),a=XR();let l=o;"undefined"===typeof l&&a&&(l=a.filled||a.focused||a.adornedStart);const c=YR({props:n,muiFormControl:a,states:["size","variant","required","focused"]}),u=(0,je.A)({},n,{disableAnimation:r,formControl:a,shrink:l,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),d=(e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:i,variant:s,required:a}=e,l={root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&"normal"!==r&&`size${(0,Jk.A)(r)}`,s],asterisk:[a&&"asterisk"]},c=(0,Qk.A)(l,$j,t);return(0,je.A)({},t,c)})(u);return(0,$e.jsx)(Hj,(0,je.A)({"data-shrink":l,ownerState:u,ref:t,className:(0,Ne.A)(d.root,i)},s,{classes:d}))})),Gj=qj;var Kj=n(3828);function Yj(e){return(0,tT.Ay)("MuiFormControl",e)}(0,Ke.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Qj=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Xj=(0,Xk.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,je.A)({},t.root,t[`margin${(0,Jk.A)(n.margin)}`],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Jj=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiFormControl"}),{children:o,className:i,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:m="medium",variant:g="outlined"}=n,v=(0,De.A)(n,Qj),y=(0,je.A)({},n,{color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:m,variant:g}),b=(e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root","none"!==n&&`margin${(0,Jk.A)(n)}`,r&&"fullWidth"]};return(0,Qk.A)(o,Yj,t)})(y),[w,x]=r.useState((()=>{let e=!1;return o&&r.Children.forEach(o,(t=>{if(!(0,Kj.A)(t,["Input","Select"]))return;const n=(0,Kj.A)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[A,S]=r.useState((()=>{let e=!1;return o&&r.Children.forEach(o,(t=>{(0,Kj.A)(t,["Input","Select"])&&(ZR(t.props,!0)||ZR(t.props.inputProps,!0))&&(e=!0)})),e})),[_,C]=r.useState(!1);l&&_&&C(!1);const k=void 0===u||l?_:u;let T;const E=r.useMemo((()=>({adornedStart:w,setAdornedStart:x,color:s,disabled:l,error:c,filled:A,focused:k,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{C(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{C(!0)},registerEffect:T,required:f,variant:g})),[w,s,l,c,A,k,d,h,T,f,m,g]);return(0,$e.jsx)(QR.Provider,{value:E,children:(0,$e.jsx)(Xj,(0,je.A)({as:a,ownerState:y,className:(0,Ne.A)(b.root,i),ref:t},v,{children:o}))})})),Zj=Jj;function eD(e){return(0,tT.Ay)("MuiFormHelperText",e)}const tD=(0,Ke.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var nD;const rD=["children","className","component","disabled","error","filled","focused","margin","required","variant"],oD=(0,Xk.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${(0,Jk.A)(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${tD.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${tD.error}`]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),iD=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:i="p"}=n,s=(0,De.A)(n,rD),a=YR({props:n,muiFormControl:XR(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,je.A)({},n,{component:i,contained:"filled"===a.variant||"outlined"===a.variant,variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:s,focused:a,required:l}=e,c={root:["root",o&&"disabled",i&&"error",r&&`size${(0,Jk.A)(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return(0,Qk.A)(c,eD,t)})(l);return(0,$e.jsx)(oD,(0,je.A)({as:i,ownerState:l,className:(0,Ne.A)(c.root,o),ref:t},s,{children:" "===r?nD||(nD=(0,$e.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),sD=iD;function aD(e){return(0,tT.Ay)("MuiNativeSelect",e)}const lD=(0,Ke.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),cD=["className","disabled","error","IconComponent","inputRef","variant"],uD=e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,je.A)({},n.vars?{backgroundColor:`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${lD.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},dD=(0,Xk.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:HE.A,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${lD.multiple}`]:t.multiple}]}})(uD),hD=e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${lD.disabled}`]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},pD=(0,Xk.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,Jk.A)(n.variant)}`],n.open&&t.iconOpen]}})(hD),fD=r.forwardRef((function(e,t){const{className:n,disabled:o,error:i,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=(0,De.A)(e,cD),u=(0,je.A)({},e,{disabled:o,variant:l,error:i}),d=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${(0,Jk.A)(n)}`,i&&"iconOpen",r&&"disabled"]};return(0,Qk.A)(a,aD,t)})(u);return(0,$e.jsxs)(r.Fragment,{children:[(0,$e.jsx)(dD,(0,je.A)({ownerState:u,className:(0,Ne.A)(d.select,n),disabled:o,ref:a||t},c)),e.multiple?null:(0,$e.jsx)(pD,{as:s,ownerState:u,className:d.icon})]})})),mD=fD;var gD=n(1960),vD=n(8733);function yD(e){return(0,tT.Ay)("MuiSelect",e)}const bD=(0,Ke.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var wD;const xD=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],AD=(0,Xk.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${bD.select}`]:t.select},{[`&.${bD.select}`]:t[n.variant]},{[`&.${bD.error}`]:t.error},{[`&.${bD.multiple}`]:t.multiple}]}})(uD,{[`&.${bD.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SD=(0,Xk.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,Jk.A)(n.variant)}`],n.open&&t.iconOpen]}})(hD),_D=(0,Xk.Ay)("input",{shouldForwardProp:e=>(0,gD.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function CD(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function kD(e){return null==e||"string"===typeof e&&!e.trim()}const TD=r.forwardRef((function(e,t){var n;const{"aria-describedby":o,"aria-label":i,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:f=!1,IconComponent:m,inputRef:g,labelId:v,MenuProps:y={},multiple:b,name:w,onBlur:x,onChange:A,onClose:S,onFocus:_,onOpen:C,open:k,readOnly:T,renderValue:E,SelectDisplayProps:I={},tabIndex:P,value:R,variant:j="standard"}=e,D=(0,De.A)(e,xD),[N,M]=(0,vD.A)({controlled:R,default:d,name:"Select"}),[O,L]=(0,vD.A)({controlled:k,default:u,name:"Select"}),F=r.useRef(null),z=r.useRef(null),[V,U]=r.useState(null),{current:B}=r.useRef(null!=k),[$,W]=r.useState(),H=(0,HT.A)(t,g),q=r.useCallback((e=>{z.current=e,e&&U(e)}),[]),G=null==V?void 0:V.parentNode;r.useImperativeHandle(H,(()=>({focus:()=>{z.current.focus()},node:F.current,value:N})),[N]),r.useEffect((()=>{u&&O&&V&&!B&&(W(a?null:G.clientWidth),z.current.focus())}),[V,a]),r.useEffect((()=>{s&&z.current.focus()}),[s]),r.useEffect((()=>{if(!v)return;const e=(0,rI.A)(z.current).getElementById(v);if(e){const t=()=>{getSelection().isCollapsed&&z.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[v]);const K=(e,t)=>{e?C&&C(t):S&&S(t),B||(W(a?null:G.clientWidth),L(e))},Y=r.Children.toArray(l),Q=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(N)?N.slice():[];const t=N.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),N!==n&&(M(n),A)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:w}}),A(o,e)}b||K(!1,t)}},X=null!==V&&O;let J,Z;delete D["aria-invalid"];const ee=[];let te=!1,ne=!1;(ZR({value:N})||p)&&(E?J=E(N):te=!0);const re=Y.map((e=>{if(!r.isValidElement(e))return null;let t;if(b){if(!Array.isArray(N))throw new Error((0,UR.A)(2));t=N.some((t=>CD(t,e.props.value))),t&&te&&ee.push(e.props.children)}else t=CD(N,e.props.value),t&&te&&(Z=e.props.children);return t&&(ne=!0),r.cloneElement(e,{"aria-selected":t?"true":"false",onClick:Q(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&(J=b?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):Z);let oe,ie=$;!a&&B&&V&&(ie=G.clientWidth),oe="undefined"!==typeof P?P:h?null:0;const se=I.id||(w?`mui-component-select-${w}`:void 0),ae=(0,je.A)({},e,{variant:j,value:N,open:X,error:f}),le=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${(0,Jk.A)(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,Qk.A)(a,yD,t)})(ae),ce=(0,je.A)({},y.PaperProps,null==(n=y.slotProps)?void 0:n.paper),ue=(0,VR.A)();return(0,$e.jsxs)(r.Fragment,{children:[(0,$e.jsx)(AD,(0,je.A)({ref:q,tabIndex:oe,role:"combobox","aria-controls":ue,"aria-disabled":h?"true":void 0,"aria-expanded":X?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[v,se].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:e=>{if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),K(!0,e))}},onMouseDown:h||T?null:e=>{0===e.button&&(e.preventDefault(),z.current.focus(),K(!0,e))},onBlur:e=>{!X&&x&&(Object.defineProperty(e,"target",{writable:!0,value:{value:N,name:w}}),x(e))},onFocus:_},I,{ownerState:ae,className:(0,Ne.A)(I.className,le.select,c),id:se,children:kD(J)?wD||(wD=(0,$e.jsx)("span",{className:"notranslate",children:"\u200b"})):J})),(0,$e.jsx)(_D,(0,je.A)({"aria-invalid":f,value:Array.isArray(N)?N.join(","):N,name:w,ref:F,"aria-hidden":!0,onChange:e=>{const t=Y.find((t=>t.props.value===e.target.value));void 0!==t&&(M(t.props.value),A&&A(e,t))},tabIndex:-1,disabled:h,className:le.nativeInput,autoFocus:s,ownerState:ae},D)),(0,$e.jsx)(SD,{as:m,className:le.icon,ownerState:ae}),(0,$e.jsx)(BP,(0,je.A)({id:`menu-${w||""}`,anchorEl:G,open:X,onClose:e=>{K(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,je.A)({"aria-labelledby":v,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:ue},y.MenuListProps),slotProps:(0,je.A)({},y.slotProps,{paper:(0,je.A)({},ce,{style:(0,je.A)({minWidth:ie},null!=ce?ce.style:null)})}),children:re}))]})})),ED=TD,ID=(0,yT.A)((0,$e.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),PD=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],RD=["root"],jD={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,HE.A)(e)&&"variant"!==e,slot:"Root"},DD=(0,Xk.Ay)(gj,jD)(""),ND=(0,Xk.Ay)(Mj,jD)(""),MD=(0,Xk.Ay)(Sj,jD)(""),OD=r.forwardRef((function(e,t){const n=(0,Ze.b)({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:i,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=ID,id:d,input:h,inputProps:p,label:f,labelId:m,MenuProps:g,multiple:v=!1,native:y=!1,onClose:b,onOpen:w,open:x,renderValue:A,SelectDisplayProps:S,variant:_="outlined"}=n,C=(0,De.A)(n,PD),k=y?mD:ED,T=YR({props:n,muiFormControl:XR(),states:["variant","error"]}),E=T.variant||_,I=(0,je.A)({},n,{variant:E,classes:s}),P=(e=>{const{classes:t}=e;return t})(I),R=(0,De.A)(P,RD),j=h||{standard:(0,$e.jsx)(DD,{ownerState:I}),outlined:(0,$e.jsx)(ND,{label:f,ownerState:I}),filled:(0,$e.jsx)(MD,{ownerState:I})}[E],D=(0,HT.A)(t,AI(j));return(0,$e.jsx)(r.Fragment,{children:r.cloneElement(j,(0,je.A)({inputComponent:k,inputProps:(0,je.A)({children:i,error:T.error,IconComponent:u,variant:E,type:void 0,multiple:v},y?{id:d}:{autoWidth:o,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:b,onOpen:w,open:x,renderValue:A,SelectDisplayProps:(0,je.A)({id:d},S)},p,{classes:p?(0,AR.A)(R,p.classes):R},h?h.props.inputProps:{})},(v&&y||c)&&"outlined"===E?{notched:!0}:{},{ref:D,className:(0,Ne.A)(j.props.className,a,P.root)},!h&&{variant:E},C))})}));OD.muiName="Select";const LD=OD;function FD(e){return(0,tT.Ay)("MuiTextField",e)}(0,Ke.A)("MuiTextField",["root"]);const zD=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],VD={standard:gj,filled:Sj,outlined:Mj},UD=(0,Xk.Ay)(Zj,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),BD=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:i,className:s,color:a="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:p,id:f,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:y,label:b,maxRows:w,minRows:x,multiline:A=!1,name:S,onBlur:_,onChange:C,onFocus:k,placeholder:T,required:E=!1,rows:I,select:P=!1,SelectProps:R,type:j,value:D,variant:N="outlined"}=n,M=(0,De.A)(n,zD),O=(0,je.A)({},n,{autoFocus:o,color:a,disabled:c,error:u,fullWidth:h,multiline:A,required:E,select:P,variant:N}),L=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"]},FD,t)})(O);const F={};"outlined"===N&&(m&&"undefined"!==typeof m.shrink&&(F.notched=m.shrink),F.label=b),P&&(R&&R.native||(F.id=void 0),F["aria-describedby"]=void 0);const z=(0,VR.A)(f),V=p&&z?`${z}-helper-text`:void 0,U=b&&z?`${z}-label`:void 0,B=VD[N],$=(0,$e.jsx)(B,(0,je.A)({"aria-describedby":V,autoComplete:r,autoFocus:o,defaultValue:l,fullWidth:h,multiline:A,name:S,rows:I,maxRows:w,minRows:x,type:j,value:D,id:z,inputRef:y,onBlur:_,onChange:C,onFocus:k,placeholder:T,inputProps:g},F,v));return(0,$e.jsxs)(UD,(0,je.A)({className:(0,Ne.A)(L.root,s),disabled:c,error:u,fullWidth:h,ref:t,required:E,color:a,variant:N,ownerState:O},M,{children:[null!=b&&""!==b&&(0,$e.jsx)(Gj,(0,je.A)({htmlFor:z,id:U},m,{children:b})),P?(0,$e.jsx)(LD,(0,je.A)({"aria-describedby":V,id:z,labelId:U,value:D,input:$},R,{children:i})):$,p&&(0,$e.jsx)(sD,(0,je.A)({id:V},d,{children:p}))]}))})),$D=BD;function WD(e){return(0,tT.Ay)("MuiAlert",e)}const HD=(0,Ke.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),qD=(0,yT.A)((0,$e.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),GD=(0,yT.A)((0,$e.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),KD=(0,yT.A)((0,$e.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),YD=(0,yT.A)((0,$e.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),QD=(0,yT.A)((0,$e.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),XD=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],JD=(0,Xk.Ay)(sT,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,Jk.A)(n.color||n.severity)}`]]}})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?Zk.e$:Zk.a,r="light"===t.palette.mode?Zk.a:Zk.e$;return(0,je.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${o}Color`]:n(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${o}StandardBg`]:r(t.palette[o].light,.9),[`& .${HD.icon}`]:t.vars?{color:t.vars.palette.Alert[`${o}IconColor`]}:{color:t.palette[o].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:n(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${HD.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,je.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}}))]})})),ZD=(0,Xk.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),eN=(0,Xk.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),tN=(0,Xk.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),nN={success:(0,$e.jsx)(qD,{fontSize:"inherit"}),warning:(0,$e.jsx)(GD,{fontSize:"inherit"}),error:(0,$e.jsx)(KD,{fontSize:"inherit"}),info:(0,$e.jsx)(YD,{fontSize:"inherit"})},rN=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiAlert"}),{action:r,children:o,className:i,closeText:s="Close",color:a,components:l={},componentsProps:c={},icon:u,iconMapping:d=nN,onClose:h,role:p="alert",severity:f="success",slotProps:m={},slots:g={},variant:v="standard"}=n,y=(0,De.A)(n,XD),b=(0,je.A)({},n,{color:a,severity:f,variant:v,colorSeverity:a||f}),w=(e=>{const{variant:t,color:n,severity:r,classes:o}=e,i={root:["root",`color${(0,Jk.A)(n||r)}`,`${t}${(0,Jk.A)(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,Qk.A)(i,WD,o)})(b),x={slots:(0,je.A)({closeButton:l.CloseButton,closeIcon:l.CloseIcon},g),slotProps:(0,je.A)({},c,m)},[A,S]=RT("closeButton",{elementType:jE,externalForwardedProps:x,ownerState:b}),[_,C]=RT("closeIcon",{elementType:QD,externalForwardedProps:x,ownerState:b});return(0,$e.jsxs)(JD,(0,je.A)({role:p,elevation:0,ownerState:b,className:(0,Ne.A)(w.root,i),ref:t},y,{children:[!1!==u?(0,$e.jsx)(ZD,{ownerState:b,className:w.icon,children:u||d[f]||nN[f]}):null,(0,$e.jsx)(eN,{ownerState:b,className:w.message,children:o}),null!=r?(0,$e.jsx)(tN,{ownerState:b,className:w.action,children:r}):null,null==r&&h?(0,$e.jsx)(tN,{ownerState:b,className:w.action,children:(0,$e.jsx)(A,(0,je.A)({size:"small","aria-label":s,title:s,color:"inherit",onClick:h},S,{children:(0,$e.jsx)(_,(0,je.A)({fontSize:"small"},C))}))}):null]}))})),oN=rN;var iN=n(8286);const sN=r.createContext();function aN(e){return(0,tT.Ay)("MuiGrid",e)}const lN=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],cN=(0,Ke.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...lN.map((e=>`grid-xs-${e}`)),...lN.map((e=>`grid-sm-${e}`)),...lN.map((e=>`grid-md-${e}`)),...lN.map((e=>`grid-lg-${e}`)),...lN.map((e=>`grid-xl-${e}`))]),uN=cN,dN=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function hN(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function pN(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const o=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return o.slice(0,o.indexOf(r))}const fN=(0,Xk.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:o,item:i,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach((t=>{const o=e[t];Number(o)>0&&r.push(n[`spacing-${t}-${String(o)}`])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t[`grid-${e}-${String(r)}`])})),[t.root,r&&t.container,i&&t.item,l&&t.zeroMinWidth,...u,"row"!==o&&t[`direction-xs-${String(o)}`],"wrap"!==a&&t[`wrap-xs-${String(a)}`],...d]}})((e=>{let{ownerState:t}=e;return(0,je.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,iN.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,iN.NI)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${uN.item}`]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,iN.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=pN({breakpoints:t.breakpoints.values,values:e})),i=(0,iN.NI)({theme:t},e,((e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{marginTop:`-${hN(i)}`,[`& > .${uN.item}`]:{paddingTop:hN(i)}}:null!=(o=n)&&o.includes(r)?{}:{marginTop:0,[`& > .${uN.item}`]:{paddingTop:0}}}))}return i}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,iN.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=pN({breakpoints:t.breakpoints.values,values:e})),i=(0,iN.NI)({theme:t},e,((e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{width:`calc(100% + ${hN(i)})`,marginLeft:`-${hN(i)}`,[`& > .${uN.item}`]:{paddingLeft:hN(i)}}:null!=(o=n)&&o.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${uN.item}`]:{paddingLeft:0}}}))}return i}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,o)=>{let i={};if(r[o]&&(t=r[o]),!t)return e;if(!0===t)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,iN.kW)({values:r.columns,breakpoints:n.breakpoints.values}),a="object"===typeof s?s[o]:s;if(void 0===a||null===a)return e;const l=Math.round(t/a*1e8)/1e6+"%";let c={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t=`calc(${l} + ${hN(e)})`;c={flexBasis:t,maxWidth:t}}}i=(0,je.A)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===n.breakpoints.values[o]?Object.assign(e,i):e[n.breakpoints.up(o)]=i,e}),{})}));const mN=e=>{const{classes:t,container:n,direction:r,item:o,spacing:i,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[`spacing-xs-${String(e)}`];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e=`spacing-${t}-${String(r)}`;n.push(e)}})),n}(i,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push(`grid-${t}-${String(n)}`)}));const d={root:["root",n&&"container",o&&"item",a&&"zeroMinWidth",...c,"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==s&&`wrap-xs-${String(s)}`,...u]};return(0,Qk.A)(d,aN,t)},gN=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiGrid"}),{breakpoints:o}=DI(),i=(0,Le.A)(n),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:p,spacing:f=0,wrap:m="wrap",zeroMinWidth:g=!1}=i,v=(0,De.A)(i,dN),y=p||f,b=l||f,w=r.useContext(sN),x=u?a||12:w,A={},S=(0,je.A)({},v);o.keys.forEach((e=>{null!=v[e]&&(A[e]=v[e],delete S[e])}));const _=(0,je.A)({},i,{columns:x,container:u,direction:d,item:h,rowSpacing:y,columnSpacing:b,wrap:m,zeroMinWidth:g,spacing:f},A,{breakpoints:o.keys}),C=mN(_);return(0,$e.jsx)(sN.Provider,{value:x,children:(0,$e.jsx)(fN,(0,je.A)({ownerState:_,className:(0,Ne.A)(C.root,s),as:c,ref:t},S))})}));const vN=gN;function yN(e){return(0,tT.Ay)("MuiLink",e)}const bN=(0,Ke.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var wN=n(2703);const xN={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},AN=e=>{let{theme:t,ownerState:n}=e;const r=(e=>xN[e]||e)(n.color),o=(0,wN.Yn)(t,`palette.${r}`,!1)||n.color,i=(0,wN.Yn)(t,`palette.${r}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:(0,Zk.X4)(o,.4)},SN=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],_N=(0,Xk.Ay)(WT,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${(0,Jk.A)(n.underline)}`],"button"===n.component&&t.button]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,je.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:AN({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${bN.focusVisible}`]:{outline:"auto"}})})),CN=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiLink"}),{className:o,color:i="primary",component:s="a",onBlur:a,onFocus:l,TypographyClasses:c,underline:u="always",variant:d="inherit",sx:h}=n,p=(0,De.A)(n,SN),{isFocusVisibleRef:f,onBlur:m,onFocus:g,ref:v}=(0,GT.A)(),[y,b]=r.useState(!1),w=(0,HT.A)(t,v),x=(0,je.A)({},n,{color:i,component:s,focusVisible:y,underline:u,variant:d}),A=(e=>{const{classes:t,component:n,focusVisible:r,underline:o}=e,i={root:["root",`underline${(0,Jk.A)(o)}`,"button"===n&&"button",r&&"focusVisible"]};return(0,Qk.A)(i,yN,t)})(x);return(0,$e.jsx)(_N,(0,je.A)({color:i,className:(0,Ne.A)(A.root,o),classes:c,component:s,onBlur:e=>{m(e),!1===f.current&&b(!1),a&&a(e)},onFocus:e=>{g(e),!0===f.current&&b(!0),l&&l(e)},ref:w,ownerState:x,variant:d,sx:[...Object.keys(xN).includes(i)?[]:[{color:i}],...Array.isArray(h)?h:[h]]},p))})),kN=CN;function TN(e){return(0,tT.Ay)("MuiCircularProgress",e)}(0,Ke.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const EN=["className","color","disableShrink","size","style","thickness","value","variant"];let IN,PN,RN,jN,DN=e=>e;const NN=44,MN=(0,oE.i7)(IN||(IN=DN`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),ON=(0,oE.i7)(PN||(PN=DN`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),LN=(0,Xk.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,Jk.A)(n.color)}`]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,oE.AH)(RN||(RN=DN`
      animation: ${0} 1.4s linear infinite;
    `),MN)})),FN=(0,Xk.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),zN=(0,Xk.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${(0,Jk.A)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,oE.AH)(jN||(jN=DN`
      animation: ${0} 1.4s ease-in-out infinite;
    `),ON)})),VN=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:i=!1,size:s=40,style:a,thickness:l=3.6,value:c=0,variant:u="indeterminate"}=n,d=(0,De.A)(n,EN),h=(0,je.A)({},n,{color:o,disableShrink:i,size:s,thickness:l,value:c,variant:u}),p=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,i={root:["root",n,`color${(0,Jk.A)(r)}`],svg:["svg"],circle:["circle",`circle${(0,Jk.A)(n)}`,o&&"circleDisableShrink"]};return(0,Qk.A)(i,TN,t)})(h),f={},m={},g={};if("determinate"===u){const e=2*Math.PI*((NN-l)/2);f.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(c),f.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,$e.jsx)(LN,(0,je.A)({className:(0,Ne.A)(p.root,r),style:(0,je.A)({width:s,height:s},m,a),ownerState:h,ref:t,role:"progressbar"},g,d,{children:(0,$e.jsx)(FN,{className:p.svg,ownerState:h,viewBox:"22 22 44 44",children:(0,$e.jsx)(zN,{className:p.circle,style:f,ownerState:h,cx:NN,cy:NN,r:(NN-l)/2,fill:"none",strokeWidth:l})})}))})),UN=VN,BN=()=>{const[e,t]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[i,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null),{login:c,loading:u,error:d,setError:h,currentUser:p,userProfile:f}=Ek(),m=Z();(0,r.useEffect)((()=>{l(null)}),[e,n]),(0,r.useEffect)((()=>{p&&f&&f.sourceCodeSetupComplete&&m("/")}),[p,f,m]),(0,r.useEffect)((()=>{d&&l({type:"error",message:d})}),[d]);const g=u||i;return(0,$e.jsx)(zR,{maxWidth:"xs",children:(0,$e.jsxs)(sT,{elevation:0,sx:{mt:8,p:4},children:[(0,$e.jsx)(WT,{component:"h1",variant:"h5",align:"center",sx:{mb:2},children:"Login to Side Eye"}),(0,$e.jsxs)(Je,{component:"form",onSubmit:async t=>{if(t.preventDefault(),h&&h(null),l(null),!e.trim())return void l({type:"error",message:"Email is required"});if(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.trim()))if(n)try{s(!0),l({type:"info",message:"Logging in..."}),await c(e.trim(),n),l({type:"success",message:"Login successful! Redirecting..."})}catch(IQ){console.error("Login component caught error:",IQ),"auth/too-many-requests"===IQ.code||"auth/too-many-requests"===IQ.message?l({type:"error",message:"Too many failed login attempts. Please try again later or reset your password."}):"auth/invalid-credential"===IQ.code||"auth/invalid-credential"===IQ.message?l({type:"error",message:"Invalid email or password. Please try again."}):"auth/invalid-email"===IQ.code||"auth/invalid-email"===IQ.message?l({type:"error",message:"Invalid email address. Please check the format."}):l({type:"error",message:IQ.message||"Login failed. Please try again."})}finally{s(!1)}else l({type:"error",message:"Password is required"});else l({type:"error",message:"Please enter a valid email address"})},noValidate:!0,sx:{mt:1},children:[(0,$e.jsx)($D,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:e,onChange:e=>t(e.target.value),disabled:g}),(0,$e.jsx)($D,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:n,onChange:e=>o(e.target.value),disabled:g}),a&&(0,$e.jsx)(oN,{severity:a.type,sx:{mt:2},children:a.message}),(0,$e.jsx)(nI,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:g,children:g?(0,$e.jsx)(UN,{size:24}):"Sign In"}),(0,$e.jsxs)(vN,{container:!0,justifyContent:"space-between",children:[(0,$e.jsx)(vN,{item:!0,children:(0,$e.jsx)(kN,{component:Ie,to:"/reset-password",variant:"body2",children:"Forgot password?"})}),(0,$e.jsx)(vN,{item:!0,children:(0,$e.jsx)(kN,{component:Ie,to:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})})};function $N(e){return(0,tT.Ay)("MuiInputAdornment",e)}const WN=(0,Ke.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var HN;const qN=["children","className","component","disablePointerEvents","disableTypography","position","variant"],GN=(0,Xk.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,Jk.A)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{[`&.${WN.positionStart}&:not(.${WN.hiddenLabel})`]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),KN=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiInputAdornment"}),{children:o,className:i,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u}=n,d=(0,De.A)(n,qN),h=XR()||{};let p=u;u&&h.variant,h&&!p&&(p=h.variant);const f=(0,je.A)({},n,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:c,variant:p}),m=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:s}=e,a={root:["root",n&&"disablePointerEvents",o&&`position${(0,Jk.A)(o)}`,s,r&&"hiddenLabel",i&&`size${(0,Jk.A)(i)}`]};return(0,Qk.A)(a,$N,t)})(f);return(0,$e.jsx)(QR.Provider,{value:null,children:(0,$e.jsx)(GN,(0,je.A)({as:s,ownerState:f,className:(0,Ne.A)(m.root,i),ref:t},d,{children:"string"!==typeof o||l?(0,$e.jsxs)(r.Fragment,{children:["start"===c?HN||(HN=(0,$e.jsx)("span",{className:"notranslate",children:"\u200b"})):null,o]}):(0,$e.jsx)(WT,{color:"text.secondary",children:o})}))})})),YN=KN;function QN(e,t,n,o,i){const[s,a]=r.useState((()=>i&&n?n(e).matches:o?o(e).matches:t));return(0,GI.A)((()=>{let t=!0;if(!n)return;const r=n(e),o=()=>{t&&a(r.matches)};return o(),r.addListener(o),()=>{t=!1,r.removeListener(o)}}),[e,n]),s}const XN=o.useSyncExternalStore;function JN(e,t,n,o,i){const s=r.useCallback((()=>t),[t]),a=r.useMemo((()=>{if(i&&n)return()=>n(e).matches;if(null!==o){const{matches:t}=o(e);return()=>t}return s}),[s,e,o,i,n]),[l,c]=r.useMemo((()=>{if(null===n)return[s,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[s,n,e]);return XN(c,l,a)}function ZN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Ve(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:o=!1,matchMedia:i=(r?window.matchMedia:null),ssrMatchMedia:s=null,noSsr:a=!1}=wR({name:"MuiUseMediaQuery",props:t,theme:n});let l="function"===typeof e?e(n):e;l=l.replace(/^@media( ?)/m,"");return(void 0!==XN?JN:QN)(l,o,i,s,a)}function eM(e){let{props:t,name:n}=e;return xR({props:t,name:n,defaultTheme:nt.A,themeId:Ge.A})}var tM=n(1942),nM=n.n(tM);function rM(e,t,n){return"function"===typeof e?e(t,n):e}const oM=nM().oneOfType([nM().func,nM().object]),iM=(e,t)=>e.length===t.length&&t.every((t=>e.includes(t))),sM=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r},aM=e=>{let{date:t,disableFuture:n,disablePast:r,maxDate:o,minDate:i,isDateDisabled:s,utils:a,timezone:l}=e;const c=sM(a,a.dateWithTimezone(void 0,l),t);r&&a.isBefore(i,c)&&(i=c),n&&a.isAfter(o,c)&&(o=c);let u=t,d=t;for(a.isBefore(t,i)&&(u=i,d=null),a.isAfter(t,o)&&(d&&(d=o),u=null);u||d;){if(u&&a.isAfter(u,o)&&(u=null),d&&a.isBefore(d,i)&&(d=null),u){if(!s(u))return u;u=a.addDays(u,1)}if(d){if(!s(d))return d;d=a.addDays(d,-1)}}return null},lM=(e,t,n)=>null!=t&&e.isValid(t)?t:n,cM=(e,t)=>{const n=[e.startOfYear(t)];for(;n.length<12;){const t=n[n.length-1];n.push(e.addMonths(t,1))}return n},uM=(e,t,n)=>"date"===n?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),dM=["year","month","day"],hM=e=>dM.includes(e),pM=(e,t,n)=>{let{format:r,views:o}=t;if(null!=r)return r;const i=e.formats;return iM(o,["year"])?i.year:iM(o,["month"])?i.month:iM(o,["day"])?i.dayOfMonth:iM(o,["month","year"])?`${i.month} ${i.year}`:iM(o,["day","month"])?`${i.month} ${i.dayOfMonth}`:n?/en/.test(e.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},fM=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map((t=>e.addDays(n,t)))},mM=["hours","minutes","seconds"],gM=(e,t)=>3600*t.getHours(e)+60*t.getMinutes(e)+t.getSeconds(e),vM={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},yM=(e,t,n)=>{if(t===vM.year)return e.startOfYear(n);if(t===vM.month)return e.startOfMonth(n);if(t===vM.day)return e.startOfDay(n);let r=n;return t<vM.minutes&&(r=e.setMinutes(r,0)),t<vM.seconds&&(r=e.setSeconds(r,0)),t<vM.milliseconds&&(r=e.setMilliseconds(r,0)),r},bM=e=>{let{props:t,utils:n,granularity:r,timezone:o,getTodayDate:i}=e;var s;let a=i?i():yM(n,r,uM(n,o));null!=t.minDate&&n.isAfterDay(t.minDate,a)&&(a=yM(n,r,t.minDate)),null!=t.maxDate&&n.isBeforeDay(t.maxDate,a)&&(a=yM(n,r,t.maxDate));const l=((e,t)=>(n,r)=>e?t.isAfter(n,r):gM(n,t)>gM(r,t))(null!=(s=t.disableIgnoringDatePartForTimeValidation)&&s,n);return null!=t.minTime&&l(t.minTime,a)&&(a=yM(n,r,t.disableIgnoringDatePartForTimeValidation?t.minTime:sM(n,a,t.minTime))),null!=t.maxTime&&l(a,t.maxTime)&&(a=yM(n,r,t.disableIgnoringDatePartForTimeValidation?t.maxTime:sM(n,a,t.maxTime))),a},wM=(e,t)=>{const n=e.formatTokenMap[t];if(null==n)throw new Error([`MUI: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join("\n"));return"string"===typeof n?{type:n,contentType:"meridiem"===n?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},xM=(e,t,n)=>{const r=[],o=e.dateWithTimezone(void 0,t),i=e.startOfWeek(o),s=e.endOfWeek(o);let a=i;for(;e.isBefore(a,s);)r.push(a),a=e.addDays(a,1);return r.map((t=>e.formatByString(t,n)))},AM=(e,t,n,r)=>{switch(n){case"month":return cM(e,e.dateWithTimezone(void 0,t)).map((t=>e.formatByString(t,r)));case"weekDay":return xM(e,t,r);case"meridiem":{const n=e.dateWithTimezone(void 0,t);return[e.startOfDay(n),e.endOfDay(n)].map((t=>e.formatByString(t,r)))}default:return[]}},SM=(e,t,n)=>{let r=t;for(r=Number(r).toString();r.length<n;)r=`0${r}`;return r},_M=(e,t,n,r,o)=>{if("day"===o.type&&"digit-with-letter"===o.contentType){const t=e.setDate(r.longestMonth,n);return e.formatByString(t,o.format)}const i=n.toString();return o.hasLeadingZerosInInput?SM(0,i,o.maxLength):i},CM=(e,t,n,r,o,i,s)=>{const a=(e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}})(r),l="Home"===r,c="End"===r,u=""===n.value||l||c;return"digit"===n.contentType||"digit-with-letter"===n.contentType?(()=>{const r=o[n.type]({currentDate:i,format:n.format,contentType:n.contentType}),d=t=>_M(e,0,t,r,n),h="minutes"===n.type&&null!=s&&s.minutesStep?s.minutesStep:1;let p=parseInt(n.value,10)+a*h;if(u){if("year"===n.type&&!c&&!l)return e.formatByString(e.dateWithTimezone(void 0,t),n.format);p=a>0||l?r.minimum:r.maximum}return p%h!==0&&((a<0||l)&&(p+=h-(h+p)%h),(a>0||c)&&(p-=p%h)),p>r.maximum?d(r.minimum+(p-r.maximum-1)%(r.maximum-r.minimum+1)):p<r.minimum?d(r.maximum-(r.minimum-p-1)%(r.maximum-r.minimum+1)):d(p)})():(()=>{const r=AM(e,t,n.type,n.format);if(0===r.length)return n.value;if(u)return a>0||l?r[0]:r[r.length-1];const o=r.indexOf(n.value);return r[(o+r.length+a)%r.length]})()},kM=(e,t)=>{let n=e.value||e.placeholder;const r="non-input"===t?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;"non-input"===t&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(n=Number(n).toString());return["input-rtl","input-ltr"].includes(t)&&"digit"===e.contentType&&!r&&1===n.length&&(n=`${n}\u200e`),"input-rtl"===t&&(n=`\u2068${n}\u2069`),n},TM=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),EM=(e,t)=>{let n=0,r=t?1:0;const o=[];for(let i=0;i<e.length;i+=1){const s=e[i],a=kM(s,t?"input-rtl":"input-ltr"),l=`${s.startSeparator}${a}${s.endSeparator}`,c=TM(l).length,u=l.length,d=TM(a),h=r+a.indexOf(d[0])+s.startSeparator.length,p=h+d.length;o.push((0,je.A)({},s,{start:n,end:n+c,startInInput:h,endInInput:p})),n+=c,r+=u}return o},IM=(e,t,n,r,o)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.dateWithTimezone(void 0,t),o).length,format:o});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:o});case"day":return n.fieldDayPlaceholder({format:o});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:o});case"hours":return n.fieldHoursPlaceholder({format:o});case"minutes":return n.fieldMinutesPlaceholder({format:o});case"seconds":return n.fieldSecondsPlaceholder({format:o});case"meridiem":return n.fieldMeridiemPlaceholder({format:o});default:return o}},PM=(e,t,n,r)=>e.formatByString(e.parse(t,n),r),RM=(e,t,n)=>4===e.formatByString(e.dateWithTimezone(void 0,t),n).length,jM=(e,t,n,r,o)=>{if("digit"!==n)return!1;const i=e.dateWithTimezone(void 0,t);switch(r){case"year":if(RM(e,t,o)){return"0001"===e.formatByString(e.setYear(i,1),o)}return"01"===e.formatByString(e.setYear(i,2001),o);case"month":return e.formatByString(e.startOfYear(i),o).length>1;case"day":return e.formatByString(e.startOfMonth(i),o).length>1;case"weekDay":return e.formatByString(e.startOfWeek(i),o).length>1;case"hours":return e.formatByString(e.setHours(i,1),o).length>1;case"minutes":return e.formatByString(e.setMinutes(i,1),o).length>1;case"seconds":return e.formatByString(e.setSeconds(i,1),o).length>1;default:throw new Error("Invalid section type")}},DM=(e,t,n,r,o,i,s,a)=>{let l="";const c=[],u=e.date(),d=r=>{if(""===r)return null;const i=wM(e,r),a=jM(e,t,i.contentType,i.type,r),d=s?a:"digit"===i.contentType,h=null!=o&&e.isValid(o);let p=h?e.formatByString(o,r):"",f=null;if(d)if(a)f=""===p?e.formatByString(u,r).length:p.length;else{if(null==i.maxLength)throw new Error(`MUI: The token ${r} should have a 'maxDigitNumber' property on it's adapter`);f=i.maxLength,h&&(p=SM(0,p,f))}return c.push((0,je.A)({},i,{format:r,maxLength:f,value:p,placeholder:IM(e,t,n,i,r),hasLeadingZeros:a,hasLeadingZerosInFormat:a,hasLeadingZerosInInput:d,startSeparator:0===c.length?l:"",endSeparator:"",modified:!1})),null};let h=10,p=r,f=e.expandFormat(r);for(;f!==p;)if(p=f,f=e.expandFormat(p),h-=1,h<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const m=f,g=((e,t)=>{const n=[],{start:r,end:o}=e.escapedCharacters,i=new RegExp(`(\\${r}[^\\${o}]*\\${o})+`,"g");let s=null;for(;s=i.exec(t);)n.push({start:s.index,end:i.lastIndex-1});return n})(e,m),v=new RegExp(`^(${Object.keys(e.formatTokenMap).sort(((e,t)=>t.length-e.length)).join("|")})`,"g");let y="";for(let b=0;b<m.length;b+=1){const e=g.find((e=>e.start<=b&&e.end>=b)),t=m[b],n=null!=e,r=`${y}${m.slice(b)}`,o=v.test(r);if(!n&&t.match(/([A-Za-z]+)/)&&o)y=r.slice(0,v.lastIndex),b+=v.lastIndex-1;else{n&&(null==e?void 0:e.start)===b||(null==e?void 0:e.end)===b||(d(y),y="",0===c.length?l+=t:c[c.length-1].endSeparator+=t)}}return d(y),c.map((e=>{const t=e=>{let t=e;return a&&null!==t&&t.includes(" ")&&(t=`\u2069${t}\u2066`),"spacious"===i&&["/",".","-"].includes(t)&&(t=` ${t} `),t};return e.startSeparator=t(e.startSeparator),e.endSeparator=t(e.endSeparator),e}))};const NM=(e,t)=>{0},MM={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},OM=(e,t,n,r,o,i)=>[...r].sort(((e,t)=>MM[e.type]-MM[t.type])).reduce(((r,o)=>!i||o.modified?((e,t,n,r,o)=>{switch(n.type){case"year":return e.setYear(o,e.getYear(r));case"month":return e.setMonth(o,e.getMonth(r));case"weekDay":{const o=xM(e,t,n.format),i=e.formatByString(r,n.format),s=o.indexOf(i),a=o.indexOf(n.value)-s;return e.addDays(r,a)}case"day":return e.setDate(o,e.getDate(r));case"meridiem":{const t=e.getHours(r)<12,n=e.getHours(o);return t&&n>=12?e.addHours(o,-12):!t&&n<12?e.addHours(o,12):o}case"hours":return e.setHours(o,e.getHours(r));case"minutes":return e.setMinutes(o,e.getMinutes(r));case"seconds":return e.setSeconds(o,e.getSeconds(r));default:return o}})(e,t,o,n,r):r),o),LM=["value","referenceDate"],FM={emptyValue:null,getTodayValue:uM,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=(0,De.A)(e,LM);return null!=t&&r.utils.isValid(t)?t:null!=n?n:bM(r)},cleanValue:(e,t)=>null!=t&&e.isValid(t)?t:null,areValuesEqual:(e,t,n)=>!e.isValid(t)&&null!=t&&!e.isValid(n)&&null!=n||e.isEqual(t,n),isSameError:(e,t)=>e===t,hasError:e=>null!=e,defaultErrorState:null,getTimezone:(e,t)=>null!=t&&e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,n)=>null==n?null:e.setTimezone(n,t)},zM={updateReferenceValue:(e,t,n)=>null!=t&&e.isValid(t)?t:n,getSectionsFromValue:(e,t,n,r,o)=>!e.isValid(t)&&!!n?n:EM(o(t),r),getValueStrFromSections:(e,t)=>{const n=e.map((e=>{const n=kM(e,t?"input-rtl":"input-ltr");return`${e.startSeparator}${n}${e.endSeparator}`})).join("");return t?`\u2066${n}\u2069`:n},getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:e=>e,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:null!=n&&e.isValid(n)?n:t.referenceValue})}),parseValueStr:(e,t,n)=>n(e.trim(),t)},VM=["localeText"],UM=r.createContext(null);const BM=function(e){var t;const{localeText:n}=e,o=(0,De.A)(e,VM),{utils:i,localeText:s}=null!=(t=r.useContext(UM))?t:{utils:void 0,localeText:void 0},a=eM({props:o,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:c,dateFormats:u,dateLibInstance:d,adapterLocale:h,localeText:p}=a,f=r.useMemo((()=>(0,je.A)({},p,s,n)),[p,s,n]),m=r.useMemo((()=>{if(!c)return i||null;const e=new c({locale:h,formats:u,instance:d});if(!e.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join("\n"));return e}),[c,h,u,d,i]),g=r.useMemo((()=>m?{minDate:m.date("1900-01-01T00:00:00.000"),maxDate:m.date("2099-12-31T00:00:00.000")}:null),[m]),v=r.useMemo((()=>({utils:m,defaultDates:g,localeText:f})),[g,m,f]);return(0,$e.jsx)(UM.Provider,{value:v,children:l})},$M={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>"year"===e?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${null===t?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>"letter"===e.contentType?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>"letter"===e.contentType?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},WM=$M;HM=$M,(0,je.A)({},HM);var HM;const qM=()=>{const e=r.useContext(UM);if(null===e)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join("\n"));if(null===e.utils)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join("\n"));const t=r.useMemo((()=>(0,je.A)({},WM,e.localeText)),[e.localeText]);return r.useMemo((()=>(0,je.A)({},e,{localeText:t})),[e,t])},GM=()=>qM().utils,KM=()=>qM().defaultDates,YM=()=>qM().localeText,QM=e=>{const t=GM(),n=r.useRef();return void 0===n.current&&(n.current=t.dateWithTimezone(void 0,e)),n.current};function XM(e){return(0,tT.Ay)("MuiPickersToolbar",e)}(0,Ke.A)("MuiPickersToolbar",["root","content"]);const JM=(0,Xk.Ay)("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3)},n.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})})),ZM=(0,Xk.Ay)("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})((e=>{let{ownerState:t}=e;var n;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:t.isLandscape?"flex-start":"space-between",flexDirection:t.isLandscape?null!=(n=t.landscapeDirection)?n:"column":"row",flex:1,alignItems:t.isLandscape?"flex-start":"center"}})),eO=r.forwardRef((function(e,t){const n=eM({props:e,name:"MuiPickersToolbar"}),{children:r,className:o,toolbarTitle:i,hidden:s,titleId:a}=n,l=n,c=(e=>{const{classes:t,isLandscape:n}=e,r={root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]};return(0,Qk.A)(r,XM,t)})(l);return s?null:(0,$e.jsxs)(JM,{ref:t,className:(0,Ne.A)(c.root,o),ownerState:l,children:[(0,$e.jsx)(WT,{color:"text.secondary",variant:"overline",id:a,children:i}),(0,$e.jsx)(ZM,{className:c.content,ownerState:l,children:r})]})}));function tO(e){return(0,tT.Ay)("MuiDatePickerToolbar",e)}(0,Ke.A)("MuiDatePickerToolbar",["root","title"]);const nO=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className"],rO=(0,Xk.Ay)(eO,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),oO=(0,Xk.Ay)(WT,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,t)=>t.title})((e=>{let{ownerState:t}=e;return(0,je.A)({},t.isLandscape&&{margin:"auto 16px auto auto"})})),iO=r.forwardRef((function(e,t){const n=eM({props:e,name:"MuiDatePickerToolbar"}),{value:o,isLandscape:i,toolbarFormat:s,toolbarPlaceholder:a="\u2013\u2013",views:l,className:c}=n,u=(0,De.A)(n,nO),d=GM(),h=YM(),p=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"],title:["title"]},tO,t)})(n),f=r.useMemo((()=>{if(!o)return a;const e=pM(d,{format:s,views:l},!0);return d.formatByString(o,e)}),[o,s,a,d,l]),m=n;return(0,$e.jsx)(rO,(0,je.A)({ref:t,toolbarTitle:h.datePickerToolbarTitle,isLandscape:i,className:(0,Ne.A)(p.root,c)},u,{children:(0,$e.jsx)(oO,{variant:"h4",align:i?"left":"center",ownerState:m,className:p.title,children:f})}))})),sO=e=>{if(void 0!==e)return Object.keys(e).reduce(((t,n)=>(0,je.A)({},t,{[`${n.slice(0,1).toLowerCase()}${n.slice(1)}`]:e[n]})),{})};function aO(e,t){var n,o,i,s;const a=GM(),l=KM(),c=eM({props:e,name:t}),u=r.useMemo((()=>{var e;return null==(null==(e=c.localeText)?void 0:e.toolbarTitle)?c.localeText:(0,je.A)({},c.localeText,{datePickerToolbarTitle:c.localeText.toolbarTitle})}),[c.localeText]),d=null!=(n=c.slots)?n:sO(c.components);return(0,je.A)({},c,{localeText:u},(e=>{let{openTo:t,defaultOpenTo:n,views:r,defaultViews:o}=e;const i=null!=r?r:o;let s;if(null!=t)s=t;else if(i.includes(n))s=n;else{if(!(i.length>0))throw new Error("MUI: The `views` prop must contain at least one view");s=i[0]}return{views:i,openTo:s}})({views:c.views,openTo:c.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:null!=(o=c.disableFuture)&&o,disablePast:null!=(i=c.disablePast)&&i,minDate:lM(a,c.minDate,l.minDate),maxDate:lM(a,c.maxDate,l.maxDate),slots:(0,je.A)({toolbar:iO},d),slotProps:null!=(s=c.slotProps)?s:c.componentsProps})}const lO=e=>{let{props:t,value:n,adapter:r}=e;if(null===n)return null;const{shouldDisableDate:o,shouldDisableMonth:i,shouldDisableYear:s,disablePast:a,disableFuture:l,timezone:c}=t,u=r.utils.dateWithTimezone(void 0,c),d=lM(r.utils,t.minDate,r.defaultDates.minDate),h=lM(r.utils,t.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(n):return"invalidDate";case Boolean(o&&o(n)):return"shouldDisableDate";case Boolean(i&&i(n)):return"shouldDisableMonth";case Boolean(s&&s(n)):return"shouldDisableYear";case Boolean(l&&r.utils.isAfterDay(n,u)):return"disableFuture";case Boolean(a&&r.utils.isBeforeDay(n,u)):return"disablePast";case Boolean(d&&r.utils.isBeforeDay(n,d)):return"minDate";case Boolean(h&&r.utils.isAfterDay(n,h)):return"maxDate";default:return null}};function cO(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}function uO(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=(0,Ne.A)(n?.className,i,o?.className,r?.className),t={...n?.style,...o?.style,...r?.style},s={...n,...o,...r};return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}({...o,...r}),a=cO(r),l=cO(o),c=t(s),u=(0,Ne.A)(c?.className,n?.className,i,o?.className,r?.className),d={...c?.style,...n?.style,...o?.style,...r?.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function dO(e){const{elementType:t,externalSlotProps:n,ownerState:o,skipResolvingSlotProps:i=!1,...s}=e,a=i?{}:rM(n,o),{props:l,internalRef:c}=uO({...s,externalSlotProps:a}),u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=r.useRef(void 0),i=r.useCallback((e=>{const n=t.map((t=>{if(null==t)return null;if("function"===typeof t){const n=t,r=n(e);return"function"===typeof r?r:()=>{n(null)}}return t.current=e,()=>{t.current=null}}));return()=>{n.forEach((e=>e?.()))}}),t);return r.useMemo((()=>t.every((e=>null==e))?null:e=>{o.current&&(o.current(),o.current=void 0),null!=e&&(o.current=i(e))}),t)}(c,a?.ref,e.additionalProps?.ref),d=function(e,t,n){return void 0===e||"string"===typeof e?t:{...t,ownerState:{...t.ownerState,...n}}}(t,{...l,ref:u},o);return d}var hO=n(5329);function pO(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function fO(e){return e instanceof pO(e).Element||e instanceof Element}function mO(e){return e instanceof pO(e).HTMLElement||e instanceof HTMLElement}function gO(e){return"undefined"!==typeof ShadowRoot&&(e instanceof pO(e).ShadowRoot||e instanceof ShadowRoot)}var vO=Math.max,yO=Math.min,bO=Math.round;function wO(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function xO(){return!/^((?!chrome|android).)*safari/i.test(wO())}function AO(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&mO(e)&&(o=e.offsetWidth>0&&bO(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&bO(r.height)/e.offsetHeight||1);var s=(fO(e)?pO(e):window).visualViewport,a=!xO()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/o,c=(r.top+(a&&s?s.offsetTop:0))/i,u=r.width/o,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function SO(e){var t=pO(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function _O(e){return e?(e.nodeName||"").toLowerCase():null}function CO(e){return((fO(e)?e.ownerDocument:e.document)||window.document).documentElement}function kO(e){return AO(CO(e)).left+SO(e).scrollLeft}function TO(e){return pO(e).getComputedStyle(e)}function EO(e){var t=TO(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function IO(e,t,n){void 0===n&&(n=!1);var r=mO(t),o=mO(t)&&function(e){var t=e.getBoundingClientRect(),n=bO(t.width)/e.offsetWidth||1,r=bO(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=CO(t),s=AO(e,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==_O(t)||EO(i))&&(a=function(e){return e!==pO(e)&&mO(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:SO(e);var t}(t)),mO(t)?((l=AO(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=kO(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function PO(e){var t=AO(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function RO(e){return"html"===_O(e)?e:e.assignedSlot||e.parentNode||(gO(e)?e.host:null)||CO(e)}function jO(e){return["html","body","#document"].indexOf(_O(e))>=0?e.ownerDocument.body:mO(e)&&EO(e)?e:jO(RO(e))}function DO(e,t){var n;void 0===t&&(t=[]);var r=jO(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=pO(r),s=o?[i].concat(i.visualViewport||[],EO(r)?r:[]):r,a=t.concat(s);return o?a:a.concat(DO(RO(s)))}function NO(e){return["table","td","th"].indexOf(_O(e))>=0}function MO(e){return mO(e)&&"fixed"!==TO(e).position?e.offsetParent:null}function OO(e){for(var t=pO(e),n=MO(e);n&&NO(n)&&"static"===TO(n).position;)n=MO(n);return n&&("html"===_O(n)||"body"===_O(n)&&"static"===TO(n).position)?t:n||function(e){var t=/firefox/i.test(wO());if(/Trident/i.test(wO())&&mO(e)&&"fixed"===TO(e).position)return null;var n=RO(e);for(gO(n)&&(n=n.host);mO(n)&&["html","body"].indexOf(_O(n))<0;){var r=TO(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var LO="top",FO="bottom",zO="right",VO="left",UO="auto",BO=[LO,FO,zO,VO],$O="start",WO="end",HO="viewport",qO="popper",GO=BO.reduce((function(e,t){return e.concat([t+"-"+$O,t+"-"+WO])}),[]),KO=[].concat(BO,[UO]).reduce((function(e,t){return e.concat([t,t+"-"+$O,t+"-"+WO])}),[]),YO=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function QO(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function XO(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var JO={placement:"bottom",modifiers:[],strategy:"absolute"};function ZO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function eL(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?JO:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},JO,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:o,setOptions:function(n){var a="function"===typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,a),o.scrollParents={reference:fO(e)?DO(e):e.contextElement?DO(e.contextElement):[],popper:DO(t)};var u=function(e){var t=QO(e);return YO.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var a=i({state:o,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=o.elements,t=e.reference,n=e.popper;if(ZO(t,n)){o.rects={reference:IO(t,OO(n),"fixed"===o.options.strategy),popper:PO(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],s=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof s&&(o=s({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:XO((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),a=!0}};if(!ZO(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var tL={passive:!0};function nL(e){return e.split("-")[0]}function rL(e){return e.split("-")[1]}function oL(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function iL(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?nL(o):null,s=o?rL(o):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case LO:t={x:a,y:n.y-r.height};break;case FO:t={x:a,y:n.y+n.height};break;case zO:t={x:n.x+n.width,y:l};break;case VO:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?oL(i):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case $O:t[c]=t[c]-(n[u]/2-r[u]/2);break;case WO:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var sL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aL(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=VO,w=LO,x=window;if(c){var A=OO(n),S="clientHeight",_="clientWidth";if(A===pO(n)&&"static"!==TO(A=CO(n)).position&&"absolute"===a&&(S="scrollHeight",_="scrollWidth"),o===LO||(o===VO||o===zO)&&i===WO)w=FO,m-=(d&&A===x&&x.visualViewport?x.visualViewport.height:A[S])-r.height,m*=l?1:-1;if(o===VO||(o===LO||o===FO)&&i===WO)b=zO,p-=(d&&A===x&&x.visualViewport?x.visualViewport.width:A[_])-r.width,p*=l?1:-1}var C,k=Object.assign({position:a},c&&sL),T=!0===u?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:bO(n*o)/o||0,y:bO(r*o)/o||0}}({x:p,y:m},pO(n)):{x:p,y:m};return p=T.x,m=T.y,l?Object.assign({},k,((C={})[w]=y?"0":"",C[b]=v?"0":"",C.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",C)):Object.assign({},k,((t={})[w]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const lL={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];mO(o)&&_O(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});mO(r)&&_O(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const cL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,s=KO.reduce((function(e,n){return e[n]=function(e,t,n){var r=nL(e),o=[VO,LO].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[VO,zO].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,i),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var uL={left:"right",right:"left",bottom:"top",top:"bottom"};function dL(e){return e.replace(/left|right|bottom|top/g,(function(e){return uL[e]}))}var hL={start:"end",end:"start"};function pL(e){return e.replace(/start|end/g,(function(e){return hL[e]}))}function fL(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&gO(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function mL(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function gL(e,t,n){return t===HO?mL(function(e,t){var n=pO(e),r=CO(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var c=xO();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+kO(e),y:l}}(e,n)):fO(t)?function(e,t){var n=AO(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):mL(function(e){var t,n=CO(e),r=SO(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=vO(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=vO(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+kO(e),l=-r.scrollTop;return"rtl"===TO(o||n).direction&&(a+=vO(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}(CO(e)))}function vL(e,t,n,r){var o="clippingParents"===t?function(e){var t=DO(RO(e)),n=["absolute","fixed"].indexOf(TO(e).position)>=0&&mO(e)?OO(e):e;return fO(n)?t.filter((function(e){return fO(e)&&fL(e,n)&&"body"!==_O(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),s=i[0],a=i.reduce((function(t,n){var o=gL(e,n,r);return t.top=vO(o.top,t.top),t.right=yO(o.right,t.right),t.bottom=yO(o.bottom,t.bottom),t.left=vO(o.left,t.left),t}),gL(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function yL(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function bL(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function wL(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,s=void 0===i?e.strategy:i,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?HO:c,d=n.elementContext,h=void 0===d?qO:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=yL("number"!==typeof g?g:bL(g,BO)),y=h===qO?"reference":qO,b=e.rects.popper,w=e.elements[f?y:h],x=vL(fO(w)?w:w.contextElement||CO(e.elements.popper),l,u,s),A=AO(e.elements.reference),S=iL({reference:A,element:b,strategy:"absolute",placement:o}),_=mL(Object.assign({},b,S)),C=h===qO?_:A,k={top:x.top-C.top+v.top,bottom:C.bottom-x.bottom+v.bottom,left:x.left-C.left+v.left,right:C.right-x.right+v.right},T=e.modifiersData.offset;if(h===qO&&T){var E=T[o];Object.keys(k).forEach((function(e){var t=[zO,FO].indexOf(e)>=0?1:-1,n=[LO,FO].indexOf(e)>=0?"y":"x";k[e]+=E[n]*t}))}return k}const xL={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=nL(g),y=l||(v===g||!f?[dL(g)]:function(e){if(nL(e)===UO)return[];var t=dL(e);return[pL(e),t,pL(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(nL(n)===UO?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?KO:l,u=rL(r),d=u?a?GO:GO.filter((function(e){return rL(e)===u})):BO,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=wL(e,{placement:n,boundary:o,rootBoundary:i,padding:s})[nL(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,A=new Map,S=!0,_=b[0],C=0;C<b.length;C++){var k=b[C],T=nL(k),E=rL(k)===$O,I=[LO,FO].indexOf(T)>=0,P=I?"width":"height",R=wL(t,{placement:k,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),j=I?E?zO:VO:E?FO:LO;w[P]>x[P]&&(j=dL(j));var D=dL(j),N=[];if(i&&N.push(R[T]<=0),a&&N.push(R[j]<=0,R[D]<=0),N.every((function(e){return e}))){_=k,S=!1;break}A.set(k,N)}if(S)for(var M=function(e){var t=b.find((function(t){var n=A.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},O=f?3:1;O>0;O--){if("break"===M(O))break}t.placement!==_&&(t.modifiersData[r]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function AL(e,t,n){return vO(e,yO(t,n))}const SL={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=wL(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=nL(t.placement),y=rL(t.placement),b=!y,w=oL(v),x="x"===w?"y":"x",A=t.modifiersData.popperOffsets,S=t.rects.reference,_=t.rects.popper,C="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,k="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(A){if(i){var I,P="y"===w?LO:VO,R="y"===w?FO:zO,j="y"===w?"height":"width",D=A[w],N=D+g[P],M=D-g[R],O=p?-_[j]/2:0,L=y===$O?S[j]:_[j],F=y===$O?-_[j]:-S[j],z=t.elements.arrow,V=p&&z?PO(z):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=U[P],$=U[R],W=AL(0,S[j],V[j]),H=b?S[j]/2-O-W-B-k.mainAxis:L-W-B-k.mainAxis,q=b?-S[j]/2+O+W+$+k.mainAxis:F+W+$+k.mainAxis,G=t.elements.arrow&&OO(t.elements.arrow),K=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,Y=null!=(I=null==T?void 0:T[w])?I:0,Q=D+q-Y,X=AL(p?yO(N,D+H-Y-K):N,D,p?vO(M,Q):M);A[w]=X,E[w]=X-D}if(a){var J,Z="x"===w?LO:VO,ee="x"===w?FO:zO,te=A[x],ne="y"===x?"height":"width",re=te+g[Z],oe=te-g[ee],ie=-1!==[LO,VO].indexOf(v),se=null!=(J=null==T?void 0:T[x])?J:0,ae=ie?re:te-S[ne]-_[ne]-se+k.altAxis,le=ie?te+S[ne]+_[ne]-se-k.altAxis:oe,ce=p&&ie?function(e,t,n){var r=AL(e,t,n);return r>n?n:r}(ae,te,le):AL(p?ae:re,te,p?le:oe);A[x]=ce,E[x]=ce-te}t.modifiersData[r]=E}},requiresIfExists:["offset"]};const _L={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=nL(n.placement),l=oL(a),c=[VO,zO].indexOf(a)>=0?"height":"width";if(i&&s){var u=function(e,t){return yL("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:bL(e,BO))}(o.padding,n),d=PO(i),h="y"===l?LO:VO,p="y"===l?FO:zO,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=OO(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=u[h],w=v-d[c]-u[p],x=v/2-d[c]/2+y,A=AL(b,x,w),S=l;n.modifiersData[r]=((t={})[S]=A,t.centerOffset=A-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&fL(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function CL(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function kL(e){return[LO,zO,FO,VO].some((function(t){return e[t]>=0}))}var TL=eL({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,s=r.resize,a=void 0===s||s,l=pO(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,tL)})),a&&l.addEventListener("resize",n.update,tL),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,tL)})),a&&l.removeEventListener("resize",n.update,tL)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=iL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,l=void 0===a||a,c={placement:nL(t.placement),variation:rL(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,aL(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,aL(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},lL,cL,xL,SL,_L,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=wL(t,{elementContext:"reference"}),a=wL(t,{altBoundary:!0}),l=CL(s,r),c=CL(a,o,i),u=kL(l),d=kL(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});function EL(e){return(0,tT.Ay)("MuiPopper",e)}(0,Ke.A)("MuiPopper",["root"]);const IL=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],PL=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function RL(e){return"function"===typeof e?e():e}function jL(e){return void 0!==e.nodeType}const DL={},NL=r.forwardRef((function(e,t){var n;const{anchorEl:o,children:i,direction:s,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:p={},slots:f={},TransitionProps:m}=e,g=(0,De.A)(e,IL),v=r.useRef(null),y=(0,xT.A)(v,t),b=r.useRef(null),w=(0,xT.A)(b,h),x=r.useRef(w);(0,GI.A)((()=>{x.current=w}),[w]),r.useImperativeHandle(h,(()=>b.current),[]);const A=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(u,s),[S,_]=r.useState(A),[C,k]=r.useState(RL(o));r.useEffect((()=>{b.current&&b.current.forceUpdate()})),r.useEffect((()=>{o&&k(RL(o))}),[o]),(0,GI.A)((()=>{if(!C||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{_(e.placement)})(t)}}];null!=l&&(e=e.concat(l)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));const t=TL(C,v.current,(0,je.A)({placement:A},d,{modifiers:e}));return x.current(t),()=>{t.destroy(),x.current(null)}}),[C,a,l,c,d,A]);const T={placement:S};null!==m&&(T.TransitionProps=m);const E=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"]},EL,t)})(e),I=null!=(n=f.root)?n:"div",P=ME({elementType:I,externalSlotProps:p.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:E.root});return(0,$e.jsx)(I,(0,je.A)({},P,{children:"function"===typeof i?i(T):i}))})),ML=r.forwardRef((function(e,t){const{anchorEl:n,children:o,container:i,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=DL,popperRef:p,style:f,transition:m=!1,slotProps:g={},slots:v={}}=e,y=(0,De.A)(e,PL),[b,w]=r.useState(!0);if(!l&&!u&&(!m||b))return null;let x;if(i)x=i;else if(n){const e=RL(n);x=e&&jL(e)?(0,BI.A)(e).body:(0,BI.A)(null).body}const A=u||!l||m&&!b?void 0:"none",S=m?{in:u,onEnter:()=>{w(!1)},onExited:()=>{w(!0)}}:void 0;return(0,$e.jsx)(YI,{disablePortal:a,container:x,children:(0,$e.jsx)(NL,(0,je.A)({anchorEl:n,direction:s,disablePortal:a,modifiers:c,ref:t,open:m?!b:u,placement:d,popperOptions:h,popperRef:p,slotProps:g,slots:v},y,{style:(0,je.A)({position:"fixed",top:0,left:0,display:A},f),TransitionProps:S,children:o}))})})),OL=ML,LL=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],FL=(0,Xk.Ay)(OL,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),zL=r.forwardRef((function(e,t){var n;const r=(0,hO.A)(),o=(0,Ze.b)({props:e,name:"MuiPopper"}),{anchorEl:i,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:p,placement:f,popperOptions:m,popperRef:g,transition:v,slots:y,slotProps:b}=o,w=(0,De.A)(o,LL),x=null!=(n=null==y?void 0:y.root)?n:null==a?void 0:a.Root,A=(0,je.A)({anchorEl:i,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:p,placement:f,popperOptions:m,popperRef:g,transition:v},w);return(0,$e.jsx)(FL,(0,je.A)({as:s,direction:null==r?void 0:r.direction,slots:{root:x},slotProps:null!=b?b:l},A,{ref:t}))})),VL=zL;function UL(e){return(0,tT.Ay)("MuiPickersPopper",e)}(0,Ke.A)("MuiPickersPopper",["root","paper"]);const BL=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).activeElement;return e?e.shadowRoot?BL(e.shadowRoot):e:null},$L="@media (pointer: fine)",WL="undefined"!==typeof navigator&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),HL=WL&&WL[1]?parseInt(WL[1],10):null,qL=WL&&WL[2]?parseInt(WL[2],10):null,GL=HL&&HL<10||qL&&qL<13||!1,KL=()=>ZN("@media (prefers-reduced-motion: reduce)",{defaultMatches:!1})||GL,YL=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],QL=(0,Xk.Ay)(VL,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal}})),XL=(0,Xk.Ay)(sT,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})((e=>{let{ownerState:t}=e;return(0,je.A)({outline:0,transformOrigin:"top center"},t.placement.includes("top")&&{transformOrigin:"bottom center"})}));const JL=r.forwardRef(((e,t)=>{const{PaperComponent:n,popperPlacement:r,ownerState:o,children:i,paperSlotProps:s,paperClasses:a,onPaperClick:l,onPaperTouchStart:c}=e,u=(0,De.A)(e,YL),d=(0,je.A)({},o,{placement:r}),h=dO({elementType:n,externalSlotProps:s,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:a,ownerState:d});return(0,$e.jsx)(n,(0,je.A)({},u,h,{onClick:e=>{var t;l(e),null==(t=h.onClick)||t.call(h,e)},onTouchStart:e=>{var t;c(e),null==(t=h.onTouchStart)||t.call(h,e)},ownerState:d,children:i}))}));function ZL(e){var t,n,o,i;const s=eM({props:e,name:"MuiPickersPopper"}),{anchorEl:a,children:l,containerRef:c=null,shouldRestoreFocus:u,onBlur:d,onDismiss:h,open:p,role:f,placement:m,slots:g,slotProps:v,reduceAnimations:y}=s;r.useEffect((()=>{function e(e){!p||"Escape"!==e.key&&"Esc"!==e.key||h()}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[h,p]);const b=r.useRef(null);r.useEffect((()=>{"tooltip"===f||u&&!u()||(p?b.current=BL(document):b.current&&b.current instanceof HTMLElement&&setTimeout((()=>{b.current instanceof HTMLElement&&b.current.focus()})))}),[p,f,u]);const[w,x,A]=function(e,t){const n=r.useRef(!1),o=r.useRef(!1),i=r.useRef(null),s=r.useRef(!1);r.useEffect((()=>{if(e)return document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",t,!0),()=>{document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",t,!0),s.current=!1};function t(){s.current=!0}}),[e]);const a=(0,iP.A)((e=>{if(!s.current)return;const r=o.current;o.current=!1;const a=(0,BI.A)(i.current);if(!i.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,a))return;if(n.current)return void(n.current=!1);let l;l=e.composedPath?e.composedPath().indexOf(i.current)>-1:!a.documentElement.contains(e.target)||i.current.contains(e.target),l||r||t(e)})),l=()=>{o.current=!0};return r.useEffect((()=>{if(e){const e=(0,BI.A)(i.current),t=()=>{n.current=!0};return e.addEventListener("touchstart",a),e.addEventListener("touchmove",t),()=>{e.removeEventListener("touchstart",a),e.removeEventListener("touchmove",t)}}}),[e,a]),r.useEffect((()=>{if(e){const e=(0,BI.A)(i.current);return e.addEventListener("click",a),()=>{e.removeEventListener("click",a),o.current=!1}}}),[e,a]),[i,l,l]}(p,null!=d?d:h),S=r.useRef(null),_=(0,xT.A)(S,c),C=(0,xT.A)(_,w),k=s,T=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"],paper:["paper"]},UL,t)})(k),E=KL(),I=null!=y?y:E,P=(null!=(t=null==g?void 0:g.desktopTransition)?t:I)?ZI:UI,R=null!=(n=null==g?void 0:g.desktopTrapFocus)?n:qI,j=null!=(o=null==g?void 0:g.desktopPaper)?o:XL,D=null!=(i=null==g?void 0:g.popper)?i:QL,N=dO({elementType:D,externalSlotProps:null==v?void 0:v.popper,additionalProps:{transition:!0,role:f,open:p,anchorEl:a,placement:m,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),h())}},className:T.root,ownerState:s});return(0,$e.jsx)(D,(0,je.A)({},N,{children:e=>{let{TransitionProps:t,placement:n}=e;return(0,$e.jsx)(R,(0,je.A)({open:p,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:"tooltip"===f,isEnabled:()=>!0},null==v?void 0:v.desktopTrapFocus,{children:(0,$e.jsx)(P,(0,je.A)({},t,null==v?void 0:v.desktopTransition,{children:(0,$e.jsx)(JL,{PaperComponent:j,ownerState:k,popperPlacement:n,ref:C,onPaperClick:x,onPaperTouchStart:A,paperClasses:T.paper,paperSlotProps:null==v?void 0:v.desktopPaper,children:l})}))}))}}))}var eF=n(3931);function tF(e,t,n,o){const{value:i,onError:s}=e,a=qM(),l=r.useRef(o),c=t({adapter:a,value:i,props:e});return r.useEffect((()=>{s&&!n(c,l.current)&&s(c,i),l.current=c}),[n,s,l,c,i]),c}const nF=e=>{let{timezone:t,value:n,defaultValue:o,onChange:i,valueManager:s}=e;var a,l;const c=GM(),u=r.useRef(o),d=null!=(a=null!=n?n:u.current)?a:s.emptyValue,h=r.useMemo((()=>s.getTimezone(c,d)),[c,s,d]),p=(0,iP.A)((e=>null==h?e:s.setTimezone(c,h,e))),f=null!=(l=null!=t?t:h)?l:"default",m=r.useMemo((()=>s.setTimezone(c,f,d)),[s,c,f,d]),g=(0,iP.A)((function(e){const t=p(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null==i||i(t,...r)}));return{value:m,handleValueChange:g,timezone:f}},rF=e=>{let{name:t,timezone:n,value:r,defaultValue:o,onChange:i,valueManager:s}=e;const[a,l]=(0,eF.A)({name:t,state:"value",controlled:r,default:null!=o?o:s.emptyValue}),c=(0,iP.A)((function(e){l(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==i||i(e,...n)}));return nF({timezone:n,value:a,defaultValue:void 0,onChange:c,valueManager:s})},oF=e=>{let{props:t,valueManager:n,valueType:o,wrapperVariant:i,validator:s}=e;const{onAccept:a,onChange:l,value:c,defaultValue:u,closeOnSelect:d="desktop"===i,selectedSections:h,onSelectedSectionsChange:p,timezone:f}=t,{current:m}=r.useRef(u),{current:g}=r.useRef(void 0!==c);const v=GM(),y=qM(),[b,w]=(0,eF.A)({controlled:h,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:x,setIsOpen:A}=(e=>{let{open:t,onOpen:n,onClose:o}=e;const i=r.useRef("boolean"===typeof t).current,[s,a]=r.useState(!1);return r.useEffect((()=>{if(i){if("boolean"!==typeof t)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");a(t)}}),[i,t]),{isOpen:s,setIsOpen:r.useCallback((e=>{i||a(e),e&&n&&n(),!e&&o&&o()}),[i,n,o])}})(t),[S,_]=r.useState((()=>{let e;return e=void 0!==c?c:void 0!==m?m:n.emptyValue,{draft:e,lastPublishedValue:e,lastCommittedValue:e,lastControlledValue:c,hasBeenModifiedSinceMount:!1}})),{timezone:C,handleValueChange:k}=nF({timezone:f,value:c,defaultValue:m,onChange:l,valueManager:n});tF((0,je.A)({},t,{value:S.draft,timezone:C}),s,n.isSameError,n.defaultErrorState);const T=(0,iP.A)((e=>{const r={action:e,dateState:S,hasChanged:t=>!n.areValuesEqual(v,e.value,t),isControlled:g,closeOnSelect:d},o=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:o}=e,i=!o&&!r.hasBeenModifiedSinceMount;return"setValueFromField"===t.name||("setValueFromAction"===t.name?!(!i||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastPublishedValue):("setValueFromView"===t.name&&"shallow"!==t.selectionState||"setValueFromShortcut"===t.name)&&(!!i||n(r.lastPublishedValue)))})(r),i=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:o,closeOnSelect:i}=e,s=!o&&!r.hasBeenModifiedSinceMount;return"setValueFromAction"===t.name?!(!s||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastCommittedValue):"setValueFromView"===t.name&&"finish"===t.selectionState&&i?!!s||n(r.lastCommittedValue):"setValueFromShortcut"===t.name&&"accept"===t.changeImportance&&n(r.lastCommittedValue)})(r),l=(e=>{const{action:t,closeOnSelect:n}=e;return"setValueFromAction"===t.name||("setValueFromView"===t.name?"finish"===t.selectionState&&n:"setValueFromShortcut"===t.name&&"accept"===t.changeImportance)})(r);if(_((t=>(0,je.A)({},t,{draft:e.value,lastPublishedValue:o?e.value:t.lastPublishedValue,lastCommittedValue:i?e.value:t.lastCommittedValue,hasBeenModifiedSinceMount:!0}))),o){const n={validationError:"setValueFromField"===e.name?e.context.validationError:s({adapter:y,value:e.value,props:(0,je.A)({},t,{value:e.value,timezone:C})})};"setValueFromShortcut"===e.name&&null!=e.shortcut&&(n.shortcut=e.shortcut),k(e.value,n)}i&&a&&a(e.value),l&&A(!1)}));if(void 0!==c&&(void 0===S.lastControlledValue||!n.areValuesEqual(v,S.lastControlledValue,c))){const e=n.areValuesEqual(v,S.draft,c);_((t=>(0,je.A)({},t,{lastControlledValue:c},e?{}:{lastCommittedValue:c,lastPublishedValue:c,draft:c,hasBeenModifiedSinceMount:!0})))}const E=(0,iP.A)((()=>{T({value:n.emptyValue,name:"setValueFromAction",pickerAction:"clear"})})),I=(0,iP.A)((()=>{T({value:S.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})})),P=(0,iP.A)((()=>{T({value:S.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})})),R=(0,iP.A)((()=>{T({value:S.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})})),j=(0,iP.A)((()=>{T({value:n.getTodayValue(v,C,o),name:"setValueFromAction",pickerAction:"today"})})),D=(0,iP.A)((()=>A(!0))),N=(0,iP.A)((()=>A(!1))),M=(0,iP.A)((function(e){return T({name:"setValueFromView",value:e,selectionState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"partial"})})),O=(0,iP.A)(((e,t,n)=>T({name:"setValueFromShortcut",value:e,changeImportance:null!=t?t:"accept",shortcut:n}))),L=(0,iP.A)(((e,t)=>T({name:"setValueFromField",value:e,context:t}))),F=(0,iP.A)((e=>{w(e),null==p||p(e)})),z={onClear:E,onAccept:I,onDismiss:P,onCancel:R,onSetToday:j,onOpen:D,onClose:N},V={value:S.draft,onChange:L,selectedSections:b,onSelectedSectionsChange:F},U=r.useMemo((()=>n.cleanValue(v,S.draft)),[v,n,S.draft]),B={value:U,onChange:M,onClose:N,open:x,onSelectedSectionsChange:F},$=(0,je.A)({},z,{value:U,onChange:M,onSelectShortcut:O,isValid:e=>{const r=s({adapter:y,value:e,props:(0,je.A)({},t,{value:e,timezone:C})});return!n.hasError(r)}});return{open:x,fieldProps:V,viewProps:B,layoutProps:$,actions:z}};function iF(e){let{onChange:t,onViewChange:n,openTo:o,view:i,views:s,autoFocus:a,focusedView:l,onFocusedViewChange:c}=e;var u,d;const h=r.useRef(o),p=r.useRef(s),f=r.useRef(s.includes(o)?o:s[0]),[m,g]=(0,eF.A)({name:"useViews",state:"view",controlled:i,default:f.current}),v=r.useRef(a?m:null),[y,b]=(0,eF.A)({name:"useViews",state:"focusedView",controlled:l,default:v.current});r.useEffect((()=>{(h.current&&h.current!==o||p.current&&p.current.some((e=>!s.includes(e))))&&(g(s.includes(o)?o:s[0]),p.current=s,h.current=o)}),[o,g,m,s]);const w=s.indexOf(m),x=null!=(u=s[w-1])?u:null,A=null!=(d=s[w+1])?d:null,S=(0,iP.A)(((e,t)=>{b(t?e:t=>e===t?null:t),null==c||c(e,t)})),_=(0,iP.A)((e=>{S(e,!0),e!==m&&(g(e),n&&n(e))})),C=(0,iP.A)((()=>{A&&_(A)})),k=(0,iP.A)(((e,n,r)=>{const o="finish"===n,i=r?s.indexOf(r)<s.length-1:Boolean(A);if(t(e,o&&i?"partial":n,r),r&&r!==m){const e=s[s.indexOf(r)+1];e&&_(e)}else o&&C()}));return{view:m,setView:_,focusedView:y,setFocusedView:S,nextView:A,previousView:x,defaultView:s.includes(o)?o:s[0],goToNextView:C,setValueAndGoToNextView:k}}const sF=["className","sx"],aF=e=>{let{props:t,propsFromPickerValue:n,additionalViewProps:o,inputRef:i,autoFocusView:s}=e;const{onChange:a,open:l,onSelectedSectionsChange:c,onClose:u}=n,{view:d,views:h,openTo:p,onViewChange:f,viewRenderers:m,timezone:g}=t,v=(0,De.A)(t,sF),{view:y,setView:b,defaultView:w,focusedView:x,setFocusedView:A,setValueAndGoToNextView:S}=iF({view:d,views:h,openTo:p,onChange:a,onViewChange:f,autoFocus:s}),{hasUIView:_,viewModeLookup:C}=r.useMemo((()=>h.reduce(((e,t)=>{let n;return n=null!=m[t]?"UI":"field",e.viewModeLookup[t]=n,"UI"===n&&(e.hasUIView=!0),e}),{hasUIView:!1,viewModeLookup:{}})),[m,h]),k=r.useMemo((()=>h.reduce(((e,t)=>null!=m[t]&&(e=>mM.includes(e))(t)?e+1:e),0)),[m,h]),T=C[y],E=(0,iP.A)((()=>"UI"===T)),[I,P]=r.useState("UI"===T?y:null);I!==y&&"UI"===C[y]&&P(y),(0,GI.A)((()=>{"field"===T&&l&&(u(),setTimeout((()=>{null==i||i.current.focus(),c(y)})))}),[y]),(0,GI.A)((()=>{if(!l)return;let e=y;"field"===T&&null!=I&&(e=I),e!==w&&"UI"===C[e]&&"UI"===C[w]&&(e=w),e!==y&&b(e),A(e,!0)}),[l]);return{hasUIView:_,shouldRestoreFocus:E,layoutProps:{views:h,view:I,onViewChange:b},renderCurrentView:()=>{if(null==I)return null;const e=m[I];return null==e?null:e((0,je.A)({},v,o,n,{views:h,timezone:g,onChange:S,view:I,onViewChange:b,focusedView:x,onFocusedViewChange:A,showViewSwitcher:k>1,timeViewsCount:k}))}}};function lF(){return"undefined"===typeof window?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?90===Math.abs(window.screen.orientation.angle)?"landscape":"portrait":window.orientation&&90===Math.abs(Number(window.orientation))?"landscape":"portrait"}const cF=(e,t)=>{const[n,o]=r.useState(lF);if((0,GI.A)((()=>{const e=()=>{o(lF())};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}}),[]),i=e,s=["hours","minutes","seconds"],Array.isArray(s)?s.every((e=>-1!==i.indexOf(e))):-1!==i.indexOf(s))return!1;var i,s;return"landscape"===(t||n)},uF=(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",n=!1;const r=Array.isArray(e)?e.join("\n"):e}(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]),e=>{let{props:t,valueManager:n,valueType:r,wrapperVariant:o,inputRef:i,additionalViewProps:s,validator:a,autoFocusView:l}=e;const c=oF({props:t,valueManager:n,valueType:r,wrapperVariant:o,validator:a}),u=aF({props:t,inputRef:i,additionalViewProps:s,autoFocusView:l,propsFromPickerValue:c.viewProps}),d=(e=>{let{props:t,propsFromPickerValue:n,propsFromPickerViews:r,wrapperVariant:o}=e;const{orientation:i}=t,s=cF(r.views,i);return{layoutProps:(0,je.A)({},r,n,{isLandscape:s,wrapperVariant:o,disabled:t.disabled,readOnly:t.readOnly})}})({props:t,wrapperVariant:o,propsFromPickerValue:c.layoutProps,propsFromPickerViews:u.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:d.layoutProps}});function dF(e){return(0,tT.Ay)("MuiPickersLayout",e)}const hF=(0,Ke.A)("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]);function pF(e){return(0,tT.Ay)("MuiDialogActions",e)}(0,Ke.A)("MuiDialogActions",["root","spacing"]);const fF=["className","disableSpacing"],mF=(0,Xk.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),gF=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:o=!1}=n,i=(0,De.A)(n,fF),s=(0,je.A)({},n,{disableSpacing:o}),a=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,Qk.A)(r,pF,t)})(s);return(0,$e.jsx)(mF,(0,je.A)({className:(0,Ne.A)(a.root,r),ownerState:s,ref:t},i))})),vF=gF,yF=["onAccept","onClear","onCancel","onSetToday","actions"];function bF(e){const{onAccept:t,onClear:n,onCancel:r,onSetToday:o,actions:i}=e,s=(0,De.A)(e,yF),a=YM();if(null==i||0===i.length)return null;const l=null==i?void 0:i.map((e=>{switch(e){case"clear":return(0,$e.jsx)(nI,{onClick:n,children:a.clearButtonLabel},e);case"cancel":return(0,$e.jsx)(nI,{onClick:r,children:a.cancelButtonLabel},e);case"accept":return(0,$e.jsx)(nI,{onClick:t,children:a.okButtonLabel},e);case"today":return(0,$e.jsx)(nI,{onClick:o,children:a.todayButtonLabel},e);default:return null}}));return(0,$e.jsx)(vF,(0,je.A)({},s,{children:l}))}function wF(e){return(0,tT.Ay)("MuiListItem",e)}const xF=(0,Ke.A)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function AF(e){return(0,tT.Ay)("MuiListItemButton",e)}const SF=(0,Ke.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function _F(e){return(0,tT.Ay)("MuiListItemSecondaryAction",e)}(0,Ke.A)("MuiListItemSecondaryAction",["root","disableGutters"]);const CF=["className"],kF=(0,Xk.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,je.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),TF=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiListItemSecondaryAction"}),{className:o}=n,i=(0,De.A)(n,CF),s=r.useContext(oI),a=(0,je.A)({},n,{disableGutters:s.disableGutters}),l=(e=>{const{disableGutters:t,classes:n}=e,r={root:["root",t&&"disableGutters"]};return(0,Qk.A)(r,_F,n)})(a);return(0,$e.jsx)(kF,(0,je.A)({className:(0,Ne.A)(l.root,o),ownerState:a,ref:t},i))}));TF.muiName="ListItemSecondaryAction";const EF=TF,IF=["className"],PF=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],RF=(0,Xk.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,je.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{[`& > .${SF.root}`]:{paddingRight:48}},{[`&.${xF.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${xF.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Zk.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${xF.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Zk.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${xF.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xF.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Zk.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Zk.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),jF=(0,Xk.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),DF=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiListItem"}),{alignItems:o="center",autoFocus:i=!1,button:s=!1,children:a,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:p}={},dense:f=!1,disabled:m=!1,disableGutters:g=!1,disablePadding:v=!1,divider:y=!1,focusVisibleClassName:b,secondaryAction:w,selected:x=!1,slotProps:A={},slots:S={}}=n,_=(0,De.A)(n.ContainerProps,IF),C=(0,De.A)(n,PF),k=r.useContext(oI),T=r.useMemo((()=>({dense:f||k.dense||!1,alignItems:o,disableGutters:g})),[o,k.dense,f,g]),E=r.useRef(null);(0,hI.A)((()=>{i&&E.current&&E.current.focus()}),[i]);const I=r.Children.toArray(a),P=I.length&&(0,Kj.A)(I[I.length-1],["ListItemSecondaryAction"]),R=(0,je.A)({},n,{alignItems:o,autoFocus:i,button:s,dense:T.dense,disabled:m,disableGutters:g,disablePadding:v,divider:y,hasSecondaryAction:P,selected:x}),j=(e=>{const{alignItems:t,button:n,classes:r,dense:o,disabled:i,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e,d={root:["root",o&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]};return(0,Qk.A)(d,wF,r)})(R),D=(0,HT.A)(E,t),N=S.root||u.Root||RF,M=A.root||d.root||{},O=(0,je.A)({className:(0,Ne.A)(j.root,M.className,l),disabled:m},C);let L=c||"li";return s&&(O.component=c||"div",O.focusVisibleClassName=(0,Ne.A)(xF.focusVisible,b),L=kE),P?(L=O.component||c?L:"div","li"===h&&("li"===L?L="div":"li"===O.component&&(O.component="div")),(0,$e.jsx)(oI.Provider,{value:T,children:(0,$e.jsxs)(jF,(0,je.A)({as:h,className:(0,Ne.A)(j.container,p),ref:D,ownerState:R},_,{children:[(0,$e.jsx)(N,(0,je.A)({},M,!AT(N)&&{as:L,ownerState:(0,je.A)({},R,M.ownerState)},O,{children:I})),I.pop()]}))})):(0,$e.jsx)(oI.Provider,{value:T,children:(0,$e.jsxs)(N,(0,je.A)({},M,{as:L,ref:D},!AT(N)&&{ownerState:(0,je.A)({},R,M.ownerState)},O,{children:[I,w&&(0,$e.jsx)(EF,{children:w})]}))})})),NF=DF,MF=(0,yT.A)((0,$e.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function OF(e){return(0,tT.Ay)("MuiChip",e)}const LF=(0,Ke.A)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),FF=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],zF=(0,Xk.Ay)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:l}=n;return[{[`& .${LF.avatar}`]:t.avatar},{[`& .${LF.avatar}`]:t[`avatar${(0,Jk.A)(a)}`]},{[`& .${LF.avatar}`]:t[`avatarColor${(0,Jk.A)(r)}`]},{[`& .${LF.icon}`]:t.icon},{[`& .${LF.icon}`]:t[`icon${(0,Jk.A)(a)}`]},{[`& .${LF.icon}`]:t[`iconColor${(0,Jk.A)(o)}`]},{[`& .${LF.deleteIcon}`]:t.deleteIcon},{[`& .${LF.deleteIcon}`]:t[`deleteIcon${(0,Jk.A)(a)}`]},{[`& .${LF.deleteIcon}`]:t[`deleteIconColor${(0,Jk.A)(r)}`]},{[`& .${LF.deleteIcon}`]:t[`deleteIcon${(0,Jk.A)(l)}Color${(0,Jk.A)(r)}`]},t.root,t[`size${(0,Jk.A)(a)}`],t[`color${(0,Jk.A)(r)}`],i&&t.clickable,i&&"default"!==r&&t[`clickableColor${(0,Jk.A)(r)})`],s&&t.deletable,s&&"default"!==r&&t[`deletableColor${(0,Jk.A)(r)}`],t[l],t[`${l}${(0,Jk.A)(r)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,je.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${LF.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${LF.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},[`& .${LF.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${LF.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${LF.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${LF.icon}`]:(0,je.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,je.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),[`& .${LF.deleteIcon}`]:(0,je.A)({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:(0,Zk.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,Zk.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?`rgba(${t.vars.palette[n.color].contrastTextChannel} / 0.7)`:(0,Zk.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{[`&.${LF.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Zk.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{[`&.${LF.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Zk.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${LF.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Zk.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{[`&:hover, &.${LF.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${LF.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${LF.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${LF.avatar}`]:{marginLeft:4},[`& .${LF.avatarSmall}`]:{marginLeft:2},[`& .${LF.icon}`]:{marginLeft:4},[`& .${LF.iconSmall}`]:{marginLeft:2},[`& .${LF.deleteIcon}`]:{marginRight:5},[`& .${LF.deleteIconSmall}`]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,Zk.X4)(t.palette[n.color].main,.7)}`,[`&.${LF.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Zk.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},[`&.${LF.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:(0,Zk.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},[`& .${LF.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,Zk.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})})),VF=(0,Xk.Ay)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${(0,Jk.A)(r)}`]]}})((e=>{let{ownerState:t}=e;return(0,je.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})}));function UF(e){return"Backspace"===e.key||"Delete"===e.key}const BF=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiChip"}),{avatar:o,className:i,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:p,onDelete:f,onKeyDown:m,onKeyUp:g,size:v="medium",variant:y="filled",tabIndex:b,skipFocusWhenDisabled:w=!1}=n,x=(0,De.A)(n,FF),A=r.useRef(null),S=(0,HT.A)(A,t),_=e=>{e.stopPropagation(),f&&f(e)},C=!(!1===s||!p)||s,k=C||f?kE:l||"div",T=(0,je.A)({},n,{component:k,disabled:u,size:v,color:a,iconColor:r.isValidElement(d)&&d.props.color||a,onDelete:!!f,clickable:C,variant:y}),E=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:l}=e,c={root:["root",l,n&&"disabled",`size${(0,Jk.A)(r)}`,`color${(0,Jk.A)(o)}`,a&&"clickable",a&&`clickableColor${(0,Jk.A)(o)}`,s&&"deletable",s&&`deletableColor${(0,Jk.A)(o)}`,`${l}${(0,Jk.A)(o)}`],label:["label",`label${(0,Jk.A)(r)}`],avatar:["avatar",`avatar${(0,Jk.A)(r)}`,`avatarColor${(0,Jk.A)(o)}`],icon:["icon",`icon${(0,Jk.A)(r)}`,`iconColor${(0,Jk.A)(i)}`],deleteIcon:["deleteIcon",`deleteIcon${(0,Jk.A)(r)}`,`deleteIconColor${(0,Jk.A)(o)}`,`deleteIcon${(0,Jk.A)(l)}Color${(0,Jk.A)(o)}`]};return(0,Qk.A)(c,OF,t)})(T),I=k===kE?(0,je.A)({component:l||"div",focusVisibleClassName:E.focusVisible},f&&{disableRipple:!0}):{};let P=null;f&&(P=c&&r.isValidElement(c)?r.cloneElement(c,{className:(0,Ne.A)(c.props.className,E.deleteIcon),onClick:_}):(0,$e.jsx)(MF,{className:(0,Ne.A)(E.deleteIcon),onClick:_}));let R=null;o&&r.isValidElement(o)&&(R=r.cloneElement(o,{className:(0,Ne.A)(E.avatar,o.props.className)}));let j=null;return d&&r.isValidElement(d)&&(j=r.cloneElement(d,{className:(0,Ne.A)(E.icon,d.props.className)})),(0,$e.jsxs)(zF,(0,je.A)({as:k,className:(0,Ne.A)(E.root,i),disabled:!(!C||!u)||void 0,onClick:p,onKeyDown:e=>{e.currentTarget===e.target&&UF(e)&&e.preventDefault(),m&&m(e)},onKeyUp:e=>{e.currentTarget===e.target&&(f&&UF(e)?f(e):"Escape"===e.key&&A.current&&A.current.blur()),g&&g(e)},ref:S,tabIndex:w&&u?-1:b,ownerState:T},I,x,{children:[R||j,(0,$e.jsx)(VF,{className:(0,Ne.A)(E.label),ownerState:T,children:h}),P]}))})),$F=BF,WF=320,HF=["items","changeImportance","isLandscape","onChange","isValid"],qF=["getValue"];function GF(e){const{items:t,changeImportance:n,onChange:r,isValid:o}=e,i=(0,De.A)(e,HF);if(null==t||0===t.length)return null;const s=t.map((e=>{let{getValue:t}=e,i=(0,De.A)(e,qF);const s=t({isValid:o});return{label:i.label,onClick:()=>{r(s,n,i)},disabled:!o(s)}}));return(0,$e.jsx)(cI,(0,je.A)({dense:!0,sx:[{maxHeight:334,maxWidth:200,overflow:"auto"},...Array.isArray(i.sx)?i.sx:[i.sx]]},i,{children:s.map((e=>(0,$e.jsx)(NF,{children:(0,$e.jsx)($F,(0,je.A)({},e))},e.label)))}))}const KF=e=>{var t,n;const{wrapperVariant:r,onAccept:o,onClear:i,onCancel:s,onSetToday:a,view:l,views:c,onViewChange:u,value:d,onChange:h,onSelectShortcut:p,isValid:f,isLandscape:m,disabled:g,readOnly:v,children:y,components:b,componentsProps:w,slots:x,slotProps:A}=e,S=null!=x?x:sO(b),_=null!=A?A:w,C=(e=>{const{classes:t,isLandscape:n}=e,r={root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]};return(0,Qk.A)(r,dF,t)})(e),k=null!=(t=null==S?void 0:S.actionBar)?t:bF,T=dO({elementType:k,externalSlotProps:null==_?void 0:_.actionBar,additionalProps:{onAccept:o,onClear:i,onCancel:s,onSetToday:a,actions:"desktop"===r?[]:["cancel","accept"],className:C.actionBar},ownerState:(0,je.A)({},e,{wrapperVariant:r})}),E=(0,$e.jsx)(k,(0,je.A)({},T)),I=null==S?void 0:S.toolbar,P=dO({elementType:I,externalSlotProps:null==_?void 0:_.toolbar,additionalProps:{isLandscape:m,onChange:h,value:d,view:l,onViewChange:u,views:c,disabled:g,readOnly:v,className:C.toolbar},ownerState:(0,je.A)({},e,{wrapperVariant:r})}),R=function(e){return null!==e.view}(P)&&I?(0,$e.jsx)(I,(0,je.A)({},P)):null,j=y,D=null==S?void 0:S.tabs,N=l&&D?(0,$e.jsx)(D,(0,je.A)({view:l,onViewChange:u,className:C.tabs},null==_?void 0:_.tabs)):null,M=null!=(n=null==S?void 0:S.shortcuts)?n:GF,O=dO({elementType:M,externalSlotProps:null==_?void 0:_.shortcuts,additionalProps:{isValid:f,isLandscape:m,onChange:p,className:C.shortcuts},ownerState:{isValid:f,isLandscape:m,onChange:p,className:C.shortcuts,wrapperVariant:r}});return{toolbar:R,content:j,tabs:N,actionBar:E,shortcuts:l&&M?(0,$e.jsx)(M,(0,je.A)({},O)):null}},YF=(0,Xk.Ay)("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:n}=e;return{display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${hF.toolbar}`]:n.isLandscape?{gridColumn:"rtl"===t.direction?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${hF.shortcuts}`]:n.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:"rtl"===t.direction?3:1,gridRow:"2 / 3"},[`& .${hF.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}}));YF.propTypes={as:nM().elementType,ownerState:nM().shape({isLandscape:nM().bool.isRequired}).isRequired,sx:nM().oneOfType([nM().arrayOf(nM().oneOfType([nM().func,nM().object,nM().bool])),nM().func,nM().object])};const QF=(0,Xk.Ay)("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),XF=function(e){const t=eM({props:e,name:"MuiPickersLayout"}),{toolbar:n,content:o,tabs:i,actionBar:s,shortcuts:a}=KF(t),{sx:l,className:c,isLandscape:u,ref:d,wrapperVariant:h}=t,p=t,f=(e=>{const{isLandscape:t,classes:n}=e,r={root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]};return(0,Qk.A)(r,dF,n)})(p);return(0,$e.jsxs)(YF,{ref:d,sx:l,className:(0,Ne.A)(c,f.root),ownerState:p,children:[u?a:n,u?n:a,(0,$e.jsx)(QF,{className:f.contentWrapper,children:"desktop"===h?(0,$e.jsxs)(r.Fragment,{children:[o,i]}):(0,$e.jsxs)(r.Fragment,{children:[i,o]})}),s]})},JF=["props","getOpenDialogAriaText"],ZF=["ownerState"],ez=["ownerState"],tz=(0,yT.A)((0,$e.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),nz=(0,yT.A)((0,$e.jsx)("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),rz=(0,yT.A)((0,$e.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),oz=(0,yT.A)((0,$e.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),iz=((0,yT.A)((0,$e.jsxs)(r.Fragment,{children:[(0,$e.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,$e.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),(0,yT.A)((0,$e.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),(0,yT.A)((0,$e.jsxs)(r.Fragment,{children:[(0,$e.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,$e.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),(0,yT.A)((0,$e.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")),sz=e=>{const t=GM(),n=YM(),o=qM(),i="rtl"===DI().direction,{valueManager:s,fieldValueManager:a,valueType:l,validator:c,internalProps:u,internalProps:{value:d,defaultValue:h,referenceDate:p,onChange:f,format:m,formatDensity:g="dense",selectedSections:v,onSelectedSectionsChange:y,shouldRespectLeadingZeros:b=!1,timezone:w}}=e,{timezone:x,value:A,handleValueChange:S}=nF({timezone:w,value:d,defaultValue:h,onChange:f,valueManager:s}),_=r.useMemo((()=>((e,t)=>{const n=e.dateWithTimezone(void 0,t),r=e.endOfYear(n),o=e.endOfDay(n),{maxDaysInMonth:i,longestMonth:s}=cM(e,n).reduce(((t,n)=>{const r=e.getDaysInMonth(n);return r>t.maxDaysInMonth?{maxDaysInMonth:r,longestMonth:n}:t}),{maxDaysInMonth:0,longestMonth:null});return{year:n=>{let{format:r}=n;return{minimum:0,maximum:RM(e,t,r)?9999:99}},month:()=>({minimum:1,maximum:e.getMonth(r)+1}),day:t=>{let{currentDate:n}=t;return{minimum:1,maximum:null!=n&&e.isValid(n)?e.getDaysInMonth(n):i,longestMonth:s}},weekDay:n=>{let{format:r,contentType:o}=n;if("digit"===o){const n=xM(e,t,r).map(Number);return{minimum:Math.min(...n),maximum:Math.max(...n)}}return{minimum:1,maximum:7}},hours:t=>{let{format:r}=t;const i=e.getHours(o);return e.formatByString(e.endOfDay(n),r)!==i.toString()?{minimum:1,maximum:Number(e.formatByString(e.startOfDay(n),r))}:{minimum:0,maximum:i}},minutes:()=>({minimum:0,maximum:e.getMinutes(o)}),seconds:()=>({minimum:0,maximum:e.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:0})}})(t,x)),[t,x]),C=r.useCallback((function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.getSectionsFromValue(t,e,r,i,(e=>DM(t,x,n,m,e,g,b,i)))}),[a,m,n,i,b,t,g,x]),k=r.useMemo((()=>a.getValueStrFromSections(C(s.emptyValue),i)),[a,C,s.emptyValue,i]),[T,E]=r.useState((()=>{const e=C(A);NM();const n={sections:e,value:A,referenceValue:s.emptyValue,tempValueStrAndroid:null},r=(e=>Math.max(...e.map((e=>{var t;return null!=(t=vM[e.type])?t:1}))))(e),o=s.getInitialReferenceValue({referenceDate:p,value:A,utils:t,props:u,granularity:r,timezone:x});return(0,je.A)({},n,{referenceValue:o})})),[I,P]=(0,eF.A)({controlled:v,default:null,name:"useField",state:"selectedSectionIndexes"}),R=e=>{P(e),null==y||y(e),E((e=>(0,je.A)({},e,{selectedSectionQuery:null})))},j=r.useMemo((()=>{if(null==I)return null;if("all"===I)return{startIndex:0,endIndex:T.sections.length-1,shouldSelectBoundarySelectors:!0};if("number"===typeof I)return{startIndex:I,endIndex:I};if("string"===typeof I){const e=T.sections.findIndex((e=>e.type===I));return{startIndex:e,endIndex:e}}return I}),[I,T.sections]),D=e=>{let{value:n,referenceValue:r,sections:i}=e;if(E((e=>(0,je.A)({},e,{sections:i,value:n,referenceValue:r,tempValueStrAndroid:null}))),s.areValuesEqual(t,T.value,n))return;const a={validationError:c({adapter:o,value:n,props:(0,je.A)({},u,{value:n,timezone:x})})};S(n,a)},N=(e,t)=>{const n=[...T.sections];return n[e]=(0,je.A)({},n[e],{value:t,modified:!0}),EM(n,i)};return r.useEffect((()=>{const e=C(T.value);NM(),E((t=>(0,je.A)({},t,{sections:e})))}),[m,t.locale]),r.useEffect((()=>{let e=!1;e=!s.areValuesEqual(t,T.value,A)||s.getTimezone(t,T.value)!==s.getTimezone(t,A),e&&E((e=>(0,je.A)({},e,{value:A,referenceValue:a.updateReferenceValue(t,A,e.referenceValue),sections:C(A)})))}),[A]),{state:T,selectedSectionIndexes:j,setSelectedSections:R,clearValue:()=>{D({value:s.emptyValue,referenceValue:T.referenceValue,sections:C(s.emptyValue)})},clearActiveSection:()=>{if(null==j)return;const e=T.sections[j.startIndex],n=a.getActiveDateManager(t,T,e),r=n.getSections(T.sections).filter((e=>""!==e.value)).length===(""===e.value?0:1),o=N(j.startIndex,""),i=r?null:t.date(new Date("")),s=n.getNewValuesFromNewActiveDate(i);(null!=i&&!t.isValid(i))!==(null!=n.date&&!t.isValid(n.date))?D((0,je.A)({},s,{sections:o})):E((e=>(0,je.A)({},e,s,{sections:o,tempValueStrAndroid:null})))},updateSectionValue:e=>{let{activeSection:n,newSectionValue:r,shouldGoToNextSection:o}=e;o&&j&&j.startIndex<T.sections.length-1?R(j.startIndex+1):j&&j.startIndex!==j.endIndex&&R(j.startIndex);const i=a.getActiveDateManager(t,T,n),s=N(j.startIndex,r),l=i.getSections(s),c=((e,t)=>{const n=t.some((e=>"day"===e.type)),r=[],o=[];for(let a=0;a<t.length;a+=1){const e=t[a];n&&"weekDay"===e.type||(r.push(e.format),o.push(kM(e,"non-input")))}const i=r.join(" "),s=o.join(" ");return e.parse(s,i)})(t,l);let u,d;if(null!=c&&t.isValid(c)){const e=OM(t,x,c,l,i.referenceDate,!0);u=i.getNewValuesFromNewActiveDate(e),d=!0}else u=i.getNewValuesFromNewActiveDate(c),d=(null!=c&&!t.isValid(c))!==(null!=i.date&&!t.isValid(i.date));return d?D((0,je.A)({},u,{sections:s})):E((e=>(0,je.A)({},e,u,{sections:s,tempValueStrAndroid:null})))},updateValueFromValueStr:e=>{const r=a.parseValueStr(e,T.referenceValue,((e,r)=>{const o=t.parse(e,m);if(null==o||!t.isValid(o))return null;const s=DM(t,x,n,m,o,g,b,i);return OM(t,x,o,s,r,!1)})),o=a.updateReferenceValue(t,r,T.referenceValue);D({value:r,referenceValue:o,sections:C(r,T.sections)})},setTempAndroidValueStr:e=>E((t=>(0,je.A)({},t,{tempValueStrAndroid:e}))),sectionsValueBoundaries:_,placeholder:k,timezone:x}},az=e=>null!=e.saveQuery,lz=e=>{let{sections:t,updateSectionValue:n,sectionsValueBoundaries:o,setTempAndroidValueStr:i,timezone:s}=e;const a=GM(),[l,c]=r.useState(null),u=(0,iP.A)((()=>c(null)));r.useEffect((()=>{var e;null!=l&&(null==(e=t[l.sectionIndex])?void 0:e.type)!==l.sectionType&&u()}),[t,l,u]),r.useEffect((()=>{if(null!=l){const e=setTimeout((()=>u()),5e3);return()=>{window.clearTimeout(e)}}return()=>{}}),[l,u]);const d=(e,n,r)=>{let{keyPressed:o,sectionIndex:i}=e;const s=o.toLowerCase(),a=t[i];if(null!=l&&(!r||r(l.value))&&l.sectionIndex===i){const e=`${l.value}${s}`,t=n(e,a);if(!az(t))return c({sectionIndex:i,value:e,sectionType:a.type}),t}const d=n(s,a);return az(d)&&!d.saveQuery?(u(),null):(c({sectionIndex:i,value:s,sectionType:a.type}),az(d)?null:d)},h=(0,iP.A)((e=>{const r=t[e.sectionIndex],l=" "!==e.keyPressed&&!Number.isNaN(Number(e.keyPressed))?(e=>{const t=(e,t)=>{const n=Number(`${e}`),r=o[t.type]({currentDate:null,format:t.format,contentType:t.contentType});if(n>r.maximum)return{saveQuery:!1};if(n<r.minimum)return{saveQuery:!0};const i=Number(`${e}0`)>r.maximum||e.length===r.maximum.toString().length;return{sectionValue:_M(a,0,n,r,t),shouldGoToNextSection:i}};return d(e,((e,n)=>{if("digit"===n.contentType||"digit-with-letter"===n.contentType)return t(e,n);if("month"===n.type){const r=jM(a,s,"digit","month","MM"),o=t(e,{type:n.type,format:"MM",hasLeadingZerosInFormat:r,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(az(o))return o;const i=PM(a,o.sectionValue,"MM",n.format);return(0,je.A)({},o,{sectionValue:i})}if("weekDay"===n.type){const r=t(e,n);if(az(r))return r;const o=xM(a,s,n.format)[Number(r.sectionValue)-1];return(0,je.A)({},r,{sectionValue:o})}return{saveQuery:!1}}),(e=>!Number.isNaN(Number(e))))})(e):(e=>{const t=(e,t,n)=>{const r=t.filter((e=>e.toLowerCase().startsWith(n)));return 0===r.length?{saveQuery:!1}:{sectionValue:r[0],shouldGoToNextSection:1===r.length}},n=(e,n,r,o)=>{const i=e=>AM(a,s,n.type,e);if("letter"===n.contentType)return t(n.format,i(n.format),e);if(r&&null!=o&&"letter"===wM(a,r).contentType){const n=i(r),s=t(0,n,e);return az(s)?{saveQuery:!1}:(0,je.A)({},s,{sectionValue:o(s.sectionValue,n)})}return{saveQuery:!1}};return d(e,((e,t)=>{switch(t.type){case"month":{const r=e=>PM(a,e,a.formats.month,t.format);return n(e,t,a.formats.month,r)}case"weekDay":{const r=(e,t)=>t.indexOf(e).toString();return n(e,t,a.formats.weekday,r)}case"meridiem":return n(e,t);default:return{saveQuery:!1}}}))})(e);null==l?i(null):n({activeSection:r,newSectionValue:l.sectionValue,shouldGoToNextSection:l.shouldGoToNextSection})}));return{applyCharacterEditing:h,resetCharacterQuery:u}},cz=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],uz=e=>{const t=GM(),{state:n,selectedSectionIndexes:o,setSelectedSections:i,clearValue:s,clearActiveSection:a,updateSectionValue:l,updateValueFromValueStr:c,setTempAndroidValueStr:u,sectionsValueBoundaries:d,placeholder:h,timezone:p}=sz(e),{inputRef:f,internalProps:m,internalProps:{readOnly:g=!1,unstableFieldRef:v,minutesStep:y},forwardedProps:{onClick:b,onKeyDown:w,onFocus:x,onBlur:A,onMouseUp:S,onPaste:_,error:C,clearable:k,onClear:T,disabled:E},fieldValueManager:I,valueManager:P,validator:R}=e,j=(0,De.A)(e.forwardedProps,cz),{applyCharacterEditing:D,resetCharacterQuery:N}=lz({sections:n.sections,updateSectionValue:l,sectionsValueBoundaries:d,setTempAndroidValueStr:u,timezone:p}),M=r.useRef(null),O=(0,xT.A)(f,M),L=r.useRef(void 0),F="rtl"===DI().direction,z=r.useMemo((()=>((e,t)=>{const n={};if(!t)return e.forEach(((t,r)=>{const o=0===r?null:r-1,i=r===e.length-1?null:r+1;n[r]={leftIndex:o,rightIndex:i}})),{neighbors:n,startIndex:0,endIndex:e.length-1};const r={},o={};let i=0,s=0,a=e.length-1;for(;a>=0;){s=e.findIndex(((e,t)=>{var n;return t>=i&&(null==(n=e.endSeparator)?void 0:n.includes(" "))&&" / "!==e.endSeparator})),-1===s&&(s=e.length-1);for(let e=s;e>=i;e-=1)o[e]=a,r[a]=e,a-=1;i=s+1}return e.forEach(((t,i)=>{const s=o[i],a=0===s?null:r[s-1],l=s===e.length-1?null:r[s+1];n[i]={leftIndex:a,rightIndex:l}})),{neighbors:n,startIndex:r[0],endIndex:r[e.length-1]}})(n.sections,F)),[n.sections,F]),V=()=>{var e;if(g)return void i(null);const t=null!=(e=M.current.selectionStart)?e:0;let r;r=t<=n.sections[0].startInInput||t>=n.sections[n.sections.length-1].endInInput?1:n.sections.findIndex((e=>e.startInInput-e.startSeparator.length>t));const o=-1===r?n.sections.length-1:r-1;i(o)},U=(0,iP.A)((function(e){if(!e.isDefaultPrevented()){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==b||b(e,...n),V()}})),B=(0,iP.A)((e=>{null==S||S(e),e.preventDefault()})),$=(0,iP.A)((function(){null==x||x(...arguments);const e=M.current;window.clearTimeout(L.current),L.current=setTimeout((()=>{e&&e===M.current&&(null!=o||g||(e.value.length&&Number(e.selectionEnd)-Number(e.selectionStart)===e.value.length?i("all"):V()))}))})),W=(0,iP.A)((function(){null==A||A(...arguments),i(null)})),H=(0,iP.A)((e=>{if(null==_||_(e),g)return void e.preventDefault();const t=e.clipboardData.getData("text");if(o&&o.startIndex===o.endIndex){const r=n.sections[o.startIndex],i=/^[a-zA-Z]+$/.test(t),s=/^[0-9]+$/.test(t),a=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(t);if("letter"===r.contentType&&i||"digit"===r.contentType&&s||"digit-with-letter"===r.contentType&&a)return N(),l({activeSection:r,newSectionValue:t,shouldGoToNextSection:!0}),void e.preventDefault();if(i||s)return void e.preventDefault()}e.preventDefault(),N(),c(t)})),q=(0,iP.A)((e=>{if(g)return;const t=e.target.value;if(""===t)return N(),void s();const r=e.nativeEvent.data,i=r&&r.length>1,l=i?r:t,d=TM(l);if(null==o||i)return void c(i?r:d);let h;if(0===o.startIndex&&o.endIndex===n.sections.length-1&&1===d.length)h=d;else{const e=TM(I.getValueStrFromSections(n.sections,F));let t=-1,r=-1;for(let n=0;n<e.length;n+=1)-1===t&&e[n]!==d[n]&&(t=n),-1===r&&e[e.length-n-1]!==d[d.length-n-1]&&(r=n);const i=n.sections[o.startIndex];if(t<i.start||e.length-r-1>i.end)return;const s=d.length-e.length+i.end-TM(i.endSeparator||"").length;h=d.slice(i.start+TM(i.startSeparator||"").length,s)}0!==h.length?D({keyPressed:h,sectionIndex:o.startIndex}):navigator.userAgent.toLowerCase().indexOf("android")>-1?u(l):(N(),a())})),G=(0,iP.A)((e=>{switch(null==w||w(e),!0){case"a"===e.key&&(e.ctrlKey||e.metaKey):e.preventDefault(),i("all");break;case"ArrowRight"===e.key:if(e.preventDefault(),null==o)i(z.startIndex);else if(o.startIndex!==o.endIndex)i(o.endIndex);else{const e=z.neighbors[o.startIndex].rightIndex;null!==e&&i(e)}break;case"ArrowLeft"===e.key:if(e.preventDefault(),null==o)i(z.endIndex);else if(o.startIndex!==o.endIndex)i(o.startIndex);else{const e=z.neighbors[o.startIndex].leftIndex;null!==e&&i(e)}break;case"Delete"===e.key:if(e.preventDefault(),g)break;null==o||0===o.startIndex&&o.endIndex===n.sections.length-1?s():a(),N();break;case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(e.key):{if(e.preventDefault(),g||null==o)break;const r=n.sections[o.startIndex],i=I.getActiveDateManager(t,n,r),s=CM(t,p,r,e.key,d,i.date,{minutesStep:y});l({activeSection:r,newSectionValue:s,shouldGoToNextSection:!1});break}}}));(0,GI.A)((()=>{if(!M.current)return;if(null==o)return void(M.current.scrollLeft&&(M.current.scrollLeft=0));const e=n.sections[o.startIndex],t=n.sections[o.endIndex];let r=e.startInInput,i=t.endInInput;if(o.shouldSelectBoundarySelectors&&(r-=e.startSeparator.length,i+=t.endSeparator.length),r!==M.current.selectionStart||i!==M.current.selectionEnd){const e=M.current.scrollTop;M.current===BL(document)&&M.current.setSelectionRange(r,i),M.current.scrollTop=e}}));const K=tF((0,je.A)({},m,{value:n.value,timezone:p}),R,P.isSameError,P.defaultErrorState),Y=r.useMemo((()=>void 0!==C?C:P.hasError(K)),[P,K,C]);r.useEffect((()=>{Y||o||N()}),[n.referenceValue,o,Y]),r.useEffect((()=>(M.current&&M.current===document.activeElement&&i("all"),()=>window.clearTimeout(L.current))),[]),r.useEffect((()=>{null!=n.tempValueStrAndroid&&null!=o&&(N(),a())}),[n.tempValueStrAndroid]);const Q=r.useMemo((()=>{var e;return null!=(e=n.tempValueStrAndroid)?e:I.getValueStrFromSections(n.sections,F)}),[n.sections,I,n.tempValueStrAndroid,F]),X=r.useMemo((()=>null==o||"letter"===n.sections[o.startIndex].contentType?"text":"numeric"),[o,n.sections]),J=M.current&&M.current===BL(document),Z=P.areValuesEqual(t,n.value,P.emptyValue),ee=!J&&Z;r.useImperativeHandle(v,(()=>({getSections:()=>n.sections,getActiveSectionIndex:()=>{var e,t,r;const o=null!=(e=M.current.selectionStart)?e:0,i=null!=(t=M.current.selectionEnd)?t:0,s=!(null==(r=M.current)||!r.readOnly);if(0===o&&0===i||s)return null;const a=o<=n.sections[0].startInInput?1:n.sections.findIndex((e=>e.startInInput-e.startSeparator.length>o));return-1===a?n.sections.length-1:a-1},setSelectedSections:e=>i(e)})));const te=(0,iP.A)((function(e){var t;e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null==T||T(e,...r),s(),null==M||null==(t=M.current)||t.focus(),i(0)}));return(0,je.A)({placeholder:h,autoComplete:"off",disabled:Boolean(E)},j,{value:ee?"":Q,inputMode:X,readOnly:g,onClick:U,onFocus:$,onBlur:W,onPaste:H,onChange:q,onKeyDown:G,onMouseUp:B,onClear:te,error:Y,ref:O,clearable:Boolean(k&&!Z&&!g&&!E)})},dz=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],hz=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],pz=["minDateTime","maxDateTime"],fz=[...dz,...hz,...pz],mz=e=>fz.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{}),gz=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],vz=e=>{let{props:t,inputRef:n}=e;const r=(e=>{var t,n,r;const o=GM(),i=KM();return(0,je.A)({},e,{disablePast:null!=(t=e.disablePast)&&t,disableFuture:null!=(n=e.disableFuture)&&n,format:null!=(r=e.format)?r:o.formats.keyboardDate,minDate:lM(o,e.minDate,i.minDate),maxDate:lM(o,e.maxDate,i.maxDate)})})(t),{forwardedProps:o,internalProps:i}=((e,t)=>{const n=(0,je.A)({},e),r={},o=e=>{n.hasOwnProperty(e)&&(r[e]=n[e],delete n[e])};return gz.forEach(o),"date"===t?dz.forEach(o):"time"===t?hz.forEach(o):"date-time"===t&&(dz.forEach(o),hz.forEach(o),pz.forEach(o)),{forwardedProps:n,internalProps:r}})(r,"date");return uz({inputRef:n,forwardedProps:o,internalProps:i,valueManager:FM,fieldValueManager:zM,validator:lO,valueType:"date"})},yz=["ownerState"],bz=["components","componentsProps","slots","slotProps","InputProps","inputProps"],wz=["inputRef"],xz=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],Az=r.forwardRef((function(e,t){var n,o,i;const s=eM({props:e,name:"MuiDateField"}),{components:a,componentsProps:l,slots:c,slotProps:u,InputProps:d,inputProps:h}=s,p=(0,De.A)(s,bz),f=s,m=null!=(n=null!=(o=null==c?void 0:c.textField)?o:null==a?void 0:a.TextField)?n:$D,g=dO({elementType:m,externalSlotProps:null!=(i=null==u?void 0:u.textField)?i:null==l?void 0:l.textField,externalForwardedProps:p,ownerState:f}),{inputRef:v}=g,y=(0,De.A)(g,wz);y.inputProps=(0,je.A)({},h,y.inputProps),y.InputProps=(0,je.A)({},d,y.InputProps);const b=vz({props:y,inputRef:v}),{ref:w,onPaste:x,onKeyDown:A,inputMode:S,readOnly:_,clearable:C,onClear:k}=b,T=(0,De.A)(b,xz),{InputProps:E,fieldProps:I}=(e=>{let{clearable:t,fieldProps:n,InputProps:o,onClear:i,slots:s,slotProps:a,components:l,componentsProps:c}=e;var u,d,h,p,f,m;const g=YM(),v=null!=(u=null!=(d=null==s?void 0:s.clearButton)?d:null==l?void 0:l.ClearButton)?u:jE,y=dO({elementType:v,externalSlotProps:null!=(h=null==a?void 0:a.clearButton)?h:null==c?void 0:c.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:g.fieldClearLabel}}),b=(0,De.A)(y,yz),w=null!=(p=null!=(f=null==s?void 0:s.clearIcon)?f:null==l?void 0:l.ClearIcon)?p:iz,x=dO({elementType:w,externalSlotProps:null!=(m=null==a?void 0:a.clearIcon)?m:null==c?void 0:c.clearIcon,ownerState:{}});return{InputProps:(0,je.A)({},o,{endAdornment:(0,$e.jsxs)(r.Fragment,{children:[t&&(0,$e.jsx)(YN,{position:"end",sx:{marginRight:null!=o&&o.endAdornment?-1:-1.5},children:(0,$e.jsx)(v,(0,je.A)({},b,{onClick:i,children:(0,$e.jsx)(w,(0,je.A)({fontSize:"small"},x))}))}),null==o?void 0:o.endAdornment]})}),fieldProps:(0,je.A)({},n,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(n.sx)?n.sx:[n.sx]]})}})({onClear:k,clearable:C,fieldProps:T,InputProps:T.InputProps,slots:c,slotProps:u,components:a,componentsProps:l});return(0,$e.jsx)(m,(0,je.A)({ref:t},I,{InputProps:(0,je.A)({},E,{readOnly:_}),inputProps:(0,je.A)({},T.inputProps,{inputMode:S,onPaste:x,onKeyDown:A,ref:w})}))})),Sz=e=>{let{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:o,minDate:i,maxDate:s,disableFuture:a,disablePast:l,timezone:c}=e;const u=qM();return r.useCallback((e=>null!==lO({adapter:u,value:e,props:{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:o,minDate:i,maxDate:s,disableFuture:a,disablePast:l,timezone:c}})),[u,t,n,o,i,s,a,l,c])},_z=e=>{const{value:t,referenceDate:n,defaultCalendarMonth:o,disableFuture:i,disablePast:s,disableSwitchToMonthOnDayFocus:a=!1,maxDate:l,minDate:c,onMonthChange:u,reduceAnimations:d,shouldDisableDate:h,timezone:p}=e,f=GM(),m=r.useRef(((e,t,n)=>(r,o)=>{switch(o.type){case"changeMonth":return(0,je.A)({},r,{slideDirection:o.direction,currentMonth:o.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return(0,je.A)({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(null!=r.focusedDay&&null!=o.focusedDay&&n.isSameDay(o.focusedDay,r.focusedDay))return r;const i=null!=o.focusedDay&&!t&&!n.isSameMonth(r.currentMonth,o.focusedDay);return(0,je.A)({},r,{focusedDay:o.focusedDay,isMonthSwitchingAnimating:i&&!e&&!o.withoutMonthSwitchingAnimation,currentMonth:i?n.startOfMonth(o.focusedDay):r.currentMonth,slideDirection:null!=o.focusedDay&&n.isAfterDay(o.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}})(Boolean(d),a,f)).current,g=r.useMemo((()=>{let r=null;return n?r=n:o&&(r=f.startOfMonth(o)),FM.getInitialReferenceValue({value:t,utils:f,timezone:p,props:e,referenceDate:r,granularity:vM.day})}),[]),[v,y]=r.useReducer(m,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:f.startOfMonth(g),slideDirection:"left"}),b=r.useCallback((e=>{y((0,je.A)({type:"changeMonth"},e)),u&&u(e.newMonth)}),[u]),w=r.useCallback((e=>{const t=e;f.isSameMonth(t,v.currentMonth)||b({newMonth:f.startOfMonth(t),direction:f.isAfterDay(t,v.currentMonth)?"left":"right"})}),[v.currentMonth,b,f]),x=Sz({shouldDisableDate:h,minDate:c,maxDate:l,disableFuture:i,disablePast:s,timezone:p}),A=r.useCallback((()=>{y({type:"finishMonthSwitchingAnimation"})}),[]),S=(0,iP.A)(((e,t)=>{x(e)||y({type:"changeFocusedDay",focusedDay:e,withoutMonthSwitchingAnimation:t})}));return{referenceDate:g,calendarState:v,changeMonth:w,changeFocusedDay:S,isDateDisabled:x,onMonthSwitchingAnimationEnd:A,handleChangeMonth:b}},Cz=e=>(0,tT.Ay)("MuiPickersFadeTransitionGroup",e),kz=((0,Ke.A)("MuiPickersFadeTransitionGroup",["root"]),(0,Xk.Ay)(rE,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"}));function Tz(e){const t=eM({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:o,transKey:i}=t,s=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"]},Cz,t)})(t),a=DI();return o?n:(0,$e.jsx)(kz,{className:(0,Ne.A)(s.root,r),children:(0,$e.jsx)(ZI,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:n},i)})}var Ez=n(6747);function Iz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,Ez.A)(e,t,n)}function Pz(e){if(e.type)return e;if("#"===e.charAt(0))return Pz(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,UR.A)(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,UR.A)(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}function Rz(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function jz(e,t){return e=Pz(e),t=Iz(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,Rz(e)}function Dz(e){return(0,tT.Ay)("MuiPickersDay",e)}const Nz=(0,Ke.A)("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Mz=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],Oz=e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},t.typography.caption,{width:36,height:36,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:jz(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:jz(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Nz.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Nz.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Nz.disabled}:not(.${Nz.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Nz.disabled}&.${Nz.selected}`]:{opacity:.6}},!n.disableMargin&&{margin:"0 2px"},n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&{color:(t.vars||t).palette.text.secondary},!n.disableHighlightToday&&n.today&&{[`&:not(.${Nz.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}})},Lz=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},Fz=(0,Xk.Ay)(kE,{name:"MuiPickersDay",slot:"Root",overridesResolver:Lz})(Oz),zz=(0,Xk.Ay)("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Lz})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},Oz({theme:t,ownerState:n}),{opacity:0,pointerEvents:"none"})})),Vz=()=>{},Uz=r.forwardRef((function(e,t){const n=eM({props:e,name:"MuiPickersDay"}),{autoFocus:o=!1,className:i,day:s,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:h,onFocus:p=Vz,onBlur:f=Vz,onKeyDown:m=Vz,onMouseDown:g=Vz,onMouseEnter:v=Vz,outsideCurrentMonth:y,selected:b=!1,showDaysOutsideCurrentMonth:w=!1,children:x,today:A=!1}=n,S=(0,De.A)(n,Mz),_=(0,je.A)({},n,{autoFocus:o,disabled:a,disableHighlightToday:l,disableMargin:c,selected:b,showDaysOutsideCurrentMonth:w,today:A}),C=(e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:o,disabled:i,outsideCurrentMonth:s,showDaysOutsideCurrentMonth:a,classes:l}=e,c=s&&!a,u={root:["root",t&&!c&&"selected",i&&"disabled",!n&&"dayWithMargin",!r&&o&&"today",s&&a&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]};return(0,Qk.A)(u,Dz,l)})(_),k=GM(),T=r.useRef(null),E=(0,xT.A)(T,t);(0,GI.A)((()=>{!o||a||u||y||T.current.focus()}),[o,a,u,y]);return y&&!w?(0,$e.jsx)(zz,{className:(0,Ne.A)(C.root,C.hiddenDaySpacingFiller,i),ownerState:_,role:S.role}):(0,$e.jsx)(Fz,(0,je.A)({className:(0,Ne.A)(C.root,i),ref:E,centerRipple:!0,disabled:a,tabIndex:b?0:-1,onKeyDown:e=>m(e,s),onFocus:e=>p(e,s),onBlur:e=>f(e,s),onMouseEnter:e=>v(e,s),onClick:e=>{a||h(s),y&&e.currentTarget.focus(),d&&d(e)},onMouseDown:e=>{g(e),y&&e.preventDefault()}},S,{ownerState:_,children:x||k.format(s,"dayOfMonth")}))})),Bz=r.memo(Uz);function $z(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Wz=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=$z(n.className,r):n.setAttribute("class",$z(n.className&&n.className.baseVal||"",r)));var n,r}))},Hz=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.addClass(o,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}QT(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&_I(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,i=n.done;this.appliedClasses[t]={},r&&Wz(e,r),o&&Wz(e,o),i&&Wz(e,i)},n.render=function(){var e=this.props,t=(e.classNames,(0,De.A)(e,["classNames"]));return r.createElement(jI,(0,je.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(r.Component);Hz.defaultProps={classNames:""},Hz.propTypes={};const qz=Hz,Gz=e=>(0,tT.Ay)("MuiPickersSlideTransition",e),Kz=(0,Ke.A)("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Yz=["children","className","reduceAnimations","slideDirection","transKey","classes"],Qz=(0,Xk.Ay)(rE,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Kz["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Kz["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Kz.slideEnterActive}`]:t.slideEnterActive},{[`.${Kz.slideExit}`]:t.slideExit},{[`.${Kz["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Kz["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})((e=>{let{theme:t}=e;const n=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Kz["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Kz["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Kz.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${Kz.slideExit}`]:{transform:"translate(0%)"},[`& .${Kz["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${Kz["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}}));const Xz=e=>(0,tT.Ay)("MuiDayCalendar",e),Jz=((0,Ke.A)("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]),["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"]),Zz=["ownerState"],eV=(0,Xk.Ay)("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),tV=(0,Xk.Ay)("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),nV=(0,Xk.Ay)(WT,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary}})),rV=(0,Xk.Ay)(WT,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled}})),oV=(0,Xk.Ay)(WT,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})((e=>{let{theme:t}=e;return(0,je.A)({},t.typography.caption,{width:36,height:36,padding:0,margin:"0 2px",color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})})),iV=(0,Xk.Ay)("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:240}),sV=(0,Xk.Ay)((function(e){const t=eM({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:o,reduceAnimations:i,transKey:s}=t,a=(0,De.A)(t,Yz),l=(e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return(0,Qk.A)(r,Gz,t)})(t),c=DI();if(i)return(0,$e.jsx)("div",{className:(0,Ne.A)(l.root,o),children:n});const u={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return(0,$e.jsx)(Qz,{className:(0,Ne.A)(l.root,o),childFactory:e=>r.cloneElement(e,{classNames:u}),role:"presentation",children:(0,$e.jsx)(qz,(0,je.A)({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:u},a,{children:n}),s)})}),{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:240}),aV=(0,Xk.Ay)("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),lV=(0,Xk.Ay)("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:"2px 0",display:"flex",justifyContent:"center"});function cV(e){var t,n,o;let{parentProps:i,day:s,focusableDay:a,selectedDays:l,isDateDisabled:c,currentMonthNumber:u,isViewFocused:d}=e,h=(0,De.A)(e,Jz);const{disabled:p,disableHighlightToday:f,isMonthSwitchingAnimating:m,showDaysOutsideCurrentMonth:g,components:v,componentsProps:y,slots:b,slotProps:w,timezone:x}=i,A=GM(),S=QM(x),_=null!==a&&A.isSameDay(s,a),C=l.some((e=>A.isSameDay(e,s))),k=A.isSameDay(s,S),T=null!=(t=null!=(n=null==b?void 0:b.day)?n:null==v?void 0:v.Day)?t:Bz,E=dO({elementType:T,externalSlotProps:null!=(o=null==w?void 0:w.day)?o:null==y?void 0:y.day,additionalProps:(0,je.A)({disableHighlightToday:f,showDaysOutsideCurrentMonth:g,role:"gridcell",isAnimating:m,"data-timestamp":A.toJsDate(s).valueOf()},h),ownerState:(0,je.A)({},i,{day:s,selected:C})}),I=(0,De.A)(E,Zz),P=r.useMemo((()=>p||c(s)),[p,c,s]),R=r.useMemo((()=>A.getMonth(s)!==u),[A,s,u]),j=r.useMemo((()=>{const e=A.startOfMonth(A.setMonth(s,u));return g?A.isSameDay(s,A.startOfWeek(e)):A.isSameDay(s,e)}),[u,s,g,A]),D=r.useMemo((()=>{const e=A.endOfMonth(A.setMonth(s,u));return g?A.isSameDay(s,A.endOfWeek(e)):A.isSameDay(s,e)}),[u,s,g,A]);return(0,$e.jsx)(T,(0,je.A)({},I,{day:s,disabled:P,autoFocus:d&&_,today:k,outsideCurrentMonth:R,isFirstVisibleCell:j,isLastVisibleCell:D,selected:C,tabIndex:_?0:-1,"aria-selected":C,"aria-current":k?"date":void 0}))}function uV(e){const t=eM({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:o,currentMonth:i,selectedDays:s,focusedDay:a,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:u,readOnly:d,reduceAnimations:h,renderLoading:p=()=>(0,$e.jsx)("span",{children:"..."}),slideDirection:f,TransitionProps:m,disablePast:g,disableFuture:v,minDate:y,maxDate:b,shouldDisableDate:w,shouldDisableMonth:x,shouldDisableYear:A,dayOfWeekFormatter:S,hasFocus:_,onFocusedViewChange:C,gridLabelId:k,displayWeekNumber:T,fixedWeekNumber:E,autoFocus:I,timezone:P}=t,R=QM(P),j=GM(),D=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},Xz,t)})(t),N="rtl"===DI().direction,M=S||((e,t)=>j.format(t,"weekdayShort").charAt(0).toUpperCase()),O=Sz({shouldDisableDate:w,shouldDisableMonth:x,shouldDisableYear:A,minDate:y,maxDate:b,disablePast:g,disableFuture:v,timezone:P}),L=YM(),[F,z]=(0,eF.A)({name:"DayCalendar",state:"hasFocus",controlled:_,default:null!=I&&I}),[V,U]=r.useState((()=>a||R)),B=(0,iP.A)((e=>{d||c(e)})),$=e=>{O(e)||(n(e),U(e),null==C||C(!0),z(!0))},W=(0,iP.A)(((e,t)=>{switch(e.key){case"ArrowUp":$(j.addDays(t,-7)),e.preventDefault();break;case"ArrowDown":$(j.addDays(t,7)),e.preventDefault();break;case"ArrowLeft":{const n=j.addDays(t,N?1:-1),r=j.addMonths(t,N?1:-1),o=aM({utils:j,date:n,minDate:N?n:j.startOfMonth(r),maxDate:N?j.endOfMonth(r):n,isDateDisabled:O,timezone:P});$(o||n),e.preventDefault();break}case"ArrowRight":{const n=j.addDays(t,N?-1:1),r=j.addMonths(t,N?-1:1),o=aM({utils:j,date:n,minDate:N?j.startOfMonth(r):n,maxDate:N?n:j.endOfMonth(r),isDateDisabled:O,timezone:P});$(o||n),e.preventDefault();break}case"Home":$(j.startOfWeek(t)),e.preventDefault();break;case"End":$(j.endOfWeek(t)),e.preventDefault();break;case"PageUp":$(j.addMonths(t,1)),e.preventDefault();break;case"PageDown":$(j.addMonths(t,-1)),e.preventDefault()}})),H=(0,iP.A)(((e,t)=>$(t))),q=(0,iP.A)(((e,t)=>{F&&j.isSameDay(V,t)&&(null==C||C(!1))})),G=j.getMonth(i),K=r.useMemo((()=>s.filter((e=>!!e)).map((e=>j.startOfDay(e)))),[j,s]),Y=G,Q=r.useMemo((()=>r.createRef()),[Y]),X=j.startOfWeek(R),J=r.useMemo((()=>{const e=j.startOfMonth(i),t=j.endOfMonth(i);return O(V)||j.isAfterDay(V,t)||j.isBeforeDay(V,e)?aM({utils:j,date:V,minDate:e,maxDate:t,disablePast:g,disableFuture:v,isDateDisabled:O,timezone:P}):V}),[i,v,g,V,O,j,P]),Z=r.useMemo((()=>{const e=j.setTimezone(i,P),t=j.getWeekArray(e);let n=j.addMonths(e,1);for(;E&&t.length<E;){const e=j.getWeekArray(n),r=j.isSameDay(t[t.length-1][0],e[0][0]);e.slice(r?1:0).forEach((e=>{t.length<E&&t.push(e)})),n=j.addMonths(n,1)}return t}),[i,E,j,P]);return(0,$e.jsxs)(eV,{role:"grid","aria-labelledby":k,className:D.root,children:[(0,$e.jsxs)(tV,{role:"row",className:D.header,children:[T&&(0,$e.jsx)(rV,{variant:"caption",role:"columnheader","aria-label":L.calendarWeekNumberHeaderLabel,className:D.weekNumberLabel,children:L.calendarWeekNumberHeaderText}),fM(j,R).map(((e,t)=>{var n;const r=j.format(e,"weekdayShort");return(0,$e.jsx)(nV,{variant:"caption",role:"columnheader","aria-label":j.format(j.addDays(X,t),"weekday"),className:D.weekDayLabel,children:null!=(n=null==M?void 0:M(r,e))?n:r},r+t.toString())}))]}),l?(0,$e.jsx)(iV,{className:D.loadingContainer,children:p()}):(0,$e.jsx)(sV,(0,je.A)({transKey:Y,onExited:u,reduceAnimations:h,slideDirection:f,className:(0,Ne.A)(o,D.slideTransition)},m,{nodeRef:Q,children:(0,$e.jsx)(aV,{ref:Q,role:"rowgroup",className:D.monthContainer,children:Z.map(((e,n)=>(0,$e.jsxs)(lV,{role:"row",className:D.weekContainer,"aria-rowindex":n+1,children:[T&&(0,$e.jsx)(oV,{className:D.weekNumber,role:"rowheader","aria-label":L.calendarWeekNumberAriaLabelText(j.getWeekNumber(e[0])),children:L.calendarWeekNumberText(j.getWeekNumber(e[0]))}),e.map(((e,n)=>(0,$e.jsx)(cV,{parentProps:t,day:e,selectedDays:K,focusableDay:J,onKeyDown:W,onFocus:H,onBlur:q,onDaySelect:B,isDateDisabled:O,currentMonthNumber:G,isViewFocused:F,"aria-colindex":n+1},e.toString())))]},`week-${e[0]}`)))})}))]})}function dV(e){return(0,tT.Ay)("MuiPickersMonth",e)}const hV=(0,Ke.A)("MuiPickersMonth",["root","monthButton","disabled","selected"]),pV=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],fV=(0,Xk.Ay)("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})((e=>{let{ownerState:t}=e;return{flexBasis:3===t.monthsPerRow?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"}})),mV=(0,Xk.Ay)("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${hV.disabled}`]:t.disabled},{[`&.${hV.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return(0,je.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:jz(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:jz(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${hV.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${hV.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})})),gV=r.memo((function(e){const t=eM({props:e,name:"MuiPickersMonth"}),{autoFocus:n,children:o,disabled:i,selected:s,value:a,tabIndex:l,onClick:c,onKeyDown:u,onFocus:d,onBlur:h,"aria-current":p,"aria-label":f}=t,m=(0,De.A)(t,pV),g=r.useRef(null),v=(e=>{const{disabled:t,selected:n,classes:r}=e,o={root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]};return(0,Qk.A)(o,dV,r)})(t);return(0,GI.A)((()=>{var e;n&&(null==(e=g.current)||e.focus())}),[n]),(0,$e.jsx)(fV,(0,je.A)({className:v.root,ownerState:t},m,{children:(0,$e.jsx)(mV,{ref:g,disabled:i,type:"button",role:"radio",tabIndex:i?-1:l,"aria-current":p,"aria-checked":s,"aria-label":f,onClick:e=>c(e,a),onKeyDown:e=>u(e,a),onFocus:e=>d(e,a),onBlur:e=>h(e,a),className:v.monthButton,ownerState:t,children:o})}))}));function vV(e){return(0,tT.Ay)("MuiMonthCalendar",e)}(0,Ke.A)("MuiMonthCalendar",["root"]);const yV=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"];const bV=(0,Xk.Ay)("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:WF,boxSizing:"border-box"}),wV=r.forwardRef((function(e,t){const n=function(e,t){const n=GM(),r=KM(),o=eM({props:e,name:t});return(0,je.A)({disableFuture:!1,disablePast:!1},o,{minDate:lM(n,o.minDate,r.minDate),maxDate:lM(n,o.maxDate,r.maxDate)})}(e,"MuiMonthCalendar"),{className:o,value:i,defaultValue:s,referenceDate:a,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:h,onChange:p,shouldDisableMonth:f,readOnly:m,disableHighlightToday:g,autoFocus:v=!1,onMonthFocus:y,hasFocus:b,onFocusedViewChange:w,monthsPerRow:x=3,timezone:A,gridLabelId:S}=n,_=(0,De.A)(n,yV),{value:C,handleValueChange:k,timezone:T}=rF({name:"MonthCalendar",timezone:A,value:i,defaultValue:s,onChange:p,valueManager:FM}),E=QM(T),I=Be(),P=GM(),R=r.useMemo((()=>FM.getInitialReferenceValue({value:C,utils:P,props:n,timezone:T,referenceDate:a,granularity:vM.month})),[]),j=n,D=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"]},vV,t)})(j),N=r.useMemo((()=>P.getMonth(E)),[P,E]),M=r.useMemo((()=>null!=C?P.getMonth(C):g?null:P.getMonth(R)),[C,P,g,R]),[O,L]=r.useState((()=>M||N)),[F,z]=(0,eF.A)({name:"MonthCalendar",state:"hasFocus",controlled:b,default:null!=v&&v}),V=(0,iP.A)((e=>{z(e),w&&w(e)})),U=r.useCallback((e=>{const t=P.startOfMonth(u&&P.isAfter(E,h)?E:h),n=P.startOfMonth(c&&P.isBefore(E,d)?E:d),r=P.startOfMonth(e);return!!P.isBefore(r,t)||(!!P.isAfter(r,n)||!!f&&f(r))}),[c,u,d,h,E,f,P]),B=(0,iP.A)(((e,t)=>{if(m)return;const n=P.setMonth(null!=C?C:R,t);k(n)})),$=(0,iP.A)((e=>{U(P.setMonth(null!=C?C:R,e))||(L(e),V(!0),y&&y(e))}));r.useEffect((()=>{L((e=>null!==M&&e!==M?M:e))}),[M]);const W=(0,iP.A)(((e,t)=>{const n=12;switch(e.key){case"ArrowUp":$((n+t-3)%n),e.preventDefault();break;case"ArrowDown":$((n+t+3)%n),e.preventDefault();break;case"ArrowLeft":$((n+t+("ltr"===I.direction?-1:1))%n),e.preventDefault();break;case"ArrowRight":$((n+t+("ltr"===I.direction?1:-1))%n),e.preventDefault()}})),H=(0,iP.A)(((e,t)=>{$(t)})),q=(0,iP.A)(((e,t)=>{O===t&&V(!1)}));return(0,$e.jsx)(bV,(0,je.A)({ref:t,className:(0,Ne.A)(D.root,o),ownerState:j,role:"radiogroup","aria-labelledby":S},_,{children:cM(P,null!=C?C:R).map((e=>{const t=P.getMonth(e),n=P.format(e,"monthShort"),r=P.format(e,"month"),o=t===M,i=l||U(e);return(0,$e.jsx)(gV,{selected:o,value:t,onClick:B,onKeyDown:W,autoFocus:F&&t===O,disabled:i,tabIndex:t===O?0:-1,onFocus:H,onBlur:q,"aria-current":N===t?"date":void 0,"aria-label":r,monthsPerRow:x,children:n},n)}))}))}));function xV(e){return(0,tT.Ay)("MuiPickersYear",e)}const AV=(0,Ke.A)("MuiPickersYear",["root","yearButton","selected","disabled"]),SV=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],_V=(0,Xk.Ay)("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})((e=>{let{ownerState:t}=e;return{flexBasis:3===t.yearsPerRow?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"}})),CV=(0,Xk.Ay)("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${AV.disabled}`]:t.disabled},{[`&.${AV.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return(0,je.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:jz(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:jz(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${AV.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${AV.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})})),kV=r.memo((function(e){const t=eM({props:e,name:"MuiPickersYear"}),{autoFocus:n,className:o,children:i,disabled:s,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:p,"aria-current":f}=t,m=(0,De.A)(t,SV),g=r.useRef(null),v=(e=>{const{disabled:t,selected:n,classes:r}=e,o={root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]};return(0,Qk.A)(o,xV,r)})(t);return r.useEffect((()=>{n&&g.current.focus()}),[n]),(0,$e.jsx)(_V,(0,je.A)({className:(0,Ne.A)(v.root,o),ownerState:t},m,{children:(0,$e.jsx)(CV,{ref:g,disabled:s,type:"button",role:"radio",tabIndex:s?-1:c,"aria-current":f,"aria-checked":a,onClick:e=>u(e,l),onKeyDown:e=>d(e,l),onFocus:e=>h(e,l),onBlur:e=>p(e,l),className:v.yearButton,ownerState:t,children:i})}))}));function TV(e){return(0,tT.Ay)("MuiYearCalendar",e)}(0,Ke.A)("MuiYearCalendar",["root"]);const EV=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"];const IV=(0,Xk.Ay)("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:WF,maxHeight:280,boxSizing:"border-box",position:"relative"}),PV=r.forwardRef((function(e,t){const n=function(e,t){var n;const r=GM(),o=KM(),i=eM({props:e,name:t});return(0,je.A)({disablePast:!1,disableFuture:!1},i,{yearsPerRow:null!=(n=i.yearsPerRow)?n:3,minDate:lM(r,i.minDate,o.minDate),maxDate:lM(r,i.maxDate,o.maxDate)})}(e,"MuiYearCalendar"),{autoFocus:o,className:i,value:s,defaultValue:a,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:p,onChange:f,readOnly:m,shouldDisableYear:g,disableHighlightToday:v,onYearFocus:y,hasFocus:b,onFocusedViewChange:w,yearsPerRow:x,timezone:A,gridLabelId:S}=n,_=(0,De.A)(n,EV),{value:C,handleValueChange:k,timezone:T}=rF({name:"YearCalendar",timezone:A,value:s,defaultValue:a,onChange:f,valueManager:FM}),E=QM(T),I=Be(),P=GM(),R=r.useMemo((()=>FM.getInitialReferenceValue({value:C,utils:P,props:n,timezone:T,referenceDate:l,granularity:vM.year})),[]),j=n,D=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"]},TV,t)})(j),N=r.useMemo((()=>P.getYear(E)),[P,E]),M=r.useMemo((()=>null!=C?P.getYear(C):v?null:P.getYear(R)),[C,P,v,R]),[O,L]=r.useState((()=>M||N)),[F,z]=(0,eF.A)({name:"YearCalendar",state:"hasFocus",controlled:b,default:null!=o&&o}),V=(0,iP.A)((e=>{z(e),w&&w(e)})),U=r.useCallback((e=>{if(d&&P.isBeforeYear(e,E))return!0;if(u&&P.isAfterYear(e,E))return!0;if(p&&P.isBeforeYear(e,p))return!0;if(h&&P.isAfterYear(e,h))return!0;if(!g)return!1;const t=P.startOfYear(e);return g(t)}),[u,d,h,p,E,g,P]),B=(0,iP.A)(((e,t)=>{if(m)return;const n=P.setYear(null!=C?C:R,t);k(n)})),$=(0,iP.A)((e=>{U(P.setYear(null!=C?C:R,e))||(L(e),V(!0),null==y||y(e))}));r.useEffect((()=>{L((e=>null!==M&&e!==M?M:e))}),[M]);const W=(0,iP.A)(((e,t)=>{switch(e.key){case"ArrowUp":$(t-x),e.preventDefault();break;case"ArrowDown":$(t+x),e.preventDefault();break;case"ArrowLeft":$(t+("ltr"===I.direction?-1:1)),e.preventDefault();break;case"ArrowRight":$(t+("ltr"===I.direction?1:-1)),e.preventDefault()}})),H=(0,iP.A)(((e,t)=>{$(t)})),q=(0,iP.A)(((e,t)=>{O===t&&V(!1)})),G=r.useRef(null),K=(0,xT.A)(t,G);return r.useEffect((()=>{if(o||null===G.current)return;const e=G.current.querySelector('[tabindex="0"]');if(!e)return;const t=e.offsetHeight,n=e.offsetTop,r=G.current.clientHeight,i=G.current.scrollTop,s=n+t;t>r||n<i||(G.current.scrollTop=s-r/2-t/2)}),[o]),(0,$e.jsx)(IV,(0,je.A)({ref:K,className:(0,Ne.A)(D.root,i),ownerState:j,role:"radiogroup","aria-labelledby":S},_,{children:P.getYearRange(p,h).map((e=>{const t=P.getYear(e),n=t===M,r=c||U(e);return(0,$e.jsx)(kV,{selected:n,value:t,onClick:B,onKeyDown:W,autoFocus:F&&t===O,disabled:r,tabIndex:t===O?0:-1,onFocus:H,onBlur:q,"aria-current":N===t?"date":void 0,yearsPerRow:x,children:P.format(e,"year")},P.format(e,"year"))}))}))}));function RV(e){return(0,tT.Ay)("MuiPickersArrowSwitcher",e)}(0,Ke.A)("MuiPickersArrowSwitcher",["root","spacer","button"]);const jV=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],DV=["ownerState"],NV=["ownerState"],MV=(0,Xk.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),OV=(0,Xk.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})((e=>{let{theme:t}=e;return{width:t.spacing(3)}})),LV=(0,Xk.Ay)(jE,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})((e=>{let{ownerState:t}=e;return(0,je.A)({},t.hidden&&{visibility:"hidden"})})),FV=r.forwardRef((function(e,t){var n,r,o,i;const s="rtl"===DI().direction,a=eM({props:e,name:"MuiPickersArrowSwitcher"}),{children:l,className:c,slots:u,slotProps:d,isNextDisabled:h,isNextHidden:p,onGoToNext:f,nextLabel:m,isPreviousDisabled:g,isPreviousHidden:v,onGoToPrevious:y,previousLabel:b}=a,w=(0,De.A)(a,jV),x=a,A=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"],spacer:["spacer"],button:["button"]},RV,t)})(x),S={isDisabled:h,isHidden:p,goTo:f,label:m},_={isDisabled:g,isHidden:v,goTo:y,label:b},C=null!=(n=null==u?void 0:u.previousIconButton)?n:LV,k=dO({elementType:C,externalSlotProps:null==d?void 0:d.previousIconButton,additionalProps:{size:"medium",title:_.label,"aria-label":_.label,disabled:_.isDisabled,edge:"end",onClick:_.goTo},ownerState:(0,je.A)({},x,{hidden:_.isHidden}),className:A.button}),T=null!=(r=null==u?void 0:u.nextIconButton)?r:LV,E=dO({elementType:T,externalSlotProps:null==d?void 0:d.nextIconButton,additionalProps:{size:"medium",title:S.label,"aria-label":S.label,disabled:S.isDisabled,edge:"start",onClick:S.goTo},ownerState:(0,je.A)({},x,{hidden:S.isHidden}),className:A.button}),I=null!=(o=null==u?void 0:u.leftArrowIcon)?o:nz,P=dO({elementType:I,externalSlotProps:null==d?void 0:d.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),R=(0,De.A)(P,DV),j=null!=(i=null==u?void 0:u.rightArrowIcon)?i:rz,D=dO({elementType:j,externalSlotProps:null==d?void 0:d.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),N=(0,De.A)(D,NV);return(0,$e.jsxs)(MV,(0,je.A)({ref:t,className:(0,Ne.A)(A.root,c),ownerState:x},w,{children:[(0,$e.jsx)(C,(0,je.A)({},k,{children:s?(0,$e.jsx)(j,(0,je.A)({},N)):(0,$e.jsx)(I,(0,je.A)({},R))})),l?(0,$e.jsx)(WT,{variant:"subtitle1",component:"span",children:l}):(0,$e.jsx)(OV,{className:A.spacer,ownerState:x}),(0,$e.jsx)(T,(0,je.A)({},E,{children:s?(0,$e.jsx)(I,(0,je.A)({},R)):(0,$e.jsx)(j,(0,je.A)({},N))}))]}))}));const zV=e=>(0,tT.Ay)("MuiPickersCalendarHeader",e),VV=(0,Ke.A)("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),UV=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],BV=["ownerState"],$V=(0,Xk.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),WV=(0,Xk.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})((e=>{let{theme:t}=e;return(0,je.A)({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})})),HV=(0,Xk.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),qV=(0,Xk.Ay)(jE,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})((e=>{let{ownerState:t}=e;return(0,je.A)({marginRight:"auto"},"year"===t.view&&{[`.${VV.switchViewIcon}`]:{transform:"rotate(180deg)"}})})),GV=(0,Xk.Ay)(tz,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})((e=>{let{theme:t}=e;return{willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"}})),KV=r.forwardRef((function(e,t){var n,o,i,s;const a=YM(),l=GM(),c=eM({props:e,name:"MuiPickersCalendarHeader"}),{slots:u,slotProps:d,components:h,currentMonth:p,disabled:f,disableFuture:m,disablePast:g,maxDate:v,minDate:y,onMonthChange:b,onViewChange:w,view:x,reduceAnimations:A,views:S,labelId:_,className:C,timezone:k}=c,T=(0,De.A)(c,UV),E=c,I=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},zV,t)})(c),P=null!=(n=null!=(o=null==u?void 0:u.switchViewButton)?o:null==h?void 0:h.SwitchViewButton)?n:qV,R=dO({elementType:P,externalSlotProps:null==d?void 0:d.switchViewButton,additionalProps:{size:"small","aria-label":a.calendarViewSwitchingButtonAriaLabel(x)},ownerState:E,className:I.switchViewButton}),j=null!=(i=null!=(s=null==u?void 0:u.switchViewIcon)?s:null==h?void 0:h.SwitchViewIcon)?i:GV,D=dO({elementType:j,externalSlotProps:null==d?void 0:d.switchViewIcon,ownerState:void 0,className:I.switchViewIcon}),N=(0,De.A)(D,BV),M=function(e,t){let{disableFuture:n,maxDate:o,timezone:i}=t;const s=GM();return r.useMemo((()=>{const t=s.dateWithTimezone(void 0,i),r=s.startOfMonth(n&&s.isBefore(t,o)?t:o);return!s.isAfter(r,e)}),[n,o,e,s,i])}(p,{disableFuture:m,maxDate:v,timezone:k}),O=function(e,t){let{disablePast:n,minDate:o,timezone:i}=t;const s=GM();return r.useMemo((()=>{const t=s.dateWithTimezone(void 0,i),r=s.startOfMonth(n&&s.isAfter(t,o)?t:o);return!s.isBefore(r,e)}),[n,o,e,s,i])}(p,{disablePast:g,minDate:y,timezone:k});return 1===S.length&&"year"===S[0]?null:(0,$e.jsxs)($V,(0,je.A)({},T,{ownerState:E,className:(0,Ne.A)(C,I.root),ref:t,children:[(0,$e.jsxs)(WV,{role:"presentation",onClick:()=>{if(1!==S.length&&w&&!f)if(2===S.length)w(S.find((e=>e!==x))||S[0]);else{const e=0!==S.indexOf(x)?0:1;w(S[e])}},ownerState:E,"aria-live":"polite",className:I.labelContainer,children:[(0,$e.jsx)(Tz,{reduceAnimations:A,transKey:l.format(p,"monthAndYear"),children:(0,$e.jsx)(HV,{id:_,ownerState:E,className:I.label,children:l.format(p,"monthAndYear")})}),S.length>1&&!f&&(0,$e.jsx)(P,(0,je.A)({},R,{children:(0,$e.jsx)(j,(0,je.A)({},N))}))]}),(0,$e.jsx)(ZI,{in:"day"===x,children:(0,$e.jsx)(FV,{slots:u,slotProps:d,onGoToPrevious:()=>b(l.addMonths(p,-1),"right"),isPreviousDisabled:O,previousLabel:a.previousMonth,onGoToNext:()=>b(l.addMonths(p,1),"left"),isNextDisabled:M,nextLabel:a.nextMonth})})]}))})),YV=(0,Xk.Ay)("div")({overflow:"hidden",width:WF,maxHeight:334,display:"flex",flexDirection:"column",margin:"0 auto"}),QV=e=>(0,tT.Ay)("MuiDateCalendar",e),XV=((0,Ke.A)("MuiDateCalendar",["root","viewTransitionContainer"]),["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"]);const JV=(0,Xk.Ay)(YV,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:334}),ZV=(0,Xk.Ay)(Tz,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),eU=r.forwardRef((function(e,t){var n,o,i;const s=GM(),a=(0,VR.A)(),l=function(e,t){var n,r,o,i,s,a,l;const c=GM(),u=KM(),d=KL(),h=eM({props:e,name:t});return(0,je.A)({},h,{loading:null!=(n=h.loading)&&n,disablePast:null!=(r=h.disablePast)&&r,disableFuture:null!=(o=h.disableFuture)&&o,openTo:null!=(i=h.openTo)?i:"day",views:null!=(s=h.views)?s:["year","day"],reduceAnimations:null!=(a=h.reduceAnimations)?a:d,renderLoading:null!=(l=h.renderLoading)?l:()=>(0,$e.jsx)("span",{children:"..."}),minDate:lM(c,h.minDate,u.minDate),maxDate:lM(c,h.maxDate,u.maxDate)})}(e,"MuiDateCalendar"),{autoFocus:c,onViewChange:u,value:d,defaultValue:h,referenceDate:p,disableFuture:f,disablePast:m,defaultCalendarMonth:g,onChange:v,onYearChange:y,onMonthChange:b,reduceAnimations:w,shouldDisableDate:x,shouldDisableMonth:A,shouldDisableYear:S,view:_,views:C,openTo:k,className:T,disabled:E,readOnly:I,minDate:P,maxDate:R,disableHighlightToday:j,focusedView:D,onFocusedViewChange:N,showDaysOutsideCurrentMonth:M,fixedWeekNumber:O,dayOfWeekFormatter:L,components:F,componentsProps:z,slots:V,slotProps:U,loading:B,renderLoading:$,displayWeekNumber:W,yearsPerRow:H,monthsPerRow:q,timezone:G}=l,K=(0,De.A)(l,XV),{value:Y,handleValueChange:Q,timezone:X}=rF({name:"DateCalendar",timezone:G,value:d,defaultValue:h,onChange:v,valueManager:FM}),{view:J,setView:Z,focusedView:ee,setFocusedView:te,goToNextView:ne,setValueAndGoToNextView:re}=iF({view:_,views:C,openTo:k,onChange:Q,onViewChange:u,autoFocus:c,focusedView:D,onFocusedViewChange:N}),{referenceDate:oe,calendarState:ie,changeFocusedDay:se,changeMonth:ae,handleChangeMonth:le,isDateDisabled:ce,onMonthSwitchingAnimationEnd:ue}=_z({value:Y,defaultCalendarMonth:g,referenceDate:p,reduceAnimations:w,onMonthChange:b,minDate:P,maxDate:R,shouldDisableDate:x,disablePast:m,disableFuture:f,timezone:X}),de=E&&Y||P,he=E&&Y||R,pe=`${a}-grid-label`,fe=null!==ee,me=null!=(n=null!=(o=null==V?void 0:V.calendarHeader)?o:null==F?void 0:F.CalendarHeader)?n:KV,ge=dO({elementType:me,externalSlotProps:null!=(i=null==U?void 0:U.calendarHeader)?i:null==z?void 0:z.calendarHeader,additionalProps:{views:C,view:J,currentMonth:ie.currentMonth,onViewChange:Z,onMonthChange:(e,t)=>le({newMonth:e,direction:t}),minDate:de,maxDate:he,disabled:E,disablePast:m,disableFuture:f,reduceAnimations:w,timezone:X,labelId:pe,slots:V,slotProps:U},ownerState:l}),ve=(0,iP.A)((e=>{const t=s.startOfMonth(e),n=s.endOfMonth(e),r=ce(e)?aM({utils:s,date:e,minDate:s.isBefore(P,t)?t:P,maxDate:s.isAfter(R,n)?n:R,disablePast:m,disableFuture:f,isDateDisabled:ce,timezone:X}):e;r?(re(r,"finish"),null==b||b(t)):(ne(),ae(t)),se(r,!0)})),ye=(0,iP.A)((e=>{const t=s.startOfYear(e),n=s.endOfYear(e),r=ce(e)?aM({utils:s,date:e,minDate:s.isBefore(P,t)?t:P,maxDate:s.isAfter(R,n)?n:R,disablePast:m,disableFuture:f,isDateDisabled:ce,timezone:X}):e;r?(re(r,"finish"),null==y||y(r)):(ne(),ae(t)),se(r,!0)})),be=(0,iP.A)((e=>Q(e?sM(s,e,null!=Y?Y:oe):e,"finish",J)));r.useEffect((()=>{null!=Y&&s.isValid(Y)&&ae(Y)}),[Y]);const we=l,xe=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},QV,t)})(we),Ae={disablePast:m,disableFuture:f,maxDate:R,minDate:P},Se={disableHighlightToday:j,readOnly:I,disabled:E,timezone:X,gridLabelId:pe},_e=r.useRef(J);r.useEffect((()=>{_e.current!==J&&(ee===_e.current&&te(J,!0),_e.current=J)}),[ee,te,J]);const Ce=r.useMemo((()=>[Y]),[Y]);return(0,$e.jsxs)(JV,(0,je.A)({ref:t,className:(0,Ne.A)(xe.root,T),ownerState:we},K,{children:[(0,$e.jsx)(me,(0,je.A)({},ge)),(0,$e.jsx)(ZV,{reduceAnimations:w,className:xe.viewTransitionContainer,transKey:J,ownerState:we,children:(0,$e.jsxs)("div",{children:["year"===J&&(0,$e.jsx)(PV,(0,je.A)({},Ae,Se,{value:Y,onChange:ye,shouldDisableYear:S,hasFocus:fe,onFocusedViewChange:e=>te("year",e),yearsPerRow:H,referenceDate:oe})),"month"===J&&(0,$e.jsx)(wV,(0,je.A)({},Ae,Se,{hasFocus:fe,className:T,value:Y,onChange:ve,shouldDisableMonth:A,onFocusedViewChange:e=>te("month",e),monthsPerRow:q,referenceDate:oe})),"day"===J&&(0,$e.jsx)(uV,(0,je.A)({},ie,Ae,Se,{onMonthSwitchingAnimationEnd:ue,onFocusedDayChange:se,reduceAnimations:w,selectedDays:Ce,onSelectedDaysChange:be,shouldDisableDate:x,shouldDisableMonth:A,shouldDisableYear:S,hasFocus:fe,onFocusedViewChange:e=>te("day",e),showDaysOutsideCurrentMonth:M,fixedWeekNumber:O,dayOfWeekFormatter:L,displayWeekNumber:W,components:F,componentsProps:z,slots:V,slotProps:U,loading:B,renderLoading:$}))]})})]}))})),tU=e=>{let{view:t,onViewChange:n,views:r,focusedView:o,onFocusedViewChange:i,value:s,defaultValue:a,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:p,minDate:f,maxDate:m,shouldDisableDate:g,shouldDisableMonth:v,shouldDisableYear:y,reduceAnimations:b,onMonthChange:w,monthsPerRow:x,onYearChange:A,yearsPerRow:S,defaultCalendarMonth:_,components:C,componentsProps:k,slots:T,slotProps:E,loading:I,renderLoading:P,disableHighlightToday:R,readOnly:j,disabled:D,showDaysOutsideCurrentMonth:N,dayOfWeekFormatter:M,sx:O,autoFocus:L,fixedWeekNumber:F,displayWeekNumber:z,timezone:V}=e;return(0,$e.jsx)(eU,{view:t,onViewChange:n,views:r.filter(hM),focusedView:o&&hM(o)?o:null,onFocusedViewChange:i,value:s,defaultValue:a,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:p,minDate:f,maxDate:m,shouldDisableDate:g,shouldDisableMonth:v,shouldDisableYear:y,reduceAnimations:b,onMonthChange:w,monthsPerRow:x,onYearChange:A,yearsPerRow:S,defaultCalendarMonth:_,components:C,componentsProps:k,slots:T,slotProps:E,loading:I,renderLoading:P,disableHighlightToday:R,readOnly:j,disabled:D,showDaysOutsideCurrentMonth:N,dayOfWeekFormatter:M,sx:O,autoFocus:L,fixedWeekNumber:F,displayWeekNumber:z,timezone:V})},nU=r.forwardRef((function(e,t){var n,o,i,s;const a=YM(),l=GM(),c=aO(e,"MuiDesktopDatePicker"),u=(0,je.A)({day:tU,month:tU,year:tU},c.viewRenderers),d=(0,je.A)({},c,{viewRenderers:u,format:pM(l,c,!1),yearsPerRow:null!=(n=c.yearsPerRow)?n:4,slots:(0,je.A)({openPickerIcon:oz,field:Az},c.slots),slotProps:(0,je.A)({},c.slotProps,{field:e=>{var n;return(0,je.A)({},rM(null==(n=c.slotProps)?void 0:n.field,e),mz(c),{ref:t})},toolbar:(0,je.A)({hidden:!0},null==(o=c.slotProps)?void 0:o.toolbar)})}),{renderPicker:h}=(e=>{var t,n,o,i,s;let{props:a,getOpenDialogAriaText:l}=e,c=(0,De.A)(e,JF);const{slots:u,slotProps:d,className:h,sx:p,format:f,formatDensity:m,timezone:g,name:v,label:y,inputRef:b,readOnly:w,disabled:x,autoFocus:A,localeText:S,reduceAnimations:_}=a,C=GM(),k=r.useRef(null),T=r.useRef(null),E=(0,VR.A)(),I=null!=(t=null==d||null==(n=d.toolbar)?void 0:n.hidden)&&t,{open:P,actions:R,hasUIView:j,layoutProps:D,renderCurrentView:N,shouldRestoreFocus:M,fieldProps:O}=uF((0,je.A)({},c,{props:a,inputRef:k,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),L=null!=(o=u.inputAdornment)?o:YN,F=dO({elementType:L,externalSlotProps:null==d?void 0:d.inputAdornment,additionalProps:{position:"end"},ownerState:a}),z=(0,De.A)(F,ZF),V=null!=(i=u.openPickerButton)?i:jE,U=dO({elementType:V,externalSlotProps:null==d?void 0:d.openPickerButton,additionalProps:{disabled:x||w,onClick:P?R.onClose:R.onOpen,"aria-label":l(O.value,C),edge:z.position},ownerState:a}),B=(0,De.A)(U,ez),$=u.openPickerIcon,W=u.field,H=dO({elementType:W,externalSlotProps:null==d?void 0:d.field,additionalProps:(0,je.A)({},O,I&&{id:E},{readOnly:w,disabled:x,className:h,sx:p,format:f,formatDensity:m,timezone:g,label:y,name:v,autoFocus:A&&!a.open,focused:!!P||void 0}),ownerState:a});j&&(H.InputProps=(0,je.A)({},H.InputProps,{ref:T},!a.disableOpenPicker&&{[`${z.position}Adornment`]:(0,$e.jsx)(L,(0,je.A)({},z,{children:(0,$e.jsx)(V,(0,je.A)({},B,{children:(0,$e.jsx)($,(0,je.A)({},null==d?void 0:d.openPickerIcon))}))}))}));const q=(0,je.A)({textField:u.textField,clearIcon:u.clearIcon,clearButton:u.clearButton},H.slots),G=null!=(s=u.layout)?s:XF,K=(0,xT.A)(k,H.inputRef,b);let Y=E;I&&(Y=y?`${E}-label`:void 0);const Q=(0,je.A)({},d,{toolbar:(0,je.A)({},null==d?void 0:d.toolbar,{titleId:E}),popper:(0,je.A)({"aria-labelledby":Y},null==d?void 0:d.popper)});return{renderPicker:()=>(0,$e.jsxs)(BM,{localeText:S,children:[(0,$e.jsx)(W,(0,je.A)({},H,{slots:q,slotProps:Q,inputRef:K})),(0,$e.jsx)(ZL,(0,je.A)({role:"dialog",placement:"bottom-start",anchorEl:T.current},R,{open:P,slots:u,slotProps:Q,shouldRestoreFocus:M,reduceAnimations:_,children:(0,$e.jsx)(G,(0,je.A)({},D,null==Q?void 0:Q.layout,{slots:u,slotProps:Q,children:N()}))}))]})}})({props:d,valueManager:FM,valueType:"date",getOpenDialogAriaText:null!=(i=null==(s=d.localeText)?void 0:s.openDatePickerDialogue)?i:a.openDatePickerDialogue,validator:lO});return h()}));function rU(e){return(0,tT.Ay)("MuiDialogContent",e)}nU.propTypes={autoFocus:nM().bool,className:nM().string,closeOnSelect:nM().bool,components:nM().object,componentsProps:nM().object,dayOfWeekFormatter:nM().func,defaultCalendarMonth:nM().any,defaultValue:nM().any,disabled:nM().bool,disableFuture:nM().bool,disableHighlightToday:nM().bool,disableOpenPicker:nM().bool,disablePast:nM().bool,displayWeekNumber:nM().bool,fixedWeekNumber:nM().number,format:nM().string,formatDensity:nM().oneOf(["dense","spacious"]),inputRef:oM,label:nM().node,loading:nM().bool,localeText:nM().object,maxDate:nM().any,minDate:nM().any,monthsPerRow:nM().oneOf([3,4]),name:nM().string,onAccept:nM().func,onChange:nM().func,onClose:nM().func,onError:nM().func,onMonthChange:nM().func,onOpen:nM().func,onSelectedSectionsChange:nM().func,onViewChange:nM().func,onYearChange:nM().func,open:nM().bool,openTo:nM().oneOf(["day","month","year"]),orientation:nM().oneOf(["landscape","portrait"]),readOnly:nM().bool,reduceAnimations:nM().bool,referenceDate:nM().any,renderLoading:nM().func,selectedSections:nM().oneOfType([nM().oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),nM().number,nM().shape({endIndex:nM().number.isRequired,startIndex:nM().number.isRequired})]),shouldDisableDate:nM().func,shouldDisableMonth:nM().func,shouldDisableYear:nM().func,showDaysOutsideCurrentMonth:nM().bool,slotProps:nM().object,slots:nM().object,sx:nM().oneOfType([nM().arrayOf(nM().oneOfType([nM().func,nM().object,nM().bool])),nM().func,nM().object]),timezone:nM().string,value:nM().any,view:nM().oneOf(["day","month","year"]),viewRenderers:nM().shape({day:nM().func,month:nM().func,year:nM().func}),views:nM().arrayOf(nM().oneOf(["day","month","year"]).isRequired),yearsPerRow:nM().oneOf([3,4])};(0,Ke.A)("MuiDialogContent",["root","dividers"]);function oU(e){return(0,tT.Ay)("MuiDialogTitle",e)}const iU=(0,Ke.A)("MuiDialogTitle",["root"]),sU=["className","dividers"],aU=(0,Xk.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${iU.root} + &`]:{paddingTop:0}})})),lU=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiDialogContent"}),{className:r,dividers:o=!1}=n,i=(0,De.A)(n,sU),s=(0,je.A)({},n,{dividers:o}),a=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,Qk.A)(r,rU,t)})(s);return(0,$e.jsx)(aU,(0,je.A)({className:(0,Ne.A)(a.root,r),ownerState:s,ref:t},i))})),cU=lU;function uU(e){return(0,tT.Ay)("MuiDialog",e)}const dU=(0,Ke.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const hU=r.createContext({}),pU=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],fU=(0,Xk.Ay)(oP,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),mU=(0,Xk.Ay)(wP,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),gU=(0,Xk.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${(0,Jk.A)(n.scroll)}`]]}})((e=>{let{ownerState:t}=e;return(0,je.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),vU=(0,Xk.Ay)(sT,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${(0,Jk.A)(n.scroll)}`],t[`paperWidth${(0,Jk.A)(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${dU.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`,[`&.${dU.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${dU.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})})),yU=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiDialog"}),o=DI(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:f=!1,maxWidth:m="sm",onBackdropClick:g,onClick:v,onClose:y,open:b,PaperComponent:w=sT,PaperProps:x={},scroll:A="paper",TransitionComponent:S=ZI,transitionDuration:_=i,TransitionProps:C}=n,k=(0,De.A)(n,pU),T=(0,je.A)({},n,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:f,maxWidth:m,scroll:A}),E=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e,s={root:["root"],container:["container",`scroll${(0,Jk.A)(n)}`],paper:["paper",`paperScroll${(0,Jk.A)(n)}`,`paperWidth${(0,Jk.A)(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return(0,Qk.A)(s,uU,t)})(T),I=r.useRef(),P=(0,VR.A)(a),R=r.useMemo((()=>({titleId:P})),[P]);return(0,$e.jsx)(mU,(0,je.A)({className:(0,Ne.A)(E.root,d),closeAfterTransition:!0,components:{Backdrop:fU},componentsProps:{backdrop:(0,je.A)({transitionDuration:_,as:l},c)},disableEscapeKeyDown:h,onClose:y,open:b,ref:t,onClick:e=>{v&&v(e),I.current&&(I.current=null,g&&g(e),y&&y(e,"backdropClick"))},ownerState:T},k,{children:(0,$e.jsx)(S,(0,je.A)({appear:!0,in:b,timeout:_,role:"presentation"},C,{children:(0,$e.jsx)(gU,{className:(0,Ne.A)(E.container),onMouseDown:e=>{I.current=e.target===e.currentTarget},ownerState:T,children:(0,$e.jsx)(vU,(0,je.A)({as:w,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":P},x,{className:(0,Ne.A)(E.paper,x.className),ownerState:T,children:(0,$e.jsx)(hU.Provider,{value:R,children:u})}))})}))}))})),bU=yU,wU=(0,Xk.Ay)(bU)({[`& .${dU.container}`]:{outline:0},[`& .${dU.paper}`]:{outline:0,minWidth:WF}}),xU=(0,Xk.Ay)(cU)({"&:first-of-type":{padding:0}});function AU(e){var t,n;const{children:r,onDismiss:o,open:i,slots:s,slotProps:a}=e,l=null!=(t=null==s?void 0:s.dialog)?t:wU,c=null!=(n=null==s?void 0:s.mobileTransition)?n:ZI;return(0,$e.jsx)(l,(0,je.A)({open:i,onClose:o},null==a?void 0:a.dialog,{TransitionComponent:c,TransitionProps:null==a?void 0:a.mobileTransition,PaperComponent:null==s?void 0:s.mobilePaper,PaperProps:null==a?void 0:a.mobilePaper,children:(0,$e.jsx)(xU,{children:r})}))}const SU=["props","getOpenDialogAriaText"],_U=r.forwardRef((function(e,t){var n,o,i;const s=YM(),a=GM(),l=aO(e,"MuiMobileDatePicker"),c=(0,je.A)({day:tU,month:tU,year:tU},l.viewRenderers),u=(0,je.A)({},l,{viewRenderers:c,format:pM(a,l,!1),slots:(0,je.A)({field:Az},l.slots),slotProps:(0,je.A)({},l.slotProps,{field:e=>{var n;return(0,je.A)({},rM(null==(n=l.slotProps)?void 0:n.field,e),mz(l),{ref:t})},toolbar:(0,je.A)({hidden:!1},null==(n=l.slotProps)?void 0:n.toolbar)})}),{renderPicker:d}=(e=>{var t,n,o;let{props:i,getOpenDialogAriaText:s}=e,a=(0,De.A)(e,SU);const{slots:l,slotProps:c,className:u,sx:d,format:h,formatDensity:p,timezone:f,name:m,label:g,inputRef:v,readOnly:y,disabled:b,localeText:w}=i,x=GM(),A=r.useRef(null),S=(0,VR.A)(),_=null!=(t=null==c||null==(n=c.toolbar)?void 0:n.hidden)&&t,{open:C,actions:k,layoutProps:T,renderCurrentView:E,fieldProps:I}=uF((0,je.A)({},a,{props:i,inputRef:A,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),P=l.field,R=dO({elementType:P,externalSlotProps:null==c?void 0:c.field,additionalProps:(0,je.A)({},I,_&&{id:S},!(b||y)&&{onClick:k.onOpen,onKeyDown:(j=k.onOpen,e=>{"Enter"!==e.key&&" "!==e.key||(j(e),e.preventDefault(),e.stopPropagation()),D&&D(e)})},{readOnly:null==y||y,disabled:b,className:u,sx:d,format:h,formatDensity:p,timezone:f,label:g,name:m}),ownerState:i});var j,D;R.inputProps=(0,je.A)({},R.inputProps,{"aria-label":s(I.value,x)});const N=(0,je.A)({textField:l.textField},R.slots),M=null!=(o=l.layout)?o:XF,O=(0,xT.A)(A,R.inputRef,v);let L=S;_&&(L=g?`${S}-label`:void 0);const F=(0,je.A)({},c,{toolbar:(0,je.A)({},null==c?void 0:c.toolbar,{titleId:S}),mobilePaper:(0,je.A)({"aria-labelledby":L},null==c?void 0:c.mobilePaper)});return{renderPicker:()=>(0,$e.jsxs)(BM,{localeText:w,children:[(0,$e.jsx)(P,(0,je.A)({},R,{slots:N,slotProps:F,inputRef:O})),(0,$e.jsx)(AU,(0,je.A)({},k,{open:C,slots:l,slotProps:F,children:(0,$e.jsx)(M,(0,je.A)({},T,null==F?void 0:F.layout,{slots:l,slotProps:F,children:E()}))}))]})}})({props:u,valueManager:FM,valueType:"date",getOpenDialogAriaText:null!=(o=null==(i=u.localeText)?void 0:i.openDatePickerDialogue)?o:s.openDatePickerDialogue,validator:lO});return d()}));_U.propTypes={autoFocus:nM().bool,className:nM().string,closeOnSelect:nM().bool,components:nM().object,componentsProps:nM().object,dayOfWeekFormatter:nM().func,defaultCalendarMonth:nM().any,defaultValue:nM().any,disabled:nM().bool,disableFuture:nM().bool,disableHighlightToday:nM().bool,disableOpenPicker:nM().bool,disablePast:nM().bool,displayWeekNumber:nM().bool,fixedWeekNumber:nM().number,format:nM().string,formatDensity:nM().oneOf(["dense","spacious"]),inputRef:oM,label:nM().node,loading:nM().bool,localeText:nM().object,maxDate:nM().any,minDate:nM().any,monthsPerRow:nM().oneOf([3,4]),name:nM().string,onAccept:nM().func,onChange:nM().func,onClose:nM().func,onError:nM().func,onMonthChange:nM().func,onOpen:nM().func,onSelectedSectionsChange:nM().func,onViewChange:nM().func,onYearChange:nM().func,open:nM().bool,openTo:nM().oneOf(["day","month","year"]),orientation:nM().oneOf(["landscape","portrait"]),readOnly:nM().bool,reduceAnimations:nM().bool,referenceDate:nM().any,renderLoading:nM().func,selectedSections:nM().oneOfType([nM().oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),nM().number,nM().shape({endIndex:nM().number.isRequired,startIndex:nM().number.isRequired})]),shouldDisableDate:nM().func,shouldDisableMonth:nM().func,shouldDisableYear:nM().func,showDaysOutsideCurrentMonth:nM().bool,slotProps:nM().object,slots:nM().object,sx:nM().oneOfType([nM().arrayOf(nM().oneOfType([nM().func,nM().object,nM().bool])),nM().func,nM().object]),timezone:nM().string,value:nM().any,view:nM().oneOf(["day","month","year"]),viewRenderers:nM().shape({day:nM().func,month:nM().func,year:nM().func}),views:nM().arrayOf(nM().oneOf(["day","month","year"]).isRequired),yearsPerRow:nM().oneOf([3,4])};const CU=["desktopModeMediaQuery"],kU=r.forwardRef((function(e,t){const n=eM({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:r=$L}=n,o=(0,De.A)(n,CU);return ZN(r,{defaultMatches:!0})?(0,$e.jsx)(nU,(0,je.A)({ref:t},o)):(0,$e.jsx)(_U,(0,je.A)({ref:t},o))})),TU=(0,yT.A)((0,$e.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),EU=(0,yT.A)((0,$e.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),IU=()=>{const[e,t]=(0,r.useState)({username:"",email:"",password:"",confirmPassword:"",dateOfBirth:"",name:""}),[n,o]=(0,r.useState)(null),[i,s]=(0,r.useState)({}),[a,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),p=Z(),{register:f}=Ek(),m=e=>{const{name:n,value:r}=e.target;t((e=>({...e,[n]:r}))),i[n]&&s((e=>({...e,[n]:void 0})))};return a?(0,$e.jsx)(zR,{maxWidth:"sm",children:(0,$e.jsx)(Je,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,$e.jsx)(UN,{})})}):(0,$e.jsx)(zR,{maxWidth:"sm",children:(0,$e.jsx)(Je,{sx:{mt:8},children:(0,$e.jsxs)(sT,{elevation:0,sx:{p:4},children:[(0,$e.jsx)(WT,{variant:"h4",gutterBottom:!0,align:"center",children:"Create Account"}),(0,$e.jsx)(WT,{variant:"body1",color:"text.secondary",paragraph:!0,align:"center",children:"Join SideEye and start sharing your thoughts with the community"}),d&&(0,$e.jsx)(oN,{severity:"error",sx:{mb:2},children:d}),(0,$e.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),h(null),(()=>{const t={};if(e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email format"):t.email="Email is required",e.password){const n=e.password;n.length<8?t.password="Password must be at least 8 characters long":/[A-Z]/.test(n)?/[a-z]/.test(n)?/[0-9]/.test(n)?/[!@#$%^&*(),.?":{}|<>]/.test(n)||(t.password="Password must contain at least one special character"):t.password="Password must contain at least one number":t.password="Password must contain at least one lowercase letter":t.password="Password must contain at least one uppercase letter"}else t.password="Password is required";if(e.password!==e.confirmPassword&&(t.confirmPassword="Passwords do not match"),e.username?e.username.length<3?t.username="Username must be at least 3 characters long":/^[a-zA-Z0-9_-]+$/.test(e.username)||(t.username="Username can only contain letters, numbers, underscores, and hyphens"):t.username="Username is required",e.name?e.name.length<2?t.name="Name must be at least 2 characters long":/^[a-zA-Z\s-']+$/.test(e.name)||(t.name="Name can only contain letters, spaces, hyphens, and apostrophes"):t.name="Name is required",n){const e=new Date;let r=e.getFullYear()-n.getFullYear();const o=e.getMonth()-n.getMonth();(o<0||0===o&&e.getDate()<n.getDate())&&r--,r<16?t.dateOfBirth="You must be at least 16 years old":r>120&&(t.dateOfBirth="Please enter a valid date of birth")}else t.dateOfBirth="Date of birth is required";return s(t),0===Object.keys(t).length})())try{if(l(!0),!n||isNaN(n.getTime()))throw new Error("Invalid date of birth");await f(e.email,e.password,e.username,rl.fromDate(n)),p("/verify-email",{replace:!0})}catch(d){console.error("Registration error:",d),"auth/email-already-in-use"===d.code?h("Email is already in use"):"auth/weak-password"===d.code?h("Password is too weak"):"Invalid date of birth"===d.message?h("Please enter a valid date of birth"):h(d.message||"Error creating account. Please try again.")}finally{l(!1)}},children:[(0,$e.jsx)($D,{fullWidth:!0,label:"Full Name",name:"name",value:e.name,onChange:m,margin:"normal",required:!0,error:!!i.name,helperText:i.name}),(0,$e.jsx)($D,{fullWidth:!0,label:"Username",name:"username",value:e.username,onChange:m,margin:"normal",required:!0,error:!!i.username,helperText:i.username}),(0,$e.jsx)($D,{fullWidth:!0,label:"Email",name:"email",type:"email",value:e.email,onChange:m,margin:"normal",required:!0,error:!!i.email,helperText:i.email}),(0,$e.jsx)($D,{fullWidth:!0,label:"Password",name:"password",type:c?"text":"password",value:e.password,onChange:m,margin:"normal",required:!0,error:!!i.password,helperText:i.password,InputProps:{endAdornment:(0,$e.jsx)(YN,{position:"end",children:(0,$e.jsx)(jE,{onClick:()=>u(!c),edge:"end",children:c?(0,$e.jsx)(TU,{}):(0,$e.jsx)(EU,{})})})}}),(0,$e.jsx)($D,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:c?"text":"password",value:e.confirmPassword,onChange:m,margin:"normal",required:!0,error:!!i.confirmPassword,helperText:i.confirmPassword}),(0,$e.jsx)(kU,{label:"Date of Birth",value:n,onChange:e=>{o(e),e&&!isNaN(e.getTime())?t((t=>({...t,dateOfBirth:e.toISOString()}))):t((e=>({...e,dateOfBirth:""}))),i.dateOfBirth&&s((e=>({...e,dateOfBirth:void 0})))},slotProps:{textField:{margin:"normal",required:!0,fullWidth:!0,error:!!i.dateOfBirth,helperText:i.dateOfBirth}},disableFuture:!0,maxDate:new Date}),(0,$e.jsx)(nI,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},disabled:a,children:"Create Account"}),(0,$e.jsxs)(WT,{variant:"body2",sx:{mt:2},align:"center",children:["Already have an account? ",(0,$e.jsx)(Ie,{to:"/login",children:"Log in"})]})]})]})})})},PU=()=>{const{resetPassword:e}=Ek(),[t,n]=(Z(),(0,r.useState)("")),[o,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(null);return(0,$e.jsx)(zR,{maxWidth:"xs",children:(0,$e.jsxs)(sT,{elevation:0,sx:{mt:8,p:4},children:[(0,$e.jsx)(WT,{variant:"h5",component:"h1",gutterBottom:!0,align:"center",children:"Reset Password"}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",align:"center",paragraph:!0,children:"Enter your email address and we'll send you a link to reset your password."}),(0,$e.jsxs)(Je,{component:"form",onSubmit:async n=>{if(n.preventDefault(),i(!0),a(null),c(null),!t)return a("Email is required."),void i(!1);try{await e(t),c("Password reset email sent. Please check your inbox.")}catch(IQ){console.error("Error sending password reset email:",IQ),a("Failed to send reset email. Please check the address and try again.")}finally{i(!1)}},noValidate:!0,sx:{mt:1},children:[(0,$e.jsx)($D,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:t,onChange:e=>n(e.target.value),autoFocus:!0}),s&&(0,$e.jsx)(oN,{severity:"error",sx:{mt:2},children:s}),l&&(0,$e.jsx)(oN,{severity:"success",sx:{mt:2},children:l}),(0,$e.jsx)(nI,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:o,children:o?(0,$e.jsx)(UN,{size:24}):"Send Reset Link"}),(0,$e.jsx)(Je,{textAlign:"center",children:(0,$e.jsx)(kN,{component:Ie,to:"/login",variant:"body2",children:"Back to Login"})})]})]})})};function RU(e){return(0,tT.Ay)("MuiCard",e)}(0,Ke.A)("MuiCard",["root"]);const jU=["className","raised"],DU=(0,Xk.Ay)(sT,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),NU=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiCard"}),{className:r,raised:o=!1}=n,i=(0,De.A)(n,jU),s=(0,je.A)({},n,{raised:o}),a=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"]},RU,t)})(s);return(0,$e.jsx)(DU,(0,je.A)({className:(0,Ne.A)(a.root,r),elevation:o?8:void 0,ref:t,ownerState:s},i))})),MU=NU;function OU(e){return(0,tT.Ay)("MuiCardMedia",e)}(0,Ke.A)("MuiCardMedia",["root","media","img"]);const LU=["children","className","component","image","src","style"],FU=(0,Xk.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:o}=n;return[t.root,r&&t.media,o&&t.img]}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})})),zU=["video","audio","picture","iframe","img"],VU=["picture","img"],UU=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiCardMedia"}),{children:r,className:o,component:i="div",image:s,src:a,style:l}=n,c=(0,De.A)(n,LU),u=-1!==zU.indexOf(i),d=!u&&s?(0,je.A)({backgroundImage:`url("${s}")`},l):l,h=(0,je.A)({},n,{component:i,isMediaComponent:u,isImageComponent:-1!==VU.indexOf(i)}),p=(e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e,o={root:["root",n&&"media",r&&"img"]};return(0,Qk.A)(o,OU,t)})(h);return(0,$e.jsx)(FU,(0,je.A)({className:(0,Ne.A)(p.root,o),as:i,role:!u&&s?"img":void 0,ref:t,style:d,ownerState:h,src:u?s||a:void 0},c,{children:r}))})),BU=UU;function $U(e){return(0,tT.Ay)("MuiCardContent",e)}(0,Ke.A)("MuiCardContent",["root"]);const WU=["className","component"],HU=(0,Xk.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),qU=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiCardContent"}),{className:r,component:o="div"}=n,i=(0,De.A)(n,WU),s=(0,je.A)({},n,{component:o}),a=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"]},$U,t)})(s);return(0,$e.jsx)(HU,(0,je.A)({as:o,className:(0,Ne.A)(a.root,r),ownerState:s,ref:t},i))})),GU=qU;function KU(e){return(0,tT.Ay)("MuiCardActions",e)}(0,Ke.A)("MuiCardActions",["root","spacing"]);const YU=["disableSpacing","className"],QU=(0,Xk.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),XU=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:o}=n,i=(0,De.A)(n,YU),s=(0,je.A)({},n,{disableSpacing:r}),a=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,Qk.A)(r,KU,t)})(s);return(0,$e.jsx)(QU,(0,je.A)({className:(0,Ne.A)(a.root,o),ownerState:s,ref:t},i))})),JU=XU,ZU=["className","id"],eB=(0,Xk.Ay)(WT,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),tB=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiDialogTitle"}),{className:o,id:i}=n,s=(0,De.A)(n,ZU),a=n,l=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"]},oU,t)})(a),{titleId:c=i}=r.useContext(hU);return(0,$e.jsx)(eB,(0,je.A)({component:"h2",className:(0,Ne.A)(l.root,o),ownerState:a,ref:t,variant:"h6",id:null!=i?i:c},s))})),nB=tB,rB=(0,yT.A)([(0,$e.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,$e.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),oB=(0,yT.A)((0,$e.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock"),iB=(0,yT.A)((0,$e.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),sB=(0,yT.A)((0,$e.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd"),aB=(0,yT.A)((0,$e.jsx)("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"}),"PersonRemove"),lB=(0,yT.A)((0,$e.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 12H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Message"),cB=(0,yT.A)((0,$e.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"Group"),uB=(0,r.createContext)({db:null,loading:!1,error:null}),dB=()=>{const e=(0,r.useContext)(uB);if(void 0===e)throw new Error("useFirestore must be used within a FirestoreProvider");return null===e.db&&console.warn("useFirestore called before db was initialized or initialization failed"),e},hB=e=>{let{children:t}=e;const n={db:IS,loading:!1,error:null};return(0,$e.jsx)(uB.Provider,{value:n,children:t})},pB=()=>{ZN(DI().breakpoints.down("sm"));const{currentUser:e,user:t,userProfile:n,loading:o,setUserProfile:i}=Ek(),{db:s}=dB(),{userId:a}=ee(),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(!0),[A,S]=(0,r.useState)(null),[_,C]=(0,r.useState)([]),[k,T]=(0,r.useState)([]),[E,I]=(0,r.useState)(null),[P,R]=(0,r.useState)(!1),[j,D]=(0,r.useState)(!1),[N,M]=(0,r.useState)(!1),[O,L]=(0,r.useState)(!1),[F,z]=(0,r.useState)([]),[V,U]=(0,r.useState)(!1),[B,$]=(0,r.useState)(""),[W,H]=(0,r.useState)(""),[q,G]=(0,r.useState)(""),[K,Y]=(0,r.useState)([]),[Q,X]=(0,r.useState)([]),J=Z(),te=l||(null===e||void 0===e?void 0:e.uid)||"";(0,r.useEffect)((()=>{c(a||((null===e||void 0===e?void 0:e.uid)||null))}),[a,null===e||void 0===e?void 0:e.uid]);const ne=(0,r.useCallback)((async()=>{if(s&&l)try{x(!0),S(null);const t=eg(s,"users",l),n=await fv(t);if(!n.exists())return S("Profile not found"),void x(!1);const r=n.data(),o=r.isPrivate||!1,i=(null===e||void 0===e?void 0:e.uid)===l;if(R(o),d(r.username||""),p(r.name||""),v(r.bio||""),I(r.profilePic||null),i||!o)D(!0),S(null);else if(null!==e&&void 0!==e&&e.uid){const t=eg(s,`users/${l}/followers/${e.uid}`),n=(await fv(t)).exists();D(n),n||S("This profile is private")}else D(!1),S("This profile is private");const[a,c]=await Promise.all([gv(Zm(s,`users/${l}/followers`)),gv(Zm(s,`users/${l}/following`))]);T(a.docs.map((e=>e.id))),C(c.docs.map((e=>e.id)));const[u,h]=await Promise.all([gv(Wg(Zm(s,"sideRooms"),qg("members","array-contains",l))),gv(Wg(Zm(s,"sideRooms"),qg("ownerId","==",l)))]);Y(u.docs.map((e=>({id:e.id,...e.data()})))),X(h.docs.map((e=>({id:e.id,...e.data()}))))}catch(A){console.error("Error in fetchUserData:",A),S("Failed to load profile data")}finally{x(!1)}else x(!1)}),[s,l,e]);(0,r.useEffect)((()=>{ne()}),[ne]),(0,r.useEffect)((()=>{if(!s||!te)return;const e=xv(Zm(s,"users",te,"followers"),(e=>{const t=e.docs.map((e=>e.id));T(t)}));return()=>e()}),[s,te]),(0,r.useEffect)((()=>{if(!s||!te)return;const e=xv(Zm(s,"users",te,"following"),(e=>{const t=e.docs.map((e=>e.id));C(t)}));return()=>e()}),[s,te]),(0,r.useEffect)((()=>{if(!s||!e||!te)return;const t=xv(eg(s,"users",e.uid,"following",te),(e=>{M(e.exists())}));return()=>t()}),[s,e,te]);const re=async()=>{if(e&&te&&s)try{if(x(!0),P){const t=eg(s,"users",te,"followRequests",e.uid);await vv(t,{timestamp:Iv()}),L(!0),r_.success("Follow request sent")}else{const t=eg(s,"users",e.uid,"following",te),n=eg(s,"users",te,"followers",e.uid);await vv(t,{timestamp:Iv()}),await vv(n,{timestamp:Iv()}),M(!0),r_.success("Followed successfully")}}catch(A){console.error("Error handling follow:",A),S("Failed to process follow request"),r_.error("Failed to process follow request")}finally{x(!1)}else S("Database not initialized")},oe=async()=>{if(e&&te&&s)try{x(!0);const t=eg(s,"users",e.uid,"following",te);await bv(t);const n=eg(s,"users",te,"followers",e.uid);await bv(n),M(!1),T((t=>t.filter((t=>t!==e.uid)))),C((e=>e.filter((e=>e!==te)))),r_.success("Unfollowed successfully")}catch(A){console.error("Error unfollowing user:",A),S("Failed to unfollow user"),r_.error("Failed to unfollow user")}finally{x(!1)}else S("Database not initialized")};return o||w?(0,$e.jsx)(zR,{maxWidth:"lg",children:(0,$e.jsx)(Je,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,$e.jsx)(UN,{})})}):(0,$e.jsxs)(zR,{maxWidth:"lg",sx:{mt:2,mb:4},children:[(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,$e.jsx)(sT,{elevation:0,sx:{p:3,borderRadius:2,backgroundColor:"background.paper"},children:(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3,alignItems:"center"},children:[(0,$e.jsx)(Je,{sx:{position:"relative"},children:(0,$e.jsx)($E,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(null===e||void 0===e?void 0:e.uid)===l&&(0,$e.jsxs)(jE,{component:"label",size:"small",sx:{bgcolor:"background.paper","&:hover":{bgcolor:"background.default"}},children:[(0,$e.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:async t=>{var n,r,o;if(e&&null!==(n=t.target.files)&&void 0!==n&&n[0])try{x(!0);const n=t.target.files[0],i=(r=RS,o=`profilePics/${e.uid}`,By(r=en(r),o));await function(e,t,n){return Fy(e=en(e),t,n)}(i,n);const a=await function(e){return zy(e=en(e))}(i),l=eg(s,"users",e.uid);await yv(l,{profilePic:a,updatedAt:Iv()}),I(a),r_.success("Profile picture updated successfully")}catch(A){console.error("Error updating profile picture:",A),S("Failed to update profile picture"),r_.error("Failed to update profile picture")}finally{x(!1)}}}),(0,$e.jsx)(rB,{fontSize:"small"})]}),children:(0,$e.jsx)(LT,{src:E||void 0,alt:u,sx:{width:120,height:120}})})}),(0,$e.jsxs)(Je,{sx:{flex:1,minWidth:0},children:[(0,$e.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[(0,$e.jsx)(WT,{variant:"h4",sx:{fontWeight:"bold"},children:h||"No name set"}),P&&(0,$e.jsx)(oB,{color:"action"}),(null===e||void 0===e?void 0:e.uid)===te&&(0,$e.jsx)(jE,{onClick:()=>b(!0),size:"small",children:(0,$e.jsx)(iB,{fontSize:"small"})})]}),(0,$e.jsxs)(WT,{variant:"body1",color:"text.secondary",sx:{mb:2},children:["@",u||"No username set"]}),P&&!j&&(null===e||void 0===e?void 0:e.uid)!==te?(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,$e.jsx)(oN,{severity:"info",sx:{mb:2},children:"This account is private. Follow to see their side rooms."}),(0,$e.jsx)(Je,{sx:{display:"flex",gap:2},children:N?(0,$e.jsx)(nI,{variant:"outlined",onClick:oe,disabled:w,startIcon:(0,$e.jsx)(aB,{}),children:"Unfollow"}):(0,$e.jsx)(nI,{variant:"contained",onClick:re,disabled:w,startIcon:(0,$e.jsx)(sB,{}),children:O?"Request Sent":"Follow"})})]}):(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(WT,{variant:"body1",sx:{mb:2},children:g||"No bio set"}),(0,$e.jsx)(Je,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:(null===e||void 0===e?void 0:e.uid)!==te&&(0,$e.jsxs)($e.Fragment,{children:[N?(0,$e.jsx)(nI,{variant:"outlined",onClick:oe,disabled:w,startIcon:(0,$e.jsx)(aB,{}),children:"Unfollow"}):(0,$e.jsx)(nI,{variant:"contained",onClick:re,disabled:w,startIcon:(0,$e.jsx)(sB,{}),children:O?"Request Sent":"Follow"}),(0,$e.jsx)(nI,{variant:"outlined",startIcon:(0,$e.jsx)(lB,{}),onClick:()=>J(`/chat/${te}`),children:"Message"})]})})]})]})]})}),(!P||j||(null===e||void 0===e?void 0:e.uid)===te)&&(0,$e.jsx)(sT,{elevation:0,sx:{p:2,borderRadius:2,backgroundColor:"background.paper"},children:(0,$e.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-around",gap:2},children:[(0,$e.jsxs)(Je,{sx:{textAlign:"center"},children:[(0,$e.jsx)(WT,{variant:"h6",children:Q.length}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",children:"Rooms"})]}),(0,$e.jsxs)(Je,{sx:{textAlign:"center",cursor:"pointer","&:hover":{textDecoration:"underline"}},component:Ie,to:`/profile/${te}/followers`,children:[(0,$e.jsx)(WT,{variant:"h6",children:k.length}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",children:"Followers"})]}),(0,$e.jsxs)(Je,{sx:{textAlign:"center",cursor:"pointer","&:hover":{textDecoration:"underline"}},component:Ie,to:`/profile/${te}/following`,children:[(0,$e.jsx)(WT,{variant:"h6",children:_.length}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",children:"Following"})]})]})}),(!P||j||(null===e||void 0===e?void 0:e.uid)===te)&&(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:3},children:[Q.length>0&&(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"h6",sx:{mb:2},children:"Created Rooms"}),(0,$e.jsx)(Je,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2},children:Q.map((e=>(0,$e.jsxs)(MU,{sx:{display:"flex",flexDirection:"column",height:"100%","&:hover":{boxShadow:6,transform:"translateY(-2px)",transition:"all 0.2s ease-in-out"}},children:[e.thumbnailUrl&&(0,$e.jsx)(BU,{component:"img",height:"140",image:e.thumbnailUrl,alt:e.name,sx:{objectFit:"cover"}}),(0,$e.jsxs)(GU,{sx:{flexGrow:1},children:[(0,$e.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[(0,$e.jsx)(WT,{variant:"h6",component:"div",children:e.name}),(0,$e.jsx)($F,{size:"small",label:"Owner",color:"primary"})]}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,$e.jsxs)(Je,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(0,$e.jsx)($F,{size:"small",label:`${e.memberCount||0} members`,icon:(0,$e.jsx)(cB,{})}),e.category&&(0,$e.jsx)($F,{size:"small",label:e.category,variant:"outlined"}),e.isPrivate&&(0,$e.jsx)($F,{size:"small",icon:(0,$e.jsx)(oB,{}),label:"Private",variant:"outlined"})]})]}),(0,$e.jsx)(JU,{children:(0,$e.jsx)(nI,{size:"small",component:Ie,to:`/side-room/${e.id}`,variant:"contained",fullWidth:!0,children:"Enter Room"})})]},e.id)))})]}),K.length>0&&(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"h6",sx:{mb:2},children:"Joined Rooms"}),(0,$e.jsx)(Je,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2},children:K.map((e=>(0,$e.jsxs)(MU,{sx:{display:"flex",flexDirection:"column",height:"100%","&:hover":{boxShadow:6,transform:"translateY(-2px)",transition:"all 0.2s ease-in-out"}},children:[e.thumbnailUrl&&(0,$e.jsx)(BU,{component:"img",height:"140",image:e.thumbnailUrl,alt:e.name,sx:{objectFit:"cover"}}),(0,$e.jsxs)(GU,{sx:{flexGrow:1},children:[(0,$e.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[(0,$e.jsx)(WT,{variant:"h6",component:"div",children:e.name}),(0,$e.jsx)($F,{size:"small",label:"Member"})]}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,$e.jsxs)(Je,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(0,$e.jsx)($F,{size:"small",label:`${e.memberCount||0} members`,icon:(0,$e.jsx)(cB,{})}),e.category&&(0,$e.jsx)($F,{size:"small",label:e.category,variant:"outlined"}),e.isPrivate&&(0,$e.jsx)($F,{size:"small",icon:(0,$e.jsx)(oB,{}),label:"Private",variant:"outlined"})]})]}),(0,$e.jsx)(JU,{children:(0,$e.jsx)(nI,{size:"small",component:Ie,to:`/side-room/${e.id}`,variant:"contained",fullWidth:!0,children:"Enter Room"})})]},e.id)))})]}),0===Q.length&&0===K.length&&(0,$e.jsxs)(Je,{sx:{textAlign:"center",py:4},children:[(0,$e.jsx)(WT,{variant:"body1",color:"text.secondary",children:"Not a member of any side rooms yet"}),(0,$e.jsx)(nI,{variant:"contained",color:"primary",component:Ie,to:"/side-rooms",sx:{mt:2},children:"Browse Side Rooms"})]})]})]}),(0,$e.jsxs)(bU,{open:y,onClose:()=>b(!1),maxWidth:"sm",fullWidth:!0,children:[(0,$e.jsx)(nB,{children:"Edit Profile"}),(0,$e.jsx)(cU,{children:(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[(0,$e.jsx)($D,{label:"Name",value:B,onChange:e=>$(e.target.value),fullWidth:!0,variant:"outlined"}),(0,$e.jsx)($D,{label:"Username",value:q,onChange:e=>G(e.target.value),fullWidth:!0,variant:"outlined"}),(0,$e.jsx)($D,{label:"Bio",value:W,onChange:e=>H(e.target.value),multiline:!0,rows:4,fullWidth:!0,variant:"outlined",helperText:"Tell others about yourself (You can use emojis!)"})]})}),(0,$e.jsxs)(vF,{sx:{p:3},children:[(0,$e.jsx)(nI,{variant:"outlined",onClick:()=>b(!1),sx:{minWidth:"120px",borderColor:"text.secondary",color:"text.secondary","&:hover":{borderColor:"text.primary",color:"text.primary"}},children:"Cancel"}),(0,$e.jsx)(nI,{variant:"contained",onClick:async()=>{if(e&&s)try{x(!0);const t=eg(s,"users",e.uid);await yv(t,{name:B,username:q,bio:W,updatedAt:Iv()}),p(B),d(q),v(W),b(!1),r_.success("Profile updated successfully")}catch(A){console.error("Error updating profile:",A),S("Failed to update profile"),r_.error("Failed to update profile")}finally{x(!1)}},disabled:w,sx:{minWidth:"120px",bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:w?"Saving...":"Save Changes"})]})]})]})};function fB(e){return(0,tT.Ay)("PrivateSwitchBase",e)}(0,Ke.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const mB=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],gB=(0,Xk.Ay)(kE)((e=>{let{ownerState:t}=e;return(0,je.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),vB=(0,Xk.Ay)("input",{shouldForwardProp:HE.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),yB=r.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:o,className:i,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:c=!1,icon:u,id:d,inputProps:h,inputRef:p,name:f,onBlur:m,onChange:g,onFocus:v,readOnly:y,required:b=!1,tabIndex:w,type:x,value:A}=e,S=(0,De.A)(e,mB),[_,C]=(0,vD.A)({controlled:r,default:Boolean(s),name:"SwitchBase",state:"checked"}),k=XR();let T=a;k&&"undefined"===typeof T&&(T=k.disabled);const E="checkbox"===x||"radio"===x,I=(0,je.A)({},e,{checked:_,disabled:T,disableFocusRipple:l,edge:c}),P=(e=>{const{classes:t,checked:n,disabled:r,edge:o}=e,i={root:["root",n&&"checked",r&&"disabled",o&&`edge${(0,Jk.A)(o)}`],input:["input"]};return(0,Qk.A)(i,fB,t)})(I);return(0,$e.jsxs)(gB,(0,je.A)({component:"span",className:(0,Ne.A)(P.root,i),centerRipple:!0,focusRipple:!l,disabled:T,tabIndex:null,role:void 0,onFocus:e=>{v&&v(e),k&&k.onFocus&&k.onFocus(e)},onBlur:e=>{m&&m(e),k&&k.onBlur&&k.onBlur(e)},ownerState:I,ref:t},S,{children:[(0,$e.jsx)(vB,(0,je.A)({autoFocus:n,checked:r,defaultChecked:s,className:P.input,disabled:T,id:E?d:void 0,name:f,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;C(t),g&&g(e,t)},readOnly:y,ref:p,required:b,ownerState:I,tabIndex:w,type:x},"checkbox"===x&&void 0===A?{}:{value:A},h)),_?o:u]}))})),bB=yB;function wB(e){return(0,tT.Ay)("MuiSwitch",e)}const xB=(0,Ke.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),AB=["className","color","edge","size","sx"],SB=(0,Xk.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${(0,Jk.A)(n.edge)}`],t[`size${(0,Jk.A)(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${xB.thumb}`]:{width:16,height:16},[`& .${xB.switchBase}`]:{padding:4,[`&.${xB.checked}`]:{transform:"translateX(16px)"}}}}]}),_B=(0,Xk.Ay)(bB,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${xB.input}`]:t.input},"default"!==n.color&&t[`color${(0,Jk.A)(n.color)}`]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${"light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${xB.checked}`]:{transform:"translateX(20px)"},[`&.${xB.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${xB.checked} + .${xB.track}`]:{opacity:.5},[`&.${xB.disabled} + .${xB.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:""+("light"===t.palette.mode?.12:.2)},[`& .${xB.input}`]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Zk.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${xB.checked}`]:{color:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Zk.X4)(t.palette[n].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xB.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${n}DisabledColor`]:`${"light"===t.palette.mode?(0,Zk.a)(t.palette[n].main,.62):(0,Zk.e$)(t.palette[n].main,.55)}`}},[`&.${xB.checked} + .${xB.track}`]:{backgroundColor:(t.vars||t).palette[n].main}}}}))]}})),CB=(0,Xk.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${"light"===t.palette.mode?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:""+("light"===t.palette.mode?.38:.3)}})),kB=(0,Xk.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),TB=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiSwitch"}),{className:r,color:o="primary",edge:i=!1,size:s="medium",sx:a}=n,l=(0,De.A)(n,AB),c=(0,je.A)({},n,{color:o,edge:i,size:s}),u=(e=>{const{classes:t,edge:n,size:r,color:o,checked:i,disabled:s}=e,a={root:["root",n&&`edge${(0,Jk.A)(n)}`,`size${(0,Jk.A)(r)}`],switchBase:["switchBase",`color${(0,Jk.A)(o)}`,i&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=(0,Qk.A)(a,wB,t);return(0,je.A)({},t,l)})(c),d=(0,$e.jsx)(kB,{className:u.thumb,ownerState:c});return(0,$e.jsxs)(SB,{className:(0,Ne.A)(u.root,r),sx:a,ownerState:c,children:[(0,$e.jsx)(_B,(0,je.A)({type:"checkbox",icon:d,checkedIcon:d,ref:t,ownerState:c},l,{classes:(0,je.A)({},u,{root:u.switchBase})})),(0,$e.jsx)(CB,{className:u.track,ownerState:c})]})})),EB=TB,IB=(0,yT.A)((0,$e.jsx)("path",{d:"M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1m-1 9h-4v-7h4z"}),"Devices"),PB=(0,yT.A)((0,$e.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),RB=(0,yT.A)([(0,$e.jsx)("circle",{cx:"10",cy:"8",r:"4"},"0"),(0,$e.jsx)("path",{d:"M10.67 13.02c-.22-.01-.44-.02-.67-.02-2.42 0-4.68.67-6.61 1.82-.88.52-1.39 1.5-1.39 2.53V20h9.26c-.79-1.13-1.26-2.51-1.26-4 0-1.07.25-2.07.67-2.98M20.75 16c0-.22-.03-.42-.06-.63l1.14-1.01-1-1.73-1.45.49c-.32-.27-.68-.48-1.08-.63L18 11h-2l-.3 1.49c-.4.15-.76.36-1.08.63l-1.45-.49-1 1.73 1.14 1.01c-.03.21-.06.41-.06.63s.03.42.06.63l-1.14 1.01 1 1.73 1.45-.49c.32.27.68.48 1.08.63L16 21h2l.3-1.49c.4-.15.76-.36 1.08-.63l1.45.49 1-1.73-1.14-1.01c.03-.21.06-.41.06-.63M17 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"1")],"ManageAccounts"),jB=(0,yT.A)((0,$e.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5z"}),"Shield"),DB=(0,yT.A)((0,$e.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),NB=(0,yT.A)([(0,$e.jsx)("path",{d:"m21 5-9-4-9 4v6c0 5.55 3.84 10.74 9 12 2.3-.56 4.33-1.9 5.88-3.71l-3.12-3.12c-1.94 1.29-4.58 1.07-6.29-.64-1.95-1.95-1.95-5.12 0-7.07 1.95-1.95 5.12-1.95 7.07 0 1.71 1.71 1.92 4.35.64 6.29l2.9 2.9C20.29 15.69 21 13.38 21 11z"},"0"),(0,$e.jsx)("circle",{cx:"12",cy:"12",r:"3"},"1")],"Policy"),MB=(0,yT.A)((0,$e.jsx)("path",{d:"M21.95 10.99c-1.79-.03-3.7-1.95-2.68-4.22-2.98 1-5.77-1.59-5.19-4.56C6.95.71 2 6.58 2 12c0 5.52 4.48 10 10 10 5.89 0 10.54-5.08 9.95-11.01M8.5 15c-.83 0-1.5-.67-1.5-1.5S7.67 12 8.5 12s1.5.67 1.5 1.5S9.33 15 8.5 15m2-5C9.67 10 9 9.33 9 8.5S9.67 7 10.5 7s1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 6c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"Cookie"),OB=(0,yT.A)((0,$e.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"}),"DarkMode"),LB=(0,yT.A)((0,$e.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),FB=(0,yT.A)((0,$e.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen"),zB=(0,yT.A)((0,$e.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),VB=(0,yT.A)((0,$e.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),UB=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)("");(0,r.useEffect)((()=>{(async()=>{const e=await navigator.mediaDevices.enumerateDevices();t(e)})()}),[]);return(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h3",{children:"Audio Device Settings"}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{children:"Microphone:"}),(0,$e.jsx)("select",{onChange:e=>{o(e.target.value)},value:n,children:e.filter((e=>"audioinput"===e.kind)).map((e=>(0,$e.jsx)("option",{value:e.deviceId,children:e.label||`Microphone ${e.deviceId}`},e.deviceId)))})]}),(0,$e.jsx)("button",{onClick:async()=>{const e={audio:{deviceId:n?{exact:n}:void 0}};try{await navigator.mediaDevices.getUserMedia(e)}catch(pb){console.error("Error accessing audio devices.",pb)}},children:"Test Audio"})]})},BB=()=>{ZN(DI().breakpoints.down("sm"));const{isDarkMode:e,toggleDarkMode:t}=(()=>{const e=(0,r.useContext)(Kk);if(void 0===e)throw new Error("useThemeContext must be used within a ThemeContextProvider");return e})(),{currentUser:n,userProfile:o}=Ek(),{canViewProfile:i,canViewContent:s}=Pk(),[a,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)([]),[b,w]=(0,r.useState)({followers:0,following:0,pendingRequests:0,audioRooms:0}),[x,A]=(0,r.useState)(!1),[S,_]=(0,r.useState)(!1),[C,k]=(0,r.useState)(""),[T,E]=(0,r.useState)(""),[I,P]=(0,r.useState)(""),[R,j]=(0,r.useState)(!1),[D,N]=(0,r.useState)(""),M=[{title:"Audio Settings",icon:(0,$e.jsx)(IB,{}),path:"#",description:"Manage your audio devices and microphone settings",onClick:()=>u(!0)},{title:"Security & Authentication",icon:(0,$e.jsx)(PB,{}),path:"/security",description:"Learn about our authentication flow and security features"},{title:"Account Management",icon:(0,$e.jsx)(RB,{}),path:"/account-management",description:"Manage your account settings and preferences"},{title:"Safety & Community Guidelines",icon:(0,$e.jsx)(jB,{}),path:"/safety",description:"Review our audio chat guidelines and community standards"},{title:"About",icon:(0,$e.jsx)(DB,{}),path:"/about",description:"Learn more about SideEye and our mission"},{title:"Privacy Policy",icon:(0,$e.jsx)(NB,{}),path:"/privacy-policy",description:"Read our privacy policy and data handling practices"},{title:"Terms of Service",icon:(0,$e.jsx)(NB,{}),path:"/terms",description:"Review our terms of service and community guidelines"},{title:"Cookie Policy",icon:(0,$e.jsx)(MB,{}),path:"/cookies",description:"Learn about how we use cookies and similar technologies"}];(0,r.useEffect)((()=>{if(n){const e=xv(eg(IS,"users",n.uid),(e=>{if(e.exists()){var t,n,r;const o=e.data();g(o.isPrivate||!1),w({followers:(null===(t=o.followers)||void 0===t?void 0:t.length)||0,following:(null===(n=o.following)||void 0===n?void 0:n.length)||0,pendingRequests:v.length,audioRooms:(null===(r=o.audioRooms)||void 0===r?void 0:r.length)||0})}})),t=async()=>{const e=Wg(Zm(IS,`users/${n.uid}/followRequests`),Yg("timestamp","desc")),t=(await gv(e)).docs.map((e=>{const t=e.data();return{id:e.id,userId:t.userId,username:t.username,timestamp:t.timestamp}}));y(t)};return t(),()=>e()}}),[n,v.length]);const O=async(e,t,r)=>{if(n)try{await bv(eg(IS,`users/${n.uid}/followRequests`,e)),r?(await vv(eg(IS,`users/${n.uid}/followers`,t),{timestamp:Iv()}),await vv(eg(IS,`users/${t}/following`,n.uid),{timestamp:Iv()}),r_.success("Follow request accepted")):r_.success("Follow request declined"),y((t=>t.filter((t=>t.id!==e))))}catch(p){console.error("Error handling follow request:",p),r_.error("Failed to process follow request")}};return(0,$e.jsx)(zR,{maxWidth:"md",sx:{py:4},children:(0,$e.jsxs)(Je,{sx:{py:4},children:[(0,$e.jsx)(WT,{variant:"h4",sx:{mb:3,fontWeight:"bold"},children:"Settings"}),p&&(0,$e.jsx)(oN,{severity:"error",sx:{mb:2},children:p}),(0,$e.jsx)(sT,{elevation:0,sx:{borderRadius:2},children:(0,$e.jsx)(cI,{children:M.map(((e,t)=>(0,$e.jsxs)(r.Fragment,{children:[(0,$e.jsxs)(NF,{component:e.path?Ie:"div",to:e.path,onClick:e.onClick,sx:{"&:hover":{backgroundColor:"action.hover"},textDecoration:"none",color:"inherit",cursor:"pointer"},children:[(0,$e.jsx)(oR,{children:e.icon}),(0,$e.jsx)(lR,{primary:e.title,secondary:e.description})]}),t<M.length-1&&(0,$e.jsx)(pR,{})]},e.title)))})}),(0,$e.jsxs)(bU,{open:c,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[(0,$e.jsx)(nB,{children:"Audio Device Settings"}),(0,$e.jsx)(cU,{children:(0,$e.jsxs)(cI,{children:[(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(OB,{})}),(0,$e.jsx)(lR,{primary:"Dark Mode",secondary:"Toggle between light and dark mode"}),(0,$e.jsx)(EF,{children:(0,$e.jsx)(EB,{checked:e,onChange:t,color:"primary"})})]}),(0,$e.jsx)(pR,{}),(0,$e.jsx)(WT,{variant:"subtitle1",sx:{px:2,py:1,fontWeight:"bold"},children:"Connected Devices"}),a.map((e=>(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(lR,{primary:e.name,secondary:`Last active: ${e.lastActive}`}),(0,$e.jsx)(jE,{edge:"end",onClick:()=>{h(e.id),(async e=>{if(n)try{const t=eg(IS,"users",n.uid);await yv(t,{devices:Rv(e)}),l(a.filter((t=>t.id!==e))),u(!1),h(null)}catch(IQ){f("Failed to remove device"),console.error("Error removing device:",IQ)}})(e.id)},children:(0,$e.jsx)(LB,{})})]},e.id))),0===a.length&&(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",sx:{px:2,py:2},children:"No devices connected"}),(0,$e.jsx)(UB,{})]})}),(0,$e.jsx)(vF,{children:(0,$e.jsx)(nI,{onClick:()=>u(!1),children:"Close"})})]}),(0,$e.jsxs)(Je,{sx:{mb:4,mt:4},children:[(0,$e.jsx)(WT,{variant:"h6",gutterBottom:!0,children:"Privacy Settings"}),(0,$e.jsxs)(sT,{elevation:2,sx:{p:3},children:[(0,$e.jsxs)(Je,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,$e.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:2},children:[m?(0,$e.jsx)(oB,{color:"primary"}):(0,$e.jsx)(FB,{color:"primary"}),(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"subtitle1",children:"Private Account"}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",children:m?"Only approved followers can join your audio rooms":"Anyone can join your audio rooms"})]})]}),(0,$e.jsx)(EB,{checked:m,onChange:async()=>{if(null!==n&&void 0!==n&&n.uid)try{if(await yv(eg(IS,"users",n.uid),{isPrivate:!m,updatedAt:Iv()}),!m)for(const e of v)await O(e.id,e.userId,!0)}catch(p){console.error("Error updating privacy settings:",p),r_.error("Failed to update privacy settings")}},color:"primary"})]}),(0,$e.jsxs)(Je,{sx:{display:"flex",gap:3,mt:2,p:2,bgcolor:"background.default",borderRadius:1},children:[(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"subtitle2",color:"text.secondary",children:"Followers"}),(0,$e.jsx)(WT,{variant:"h6",children:b.followers})]}),(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"subtitle2",color:"text.secondary",children:"Following"}),(0,$e.jsx)(WT,{variant:"h6",children:b.following})]}),(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"subtitle2",color:"text.secondary",children:"Audio Rooms"}),(0,$e.jsx)(WT,{variant:"h6",children:b.audioRooms})]}),m&&(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"subtitle2",color:"text.secondary",children:"Pending Requests"}),(0,$e.jsx)(WT,{variant:"h6",children:b.pendingRequests})]})]}),(0,$e.jsx)(oN,{severity:"info",sx:{mt:2},children:m?"When your account is private, only approved followers can join your audio rooms. New followers must send a follow request.":"When your account is public, anyone can join your audio rooms and follow you without approval."})]})]}),(0,$e.jsxs)(bU,{open:S,onClose:()=>_(!1),maxWidth:"sm",fullWidth:!0,children:[(0,$e.jsx)(nB,{children:"Create Verification Code"}),(0,$e.jsx)(cU,{children:(0,$e.jsx)($D,{label:"Create a verification code",value:T,onChange:e=>E(e.target.value),fullWidth:!0,margin:"normal",type:"password",inputProps:{maxLength:8,inputMode:"numeric",pattern:"[0-9]*"}})}),(0,$e.jsxs)(vF,{children:[(0,$e.jsx)(nI,{onClick:()=>_(!1),children:"Cancel"}),(0,$e.jsx)(nI,{onClick:async()=>{if(n&&T)try{const e=eg(IS,"users",n.uid);await yv(e,{verificationCode:T}),_(!1),A(!0),r_.success("Verification code created successfully")}catch(p){console.error("Error creating verification code:",p),r_.error("Failed to create verification code")}},variant:"contained",children:"Create"})]})]}),(0,$e.jsxs)(bU,{open:x,onClose:()=>A(!1),maxWidth:"sm",fullWidth:!0,children:[(0,$e.jsx)(nB,{children:"Verify Code"}),(0,$e.jsx)(cU,{children:(0,$e.jsx)($D,{label:"Enter your verification code",value:C,onChange:e=>k(e.target.value),fullWidth:!0,margin:"normal",type:"password",inputProps:{maxLength:8,inputMode:"numeric",pattern:"[0-9]*"}})}),(0,$e.jsxs)(vF,{children:[(0,$e.jsx)(nI,{onClick:()=>A(!1),children:"Cancel"}),(0,$e.jsx)(nI,{onClick:async()=>{if(n)try{const e=eg(IS,"users",n.uid),t=await fv(e);if(t.exists()){const e=t.data();e.verificationCode===C?(N(e.sourceCodeHash?C:""),j(!0),A(!1),r_.success("Code verified successfully")):r_.error("Invalid verification code")}}catch(p){console.error("Error verifying code:",p),r_.error("Failed to verify code")}},variant:"contained",children:"Verify"})]})]}),(0,$e.jsxs)(bU,{open:R,onClose:()=>j(!1),maxWidth:"md",fullWidth:!0,children:[(0,$e.jsx)(nB,{children:"Your Registration Source Code"}),(0,$e.jsxs)(cU,{children:[(0,$e.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1,mb:3,color:"info.main"},children:[(0,$e.jsx)(DB,{color:"info"}),(0,$e.jsx)(WT,{sx:{color:"info.main",fontSize:"1rem"},children:"When your account is used on another device, you will need this Source Code to register your account."})]}),(0,$e.jsx)(Je,{sx:{p:2,bgcolor:"background.paper",borderRadius:1,fontFamily:"monospace",whiteSpace:"pre-wrap",overflow:"auto",maxHeight:"60vh",fontSize:"24px",textAlign:"center"},children:D})]}),(0,$e.jsx)(vF,{children:(0,$e.jsx)(nI,{onClick:()=>j(!1),children:"Close"})})]}),m&&v.length>0&&(0,$e.jsxs)(Je,{sx:{mt:3},children:[(0,$e.jsx)(WT,{variant:"subtitle1",gutterBottom:!0,children:"Follow Requests"}),(0,$e.jsx)(cI,{children:v.map((e=>{var t;return(0,$e.jsxs)(NF,{sx:{bgcolor:"background.paper",borderRadius:1,mb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,$e.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,$e.jsx)(LT,{children:e.username[0]}),(0,$e.jsxs)(Je,{children:[(0,$e.jsxs)(WT,{variant:"subtitle1",children:["@",e.username]}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",children:new Date(null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toLocaleDateString()})]})]}),(0,$e.jsxs)(Je,{sx:{display:"flex",gap:1},children:[(0,$e.jsx)(jE,{color:"success",onClick:()=>O(e.id,e.userId,!0),children:(0,$e.jsx)(zB,{})}),(0,$e.jsx)(jE,{color:"error",onClick:()=>O(e.id,e.userId,!1),children:(0,$e.jsx)(VB,{})})]})]},e.id)}))})]})]})})};let $B;function WB(){if($B)return $B;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),$B="reverse",e.scrollLeft>0?$B="default":(e.scrollLeft=1,0===e.scrollLeft&&($B="negative")),document.body.removeChild(e),$B}function HB(e,t){const n=e.scrollLeft;if("rtl"!==t)return n;switch(WB()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function qB(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const GB=["onChange"],KB={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const YB=(0,yT.A)((0,$e.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),QB=(0,yT.A)((0,$e.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function XB(e){return(0,tT.Ay)("MuiTabScrollButton",e)}const JB=(0,Ke.A)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),ZB=["className","slots","slotProps","direction","orientation","disabled"],e$=(0,Xk.Ay)(kE,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})((e=>{let{ownerState:t}=e;return(0,je.A)({width:40,flexShrink:0,opacity:.8,[`&.${JB.disabled}`]:{opacity:0}},"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})})),t$=r.forwardRef((function(e,t){var n,r;const o=(0,Ze.b)({props:e,name:"MuiTabScrollButton"}),{className:i,slots:s={},slotProps:a={},direction:l}=o,c=(0,De.A)(o,ZB),u=Vk(),d=(0,je.A)({isRtl:u},o),h=(e=>{const{classes:t,orientation:n,disabled:r}=e,o={root:["root",n,r&&"disabled"]};return(0,Qk.A)(o,XB,t)})(d),p=null!=(n=s.StartScrollButtonIcon)?n:YB,f=null!=(r=s.EndScrollButtonIcon)?r:QB,m=ME({elementType:p,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d}),g=ME({elementType:f,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d});return(0,$e.jsx)(e$,(0,je.A)({component:"div",className:(0,Ne.A)(h.root,i),ref:t,role:null,ownerState:d,tabIndex:null},c,{children:"left"===l?(0,$e.jsx)(p,(0,je.A)({},m)):(0,$e.jsx)(f,(0,je.A)({},g))}))})),n$=t$;function r$(e){return(0,tT.Ay)("MuiTabs",e)}const o$=(0,Ke.A)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),i$=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],s$=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,a$=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,l$=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}const t=o.disabled||"true"===o.getAttribute("aria-disabled");if(o.hasAttribute("tabindex")&&!t)return void o.focus();o=n(e,o)}},c$=(0,Xk.Ay)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${o$.scrollButtons}`]:t.scrollButtons},{[`& .${o$.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})((e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${o$.scrollButtons}`]:{[n.breakpoints.down("sm")]:{display:"none"}}})})),u$=(0,Xk.Ay)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((e=>{let{ownerState:t}=e;return(0,je.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),d$=(0,Xk.Ay)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),h$=(0,Xk.Ay)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})((e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),p$=(0,Xk.Ay)((function(e){const{onChange:t}=e,n=(0,De.A)(e,GB),o=r.useRef(),i=r.useRef(null),s=()=>{o.current=i.current.offsetHeight-i.current.clientHeight};return(0,hI.A)((()=>{const e=(0,wI.A)((()=>{const e=o.current;s(),e!==o.current&&t(o.current)})),n=(0,xI.A)(i.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}}),[t]),r.useEffect((()=>{s(),t(o.current)}),[t]),(0,$e.jsx)("div",(0,je.A)({style:KB},n,{ref:i}))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),f$={};const m$=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiTabs"}),o=DI(),i=Vk(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:f="primary",onChange:m,orientation:g="horizontal",ScrollButtonComponent:v=n$,scrollButtons:y="auto",selectionFollowsFocus:b,slots:w={},slotProps:x={},TabIndicatorProps:A={},TabScrollButtonProps:S={},textColor:_="primary",value:C,variant:k="standard",visibleScrollbar:T=!1}=n,E=(0,De.A)(n,i$),I="scrollable"===k,P="vertical"===g,R=P?"scrollTop":"scrollLeft",j=P?"top":"left",D=P?"bottom":"right",N=P?"clientHeight":"clientWidth",M=P?"height":"width",O=(0,je.A)({},n,{component:h,allowScrollButtonsMobile:p,indicatorColor:f,orientation:g,vertical:P,scrollButtons:y,textColor:_,variant:k,visibleScrollbar:T,fixed:!I,hideScrollbar:I&&!T,scrollableX:I&&!P,scrollableY:I&&P,centered:c&&!I,scrollButtonsHideMobile:!p}),L=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:i,centered:s,scrollButtonsHideMobile:a,classes:l}=e,c={root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]};return(0,Qk.A)(c,r$,l)})(O),F=ME({elementType:w.StartScrollButtonIcon,externalSlotProps:x.startScrollButtonIcon,ownerState:O}),z=ME({elementType:w.EndScrollButtonIcon,externalSlotProps:x.endScrollButtonIcon,ownerState:O});const[V,U]=r.useState(!1),[B,$]=r.useState(f$),[W,H]=r.useState(!1),[q,G]=r.useState(!1),[K,Y]=r.useState(!1),[Q,X]=r.useState({overflow:"hidden",scrollbarWidth:0}),J=new Map,Z=r.useRef(null),ee=r.useRef(null),te=()=>{const e=Z.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollLeftNormalized:HB(e,i?"rtl":"ltr"),scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==C){const e=ee.current.children;if(e.length>0){const t=e[J.get(C)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},ne=(0,qT.A)((()=>{const{tabsMeta:e,tabMeta:t}=te();let n,r=0;if(P)n="top",t&&e&&(r=t.top-e.top+e.scrollTop);else if(n=i?"right":"left",t&&e){const o=i?e.scrollLeftNormalized+e.clientWidth-e.scrollWidth:e.scrollLeft;r=(i?-1:1)*(t[n]-e[n]+o)}const o={[n]:r,[M]:t?t[M]:0};if(isNaN(B[n])||isNaN(B[M]))$(o);else{const e=Math.abs(B[n]-o[n]),t=Math.abs(B[M]-o[M]);(e>=1||t>=1)&&$(o)}})),re=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:i=qB,duration:s=300}=r;let a=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=r=>{if(c)return void o(new Error("Animation cancelled"));null===a&&(a=r);const u=Math.min(1,(r-a)/s);t[e]=i(u)*(n-l)+l,u>=1?requestAnimationFrame((()=>{o(null)})):requestAnimationFrame(d)};l===n?o(new Error("Element already at target position")):requestAnimationFrame(d)}(R,Z.current,e,{duration:o.transitions.duration.standard}):Z.current[R]=e},oe=e=>{let t=Z.current[R];P?t+=e:(t+=e*(i?-1:1),t*=i&&"reverse"===WB()?-1:1),re(t)},ie=()=>{const e=Z.current[N];let t=0;const n=Array.from(ee.current.children);for(let r=0;r<n.length;r+=1){const o=n[r];if(t+o[N]>e){0===r&&(t=e);break}t+=o[N]}return t},se=()=>{oe(-1*ie())},ae=()=>{oe(ie())},le=r.useCallback((e=>{X({overflow:null,scrollbarWidth:e})}),[]),ce=(0,qT.A)((e=>{const{tabsMeta:t,tabMeta:n}=te();if(n&&t)if(n[j]<t[j]){const r=t[R]+(n[j]-t[j]);re(r,{animation:e})}else if(n[D]>t[D]){const r=t[R]+(n[D]-t[D]);re(r,{animation:e})}})),ue=(0,qT.A)((()=>{I&&!1!==y&&Y(!K)}));r.useEffect((()=>{const e=(0,wI.A)((()=>{Z.current&&ne()}));let t;const n=n=>{n.forEach((e=>{e.removedNodes.forEach((e=>{var n;null==(n=t)||n.unobserve(e)})),e.addedNodes.forEach((e=>{var n;null==(n=t)||n.observe(e)}))})),e(),ue()},r=(0,xI.A)(Z.current);let o;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(ee.current.children).forEach((e=>{t.observe(e)}))),"undefined"!==typeof MutationObserver&&(o=new MutationObserver(n),o.observe(ee.current,{childList:!0})),()=>{var n,i;e.clear(),r.removeEventListener("resize",e),null==(n=o)||n.disconnect(),null==(i=t)||i.disconnect()}}),[ne,ue]),r.useEffect((()=>{const e=Array.from(ee.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&I&&!1!==y){const n=e[0],r=e[t-1],o={root:Z.current,threshold:.99},i=new IntersectionObserver((e=>{H(!e[0].isIntersecting)}),o);i.observe(n);const s=new IntersectionObserver((e=>{G(!e[0].isIntersecting)}),o);return s.observe(r),()=>{i.disconnect(),s.disconnect()}}}),[I,y,K,null==u?void 0:u.length]),r.useEffect((()=>{U(!0)}),[]),r.useEffect((()=>{ne()})),r.useEffect((()=>{ce(f$!==B)}),[ce,B]),r.useImperativeHandle(l,(()=>({updateIndicator:ne,updateScrollButtons:ue})),[ne,ue]);const de=(0,$e.jsx)(h$,(0,je.A)({},A,{className:(0,Ne.A)(L.indicator,A.className),ownerState:O,style:(0,je.A)({},B,A.style)}));let he=0;const pe=r.Children.map(u,(e=>{if(!r.isValidElement(e))return null;const t=void 0===e.props.value?he:e.props.value;J.set(t,he);const n=t===C;return he+=1,r.cloneElement(e,(0,je.A)({fullWidth:"fullWidth"===k,indicator:n&&!V&&de,selected:n,selectionFollowsFocus:b,onChange:m,textColor:_,value:t},1!==he||!1!==C||e.props.tabIndex?{}:{tabIndex:0}))})),fe=(()=>{const e={};e.scrollbarSizeListener=I?(0,$e.jsx)(p$,{onChange:le,className:(0,Ne.A)(L.scrollableX,L.hideScrollbar)}):null;const t=I&&("auto"===y&&(W||q)||!0===y);return e.scrollButtonStart=t?(0,$e.jsx)(v,(0,je.A)({slots:{StartScrollButtonIcon:w.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:F},orientation:g,direction:i?"right":"left",onClick:se,disabled:!W},S,{className:(0,Ne.A)(L.scrollButtons,S.className)})):null,e.scrollButtonEnd=t?(0,$e.jsx)(v,(0,je.A)({slots:{EndScrollButtonIcon:w.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:z},orientation:g,direction:i?"left":"right",onClick:ae,disabled:!q},S,{className:(0,Ne.A)(L.scrollButtons,S.className)})):null,e})();return(0,$e.jsxs)(c$,(0,je.A)({className:(0,Ne.A)(L.root,d),ownerState:O,ref:t,as:h},E,{children:[fe.scrollButtonStart,fe.scrollbarSizeListener,(0,$e.jsxs)(u$,{className:L.scroller,ownerState:O,style:{overflow:Q.overflow,[P?"margin"+(i?"Left":"Right"):"marginBottom"]:T?void 0:-Q.scrollbarWidth},ref:Z,children:[(0,$e.jsx)(d$,{"aria-label":s,"aria-labelledby":a,"aria-orientation":"vertical"===g?"vertical":null,className:L.flexContainer,ownerState:O,onKeyDown:e=>{const t=ee.current,n=(0,rI.A)(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===g?"ArrowLeft":"ArrowUp",o="horizontal"===g?"ArrowRight":"ArrowDown";switch("horizontal"===g&&i&&(r="ArrowRight",o="ArrowLeft"),e.key){case r:e.preventDefault(),l$(t,n,a$);break;case o:e.preventDefault(),l$(t,n,s$);break;case"Home":e.preventDefault(),l$(t,null,s$);break;case"End":e.preventDefault(),l$(t,null,a$)}},ref:ee,role:"tablist",children:pe}),V&&de]}),fe.scrollButtonEnd]}))})),g$=m$;function v$(e){return(0,tT.Ay)("MuiTab",e)}const y$=(0,Ke.A)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),b$=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],w$=(0,Xk.Ay)(kE,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${(0,Jk.A)(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${y$.iconWrapper}`]:t.iconWrapper}]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},n.label&&{flexDirection:"top"===n.iconPosition||"bottom"===n.iconPosition?"column":"row"},{lineHeight:1.25},n.icon&&n.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${y$.iconWrapper}`]:(0,je.A)({},"top"===n.iconPosition&&{marginBottom:6},"bottom"===n.iconPosition&&{marginTop:6},"start"===n.iconPosition&&{marginRight:t.spacing(1)},"end"===n.iconPosition&&{marginLeft:t.spacing(1)})},"inherit"===n.textColor&&{color:"inherit",opacity:.6,[`&.${y$.selected}`]:{opacity:1},[`&.${y$.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"primary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${y$.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${y$.disabled}`]:{color:(t.vars||t).palette.text.disabled}},"secondary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${y$.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${y$.disabled}`]:{color:(t.vars||t).palette.text.disabled}},n.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},n.wrapped&&{fontSize:t.typography.pxToRem(12)})})),x$=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiTab"}),{className:o,disabled:i=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:h,onClick:p,onFocus:f,selected:m,selectionFollowsFocus:g,textColor:v="inherit",value:y,wrapped:b=!1}=n,w=(0,De.A)(n,b$),x=(0,je.A)({},n,{disabled:i,disableFocusRipple:s,selected:m,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:v,wrapped:b}),A=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:i,label:s,selected:a,disabled:l}=e,c={root:["root",i&&s&&"labelIcon",`textColor${(0,Jk.A)(n)}`,r&&"fullWidth",o&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return(0,Qk.A)(c,v$,t)})(x),S=l&&d&&r.isValidElement(l)?r.cloneElement(l,{className:(0,Ne.A)(A.iconWrapper,l.props.className)}):l;return(0,$e.jsxs)(w$,(0,je.A)({focusRipple:!s,className:(0,Ne.A)(A.root,o),ref:t,role:"tab","aria-selected":m,disabled:i,onClick:e=>{!m&&h&&h(e,y),p&&p(e)},onFocus:e=>{g&&!m&&h&&h(e,y),f&&f(e)},ownerState:x,tabIndex:m?0:-1},w,{children:["top"===c||"start"===c?(0,$e.jsxs)(r.Fragment,{children:[S,d]}):(0,$e.jsxs)(r.Fragment,{children:[d,S]}),u]}))})),A$=x$,S$=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],_$=(0,Xk.Ay)(kE,{shouldForwardProp:e=>(0,HE.A)(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${SF.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Zk.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${SF.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Zk.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${SF.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Zk.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Zk.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${SF.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${SF.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},"flex-start"===n.alignItems&&{alignItems:"flex-start"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.dense&&{paddingTop:4,paddingBottom:4})})),C$=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiListItemButton"}),{alignItems:o="center",autoFocus:i=!1,component:s="div",children:a,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:h=!1,className:p}=n,f=(0,De.A)(n,S$),m=r.useContext(oI),g=r.useMemo((()=>({dense:l||m.dense||!1,alignItems:o,disableGutters:c})),[o,m.dense,l,c]),v=r.useRef(null);(0,hI.A)((()=>{i&&v.current&&v.current.focus()}),[i]);const y=(0,je.A)({},n,{alignItems:o,dense:g.dense,disableGutters:c,divider:u,selected:h}),b=(e=>{const{alignItems:t,classes:n,dense:r,disabled:o,disableGutters:i,divider:s,selected:a}=e,l={root:["root",r&&"dense",!i&&"gutters",s&&"divider",o&&"disabled","flex-start"===t&&"alignItemsFlexStart",a&&"selected"]},c=(0,Qk.A)(l,AF,n);return(0,je.A)({},n,c)})(y),w=(0,HT.A)(v,t);return(0,$e.jsx)(oI.Provider,{value:g,children:(0,$e.jsx)(_$,(0,je.A)({ref:w,href:f.href||f.to,component:(f.href||f.to)&&"div"===s?"button":s,focusVisibleClassName:(0,Ne.A)(b.focusVisible,d),ownerState:y,className:(0,Ne.A)(b.root,p)},f,{classes:b,children:a}))})})),k$=C$;function T$(e){return(0,tT.Ay)("MuiListItemAvatar",e)}(0,Ke.A)("MuiListItemAvatar",["root","alignItemsFlexStart"]);const E$=["className"],I$=(0,Xk.Ay)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((e=>{let{ownerState:t}=e;return(0,je.A)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),P$=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiListItemAvatar"}),{className:o}=n,i=(0,De.A)(n,E$),s=r.useContext(oI),a=(0,je.A)({},n,{alignItems:s.alignItems}),l=(e=>{const{alignItems:t,classes:n}=e,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,Qk.A)(r,T$,n)})(a);return(0,$e.jsx)(I$,(0,je.A)({className:(0,Ne.A)(l.root,o),ownerState:a,ref:t},i))})),R$=P$,j$=()=>{const e=Z(),{searchQuery:t}=ee(),{db:n,loading:o,error:i}=dB(),[s,a]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(null),[h,p]=(0,r.useState)(0);ZN(DI().breakpoints.down("sm"));(0,r.useEffect)((()=>{(async()=>{if(t&&n)try{c(!0);const e=[],r=Wg(Zm(n,"users"),qg("username",">=",t.toLowerCase()),qg("username","<=",t.toLowerCase()+"\uf8ff"),Xg(20));(await gv(r)).forEach((t=>{const n=t.data();e.push({id:t.id,type:"user",data:n})}));const o=Wg(Zm(n,"posts"),qg("content",">=",t.toLowerCase()),qg("content","<=",t.toLowerCase()+"\uf8ff"),Yg("content"),Xg(20)),i=await gv(o);for(const t of i.docs){const r=t.data(),o=(await fv(eg(n,"users",r.authorId))).data();e.push({id:t.id,type:"post",data:{...r,author:o}})}const s=Wg(Zm(n,"forums"),qg("title",">=",t.toLowerCase()),qg("title","<=",t.toLowerCase()+"\uf8ff"),Xg(20));(await gv(s)).forEach((t=>{const n=t.data();e.push({id:t.id,type:"forum",data:n})}));const l=Wg(Zm(n,"sideRooms"),qg("name",">=",t.toLowerCase()),qg("name","<=",t.toLowerCase()+"\uf8ff"),Xg(20));(await gv(l)).forEach((t=>{const n=t.data();e.push({id:t.id,type:"sideRoom",data:n})})),a(e)}catch(IQ){console.error("Error searching:",IQ),d("Failed to search. Please try again later.")}finally{c(!1)}})()}),[t,n]);const f=s.filter((e=>{switch(h){case 0:return"user"===e.type;case 1:return"post"===e.type;case 2:return"forum"===e.type;case 3:return"sideRoom"===e.type;default:return!0}}));return o?(0,$e.jsx)("div",{children:"Loading..."}):i?(0,$e.jsxs)("div",{children:["Error: ",i.message]}):n?(0,$e.jsxs)(zR,{maxWidth:"md",sx:{mt:4},children:[(0,$e.jsxs)(WT,{variant:"h4",gutterBottom:!0,children:['Search Results for "',t,'"']}),u&&(0,$e.jsx)(oN,{severity:"error",sx:{mb:2},children:u}),(0,$e.jsx)(Je,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:(0,$e.jsxs)(g$,{value:h,onChange:(e,t)=>p(t),children:[(0,$e.jsx)(A$,{label:"Users"}),(0,$e.jsx)(A$,{label:"Posts"}),(0,$e.jsx)(A$,{label:"Forums"}),(0,$e.jsx)(A$,{label:"Side Rooms"})]})}),l?(0,$e.jsx)(Je,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,$e.jsx)(UN,{})}):0===f.length?(0,$e.jsx)(WT,{variant:"body1",color:"text.secondary",children:"No results found"}):(0,$e.jsx)(cI,{children:f.map((t=>(0,$e.jsxs)(k$,{onClick:()=>(t=>{switch(t.type){case"user":e(`/profile/${t.id}`);break;case"post":e(`/post/${t.id}`);break;case"forum":e(`/forum/${t.id}`);break;case"sideRoom":e(`/side-room/${t.id}`)}})(t),sx:{mb:1,borderRadius:1},children:[(0,$e.jsx)(R$,{children:"user"===t.type?(0,$e.jsx)(LT,{src:t.data.avatar}):(0,$e.jsx)(LT,{children:"post"===t.type?"P":"forum"===t.type?"F":"S"})}),(0,$e.jsx)(lR,{primary:t.data.title||t.data.username||t.data.name,secondary:"post"===t.type?t.data.content.substring(0,100)+"...":t.data.description})]},t.id)))})]}):(0,$e.jsx)("div",{children:"Error: Database connection failed"})},D$=(0,yT.A)((0,$e.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),N$=(0,yT.A)((0,$e.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People");var M$={};function O$(){return M$}function L$(e){return L$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L$(e)}function F$(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function z$(e){F$(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===L$(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function V$(e,t){F$(2,arguments);var n=z$(e),r=z$(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function U$(e){F$(1,arguments);var t=z$(e);return t.setHours(23,59,59,999),t}function B$(e){F$(1,arguments);var t=z$(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function $$(e,t){F$(2,arguments);var n,r=z$(e),o=z$(t),i=V$(r,o),s=Math.abs(function(e,t){F$(2,arguments);var n=z$(e),r=z$(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,o));if(s<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);var a=V$(r,o)===-i;(function(e){F$(1,arguments);var t=z$(e);return U$(t).getTime()===B$(t).getTime()})(z$(e))&&1===s&&1===V$(e,o)&&(a=!1),n=i*(s-Number(a))}return 0===n?0:n}function W$(e,t){return F$(2,arguments),z$(e).getTime()-z$(t).getTime()}var H$={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function q$(e){return e?H$[e]:H$.trunc}function G$(e,t,n){F$(2,arguments);var r=W$(e,t)/1e3;return q$(null===n||void 0===n?void 0:n.roundingMethod)(r)}var K$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Y$=function(e,t,n){var r,o=K$[e];return r="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Q$(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const X$={date:Q$({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Q$({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Q$({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var J$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const Z$=function(e,t,n,r){return J$[e]};function eW(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):o;r=e.formattingValues[i]||e.formattingValues[o]}else{var s=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const tW={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:eW({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:eW({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:eW({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:eW({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:eW({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function nW(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s,a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(a)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}var rW,oW={ordinalNumber:(rW={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(rW.matchPattern);if(!n)return null;var r=n[0],o=e.match(rW.parsePattern);if(!o)return null;var i=rW.valueCallback?rW.valueCallback(o[0]):o[0];return{value:i=t.valueCallback?t.valueCallback(i):i,rest:e.slice(r.length)}}),era:nW({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:nW({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:nW({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:nW({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:nW({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const iW={code:"en-US",formatDistance:Y$,formatLong:X$,formatRelative:Z$,localize:tW,match:oW,options:{weekStartsOn:0,firstWeekContainsDate:1}},sW=iW;function aW(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function lW(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var cW=43200;function uW(e,t,n){var r,o;F$(2,arguments);var i=O$(),s=null!==(r=null!==(o=null===n||void 0===n?void 0:n.locale)&&void 0!==o?o:i.locale)&&void 0!==r?r:sW;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=V$(e,t);if(isNaN(a))throw new RangeError("Invalid time value");var l,c,u=aW(aW({},n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:a});a>0?(l=z$(t),c=z$(e)):(l=z$(e),c=z$(t));var d,h=G$(c,l),p=(lW(c)-lW(l))/1e3,f=Math.round((h-p)/60);if(f<2)return null!==n&&void 0!==n&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,u):h<10?s.formatDistance("lessThanXSeconds",10,u):h<20?s.formatDistance("lessThanXSeconds",20,u):h<40?s.formatDistance("halfAMinute",0,u):h<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):0===f?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",f,u);if(f<45)return s.formatDistance("xMinutes",f,u);if(f<90)return s.formatDistance("aboutXHours",1,u);if(f<1440){var m=Math.round(f/60);return s.formatDistance("aboutXHours",m,u)}if(f<2520)return s.formatDistance("xDays",1,u);if(f<cW){var g=Math.round(f/1440);return s.formatDistance("xDays",g,u)}if(f<86400)return d=Math.round(f/cW),s.formatDistance("aboutXMonths",d,u);if((d=$$(c,l))<12){var v=Math.round(f/cW);return s.formatDistance("xMonths",v,u)}var y=d%12,b=Math.floor(d/12);return y<3?s.formatDistance("aboutXYears",b,u):y<9?s.formatDistance("overXYears",b,u):s.formatDistance("almostXYears",b+1,u)}function dW(e,t){return F$(1,arguments),uW(e,Date.now(),t)}const hW=e=>{try{return dW(e)}catch(pb){return e instanceof Date?e.toLocaleString():new Date(e).toLocaleString()}},pW=e=>{if(!e)return"";try{return e.toDate?hW(e.toDate()):e instanceof Date?hW(e):hW(new Date(e))}catch(pb){return console.error("Error formatting timestamp:",pb),""}};function fW(e){return e.substring(2).toLowerCase()}function mW(e){const{children:t,disableReactTree:n=!1,mouseEvent:o="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=e,a=r.useRef(!1),l=r.useRef(null),c=r.useRef(!1),u=r.useRef(!1);r.useEffect((()=>(setTimeout((()=>{c.current=!0}),0),()=>{c.current=!1})),[]);const d=(0,xT.A)(AI(t),l),h=(0,iP.A)((e=>{const t=u.current;u.current=!1;const r=(0,BI.A)(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(a.current)return void(a.current=!1);let o;o=e.composedPath?e.composedPath().indexOf(l.current)>-1:!r.documentElement.contains(e.target)||l.current.contains(e.target),o||!n&&t||i(e)})),p=e=>n=>{u.current=!0;const r=t.props[e];r&&r(n)},f={ref:d};return!1!==s&&(f[s]=p(s)),r.useEffect((()=>{if(!1!==s){const e=fW(s),t=(0,BI.A)(l.current),n=()=>{a.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}}),[h,s]),!1!==o&&(f[o]=p(o)),r.useEffect((()=>{if(!1!==o){const e=fW(o),t=(0,BI.A)(l.current);return t.addEventListener(e,h),()=>{t.removeEventListener(e,h)}}}),[h,o]),(0,$e.jsx)(r.Fragment,{children:r.cloneElement(t,f)})}const gW=()=>{var e;const[t,n]=(0,r.useState)(0),[o,i]=(0,r.useState)(""),[s,a]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)([]),[h,p]=(0,r.useState)(!0),[f,m]=(0,r.useState)(new Set),g=Z(),{currentUser:v}=Ek(),[y,b]=(0,r.useState)(null),w=DI(),x=ZN(w.breakpoints.down("sm")),[A,S]=(0,r.useState)(!1),[_,C]=(0,r.useState)(!1),[k,T]=(0,r.useState)([]),[E,I]=(0,r.useState)(!1),P=r.useRef(null),[R,j]=(0,r.useState)([]),D=async()=>{try{p(!0),R.forEach((e=>e())),j([]);const e=Wg(Zm(IS,"sideRooms"),Yg("lastActive","desc"),Xg(20)),t=await gv(e),n=await Promise.all(t.docs.map((async e=>{var t,n,r,o,i;const s=e.data();let a=null;if(s.ownerId){const e=eg(IS,"users",s.ownerId),t=await fv(e);t.exists()&&(a=t.data())}return{id:e.id,name:s.name||"",description:s.description||"",memberCount:s.memberCount||0,shareCount:s.shareCount||0,isPrivate:s.isPrivate||!1,createdAt:(null===(t=s.createdAt)||void 0===t?void 0:t.toDate())||new Date,creatorName:(null===(n=a)||void 0===n?void 0:n.username)||s.creatorName||"",creatorId:s.ownerId||"",creatorAvatar:(null===(r=a)||void 0===r?void 0:r.profilePic)||(null===(o=a)||void 0===o?void 0:o.avatar)||"",tags:s.tags||[],lastActive:(null===(i=s.lastActive)||void 0===i?void 0:i.toDate())||new Date,maxMembers:s.maxMembers||50,activeUsers:s.activeUsers||0,isLive:s.isLive||!1}})));a(n),n.forEach((e=>{z(e.id)}));const r=xv(e,(e=>{e.docChanges().forEach((async e=>{if("added"===e.type){var t,n,r,o,i;const s=e.doc.data();let l=null;if(s.ownerId){const e=eg(IS,"users",s.ownerId),t=await fv(e);t.exists()&&(l=t.data())}const c={id:e.doc.id,name:s.name||"",description:s.description||"",memberCount:s.memberCount||0,shareCount:s.shareCount||0,isPrivate:s.isPrivate||!1,createdAt:(null===(t=s.createdAt)||void 0===t?void 0:t.toDate())||new Date,creatorName:(null===(n=l)||void 0===n?void 0:n.username)||s.creatorName||"",creatorId:s.ownerId||"",creatorAvatar:(null===(r=l)||void 0===r?void 0:r.profilePic)||(null===(o=l)||void 0===o?void 0:o.avatar)||"",tags:s.tags||[],lastActive:(null===(i=s.lastActive)||void 0===i?void 0:i.toDate())||new Date,maxMembers:s.maxMembers||50,activeUsers:s.activeUsers||0,isLive:s.isLive||!1};a((e=>e.find((e=>e.id===c.id))?e:(z(c.id),[c,...e])))}"removed"===e.type&&a((t=>t.filter((t=>t.id!==e.doc.id))))}))}));j((e=>[...e,r]))}catch(y){console.error("Error fetching rooms:",y),r_.error("Failed to load rooms")}finally{p(!1)}};(0,r.useEffect)((()=>{(async()=>{try{const e=Wg(Zm(IS,"users"),Yg("createdAt","desc"),Xg(20)),t=(await gv(e)).docs.map((e=>({id:e.id,...e.data()})));c(t)}catch(y){console.error("Error fetching users:",y)}finally{p(!1)}})(),D(),N(),v&&M()}),[v]);const N=async()=>{try{const e=Wg(Zm(IS,"videos"),Yg("timestamp","desc"),Xg(20)),t=(await gv(e)).docs.map((e=>({id:e.id,...e.data()})));d(t)}catch(y){console.error("Error fetching videos:",y)}},M=async()=>{if(v)try{const e=Wg(Zm(IS,`users/${v.uid}/following`)),t=await gv(e),n=new Set(t.docs.map((e=>e.id)));m(n)}catch(y){console.error("Error fetching following:",y)}},O=async e=>{if(v&&e!==v.uid)try{const r=eg(IS,`users/${v.uid}/following`,e),o=eg(IS,`users/${e}/followers`,v.uid);if(f.has(e))await bv(r),await bv(o),m((t=>{const n=new Set(t);return n.delete(e),n})),r_.success("Unfollowed user");else{var t,n;await vv(r,{timestamp:Iv()}),await vv(o,{timestamp:Iv()}),m((t=>new Set(t).add(e)));const i={type:"follow",senderId:v.uid,senderName:v.displayName||(null===(t=v.email)||void 0===t?void 0:t.split("@")[0])||"Someone",senderAvatar:v.photoURL||"",recipientId:e,content:`${v.displayName||(null===(n=v.email)||void 0===n?void 0:n.split("@")[0])||"Someone"} started following you`,createdAt:Iv(),isRead:!1};await wv(Zm(IS,"notifications"),i),r_.success("Followed user")}}catch(y){console.error("Error toggling follow:",y),r_.error("Failed to update follow status")}},L=e=>{g(`/side-room/${e}`)},F=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i(e),e.length<2&&!t)return C(!1),void D();if(t){C(!0),p(!0);try{const t=e.toLowerCase(),n=Zm(IS,"users"),r=Wg(n,Yg("username"),Zg(t),tv(t+"\uf8ff"),Xg(20)),o=Wg(Zm(IS,"sideRooms"),qg("name_lower",">=",t),qg("name_lower","<=",t+"\uf8ff"),Xg(20)),[i,s]=await Promise.all([gv(r),gv(o)]);let l=i.docs.map((e=>({id:e.id,username:e.data().username||"",name:e.data().name||"",bio:e.data().bio||"",profilePic:e.data().profilePic||"",isPublic:!0,isAuthenticated:!0,createdAt:e.data().createdAt})));if(0===l.length){const e=Wg(n,Yg("name"),Zg(t),tv(t+"\uf8ff"),Xg(20));l=(await gv(e)).docs.map((e=>({id:e.id,username:e.data().username||"",name:e.data().name||"",bio:e.data().bio||"",profilePic:e.data().profilePic||"",isPublic:!0,isAuthenticated:!0,createdAt:e.data().createdAt})))}const u=await Promise.all(s.docs.map((async e=>{var t,n,r,o,i;const s=e.data(),a={id:e.id,name:s.name||"",description:s.description||"",ownerId:s.ownerId||"",createdAt:s.createdAt,lastActive:s.lastActive,tags:s.tags||[],isPrivate:s.isPrivate||!1,activeUsers:s.activeUsers||0,isLive:s.isLive||!1};let l=null;if(a.ownerId){const e=eg(IS,"users",a.ownerId),t=await fv(e);t.exists()&&(l=t.data())}return{id:e.id,name:a.name,description:a.description,memberCount:s.memberCount||0,shareCount:s.shareCount||0,isPrivate:a.isPrivate,createdAt:(null===(t=a.createdAt)||void 0===t?void 0:t.toDate())||new Date,creatorName:(null===(n=l)||void 0===n?void 0:n.username)||s.creatorName||"",creatorId:a.ownerId,creatorAvatar:(null===(r=l)||void 0===r?void 0:r.profilePic)||(null===(o=l)||void 0===o?void 0:o.avatar)||"",tags:a.tags||[],lastActive:(null===(i=a.lastActive)||void 0===i?void 0:i.toDate())||new Date,maxMembers:s.maxMembers||50,activeUsers:a.activeUsers,isLive:a.isLive}})));c(l),a(u)}catch(y){console.error("Search error:",y),r_.error(`Search failed: ${y.code||y.message}`)}finally{p(!1)}}};(0,r.useEffect)((()=>()=>{R.forEach((e=>e()))}),[R]);const z=e=>{const t=eg(IS,"sideRooms",e),n=xv(Wg(Zm(IS,"sideRooms",e,"presence"),qg("isOnline","==",!0)),(n=>{const r=n.docs.map((e=>({id:e.id,...e.data()}))),o=r.find((e=>"owner"===e.role)),i=Boolean(o&&!o.isMuted);yv(t,{activeUsers:r.length,isLive:i,lastActive:Iv()}).catch((t=>{console.error(`Error updating room ${e} status:`,t)}))})),r=xv(t,(t=>{if(t.exists()){const n=t.data();a((t=>{const r=[...t],o=r.findIndex((t=>t.id===e));var i;-1!==o&&(r[o]={...r[o],isLive:Boolean(n.isLive),activeUsers:n.activeUsers||0,lastActive:(null===(i=n.lastActive)||void 0===i?void 0:i.toDate())||new Date});return r}))}}));j((e=>[...e,n,r]))};return h?(0,$e.jsx)(Je,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:(0,$e.jsx)(UN,{})}):(0,$e.jsxs)(Je,{sx:{height:"100vh",overflowY:"auto",position:"relative",backgroundColor:w.palette.background.default},children:[(0,$e.jsx)(Je,{sx:{position:"sticky",top:0,backgroundColor:w.palette.background.default,zIndex:1e3,pt:2,pb:2,borderBottom:1,borderColor:"divider"},children:(0,$e.jsx)(zR,{maxWidth:!1,sx:{maxWidth:"1440px"},children:(0,$e.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,$e.jsx)(Je,{sx:{display:"flex",alignItems:"center",gap:2},children:(0,$e.jsx)(WT,{variant:x?"h5":"h4",component:"h1",sx:{fontWeight:600},children:_?"Search Results":"Discover"})}),(0,$e.jsx)(mW,{onClickAway:()=>{I(!1)},children:(0,$e.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1,position:"relative"},children:[A&&(0,$e.jsxs)(Je,{ref:P,children:[(0,$e.jsx)($D,{size:"small",placeholder:"Search rooms and users...",value:o,onChange:e=>{(async e=>{if(i(e),e.length<1)return T([]),void I(!1);try{const t=e.toLowerCase(),n=Zm(IS,"users"),r=Wg(n,Yg("username"),Zg(t),tv(t+"\uf8ff"),Xg(5)),o=await gv(r);if(o.empty){const e=Wg(n,Yg("name"),Zg(t),tv(t+"\uf8ff"),Xg(5)),r=(await gv(e)).docs.map((e=>({id:e.id,username:e.data().username||"",name:e.data().name||"",bio:e.data().bio||"",profilePic:e.data().profilePic||"",isPublic:!0,isAuthenticated:!0,createdAt:e.data().createdAt})));T(r)}else{const e=o.docs.map((e=>({id:e.id,username:e.data().username||"",name:e.data().name||"",bio:e.data().bio||"",profilePic:e.data().profilePic||"",isPublic:!0,isAuthenticated:!0,createdAt:e.data().createdAt})));T(e)}I(!0)}catch(y){console.error("Instant search error:",y),r_.error("Failed to search users")}})(e.target.value),F(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&F(o,!0)},InputProps:{startAdornment:(0,$e.jsx)(YN,{position:"start",children:(0,$e.jsx)(D$,{})})},sx:{backgroundColor:"background.paper",borderRadius:1,width:x?"200px":"250px","& .MuiOutlinedInput-root":{borderRadius:1}}}),(0,$e.jsx)(VL,{open:E&&k.length>0,anchorEl:P.current,placement:"bottom-start",style:{width:null===(e=P.current)||void 0===e?void 0:e.offsetWidth,zIndex:1400},children:(0,$e.jsx)(sT,{elevation:3,sx:{mt:1,maxHeight:"300px",overflowY:"auto",borderRadius:1},children:(0,$e.jsx)(cI,{sx:{p:0},children:k.map(((e,t)=>(0,$e.jsxs)(r.Fragment,{children:[(0,$e.jsxs)(NF,{button:!0,onClick:()=>{g(`/profile/${e.id}`),I(!1)},sx:{py:1,px:2,"&:hover":{backgroundColor:"action.hover"}},children:[(0,$e.jsx)(R$,{children:(0,$e.jsx)(LT,{src:e.profilePic,alt:e.name,sx:{width:32,height:32},children:e.name[0]})}),(0,$e.jsx)(lR,{primary:(0,$e.jsx)(WT,{variant:"body1",children:e.name}),secondary:(0,$e.jsxs)(WT,{variant:"body2",color:"text.secondary",children:["@",e.username]}),sx:{my:0}}),v&&e.id!==v.uid&&(0,$e.jsxs)(Je,{sx:{display:"flex",gap:1},children:[(0,$e.jsx)(jE,{size:"small",onClick:t=>{t.stopPropagation(),g(`/messages/${e.id}`)},children:(0,$e.jsx)(lB,{fontSize:"small"})}),(0,$e.jsx)(jE,{size:"small",onClick:t=>{t.stopPropagation(),O(e.id)},color:f.has(e.id)?"primary":"default",children:(0,$e.jsx)(sB,{fontSize:"small"})})]})]}),t<k.length-1&&(0,$e.jsx)(pR,{})]},e.id)))})})})]}),(0,$e.jsx)(jE,{onClick:()=>S(!A),sx:{backgroundColor:"background.paper","&:hover":{backgroundColor:"action.hover"}},children:(0,$e.jsx)(D$,{})})]})})]})})}),(0,$e.jsxs)(zR,{maxWidth:!1,sx:{pt:3,pb:4,px:x?2:3,maxWidth:"1440px"},children:[_?(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:4},children:[l.length>0&&(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"h6",sx:{mb:2},children:"Users"}),(0,$e.jsx)(cI,{children:l.map(((e,t)=>(0,$e.jsxs)(r.Fragment,{children:[(0,$e.jsxs)(NF,{sx:{py:2,cursor:"pointer","&:hover":{backgroundColor:"action.hover"}},onClick:()=>g(`/profile/${e.id}`),children:[(0,$e.jsx)(R$,{children:(0,$e.jsx)(LT,{src:e.profilePic,alt:e.name,sx:{width:50,height:50},children:e.name[0]})}),(0,$e.jsx)(lR,{primary:(0,$e.jsx)(WT,{variant:"subtitle1",sx:{fontWeight:600},children:e.name}),secondary:(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsxs)(WT,{variant:"body2",color:"text.secondary",children:["@",e.username]}),e.bio&&(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",sx:{mt:.5,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.bio})]})}),v&&e.id!==v.uid&&(0,$e.jsx)(EF,{children:(0,$e.jsxs)(Je,{sx:{display:"flex",gap:1},children:[(0,$e.jsx)(jE,{onClick:t=>{t.stopPropagation(),g(`/messages/${e.id}`)},size:"small",children:(0,$e.jsx)(lB,{})}),(0,$e.jsx)(jE,{onClick:t=>{t.stopPropagation(),O(e.id)},size:"small",color:f.has(e.id)?"primary":"default",children:(0,$e.jsx)(sB,{})})]})})]}),t<l.length-1&&(0,$e.jsx)(pR,{})]},e.id)))})]}),s.length>0&&(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"h6",sx:{mb:2},children:"Rooms"}),(0,$e.jsx)(vN,{container:!0,spacing:3,children:s.map((e=>(0,$e.jsx)(vN,{item:!0,xs:12,sm:6,md:4,children:(0,$e.jsxs)(MU,{sx:{height:"100%",display:"flex",flexDirection:"column",cursor:"pointer",borderRadius:2,overflow:"hidden",boxShadow:w.shadows[3],"&:hover":{transform:"translateY(-4px)",transition:"transform 0.2s ease-in-out",boxShadow:w.shadows[6]}},onClick:()=>L(e.id),children:[(0,$e.jsxs)(Je,{sx:{position:"relative"},children:[(0,$e.jsx)(BU,{component:"img",height:x?"220":"280",image:e.creatorAvatar||"/default-room.jpg",alt:e.name,sx:{objectFit:"cover",width:"100%"}}),e.isLive&&(0,$e.jsx)($F,{label:"LIVE",color:"error",size:"small",sx:{position:"absolute",top:12,right:12,fontWeight:"bold",fontSize:x?"0.75rem":"0.875rem",height:"auto",padding:"6px 12px"}})]}),(0,$e.jsxs)(GU,{sx:{flexGrow:1,p:3,"&:last-child":{pb:3}},children:[(0,$e.jsxs)(Je,{sx:{mb:2},children:[(0,$e.jsx)(WT,{gutterBottom:!0,variant:x?"h6":"h5",component:"h2",noWrap:!0,sx:{fontWeight:600,mb:1},children:e.name}),(0,$e.jsx)(WT,{variant:"body1",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",mb:2,lineHeight:1.5},children:e.description})]}),(0,$e.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:2,flexWrap:"wrap"},children:[(0,$e.jsx)($F,{icon:(0,$e.jsx)(N$,{sx:{fontSize:x?"1.1rem":"1.25rem"}}),label:`${e.activeUsers||0} viewing`,color:"primary",variant:"outlined",sx:{height:"auto",padding:"8px 12px","& .MuiChip-label":{padding:"0 4px",fontSize:x?"0.875rem":"1rem"}}}),e.isPrivate&&(0,$e.jsx)($F,{label:"Private",color:"secondary",sx:{height:"auto",padding:"8px 12px","& .MuiChip-label":{padding:"0 4px",fontSize:x?"0.875rem":"1rem"}}})]}),(0,$e.jsxs)(WT,{variant:"body2",color:"text.secondary",sx:{fontSize:x?"0.75rem":"0.875rem",display:"flex",alignItems:"center",gap:.5},children:["Created by ",e.creatorName||"Anonymous"," \u2022 ",pW(e.lastActive)]})]})]})},e.id)))})]}),0===l.length&&0===s.length&&!h&&(0,$e.jsxs)(Je,{sx:{textAlign:"center",py:4},children:[(0,$e.jsx)(WT,{variant:"h6",color:"text.secondary",children:"No results found"}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",children:"Try different keywords or check your spelling"})]})]}):(0,$e.jsx)(vN,{container:!0,spacing:3,children:s.map((e=>(0,$e.jsx)(vN,{item:!0,xs:12,sm:6,md:4,children:(0,$e.jsxs)(MU,{sx:{height:"100%",display:"flex",flexDirection:"column",cursor:"pointer",borderRadius:2,overflow:"hidden",boxShadow:w.shadows[3],"&:hover":{transform:"translateY(-4px)",transition:"transform 0.2s ease-in-out",boxShadow:w.shadows[6]}},onClick:()=>L(e.id),children:[(0,$e.jsxs)(Je,{sx:{position:"relative"},children:[(0,$e.jsx)(BU,{component:"img",height:x?"220":"280",image:e.creatorAvatar||"/default-room.jpg",alt:e.name,sx:{objectFit:"cover",width:"100%"}}),e.isLive&&(0,$e.jsx)($F,{label:"LIVE",color:"error",size:"small",sx:{position:"absolute",top:12,right:12,fontWeight:"bold",fontSize:x?"0.75rem":"0.875rem",height:"auto",padding:"6px 12px"}})]}),(0,$e.jsxs)(GU,{sx:{flexGrow:1,p:3,"&:last-child":{pb:3}},children:[(0,$e.jsxs)(Je,{sx:{mb:2},children:[(0,$e.jsx)(WT,{gutterBottom:!0,variant:x?"h6":"h5",component:"h2",noWrap:!0,sx:{fontWeight:600,mb:1},children:e.name}),(0,$e.jsx)(WT,{variant:"body1",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",mb:2,lineHeight:1.5},children:e.description})]}),(0,$e.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:2,flexWrap:"wrap"},children:[(0,$e.jsx)($F,{icon:(0,$e.jsx)(N$,{sx:{fontSize:x?"1.1rem":"1.25rem"}}),label:`${e.activeUsers||0} viewing`,color:"primary",variant:"outlined",sx:{height:"auto",padding:"8px 12px","& .MuiChip-label":{padding:"0 4px",fontSize:x?"0.875rem":"1rem"}}}),e.isPrivate&&(0,$e.jsx)($F,{label:"Private",color:"secondary",sx:{height:"auto",padding:"8px 12px","& .MuiChip-label":{padding:"0 4px",fontSize:x?"0.875rem":"1rem"}}})]}),(0,$e.jsxs)(WT,{variant:"body2",color:"text.secondary",sx:{fontSize:x?"0.75rem":"0.875rem",display:"flex",alignItems:"center",gap:.5},children:["Created by ",e.creatorName||"Anonymous"," \u2022 ",pW(e.lastActive)]})]})]})},e.id)))}),h&&(0,$e.jsx)(Je,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,$e.jsx)(UN,{})})]})]})},vW=()=>{const{user:e}=Ek(),{db:t}=dB(),[n,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(t&&e)try{const n=xv(Wg(Zm(t,"messages"),qg("participants","array-contains",e.uid),Yg("timestamp","desc")),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));o(t),u(!1)}));return()=>n()}catch(IQ){h("Failed to fetch messages"),console.error("Error fetching messages:",IQ),u(!1)}}),[t,e]);return c?(0,$e.jsx)(Je,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,$e.jsx)(UN,{})}):d?(0,$e.jsx)(Je,{p:3,children:(0,$e.jsx)(WT,{color:"error",children:d})}):(0,$e.jsxs)(Je,{p:3,children:[(0,$e.jsx)(WT,{variant:"h4",gutterBottom:!0,children:"Messages"}),(0,$e.jsxs)(Je,{mb:3,children:[(0,$e.jsx)($D,{fullWidth:!0,multiline:!0,rows:3,variant:"outlined",placeholder:"Type your message...",value:i,onChange:e=>s(e.target.value),sx:{mb:2}}),(0,$e.jsx)(nI,{variant:"contained",color:"primary",onClick:async()=>{if(t&&e&&a&&i.trim())try{await wv(Zm(t,"messages"),{text:i,senderId:e.uid,receiverId:a,timestamp:new Date,read:!1,participants:[e.uid,a]}),s("")}catch(IQ){h("Failed to send message"),console.error("Error sending message:",IQ)}},disabled:!i.trim()||!a,children:"Send"})]}),(0,$e.jsxs)(cI,{children:[n.map((t=>{var n;return(0,$e.jsxs)(r.Fragment,{children:[(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(R$,{children:(0,$e.jsx)(LT,{src:t.senderId===(null===e||void 0===e?void 0:e.uid)&&(null===e||void 0===e?void 0:e.photoURL)||void 0})}),(0,$e.jsx)(lR,{primary:t.text,secondary:(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(WT,{component:"span",variant:"body2",color:"text.primary",children:t.senderId===(null===e||void 0===e?void 0:e.uid)?"You":"Other User"})," \u2014 ",new Date(null===(n=t.timestamp)||void 0===n?void 0:n.toDate()).toLocaleString()]})})]}),(0,$e.jsx)(pR,{})]},t.id)})),0===n.length&&(0,$e.jsx)(WT,{variant:"body1",color:"text.secondary",children:"No messages yet"})]})]})};var yW=n(1014);function bW(e){return(0,tT.Ay)("MuiTooltip",e)}const wW=(0,Ke.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),xW=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function AW(e){return Math.round(1e5*e)/1e5}const SW=(0,Xk.Ay)(VL,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:n,open:r}=e;return(0,je.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{[`&[data-popper-placement*="bottom"] .${wW.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${wW.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${wW.arrow}`]:(0,je.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${wW.arrow}`]:(0,je.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),_W=(0,Xk.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${(0,Jk.A)(n.placement.split("-")[0])}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,Zk.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${AW(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${wW.popper}[data-popper-placement*="left"] &`]:(0,je.A)({transformOrigin:"right center"},n.isRtl?(0,je.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,je.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[`.${wW.popper}[data-popper-placement*="right"] &`]:(0,je.A)({transformOrigin:"left center"},n.isRtl?(0,je.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,je.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[`.${wW.popper}[data-popper-placement*="top"] &`]:(0,je.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[`.${wW.popper}[data-popper-placement*="bottom"] &`]:(0,je.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})})})),CW=(0,Xk.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,Zk.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let kW=!1;const TW=new iE.E;let EW={x:0,y:0};function IW(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t&&t(n,...o),e(n,...o)}}const PW=r.forwardRef((function(e,t){var n,o,i,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,x;const A=(0,Ze.b)({props:e,name:"MuiTooltip"}),{arrow:S=!1,children:_,components:C={},componentsProps:k={},describeChild:T=!1,disableFocusListener:E=!1,disableHoverListener:I=!1,disableInteractive:P=!1,disableTouchListener:R=!1,enterDelay:j=100,enterNextDelay:D=0,enterTouchDelay:N=700,followCursor:M=!1,id:O,leaveDelay:L=0,leaveTouchDelay:F=1500,onClose:z,onOpen:V,open:U,placement:B="bottom",PopperComponent:$,PopperProps:W={},slotProps:H={},slots:q={},title:G,TransitionComponent:K=UI,TransitionProps:Y}=A,Q=(0,De.A)(A,xW),X=r.isValidElement(_)?_:(0,$e.jsx)("span",{children:_}),J=DI(),Z=Vk(),[ee,te]=r.useState(),[ne,re]=r.useState(null),oe=r.useRef(!1),ie=P||M,se=(0,iE.A)(),ae=(0,iE.A)(),le=(0,iE.A)(),ce=(0,iE.A)(),[ue,de]=(0,vD.A)({controlled:U,default:!1,name:"Tooltip",state:"open"});let he=ue;const pe=(0,yW.A)(O),fe=r.useRef(),me=(0,qT.A)((()=>{void 0!==fe.current&&(document.body.style.WebkitUserSelect=fe.current,fe.current=void 0),ce.clear()}));r.useEffect((()=>me),[me]);const ge=e=>{TW.clear(),kW=!0,de(!0),V&&!he&&V(e)},ve=(0,qT.A)((e=>{TW.start(800+L,(()=>{kW=!1})),de(!1),z&&he&&z(e),se.start(J.transitions.duration.shortest,(()=>{oe.current=!1}))})),ye=e=>{oe.current&&"touchstart"!==e.type||(ee&&ee.removeAttribute("title"),ae.clear(),le.clear(),j||kW&&D?ae.start(kW?D:j,(()=>{ge(e)})):ge(e))},be=e=>{ae.clear(),le.start(L,(()=>{ve(e)}))},{isFocusVisibleRef:we,onBlur:xe,onFocus:Ae,ref:Se}=(0,GT.A)(),[,_e]=r.useState(!1),Ce=e=>{xe(e),!1===we.current&&(_e(!1),be(e))},ke=e=>{ee||te(e.currentTarget),Ae(e),!0===we.current&&(_e(!0),ye(e))},Te=e=>{oe.current=!0;const t=X.props;t.onTouchStart&&t.onTouchStart(e)},Ee=e=>{Te(e),le.clear(),se.clear(),me(),fe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.start(N,(()=>{document.body.style.WebkitUserSelect=fe.current,ye(e)}))},Ie=e=>{X.props.onTouchEnd&&X.props.onTouchEnd(e),me(),le.start(F,(()=>{ve(e)}))};r.useEffect((()=>{if(he)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ve(e)}}),[ve,he]);const Pe=(0,HT.A)(AI(X),Se,te,t);G||0===G||(he=!1);const Re=r.useRef(),Me={},Oe="string"===typeof G;T?(Me.title=he||!Oe||I?null:G,Me["aria-describedby"]=he?pe:null):(Me["aria-label"]=Oe?G:null,Me["aria-labelledby"]=he&&!Oe?pe:null);const Le=(0,je.A)({},Me,Q,X.props,{className:(0,Ne.A)(Q.className,X.props.className),onTouchStart:Te,ref:Pe},M?{onMouseMove:e=>{const t=X.props;t.onMouseMove&&t.onMouseMove(e),EW={x:e.clientX,y:e.clientY},Re.current&&Re.current.update()}}:{});const Fe={};R||(Le.onTouchStart=Ee,Le.onTouchEnd=Ie),I||(Le.onMouseOver=IW(ye,Le.onMouseOver),Le.onMouseLeave=IW(be,Le.onMouseLeave),ie||(Fe.onMouseOver=ye,Fe.onMouseLeave=be)),E||(Le.onFocus=IW(ke,Le.onFocus),Le.onBlur=IW(Ce,Le.onBlur),ie||(Fe.onFocus=ke,Fe.onBlur=Ce));const ze=r.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(ne),options:{element:ne,padding:4}}];return null!=(e=W.popperOptions)&&e.modifiers&&(t=t.concat(W.popperOptions.modifiers)),(0,je.A)({},W.popperOptions,{modifiers:t})}),[ne,W]),Ve=(0,je.A)({},A,{isRtl:Z,arrow:S,disableInteractive:ie,placement:B,PopperComponentProp:$,touch:oe.current}),Ue=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${(0,Jk.A)(i.split("-")[0])}`],arrow:["arrow"]};return(0,Qk.A)(s,bW,t)})(Ve),Be=null!=(n=null!=(o=q.popper)?o:C.Popper)?n:SW,We=null!=(i=null!=(s=null!=(a=q.transition)?a:C.Transition)?s:K)?i:UI,He=null!=(l=null!=(c=q.tooltip)?c:C.Tooltip)?l:_W,qe=null!=(u=null!=(d=q.arrow)?d:C.Arrow)?u:CW,Ge=ST(Be,(0,je.A)({},W,null!=(h=H.popper)?h:k.popper,{className:(0,Ne.A)(Ue.popper,null==W?void 0:W.className,null==(p=null!=(f=H.popper)?f:k.popper)?void 0:p.className)}),Ve),Ke=ST(We,(0,je.A)({},Y,null!=(m=H.transition)?m:k.transition),Ve),Ye=ST(He,(0,je.A)({},null!=(g=H.tooltip)?g:k.tooltip,{className:(0,Ne.A)(Ue.tooltip,null==(v=null!=(y=H.tooltip)?y:k.tooltip)?void 0:v.className)}),Ve),Qe=ST(qe,(0,je.A)({},null!=(b=H.arrow)?b:k.arrow,{className:(0,Ne.A)(Ue.arrow,null==(w=null!=(x=H.arrow)?x:k.arrow)?void 0:w.className)}),Ve);return(0,$e.jsxs)(r.Fragment,{children:[r.cloneElement(X,Le),(0,$e.jsx)(Be,(0,je.A)({as:null!=$?$:VL,placement:B,anchorEl:M?{getBoundingClientRect:()=>({top:EW.y,left:EW.x,right:EW.x,bottom:EW.y,width:0,height:0})}:ee,popperRef:Re,open:!!ee&&he,id:pe,transition:!0},Fe,Ge,{popperOptions:ze,children:e=>{let{TransitionProps:t}=e;return(0,$e.jsx)(We,(0,je.A)({timeout:J.transitions.duration.shorter},t,Ke,{children:(0,$e.jsxs)(He,(0,je.A)({},Ye,{children:[G,S?(0,$e.jsx)(qe,(0,je.A)({},Qe,{ref:re})):null]}))}))}}))]})})),RW=PW,jW=(0,yT.A)((0,$e.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var DW=n(7937);const NW=["component","direction","spacing","divider","children","className","useFlexGap"],MW=(0,Fe.A)(),OW=DR("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function LW(e){return xR({props:e,name:"MuiStack",defaultTheme:MW})}function FW(e,t){const n=r.Children.toArray(e).filter(Boolean);return n.reduce(((e,o,i)=>(e.push(o),i<n.length-1&&e.push(r.cloneElement(t,{key:`separator-${i}`})),e)),[])}const zW=e=>{let{ownerState:t,theme:n}=e,r=(0,je.A)({display:"flex",flexDirection:"column"},(0,iN.NI)({theme:n},(0,iN.kW)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,DW.LX)(n),o=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),i=(0,iN.kW)({values:t.direction,base:o}),s=(0,iN.kW)({values:t.spacing,base:o});"object"===typeof i&&Object.keys(i).forEach(((e,t,n)=>{if(!i[e]){const r=t>0?i[n[t-1]]:"column";i[e]=r}}));const a=(n,r)=>{return t.useFlexGap?{gap:(0,DW._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${o=r?i[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,DW._W)(e,n)}};var o};r=(0,AR.A)(r,(0,iN.NI)({theme:n},s,a))}return r=(0,iN.iZ)(n.breakpoints,r),r};const VW=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=OW,useThemeProps:n=LW,componentName:o="MuiStack"}=e,i=t(zW),s=r.forwardRef((function(e,t){const r=n(e),s=(0,Le.A)(r),{component:a="div",direction:l="column",spacing:c=0,divider:u,children:d,className:h,useFlexGap:p=!1}=s,f=(0,De.A)(s,NW),m={direction:l,spacing:c,useFlexGap:p},g=(0,Qk.A)({root:["root"]},(e=>(0,tT.Ay)(o,e)),{});return(0,$e.jsx)(i,(0,je.A)({as:a,ownerState:m,ref:t,className:(0,Ne.A)(g.root,h)},f,{children:u?FW(d,u):d}))}));return s}({createStyledComponent:(0,Xk.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,Ze.b)({props:e,name:"MuiStack"})}),UW=VW;function BW(e){return(0,tT.Ay)("MuiFormControlLabel",e)}const $W=(0,Ke.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),WW=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],HW=(0,Xk.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${$W.label}`]:t.label},t.root,t[`labelPlacement${(0,Jk.A)(n.labelPlacement)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${$W.disabled}`]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${$W.label}`]:{[`&.${$W.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})})),qW=(0,Xk.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${$W.error}`]:{color:(t.vars||t).palette.error.main}}})),GW=r.forwardRef((function(e,t){var n,o;const i=(0,Ze.b)({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:h="end",required:p,slotProps:f={}}=i,m=(0,De.A)(i,WW),g=XR(),v=null!=(n=null!=c?c:l.props.disabled)?n:null==g?void 0:g.disabled,y=null!=p?p:l.props.required,b={disabled:v,required:y};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof l.props[e]&&"undefined"!==typeof i[e]&&(b[e]=i[e])}));const w=YR({props:i,muiFormControl:g,states:["error"]}),x=(0,je.A)({},i,{disabled:v,labelPlacement:h,required:y,error:w.error}),A=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:i}=e,s={root:["root",n&&"disabled",`labelPlacement${(0,Jk.A)(r)}`,o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return(0,Qk.A)(s,BW,t)})(x),S=null!=(o=f.typography)?o:a.typography;let _=d;return null==_||_.type===WT||u||(_=(0,$e.jsx)(WT,(0,je.A)({component:"span"},S,{className:(0,Ne.A)(A.label,null==S?void 0:S.className),children:_}))),(0,$e.jsxs)(HW,(0,je.A)({className:(0,Ne.A)(A.root,s),ownerState:x,ref:t},m,{children:[r.cloneElement(l,b),y?(0,$e.jsxs)(UW,{display:"block",children:[_,(0,$e.jsxs)(qW,{ownerState:x,"aria-hidden":!0,className:A.asterisk,children:["\u2009","*"]})]}):_]}))})),KW=GW,YW=e=>{let{open:t,onClose:n}=e;const{currentUser:o}=Ek(),i=Z(),[s,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)({name:"",description:"",isPrivate:!1,password:"",category:"",tags:[]}),[h,p]=(0,r.useState)(!1),[f,m]=(0,r.useState)(""),[g,v]=(0,r.useState)([]),[y,b]=(0,r.useState)(""),[w,x]=(0,r.useState)(""),[A,S]=(0,r.useState)([]),[_,C]=(0,r.useState)(""),[k,T]=(0,r.useState)(!1),[E,I]=(0,r.useState)(!1),P=()=>{y.trim()&&!g.includes(y.trim())&&(v([...g,y.trim()]),b(""))},R=()=>{_.trim()&&!A.includes(_.trim())&&(S([...A,_.trim()]),C(""))};return(0,$e.jsxs)(bU,{open:t,onClose:n,maxWidth:"sm",fullWidth:!0,children:[(0,$e.jsx)(nB,{children:"Create Side Room"}),(0,$e.jsxs)(cU,{children:[l&&(0,$e.jsx)(oN,{severity:"error",sx:{mb:2},children:l}),(0,$e.jsx)($D,{autoFocus:!0,margin:"dense",label:"Room Name",type:"text",fullWidth:!0,value:u.name,onChange:e=>d((t=>({...t,name:e.target.value}))),required:!0,error:!u.name.trim(),helperText:u.name.trim()?"":"Room name is required"}),(0,$e.jsx)($D,{margin:"dense",label:"Description",type:"text",fullWidth:!0,multiline:!0,rows:3,value:u.description,onChange:e=>d((t=>({...t,description:e.target.value}))),required:!0,error:!u.description.trim(),helperText:u.description.trim()?"":"Description is required"}),(0,$e.jsxs)(Zj,{fullWidth:!0,margin:"dense",required:!0,error:!u.category,children:[(0,$e.jsx)(Gj,{children:"Category"}),(0,$e.jsxs)(LD,{value:u.category,onChange:e=>d((t=>({...t,category:e.target.value}))),label:"Category",children:[(0,$e.jsx)(eR,{value:"general",children:"General"}),(0,$e.jsx)(eR,{value:"gaming",children:"Gaming"}),(0,$e.jsx)(eR,{value:"music",children:"Music"}),(0,$e.jsx)(eR,{value:"movies",children:"Movies & TV"}),(0,$e.jsx)(eR,{value:"sports",children:"Sports"}),(0,$e.jsx)(eR,{value:"tech",children:"Technology"}),(0,$e.jsx)(eR,{value:"art",children:"Art & Design"}),(0,$e.jsx)(eR,{value:"education",children:"Education"}),(0,$e.jsx)(eR,{value:"other",children:"Other"})]}),!u.category&&(0,$e.jsx)(sD,{children:"Category is required"})]}),(0,$e.jsxs)(Je,{sx:{mt:2},children:[(0,$e.jsx)(WT,{variant:"subtitle2",children:"Tags (Optional)"}),(0,$e.jsx)(Je,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:1},children:g.map((e=>(0,$e.jsx)($F,{label:e,onDelete:()=>{return t=e,void v(g.filter((e=>e!==t)));var t}},e)))}),(0,$e.jsxs)(Je,{sx:{display:"flex",gap:1},children:[(0,$e.jsx)($D,{size:"small",value:y,onChange:e=>b(e.target.value),placeholder:"Add tag",onKeyPress:e=>"Enter"===e.key&&P()}),(0,$e.jsx)(jE,{onClick:P,size:"small",children:(0,$e.jsx)(jW,{})})]})]}),(0,$e.jsxs)(Je,{sx:{mt:2},children:[(0,$e.jsx)(WT,{variant:"subtitle2",children:"Rules (Optional)"}),(0,$e.jsx)(Je,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:1},children:A.map((e=>(0,$e.jsx)($F,{label:e,onDelete:()=>{return t=e,void S(A.filter((e=>e!==t)));var t}},e)))}),(0,$e.jsxs)(Je,{sx:{display:"flex",gap:1},children:[(0,$e.jsx)($D,{size:"small",value:_,onChange:e=>C(e.target.value),placeholder:"Add rule",onKeyPress:e=>"Enter"===e.key&&R()}),(0,$e.jsx)(jE,{onClick:R,size:"small",children:(0,$e.jsx)(jW,{})})]})]}),(0,$e.jsx)(KW,{control:(0,$e.jsx)(EB,{checked:u.isPrivate,onChange:e=>d((t=>({...t,isPrivate:e.target.checked})))}),label:"Private Room"}),u.isPrivate&&(0,$e.jsx)($D,{margin:"dense",label:"Password",type:"password",fullWidth:!0,value:u.password,onChange:e=>d((t=>({...t,password:e.target.value}))),required:!0,error:!u.password.trim(),helperText:u.password.trim()?"":"Password is required for private rooms"})]}),(0,$e.jsxs)(vF,{children:[(0,$e.jsx)(nI,{onClick:n,children:"Cancel"}),(0,$e.jsx)(nI,{onClick:async e=>{if(e.preventDefault(),o&&IS)if(u.name.trim())if(u.description.trim())if(u.category)if(!u.isPrivate||u.password.trim())try{I(!0);const e={name:u.name,description:u.description,ownerId:o.uid,viewers:[{userId:o.uid,username:o.displayName||"Anonymous",avatar:o.photoURL||"",role:"owner",joinedAt:Iv()}],viewerCount:1,createdAt:Iv(),isPrivate:u.isPrivate,password:u.isPrivate?u.password:"",category:u.category,tags:u.tags,lastActive:Iv(),isLive:!1,liveParticipants:[],activeUsers:0},t=await wv(Zm(IS,"sideRooms"),e);await vv(eg(IS,"users",o.uid,"sideRooms",t.id),{name:u.name,description:u.description,role:"owner",joinedAt:Iv(),lastActive:Iv()}),r_.success("Room created successfully!"),n(),i(`/side-room/${t.id}`)}catch(l){console.error("Error creating room:",l),r_.error("Failed to create room")}finally{I(!1)}else r_.error("Password is required for private rooms");else r_.error("Category is required");else r_.error("Description is required");else r_.error("Room name is required")},variant:"contained",disabled:E,children:E?"Creating...":"Create Room"})]})]})},QW=["All","Gaming","Music","Art","Technology","Sports","Education","Entertainment","Social","Other"],XW=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[a,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(""),[x,A]=(0,r.useState)("All"),[S,_]=(0,r.useState)("newest"),C=Z(),{currentUser:k}=Ek();(0,r.useEffect)((()=>{if(!IS)return l("Firestore not initialized"),void s(!1);try{s(!0);const e=Zm(IS,"sideRooms"),n=xv(Wg(e,Yg("createdAt","desc")),(e=>{const n=e.docs.map((e=>{const t=e.data();return{id:e.id,name:t.name||"",description:t.description,createdAt:t.createdAt,lastActive:t.lastActive,viewerCount:t.viewerCount||0,maxViewers:t.maxViewers||100,viewers:t.viewers,isPrivate:t.isPrivate,password:t.password,genre:t.genre,tags:t.tags,category:t.category}})),r=n.filter((e=>!e.isPrivate));t(r),s(!1),l(null)}),(e=>{console.error("Error fetching side rooms:",e),l("Error fetching rooms. Please check permissions or network."),s(!1)}));return()=>n()}catch(IQ){console.error("Error setting up side rooms query:",IQ),l(`Error setting up query: ${IQ.message}`),s(!1)}}),[IS]),(0,r.useEffect)((()=>{let t=[...e];b&&(t=t.filter((e=>e.name.toLowerCase().includes(b.toLowerCase())||e.description&&e.description.toLowerCase().includes(b.toLowerCase())))),"All"!==x&&(t=t.filter((e=>e.category===x||e.genre===x||e.tags&&e.tags.includes(x)))),t.sort(((e,t)=>{var n,r,o,i;const s=(null===(n=e.createdAt)||void 0===n?void 0:n.toMillis())||0,a=(null===(r=t.createdAt)||void 0===r?void 0:r.toMillis())||0,l=(null===(o=e.lastActive)||void 0===o?void 0:o.toMillis())||0,c=(null===(i=t.lastActive)||void 0===i?void 0:i.toMillis())||0;switch(S){case"newest":return a-s;case"oldest":return s-a;case"members":return(t.viewerCount||0)-(e.viewerCount||0);case"activity":return c-l;default:return 0}})),o(t)}),[e,b,x,S]);return i?(0,$e.jsx)("div",{children:"Loading..."}):a?(0,$e.jsxs)("div",{children:["Error: ",a]}):(0,$e.jsxs)(Je,{sx:{p:3},children:[(0,$e.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,$e.jsx)(WT,{variant:"h4",component:"h1",children:"Side Rooms \ud83c\udfad"}),(0,$e.jsx)(nI,{variant:"contained",color:"primary",startIcon:(0,$e.jsx)(jW,{}),onClick:()=>u(!0),children:"Create Room"})]}),c&&(0,$e.jsx)(YW,{open:c,onClose:()=>u(!1)}),(0,$e.jsx)(sT,{sx:{p:2,mb:3},children:(0,$e.jsxs)(vN,{container:!0,spacing:2,alignItems:"center",children:[(0,$e.jsx)(vN,{item:!0,xs:12,md:4,children:(0,$e.jsx)($D,{fullWidth:!0,placeholder:"Search rooms by name or genre...",value:b,onChange:e=>w(e.target.value),InputProps:{startAdornment:(0,$e.jsx)(YN,{position:"start",children:(0,$e.jsx)(D$,{})})}})}),(0,$e.jsx)(vN,{item:!0,xs:12,md:3,children:(0,$e.jsxs)(Zj,{fullWidth:!0,children:[(0,$e.jsx)(Gj,{children:"Genre/Category"}),(0,$e.jsx)(LD,{value:x,label:"Genre/Category",onChange:e=>A(e.target.value),children:QW.map((e=>(0,$e.jsx)(eR,{value:e,children:e},e)))})]})}),(0,$e.jsx)(vN,{item:!0,xs:12,md:3,children:(0,$e.jsxs)(Zj,{fullWidth:!0,children:[(0,$e.jsx)(Gj,{children:"Sort by"}),(0,$e.jsxs)(LD,{value:S,label:"Sort by",onChange:e=>_(e.target.value),children:[(0,$e.jsx)(eR,{value:"newest",children:"Newest First"}),(0,$e.jsx)(eR,{value:"oldest",children:"Oldest First"}),(0,$e.jsx)(eR,{value:"members",children:"Most Members"}),(0,$e.jsx)(eR,{value:"activity",children:"Most Active"})]})]})})]})}),(0,$e.jsx)(Je,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:0===n.length?(0,$e.jsx)(WT,{variant:"body1",sx:{width:"100%",textAlign:"center",mt:4},children:"No rooms found matching your criteria"}):n.map((e=>{var t;return(0,$e.jsxs)(MU,{sx:{width:300,display:"flex",flexDirection:"column"},children:[(0,$e.jsxs)(GU,{sx:{flexGrow:1},children:[(0,$e.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[(0,$e.jsx)(WT,{variant:"h6",component:"div",sx:{flexGrow:1},children:e.name}),e.isPrivate&&(0,$e.jsx)(RW,{title:"Private Room",children:(0,$e.jsx)(oB,{fontSize:"small"})})]}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,$e.jsxs)(Je,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(e.category||e.genre)&&(0,$e.jsx)($F,{size:"small",label:e.category||e.genre,color:"secondary",variant:"outlined"}),null===(t=e.tags)||void 0===t?void 0:t.map((e=>(0,$e.jsx)($F,{size:"small",label:e,variant:"outlined"},e)))]}),(0,$e.jsx)($F,{size:"small",icon:(0,$e.jsx)(cB,{}),label:`${e.viewerCount||0} viewers`,variant:"outlined"})]}),(0,$e.jsx)(JU,{children:(0,$e.jsx)(nI,{fullWidth:!0,variant:"contained",onClick:()=>(async e=>{if(IS&&k)if(e.isPrivate)f(e),h(!0);else try{y(!0);const t=eg(IS,"sideRooms",e.id);await Ev(IS,(async e=>{const n=await e.get(t);if(!n.exists())throw new Error("Room not found");if((n.data().viewers||[]).some((e=>e.userId===k.uid)))e.update(t,{activeUsers:jv(1),lastActive:Iv()});else{const n={userId:k.uid,username:k.displayName||"Anonymous",avatar:k.photoURL||"",role:"viewer",joinedAt:new Date};e.update(t,{viewers:Pv(n),viewerCount:jv(1),activeUsers:jv(1),lastActive:Iv()})}})),r_.success("Joined room successfully"),C(`/side-room/${e.id}`)}catch(a){console.error("Error joining room:",a),a instanceof Error?r_.error(a.message):r_.error("Failed to join room")}finally{y(!1)}else r_.error("Not authenticated")})(e),disabled:v||e.viewerCount>=e.maxViewers,sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:v?(0,$e.jsx)(UN,{size:24}):e.viewerCount>=e.maxViewers?"Room Full":"Join Room"})})]},e.id)}))}),(0,$e.jsxs)(bU,{open:d,onClose:()=>!v&&h(!1),children:[(0,$e.jsx)(nB,{children:"Enter Room Password"}),(0,$e.jsx)(cU,{children:(0,$e.jsx)($D,{autoFocus:!0,margin:"dense",label:"Password",type:"password",fullWidth:!0,value:m,onChange:e=>g(e.target.value),disabled:v})}),(0,$e.jsxs)(vF,{children:[(0,$e.jsx)(nI,{onClick:()=>h(!1),disabled:v,children:"Cancel"}),(0,$e.jsx)(nI,{onClick:async()=>{if(p&&IS&&k)if(m===p.password)try{y(!0);const e=eg(IS,"sideRooms",p.id);await Ev(IS,(async t=>{const n=await t.get(e);if(!n.exists())throw new Error("Room not found");(n.data().viewers||[]).some((e=>e.userId===k.uid))?t.update(e,{activeUsers:jv(1),lastActive:Iv()}):t.update(e,{viewers:Pv({userId:k.uid,username:k.displayName||"Anonymous",avatar:k.photoURL||"",role:"member",joinedAt:new Date}),viewerCount:jv(1),activeUsers:jv(1),lastActive:Iv()})})),r_.success("Joined room successfully"),h(!1),g(""),f(null),C(`/side-room/${p.id}`)}catch(a){console.error("Error joining room:",a),r_.error("Failed to join room")}finally{y(!1)}else r_.error("Incorrect password")},variant:"contained",disabled:v||!m,children:v?(0,$e.jsx)(UN,{size:24}):"Join"})]})]})]})},JW=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(""),[i,s]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=localStorage.getItem("sadeai_chat_history");e&&t(JSON.parse(e))}),[]),(0,r.useEffect)((()=>{localStorage.setItem("sadeai_chat_history",JSON.stringify(e))}),[e]);const a=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;if(e.trim()){t((t=>[...t,{sender:"user",text:e}])),o(""),s(!0);try{const n="https://sideeye-backend-production.up.railway.app";if(!n)return console.error("[SadeAIPage] ERROR: REACT_APP_API_URL is not defined."),t((e=>[...e,{sender:"ai",text:"Configuration error: Backend URL not set."}])),void s(!1);const r=`${n}/api/sade-ai`;console.log(`[SadeAIPage] Attempting to fetch: ${r}`),console.log("[SadeAIPage] Request Body:",{message:e});try{const n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})};console.log("[SadeAIPage] Fetch options prepared:",n),console.log("[SadeAIPage] About to call fetch...");const o=await fetch(r,n);console.log("[SadeAIPage] Fetch call completed. Response status:",o.status);const i=await o.json();console.log("[SadeAIPage] Received response data:",i),t((e=>[...e,{sender:"ai",text:i.response||"Sorry, I couldn't think of a reply."}]))}catch(IQ){console.error("[SadeAIPage] Fetch failed inside catch block:",IQ),IQ instanceof Error&&(console.error(`[SadeAIPage] Error Name: ${IQ.name}`),console.error(`[SadeAIPage] Error Message: ${IQ.message}`)),t((e=>[...e,{sender:"ai",text:"Sorry, there was an error connecting to Sade AI."}]))}}catch(IQ){console.error("[SadeAIPage] Outer request failed:",IQ),IQ instanceof Error&&(console.error(`[SadeAIPage] Error Name: ${IQ.name}`),console.error(`[SadeAIPage] Error Message: ${IQ.message}`)),t((e=>[...e,{sender:"ai",text:"Sorry, there was an error connecting to Sade AI."}]))}finally{s(!1)}}};return(0,$e.jsx)(Je,{sx:{minHeight:"100vh",bgcolor:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",pb:{xs:10,sm:7},pt:{xs:2,sm:6}},children:(0,$e.jsxs)(sT,{elevation:3,sx:{width:"100%",maxWidth:500,p:{xs:2,sm:4},borderRadius:4,mb:2,mt:2,boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.10)"},children:[(0,$e.jsxs)(WT,{variant:"h4",align:"center",fontWeight:700,color:"primary.main",gutterBottom:!0,sx:{letterSpacing:1},children:["Sade AI ",(0,$e.jsx)("span",{style:{fontWeight:400,fontSize:"1.2rem",color:"#888"},children:"(SHA-DEY)"})]}),(0,$e.jsx)(pR,{sx:{mb:2}}),(0,$e.jsxs)(Je,{sx:{minHeight:320,maxHeight:{xs:350,sm:400},overflowY:"auto",bgcolor:"rgba(255,255,255,0.7)",borderRadius:3,p:2,mb:2,boxShadow:"0 2px 8px 0 rgba(31, 38, 135, 0.05)",transition:"background 0.3s"},children:[0===e.length&&(0,$e.jsxs)(WT,{color:"text.secondary",align:"center",sx:{mt:8},children:["Say hello to ",(0,$e.jsx)("b",{children:"Sade AI"}),", your friendly AI therapist! \ud83c\udf38"]}),e.map(((e,t)=>(0,$e.jsx)(Je,{sx:{display:"flex",justifyContent:"user"===e.sender?"flex-end":"flex-start",mb:1.5},children:(0,$e.jsx)(Je,{sx:{bgcolor:"user"===e.sender?"primary.main":"#f3f6fb",color:"user"===e.sender?"primary.contrastText":"text.primary",borderRadius:"user"===e.sender?"18px 18px 4px 18px":"18px 18px 18px 4px",px:2,py:1.2,maxWidth:"80%",boxShadow:"user"===e.sender?"0 2px 8px 0 rgba(33, 150, 243, 0.10)":"0 2px 8px 0 rgba(31, 38, 135, 0.05)",fontSize:"1.08rem",wordBreak:"break-word",fontFamily:"inherit"},children:e.text})},t))),i&&(0,$e.jsx)(UN,{size:24,sx:{display:"block",mx:"auto",mt:2}})]}),!i&&e.length<=1&&(0,$e.jsxs)(Je,{sx:{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"center",mb:2,px:{xs:1,sm:0}},children:[(0,$e.jsx)(WT,{variant:"caption",sx:{width:"100%",textAlign:"center",color:"text.secondary",mb:.5},children:"Try asking:"}),["I'm feeling a bit down today","Can we just talk?","Tell me a fact","What does 'wagwan' mean?","Play 'Would You Rather?'","Feeling a bit lost"].map(((e,t)=>(0,$e.jsx)($F,{label:e,onClick:()=>{a(e)},clickable:!0,variant:"outlined",size:"small",disabled:i},t)))]}),(0,$e.jsxs)(Je,{sx:{display:"flex",gap:1,alignItems:"center",position:{xs:"fixed",sm:"static"},bottom:{xs:64,sm:"auto"},left:0,width:{xs:"100vw",sm:"auto"},maxWidth:{xs:"100vw",sm:"none"},bgcolor:{xs:"rgba(255,255,255,0.95)",sm:"transparent"},p:{xs:2,sm:0},borderTop:{xs:"1px solid #eee",sm:"none"},zIndex:1200},children:[(0,$e.jsx)($D,{fullWidth:!0,variant:"outlined",placeholder:"Type your message...",value:n,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&n.trim()&&a()},disabled:i,sx:{bgcolor:"white",borderRadius:2,boxShadow:"0 1px 4px 0 rgba(31,38,135,0.04)"}}),(0,$e.jsx)(nI,{variant:"contained",onClick:()=>a(),disabled:i||!n.trim(),sx:{minWidth:80,fontWeight:600},children:"Send"}),(0,$e.jsx)(nI,{variant:"outlined",color:"secondary",onClick:()=>{t([]),localStorage.removeItem("sadeai_chat_history")},disabled:i,sx:{minWidth:90,fontWeight:500},children:"Clear Chat"})]})]})})},ZW=(0,yT.A)((0,$e.jsx)("path",{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28m-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18zM4.27 3 3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73z"}),"MicOff"),eH=(0,yT.A)((0,$e.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),tH=(0,yT.A)((0,$e.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),nH=(0,yT.A)((0,$e.jsx)("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"}),"Palette"),rH=(0,yT.A)((0,$e.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),oH=(0,yT.A)((0,$e.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"}),"Mic"),iH=(0,yT.A)((0,$e.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"}),"VolumeUp"),sH=e=>{var t;let{open:n,onClose:o,onSubmit:i,initialData:s,title:a="Create Room",submitButtonText:l="Create"}=e;const[c,u]=(0,r.useState)({name:(null===s||void 0===s?void 0:s.name)||"",description:(null===s||void 0===s?void 0:s.description)||"",isPrivate:(null===s||void 0===s?void 0:s.isPrivate)||!1,password:(null===s||void 0===s?void 0:s.password)||"",tags:(null===s||void 0===s?void 0:s.tags)||[]});return(0,$e.jsx)(bU,{open:n,onClose:o,maxWidth:"sm",fullWidth:!0,children:(0,$e.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(c)},children:[(0,$e.jsx)(nB,{children:a}),(0,$e.jsx)(cU,{children:(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[(0,$e.jsx)($D,{label:"Name",value:c.name,onChange:e=>u((t=>({...t,name:e.target.value}))),required:!0,fullWidth:!0}),(0,$e.jsx)($D,{label:"Description",value:c.description,onChange:e=>u((t=>({...t,description:e.target.value}))),multiline:!0,rows:3,fullWidth:!0}),(0,$e.jsx)(KW,{control:(0,$e.jsx)(EB,{checked:c.isPrivate,onChange:e=>u((t=>({...t,isPrivate:e.target.checked})))}),label:"Private Room"}),c.isPrivate&&(0,$e.jsx)($D,{label:"Password",type:"password",value:c.password,onChange:e=>u((t=>({...t,password:e.target.value}))),required:c.isPrivate,fullWidth:!0}),(0,$e.jsx)($D,{label:"Tags (comma separated)",value:null===(t=c.tags)||void 0===t?void 0:t.join(", "),onChange:e=>u((t=>({...t,tags:e.target.value.split(",").map((e=>e.trim())).filter(Boolean)}))),fullWidth:!0,helperText:"Enter tags separated by commas"})]})}),(0,$e.jsxs)(vF,{children:[(0,$e.jsx)(nI,{onClick:o,children:"Cancel"}),(0,$e.jsx)(nI,{type:"submit",variant:"contained",color:"primary",children:l})]})]})})},aH=()=>{const[e,t]=(0,r.useState)(!1),[n,o]=(0,r.useState)([]),[i,s]=(0,r.useState)([]),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(null),m=async()=>{await _k.refreshDevices(),o(_k.getInputDevices()),s(_k.getOutputDevices()),l(_k.getCurrentInputDevice()||""),u(_k.getCurrentOutputDevice()||"")};(0,r.useEffect)((()=>{m();const e=_k.onDeviceChange((()=>{m()}));return()=>{e()}}),[]);return(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(RW,{title:"Audio Settings",children:(0,$e.jsx)(jE,{onClick:()=>t(!0),size:"small",children:(0,$e.jsx)(gR,{})})}),(0,$e.jsxs)(bU,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[(0,$e.jsx)(nB,{children:"Audio Device Settings"}),(0,$e.jsxs)(cU,{children:[d&&(0,$e.jsx)(oN,{severity:"error",sx:{mb:2},children:d}),(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,$e.jsxs)(Zj,{fullWidth:!0,children:[(0,$e.jsx)(Gj,{id:"input-device-label",children:(0,$e.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$e.jsx)(oH,{fontSize:"small"}),"Microphone"]})}),(0,$e.jsx)(LD,{labelId:"input-device-label",value:a,onChange:async e=>{const t=e.target.value;f("input"),h(null);try{await Ck.setAudioInput(t)?l(t):(h("Failed to set input device"),l(_k.getCurrentInputDevice()||""))}catch(d){h("Error changing input device"),l(_k.getCurrentInputDevice()||"")}finally{f(null)}},label:"Microphone",disabled:"input"===p,children:n.map((e=>(0,$e.jsx)(eR,{value:e.deviceId,children:e.label},e.deviceId)))})]}),(0,$e.jsxs)(Zj,{fullWidth:!0,children:[(0,$e.jsx)(Gj,{id:"output-device-label",children:(0,$e.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$e.jsx)(iH,{fontSize:"small"}),"Speaker"]})}),(0,$e.jsx)(LD,{labelId:"output-device-label",value:c,onChange:async e=>{const t=e.target.value;f("output"),h(null);try{await Ck.setAudioOutput(t)?u(t):(h("Failed to set output device"),u(_k.getCurrentOutputDevice()||""))}catch(d){h("Error changing output device"),u(_k.getCurrentOutputDevice()||"")}finally{f(null)}},label:"Speaker",disabled:"output"===p,children:i.map((e=>(0,$e.jsx)(eR,{value:e.deviceId,children:e.label},e.deviceId)))})]}),0===n.length&&0===i.length&&(0,$e.jsx)(WT,{color:"text.secondary",children:"No audio devices found. Please make sure your devices are connected and you have granted permission to use them."})]})]}),(0,$e.jsx)(vF,{children:(0,$e.jsx)(nI,{onClick:()=>t(!1),children:"Close"})})]})]})},lH=()=>{const{roomId:e}=ee(),{currentUser:t}=Ek(),n=Z(),[o,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[f,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(!1),[A,S]=(0,r.useState)(!1),[_,C]=(0,r.useState)(null),[k,T]=(0,r.useState)([]),[E,I]=(0,r.useState)(!0),[P,R]=(0,r.useState)(!1),[j,D]=(0,r.useState)(!1),[N,M]=(0,r.useState)(new Set),O=(0,r.useMemo)((()=>(null===o||void 0===o?void 0:o.ownerId)===(null===t||void 0===t?void 0:t.uid)),[null===o||void 0===o?void 0:o.ownerId,null===t||void 0===t?void 0:t.uid]),L=(0,r.useMemo)((()=>{var e;return!(null===o||void 0===o||null===(e=o.viewers)||void 0===e||!e.some((e=>e.userId===(null===t||void 0===t?void 0:t.uid))))}),[null===o||void 0===o?void 0:o.viewers,null===t||void 0===t?void 0:t.uid]),F=O||L,z=(0,r.useMemo)((()=>k.filter((e=>e.isOnline))),[k]),V=(0,r.useMemo)((()=>{var e;return null===o||void 0===o||null===(e=o.viewers)||void 0===e?void 0:e.find((e=>"owner"===e.role))}),[null===o||void 0===o?void 0:o.viewers]),U=(0,r.useCallback)((async()=>{if(e&&null!==t&&void 0!==t&&t.uid&&!u){d(!0);try{if(!await Ck.joinRoom(e,t.uid))throw new Error("Failed to join audio");R(!0),I(!1),r_.success("Connected to audio")}catch(l){console.error("Error joining audio:",l),r_.error("Failed to connect to audio")}finally{d(!1)}}}),[e,null===t||void 0===t?void 0:t.uid,u]),B=(0,r.useCallback)((()=>{e&&null!==t&&void 0!==t&&t.uid&&(Ck.leaveRoom(e,t.uid),R(!1),I(!0),D(!1),r_.success("Disconnected from audio"))}),[e,null===t||void 0===t?void 0:t.uid]),$=(0,r.useCallback)((()=>{const n=!E;if(I(n),Ck.setMuted(n),e&&null!==t&&void 0!==t&&t.uid){yv(eg(IS,"sideRooms",e,"presence",t.uid),{isMuted:n}).catch(console.error)}}),[e,null===t||void 0===t?void 0:t.uid,E]);(0,r.useEffect)((()=>()=>{P&&e&&null!==t&&void 0!==t&&t.uid&&Ck.leaveRoom(e,t.uid)}),[P,e,null===t||void 0===t?void 0:t.uid]),(0,r.useEffect)((()=>{if(!e||!t)return;const n=xv(eg(IS,"sideRooms",e),(e=>{e.exists()?(i({id:e.id,...e.data()}),a(!1)):(c("Room not found"),a(!1))}));return()=>n()}),[e,t]),(0,r.useEffect)((()=>{if(!e||!F)return;const n=xv(Wg(Zm(IS,"sideRooms",e,"presence"),qg("isOnline","==",!0)),(e=>{const t=e.docs.map((e=>({userId:e.id,...e.data()})));T(t)}));if(null!==t&&void 0!==t&&t.uid){const n=eg(IS,"sideRooms",e,"presence",t.uid);fv(n).then((e=>{var r,o;e.exists()?yv(n,{lastSeen:Date.now(),isOnline:!0,role:O?"owner":"viewer",username:t.displayName||(null===(r=t.email)||void 0===r?void 0:r.split("@")[0])||"",avatar:t.photoURL||""}).catch(console.error):vv(n,{userId:t.uid,username:t.displayName||(null===(o=t.email)||void 0===o?void 0:o.split("@")[0])||"",avatar:t.photoURL||"",lastSeen:Date.now(),isOnline:!0,role:O?"owner":"viewer"}).catch(console.error)})).catch(console.error)}return()=>{if(n(),null!==t&&void 0!==t&&t.uid){yv(eg(IS,"sideRooms",e,"presence",t.uid),{isOnline:!1,lastSeen:Iv()}).catch(console.error)}}}),[e,F,t,O]),(0,r.useEffect)((()=>{const e=(e,t)=>{M((n=>{const r=new Set(n);return t&&!E?r.add(e):r.delete(e),r}))};return Ck.onAudioLevel(e),()=>{Ck.removeAudioLevelCallback(e)}}),[E]);const W=e=>{var n,r;let{participant:o}=e;return(0,$e.jsx)(vN,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,$e.jsxs)(sT,{elevation:N.has(o.userId)?4:1,sx:{p:1,textAlign:"center",position:"relative",bgcolor:N.has(o.userId)?"primary.light":"background.paper",transition:"all 0.3s ease-in-out",border:N.has(o.userId)&&!o.isMuted?"2px solid":"none",borderColor:"primary.main"},children:[(0,$e.jsxs)(Je,{sx:{position:"relative"},children:[(0,$e.jsx)(LT,{src:o.avatar,alt:o.displayName||o.username,sx:{width:60,height:60,margin:"auto",mb:1,border:N.has(o.userId)&&!o.isMuted?"2px solid":"none",borderColor:"primary.main"},children:(null===(n=o.displayName)||void 0===n?void 0:n[0])||(null===(r=o.username)||void 0===r?void 0:r[0])}),N.has(o.userId)&&!o.isMuted&&(0,$e.jsx)(Je,{sx:{position:"absolute",bottom:8,right:-4,width:16,height:16,borderRadius:"50%",bgcolor:"success.main",border:"2px solid",borderColor:"background.paper"}})]}),(0,$e.jsx)(WT,{variant:"caption",display:"block",children:o.displayName||o.username}),o.isMuted&&(o.userId!==(null===t||void 0===t?void 0:t.uid)||P)&&(0,$e.jsx)(ZW,{fontSize:"small",color:"error",sx:{position:"absolute",top:4,right:4}}),"owner"===o.role&&(0,$e.jsx)($F,{label:"Host",size:"small",color:"primary",sx:{position:"absolute",top:4,left:4}})]})})},H=(0,r.useCallback)((()=>{S(!0)}),[]),q=(0,r.useCallback)((e=>{C(e.currentTarget)}),[]),G=(0,r.useCallback)((()=>{C(null)}),[]),K=(0,r.useCallback)((()=>{v(!0),G()}),[G]),Y=(0,r.useCallback)((()=>{x(!0),G()}),[G]),Q=(0,r.useCallback)((()=>{b(!0),G()}),[G]),X=(0,r.useCallback)((async()=>{if(e&&O&&(G(),window.confirm("Are you sure you want to delete this room? This cannot be undone."))){d(!0);try{const t=eg(IS,"sideRooms",e);await yv(t,{deleted:!0,deletedAt:Iv()}),r_.success("Room deleted successfully"),n("/side-rooms")}catch(l){console.error("Error deleting room:",l),r_.error("Failed to delete room"),d(!1)}}}),[e,O,n]);return s?(0,$e.jsx)(Je,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,$e.jsx)(UN,{})}):l?(0,$e.jsxs)(Je,{sx:{p:3},children:[(0,$e.jsx)(oN,{severity:"error",children:l}),(0,$e.jsx)(nI,{onClick:()=>n("/side-rooms"),sx:{mt:1},children:"Back to Rooms"})]}):(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",height:"100vh"},children:[(0,$e.jsxs)(Je,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[(0,$e.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column"},children:[(0,$e.jsx)(WT,{variant:"h6",children:null===o||void 0===o?void 0:o.name}),V&&(0,$e.jsxs)(WT,{variant:"caption",color:"text.secondary",children:["Host: ",V.username]})]}),(0,$e.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1},children:[P&&(0,$e.jsx)(aH,{}),(0,$e.jsx)(RW,{title:"Share",children:(0,$e.jsx)(jE,{onClick:H,children:(0,$e.jsx)(eH,{})})}),O&&(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(RW,{title:"Room Settings",children:(0,$e.jsx)(jE,{onClick:q,children:(0,$e.jsx)(tH,{})})}),(0,$e.jsxs)(BP,{anchorEl:_,open:Boolean(_),onClose:G,children:[(0,$e.jsxs)(eR,{onClick:K,children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(iB,{fontSize:"small"})}),"Edit Room"]}),(0,$e.jsxs)(eR,{onClick:Y,children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(nH,{fontSize:"small"})}),"Customize"]}),(0,$e.jsxs)(eR,{onClick:Q,children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(sB,{fontSize:"small"})}),"Invite"]}),(0,$e.jsxs)(eR,{onClick:X,sx:{color:"error.main"},children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(LB,{fontSize:"small",color:"error"})}),"Delete Room"]})]})]}),(0,$e.jsx)(RW,{title:"Leave Room",children:(0,$e.jsx)(jE,{onClick:()=>n("/side-rooms"),disabled:u,children:(0,$e.jsx)(rH,{})})})]})]}),(0,$e.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,$e.jsxs)(WT,{variant:"caption",color:"text.secondary",children:[z.length," Online"]}),(0,$e.jsx)(Je,{sx:{display:"flex",gap:1},children:P?(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(nI,{variant:"contained",size:"small",color:E?"secondary":"primary",onClick:$,startIcon:E?(0,$e.jsx)(ZW,{}):(0,$e.jsx)(oH,{}),disabled:u,children:E?"Unmute":"Mute"}),(0,$e.jsx)(nI,{variant:"outlined",size:"small",color:"error",onClick:B,disabled:u,children:"Leave Audio"})]}):(0,$e.jsx)(nI,{variant:"contained",size:"small",color:"primary",onClick:U,startIcon:(0,$e.jsx)(iH,{}),disabled:!F||u,children:"Join Audio"})})]})]}),(0,$e.jsxs)(Je,{sx:{flexGrow:1,p:2,overflowY:"auto"},children:[(0,$e.jsxs)(WT,{variant:"h6",gutterBottom:!0,children:["Participants (",z.length,")"]}),(0,$e.jsx)(vN,{container:!0,spacing:2,children:z.map((e=>(0,$e.jsx)(W,{participant:e},e.userId)))}),!P&&F&&!s&&o&&(0,$e.jsx)(oN,{severity:"info",sx:{mt:2},children:"Join the audio to start talking or listening."})]}),g&&o&&(0,$e.jsx)(sH,{open:g,onClose:()=>v(!1),onSubmit:async t=>{try{const n=eg(IS,"sideRooms",e);await yv(n,t),r_.success("Room updated successfully"),v(!1)}catch(l){console.error("Error updating room:",l),r_.error("Failed to update room")}},initialData:o,title:"Edit Room",submitButtonText:"Save Changes"}),(0,$e.jsxs)(bU,{open:A,onClose:()=>S(!1),children:[(0,$e.jsx)(nB,{children:"Share Room"}),(0,$e.jsx)(cU,{children:(0,$e.jsx)($D,{fullWidth:!0,value:`${window.location.origin}/side-room/${e}`,InputProps:{readOnly:!0},sx:{mt:1}})}),(0,$e.jsxs)(vF,{children:[(0,$e.jsx)(nI,{onClick:()=>S(!1),children:"Close"}),(0,$e.jsx)(nI,{variant:"contained",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/side-room/${e}`),r_.success("Room link copied to clipboard"),S(!1)},children:"Copy Link"})]})]})]})},cH=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(""),[i,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=xv(Wg(Zm(IS,"messages"),Yg("timestamp","asc")),(e=>{const n=e.docs.map((e=>{var t;return{id:e.id,...e.data(),timestamp:null===(t=e.data().timestamp)||void 0===t?void 0:t.toDate()}}));t(n)}));return()=>e()}),[]);return(0,$e.jsx)(zR,{maxWidth:"md",children:(0,$e.jsxs)(Je,{sx:{mt:4,mb:4},children:[(0,$e.jsx)(WT,{variant:"h4",component:"h1",gutterBottom:!0,children:"Chat Room"}),(0,$e.jsx)(cI,{sx:{maxHeight:"60vh",overflow:"auto",bgcolor:"background.paper",borderRadius:1},children:e.map((e=>{var t;return(0,$e.jsxs)(NF,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,$e.jsx)(WT,{variant:"subtitle2",color:"primary",children:e.username}),(0,$e.jsx)(WT,{variant:"body1",children:e.text}),(0,$e.jsx)(WT,{variant:"caption",color:"text.secondary",children:null===(t=e.timestamp)||void 0===t?void 0:t.toLocaleTimeString()})]},e.id)}))}),(0,$e.jsxs)(Je,{component:"form",onSubmit:async e=>{if(e.preventDefault(),""!==n.trim()&&IS)try{var t;await wv(Zm(IS,"messages"),{text:n,userId:null===(t=PS.currentUser)||void 0===t?void 0:t.uid,username:i||"Anonymous",timestamp:Iv()}),o("")}catch(a){console.error("Error sending message:",a)}},sx:{mt:2},children:[(0,$e.jsx)($D,{fullWidth:!0,variant:"outlined",placeholder:"Type your message...",value:n,onChange:e=>o(e.target.value),sx:{mb:2}}),(0,$e.jsx)(nI,{type:"submit",variant:"contained",color:"primary",children:"Send"})]})]})})};var uH=n(5361);function dH(e){return(0,tT.Ay)("MuiCollapse",e)}(0,Ke.A)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const hH=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],pH=(0,Xk.Ay)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===n.state&&(0,je.A)({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"})})),fH=(0,Xk.Ay)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),mH=(0,Xk.Ay)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((e=>{let{ownerState:t}=e;return(0,je.A)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),gH=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiCollapse"}),{addEndListener:o,children:i,className:s,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:h,onEntering:p,onExit:f,onExited:m,onExiting:g,orientation:v="vertical",style:y,timeout:b=uH.p0.standard,TransitionComponent:w=jI}=n,x=(0,De.A)(n,hH),A=(0,je.A)({},n,{orientation:v,collapsedSize:a}),S=(e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,Qk.A)(r,dH,n)})(A),_=DI(),C=(0,iE.A)(),k=r.useRef(null),T=r.useRef(),E="number"===typeof a?`${a}px`:a,I="horizontal"===v,P=I?"width":"height",R=r.useRef(null),j=(0,HT.A)(t,R),D=e=>t=>{if(e){const n=R.current;void 0===t?e(n):e(n,t)}},N=()=>k.current?k.current[I?"clientWidth":"clientHeight"]:0,M=D(((e,t)=>{k.current&&I&&(k.current.style.position="absolute"),e.style[P]=E,d&&d(e,t)})),O=D(((e,t)=>{const n=N();k.current&&I&&(k.current.style.position="");const{duration:r,easing:o}=MI({style:y,timeout:b,easing:c},{mode:"enter"});if("auto"===b){const t=_.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,T.current=t}else e.style.transitionDuration="string"===typeof r?r:`${r}ms`;e.style[P]=`${n}px`,e.style.transitionTimingFunction=o,p&&p(e,t)})),L=D(((e,t)=>{e.style[P]="auto",h&&h(e,t)})),F=D((e=>{e.style[P]=`${N()}px`,f&&f(e)})),z=D(m),V=D((e=>{const t=N(),{duration:n,easing:r}=MI({style:y,timeout:b,easing:c},{mode:"exit"});if("auto"===b){const n=_.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,T.current=n}else e.style.transitionDuration="string"===typeof n?n:`${n}ms`;e.style[P]=E,e.style.transitionTimingFunction=r,g&&g(e)}));return(0,$e.jsx)(w,(0,je.A)({in:u,onEnter:M,onEntered:L,onEntering:O,onExit:F,onExited:z,onExiting:V,addEndListener:e=>{"auto"===b&&C.start(T.current||0,e),o&&o(R.current,e)},nodeRef:R,timeout:"auto"===b?null:b},x,{children:(e,t)=>(0,$e.jsx)(pH,(0,je.A)({as:l,className:(0,Ne.A)(S.root,s,{entered:S.entered,exited:!u&&"0px"===E&&S.hidden}[e]),style:(0,je.A)({[I?"minWidth":"minHeight"]:E},y),ref:j},t,{ownerState:(0,je.A)({},A,{state:e}),children:(0,$e.jsx)(fH,{ownerState:(0,je.A)({},A,{state:e}),className:S.wrapper,ref:k,children:(0,$e.jsx)(mH,{ownerState:(0,je.A)({},A,{state:e}),className:S.wrapperInner,children:i})})}))}))}));gH.muiSupportAuto=!0;const vH=gH;const yH=r.createContext({});function bH(e){return(0,tT.Ay)("MuiAccordion",e)}const wH=(0,Ke.A)("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),xH=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],AH=(0,Xk.Ay)(sT,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${wH.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],n),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],n)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${wH.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${wH.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),(e=>{let{theme:t}=e;return{variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${wH.expanded}`]:{margin:"16px 0"}}}]}})),SH=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiAccordion"}),{children:o,className:i,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,slots:h={},slotProps:p={},TransitionComponent:f,TransitionProps:m}=n,g=(0,De.A)(n,xH),[v,y]=(0,vD.A)({controlled:c,default:s,name:"Accordion",state:"expanded"}),b=r.useCallback((e=>{y(!v),u&&u(e,!v)}),[v,u,y]),[w,...x]=r.Children.toArray(o),A=r.useMemo((()=>({expanded:v,disabled:a,disableGutters:l,toggle:b})),[v,a,l,b]),S=(0,je.A)({},n,{square:d,disabled:a,disableGutters:l,expanded:v}),_=(e=>{const{classes:t,square:n,expanded:r,disabled:o,disableGutters:i}=e,s={root:["root",!n&&"rounded",r&&"expanded",o&&"disabled",!i&&"gutters"],region:["region"]};return(0,Qk.A)(s,bH,t)})(S),C=(0,je.A)({transition:f},h),k=(0,je.A)({transition:m},p),[T,E]=RT("transition",{elementType:vH,externalForwardedProps:{slots:C,slotProps:k},ownerState:S});return(0,$e.jsxs)(AH,(0,je.A)({className:(0,Ne.A)(_.root,i),ref:t,ownerState:S,square:d},g,{children:[(0,$e.jsx)(yH.Provider,{value:A,children:w}),(0,$e.jsx)(T,(0,je.A)({in:v,timeout:"auto"},E,{children:(0,$e.jsx)("div",{"aria-labelledby":w.props.id,id:w.props["aria-controls"],role:"region",className:_.region,children:x})}))]}))})),_H=SH;function CH(e){return(0,tT.Ay)("MuiAccordionSummary",e)}const kH=(0,Ke.A)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),TH=["children","className","expandIcon","focusVisibleClassName","onClick"],EH=(0,Xk.Ay)(kE,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],n),[`&.${kH.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${kH.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${kH.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${kH.expanded}`]:{minHeight:64}}}]}})),IH=(0,Xk.Ay)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})((e=>{let{theme:t}=e;return{display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${kH.expanded}`]:{margin:"20px 0"}}}]}})),PH=(0,Xk.Ay)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})((e=>{let{theme:t}=e;return{display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${kH.expanded}`]:{transform:"rotate(180deg)"}}})),RH=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiAccordionSummary"}),{children:o,className:i,expandIcon:s,focusVisibleClassName:a,onClick:l}=n,c=(0,De.A)(n,TH),{disabled:u=!1,disableGutters:d,expanded:h,toggle:p}=r.useContext(yH),f=(0,je.A)({},n,{expanded:h,disabled:u,disableGutters:d}),m=(e=>{const{classes:t,expanded:n,disabled:r,disableGutters:o}=e,i={root:["root",n&&"expanded",r&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]};return(0,Qk.A)(i,CH,t)})(f);return(0,$e.jsxs)(EH,(0,je.A)({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":h,className:(0,Ne.A)(m.root,i),focusVisibleClassName:(0,Ne.A)(m.focusVisible,a),onClick:e=>{p&&p(e),l&&l(e)},ref:t,ownerState:f},c,{children:[(0,$e.jsx)(IH,{className:m.content,ownerState:f,children:o}),s&&(0,$e.jsx)(PH,{className:m.expandIconWrapper,ownerState:f,children:s})]}))})),jH=RH;function DH(e){return(0,tT.Ay)("MuiAccordionDetails",e)}(0,Ke.A)("MuiAccordionDetails",["root"]);const NH=["className"],MH=(0,Xk.Ay)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{padding:t.spacing(1,2,2)}})),OH=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiAccordionDetails"}),{className:r}=n,o=(0,De.A)(n,NH),i=n,s=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"]},DH,t)})(i);return(0,$e.jsx)(MH,(0,je.A)({className:(0,Ne.A)(s.root,r),ref:t,ownerState:i},o))})),LH=OH,FH=(0,yT.A)([(0,$e.jsx)("path",{d:"M13 8.57c-.79 0-1.43.64-1.43 1.43s.64 1.43 1.43 1.43 1.43-.64 1.43-1.43-.64-1.43-1.43-1.43"},"0"),(0,$e.jsx)("path",{d:"M13 3C9.25 3 6.2 5.94 6.02 9.64L4.1 12.2c-.25.33-.01.8.4.8H6v3c0 1.1.9 2 2 2h1v3h7v-4.68c2.36-1.12 4-3.53 4-6.32 0-3.87-3.13-7-7-7m3 7c0 .13-.01.26-.02.39l.83.66c.08.06.1.16.05.25l-.8 1.39c-.05.09-.16.12-.24.09l-.99-.4c-.21.16-.43.29-.67.39L14 13.83c-.01.1-.1.17-.2.17h-1.6c-.1 0-.18-.07-.2-.17l-.15-1.06c-.25-.1-.47-.23-.68-.39l-.99.4c-.09.03-.2 0-.25-.09l-.8-1.39c-.05-.08-.03-.19.05-.25l.84-.66c-.01-.13-.02-.26-.02-.39s.02-.27.04-.39l-.85-.66c-.08-.06-.1-.16-.05-.26l.8-1.38c.05-.09.15-.12.24-.09l1 .4c.2-.15.43-.29.67-.39L12 6.17c.02-.1.1-.17.2-.17h1.6c.1 0 .18.07.2.17l.15 1.06c.24.1.46.23.67.39l1-.4c.09-.03.2 0 .24.09l.8 1.38c.05.09.03.2-.05.26l-.85.66c.03.12.04.25.04.39"},"1")],"Psychology"),zH=(0,yT.A)((0,$e.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public"),VH=(0,yT.A)((0,$e.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),UH=(0,yT.A)((0,$e.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12m8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8"}),"Block"),BH=(0,yT.A)((0,$e.jsx)("path",{d:"m5.2494 8.0688 2.83-2.8269 14.1343 14.15-2.83 2.8269zm4.2363-4.2415 2.828-2.8289 5.6577 5.656-2.828 2.8289zM.9989 12.3147l2.8284-2.8285 5.6569 5.6569-2.8285 2.8284zM1 21h12v2H1z"}),"Gavel"),$H=(0,yT.A)((0,$e.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"}),"VerifiedUser"),WH=(0,yT.A)((0,$e.jsx)("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PersonOutline"),HH=(0,yT.A)((0,$e.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),qH=(0,yT.A)((0,$e.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"}),"Report"),GH=(0,yT.A)((0,$e.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help"),KH=()=>(0,$e.jsxs)(Je,{sx:{mx:"auto"},children:[(0,$e.jsx)(WT,{variant:"body1",sx:{mb:3},children:"These guidelines help ensure SideEye remains a platform where users can express themselves freely while maintaining a respectful and safe environment for all."}),(0,$e.jsxs)(WT,{variant:"body1",sx:{mb:3,bgcolor:"info.light",p:2,borderRadius:1},children:[(0,$e.jsx)("strong",{children:"Important Notice:"}),' SideEye uses an AI-powered moderation system that automatically scans all content against our community guidelines. Violations will result in strike points on your account, which can lead to warnings, restrictions, or account suspension. See the "Strike System" section below for more details.']}),(0,$e.jsxs)(_H,{children:[(0,$e.jsx)(jH,{expandIcon:(0,$e.jsx)(PB,{}),children:(0,$e.jsx)(WT,{children:"Our Commitment to Safety"})}),(0,$e.jsxs)(LH,{children:[(0,$e.jsx)(WT,{paragraph:!0,children:"We are committed to maintaining a safe and respectful environment for all users. Our platform encourages healthy banter and shade while strictly prohibiting harassment, bullying, harmful content, misinformation, fraud, and cybercrime."}),(0,$e.jsx)(WT,{paragraph:!0,children:"We believe in:"}),(0,$e.jsxs)(cI,{children:[(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(jB,{})}),(0,$e.jsx)(lR,{primary:"Protecting User Privacy",secondary:"We implement strict data protection measures and transparent privacy policies"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(FH,{})}),(0,$e.jsx)(lR,{primary:"Mental Health Support",secondary:"We provide resources and tools to support users' wellbeing"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(zH,{})}),(0,$e.jsx)(lR,{primary:"Inclusive Community",secondary:"We foster an environment that welcomes diverse perspectives and experiences"})]})]})]})]}),(0,$e.jsxs)(_H,{children:[(0,$e.jsx)(jH,{expandIcon:(0,$e.jsx)(VH,{}),children:(0,$e.jsx)(WT,{children:"Prohibited Content"})}),(0,$e.jsxs)(LH,{children:[(0,$e.jsx)(WT,{paragraph:!0,children:"The following content is not permitted on our platform and may result in content removal, account restrictions, or termination:"}),(0,$e.jsxs)(cI,{children:[(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(UH,{})}),(0,$e.jsx)(lR,{primary:"Harassment & Bullying",secondary:"Targeted attacks, threats, persistent unwanted attention, or content designed to degrade or shame others"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(UH,{})}),(0,$e.jsx)(lR,{primary:"Hate Speech",secondary:"Content that promotes discrimination, hostility, or violence against protected characteristics including race, ethnicity, national origin, religious affiliation, sexual orientation, gender, gender identity, or disability"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(UH,{})}),(0,$e.jsx)(lR,{primary:"Misinformation",secondary:"Deliberate spreading of false information about health, science, elections, or current events that may cause public harm"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(UH,{})}),(0,$e.jsx)(lR,{primary:"Fraud & Scams",secondary:"Financial scams, phishing attempts, pyramid schemes, deceptive business practices, or unauthorized promotions"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(UH,{})}),(0,$e.jsx)(lR,{primary:"Cybercrime",secondary:"Hacking attempts, malware distribution, unauthorized access, or other illegal online activities"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(UH,{})}),(0,$e.jsx)(lR,{primary:"Adult Content & Exploitation",secondary:"Sexually explicit content, non-consensual intimate imagery, sexual exploitation, or content that sexualizes minors"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(UH,{})}),(0,$e.jsx)(lR,{primary:"Violence & Gore",secondary:"Gratuitous violence, content promoting self-harm, suicide, eating disorders, or graphic injury"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(UH,{})}),(0,$e.jsx)(lR,{primary:"Copyright Infringement",secondary:"Content that violates copyright laws, including unauthorized use of intellectual property, especially in Vibits videos"})]})]})]})]}),(0,$e.jsxs)(_H,{children:[(0,$e.jsx)(jH,{expandIcon:(0,$e.jsx)(BH,{}),children:(0,$e.jsx)(WT,{children:"Vibits Community Guidelines"})}),(0,$e.jsxs)(LH,{children:[(0,$e.jsx)(WT,{paragraph:!0,children:"Our Vibits video sharing feature has specific guidelines to ensure a safe and enjoyable experience for all users:"}),(0,$e.jsxs)(cI,{children:[(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)($H,{})}),(0,$e.jsx)(lR,{primary:"Content Ownership",secondary:"Only upload videos that you've created or have permission to use. Respect copyright and intellectual property rights"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(UH,{})}),(0,$e.jsx)(lR,{primary:"Appropriate Content",secondary:"Videos must not contain nudity, pornography, violence, hate speech, dangerous activities, or illegal substances"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(WH,{})}),(0,$e.jsx)(lR,{primary:"Privacy & Consent",secondary:"Get consent before featuring identifiable individuals in your videos, especially in private settings"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(DB,{})}),(0,$e.jsx)(lR,{primary:"Disclosure",secondary:"Clearly disclose if your content is sponsored, contains affiliate links, or is otherwise commercial in nature"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(jB,{})}),(0,$e.jsx)(lR,{primary:"Music & Audio",secondary:"Only use music and audio that you have rights to use or that is available through our platform's licensed library"})]})]}),(0,$e.jsx)(WT,{paragraph:!0,children:"Vibits content is subject to both human and AI-powered moderation. Videos that violate these guidelines may be removed, and repeated violations may result in account restrictions or termination."})]})]}),(0,$e.jsxs)(_H,{children:[(0,$e.jsx)(jH,{expandIcon:(0,$e.jsx)(BH,{}),children:(0,$e.jsx)(WT,{children:"Content Moderation"})}),(0,$e.jsxs)(LH,{children:[(0,$e.jsx)(WT,{paragraph:!0,children:"Our content moderation approach combines technology and human review to enforce our community guidelines fairly and consistently:"}),(0,$e.jsxs)(cI,{children:[(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)($H,{})}),(0,$e.jsx)(lR,{primary:"AI-Powered Detection",secondary:"Advanced algorithms detect harmful content, misinformation, and suspicious activities in real-time"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(HH,{})}),(0,$e.jsx)(lR,{primary:"Automated Checks",secondary:"Real-time scanning for fraud, cybercrime, and policy violations using pattern recognition"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(WH,{})}),(0,$e.jsx)(lR,{primary:"Human Review",secondary:"Trained moderators review flagged content and complex cases with cultural and contextual awareness"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(DB,{})}),(0,$e.jsx)(lR,{primary:"Educational Approach",secondary:"First-time or minor violations may result in warnings with educational resources"})]})]}),(0,$e.jsx)(pR,{sx:{my:2}}),(0,$e.jsx)(WT,{variant:"h6",gutterBottom:!0,children:"Enforcement Actions"}),(0,$e.jsx)(WT,{paragraph:!0,children:"Depending on the severity and frequency of violations, we may take the following actions:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Content removal"}),(0,$e.jsx)("li",{children:"Warning notifications"}),(0,$e.jsx)("li",{children:"Temporary feature restrictions"}),(0,$e.jsx)("li",{children:"Temporary account suspension"}),(0,$e.jsx)("li",{children:"Permanent account termination"})]})]})]}),(0,$e.jsxs)(_H,{children:[(0,$e.jsx)(jH,{expandIcon:(0,$e.jsx)(VH,{}),children:(0,$e.jsx)(WT,{children:"Strike System"})}),(0,$e.jsxs)(LH,{children:[(0,$e.jsx)(WT,{paragraph:!0,children:"SideEye employs a strike system to enforce our community guidelines fairly and consistently:"}),(0,$e.jsx)(WT,{variant:"h6",gutterBottom:!0,children:"Strike Points"}),(0,$e.jsx)(WT,{paragraph:!0,children:"Violations of our guidelines result in strike points based on severity:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"Standard violations:"})," 1 strike point"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"Serious violations"})," (misinformation, fraud, violence): 1.5 strike points"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"Severe violations"})," (harmful content, cybercrime, exploitation): 2 strike points"]})]}),(0,$e.jsx)(WT,{variant:"h6",gutterBottom:!0,children:"Consequences"}),(0,$e.jsx)(WT,{paragraph:!0,children:"As strike points accumulate, the following actions will be taken:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"3+ points:"})," Warning and educational resources"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"6+ points:"})," Temporary feature restrictions for 3 days"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"9+ points:"})," Account suspension for 7 days"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"12+ points:"})," Permanent account suspension"]})]}),(0,$e.jsx)(WT,{variant:"h6",gutterBottom:!0,children:"Appeals"}),(0,$e.jsx)(WT,{paragraph:!0,children:"If you believe a strike was issued in error, you can appeal through your account settings or by contacting support@sideeye.com."}),(0,$e.jsx)(WT,{variant:"h6",gutterBottom:!0,children:"Expiration"}),(0,$e.jsx)(WT,{paragraph:!0,children:"Strike points remain on your account for 6 months before beginning to expire."})]})]}),(0,$e.jsxs)(_H,{children:[(0,$e.jsx)(jH,{expandIcon:(0,$e.jsx)(qH,{}),children:(0,$e.jsx)(WT,{children:"Reporting & Moderation"})}),(0,$e.jsxs)(LH,{children:[(0,$e.jsx)(WT,{paragraph:!0,children:"We rely on our community to help maintain a safe environment. If you encounter content that violates our guidelines, please report it immediately."}),(0,$e.jsxs)(cI,{children:[(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(qH,{})}),(0,$e.jsx)(lR,{primary:"How to Report",secondary:"Click the three dots menu on any post, comment, or profile and select 'Report' to flag content that violates our guidelines"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(qH,{})}),(0,$e.jsx)(lR,{primary:"What Happens Next",secondary:"Our team reviews reports promptly, typically within 24-48 hours, and takes appropriate action based on our guidelines"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(qH,{})}),(0,$e.jsx)(lR,{primary:"Appeals Process",secondary:"If you believe a moderation decision was made in error, you can appeal through your account settings or by contacting support@sideeye.com"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(qH,{})}),(0,$e.jsx)(lR,{primary:"Transparency",secondary:"We publish regular reports on content moderation actions and policy enforcement to maintain accountability"})]})]})]})]}),(0,$e.jsxs)(_H,{children:[(0,$e.jsx)(jH,{expandIcon:(0,$e.jsx)(GH,{}),children:(0,$e.jsx)(WT,{children:"Getting Help"})}),(0,$e.jsxs)(LH,{children:[(0,$e.jsx)(WT,{paragraph:!0,children:"We're committed to supporting our users' wellbeing and safety both on and off the platform."}),(0,$e.jsxs)(cI,{children:[(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(GH,{})}),(0,$e.jsx)(lR,{primary:"Support Resources",secondary:"Access to mental health resources, crisis helplines, and support services through our Help Center"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(GH,{})}),(0,$e.jsx)(lR,{primary:"Safety Tips",secondary:"Guidelines for protecting your privacy, recognizing potential scams, and staying safe online"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(GH,{})}),(0,$e.jsx)(lR,{primary:"Contact Us",secondary:"Reach out to our support team at support@sideeye.com for assistance with safety concerns"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(GH,{})}),(0,$e.jsx)(lR,{primary:"Emergency Situations",secondary:"If you're experiencing an emergency or believe someone is in immediate danger, please contact local emergency services immediately"})]})]}),(0,$e.jsx)(WT,{variant:"body2",sx:{mt:2,fontStyle:"italic"},children:"SideEye is committed to continuously improving our safety measures and community guidelines. We regularly update our policies based on emerging threats, user feedback, and industry best practices."})]})]}),(0,$e.jsxs)(_H,{children:[(0,$e.jsx)(jH,{expandIcon:(0,$e.jsx)(PB,{}),children:(0,$e.jsx)(WT,{children:"Vibits Security & Privacy"})}),(0,$e.jsxs)(LH,{children:[(0,$e.jsx)(WT,{paragraph:!0,children:"We take the security and privacy of your Vibits videos seriously. Here's how we protect your content:"}),(0,$e.jsxs)(cI,{children:[(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(jB,{})}),(0,$e.jsx)(lR,{primary:"Secure Storage",secondary:"All videos are stored using industry-standard encryption and secure cloud storage protocols"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(WH,{})}),(0,$e.jsx)(lR,{primary:"Privacy Controls",secondary:"You can delete your videos at any time, and you control who can view, comment on, and share your content"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)($H,{})}),(0,$e.jsx)(lR,{primary:"Content Protection",secondary:"We implement measures to prevent unauthorized downloading and redistribution of your videos"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(HH,{})}),(0,$e.jsx)(lR,{primary:"Metadata Stripping",secondary:"We remove sensitive metadata from videos that could reveal your location or device information"})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(UH,{})}),(0,$e.jsx)(lR,{primary:"Report & Remove",secondary:"We provide tools to report videos that violate our guidelines, and we respond quickly to removal requests"})]})]}),(0,$e.jsx)(WT,{paragraph:!0,children:"To enhance your privacy when using Vibits:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Be mindful of what's visible in your videos (addresses, personal documents, etc.)"}),(0,$e.jsx)("li",{children:"Consider the environment you're filming in and who might be visible in the background"}),(0,$e.jsx)("li",{children:"Review your videos before posting to ensure you're comfortable with all content"}),(0,$e.jsx)("li",{children:"Use the reporting tools if you see content that violates our guidelines"})]})]})]})]}),YH=()=>(0,$e.jsx)(zR,{maxWidth:"lg",children:(0,$e.jsxs)(Je,{sx:{py:4},children:[(0,$e.jsx)(WT,{variant:"h4",sx:{mb:3,fontWeight:"bold"},children:"Safety & Community Guidelines"}),(0,$e.jsx)(sT,{elevation:3,sx:{p:{xs:2,md:4},borderRadius:2},children:(0,$e.jsx)(KH,{})})]})}),QH=(0,yT.A)((0,$e.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),XH=(0,yT.A)((0,$e.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),JH=(0,yT.A)((0,$e.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login"),ZH=(0,yT.A)((0,$e.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code"),eq=(0,yT.A)((0,$e.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),tq=()=>{const{currentUser:e,userProfile:t}=Ek(),{canViewProfile:n,canViewContent:o}=Pk(),[i,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)({emailVerified:!1,deviceVerified:!1,lastSecurityUpdate:null});(0,r.useEffect)((()=>{if(null===e||void 0===e||!e.uid)return;const t=xv(eg(IS,"users",e.uid),(t=>{if(t.exists()){const n=t.data();s(n.isPrivate||!1),l({emailVerified:e.emailVerified||!1,deviceVerified:n.sourceCodeSetupComplete||!1,lastSecurityUpdate:n.lastSecurityUpdate||null})}}));return()=>t()}),[null===e||void 0===e?void 0:e.uid,null===e||void 0===e?void 0:e.emailVerified]);return(0,$e.jsx)(zR,{maxWidth:"md",sx:{py:4},children:(0,$e.jsxs)(sT,{elevation:3,sx:{p:4},children:[(0,$e.jsxs)(WT,{variant:"h4",component:"h1",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$e.jsx)(PB,{color:"primary"})," Security & Authentication"]}),(0,$e.jsx)(oN,{severity:"info",sx:{mt:2,mb:4},children:"SideEye takes your security and privacy seriously. Our multi-layer authentication system helps protect your account and data from unauthorized access."}),(0,$e.jsxs)(Je,{sx:{mb:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"medium"},children:"Security Status"}),(0,$e.jsx)(pR,{sx:{mb:3}}),(0,$e.jsxs)(UW,{direction:"row",spacing:2,sx:{mb:3},children:[(0,$e.jsx)($F,{icon:a.emailVerified?(0,$e.jsx)(QH,{}):(0,$e.jsx)(XH,{}),label:a.emailVerified?"Email Verified":"Email Not Verified",color:a.emailVerified?"success":"error",variant:"outlined"}),(0,$e.jsx)($F,{icon:a.deviceVerified?(0,$e.jsx)(QH,{}):(0,$e.jsx)(XH,{}),label:a.deviceVerified?"Device Verified":"Device Not Verified",color:a.deviceVerified?"success":"error",variant:"outlined"})]})]}),(0,$e.jsxs)(Je,{sx:{mb:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"medium"},children:"Account Privacy"}),(0,$e.jsx)(pR,{sx:{mb:3}}),(0,$e.jsxs)(sT,{elevation:1,sx:{p:3},children:[(0,$e.jsx)(KW,{control:(0,$e.jsx)(EB,{checked:i,onChange:async()=>{if(null!==e&&void 0!==e&&e.uid)try{await yv(eg(IS,"users",e.uid),{isPrivate:!i,lastSecurityUpdate:Iv()}),r_.success("Account is now "+(i?"public":"private"))}catch(pb){console.error("Error updating privacy settings:",pb),r_.error("Failed to update privacy settings")}},color:"primary"}),label:(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"subtitle1",children:"Private Account"}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",children:i?"Only approved followers can see your content":"Anyone can see your content"})]})}),(0,$e.jsx)(oN,{severity:"info",sx:{mt:2},children:i?"When your account is private, only approved followers can see your content. New followers must send a follow request.":"When your account is public, anyone can see your content and follow you without approval."})]})]}),(0,$e.jsxs)(Je,{sx:{mb:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"medium"},children:"Authentication Flow"}),(0,$e.jsx)(pR,{sx:{mb:3}}),(0,$e.jsxs)(cI,{children:[(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(JH,{color:"primary"})}),(0,$e.jsx)(lR,{primary:"Step 1: Email & Password Authentication",secondary:"First, you log in with your email and password. This provides the initial layer of account security."})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)($H,{color:"primary"})}),(0,$e.jsx)(lR,{primary:"Step 2: Email Verification",secondary:"New accounts must verify their email address before gaining full access to all features."})]}),(0,$e.jsxs)(NF,{children:[(0,$e.jsx)(oR,{children:(0,$e.jsx)(ZH,{color:"primary"})}),(0,$e.jsx)(lR,{primary:"Step 3: Source Code Authentication",secondary:"When logging in from a new device, you must enter your 8-digit source code as an additional security measure."})]})]})]}),(0,$e.jsxs)(_H,{children:[(0,$e.jsx)(jH,{expandIcon:(0,$e.jsx)(eq,{}),children:(0,$e.jsxs)(WT,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$e.jsx)(DB,{fontSize:"small"})," Browser Privacy Settings"]})}),(0,$e.jsxs)(LH,{children:[(0,$e.jsx)(WT,{variant:"body2",paragraph:!0,children:"Some browsers have strict privacy settings that can affect device registration:"}),(0,$e.jsxs)(cI,{dense:!0,children:[(0,$e.jsx)(NF,{children:(0,$e.jsx)(lR,{primary:"\u2022 Safari users may need to enable website data storage",secondary:"Safari > Preferences > Privacy > Website Data"})}),(0,$e.jsx)(NF,{children:(0,$e.jsx)(lR,{primary:"\u2022 Private/Incognito browsing may require re-authentication",secondary:"Devices won't be persistently registered in private browsing modes"})}),(0,$e.jsx)(NF,{children:(0,$e.jsx)(lR,{primary:"\u2022 Clearing browser data will remove device registration",secondary:"You'll need to re-authenticate with your Source Code"})})]})]})]})]})})},nq=()=>(0,$e.jsx)(zR,{maxWidth:"md",sx:{py:4},children:(0,$e.jsxs)(sT,{elevation:3,sx:{p:4},children:[(0,$e.jsx)(WT,{variant:"h4",component:"h1",gutterBottom:!0,children:"Privacy Policy"}),(0,$e.jsxs)(WT,{variant:"body1",paragraph:!0,children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"1. Information We Collect"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We collect information that you provide directly to us, including:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Account information (username, email, display name)"}),(0,$e.jsx)("li",{children:"Profile information (bio, profile picture, custom avatars)"}),(0,$e.jsx)("li",{children:"Content you post (posts, comments, likes, reposts)"}),(0,$e.jsx)("li",{children:"Audio content from Side Rooms and Spaces"}),(0,$e.jsx)("li",{children:"Connection data (followers, following relationships)"}),(0,$e.jsx)("li",{children:"Messages and communications between users"}),(0,$e.jsx)("li",{children:"Usage information and interaction with the platform"})]})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"2. How We Use Your Information"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We use the information we collect to:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Provide and maintain our services"}),(0,$e.jsx)("li",{children:"Improve and personalize your experience"}),(0,$e.jsx)("li",{children:"Facilitate connections between users"}),(0,$e.jsx)("li",{children:"Process and deliver messages between users"}),(0,$e.jsx)("li",{children:"Monitor and enforce our community guidelines"}),(0,$e.jsx)("li",{children:"Communicate with you about updates and changes"}),(0,$e.jsx)("li",{children:"Ensure platform safety and security"}),(0,$e.jsx)("li",{children:"Comply with legal obligations"})]})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"3. Sharing Your Information"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We may share your information in the following ways:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"With Other Users:"})," Your profile information, posts, videos, and content are shared with other users according to your privacy settings."]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"Service Providers:"})," We may share information with third-party vendors who provide services on our behalf, including video hosting and processing."]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"Legal Requirements:"})," We may disclose information if required by law or to protect rights, safety, and security."]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets."]})]})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"4. Data Security"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We implement appropriate security measures to protect your personal information, including encryption of sensitive data, secure storage protocols, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"5. Your Rights"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"You have the right to:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Access your personal information"}),(0,$e.jsx)("li",{children:"Correct inaccurate information"}),(0,$e.jsx)("li",{children:"Delete your account and associated data"}),(0,$e.jsx)("li",{children:"Delete audio content from Side Rooms and Spaces"}),(0,$e.jsx)("li",{children:"Control your privacy settings and follower relationships"}),(0,$e.jsx)("li",{children:"Restrict processing of your information"}),(0,$e.jsx)("li",{children:"Request a data export of your content"}),(0,$e.jsx)("li",{children:"Opt-out of marketing communications"})]})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"6. Content Removal and Retention"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"When you delete content, it may remain in our backup systems for a limited time. Deleted content is moved to a temporary storage for 24 hours before permanent deletion, allowing for potential recovery if accidentally deleted. For audio content, we may retain non-personally identifiable analytics data even after deletion."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"7. Cookies and Tracking"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We use cookies and similar tracking technologies to improve your experience, maintain login sessions, and analyze usage patterns. Please see our Cookie Policy for more details on how we use these technologies."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"8. Third-Party Links"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"Our service may contain links to third-party websites or services that are not owned or controlled by us. We have no control over and assume no responsibility for the content, privacy policies, or practices of any third-party services."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"9. Audio Content Information"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"When you participate in Side Rooms or Spaces, we collect:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"Audio Content:"})," The audio data from your participation"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"Metadata:"})," Information such as duration, timestamps, and participant information"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"User Association:"})," Connection between your account and the audio session"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"Engagement Data:"})," Participation statistics and interaction data"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"Device Information:"})," Information about the device used to participate"]})]}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We use this information to provide the audio chat services, improve our platform, and ensure quality of service. You maintain control over your audio content and can request deletion at any time, though we may retain anonymized analytics data."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"10. Children's Privacy"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"Our services are not intended for use by children under the age of 13. We do not knowingly collect personal information from children under 13. If you are a parent or guardian and believe your child has provided us with personal information, please contact us."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"11. Changes to This Policy"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last updated" date.'})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"12. Contact Us"}),(0,$e.jsxs)(WT,{variant:"body1",paragraph:!0,children:["If you have any questions about this Privacy Policy, please contact us at:",(0,$e.jsx)("br",{}),"Email: privacy@sideeye.com"]})]})]})}),rq=()=>(0,$e.jsxs)(zR,{maxWidth:"lg",sx:{py:12},children:[(0,$e.jsxs)(sT,{elevation:3,sx:{p:{xs:3,md:6},mb:6},children:[(0,$e.jsx)(WT,{variant:"h1",component:"h1",sx:{textAlign:"center",fontWeight:"bold",mb:6,fontSize:{xs:"2.5rem",md:"3.5rem"},color:"primary.main",textTransform:"uppercase",letterSpacing:2},children:"About SideEye"}),(0,$e.jsx)(pR,{sx:{my:6}}),(0,$e.jsxs)(Je,{sx:{mb:8},children:[(0,$e.jsx)(WT,{variant:"h2",sx:{fontWeight:"medium",mb:4,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary"},children:"Our Mission"}),(0,$e.jsx)(WT,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"SideEye is a moderated social media platform dedicated to creating a safe and engaging space for users to share their thoughts, connect with others, and express themselves through various forms of content. We believe in fostering meaningful conversations while maintaining a respectful and inclusive environment through our comprehensive moderation system that ensures all users can interact authentically within clear community guidelines."})]}),(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"h2",sx:{fontWeight:"medium",mb:6,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary"},children:"Features"}),(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:6},children:[(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Side Rooms"}),(0,$e.jsx)(WT,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Create or join audio-based discussion rooms where you can connect with other users in real-time. Side Rooms provide a space for meaningful conversations and community building through voice interactions. These rooms can be public or private, with customizable settings for membership and moderation. Each room serves as a dedicated space for focused discussions around specific topics or interests, allowing users to engage in authentic conversations with like-minded individuals."})]}),(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Discover"}),(0,$e.jsx)(WT,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Explore new content, find interesting users to follow, and discover trending Side Rooms through our Discover feature. This curated exploration space helps you find content aligned with your interests and introduces you to new communities within the platform. Discover makes it easy to expand your network and find engaging discussions to join."})]}),(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"AI Moderation"}),(0,$e.jsx)(WT,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Our advanced AI moderation system automatically scans all content against our community guidelines, detecting potential violations across multiple categories including harmful content, misinformation, fraud, cybercrime, adult content, and violence. This system helps maintain a safe environment by issuing appropriate warnings or restrictions when needed, while protecting users from harmful interactions."})]}),(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"User Expression"}),(0,$e.jsx)(WT,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Express yourself through various reaction types including sideEye, tea, shade, and petty. Our platform encourages authentic communication with features designed for meaningful social interaction. Whether you're sharing thoughts, connecting with others, or participating in discussions, SideEye provides the tools for genuine self-expression within a respectful framework."})]}),(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Audio Spaces"}),(0,$e.jsx)(WT,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Join or host live audio conversations in our Spaces feature. Similar to popular audio chat platforms, Spaces allow you to have real-time voice discussions with other users. Hosts can invite speakers, manage participants, and create an engaging audio experience. Listeners can join to hear the conversation and request to speak when appropriate. Perfect for discussions, Q&A sessions, or casual hangouts with your community."})]})]})]})]}),(0,$e.jsx)(Je,{sx:{textAlign:"center",mt:8},children:(0,$e.jsxs)(WT,{variant:"body2",color:"text.secondary",children:["\xa9 ",(new Date).getFullYear()," SideEye | Created by Enoch Asekomhe | All Rights Reserved"]})})]}),oq=()=>(0,$e.jsx)(zR,{maxWidth:"md",sx:{py:4},children:(0,$e.jsxs)(sT,{elevation:3,sx:{p:4},children:[(0,$e.jsx)(WT,{variant:"h4",component:"h1",gutterBottom:!0,children:"Terms of Service"}),(0,$e.jsxs)(WT,{variant:"body1",paragraph:!0,children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"1. Acceptance of Terms"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"By accessing or using SideEye, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing this site."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"2. User Accounts"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"To use certain features of SideEye, you must create an account. You are responsible for:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Maintaining the confidentiality of your account information"}),(0,$e.jsx)("li",{children:"All activities that occur under your account"}),(0,$e.jsx)("li",{children:"Providing accurate and complete profile information"}),(0,$e.jsx)("li",{children:"Securing your login credentials"}),(0,$e.jsx)("li",{children:"Notifying us immediately of any unauthorized use"})]})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"3. User Conduct"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"You agree not to:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Post or transmit any content that is unlawful, harmful, threatening, abusive, harassing, defamatory, vulgar, obscene, or otherwise objectionable"}),(0,$e.jsx)("li",{children:"Share audio content that contains inappropriate material, copyright infringement, or violate our Community Guidelines"}),(0,$e.jsx)("li",{children:"Harass, bully, intimidate, or stalk other users"}),(0,$e.jsx)("li",{children:"Impersonate any person or entity or falsely state or misrepresent your affiliation with a person or entity"}),(0,$e.jsx)("li",{children:"Interfere with or disrupt the proper functioning of the service or servers"}),(0,$e.jsx)("li",{children:"Attempt to gain unauthorized access to any portion of the service or other systems"}),(0,$e.jsx)("li",{children:"Use the service for any illegal purpose or in violation of any local, state, national, or international law"}),(0,$e.jsx)("li",{children:"Collect or store personal data about other users without their consent"}),(0,$e.jsx)("li",{children:"Create multiple accounts to evade restrictions or limitations"}),(0,$e.jsx)("li",{children:"Engage in spamming, phishing, or other deceptive practices"})]})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"4. Content Ownership and License"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"You retain ownership of any content you post on SideEye, including audio content shared in Side Rooms and Spaces. By posting content, you grant us a worldwide, non-exclusive, royalty-free license (with the right to sublicense) to use, reproduce, process, adapt, modify, publish, transmit, display, and distribute your content in any and all media or distribution methods."}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"This license allows us to make your content available to the rest of the world and to let others do the same. The license continues even if you stop using our services, but you can delete content from public view at any time."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"5. Audio Content and Participation"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"SideEye provides audio-based features including Side Rooms and Spaces for real-time voice conversations. When participating in these features, you agree to:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Only share audio content that you have the right to share"}),(0,$e.jsx)("li",{children:"Not share content that infringes on others' intellectual property rights"}),(0,$e.jsx)("li",{children:"Not share content containing explicit material, hate speech, violence, or any content that violates our Community Guidelines"}),(0,$e.jsx)("li",{children:"Respect other participants and maintain appropriate conduct during audio sessions"}),(0,$e.jsx)("li",{children:"Grant us the license as described in Section 4 for audio content you share"}),(0,$e.jsx)("li",{children:"Understand that we may remove content or restrict access that violates our policies without prior notice"})]}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We may provide tools to enhance your audio experience, but we do not claim ownership of your original content. We reserve the right to moderate audio sessions and take appropriate action to maintain community standards."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"6. Follower Relationships"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"SideEye allows users to follow other users and be followed by others. When you follow someone, you'll see their posts and activity on your feed. Users you follow will be able to see that you follow them. Similarly, users who follow you will be visible to you and others. You can unfollow users at any time."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"7. Direct Messages"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"SideEye provides a direct messaging feature for users to communicate privately. You are responsible for the content of your messages. While we strive to protect the privacy of your messages, we reserve the right to review content in the case of reported violations. We may take action if messages violate our guidelines."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"8. Content Moderation"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We reserve the right to moderate content posted on our platform, including audio content from Side Rooms and Spaces. We may remove, restrict, or disable access to any content or account that we determine violates these Terms or our Community Guidelines. Content moderation decisions are made in our sole discretion. Users can appeal moderation decisions through our support channels."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"9. Intellectual Property"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"The SideEye service and its original content, features, and functionality are and will remain the exclusive property of SideEye and its licensors. The service is protected by copyright, trademark, and other laws. Our trademarks and trade dress may not be used in connection with any product or service without the prior written consent of SideEye."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"10. Termination"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We reserve the right to terminate or suspend your account and access to the service at our sole discretion, without notice, for conduct that we believe violates these Terms or is harmful to other users, us, or third parties, or for any other reason. Upon termination, your right to use the service will immediately cease."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"11. Content Removal and Recovery"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"When you delete content, including audio content from Side Rooms and Spaces, it will be moved to a trash area for 24 hours before permanent deletion, allowing for recovery if accidentally deleted. We reserve the right to retain certain information as required by law or for legitimate business purposes."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"12. Disclaimer"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:'The service is provided "as is" without any warranties, express or implied. We do not guarantee that the service will be uninterrupted, timely, secure, or error-free. We make no warranties or representations about the accuracy or completeness of the content provided by our users.'})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"13. Limitation of Liability"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"In no event shall SideEye be liable for any indirect, incidental, special, consequential, or punitive damages arising out of or related to your use of the service, including but not limited to damages for loss of profits, goodwill, use, data, or other intangible losses."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"14. Indemnification"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"You agree to indemnify and hold harmless SideEye and its officers, directors, employees, and agents from any claims, damages, liabilities, costs, or expenses (including reasonable attorney fees) arising from your use of the service or your violation of these Terms."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"15. DMCA Compliance"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"SideEye respects the intellectual property rights of others. If you believe that your work has been copied in a way that constitutes copyright infringement in our audio features or elsewhere on our platform, please provide our copyright agent with the following information:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"An electronic or physical signature of the person authorized to act on behalf of the copyright owner"}),(0,$e.jsx)("li",{children:"A description of the copyrighted work that you claim has been infringed"}),(0,$e.jsx)("li",{children:"A description of where the material that you claim is infringing is located on the site"}),(0,$e.jsx)("li",{children:"Your address, telephone number, and email address"}),(0,$e.jsx)("li",{children:"A statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent, or the law"}),(0,$e.jsx)("li",{children:"A statement by you, made under penalty of perjury, that the above information is accurate and that you are the copyright owner or authorized to act on the copyright owner's behalf"})]}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"Our copyright agent can be reached at: dmca@sideeye.com"})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"16. Changes to Terms"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:'We reserve the right to modify these Terms at any time. We will notify users of any material changes by posting the new Terms on the service and updating the "Last updated" date. Your continued use of the service after such changes constitutes your acceptance of the new Terms.'})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"17. Governing Law"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"These Terms shall be governed by and construed in accordance with the laws of the jurisdiction in which we operate, without regard to its conflict of law provisions."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"18. Contact Information"}),(0,$e.jsxs)(WT,{variant:"body1",paragraph:!0,children:["If you have any questions about these Terms, please contact us at:",(0,$e.jsx)("br",{}),"Email: legal@sideeye.com"]})]})]})}),iq=()=>(0,$e.jsx)(zR,{maxWidth:"md",sx:{py:4},children:(0,$e.jsxs)(sT,{elevation:3,sx:{p:4},children:[(0,$e.jsx)(WT,{variant:"h4",component:"h1",gutterBottom:!0,children:"Cookie Policy"}),(0,$e.jsxs)(WT,{variant:"body1",paragraph:!0,children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"Introduction"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We use cookies and similar technologies to provide, improve, and secure our services. This Cookie Policy explains how we use cookies, what types we use, their purposes, and how you can control them. These technologies help us deliver our audio-based features, including Side Rooms and Spaces, and ensure a smooth user experience."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"What Are Cookies?"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:'Cookies are small text files that are stored on your device when you visit a website. They are widely used to make websites work more efficiently and provide information to the website owners. Cookies can be "persistent" or "session" cookies. Persistent cookies remain on your device after you close your browser, while session cookies are deleted when you close your browser.'})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"Types of Cookies We Use"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We use the following types of cookies for the purposes explained below:"}),(0,$e.jsx)(WT,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"1. Essential Cookies"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"These cookies are necessary for the functioning of our platform and cannot be switched off. They include:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Authentication cookies to recognize you when you log in"}),(0,$e.jsx)("li",{children:"Security cookies to prevent fraudulent activities"}),(0,$e.jsx)("li",{children:"Session cookies to maintain your active session"})]}),(0,$e.jsx)(WT,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"2. Performance Cookies"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"These cookies help us understand how visitors interact with our platform by collecting information anonymously. They include:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Analytics cookies to measure user interactions with content"}),(0,$e.jsx)("li",{children:"Error monitoring cookies to identify and fix platform issues"}),(0,$e.jsx)("li",{children:"Load balancing cookies to distribute traffic to our servers"}),(0,$e.jsx)("li",{children:"Audio quality monitoring cookies to ensure optimal performance"})]}),(0,$e.jsx)(WT,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"3. Functional Cookies"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"These cookies enable enhanced functionality and personalization. They include:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Preference cookies to remember your settings and choices"}),(0,$e.jsx)("li",{children:"Interface customization cookies for personalized layouts"}),(0,$e.jsx)("li",{children:"Language preference cookies"})]}),(0,$e.jsx)(WT,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"4. Targeting/Advertising Cookies"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"These cookies may be set through our site by our advertising partners to build a profile of your interests. They include:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Social media cookies for content sharing and network integration"}),(0,$e.jsx)("li",{children:"Recommendation cookies to suggest relevant content"})]})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"Specific Cookies Used by SideEye"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"Below are some of the key cookies we use on SideEye:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"sideeye_session"}),": Authentication and session management"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"sideeye_preferences"}),": Stores user preferences like theme and layout settings"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"sideeye_auth"}),": Maintains login state and authentication details"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"sideeye_analytics"}),": Collects anonymous usage data to improve our services"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"sideeye_audio"}),": Stores audio quality preferences and device settings"]})]})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"Third-Party Cookies"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We may allow third parties to place cookies on your device when you visit our platform. These third parties include:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"Analytics providers"})," (such as Google Analytics) to help us understand user behavior"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"Social media platforms"})," (such as Twitter, Facebook) when you use social sharing features"]}),(0,$e.jsxs)("li",{children:[(0,$e.jsx)("strong",{children:"Security services"})," to protect against malicious activities"]})]}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"These third parties may use cookies, web beacons, and similar technologies to collect information about your use of our platform and other websites. We do not control these third-party technologies and their use is governed by the privacy policies of these third parties."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"Managing Your Cookie Preferences"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"You can control and/or delete cookies as you wish. You can delete all cookies that are already on your device and you can set most browsers to prevent them from being placed. However, if you do this, you may have to manually adjust some preferences every time you visit our platform, and some services and functionalities may not work."}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"You can manage your cookie preferences through your browser settings:"}),(0,$e.jsxs)("ul",{children:[(0,$e.jsxs)("li",{children:["Chrome: Settings ","->"," Privacy and Security ","->"," Cookies and other site data"]}),(0,$e.jsxs)("li",{children:["Firefox: Options ","->"," Privacy & Security ","->"," Cookies and Site Data"]}),(0,$e.jsxs)("li",{children:["Safari: Preferences ","->"," Privacy ","->"," Cookies and website data"]}),(0,$e.jsxs)("li",{children:["Edge: Settings ","->"," Cookies and site permissions ","->"," Cookies and site data"]})]}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"For more information about cookies and how to disable them, please visit www.allaboutcookies.org"})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"Do Not Track"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:'Some browsers have a "Do Not Track" feature that signals to websites that you visit that you do not want to have your online activity tracked. Given the diverse and evolving state of "Do Not Track" implementations, we may or may not respond to "Do Not Track" signals.'})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"Changes to Our Cookie Policy"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We may update our Cookie Policy from time to time. Any changes will be posted on this page with an updated revision date. We encourage you to review this Cookie Policy periodically to stay informed about our use of cookies."})]}),(0,$e.jsxs)(Je,{sx:{mt:4},children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"Contact Us"}),(0,$e.jsxs)(WT,{variant:"body1",paragraph:!0,children:["If you have any questions about our use of cookies, please contact us at:",(0,$e.jsx)("br",{}),"Email: privacy@sideeye.com"]})]})]})}),sq=()=>{const e=Z(),{currentUser:t,user:n,loading:o,sendEmailVerification:i,forceCheckEmailVerification:s}=(X(),Ek()),[a,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{if(!o&&(t||n)){const r=t||n;try{const t=await s(r);console.log("Email verification status on page load:",t),t&&(console.log("User email is verified, redirecting to setup source code..."),e("/setup-source-code",{replace:!0}))}catch(IQ){console.error("Error checking verification status:",IQ)}}})()}),[t,n,o,e,s]);const v=async()=>{if(!(t||n))return u("Not logged in. Cannot resend verification email."),void e("/login");try{l(!0),u(null),h(!1),await i(),h(!0),u(null)}catch(c){console.error("Error sending verification email:",c),u(c.message||"Failed to send verification email. Please try again."),h(!1)}finally{l(!1)}};if(o)return(0,$e.jsx)(zR,{maxWidth:"sm",children:(0,$e.jsx)(Je,{sx:{display:"flex",justifyContent:"center",mt:8},children:(0,$e.jsx)(UN,{})})});const y=t||n,b=(null===y||void 0===y?void 0:y.email)||"your registered email";return(0,$e.jsx)(zR,{maxWidth:"sm",children:(0,$e.jsxs)(sT,{elevation:0,sx:{mt:8,p:4},children:[(0,$e.jsx)(WT,{variant:"h4",gutterBottom:!0,align:"center",children:"Verify Your Email"}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,align:"center",children:"A verification email has been sent to:"}),(0,$e.jsx)(WT,{variant:"h6",align:"center",gutterBottom:!0,sx:{fontWeight:"bold"},children:b}),(0,$e.jsx)(WT,{variant:"body1",color:"text.secondary",paragraph:!0,align:"center",children:"Please check your inbox (and spam folder) and click the verification link."}),c&&(0,$e.jsx)(oN,{severity:"error",sx:{mb:2},children:c}),d&&(0,$e.jsx)(oN,{severity:"success",sx:{mb:2},children:"Verification email sent! Please check your inbox (and spam folder)."}),m&&!c&&(0,$e.jsxs)(oN,{severity:"info",sx:{mb:2},children:["Verification status checked at ",m.toLocaleTimeString(),". Email is not yet verified."]}),(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:2,mt:3},children:[(0,$e.jsx)(nI,{variant:"outlined",onClick:async()=>{const r=t||n;if(!r)return u("Not logged in. Cannot check verification status."),void e("/login");try{f(!0),u(null);const t=await s(r);g(new Date),console.log("Manual verification check result:",t),t?e("/setup-source-code",{replace:!0}):u("Email not verified yet. Please check your email and click the verification link.")}catch(c){console.error("Error checking verification status:",c),u(c.message||"Failed to check verification status. Please try again.")}finally{f(!1)}},disabled:a||p,color:"primary",fullWidth:!0,children:p?(0,$e.jsx)(UN,{size:24,color:"inherit"}):"I've Verified My Email"}),(0,$e.jsx)(nI,{variant:"text",onClick:v,disabled:a||p,color:"secondary",fullWidth:!0,children:a?(0,$e.jsx)(UN,{size:24,color:"inherit"}):"Resend Verification Email"})]}),(0,$e.jsx)(pR,{sx:{my:3}}),(0,$e.jsxs)(WT,{variant:"body2",color:"text.secondary",align:"center",children:["Having trouble? Try ",(0,$e.jsx)(kN,{component:"button",onClick:v,children:"sending the email again"})," or ",(0,$e.jsx)(kN,{component:"button",onClick:()=>e("/login"),children:"login with a different account"}),"."]})]})})},aq=()=>(0,$e.jsx)(zR,{maxWidth:"md",children:(0,$e.jsxs)(Je,{sx:{py:4},children:[(0,$e.jsx)(WT,{variant:"h4",sx:{mb:4},children:"Trash"}),(0,$e.jsx)(WT,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Posts in the trash will be automatically deleted after 24 hours. You can restore them before then."})]})}),lq=()=>{const{userId:e}=ee(),{db:t}=dB(),[n,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[a,l]=(0,r.useState)(null),{currentUser:c}=Ek();return(0,r.useEffect)((()=>{(async()=>{if(t&&e){console.log("Firestore database initialized:",t),console.log("User ID:",e);try{const n=await fv(eg(t,"users",e));if(!n.exists())return void l("User not found");const r=n.data().isPrivate||!1;if(!(!r||c&&c.uid===e))return void l("This account is private. Follow to see their followers.");const i=Zm(t,"users",e,"followers"),s=await gv(i);console.log("Followers snapshot size:",s.size);const a=s.docs.map((async e=>{const n=e.id,r=await fv(eg(t,"users",n));if(r.exists()){return{...r.data(),id:n}}return null})),u=await Promise.all(a);o(u.filter(Boolean))}catch(IQ){l("Failed to fetch followers"),console.error("Error fetching followers:",IQ)}finally{s(!1)}}else console.error("Firestore database or userId is not initialized")})()}),[t,e,c]),i?(0,$e.jsx)(Je,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,$e.jsx)(UN,{})}):a?(0,$e.jsx)(Je,{p:3,children:(0,$e.jsx)(WT,{color:"error",children:a})}):(0,$e.jsxs)(Je,{p:3,children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"Followers"}),(0,$e.jsxs)(cI,{children:[n.map((e=>(0,$e.jsxs)(NF,{component:Ie,to:`/profile/${e.id}`,sx:{textDecoration:"none",color:"inherit","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[(0,$e.jsx)(R$,{children:(0,$e.jsx)(LT,{src:e.profilePic,alt:e.username})}),(0,$e.jsx)(lR,{primary:e.username,secondary:e.name})]},e.id))),0===n.length&&(0,$e.jsx)(WT,{variant:"body1",color:"text.secondary",children:"No followers yet"})]})]})},cq=()=>{const{userId:e}=ee(),{db:t}=dB(),[n,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[a,l]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{if(t&&e)try{const n=Zm(t,"users",e,"following"),r=await gv(n);console.log("Following snapshot size:",r.size);const i=r.docs.map((async e=>{const n=e.id,r=await fv(eg(t,"users",n));if(r.exists()){return{...r.data(),id:n}}return null})),s=await Promise.all(i);o(s.filter(Boolean))}catch(IQ){l("Failed to fetch following"),console.error("Error fetching following:",IQ)}finally{s(!1)}})()}),[t,e]),i?(0,$e.jsx)(Je,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,$e.jsx)(UN,{})}):a?(0,$e.jsx)(Je,{p:3,children:(0,$e.jsx)(WT,{color:"error",children:a})}):(0,$e.jsxs)(Je,{p:3,children:[(0,$e.jsx)(WT,{variant:"h5",gutterBottom:!0,children:"Following"}),(0,$e.jsxs)(cI,{children:[n.map((e=>(0,$e.jsxs)(NF,{component:Ie,to:`/profile/${e.id}`,sx:{textDecoration:"none",color:"inherit","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[(0,$e.jsx)(R$,{children:(0,$e.jsx)(LT,{src:e.profilePic,alt:e.username})}),(0,$e.jsx)(lR,{primary:e.username,secondary:e.name})]},e.id))),0===n.length&&(0,$e.jsx)(WT,{variant:"body1",color:"text.secondary",children:"Not following anyone yet"})]})]})};function uq(e){return(0,tT.Ay)("MuiDialogContentText",e)}(0,Ke.A)("MuiDialogContentText",["root"]);const dq=["children","className"],hq=(0,Xk.Ay)(WT,{shouldForwardProp:e=>(0,HE.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),pq=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiDialogContentText"}),{className:r}=n,o=(0,De.A)(n,dq),i=(e=>{const{classes:t}=e,n=(0,Qk.A)({root:["root"]},uq,t);return(0,je.A)({},t,n)})(o);return(0,$e.jsx)(hq,(0,je.A)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:(0,Ne.A)(i.root,r)},n,{classes:i}))})),fq=pq,mq=(0,yT.A)([(0,$e.jsx)("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22z"},"0"),(0,$e.jsx)("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")],"WarningAmber"),gq=(0,yT.A)((0,$e.jsx)("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause"),vq=(0,yT.A)((0,$e.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),yq=()=>{const{currentUser:e,logout:t}=Ek(),n=Z(),[o,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),[f,m]=(0,r.useState)(null);return(0,$e.jsxs)(zR,{maxWidth:"md",sx:{py:4},children:[(0,$e.jsxs)(sT,{elevation:3,sx:{p:4},children:[(0,$e.jsxs)(WT,{variant:"h4",component:"h1",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,$e.jsx)(mq,{color:"warning"})," Account Management"]}),(0,$e.jsx)(oN,{severity:"info",sx:{mt:2,mb:4},children:"You have the right to control your data. You can deactivate your account temporarily or delete it permanently."}),f&&(0,$e.jsx)(oN,{severity:"error",sx:{mt:2,mb:2},children:f}),(0,$e.jsxs)(Je,{sx:{mb:5},children:[(0,$e.jsxs)(WT,{variant:"h5",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"medium",display:"flex",alignItems:"center",gap:1},children:[(0,$e.jsx)(gq,{})," Deactivate Account"]}),(0,$e.jsx)(pR,{sx:{mb:3}}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"Deactivating your account will temporarily hide your profile, posts, and comments from other users. Your account will remain in our systems, and you can reactivate it at any time by simply logging in again."}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:(0,$e.jsx)("strong",{children:"What happens when you deactivate:"})}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Your profile becomes hidden from other users"}),(0,$e.jsx)("li",{children:"Your posts and comments are hidden but not deleted"}),(0,$e.jsx)("li",{children:"You won't receive notifications"}),(0,$e.jsx)("li",{children:"You can reactivate by logging in at any time"})]}),(0,$e.jsx)(nI,{variant:"outlined",color:"warning",startIcon:(0,$e.jsx)(gq,{}),onClick:()=>i(!0),sx:{mt:2},disabled:h,children:"Deactivate Account"})]}),(0,$e.jsxs)(Je,{children:[(0,$e.jsxs)(WT,{variant:"h5",gutterBottom:!0,sx:{color:"error.main",fontWeight:"medium",display:"flex",alignItems:"center",gap:1},children:[(0,$e.jsx)(vq,{})," Delete Account Permanently"]}),(0,$e.jsx)(pR,{sx:{mb:3}}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"Deleting your account is permanent. All your data will be wiped from our systems and cannot be recovered."}),(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:(0,$e.jsx)("strong",{children:"What happens when you delete your account:"})}),(0,$e.jsxs)("ul",{children:[(0,$e.jsx)("li",{children:"Your profile, posts, comments, and all other data are permanently deleted"}),(0,$e.jsx)("li",{children:"You will lose access to your account history and connections"}),(0,$e.jsx)("li",{children:"This action cannot be undone"}),(0,$e.jsx)("li",{children:"If you want to use SideEye again, you'll need to create a new account"})]}),(0,$e.jsx)(nI,{variant:"contained",color:"error",startIcon:(0,$e.jsx)(vq,{}),onClick:()=>a(!0),sx:{mt:2},disabled:h,children:"Delete Account Permanently"})]})]}),(0,$e.jsxs)(bU,{open:o,onClose:()=>i(!1),children:[(0,$e.jsx)(nB,{children:"Confirm Account Deactivation"}),(0,$e.jsx)(cU,{children:(0,$e.jsx)(fq,{children:"Are you sure you want to deactivate your account? Your profile and content will be hidden until you log in again."})}),(0,$e.jsxs)(vF,{children:[(0,$e.jsx)(nI,{onClick:()=>i(!1),disabled:h,children:"Cancel"}),(0,$e.jsx)(nI,{onClick:async()=>{if(e){p(!0),m(null);try{const r=eg(IS,"users",e.uid);await yv(r,{isActive:!1,deactivatedAt:(new Date).toISOString()}),await t(),r_.success("Your account has been deactivated. You can reactivate it by logging in again."),n("/login")}catch(IQ){console.error("Error deactivating account:",IQ),m("Failed to deactivate account. Please try again.")}finally{p(!1),i(!1)}}else m("You must be logged in to deactivate your account")},color:"warning",disabled:h,startIcon:h?(0,$e.jsx)(UN,{size:20}):null,children:h?"Deactivating...":"Deactivate Account"})]})]}),(0,$e.jsxs)(bU,{open:s,onClose:()=>a(!1),children:[(0,$e.jsx)(nB,{children:"Delete Account"}),(0,$e.jsxs)(cU,{children:[(0,$e.jsx)(fq,{sx:{mb:2},children:"To confirm account deletion, please enter your password. This will permanently delete your account and all associated data."}),(0,$e.jsx)($D,{autoFocus:!0,margin:"dense",label:"Password",type:"password",fullWidth:!0,value:u,onChange:e=>d(e.target.value),variant:"outlined"})]}),(0,$e.jsxs)(vF,{children:[(0,$e.jsx)(nI,{onClick:()=>a(!1),disabled:h,children:"Cancel"}),(0,$e.jsx)(nI,{onClick:()=>c(!0),color:"error",disabled:h||!u,children:"Proceed"})]})]}),(0,$e.jsxs)(bU,{open:l,onClose:()=>c(!1),children:[(0,$e.jsxs)(nB,{children:[(0,$e.jsx)(mq,{color:"error"})," Final Warning"]}),(0,$e.jsx)(cU,{children:(0,$e.jsxs)(fq,{children:[(0,$e.jsx)("strong",{children:"This action cannot be undone."})," Your account and all your data will be permanently deleted from our servers. Are you absolutely sure you want to proceed?"]})}),(0,$e.jsxs)(vF,{children:[(0,$e.jsx)(nI,{onClick:()=>c(!1),disabled:h,children:"No, Keep My Account"}),(0,$e.jsx)(nI,{onClick:async()=>{if(e)if(u){p(!0),m(null);try{const t=wi.credential(e.email||"",u);await Oi(e,t);const r=eg(IS,"users",e.uid);await bv(r),await async function(e){return en(e).delete()}(e),r_.success("Your account has been permanently deleted."),n("/login")}catch(IQ){console.error("Error deleting account:",IQ),"auth/wrong-password"===IQ.code?m("Incorrect password. Please try again."):m("Failed to delete account. Please try again.")}finally{p(!1),c(!1),a(!1)}}else m("Please enter your password to confirm deletion");else m("You must be logged in to delete your account")},color:"error",disabled:h,startIcon:h?(0,$e.jsx)(UN,{size:20}):(0,$e.jsx)(vq,{}),children:h?"Deleting...":"Yes, Delete Permanently"})]})]})]})},bq=e=>{let{children:t,requireAuth:n=!0,requireEmailVerification:o=!0,requireDeviceSetup:i=!0}=e;const{currentUser:s,userProfile:a,loading:l}=Ek(),c=X();return(0,r.useEffect)((()=>{l||s||(window.location.href=`/login?redirect=${encodeURIComponent(c.pathname)}`)}),[s,l,c]),l?(0,$e.jsx)(Je,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,$e.jsx)(UN,{})}):n&&!s?(0,$e.jsx)(me,{to:"/login",replace:!0}):o&&s&&!s.emailVerified?(0,$e.jsx)(me,{to:"/verify-email",replace:!0}):i&&s&&a&&!a.sourceCodeSetupComplete?(0,$e.jsx)(me,{to:"/setup-source-code",replace:!0}):(0,$e.jsx)($e.Fragment,{children:t})};class wq extends r.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null},this.handleRetry=()=>{this.setState({hasError:!1,error:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){var e;return this.state.hasError?(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,textAlign:"center"},children:[(0,$e.jsx)(WT,{variant:"h4",gutterBottom:!0,children:"Oops! Something went wrong"}),(0,$e.jsx)(WT,{variant:"body1",color:"text.secondary",paragraph:!0,children:(null===(e=this.state.error)||void 0===e?void 0:e.message)||"An unexpected error occurred"}),(0,$e.jsx)(nI,{variant:"contained",color:"primary",onClick:this.handleRetry,sx:{mt:2},children:"Try Again"})]}):this.props.children}}const xq=wq;const Aq=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:o,open:i,resumeHideDuration:s}=e,a=(0,iE.A)();r.useEffect((()=>{if(i)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==o||o(e,"escapeKeyDown")}}),[i,o]);const l=(0,iP.A)(((e,t)=>{null==o||o(e,t)})),c=(0,iP.A)((e=>{o&&null!=e&&a.start(e,(()=>{l(null,"timeout")}))}));r.useEffect((()=>(i&&c(t),a.clear)),[i,t,c,a]);const u=a.clear,d=r.useCallback((()=>{null!=t&&c(null!=s?s:.5*t)}),[t,s,c]),h=e=>t=>{const n=e.onFocus;null==n||n(t),u()},p=e=>t=>{const n=e.onMouseEnter;null==n||n(t),u()},f=e=>t=>{const n=e.onMouseLeave;null==n||n(t),d()};return r.useEffect((()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}}),[n,i,d,u]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,je.A)({},CT(e),CT(t));return(0,je.A)({role:"presentation"},t,n,{onBlur:(r=n,e=>{const t=r.onBlur;null==t||t(e),d()}),onFocus:h(n),onMouseEnter:p(n),onMouseLeave:f(n)});var r},onClickAway:e=>{null==o||o(e,"clickaway")}}};function Sq(e){return(0,tT.Ay)("MuiSnackbarContent",e)}(0,Ke.A)("MuiSnackbarContent",["root","message","action"]);const _q=["action","className","message","role"],Cq=(0,Xk.Ay)(sT,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98,r=(0,Zk.tL)(t.palette.background.default,n);return(0,je.A)({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),kq=(0,Xk.Ay)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),Tq=(0,Xk.Ay)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Eq=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiSnackbarContent"}),{action:r,className:o,message:i,role:s="alert"}=n,a=(0,De.A)(n,_q),l=n,c=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"],action:["action"],message:["message"]},Sq,t)})(l);return(0,$e.jsxs)(Cq,(0,je.A)({role:s,square:!0,elevation:6,className:(0,Ne.A)(c.root,o),ownerState:l,ref:t},a,{children:[(0,$e.jsx)(kq,{className:c.message,ownerState:l,children:i}),r?(0,$e.jsx)(Tq,{className:c.action,ownerState:l,children:r}):null]}))})),Iq=Eq;function Pq(e){return(0,tT.Ay)("MuiSnackbar",e)}(0,Ke.A)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Rq=["onEnter","onExited"],jq=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Dq=(0,Xk.Ay)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${(0,Jk.A)(n.anchorOrigin.vertical)}${(0,Jk.A)(n.anchorOrigin.horizontal)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:(0,je.A)({},"top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===n.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===n.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===n.anchorOrigin.horizontal&&{right:24,left:"auto"})})})),Nq=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiSnackbar"}),o=DI(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:h,ContentProps:p,disableWindowBlurListener:f=!1,message:m,open:g,TransitionComponent:v=UI,transitionDuration:y=i,TransitionProps:{onEnter:b,onExited:w}={}}=n,x=(0,De.A)(n.TransitionProps,Rq),A=(0,De.A)(n,jq),S=(0,je.A)({},n,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:f,TransitionComponent:v,transitionDuration:y}),_=(e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${(0,Jk.A)(n.vertical)}${(0,Jk.A)(n.horizontal)}`]};return(0,Qk.A)(r,Pq,t)})(S),{getRootProps:C,onClickAway:k}=Aq((0,je.A)({},S)),[T,E]=r.useState(!0),I=ME({elementType:Dq,getSlotProps:C,externalForwardedProps:A,ownerState:S,additionalProps:{ref:t},className:[_.root,d]});return!g&&T?null:(0,$e.jsx)(mW,(0,je.A)({onClickAway:k},h,{children:(0,$e.jsx)(Dq,(0,je.A)({},I,{children:(0,$e.jsx)(v,(0,je.A)({appear:!0,in:g,timeout:y,direction:"top"===a?"down":"up",onEnter:(e,t)=>{E(!1),b&&b(e,t)},onExited:e=>{E(!0),w&&w(e)}},x,{children:u||(0,$e.jsx)(Iq,(0,je.A)({message:m,action:s},p))}))}))}))})),Mq=Nq,Oq=e=>{let{children:t,maxRequests:n=10,timeWindow:o=6e4}=e;const[i,s]=(0,r.useState)(null),a=(0,r.useRef)(0),l=(0,r.useRef)(Date.now()),c=(0,r.useCallback)((()=>{const e=Date.now();return e-l.current>=o&&(a.current=0,l.current=e),a.current>=n?(s(`Rate limit exceeded. Please try again in ${Math.ceil((o-(e-l.current))/1e3)} seconds.`),!1):(a.current++,!0)}),[n,o]),u=()=>{s(null)};return(0,$e.jsxs)($e.Fragment,{children:[r.Children.map(t,(e=>r.isValidElement(e)?r.cloneElement(e,{checkRateLimit:c}):e)),(0,$e.jsx)(Mq,{open:!!i,autoHideDuration:6e3,onClose:u,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,$e.jsx)(oN,{onClose:u,severity:"error",sx:{width:"100%"},children:i})})]})},Lq=()=>{const{notifications:e,unreadCount:t,markAllAsRead:n,markAsRead:o,deleteNotification:i,loading:s}=Dk(),{currentUser:a}=Ek(),l=Z();(0,r.useEffect)((()=>{}),[t]);return s?(0,$e.jsx)(zR,{maxWidth:"sm",sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:(0,$e.jsx)(UN,{})}):(0,$e.jsxs)(zR,{maxWidth:"sm",sx:{mt:4,mb:4},children:[(0,$e.jsxs)(Je,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,$e.jsx)(WT,{variant:"h5",component:"h1",children:"Notifications"}),e.length>0&&t>0&&(0,$e.jsx)(WT,{variant:"caption",color:"textSecondary",onClick:()=>{null!==a&&void 0!==a&&a.uid&&n(a.uid)},sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:"Mark all as read"})]}),0===e.length?(0,$e.jsx)(WT,{textAlign:"center",color:"textSecondary",children:"No notifications yet."}):(0,$e.jsx)(cI,{sx:{bgcolor:"background.paper",borderRadius:2},children:e.map(((t,n)=>{return(0,$e.jsxs)(r.Fragment,{children:[(0,$e.jsxs)(NF,{alignItems:"flex-start",onClick:()=>(e=>{e.isRead||o(e.id);let t="/notifications";switch(e.type){case"like":case"comment":case"mention":case"repost":e.postId&&(t=`/post/${e.postId}`);break;case"vibit_like":case"vibit_comment":case"vibit_mention":e.postId&&(t=`/vibit/${e.postId}`);break;case"follow":e.senderId&&(t=`/profile/${e.senderId}`);break;case"room_invite":case"room_invitation":case"room_removal":e.roomId&&(t=`/side-room/${e.roomId}`);break;default:console.warn(`Unhandled notification type for navigation: ${e.type}`)}console.log(`Navigating to: ${t} for notification type: ${e.type}`),l(t)})(t),sx:{cursor:"pointer",backgroundColor:t.isRead?"transparent":"action.hover","&:hover":{backgroundColor:"action.selected"}},secondaryAction:(0,$e.jsx)(jE,{edge:"end","aria-label":"delete",onClick:e=>{return n=e,r=t.id,n.stopPropagation(),void i(r);var n,r},children:(0,$e.jsx)(VB,{fontSize:"small"})}),children:[(0,$e.jsx)(R$,{sx:{mr:1},children:(0,$e.jsx)(Ie,{to:`/profile/${t.senderId}`,onClick:e=>e.stopPropagation(),style:{textDecoration:"none"},children:(0,$e.jsx)(LT,{alt:t.senderName||"User",src:t.senderAvatar||void 0,sx:{bgcolor:t.senderAvatar?void 0:"primary.main",width:40,height:40},children:!t.senderAvatar&&t.senderName?t.senderName.charAt(0).toUpperCase():null})})}),(0,$e.jsx)(lR,{primary:(0,$e.jsx)(WT,{component:"span",variant:"body2",color:"text.primary",children:t.content||"Notification content missing."}),secondary:(0,$e.jsx)(WT,{component:"span",variant:"caption",color:"text.secondary",children:(s=t.createdAt,s&&s instanceof Date&&!isNaN(s.getTime())?dW(s,{addSuffix:!0}):"Invalid date")})})]}),n<e.length-1&&(0,$e.jsx)(pR,{variant:"inset",component:"li"})]},t.id);var s}))})]})},Fq={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let zq;const Vq=new Uint8Array(16);function Uq(){if(!zq&&(zq="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zq))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zq(Vq)}const Bq=[];for(let n=0;n<256;++n)Bq.push((n+256).toString(16).slice(1));function $q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Bq[e[t+0]]+Bq[e[t+1]]+Bq[e[t+2]]+Bq[e[t+3]]+"-"+Bq[e[t+4]]+Bq[e[t+5]]+"-"+Bq[e[t+6]]+Bq[e[t+7]]+"-"+Bq[e[t+8]]+Bq[e[t+9]]+"-"+Bq[e[t+10]]+Bq[e[t+11]]+Bq[e[t+12]]+Bq[e[t+13]]+Bq[e[t+14]]+Bq[e[t+15]]}const Wq=function(e,t,n){if(Fq.randomUUID&&!t&&!e)return Fq.randomUUID();const r=(e=e||{}).random||(e.rng||Uq)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return $q(r)},Hq=()=>{const{currentUser:e,user:t,loading:n,userProfile:o}=Ek(),i=Z(),[s,a]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(null),[h,p]=(0,r.useState)(null),[f,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)("");(0,r.useEffect)((()=>{(async()=>{try{let r="";try{r=localStorage.getItem("deviceId")||""}catch(DS){console.log("localStorage access blocked, generating new device ID")}if(!r){r=Wq();try{localStorage.setItem("deviceId",r)}catch(DS){console.log("Failed to store device ID in localStorage")}}if(v(r),n)return;if(!(e||t))return void i("/login");null!==o&&void 0!==o&&o.sourceCodeSetupComplete&&i("/")}catch(IQ){console.error("Device initialization error:",IQ),d("Failed to initialize device")}})()}),[e,t,n,i,o]);return n?(0,$e.jsx)(zR,{maxWidth:"sm",children:(0,$e.jsx)(Je,{display:"flex",justifyContent:"center",mt:8,children:(0,$e.jsx)(UN,{})})}):(0,$e.jsx)(zR,{maxWidth:"xs",children:(0,$e.jsxs)(sT,{elevation:3,sx:{mt:8,p:4},children:[(0,$e.jsx)(WT,{variant:"h5",align:"center",gutterBottom:!0,children:"Device Registration"}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",align:"center",paragraph:!0,children:g?`Device ID: ${g.slice(0,8)}...`:"Generating device ID..."}),u&&(0,$e.jsx)(oN,{severity:"error",sx:{mb:2},children:u}),h&&(0,$e.jsx)(oN,{severity:"success",sx:{mb:2},children:h}),(0,$e.jsxs)(Je,{component:"form",onSubmit:async n=>{if(n.preventDefault(),!(/^\d{8}$/.test(s)?s===l||(d("Codes do not match"),0):(d("Source code must be exactly 8 digits"),0)))return;if(!g)return void d("Device identification failed. Please refresh the page.");const r=e||t;if(r&&IS){m(!0),d(null);try{const e=tC.genSaltSync(10),t=tC.hashSync(s,e);if(!g||"string"!==typeof g)throw new Error("Invalid device ID");const n=eg(IS,"users",r.uid);await yv(n,{sourceCodeHash:t,sourceCodeSetupComplete:!0,registeredDevices:Pv(g),lastUpdated:Iv()});const o=await fv(n);if(!o.exists()||!o.data().sourceCodeSetupComplete)throw new Error("Failed to update source code settings");localStorage.setItem("deviceId",g),p("Device registration successful! Redirecting..."),setTimeout((()=>i("/")),1500)}catch(IQ){console.error("Setup error:",IQ),d("permission-denied"===IQ.code?"Permission denied. Please contact support.":IQ.message.includes("device")?"Device registration failed. Please try again.":"Setup failed. Please try again.")}finally{m(!1)}}else d("Authentication error")},sx:{mt:2},children:[(0,$e.jsx)($D,{fullWidth:!0,margin:"normal",label:"8-Digit Security Code",value:s,type:"password",onChange:e=>a(e.target.value.replace(/\D/g,"").slice(0,8)),inputProps:{maxLength:8,inputMode:"numeric",pattern:"[0-9]*"},required:!0}),(0,$e.jsx)($D,{fullWidth:!0,margin:"normal",label:"Confirm Security Code",value:l,type:"password",onChange:e=>c(e.target.value.replace(/\D/g,"").slice(0,8)),inputProps:{maxLength:8,inputMode:"numeric",pattern:"[0-9]*"},required:!0}),(0,$e.jsx)(nI,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3},disabled:f||!g,children:f?(0,$e.jsx)(UN,{size:24}):"Register This Device"})]})]})})},qq=()=>{const{verifySourceCodeAndCompleteLogin:e,loading:t,error:n,setError:o,tempUserForSourceCode:i,currentUser:s}=Ek(),a=Z(),[l,c]=(0,r.useState)("");(0,r.useEffect)((()=>{if(!s&&!i&&!t)return console.log("No temporary or current user found, redirecting to login."),void a("/login",{replace:!0});o(null)}),[s,i,a,t,o]);return(0,$e.jsx)(zR,{maxWidth:"xs",children:(0,$e.jsxs)(sT,{elevation:0,sx:{mt:8,p:4},children:[(0,$e.jsx)(WT,{variant:"h5",component:"h1",gutterBottom:!0,align:"center",children:"Enter Source Code"}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",align:"center",paragraph:!0,children:"Enter your 8-digit source code to complete login."}),(0,$e.jsxs)(Je,{component:"form",onSubmit:async t=>{t.preventDefault(),o(null),/^[0-9]{8}$/.test(l)?await e(l):o("Source code must be exactly 8 digits.")},noValidate:!0,sx:{mt:1},children:[(0,$e.jsx)($D,{margin:"normal",required:!0,fullWidth:!0,id:"source-code",label:"8-Digit Source Code",name:"source-code",type:"password",inputProps:{maxLength:8,pattern:"[0-9]*",inputMode:"numeric"},value:l,onChange:e=>c(e.target.value.replace(/\\D/g,"").slice(0,8)),autoFocus:!0}),n&&(0,$e.jsx)(oN,{severity:"error",sx:{mt:2},children:n}),(0,$e.jsx)(nI,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:t,children:t?(0,$e.jsx)(UN,{size:24}):"Verify Code"}),(0,$e.jsx)(Je,{textAlign:"center",children:(0,$e.jsx)(kN,{component:Ie,to:"/reset-source-code",variant:"body2",sx:{mt:1},children:"Forgot Source Code?"})})]})]})})},Gq=()=>{Z();const[e,t]=(0,r.useState)(""),[n,o]=(0,r.useState)(!1),[i,s]=(0,r.useState)(null),[a,l]=(0,r.useState)(null);return(0,$e.jsx)(zR,{maxWidth:"xs",children:(0,$e.jsxs)(sT,{elevation:0,sx:{mt:8,p:4},children:[(0,$e.jsx)(WT,{variant:"h5",component:"h1",gutterBottom:!0,align:"center",children:"Reset Source Code"}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",align:"center",paragraph:!0,children:"Enter your account email address to receive a link to reset your 8-digit source code."}),(0,$e.jsxs)(Je,{component:"form",onSubmit:async t=>{if(t.preventDefault(),o(!0),s(null),l(null),!e)return s("Email is required."),void o(!1);try{await(async e=>{console.log(`Placeholder: Sending source code reset email to ${e}`),await new Promise((e=>setTimeout(e,1500)))})(e),l("If an account exists for this email, a reset link has been sent. Please check your inbox.")}catch(IQ){console.error("Error sending source code reset email:",IQ),s("Failed to send reset email. Please try again later.")}finally{o(!1)}},noValidate:!0,sx:{mt:1},children:[(0,$e.jsx)($D,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:e,onChange:e=>t(e.target.value),autoFocus:!0}),i&&(0,$e.jsx)(oN,{severity:"error",sx:{mt:2},children:i}),a&&(0,$e.jsx)(oN,{severity:"success",sx:{mt:2},children:a}),(0,$e.jsx)(nI,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:n,children:n?(0,$e.jsx)(UN,{size:24}):"Send Reset Link"})]})]})})};function Kq(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Yq(e,t){F$(2,arguments);var n=z$(e),r=Kq(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function Qq(e,t){F$(2,arguments);var n=z$(e).getTime(),r=Kq(t);return new Date(n+r)}function Xq(e,t){F$(2,arguments);var n=z$(e),r=Kq(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());return i.setMonth(n.getMonth()+r+1,0),o>=i.getDate()?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function Jq(e,t){return F$(2,arguments),Xq(e,12*Kq(t))}function Zq(e,t){F$(2,arguments);var n=z$(e),r=z$(t),o=V$(n,r),i=Math.abs(function(e,t){F$(2,arguments);var n=z$(e),r=z$(t);return n.getFullYear()-r.getFullYear()}(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=V$(n,r)===-o,a=o*(i-Number(s));return 0===a?0:a}function eG(e){F$(1,arguments);var t=z$(e);return t.setHours(0,0,0,0),t}function tG(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function nG(e,t){F$(2,arguments);var n=z$(e),r=z$(t),o=tG(n,r),i=Math.abs(function(e,t){F$(2,arguments);var n=eG(e),r=eG(t),o=n.getTime()-lW(n),i=r.getTime()-lW(r);return Math.round((o-i)/864e5)}(n,r));n.setDate(n.getDate()-o*i);var s=o*(i-Number(tG(n,r)===-o));return 0===s?0:s}Math.pow(10,8);var rG=6e4,oG=36e5;function iG(e,t){var n,r,o,i,s,a,l,c;F$(1,arguments);var u=O$(),d=Kq(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==o?o:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=z$(e),p=h.getDay(),f=6+(p<d?-7:0)-(p-d);return h.setDate(h.getDate()+f),h.setHours(23,59,59,999),h}function sG(e){F$(1,arguments);var t=z$(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function aG(e){if(F$(1,arguments),!function(e){return F$(1,arguments),e instanceof Date||"object"===L$(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=z$(e);return!isNaN(Number(t))}function lG(e,t){return F$(2,arguments),Qq(e,-Kq(t))}function cG(e){F$(1,arguments);var t=z$(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function uG(e){F$(1,arguments);var t=z$(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=cG(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=cG(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function dG(e){F$(1,arguments);var t=z$(e),n=cG(t).getTime()-function(e){F$(1,arguments);var t=uG(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),cG(n)}(t).getTime();return Math.round(n/6048e5)+1}function hG(e,t){var n,r,o,i,s,a,l,c;F$(1,arguments);var u=O$(),d=Kq(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==o?o:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=z$(e),p=h.getUTCDay(),f=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-f),h.setUTCHours(0,0,0,0),h}function pG(e,t){var n,r,o,i,s,a,l,c;F$(1,arguments);var u=z$(e),d=u.getUTCFullYear(),h=O$(),p=Kq(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(d+1,0,p),f.setUTCHours(0,0,0,0);var m=hG(f,t),g=new Date(0);g.setUTCFullYear(d,0,p),g.setUTCHours(0,0,0,0);var v=hG(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=v.getTime()?d:d-1}function fG(e,t){F$(1,arguments);var n=z$(e),r=hG(n,t).getTime()-function(e,t){var n,r,o,i,s,a,l,c;F$(1,arguments);var u=O$(),d=Kq(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=pG(e,t),p=new Date(0);return p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0),hG(p,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function mG(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const gG={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return mG("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):mG(n+1,2)},d:function(e,t){return mG(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return mG(e.getUTCHours()%12||12,t.length)},H:function(e,t){return mG(e.getUTCHours(),t.length)},m:function(e,t){return mG(e.getUTCMinutes(),t.length)},s:function(e,t){return mG(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return mG(Math.floor(r*Math.pow(10,n-3)),t.length)}};var vG="midnight",yG="noon",bG="morning",wG="afternoon",xG="evening",AG="night",SG={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return gG.y(e,t)},Y:function(e,t,n,r){var o=pG(e,r),i=o>0?o:1-o;return"YY"===t?mG(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):mG(i,t.length)},R:function(e,t){return mG(uG(e),t.length)},u:function(e,t){return mG(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return mG(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return mG(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return gG.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return mG(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var o=fG(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):mG(o,t.length)},I:function(e,t,n){var r=dG(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):mG(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):gG.d(e,t)},D:function(e,t,n){var r=function(e){F$(1,arguments);var t=z$(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):mG(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return mG(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return mG(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return mG(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,o=e.getUTCHours();switch(r=12===o?yG:0===o?vG:o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,o=e.getUTCHours();switch(r=o>=17?xG:o>=12?wG:o>=4?bG:AG,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return gG.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):gG.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):mG(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):mG(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):gG.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):gG.s(e,t)},S:function(e,t){return gG.S(e,t)},X:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return CG(o);case"XXXX":case"XX":return kG(o);default:return kG(o,":")}},x:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return CG(o);case"xxxx":case"xx":return kG(o);default:return kG(o,":")}},O:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_G(o,":");default:return"GMT"+kG(o,":")}},z:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_G(o,":");default:return"GMT"+kG(o,":")}},t:function(e,t,n,r){var o=r._originalDate||e;return mG(Math.floor(o.getTime()/1e3),t.length)},T:function(e,t,n,r){return mG((r._originalDate||e).getTime(),t.length)}};function _G(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var s=t||"";return n+String(o)+s+mG(i,2)}function CG(e,t){return e%60===0?(e>0?"-":"+")+mG(Math.abs(e)/60,2):kG(e,t)}function kG(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e);return r+mG(Math.floor(o/60),2)+n+mG(o%60,2)}const TG=SG;var EG=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},IG=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},PG={p:IG,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return EG(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",EG(o,t)).replace("{{time}}",IG(i,t))}};const RG=PG;var jG=["D","DD"],DG=["YY","YYYY"];function NG(e){return-1!==jG.indexOf(e)}function MG(e){return-1!==DG.indexOf(e)}function OG(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var LG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zG=/^'([^]*?)'?$/,VG=/''/g,UG=/[a-zA-Z]/;function BG(e,t,n){var r,o,i,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w;F$(2,arguments);var x=String(t),A=O$(),S=null!==(r=null!==(o=null===n||void 0===n?void 0:n.locale)&&void 0!==o?o:A.locale)&&void 0!==r?r:sW,_=Kq(null!==(i=null!==(s=null!==(a=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==a?a:A.firstWeekContainsDate)&&void 0!==s?s:null===(d=A.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==i?i:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=Kq(null!==(p=null!==(f=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(v=n.locale)||void 0===v||null===(y=v.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==m?m:A.weekStartsOn)&&void 0!==f?f:null===(b=A.locale)||void 0===b||null===(w=b.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==p?p:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var k=z$(e);if(!aG(k))throw new RangeError("Invalid time value");var T=lG(k,lW(k)),E={firstWeekContainsDate:_,weekStartsOn:C,locale:S,_originalDate:k};return x.match(FG).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,RG[t])(e,S.formatLong):e})).join("").match(LG).map((function(r){if("''"===r)return"'";var o=r[0];if("'"===o)return function(e){var t=e.match(zG);if(!t)return e;return t[1].replace(VG,"'")}(r);var i=TG[o];if(i)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!MG(r)||OG(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!NG(r)||OG(r,t,String(e)),i(T,r,S.localize,E);if(o.match(UG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return r})).join("")}function $G(e){F$(1,arguments);var t=z$(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function WG(e,t){var n,r,o,i,s,a,l,c;F$(1,arguments);var u=O$(),d=Kq(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==o?o:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=z$(e),p=h.getDay(),f=(p<d?7:0)+p-d;return h.setDate(h.getDate()-f),h.setHours(0,0,0,0),h}function HG(e,t){var n,r,o,i,s,a,l,c;F$(1,arguments);var u=O$(),d=Kq(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=function(e,t){var n,r,o,i,s,a,l,c;F$(1,arguments);var u=z$(e),d=u.getFullYear(),h=O$(),p=Kq(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setFullYear(d+1,0,p),f.setHours(0,0,0,0);var m=WG(f,t),g=new Date(0);g.setFullYear(d,0,p),g.setHours(0,0,0,0);var v=WG(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=v.getTime()?d:d-1}(e,t),p=new Date(0);return p.setFullYear(h,0,d),p.setHours(0,0,0,0),WG(p,t)}function qG(e,t){F$(2,arguments);var n=z$(e),r=z$(t);return n.getTime()>r.getTime()}function GG(e,t){F$(2,arguments);var n=z$(e),r=z$(t);return n.getTime()<r.getTime()}function KG(e){F$(1,arguments);var t=z$(e);return t.setMinutes(0,0,0),t}function YG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function QG(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return YG(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YG(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function XG(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YT(e,t)}function JG(e){return JG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JG(e)}function ZG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ZG=function(){return!!e})()}function eK(e){var t=ZG();return function(){var n,r=JG(e);if(t){var o=JG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==L$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return KT(e)}(this,n)}}function tK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nK(e){var t=function(e,t){if("object"!=L$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=L$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L$(t)?t:t+""}function rK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nK(r.key),r)}}function oK(e,t,n){return t&&rK(e.prototype,t),n&&rK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iK(e,t,n){return(t=nK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sK=function(){function e(){tK(this,e),iK(this,"priority",void 0),iK(this,"subPriority",0)}return oK(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),aK=function(e){XG(n,e);var t=eK(n);function n(e,r,o,i,s){var a;return tK(this,n),(a=t.call(this)).value=e,a.validateValue=r,a.setValue=o,a.priority=i,s&&(a.subPriority=s),a}return oK(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(sK),lK=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",10),iK(KT(e),"subPriority",-1),e}return oK(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(sK),cK=function(){function e(){tK(this,e),iK(this,"incompatibleTokens",void 0),iK(this,"priority",void 0),iK(this,"subPriority",void 0)}return oK(e,[{key:"run",value:function(e,t,n,r){var o=this.parse(e,t,n,r);return o?{setter:new aK(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),uK=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",140),iK(KT(e),"incompatibleTokens",["R","u","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(cK),dK=/^(1[0-2]|0?\d)/,hK=/^(3[0-1]|[0-2]?\d)/,pK=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,fK=/^(5[0-3]|[0-4]?\d)/,mK=/^(2[0-3]|[0-1]?\d)/,gK=/^(2[0-4]|[0-1]?\d)/,vK=/^(1[0-1]|0?\d)/,yK=/^(1[0-2]|0?\d)/,bK=/^[0-5]?\d/,wK=/^[0-5]?\d/,xK=/^\d/,AK=/^\d{1,2}/,SK=/^\d{1,3}/,_K=/^\d{1,4}/,CK=/^-?\d+/,kK=/^-?\d/,TK=/^-?\d{1,2}/,EK=/^-?\d{1,3}/,IK=/^-?\d{1,4}/,PK=/^([+-])(\d{2})(\d{2})?|Z/,RK=/^([+-])(\d{2})(\d{2})|Z/,jK=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,DK=/^([+-])(\d{2}):(\d{2})|Z/,NK=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function MK(e,t){return e?{value:t(e.value),rest:e.rest}:e}function OK(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function LK(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var r="+"===n[1]?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*oG+i*rG+1e3*s),rest:t.slice(n[0].length)}}function FK(e){return OK(CK,e)}function zK(e,t){switch(e){case 1:return OK(xK,t);case 2:return OK(AK,t);case 3:return OK(SK,t);case 4:return OK(_K,t);default:return OK(new RegExp("^\\d{1,"+e+"}"),t)}}function VK(e,t){switch(e){case 1:return OK(kK,t);case 2:return OK(TK,t);case 3:return OK(EK,t);case 4:return OK(IK,t);default:return OK(new RegExp("^-?\\d{1,"+e+"}"),t)}}function UK(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function BK(e,t){var n,r=t>0,o=r?t:1-t;if(o<=50)n=e||100;else{var i=o+50;n=e+100*Math.floor(i/100)-(e>=i%100?100:0)}return r?n:1-n}function $K(e){return e%400===0||e%4===0&&e%100!==0}var WK=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",130),iK(KT(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return MK(zK(4,e),r);case"yo":return MK(n.ordinalNumber(e,{unit:"year"}),r);default:return MK(zK(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var o=BK(n.year,r);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var i="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(cK),HK=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",130),iK(KT(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return MK(zK(4,e),r);case"Yo":return MK(n.ordinalNumber(e,{unit:"year"}),r);default:return MK(zK(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var o=pG(e,r);if(n.isTwoDigitYear){var i=BK(n.year,o);return e.setUTCFullYear(i,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),hG(e,r)}var s="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(s,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),hG(e,r)}}]),n}(cK),qK=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",130),iK(KT(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t){return VK("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),cG(r)}}]),n}(cK),GK=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",130),iK(KT(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t){return VK("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(cK),KK=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",120),iK(KT(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return zK(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(cK),YK=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",120),iK(KT(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return zK(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(cK),QK=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),iK(KT(e),"priority",110),e}return oK(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return MK(OK(dK,e),r);case"MM":return MK(zK(2,e),r);case"Mo":return MK(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(cK),XK=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",110),iK(KT(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return MK(OK(dK,e),r);case"LL":return MK(zK(2,e),r);case"Lo":return MK(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(cK);var JK=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",100),iK(KT(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return OK(fK,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return zK(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return hG(function(e,t,n){F$(2,arguments);var r=z$(e),o=Kq(t),i=fG(r,n)-o;return r.setUTCDate(r.getUTCDate()-7*i),r}(e,n,r),r)}}]),n}(cK);var ZK=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",100),iK(KT(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return OK(fK,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return zK(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return cG(function(e,t){F$(2,arguments);var n=z$(e),r=Kq(t),o=dG(n)-r;return n.setUTCDate(n.getUTCDate()-7*o),n}(e,n))}}]),n}(cK),eY=[31,28,31,30,31,30,31,31,30,31,30,31],tY=[31,29,31,30,31,30,31,31,30,31,30,31],nY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",90),iK(KT(e),"subPriority",1),iK(KT(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return OK(hK,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return zK(t.length,e)}}},{key:"validate",value:function(e,t){var n=$K(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=tY[r]:t>=1&&t<=eY[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(cK),rY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",90),iK(KT(e),"subpriority",1),iK(KT(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return OK(pK,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return zK(t.length,e)}}},{key:"validate",value:function(e,t){return $K(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(cK);function oY(e,t,n){var r,o,i,s,a,l,c,u;F$(2,arguments);var d=O$(),h=Kq(null!==(r=null!==(o=null!==(i=null!==(s=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==s?s:null===n||void 0===n||null===(a=n.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==i?i:d.weekStartsOn)&&void 0!==o?o:null===(c=d.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==r?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=z$(e),f=Kq(t),m=((f%7+7)%7<h?7:0)+f-p.getUTCDay();return p.setUTCDate(p.getUTCDate()+m),p}var iY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",90),iK(KT(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=oY(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(cK),sY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",90),iK(KT(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return MK(zK(t.length,e),o);case"eo":return MK(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=oY(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(cK),aY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",90),iK(KT(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return MK(zK(t.length,e),o);case"co":return MK(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=oY(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(cK);var lY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",90),iK(KT(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return zK(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return MK(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return MK(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return MK(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return MK(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){F$(2,arguments);var n=Kq(t);n%7===0&&(n-=7);var r=z$(e),o=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+o),r}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(cK),cY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",80),iK(KT(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(UK(n),0,0,0),e}}]),n}(cK),uY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",80),iK(KT(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(UK(n),0,0,0),e}}]),n}(cK),dY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",80),iK(KT(e),"incompatibleTokens",["a","b","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(UK(n),0,0,0),e}}]),n}(cK),hY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",70),iK(KT(e),"incompatibleTokens",["H","K","k","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return OK(yK,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return zK(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(cK),pY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",70),iK(KT(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return OK(mK,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return zK(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(cK),fY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",70),iK(KT(e),"incompatibleTokens",["h","H","k","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return OK(vK,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return zK(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(cK),mY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",70),iK(KT(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return OK(gK,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return zK(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),n}(cK),gY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",60),iK(KT(e),"incompatibleTokens",["t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return OK(bK,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return zK(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(cK),vY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",50),iK(KT(e),"incompatibleTokens",["t","T"]),e}return oK(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return OK(wK,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return zK(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(cK),yY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",30),iK(KT(e),"incompatibleTokens",["t","T"]),e}return oK(n,[{key:"parse",value:function(e,t){return MK(zK(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(cK),bY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",10),iK(KT(e),"incompatibleTokens",["t","T","x"]),e}return oK(n,[{key:"parse",value:function(e,t){switch(t){case"X":return LK(PK,e);case"XX":return LK(RK,e);case"XXXX":return LK(jK,e);case"XXXXX":return LK(NK,e);default:return LK(DK,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(cK),wY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",10),iK(KT(e),"incompatibleTokens",["t","T","X"]),e}return oK(n,[{key:"parse",value:function(e,t){switch(t){case"x":return LK(PK,e);case"xx":return LK(RK,e);case"xxxx":return LK(jK,e);case"xxxxx":return LK(NK,e);default:return LK(DK,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(cK),xY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",40),iK(KT(e),"incompatibleTokens","*"),e}return oK(n,[{key:"parse",value:function(e){return FK(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(cK),AY=function(e){XG(n,e);var t=eK(n);function n(){var e;tK(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return iK(KT(e=t.call.apply(t,[this].concat(o))),"priority",20),iK(KT(e),"incompatibleTokens","*"),e}return oK(n,[{key:"parse",value:function(e){return FK(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(cK),SY={G:new uK,y:new WK,Y:new HK,R:new qK,u:new GK,Q:new KK,q:new YK,M:new QK,L:new XK,w:new JK,I:new ZK,d:new nY,D:new rY,E:new iY,e:new sY,c:new aY,i:new lY,a:new cY,b:new uY,B:new dY,h:new hY,H:new pY,K:new fY,k:new mY,m:new gY,s:new vY,S:new yY,X:new bY,x:new wY,t:new xY,T:new AY},_Y=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kY=/^'([^]*?)'?$/,TY=/''/g,EY=/\S/,IY=/[a-zA-Z]/;function PY(e,t,n,r){var o,i,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,x;F$(3,arguments);var A=String(e),S=String(t),_=O$(),C=null!==(o=null!==(i=null===r||void 0===r?void 0:r.locale)&&void 0!==i?i:_.locale)&&void 0!==o?o:sW;if(!C.match)throw new RangeError("locale must contain match property");var k=Kq(null!==(s=null!==(a=null!==(l=null!==(c=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==c?c:null===r||void 0===r||null===(u=r.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==l?l:_.firstWeekContainsDate)&&void 0!==a?a:null===(h=_.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==s?s:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=Kq(null!==(f=null!==(m=null!==(g=null!==(v=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==v?v:null===r||void 0===r||null===(y=r.locale)||void 0===y||null===(b=y.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==g?g:_.weekStartsOn)&&void 0!==m?m:null===(w=_.locale)||void 0===w||null===(x=w.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==f?f:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===S)return""===A?z$(n):new Date(NaN);var E,I={firstWeekContainsDate:k,weekStartsOn:T,locale:C},P=[new lK],R=S.match(CY).map((function(e){var t=e[0];return t in RG?(0,RG[t])(e,C.formatLong):e})).join("").match(_Y),j=[],D=QG(R);try{var N=function(){var t=E.value;null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!MG(t)||OG(t,S,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!NG(t)||OG(t,S,e);var n=t[0],o=SY[n];if(o){var i=o.incompatibleTokens;if(Array.isArray(i)){var s=j.find((function(e){return i.includes(e.token)||e.token===n}));if(s)throw new RangeError("The format string mustn't contain `".concat(s.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===o.incompatibleTokens&&j.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));j.push({token:n,fullToken:t});var a=o.run(A,t,C.match,I);if(!a)return{v:new Date(NaN)};P.push(a.setter),A=a.rest}else{if(n.match(IY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(kY)[1].replace(TY,"'")),0!==A.indexOf(t))return{v:new Date(NaN)};A=A.slice(t.length)}};for(D.s();!(E=D.n()).done;){var M=N();if("object"===L$(M))return M.v}}catch(IQ){D.e(IQ)}finally{D.f()}if(A.length>0&&EY.test(A))return new Date(NaN);var O=P.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return P.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),L=z$(n);if(isNaN(L.getTime()))return new Date(NaN);var F,z=lG(L,lW(L)),V={},U=QG(O);try{for(U.s();!(F=U.n()).done;){var B=F.value;if(!B.validate(z,I))return new Date(NaN);var $=B.set(z,V,I);Array.isArray($)?(z=$[0],aW(V,$[1])):z=$}}catch(IQ){U.e(IQ)}finally{U.f()}return z}function RY(e){F$(1,arguments);var t=z$(e);return t.setDate(1),t.setHours(0,0,0,0),t}function jY(e){F$(1,arguments);var t=z$(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function DY(e,t){var n;F$(1,arguments);var r=Kq(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var o,i=function(e){var t,n={},r=e.split(NY.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],NY.timeZoneDelimiter.test(n.date)&&(n.date=e.split(NY.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var o=NY.timezone.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}(e);if(i.date){var s=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?o:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(i.date,r);o=function(e,t){if(null===t)return new Date(NaN);var n=e.match(MY);if(!n)return new Date(NaN);var r=!!n[4],o=FY(n[1]),i=FY(n[2])-1,s=FY(n[3]),a=FY(n[4]),l=FY(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,a,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=7*(t-1)+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}(t,a,l):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(VY[t]||(UY(e)?29:28))}(t,i,s)&&function(e,t){return t>=1&&t<=(UY(e)?366:365)}(t,o)?(c.setUTCFullYear(t,i,Math.max(o,s)),c):new Date(NaN)}(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a,l=o.getTime(),c=0;if(i.time&&(c=function(e){var t=e.match(OY);if(!t)return NaN;var n=zY(t[1]),r=zY(t[2]),o=zY(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,o))return NaN;return n*oG+r*rG+1e3*o}(i.time),isNaN(c)))return new Date(NaN);if(!i.timezone){var u=new Date(l+c),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return a=function(e){if("Z"===e)return 0;var t=e.match(LY);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,o))return NaN;return n*(r*oG+o*rG)}(i.timezone),isNaN(a)?new Date(NaN):new Date(l+c+a)}var NY={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},MY=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,OY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,LY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function FY(e){return e?parseInt(e):1}function zY(e){return e&&parseFloat(e.replace(",","."))||0}var VY=[31,null,31,30,31,30,31,31,30,31,30,31];function UY(e){return e%400===0||e%4===0&&e%100!==0}var BY=n(4894),$Y=n.n(BY);const WY={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},HY={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class qY{constructor(e){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=WY,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=e=>"undefined"===typeof e?new Date:null===e?null:new Date(e),this.dateWithTimezone=e=>this.date(e),this.getTimezone=()=>"default",this.setTimezone=e=>e,this.toJsDate=e=>e,this.getCurrentLocaleCode=()=>{var e;return(null==(e=this.locale)?void 0:e.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>!this.locale||/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=e=>e.match(/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,this.longFormatters[t])(e,this.locale.formatLong)}return e})).join(""),this.getFormatHelperText=e=>this.expandFormat(e).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=e=>null===e,this.formatNumber=e=>e,this.getMeridiemText=e=>"am"===e?"AM":"PM";const{locale:t,formats:n,longFormatters:r}=e;this.locale=t,this.formats=(0,je.A)({},HY,n),this.longFormatters=r}}class GY extends qY{constructor(){let{locale:e,formats:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({locale:null!=e?e:iW,formats:t,longFormatters:$Y()}),this.parseISO=e=>DY(e),this.toISO=e=>function(e,t){var n,r;F$(1,arguments);var o=z$(e);if(isNaN(o.getTime()))throw new RangeError("Invalid time value");var i=String(null!==(n=null===t||void 0===t?void 0:t.format)&&void 0!==n?n:"extended"),s=String(null!==(r=null===t||void 0===t?void 0:t.representation)&&void 0!==r?r:"complete");if("extended"!==i&&"basic"!==i)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==s&&"time"!==s&&"complete"!==s)throw new RangeError("representation must be 'date', 'time', or 'complete'");var a="",l="",c="extended"===i?"-":"",u="extended"===i?":":"";if("time"!==s){var d=mG(o.getDate(),2),h=mG(o.getMonth()+1,2),p=mG(o.getFullYear(),4);a="".concat(p).concat(c).concat(h).concat(c).concat(d)}if("date"!==s){var f=o.getTimezoneOffset();if(0!==f){var m=Math.abs(f),g=mG(Math.floor(m/60),2),v=mG(m%60,2);l="".concat(f<0?"+":"-").concat(g,":").concat(v)}else l="Z";var y=""===a?"":"T",b=[mG(o.getHours(),2),mG(o.getMinutes(),2),mG(o.getSeconds(),2)].join(u);a="".concat(a).concat(y).concat(b).concat(l)}return a}(e,{format:"extended"}),this.parse=(e,t)=>""===e?null:PY(e,t,new Date,{locale:this.locale}),this.isValid=e=>aG(this.date(e)),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>BG(e,t,{locale:this.locale}),this.getDiff=(e,t,n)=>{switch(n){case"years":return Zq(e,this.date(t));case"quarters":return function(e,t,n){F$(2,arguments);var r=$$(e,t)/3;return q$(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"months":return $$(e,this.date(t));case"weeks":return function(e,t,n){F$(2,arguments);var r=nG(e,t)/7;return q$(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"days":return nG(e,this.date(t));case"hours":return function(e,t,n){F$(2,arguments);var r=W$(e,t)/oG;return q$(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"minutes":return function(e,t,n){F$(2,arguments);var r=W$(e,t)/rG;return q$(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"seconds":return G$(e,this.date(t));default:return W$(e,this.date(t))}},this.isEqual=(e,t)=>null===e&&null===t||function(e,t){F$(2,arguments);var n=z$(e),r=z$(t);return n.getTime()===r.getTime()}(e,t),this.isSameYear=(e,t)=>function(e,t){F$(2,arguments);var n=z$(e),r=z$(t);return n.getFullYear()===r.getFullYear()}(e,t),this.isSameMonth=(e,t)=>function(e,t){F$(2,arguments);var n=z$(e),r=z$(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,t),this.isSameDay=(e,t)=>function(e,t){F$(2,arguments);var n=eG(e),r=eG(t);return n.getTime()===r.getTime()}(e,t),this.isSameHour=(e,t)=>function(e,t){F$(2,arguments);var n=KG(e),r=KG(t);return n.getTime()===r.getTime()}(e,t),this.isAfter=(e,t)=>qG(e,t),this.isAfterYear=(e,t)=>qG(e,sG(t)),this.isAfterDay=(e,t)=>qG(e,U$(t)),this.isBefore=(e,t)=>GG(e,t),this.isBeforeYear=(e,t)=>GG(e,jY(t)),this.isBeforeDay=(e,t)=>GG(e,eG(t)),this.isWithinRange=(e,t)=>{let[n,r]=t;return function(e,t){F$(2,arguments);var n=z$(e).getTime(),r=z$(t.start).getTime(),o=z$(t.end).getTime();if(!(r<=o))throw new RangeError("Invalid interval");return n>=r&&n<=o}(e,{start:n,end:r})},this.startOfYear=e=>jY(e),this.startOfMonth=e=>RY(e),this.startOfWeek=e=>WG(e,{locale:this.locale}),this.startOfDay=e=>eG(e),this.endOfYear=e=>sG(e),this.endOfMonth=e=>B$(e),this.endOfWeek=e=>iG(e,{locale:this.locale}),this.endOfDay=e=>U$(e),this.addYears=(e,t)=>Jq(e,t),this.addMonths=(e,t)=>Xq(e,t),this.addWeeks=(e,t)=>function(e,t){return F$(2,arguments),Yq(e,7*Kq(t))}(e,t),this.addDays=(e,t)=>Yq(e,t),this.addHours=(e,t)=>function(e,t){return F$(2,arguments),Qq(e,36e5*Kq(t))}(e,t),this.addMinutes=(e,t)=>function(e,t){return F$(2,arguments),Qq(e,6e4*Kq(t))}(e,t),this.addSeconds=(e,t)=>function(e,t){return F$(2,arguments),Qq(e,1e3*Kq(t))}(e,t),this.getYear=e=>function(e){return F$(1,arguments),z$(e).getFullYear()}(e),this.getMonth=e=>function(e){return F$(1,arguments),z$(e).getMonth()}(e),this.getDate=e=>function(e){return F$(1,arguments),z$(e).getDate()}(e),this.getHours=e=>function(e){return F$(1,arguments),z$(e).getHours()}(e),this.getMinutes=e=>function(e){return F$(1,arguments),z$(e).getMinutes()}(e),this.getSeconds=e=>function(e){return F$(1,arguments),z$(e).getSeconds()}(e),this.getMilliseconds=e=>function(e){return F$(1,arguments),z$(e).getMilliseconds()}(e),this.setYear=(e,t)=>function(e,t){F$(2,arguments);var n=z$(e),r=Kq(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}(e,t),this.setMonth=(e,t)=>function(e,t){F$(2,arguments);var n=z$(e),r=Kq(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=$G(s);return n.setMonth(r,Math.min(i,a)),n}(e,t),this.setDate=(e,t)=>function(e,t){F$(2,arguments);var n=z$(e),r=Kq(t);return n.setDate(r),n}(e,t),this.setHours=(e,t)=>function(e,t){F$(2,arguments);var n=z$(e),r=Kq(t);return n.setHours(r),n}(e,t),this.setMinutes=(e,t)=>function(e,t){F$(2,arguments);var n=z$(e),r=Kq(t);return n.setMinutes(r),n}(e,t),this.setSeconds=(e,t)=>function(e,t){F$(2,arguments);var n=z$(e),r=Kq(t);return n.setSeconds(r),n}(e,t),this.setMilliseconds=(e,t)=>function(e,t){F$(2,arguments);var n=z$(e),r=Kq(t);return n.setMilliseconds(r),n}(e,t),this.getDaysInMonth=e=>$G(e),this.getNextMonth=e=>Xq(e,1),this.getPreviousMonth=e=>Xq(e,-1),this.getMonthArray=e=>{const t=[jY(e)];for(;t.length<12;){const e=t[t.length-1];t.push(this.getNextMonth(e))}return t},this.mergeDateAndTime=(e,t)=>this.setSeconds(this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t)),this.getSeconds(t)),this.getWeekdays=()=>{const e=new Date;return function(e,t){var n;F$(1,arguments);var r=e||{},o=z$(r.start),i=z$(r.end).getTime();if(!(o.getTime()<=i))throw new RangeError("Invalid interval");var s=[],a=o;a.setHours(0,0,0,0);var l=Number(null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;a.getTime()<=i;)s.push(z$(a)),a.setDate(a.getDate()+l),a.setHours(0,0,0,0);return s}({start:WG(e,{locale:this.locale}),end:iG(e,{locale:this.locale})}).map((e=>this.formatByString(e,"EEEEEE")))},this.getWeekArray=e=>{const t=WG(RY(e),{locale:this.locale}),n=iG(B$(e),{locale:this.locale});let r=0,o=t;const i=[];for(;GG(o,n);){const e=Math.floor(r/7);i[e]=i[e]||[],i[e].push(o),o=Yq(o,1),r+=1}return i},this.getWeekNumber=e=>function(e,t){F$(1,arguments);var n=z$(e),r=WG(n,t).getTime()-HG(n,t).getTime();return Math.round(r/6048e5)+1}(e,{locale:this.locale}),this.getYearRange=(e,t)=>{const n=jY(e),r=sG(t),o=[];let i=n;for(;GG(i,r);)o.push(i),i=Jq(i,1);return o}}}const KY=(0,yT.A)((0,$e.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),YY=(0,yT.A)((0,$e.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),QY=(0,yT.A)((0,$e.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function XY(e){return(0,tT.Ay)("MuiCheckbox",e)}const JY=(0,Ke.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),ZY=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],eQ=(0,Xk.Ay)(bB,{shouldForwardProp:e=>(0,HE.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${(0,Jk.A)(n.size)}`],"default"!==n.color&&t[`color${(0,Jk.A)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${"default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Zk.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{[`&.${JY.checked}, &.${JY.indeterminate}`]:{color:(t.vars||t).palette[n.color].main},[`&.${JY.disabled}`]:{color:(t.vars||t).palette.action.disabled}})})),tQ=(0,$e.jsx)(YY,{}),nQ=(0,$e.jsx)(KY,{}),rQ=(0,$e.jsx)(QY,{}),oQ=r.forwardRef((function(e,t){var n,o;const i=(0,Ze.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:s=tQ,color:a="primary",icon:l=nQ,indeterminate:c=!1,indeterminateIcon:u=rQ,inputProps:d,size:h="medium",className:p}=i,f=(0,De.A)(i,ZY),m=c?u:l,g=c?u:s,v=(0,je.A)({},i,{color:a,indeterminate:c,size:h}),y=(e=>{const{classes:t,indeterminate:n,color:r,size:o}=e,i={root:["root",n&&"indeterminate",`color${(0,Jk.A)(r)}`,`size${(0,Jk.A)(o)}`]},s=(0,Qk.A)(i,XY,t);return(0,je.A)({},t,s)})(v);return(0,$e.jsx)(eQ,(0,je.A)({type:"checkbox",inputProps:(0,je.A)({"data-indeterminate":c},d),icon:r.cloneElement(m,{fontSize:null!=(n=m.props.fontSize)?n:h}),checkedIcon:r.cloneElement(g,{fontSize:null!=(o=g.props.fontSize)?o:h}),ownerState:v,ref:t,className:(0,Ne.A)(y.root,p)},f,{classes:y}))})),iQ=oQ;var sQ=n(6319);const aQ=()=>{const e=Z(),[t,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)({necessary:!0,functionality:!1,analytics:!1});(0,r.useEffect)((()=>{localStorage.getItem("cookiePreferences")||n(!0)}),[]);const s=e=>t=>{i({...o,[e]:t.target.checked})};return(0,$e.jsxs)(bU,{open:t,onClose:()=>{},maxWidth:"sm",fullWidth:!0,PaperProps:{style:{position:"fixed",bottom:20,right:20,margin:0,maxWidth:"500px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"}},children:[(0,$e.jsxs)(nB,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,$e.jsx)(WT,{variant:"h6",component:"div",children:"Cookie Preferences"}),(0,$e.jsx)(jE,{onClick:()=>n(!1),size:"small",sx:{color:"text.secondary"},children:(0,$e.jsx)(sQ.A,{})})]}),(0,$e.jsx)(pR,{}),(0,$e.jsxs)(cU,{children:[(0,$e.jsx)(WT,{variant:"body1",paragraph:!0,children:"We use cookies to enhance your experience. Please select your preferences:"}),(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,$e.jsx)(KW,{control:(0,$e.jsx)(iQ,{checked:o.necessary,disabled:!0,color:"primary"}),label:(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"body2",fontWeight:"bold",children:"Necessary Cookies"}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",children:"Required for the app to function properly. Cannot be disabled."})]})}),(0,$e.jsx)(KW,{control:(0,$e.jsx)(iQ,{checked:o.functionality,onChange:s("functionality"),color:"primary"}),label:(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"body2",fontWeight:"bold",children:"Functionality Cookies"}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",children:"Remember your preferences and settings."})]})}),(0,$e.jsx)(KW,{control:(0,$e.jsx)(iQ,{checked:o.analytics,onChange:s("analytics"),color:"primary"}),label:(0,$e.jsxs)(Je,{children:[(0,$e.jsx)(WT,{variant:"body2",fontWeight:"bold",children:"Analytics Cookies"}),(0,$e.jsx)(WT,{variant:"body2",color:"text.secondary",children:"Help us understand how you use our app."})]})})]}),(0,$e.jsx)(Je,{sx:{mt:2},children:(0,$e.jsx)(kN,{component:"button",variant:"body2",onClick:()=>{e("/cookies"),n(!1)},sx:{color:"primary.main"},children:"Learn more about how we use cookies"})})]}),(0,$e.jsx)(pR,{}),(0,$e.jsxs)(vF,{sx:{p:2,gap:1},children:[(0,$e.jsx)(nI,{onClick:()=>{localStorage.setItem("cookiePreferences",JSON.stringify(o)),n(!1)},variant:"outlined",color:"primary",sx:{minWidth:"120px"},children:"Save Preferences"}),(0,$e.jsx)(nI,{onClick:()=>{const e={necessary:!0,functionality:!0,analytics:!0};i(e),localStorage.setItem("cookiePreferences",JSON.stringify(e)),n(!1)},variant:"contained",color:"primary",sx:{minWidth:"120px"},children:"Accept All"})]})]})};function lQ(e){return(0,tT.Ay)("MuiBottomNavigation",e)}(0,Ke.A)("MuiBottomNavigation",["root"]);const cQ=["children","className","component","onChange","showLabels","value"],uQ=(0,Xk.Ay)("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"center",height:56,backgroundColor:(t.vars||t).palette.background.paper}})),dQ=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiBottomNavigation"}),{children:o,className:i,component:s="div",onChange:a,showLabels:l=!1,value:c}=n,u=(0,De.A)(n,cQ),d=(0,je.A)({},n,{component:s,showLabels:l}),h=(e=>{const{classes:t}=e;return(0,Qk.A)({root:["root"]},lQ,t)})(d);return(0,$e.jsx)(uQ,(0,je.A)({as:s,className:(0,Ne.A)(h.root,i),ref:t,ownerState:d},u,{children:r.Children.map(o,((e,t)=>{if(!r.isValidElement(e))return null;const n=void 0===e.props.value?t:e.props.value;return r.cloneElement(e,{selected:n===c,showLabel:void 0!==e.props.showLabel?e.props.showLabel:l,value:n,onChange:a})}))}))})),hQ=dQ;function pQ(e){return(0,tT.Ay)("MuiBottomNavigationAction",e)}const fQ=(0,Ke.A)("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),mQ=["className","icon","label","onChange","onClick","selected","showLabel","value"],gQ=(0,Xk.Ay)(kE,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.showLabel&&!n.selected&&t.iconOnly]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({transition:t.transitions.create(["color","padding-top"],{duration:t.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(t.vars||t).palette.text.secondary,flexDirection:"column",flex:"1"},!n.showLabel&&!n.selected&&{paddingTop:14},!n.showLabel&&!n.selected&&!n.label&&{paddingTop:0},{[`&.${fQ.selected}`]:{color:(t.vars||t).palette.primary.main}})})),vQ=(0,Xk.Ay)("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:(e,t)=>t.label})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!n.showLabel&&!n.selected&&{opacity:0,transitionDelay:"0s"},{[`&.${fQ.selected}`]:{fontSize:t.typography.pxToRem(14)}})})),yQ=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiBottomNavigationAction"}),{className:r,icon:o,label:i,onChange:s,onClick:a,value:l}=n,c=(0,De.A)(n,mQ),u=n,d=(e=>{const{classes:t,showLabel:n,selected:r}=e,o={root:["root",!n&&!r&&"iconOnly",r&&"selected"],label:["label",!n&&!r&&"iconOnly",r&&"selected"]};return(0,Qk.A)(o,pQ,t)})(u);return(0,$e.jsxs)(gQ,(0,je.A)({ref:t,className:(0,Ne.A)(d.root,r),focusRipple:!0,onClick:e=>{s&&s(e,l),a&&a(e)},ownerState:u},c,{children:[o,(0,$e.jsx)(vQ,{className:d.label,ownerState:u,children:i})]}))})),bQ=yQ,wQ=(0,yT.A)((0,$e.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),xQ=(0,yT.A)((0,$e.jsx)("path",{d:"M14 6v15H3v-2h2V3h9v1h5v15h2v2h-4V6zm-4 5v2h2v-2z"}),"MeetingRoom"),AQ=(0,yT.A)((0,$e.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),SQ=()=>{const e=Z(),t=X(),{currentUser:n}=Ek();return(0,$e.jsx)($e.Fragment,{children:(0,$e.jsxs)(hQ,{value:t.pathname,onChange:(t,n)=>{e(n)},sx:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"background.paper",borderTop:"1px solid",borderColor:"divider",zIndex:1e3},children:[(0,$e.jsx)(bQ,{label:"Discover",value:"/",icon:(0,$e.jsx)(wQ,{})}),(0,$e.jsx)(bQ,{label:"Side Rooms",value:"/side-rooms",icon:(0,$e.jsx)(xQ,{})}),(0,$e.jsx)(bQ,{label:"Sade AI",value:"/sade-ai",icon:(0,$e.jsx)(FH,{})}),(0,$e.jsx)(bQ,{label:"Profile",value:`/profile/${null===n||void 0===n?void 0:n.uid}`,icon:(0,$e.jsx)(AQ,{})})]})})},_Q=(0,qe.A)({components:{MuiButton:{styleOverrides:{root:{"&.MuiButton-root":{}}}},MuiButtonBase:{styleOverrides:{root:{"&.MuiButtonBase-root":{}}}}}}),CQ=e=>{let{children:t}=e;return(0,$e.jsxs)(Gk,{theme:_Q,children:[(0,$e.jsx)(st,{}),t]})},kQ=()=>{const{currentUser:e}=Ek(),t=X();return!e||["/login","/register"].includes(t.pathname)?null:(0,$e.jsx)(SQ,{})},TQ=()=>{const e="/vibits"===X().pathname;return(0,$e.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[!e&&(0,$e.jsx)(yR,{}),(0,$e.jsx)(Je,{component:"main",sx:{flexGrow:1,pt:{xs:2,sm:3}},children:(0,$e.jsxs)(ye,{children:[(0,$e.jsx)(ge,{path:"/login",element:(0,$e.jsx)(BN,{})}),(0,$e.jsx)(ge,{path:"/register",element:(0,$e.jsx)(IU,{})}),(0,$e.jsx)(ge,{path:"/reset-password",element:(0,$e.jsx)(PU,{})}),(0,$e.jsx)(ge,{path:"/verify-email",element:(0,$e.jsx)(sq,{})}),(0,$e.jsx)(ge,{path:"/setup-source-code",element:(0,$e.jsx)(Hq,{})}),(0,$e.jsx)(ge,{path:"/enter-source-code",element:(0,$e.jsx)(qq,{})}),(0,$e.jsx)(ge,{path:"/reset-source-code",element:(0,$e.jsx)(Gq,{})}),(0,$e.jsx)(ge,{path:"/safety",element:(0,$e.jsx)(YH,{})}),(0,$e.jsx)(ge,{path:"/privacy-policy",element:(0,$e.jsx)(nq,{})}),(0,$e.jsx)(ge,{path:"/about",element:(0,$e.jsx)(rq,{})}),(0,$e.jsx)(ge,{path:"/terms",element:(0,$e.jsx)(oq,{})}),(0,$e.jsx)(ge,{path:"/cookies",element:(0,$e.jsx)(iq,{})}),(0,$e.jsx)(ge,{path:"/",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(gW,{})})}),(0,$e.jsx)(ge,{path:"/profile/:userId",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(pB,{})})}),(0,$e.jsx)(ge,{path:"/settings",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(BB,{})})}),(0,$e.jsx)(ge,{path:"/security",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(tq,{})})}),(0,$e.jsx)(ge,{path:"/search",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(j$,{})})}),(0,$e.jsx)(ge,{path:"/messages",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(vW,{})})}),(0,$e.jsx)(ge,{path:"/side-rooms",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(XW,{})})}),(0,$e.jsx)(ge,{path:"/side-room/:roomId",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(lH,{})})}),(0,$e.jsx)(ge,{path:"/chat/:userId",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(cH,{})})}),(0,$e.jsx)(ge,{path:"/trash",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(aq,{})})}),(0,$e.jsx)(ge,{path:"/profile/:userId/followers",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(lq,{})})}),(0,$e.jsx)(ge,{path:"/profile/:userId/following",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(cq,{})})}),(0,$e.jsx)(ge,{path:"/notifications",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(Lq,{})})}),(0,$e.jsx)(ge,{path:"/account-management",element:(0,$e.jsx)(bq,{children:(0,$e.jsx)(yq,{})})}),(0,$e.jsx)(ge,{path:"/sade-ai",element:(0,$e.jsx)(JW,{})}),(0,$e.jsx)(ge,{path:"*",element:(0,$e.jsx)(me,{to:"/",replace:!0})})]})}),(0,$e.jsx)(aQ,{}),(0,$e.jsx)(I_,{position:"bottom-right"}),(0,$e.jsx)(kQ,{})]})},EQ=()=>(0,$e.jsx)(xq,{children:(0,$e.jsx)(ke,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,$e.jsx)(CQ,{children:(0,$e.jsxs)(Yk,{children:[(0,$e.jsx)(st,{}),(0,$e.jsx)(BM,{dateAdapter:GY,children:(0,$e.jsx)(Tk,{children:(0,$e.jsx)(hB,{children:(0,$e.jsx)(jk,{children:(0,$e.jsx)(Oq,{children:(0,$e.jsx)(TQ,{})})})})})})]})})})});i.createRoot(document.getElementById("root")).render((0,$e.jsx)(EQ,{}))})()})();