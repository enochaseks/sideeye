/*! For license information please see main.1b079463.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var I=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case _:return"Suspense";case k:return"SuspenseList";case I:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return N(e(t))}catch(Oc){}}return null}var j=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],F=-1;function $(e){return{current:e}}function z(e){0>F||(e.current=L[F],L[F]=null,F--)}function B(e,t){F++,L[F]=e.current,e.current=t}var U=$(null),V=$(null),W=$(null),q=$(null);function H(e,t){switch(B(W,t),B(V,e),B(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sd(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(U),B(U,e)}function K(){z(U),z(V),z(W)}function G(e){null!==e.memoizedState&&B(q,e);var t=U.current,n=sd(t,e.type);t!==n&&(B(V,e),B(U,n))}function Q(e){V.current===e&&(z(U),z(V)),q.current===e&&(z(q),Qd._currentValue=M)}var Y=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,se=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=ye(r):0!==(s&=a)?i=ye(s):n||0!==(n=a&~e)&&(i=ye(n)):0!==(a=r&~o)?i=ye(a):0!==s?i=ye(s):n||0!==(n=r&~e)&&(i=ye(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function _e(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ie(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Re(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:uh(e.type)}var Ae=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Ae,je="__reactProps$"+Ae,Oe="__reactContainer$"+Ae,De="__reactEvents$"+Ae,Me="__reactListeners$"+Ae,Le="__reactHandles$"+Ae,Fe="__reactResources$"+Ae,$e="__reactMarker$"+Ae;function ze(e){delete e[Ne],delete e[je],delete e[De],delete e[Me],delete e[Le]}function Be(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Ne]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[Ne])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Ne]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function We(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[$e]=!0}var He=new Set,Ke={};function Ge(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)He.add(t[e])}var Ye,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(Oc){var t=Oc.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<Oc.stack.indexOf("\n    at")?" (<anonymous>)":-1<Oc.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var ot=!1;function st(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Oc){var r=Oc}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(Oc){return"\nError generating stack: "+Oc.message+"\n"+Oc.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(zN){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ct(t)):null!=n?yt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function vt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(j(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&kt(e,o,t[o])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,jt=null;function Ot(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[je]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[je]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Mt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Nt||null!==jt)&&(Uc(),Nt&&(t=Nt,e=jt,jt=Nt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[je]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),$t=!1;if(Ft)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(zN){$t=!1}var Bt=null,Ut=null,Vt=null;function Wt(){if(Vt)return Vt;var e,t,n=Ut,r=n.length,i="value"in Bt?Bt.value:Bt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Vt=i.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ht(){return!0}function Kt(){return!1}function Gt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ht:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ht)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ht)},persist:function(){},isPersistent:Ht}),t}var Qt,Yt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Gt(nn),on=Gt(h({},nn,{dataTransfer:0})),sn=Gt(h({},en,{relatedTarget:0})),an=Gt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return pn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Gt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Gt(h({},Jt,{newState:0,oldState:0})),xn=[9,13,27,32],Sn=Ft&&"CompositionEvent"in window,_n=null;Ft&&"documentMode"in document&&(_n=document.documentMode);var kn=Ft&&"TextEvent"in window&&!_n,Cn=Ft&&(!Sn||_n&&8<_n&&11>=_n),En=String.fromCharCode(32),In=!1;function Tn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function jn(e,t,n,r){Nt?jt?jt.push(r):jt=[r]:Nt=r,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Dn=null;function Mn(e){Lu(e,0)}function Ln(e){if(ht(Ve(e)))return e}function Fn(e,t){if("change"===e)return t}var $n=!1;if(Ft){var zn;if(Ft){var Bn="oninput"in document;if(!Bn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Bn="function"===typeof Un.oninput}zn=Bn}else zn=!1;$n=zn&&(!document.documentMode||9<document.documentMode)}function Vn(){On&&(On.detachEvent("onpropertychange",Wn),Dn=On=null)}function Wn(e){if("value"===e.propertyName&&Ln(Dn)){var t=[];jn(t,Dn,e,At(e)),Mt(Mn,t)}}function qn(e,t,n){"focusin"===e?(Vn(),Dn=n,(On=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&Vn()}function Hn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Dn)}function Kn(e,t){if("click"===e)return Ln(t)}function Gn(e,t){if("input"===e||"change"===e)return Ln(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Yn(or,r)||(or=r,0<(r=qu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),fr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),Ge(t,[e])}xr.push("scrollEnd");var _r=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=_r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},_r.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Cr=[],Er=0,Ir=0;function Tr(){for(var e=Er,t=Ir=Er=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var o=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Nr(n,i,o)}}function Pr(e,t,n,r){Cr[Er++]=e,Cr[Er++]=t,Cr[Er++]=n,Cr[Er++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Pr(e,t,n,r),jr(e)}function Ar(e,t){return Pr(e,null,null,t),jr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-pe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function jr(e){if(50<Nc)throw Nc=0,jc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Dr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $r(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)Lr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case I:return(e=Mr(31,n,t,i)).elementType=I,e.lanes=o,e;case g:return Br(n.children,i,o,t);case v:a=8,i|=24;break;case y:return(e=Mr(12,n,t,2|i)).elementType=y,e.lanes=o,e;case _:return(e=Mr(13,n,t,i)).elementType=_,e.lanes=o,e;case k:return(e=Mr(19,n,t,i)).elementType=k,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:a=10;break e;case w:a=9;break e;case S:a=11;break e;case C:a=14;break e;case E:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Vr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],qr=0,Hr=null,Kr=0,Gr=[],Qr=0,Yr=null,Xr=1,Jr="";function Zr(e,t){Wr[qr++]=Kr,Wr[qr++]=Hr,Hr=e,Kr=t}function ei(e,t,n){Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Yr=e;var r=Xr;e=Jr;var i=32-pe(r)-1;r&=~(1<<i),n+=1;var o=32-pe(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xr=1<<32-pe(t)+i|n<<i|r,Jr=o+e}else Xr=1<<o|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Hr;)Hr=Wr[--qr],Wr[qr]=null,Kr=Wr[--qr],Wr[qr]=null;for(;e===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null,Xr=Gr[--Qr],Gr[Qr]=null}var ri=null,ii=null,oi=!1,si=null,ai=!1,li=Error(s(519));function ci(e){throw mi(kr(Error(s(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ne]=e,t[je]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Fu(Du[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(ai=!1);case 27:case 3:return void(ai=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!oi)return di(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ad(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=bd,bd=null,ii=e):ii=n):ii=ri?yd(e.stateNode.nextSibling):null;return!0}function pi(){ii=ri=null,oi=!1}function fi(){var e=si;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),si=null),e}function mi(e){null===si?si=[e]:si.push(e)}var gi=$(null),vi=null,yi=null;function bi(e,t,n){B(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,z(gi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xi(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),xi(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function _i(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===q.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}i=i.return}null!==e&&Si(t,e,n,r),t.flags|=262144}function ki(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){vi=e,yi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ei(e){return Ti(vi,e)}function Ii(e,t){return null===vi&&Ci(e),Ti(e,t)}function Ti(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yi){if(null===e)throw Error(s(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return n}var Pi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ri=r.unstable_scheduleCallback,Ai=r.unstable_NormalPriority,Ni={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ji(){return{controller:new Pi,data:new Map,refCount:0}}function Oi(e){e.refCount--,0===e.refCount&&Ri(Ai,(function(){e.controller.abort()}))}var Di=null,Mi=0,Li=0,Fi=null;function $i(){if(0===--Mi&&null!==Di){null!==Fi&&(Fi.status="fulfilled");var e=Di;Di=null,Li=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zi=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Di){var n=Di=[];Mi=0,Li=Ru(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then($i,$i)}(0,t),null!==zi&&zi(e,t)};var Bi=$(null);function Ui(){var e=Bi.current;return null!==e?e:rc.pooledCache}function Vi(e,t){B(Bi,null===t?Bi.current:t.pool)}function Wi(){var e=Ui();return null===e?null:{parent:Ni._currentValue,pool:e}}var qi=Error(s(460)),Hi=Error(s(474)),Ki=Error(s(542)),Gi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Xi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Ji=t,qi}}var Ji=null;function Zi(){if(null===Ji)throw Error(s(459));var e=Ji;return Ji=null,e}function eo(e){if(e===qi||e===Ki)throw Error(s(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=jr(e),Nr(e,null,n),t}return Pr(e,r,t,n),jr(e)}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}function ao(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==Fi)throw Fi}}function uo(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var p=-536870913&a.lane,f=p!==a.lane;if(f?(oc&p)===p:(r&p)===p){0!==p&&p===Li&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;p=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(v,d,p):m)||void 0===p)break e;d=h({},d,p);break e;case 2:to=!0}}null!==(p=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=p;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),pc|=s,e.lanes=s,e.memoizedState=d}}function ho(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function po(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var fo=$(null),mo=$(0);function go(e,t){B(mo,e=dc),B(fo,t),dc=e|t.baseLanes}function vo(){B(mo,dc),B(fo,fo.current)}function yo(){dc=mo.current,z(fo),z(mo)}var bo=0,wo=null,xo=null,So=null,_o=!1,ko=!1,Co=!1,Eo=0,Io=0,To=null,Po=0;function Ro(){throw Error(s(321))}function Ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function No(e,t,n,r,i,o){return bo=o,wo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Hs:Ks,Co=!1,o=n(r,i),Co=!1,ko&&(o=Oo(t,n,r,i)),jo(e),o}function jo(e){O.H=qs;var t=null!==xo&&null!==xo.next;if(bo=0,So=xo=wo=null,_o=!1,Io=0,To=null,t)throw Error(s(300));null===e||Ia||null!==(e=e.dependencies)&&ki(e)&&(Ia=!0)}function Oo(e,t,n,r){wo=e;var i=0;do{if(ko&&(To=null),Io=0,ko=!1,25<=i)throw Error(s(301));if(i+=1,So=xo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}O.H=Gs,o=t(n,r)}while(ko);return o}function Do(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Bo(t):t,e=e.useState()[0],(null!==xo?xo.memoizedState:null)!==e&&(wo.flags|=1024),t}function Mo(){var e=0!==Eo;return Eo=0,e}function Lo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fo(e){if(_o){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}_o=!1}bo=0,So=xo=wo=null,ko=!1,Io=Eo=0,To=null}function $o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===So?wo.memoizedState=So=e:So=So.next=e,So}function zo(){if(null===xo){var e=wo.alternate;e=null!==e?e.memoizedState:null}else e=xo.next;var t=null===So?wo.memoizedState:So.next;if(null!==t)So=t,xo=e;else{if(null===e){if(null===wo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(xo=e).memoizedState,baseState:xo.baseState,baseQueue:xo.baseQueue,queue:xo.queue,next:null},null===So?wo.memoizedState=So=e:So=So.next=e}return So}function Bo(e){var t=Io;return Io+=1,null===To&&(To=[]),e=Xi(To,e,t),t=wo,null===(null===So?t.memoizedState:So.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Hs:Ks),e}function Uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bo(e);if(e.$$typeof===x)return Ei(e)}throw Error(s(438,String(e)))}function Vo(e){var t=null,n=wo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function Wo(e,t){return"function"===typeof t?t(e):t}function qo(e){return Ho(zo(),xo,e)}function Ho(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(bo&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Li&&(d=!0);else{if((bo&p)===p){u=u.next,p===Li&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,wo.lanes|=p,pc|=p}h=u.action,Co&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=o):c=c.next=p,wo.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Qn(o,e.memoizedState)&&(Ia=!0,d&&null!==(n=Fi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ko(e){var t=zo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Qn(o,t.memoizedState)||(Ia=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Go(e,t,n){var r=wo,i=zo(),o=oi;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Qn((xo||i).memoizedState,n);if(a&&(i.memoizedState=n,Ia=!0),i=i.queue,vs(2048,8,Xo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==So&&1&So.memoizedState.tag){if(r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,i,n,t),null),null===rc)throw Error(s(349));o||0!==(124&bo)||Qo(r,t,n)}return n}function Qo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yo(e,t,n,r){t.value=n,t.getSnapshot=r,Jo(t)&&Zo(e)}function Xo(e,t,n){return n((function(){Jo(t)&&Zo(e)}))}function Jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(PI){return!0}}function Zo(e){var t=Ar(e,2);null!==t&&Lc(t,e,2)}function es(e){var t=$o();if("function"===typeof e){var n=e;if(e=n(),Co){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,Ho(e,xo,"function"===typeof r?r:Wo)}function ns(e,t,n,r,i){if(Us(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==O.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,rs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function rs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=O.T,s={};O.T=s;try{var a=n(i,r),l=O.S;null!==l&&l(s,a),is(e,t,a)}catch(PI){ss(e,t,PI)}finally{O.T=o}}else try{is(e,t,o=n(i,r))}catch(c){ss(e,t,c)}}function is(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){os(e,t,n)}),(function(n){return ss(e,t,n)})):os(e,t,n)}function os(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==r)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function cs(e,t){if(oi){var n=rc.formState;if(null!==n){e:{var r=wo;if(oi){if(ii){t:{for(var i=ii,o=ai;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=yd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=yd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=$o()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=$s.bind(null,wo,r),r.dispatch=n,r=es(!1),o=Bs.bind(null,wo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=$o()).queue=i,n=ns.bind(null,wo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function us(e){return ds(zo(),xo,e)}function ds(e,t,n){if(t=Ho(e,t,ls)[0],e=qo(Wo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bo(t)}catch(Oc){if(Oc===qi)throw Ki;throw Oc}else r=t;var i=(t=zo()).queue,o=i.dispatch;return n!==t.memoizedState&&(wo.flags|=2048,fs(9,{destroy:void 0,resource:void 0},hs.bind(null,i,n),null)),[r,o,e]}function hs(e,t){e.action=t}function ps(e){var t=zo(),n=xo;if(null!==n)return ds(t,n,e);zo(),t=t.memoizedState;var r=(n=zo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return zo().memoizedState}function gs(e,t,n,r){var i=$o();r=void 0===r?null:r,wo.flags|=e,i.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,r)}function vs(e,t,n,r){var i=zo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==xo&&null!==r&&Ao(r,xo.memoizedState.deps)?i.memoizedState=fs(t,o,n,r):(wo.flags|=e,i.memoizedState=fs(1|t,o,n,r))}function ys(e,t){gs(8390656,8,e,t)}function bs(e,t){vs(2048,8,e,t)}function ws(e,t){return vs(4,2,e,t)}function xs(e,t){return vs(4,4,e,t)}function Ss(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function _s(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vs(4,4,Ss.bind(null,t,e),n)}function ks(){}function Cs(e,t){var n=zo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Es(e,t){var n=zo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ao(t,r[1]))return r[0];if(r=e(),Co){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Is(e,t,n){return void 0===n||0!==(1073741824&bo)?e.memoizedState=t:(e.memoizedState=n,e=Mc(),wo.lanes|=e,pc|=e,n)}function Ts(e,t,n,r){return Qn(n,t)?n:null!==fo.current?(e=Is(e,n,r),Qn(e,t)||(Ia=!0),e):0===(42&bo)?(Ia=!0,e.memoizedState=n):(e=Mc(),wo.lanes|=e,pc|=e,t)}function Ps(e,t,n,r,i){var o=D.p;D.p=0!==o&&8>o?o:8;var s=O.T,a={};O.T=a,Bs(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r);zs(e,t,u,Dc())}else zs(e,t,r,Dc())}catch(PI){zs(e,t,{then:function(){},status:"rejected",reason:PI},Dc())}finally{D.p=o,O.T=s}}function Rs(){}function As(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=Ns(e).queue;Ps(e,i,t,M,null===n?Rs:function(){return js(e),n(r)})}function Ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function js(e){zs(e,Ns(e).next.queue,{},Dc())}function Os(){return Ei(Qd)}function Ds(){return zo().memoizedState}function Ms(){return zo().memoizedState}function Ls(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=oo(t,e=io(n),n);return null!==r&&(Lc(r,t,n),so(r,t,n)),t={cache:ji()},void(e.payload=t)}t=t.return}}function Fs(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Us(e)?Vs(t,n):null!==(n=Rr(e,t,n,r))&&(Lc(n,e,r),Ws(n,t,r))}function $s(e,t,n){zs(e,t,n,Dc())}function zs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Us(e))Vs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Qn(a,s))return Pr(e,t,i,0),null===rc&&Tr(),!1}catch(PI){}if(null!==(n=Rr(e,t,i,r)))return Lc(n,e,r),Ws(n,t,r),!0}return!1}function Bs(e,t,n,r){if(r={lane:2,revertLane:Ru(),action:r,hasEagerState:!1,eagerState:null,next:null},Us(e)){if(t)throw Error(s(479))}else null!==(t=Rr(e,n,r,2))&&Lc(t,e,2)}function Us(e){var t=e.alternate;return e===wo||null!==t&&t===wo}function Vs(e,t){ko=_o=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ws(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}var qs={readContext:Ei,use:Uo,useCallback:Ro,useContext:Ro,useEffect:Ro,useImperativeHandle:Ro,useLayoutEffect:Ro,useInsertionEffect:Ro,useMemo:Ro,useReducer:Ro,useRef:Ro,useState:Ro,useDebugValue:Ro,useDeferredValue:Ro,useTransition:Ro,useSyncExternalStore:Ro,useId:Ro,useHostTransitionStatus:Ro,useFormState:Ro,useActionState:Ro,useOptimistic:Ro,useMemoCache:Ro,useCacheRefresh:Ro},Hs={readContext:Ei,use:Uo,useCallback:function(e,t){return $o().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:ys,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4194308,4,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){gs(4,2,e,t)},useMemo:function(e,t){var n=$o();t=void 0===t?null:t;var r=e();if(Co){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=$o();if(void 0!==n){var i=n(t);if(Co){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fs.bind(null,wo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},$o().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=$s.bind(null,wo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Is($o(),e,t)},useTransition:function(){var e=es(!1);return e=Ps.bind(null,wo,e.queue,!0,!1),$o().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wo,i=$o();if(oi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&oc)||Qo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,ys(Xo.bind(null,r,o,e),[e]),r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,o,n,t),null),n},useId:function(){var e=$o(),t=rc.identifierPrefix;if(oi){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-pe(Xr)-1)).toString(32)+n),0<(n=Eo++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Po++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Os,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=$o();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bs.bind(null,wo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vo,useCacheRefresh:function(){return $o().memoizedState=Ls.bind(null,wo)}},Ks={readContext:Ei,use:Uo,useCallback:Cs,useContext:Ei,useEffect:bs,useImperativeHandle:_s,useInsertionEffect:ws,useLayoutEffect:xs,useMemo:Es,useReducer:qo,useRef:ms,useState:function(){return qo(Wo)},useDebugValue:ks,useDeferredValue:function(e,t){return Ts(zo(),xo.memoizedState,e,t)},useTransition:function(){var e=qo(Wo)[0],t=zo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Go,useId:Ds,useHostTransitionStatus:Os,useFormState:us,useActionState:us,useOptimistic:function(e,t){return ts(zo(),0,e,t)},useMemoCache:Vo,useCacheRefresh:Ms},Gs={readContext:Ei,use:Uo,useCallback:Cs,useContext:Ei,useEffect:bs,useImperativeHandle:_s,useInsertionEffect:ws,useLayoutEffect:xs,useMemo:Es,useReducer:Ko,useRef:ms,useState:function(){return Ko(Wo)},useDebugValue:ks,useDeferredValue:function(e,t){var n=zo();return null===xo?Is(n,e,t):Ts(n,xo.memoizedState,e,t)},useTransition:function(){var e=Ko(Wo)[0],t=zo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Go,useId:Ds,useHostTransitionStatus:Os,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){var n=zo();return null!==xo?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vo,useCacheRefresh:Ms},Qs=null,Ys=0;function Xs(e){var t=Ys;return Ys+=1,null===Qs&&(Qs=[]),Xi(Qs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&ea(o)===t.type)?(Js(t=i(t,n.props),n),t.return=e,t):(Js(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Br(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Js(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Vr(t,e.mode,n)).return=e,t;case E:return h(e,t=(0,t._init)(t._payload),n)}if(j(t)||R(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Xs(t),n);if(t.$$typeof===x)return h(e,Ii(e,t),n);Zs(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case E:return p(e,t,n=(i=n._init)(n._payload),r)}if(j(n)||R(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Xs(n),r);if(n.$$typeof===x)return p(e,t,Ii(e,n),r);Zs(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(j(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,Xs(r),i);if(r.$$typeof===x)return v(e,t,n,Ii(t,r),i);Zs(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&ea(b)===c.type){n(l,c.sibling),Js(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(Js(d=zr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Vr(u,l.mode,d)).return=l,l=d}return a(l);case E:return y(l,c,u=(b=u._init)(u._payload),d)}if(j(u))return function(i,s,a,l){for(var c=null,u=null,d=s,f=s=0,m=null;null!==d&&f<a.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var g=p(i,d,a[f],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),s=o(g,s,f),null===u?c=g:u.sibling=g,u=g,d=m}if(f===a.length)return n(i,d),oi&&Zr(i,f),c;if(null===d){for(;f<a.length;f++)null!==(d=h(i,a[f],l))&&(s=o(d,s,f),null===u?c=d:u.sibling=d,u=d);return oi&&Zr(i,f),c}for(d=r(d);f<a.length;f++)null!==(m=v(d,i,f,a[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),s=o(m,s,f),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),oi&&Zr(i,f),c}(l,c,u,d);if(R(u)){if("function"!==typeof(b=R(u)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,f=a,m=a=0,g=null,y=l.next();null!==f&&!y.done;m++,y=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var b=p(i,f,y.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(i,f),a=o(b,a,m),null===d?u=b:d.sibling=b,d=b,f=g}if(y.done)return n(i,f),oi&&Zr(i,m),u;if(null===f){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(a=o(y,a,m),null===d?u=y:d.sibling=y,d=y);return oi&&Zr(i,m),u}for(f=r(f);!y.done;m++,y=l.next())null!==(y=v(f,i,m,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),a=o(y,a,m),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(i,e)})),oi&&Zr(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,Xs(u),d);if(u.$$typeof===x)return y(l,c,Ii(l,u),d);Zs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Ur(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{Ys=0;var i=y(e,t,n,r);return Qs=null,i}catch(Oc){if(Oc===qi||Oc===Ki)throw Oc;var o=Mr(29,Oc,null,e.mode);return o.lanes=r,o.return=e,o}}}var na=ta(!0),ra=ta(!1),ia=$(null),oa=null;function sa(e){var t=e.alternate;B(ua,1&ua.current),B(ia,e),null===oa&&(null===t||null!==fo.current||null!==t.memoizedState)&&(oa=e)}function aa(e){if(22===e.tag){if(B(ua,ua.current),B(ia,e),null===oa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oa=e)}}else la()}function la(){B(ua,ua.current),B(ia,ia.current)}function ca(e){z(ia),oa===e&&(oa=null),z(ua)}var ua=$(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||vd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Lc(t,e,r),so(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Lc(t,e,r),so(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Lc(t,e,n),so(t,e,n))}};function fa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,o))}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var va="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ya(e){va(e)}function ba(e){console.error(e)}function wa(e){va(e)}function xa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Sa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function _a(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){xa(e,t)},n}function ka(e){return(e=io(e)).tag=3,e}function Ca(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Sa(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Sa(t,n,r),"function"!==typeof i&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ea=Error(s(461)),Ia=!1;function Ta(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Pa(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Ci(t),r=No(e,t,n,s,o,i),a=Mo(),null===e||Ia?(oi&&a&&ti(t),t.flags|=1,Ta(e,t,r,i),t.child):(Lo(e,t,i),Qa(e,t,i))}function Ra(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Lr(o)||void 0!==o.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Aa(e,t,o,r,i))}if(o=e.child,!Ya(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return Qa(e,t,i)}return t.flags|=1,(e=Fr(o,r)).ref=t.ref,e.return=t,t.child=e}function Aa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Yn(o,r)&&e.ref===t.ref){if(Ia=!1,t.pendingProps=r=o,!Ya(e,i))return t.lanes=e.lanes,Qa(e,t,i);0!==(131072&e.flags)&&(Ia=!0)}}return Da(e,t,n,r,i)}function Na(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return ja(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,ja(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Vi(0,null!==o?o.cachePool:null),null!==o?go(t,o):vo(),aa(t)}else null!==o?(Vi(0,o.cachePool),go(t,o),la(),t.memoizedState=null):(null!==e&&Vi(0,null),vo(),la());return Ta(e,t,i,n),t.child}function ja(e,t,n,r){var i=Ui();return i=null===i?null:{parent:Ni._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Vi(0,null),vo(),aa(t),null!==e&&_i(e,t,r,!0),null}function Oa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Da(e,t,n,r,i){return Ci(t),n=No(e,t,n,r,void 0,i),r=Mo(),null===e||Ia?(oi&&r&&ti(t),t.flags|=1,Ta(e,t,n,i),t.child):(Lo(e,t,i),Qa(e,t,i))}function Ma(e,t,n,r,i,o){return Ci(t),t.updateQueue=null,n=Oo(t,r,n,i),jo(e),r=Mo(),null===e||Ia?(oi&&r&&ti(t),t.flags|=1,Ta(e,t,n,o),t.child):(Lo(e,t,o),Qa(e,t,o))}function La(e,t,n,r,i){if(Ci(t),null===t.stateNode){var o=Or,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ei(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=pa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ei(s):Or,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ha(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&pa.enqueueReplaceState(o,o.state,null),uo(t,r,o,i),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=ga(n,a);o.props=l;var c=o.context,u=n.contextType;s=Or,"object"===typeof u&&null!==u&&(s=Ei(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&ma(t,o,r,s),to=!1;var h=t.memoizedState;o.state=h,uo(t,r,o,i),co(),c=t.memoizedState,a||h!==c||to?("function"===typeof d&&(ha(t,n,d,r),c=t.memoizedState),(l=to||fa(t,n,l,r,h,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=ga(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=Ei(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ma(t,o,r,l),to=!1,h=t.memoizedState,o.state=h,uo(t,r,o,i),co();var p=t.memoizedState;s!==d||h!==p||to||null!==e&&null!==e.dependencies&&ki(e.dependencies)?("function"===typeof a&&(ha(t,n,a,r),p=t.memoizedState),(u=to||fa(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&ki(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Oa(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,i),t.child=na(t,null,n,i)):Ta(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Qa(e,t,i),e}function Fa(e,t,n,r){return pi(),t.flags|=256,Ta(e,t,n,r),t.child}var $a={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function za(e){return{baseLanes:e,cachePool:Wi()}}function Ba(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Ua(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?sa(t):la(),oi){var l,c=ii;if(l=c){e:{for(l=c,c=ai;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return vd(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=i.children,i=i.fallback,o?(la(),c=Wa({mode:"hidden",children:c},o=t.mode),i=Br(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=za(n),o.childLanes=Ba(e,r,n),t.memoizedState=$a,i):(sa(t),Va(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=qa(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),o=i.fallback,c=t.mode,i=Wa({mode:"visible",children:i.children},c),(o=Br(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,na(t,e.child,null,n),(i=t.child).memoizedState=za(n),i.childLanes=Ba(e,r,n),t.memoizedState=$a,t=o);else if(sa(t),vd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=qa(e,t,n)}else if(Ia||_i(e,t,n,!1),r=0!==(n&e.childLanes),Ia||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Te(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Ar(e,i),Lc(r,e,i),Ea;"$?"===c.data||Gc(),t=qa(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yd(c.nextSibling),ri=t,oi=!0,si=null,ai=!1,null!==e&&(Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Xr=e.id,Jr=e.overflow,Yr=t),(t=Va(t,i.children)).flags|=4096);return t}return o?(la(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=Fr(u,o):(o=Br(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=za(n):(null!==(l=c.cachePool)?(u=Ni._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Wi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Ba(e,r,n),t.memoizedState=$a,i):(sa(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Va(e,t){return(t=Wa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wa(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qa(e,t,n){return na(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ha(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function Ka(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ga(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ta(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ha(e,n,t);else if(19===e.tag)Ha(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(ua,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ka(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===da(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ka(t,!0,n,null,o);break;case"together":Ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_i(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ki(e))}function Xa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ia=!0;else{if(!Ya(e,n)&&0===(128&t.flags))return Ia=!1,function(e,t,n){switch(t.tag){case 3:H(t,t.stateNode.containerInfo),bi(0,Ni,e.memoizedState.cache),pi();break;case 27:case 5:G(t);break;case 4:H(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(sa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(sa(t),null!==(e=Qa(e,t,n))?e.sibling:null);sa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(_i(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Ga(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Na(e,t,n);case 24:bi(0,Ni,e.memoizedState.cache)}return Qa(e,t,n)}(e,t,n);Ia=0!==(131072&e.flags)}else Ia=!1,oi&&0!==(1048576&t.flags)&&ei(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===S){t.tag=11,t=Pa(null,t,r,e,n);break e}if(i===C){t.tag=14,t=Ra(null,t,r,e,n);break e}}throw t=N(r)||r,Error(s(306,t,""))}Lr(r)?(e=ga(r,e),t.tag=1,t=La(null,t,r,e,n)):(t.tag=0,t=Da(null,t,r,e,n))}return t;case 0:return Da(e,t,t.type,t.pendingProps,n);case 1:return La(e,t,r=t.type,i=ga(r,t.pendingProps),n);case 3:e:{if(H(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),uo(t,r,null,n);var a=t.memoizedState;if(r=a.cache,bi(0,Ni,r),r!==o.cache&&Si(t,[Ni],n,!0),co(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fa(e,t,r,n);break e}if(r!==i){mi(i=kr(Error(s(424)),t)),t=Fa(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yd(e.firstChild),ri=t,oi=!0,si=null,ai=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===i){t=Qa(e,t,n);break e}Ta(e,t,r,n)}t=t.child}return t;case 26:return Oa(e,t),null===e?(n=Pd(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=id(W.current).createElement(n))[Ne]=t,r[je]=e,td(r,n,e),qe(r),t.stateNode=r):t.memoizedState=Pd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&oi&&(r=t.stateNode=xd(t.type,t.pendingProps,W.current),ri=t,ai=!0,i=ii,fd(t.type)?(bd=i,ii=yd(r.firstChild)):ii=i),Ta(e,t,t.pendingProps.children,n),Oa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ai))?(t.stateNode=r,ri=t,ii=yd(r.firstChild),ai=!1,i=!0):i=!1),i||ci(t)),G(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,ad(i,o)?r=null:null!==a&&ad(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=No(e,t,Do,null,null,n),Qd._currentValue=i),Oa(e,t),Ta(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,ai))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Ua(e,t,n);case 4:return H(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):Ta(e,t,r,n),t.child;case 11:return Pa(e,t,t.type,t.pendingProps,n);case 7:return Ta(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ta(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Ta(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ci(t),r=r(i=Ei(i)),t.flags|=1,Ta(e,t,r,n),t.child;case 14:return Ra(e,t,t.type,t.pendingProps,n);case 15:return Aa(e,t,t.type,t.pendingProps,n);case 19:return Ga(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Wa(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Na(e,t,n);case 24:return Ci(t),r=Ei(Ni),null===e?(null===(i=Ui())&&(i=rc,o=ji(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),bi(0,Ni,i)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Ni,r)):(r=o.cache,bi(0,Ni,r),r!==i.cache&&Si(t,[Ni],n,!0))),Ta(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ja(e){e.flags|=4}function Za(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=ia.current)&&((4194048&oc)===oc?null!==oa:(62914560&oc)!==oc&&0===(536870912&oc)||t!==oa))throw Ji=Gi,Hi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Ni),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Ja(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Ja(t),null!==n?(nl(t),Za(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ja(t),nl(t),Za(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ja(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=W.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=U.current,hi(t)?ui(t):(e=xd(i,r,n),t.stateNode=e,Ja(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=U.current,hi(t))ui(t);else{switch(i=id(W.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ne]=t,e[je]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(td(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ja(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=W.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ne]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||ci(t)}else(e=id(e).createTextNode(r))[Ne]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Ne]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=fi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&Bu(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(z(ua),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=da(e))){for(t.flags|=128,tl(i,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)$r(n,e),n=n.sibling;return B(ua,1&ua.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Sc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=da(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return nl(t),null}else 2*te()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ua.current,B(ua,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),yo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Bi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Ni),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Ni),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(ua),null;case 4:return K(),null;case 10:return wi(t.type),null;case 22:case 23:return ca(t),yo(),null!==e&&z(Bi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Ni),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:wi(Ni),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:ca(t);break;case 19:z(ua);break;case 10:wi(t.type);break;case 22:case 23:ca(t),yo(),null!==e&&z(Bi);break;case 24:wi(Ni)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(PI){du(t,t.return,PI)}}function al(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(PI){du(i,l,PI)}}}r=r.next}while(r!==o)}}catch(PI){du(t,t.return,PI)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{po(t,n)}catch(PI){du(e,e.return,PI)}}}function cl(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(PI){du(e,t,PI)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(PI){du(e,t,PI)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(PI){du(e,t,PI)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){du(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(PI){du(e,e.return,PI)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||Zu(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":o=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&Zu(e,t,p,f,r,h)}}return void gt(e,a,l,c,u,d,o,i);case"select":for(o in f=a=l=p=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(o)||Zu(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":p=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&Zu(e,t,i,o,r,c)}return t=l,n=a,r=f,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&Zu(e,t,a,i,r,o)}return void wt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zu(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Zu(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Zu(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Zu(e,t,u,p,r,f)}return;default:if(Et(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&ed(e,t,v,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||ed(e,t,d,p,r,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&Zu(e,t,y,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||Zu(e,t,h,p,r,f)}(r,e.type,n,t),r[je]=t}catch(PI){du(e,e.return,PI)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);td(t,r,n),t[Ne]=e,t[je]=n}catch(PI){du(e,e.return,PI)}}var bl=!1,wl=!1,xl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,_l=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&sl(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(PI){du(n,n.return,PI)}else{var i=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){du(n,n.return,s)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{po(e,t)}catch(PI){du(n,n.return,PI)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Rl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var o=wl;bl=r,(wl=t)&&!o?$l(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),bl=i,wl=o}break;case 30:break;default:Ll(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Il=!1;function Tl(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:wl||dl(n,t),Tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=El,i=Il;fd(n.type)&&(El=n.stateNode,Il=!1),Tl(e,t,n),Sd(n.stateNode),El=r,Il=i;break;case 5:wl||dl(n,t);case 6:if(r=El,i=Il,El=null,Tl(e,t,n),Il=i,null!==(El=r))if(Il)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(PI){du(n,t,PI)}else try{El.removeChild(n.stateNode)}catch(PI){du(n,t,PI)}break;case 18:null!==El&&(Il?(md(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Th(e)):md(El,n.stateNode));break;case 4:r=El,i=Il,El=n.stateNode.containerInfo,Il=!0,Tl(e,t,n),El=r,Il=i;break;case 0:case 11:case 14:case 15:wl||al(2,n,t),wl||al(4,n,t),Tl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Tl(e,t,n);break;case 21:Tl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Tl(e,t,n),wl=r;break;default:Tl(e,t,n)}}function Rl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Th(e)}catch(PI){du(t,t.return,PI)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Nl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){El=l.stateNode,Il=!1;break e}break;case 5:El=l.stateNode,Il=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Il=!0;break e}l=l.return}if(null===El)throw Error(s(160));Pl(o,a,i),El=null,Il=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var jl=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nl(t,e),Dl(e),4&r&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:Nl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=jl;if(Nl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[$e]||o[Ne]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),td(o,r,n),o[Ne]=e,qe(o),r=o;break e;case"link":var a=zd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}td(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=zd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}td(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Ne]=e,qe(o),r=o}e.stateNode=r}else Bd(i,e.type,e.stateNode);else e.stateNode=Dd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Bd(i,e.type,e.stateNode):Dd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(PI){du(e,e.return,PI)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(xl=!0);break;case 6:if(Nl(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(PI){du(e,e.return,PI)}}break;case 3:if($d=null,i=jl,jl=Cd(t.containerInfo),Nl(t,e),jl=i,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Th(t.containerInfo)}catch(PI){du(e,e.return,PI)}xl&&(xl=!1,Ml(e));break;case 4:r=jl,jl=Cd(e.stateNode.containerInfo),Nl(t,e),Dl(e),jl=r;break;case 12:default:Nl(t,e),Dl(e);break;case 13:Nl(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||i,wl=d||c,Nl(t,e),wl=d,bl=u,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||wl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(PI){du(c,c.return,PI)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(PI){du(c,c.return,PI)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:Nl(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,ml(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),vl(e,ml(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;gl(e,ml(e),a);break;default:throw Error(s(161))}}catch(PI){du(e,e.return,PI)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:Sd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:$l(i,o,n),sl(4,o);break;case 1:if($l(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(PI){du(r,r.return,PI)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ho(l[i],a)}catch(PI){du(r,r.return,PI)}}n&&64&s&&ll(o),ul(o,o.return);break;case 27:yl(o);case 26:case 5:$l(i,o,n),n&&null===r&&4&s&&hl(o),ul(o,o.return);break;case 12:$l(i,o,n);break;case 13:$l(i,o,n),n&&4&s&&Rl(i,o);break;case 22:null===o.memoizedState&&$l(i,o,n),ul(o,o.return);break;case 30:break;default:$l(i,o,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oi(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e))}function Ul(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vl(e,t,n,r),t=t.sibling}function Vl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Ul(e,t,n,r);break;case 3:Ul(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e)));break;case 12:if(2048&i){Ul(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(PI){du(t,t.return,PI)}}else Ul(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Ul(e,t,n,r):ql(e,t):2&o._visibility?Ul(e,t,n,r):(o._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&zl(s,t);break;case 24:Ul(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Wl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Wl(o,s,a,l,i),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Wl(o,s,a,l,i):ql(o,s):(u._visibility|=2,Wl(o,s,a,l,i)),i&&2048&c&&zl(s.alternate,s);break;case 24:Wl(o,s,a,l,i),i&&2048&c&&Bl(s.alternate,s);break;default:Wl(o,s,a,l,i)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:ql(n,r),2048&i&&zl(r.alternate,r);break;case 24:ql(n,r),2048&i&&Bl(r.alternate,r);break;default:ql(n,r)}t=t.sibling}}var Hl=8192;function Kl(e){if(e.subtreeFlags&Hl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Kl(e),e.flags&Hl&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(s(475));var r=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Rd(n.href),o=e.querySelector(Ad(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void qe(o);o=e.ownerDocument||e,n=Nd(n),(i=_d.get(i))&&Ld(n,i),qe(o=o.createElement("link"));var a=o;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),td(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(jl,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=jl;jl=Cd(e.stateNode.containerInfo),Kl(e),jl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Hl,Hl=16777216,Kl(e),Hl=t):Kl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Yl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==_l;){var n=_l;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,_l=r;else e:for(n=e;null!==_l;){var i=(r=_l).sibling,o=r.return;if(Cl(r),r===n){_l=null;break e}if(null!==i){i.return=o,_l=i;break e}_l=o}}}var ec={getCacheForType:function(e){var t=Ei(Ni),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,oc=0,sc=0,ac=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,pc=0,fc=0,mc=0,gc=0,vc=0,yc=null,bc=null,wc=!1,xc=0,Sc=1/0,_c=null,kc=null,Cc=0,Ec=null,Ic=null,Tc=0,Pc=0,Rc=null,Ac=null,Nc=0,jc=null;function Dc(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==O.T){return 0!==Li?Li:Ru()}return Re()}function Mc(){0===gc&&(gc=0===(536870912&oc)||oi?Se():536870912);var e=ia.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Wc(e,0),Bc(e,oc,gc,!1)),Ce(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(fc|=n),4===hc&&Bc(e,oc,gc,!1)),_u(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Hc(),i=Kc();rc!==e||oc!==t?(_c=null,Sc=te()+500,Wc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==sc&&null!==ic){t=ic;var o=ac;t:switch(sc){case 1:sc=0,ac=null,eu(e,t,o,1);break;case 2:case 9:if(Qi(o)){sc=0,ac=null,Zc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),_u(e)},o.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Qi(o)?(sc=0,ac=null,Zc(t)):(sc=0,ac=null,eu(e,t,o,7));break;case 5:var a=null;switch(ic.tag){case 26:a=ic.memoizedState;case 5:case 27:var l=ic;if(!a||Ud(a)){sc=0,ac=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,tu(u)):ic=null}break t}}sc=0,ac=null,eu(e,t,o,5);break;case 6:sc=0,ac=null,eu(e,t,o,6);break;case 8:Vc(),hc=6;break e;default:throw Error(s(462))}}Xc();break}catch(d){qc(e,d)}return yi=vi=null,O.H=r,O.A=i,nc=n,null!==ic?0:(rc=null,oc=0,Tr(),hc)}(e,t):Qc(e,t,!0),o=r;;){if(0===i){cc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!o||zc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,a).flags|=256),2!==(a=Qc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,fc|=o,i=4;break e}o=bc,bc=i,null!==o&&(null===bc?bc=o:bc.push.apply(bc,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){Wc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=xc+300-te())){if(Bc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=cd($c.bind(null,r,n,bc,_c,wc,t,gc,fc,vc,lc,o,2,-0,0),i)}else $c(r,n,bc,_c,wc,t,gc,fc,vc,lc,o,0,-0,0)}break}i=Qc(e,t,!1),o=!1}_u(e)}function $c(e,t,n,r,i,o,a,l,c,u,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Vd={stylesheets:null,count:0,unsuspend:Wd},Gl(t),null!==(h=function(){if(null===Vd)throw Error(s(475));var e=Vd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,o,n,r,i,a,l,c,d,1,p,f)),void Bc(e,o,a,!u);ru(e,t,o,n,r,i,a,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qn(o(),i))return!1}catch(PI){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-pe(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Ee(e,n,t)}function Uc(){return 0!==(6&nc)||(ku(0,!1),!1)}function Vc(){if(null!==ic){if(0===sc)var e=ic.return;else yi=vi=null,Fo(e=ic),Qs=null,Ys=0,e=ic;for(;null!==e;)ol(e.alternate,e),e=e.return;ic=null}}function Wc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),rc=e,ic=n=Fr(e.current,null),oc=t,sc=0,ac=null,lc=!1,cc=we(e,t),uc=!1,vc=gc=mc=fc=pc=hc=0,bc=yc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-pe(r),o=1<<i;t|=e[i],r&=~o}return dc=t,Tr(),n}function qc(e,t){wo=null,O.H=qs,t===qi||t===Ki?(t=Zi(),sc=3):t===Hi?(t=Zi(),sc=4):sc=t===Ea?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===ic&&(hc=1,xa(e,kr(t,e.current)))}function Hc(){var e=O.H;return O.H=qs,null===e?qs:e}function Kc(){var e=O.A;return O.A=ec,e}function Gc(){hc=4,lc||(4194048&oc)!==oc&&null!==ia.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===rc||Bc(rc,oc,gc,!1)}function Qc(e,t,n){var r=nc;nc|=2;var i=Hc(),o=Kc();rc===e&&oc===t||(_c=null,Wc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ic){var a=ic,l=ac;switch(sc){case 8:Vc(),s=6;break e;case 3:case 2:case 9:case 6:null===ia.current&&(t=!0);var c=sc;if(sc=0,ac=null,eu(e,a,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,ac=null,eu(e,a,l,c)}}Yc(),s=hc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,yi=vi=null,nc=r,O.H=i,O.A=o,null===ic&&(rc=null,oc=0,Tr()),s}function Yc(){for(;null!==ic;)Jc(ic)}function Xc(){for(;null!==ic&&!Z();)Jc(ic)}function Jc(e){var t=Xa(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?tu(e):ic=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ma(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Ma(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Fo(t);default:ol(n,t),t=Xa(n,t=ic=$r(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?tu(e):ic=t}function eu(e,t,n,r){yi=vi=null,Fo(t),Qs=null,Ys=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&_i(t,n,i,!0),null!==(n=ia.current)){switch(n.tag){case 13:return null===oa?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(s(435,n.tag))}return hu(e,r,i),Gc(),!1}if(oi)return null!==(t=ia.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(kr(e=Error(s(422),{cause:r}),n))):(r!==li&&mi(kr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=kr(r,n),ao(e,i=_a(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var o=Error(s(520),{cause:r});if(o=kr(o,n),null===yc?yc=[o]:yc.push(o),4!==hc&&(hc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ao(n,e=_a(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===kc||!kc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Ca(i=ka(i),e,n,r),ao(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return hc=1,xa(e,kr(n,e.current)),void(ic=null)}catch(PI){if(null!==i)throw ic=i,PI;return hc=1,xa(e,kr(n,e.current)),void(ic=null)}32768&t.flags?(oi||1===r?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ia.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function nu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function ru(e,t,n,r,i,o,a,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==Cc);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-pe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Ee(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Ir,a,l,c),e===rc&&(ic=rc=null,oc=0),Ic=t,Ec=e,Tc=n,Pc=o,Rc=i,Ac=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(oe,(function(){return cu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=D.p,D.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,nd=rh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=a),p===o&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rh=!1,_l=t;null!==_l;)if(e=(t=_l).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,_l=e;else for(;null!==_l;){switch(o=(t=_l).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=ga(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(PI){du(n,n.return,PI)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,_l=e;break}_l=t.return}}(e,t)}finally{nc=a,D.p=i,O.T=r}}Cc=1,iu(),ou(),su()}}function iu(){if(1===Cc){Cc=0;var e=Ec,t=Ic,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{Ol(t,e);var o=rd,s=er(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=a.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(s=g,g=m,m=s);var v=Jn(a,m),y=Jn(a,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(d=[],p=a;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}rh=!!nd,rd=nd=null}finally{nc=i,D.p=r,O.T=n}}e.current=t,Cc=2}}function ou(){if(2===Cc){Cc=0;var e=Ec,t=Ic,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{kl(e,t.alternate,t)}finally{nc=i,D.p=r,O.T=n}}Cc=3}}function su(){if(4===Cc||3===Cc){Cc=0,ee();var e=Ec,t=Ic,n=Tc,r=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cc=5:(Cc=0,Ic=Ec=null,au(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(kc=null),Pe(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=D.p,D.p=2,O.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{O.T=t,D.p=i}}0!==(3&Tc)&&lu(),_u(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===jc?Nc++:(Nc=0,jc=e):Nc=0,ku(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oi(t)))}function lu(e){return iu(),ou(),su(),cu()}function cu(){if(5!==Cc)return!1;var e=Ec,t=Pc;Pc=0;var n=Pe(Tc),r=O.T,i=D.p;try{D.p=32>n?32:n,O.T=null,n=Rc,Rc=null;var o=Ec,a=Tc;if(Cc=0,Ic=Ec=null,Tc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Xl(o.current),Vl(o,o.current,a,n),nc=l,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{D.p=i,O.T=r,au(e,t)}}function uu(e,t,n){t=kr(n,t),null!==(e=oo(e,t=_a(e.stateNode,t,2),2))&&(Ce(e,2),_u(e))}function du(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=oo(t,n=ka(2),2))&&(Ca(n,r,t,e),Ce(r,2),_u(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===hc||3===hc&&(62914560&oc)===oc&&300>te()-xc?0===(2&nc)&&Wc(e,0):mc|=n,vc===oc&&(vc=0)),_u(e)}function fu(e,t){0===t&&(t=_e()),null!==(e=Ar(e,t))&&(Ce(e,t),_u(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fu(e,n)}var vu=null,yu=null,bu=!1,wu=!1,xu=!1,Su=0;function _u(e){e!==yu&&null===e.next&&(null===yu?vu=yu=e:yu=yu.next=e),wu=!0,bu||(bu=!0,hd((function(){0!==(6&nc)?X(re,Cu):Eu()})))}function ku(e,t){if(!xu&&wu){xu=!0;do{for(var n=!1,r=vu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-pe(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Pu(r,o))}else o=oc,0===(3&(o=be(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,o)||(n=!0,Pu(r,o));r=r.next}}while(n);xu=!1}}function Cu(){Eu()}function Eu(){wu=bu=!1;var e=0;0!==Su&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ld&&(ld=e,!0);return ld=null,!1}()&&(e=Su),Su=0);for(var t=te(),n=null,r=vu;null!==r;){var i=r.next,o=Iu(r,t);0===o?(r.next=null,null===n?vu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&o))&&(wu=!0)),r=i}ku(e,!1)}function Iu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-pe(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=xe(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=oc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Pe(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=ae}return r=Tu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Tu(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Iu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Tu.bind(null,e):null)}function Pu(e,t){if(lu())return null;Fc(e,t,!0)}function Ru(){return 0===Su&&(Su=Se()),Su}function Au(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Nu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var ju=0;ju<xr.length;ju++){var Ou=xr[ju];Sr(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}Sr(pr,"onAnimationEnd"),Sr(fr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(vr,"onTransitionStart"),Sr(yr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(PI){va(PI)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(PI){va(PI)}i.currentTarget=null,o=l}}}}function Fu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Uu(t,e,2,!1),n.add(r))}function $u(e,t,n){var r=0;t&&(r|=4),Uu(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[zu]){e[zu]=!0,He.forEach((function(t){"selectionchange"!==t&&(Mu.has(t)||$u(t,!1,e),$u(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,$u("selectionchange",!1,t))}}function Uu(e,t,n,r){switch(uh(t)){case 2:var i=ih;break;case 8:i=oh;break;default:i=sh}n=i.bind(null,t,n,e),i=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Be(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Mt((function(){var r=o,i=At(n),s=[];e:{var a=wr.get(e);if(void 0!==a){var c=Zt,u=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case pr:case fr:case mr:c=an;break;case br:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==a?a+"Capture":null:a;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Lt(m,p))&&d.push(Wu(m,g,f)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Oe])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?a:Ve(c),f=null==u?a:Ve(u),(a=new d(g,m+"leave",c,n,i)).target=h,a.relatedTarget=f,g=null,Be(i)===r&&((d=new d(p,m+"enter",u,n,i)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(p=u,m=0,f=d=c;f;f=Hu(f))m++;for(f=0,g=p;g;g=Hu(g))f++;for(;0<m-f;)d=Hu(d),m--;for(;0<f-m;)p=Hu(p),f--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Hu(d),p=Hu(p)}d=null}else d=null;null!==c&&Ku(s,a,c,d,!1),null!==u&&null!==h&&Ku(s,h,u,d,!0)}if("select"===(c=(a=r?Ve(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=Fn;else if(Nn(a))if($n)v=Gn;else{v=Hn;var y=qn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Et(r.elementType)&&(v=Fn):v=Kn;switch(v&&(v=v(e,r))?jn(s,v,n,i):(y&&y(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&yt(a,"number",a.value)),y=r?Ve(r):window,e){case"focusin":(Nn(y)||"true"===y.contentEditable)&&(rr=y,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,i)}var b;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Rn?Tn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Cn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Rn&&(b=Wt()):(Ut="value"in(Bt=i)?Bt.value:Bt.textContent,Rn=!0)),0<(y=qu(r,w)).length&&(w=new cn(w,e,null,n,i),s.push({event:w,listeners:y}),b?w.data=b:null!==(b=Pn(n))&&(w.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(In=!0,En);case"textInput":return(e=t.data)===En&&In?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Sn&&Tn(e,t)?(e=Wt(),Vt=Ut=Bt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=qu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,i),s.push({event:y,listeners:w}),y.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Au((i[je]||null).action),s=r.submitter;s&&null!==(t=(t=s[je]||null)?Au(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new Zt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Su){var e=s?Nu(i,s):new FormData(i);As(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Nu(i,s):new FormData(i),As(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Lu(s,t)}))}function Wu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Lt(e,n))&&r.unshift(Wu(e,i,o)),null!=(i=Lt(e,t))&&r.push(Wu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Lt(n,o))&&s.unshift(Wu(n,c,l)):i||null!=(c=Lt(n,o))&&s.push(Wu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Qu,"")}function Xu(e,t){return t=Yu(t),Yu(e)===t}function Ju(){}function Zu(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ct(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Zu(e,t,"name",i.name,i,null),Zu(e,t,"formEncType",i.formEncType,i,null),Zu(e,t,"formMethod",i.formMethod,i,null),Zu(e,t,"formTarget",i.formTarget,i,null)):(Zu(e,t,"encType",i.encType,i,null),Zu(e,t,"method",i.method,i,null),Zu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=It.get(n)||n,r)}}function ed(e,t,n,r,i,o){switch(n){case"style":Ct(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[je]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function td(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zu(e,t,r,a,n,null)}}return o&&Zu(e,t,"srcSet",n.srcSet,n,null),void(i&&Zu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Zu(e,t,i,d,n,null)}}return vt(e,r,l,c,u,a,o,!1),void dt(e);case"select":for(o in Fu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Zu(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(a in Fu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Zu(e,t,a,l,n,null)}return xt(e,i,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(e,t,c,i,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(i=0;i<Du.length;i++)Fu(Du[i],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zu(e,t,u,i,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&ed(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(e,t,l,i,n,null))}var nd=null,rd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ad(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ld=null;var cd="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,dd="function"===typeof Promise?Promise:void 0,hd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof dd?function(e){return dd.resolve(null).then(e).catch(pd)}:cd;function pd(e){setTimeout((function(){throw e}))}function fd(e){return"head"===e}function md(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&Sd(s.documentElement),2&n&&Sd(s.body),4&n)for(Sd(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[$e]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===i)return e.removeChild(o),void Th(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Th(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function vd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Sd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var _d=new Map,kd=new Set;function Cd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=D.d;D.d={f:function(){var e=Ed.f(),t=Uc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?js(t):Ed.r(e)},D:function(e){Ed.D(e),Td("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Td("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=Id;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=Rd(e);break;case"script":o=jd(e)}_d.has(o)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),_d.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ad(o))||"script"===t&&r.querySelector(Od(o))||(td(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=Id;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=jd(e)}if(!_d.has(o)&&(e=h({rel:"modulepreload",href:e},t),_d.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(o)))return}td(r=n.createElement("link"),"link",e),qe(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=Id;if(n&&e){var r=We(n).hoistableScripts,i=jd(e),o=r.get(i);o||((o=n.querySelector(Od(i)))||(e=h({src:e,async:!0},t),(t=_d.get(i))&&Fd(e,t),qe(o=n.createElement("script")),td(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Ed.S(e,t,n);var r=Id;if(r&&e){var i=We(r).hoistableStyles,o=Rd(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Ad(o)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=_d.get(o))&&Ld(e,n);var l=s=r.createElement("link");qe(l),td(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Md(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){Ed.M(e,t);var n=Id;if(n&&e){var r=We(n).hoistableScripts,i=jd(e),o=r.get(i);o||((o=n.querySelector(Od(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=_d.get(i))&&Fd(e,t),qe(o=n.createElement("script")),td(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Id="undefined"===typeof document?null:document;function Td(e,t,n){var r=Id;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),kd.has(i)||(kd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(td(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}}function Pd(e,t,n,r){var i=(i=W.current)?Cd(i):null;if(!i)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Rd(n.href),(r=(n=We(i).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Rd(n.href);var o=We(i).hoistableStyles,a=o.get(e);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,a),(o=i.querySelector(Ad(e)))&&!o._p&&(a.instance=o,a.state.loading=5),_d.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_d.set(e,n),o||function(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",(function(){return r.loading|=1})),t.addEventListener("error",(function(){return r.loading|=2})),td(t,"link",n),qe(t),e.head.appendChild(t))}(i,e,n,a.state))),t&&null===r)throw Error(s(528,""));return a}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=jd(n),(r=(n=We(i).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Rd(e){return'href="'+mt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Nd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function jd(e){return'[src="'+mt(e)+'"]'}function Od(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,qe(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(r=(e.ownerDocument||e).createElement("style")),td(r,"style",i),Md(r,n.precedence,e),t.instance=r;case"stylesheet":i=Rd(n.href);var o=e.querySelector(Ad(i));if(o)return t.state.loading|=4,t.instance=o,qe(o),o;r=Nd(n),(i=_d.get(i))&&Ld(r,i),qe(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),td(o,"link",r),t.state.loading|=4,Md(o,n.precedence,e),t.instance=o;case"script":return o=jd(n.src),(i=e.querySelector(Od(o)))?(t.instance=i,qe(i),i):(r=n,(i=_d.get(o))&&Fd(r=h({},n),i),qe(i=(e=e.ownerDocument||e).createElement("script")),td(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Md(r,n.precedence,e));return t.instance}function Md(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var $d=null;function zd(e,t,n){if(null===$d){var r=new Map,i=$d=new Map;i.set(n,r)}else(r=(i=$d).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[$e]||o[Ne]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function Bd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function Wd(){}function qd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Gd,e),Hd=null,qd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=qd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:x,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Yd(e,t,n,r,i,o,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Xd(e,t,n,r,i,o,s,a,l,c,u,d){return e=new Yd(e,t,n,s,a,l,c,d),t=1,!0===o&&(t|=24),o=Mr(3,null,null,t),e.current=o,o.stateNode=e,(t=ji()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Jd(e){return e?e=Or:Or}function Zd(e,t,n,r,i,o){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Lc(n,0,t),so(n,e,t))}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function nh(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Lc(t,0,67108864),th(e,67108864)}}var rh=!0;function ih(e,t,n,r){var i=O.T;O.T=null;var o=D.p;try{D.p=2,sh(e,t,n,r)}finally{D.p=o,O.T=i}}function oh(e,t,n,r){var i=O.T;O.T=null;var o=D.p;try{D.p=8,sh(e,t,n,r)}finally{D.p=o,O.T=i}}function sh(e,t,n,r){if(rh){var i=ah(r);if(null===i)Vu(e,t,r,lh,n),bh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hh=wh(hh,e,t,n,r,i),!0;case"dragenter":return ph=wh(ph,e,t,n,r,i),!0;case"mouseover":return fh=wh(fh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return mh.set(o,wh(mh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,gh.set(o,wh(gh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==i;){var o=Ue(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=ye(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-pe(s);a.entanglements[1]|=l,s&=~l}_u(o),0===(6&nc)&&(Sc=te()+500,ku(0,!1))}}break;case 13:null!==(a=Ar(o,2))&&Lc(a,0,2),Uc(),th(o,2)}if(null===(o=ah(r))&&Vu(e,t,r,lh,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function ah(e){return ch(e=At(e))}var lh=null;function ch(e){if(lh=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lh=e,null}function uh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var dh=!1,hh=null,ph=null,fh=null,mh=new Map,gh=new Map,vh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":ph=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function wh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ue(t))&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function xh(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,(function(){if(13===n.tag){var e=Dc();e=Te(e);var t=Ar(n,e);null!==t&&Lc(t,0,e),th(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Sh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ah(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&nh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function _h(e,t,n){Sh(e)&&n.delete(t)}function kh(){dh=!1,null!==hh&&Sh(hh)&&(hh=null),null!==ph&&Sh(ph)&&(ph=null),null!==fh&&Sh(fh)&&(fh=null),mh.forEach(_h),gh.forEach(_h)}function Ch(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kh)))}var Eh=null;function Ih(e){Eh!==e&&(Eh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ch(r||n))continue;break}var o=Ue(n);null!==o&&(e.splice(t,3),t-=3,As(o,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Th(e){function t(t){return Ch(t,e)}null!==hh&&Ch(hh,e),null!==ph&&Ch(ph,e),null!==fh&&Ch(fh,e),mh.forEach(t),gh.forEach(t);for(var n=0;n<vh.length;n++){var r=vh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<vh.length&&null===(n=vh[0]).blockedOn;)xh(n),null===n.blockedOn&&vh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[je]||null;if("function"===typeof o)s||Ih(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[je]||null)a=s.formAction;else if(null!==ch(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Ih(n)}}}function Ph(e){this._internalRoot=e}function Rh(e){this._internalRoot=e}Rh.prototype.render=Ph.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Zd(t.current,Dc(),e,t,null,null)},Rh.prototype.unmount=Ph.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),Uc(),t[Oe]=null}},Rh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Re();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vh.length&&0!==t&&t<vh[n].priority;n++);vh.splice(n,0,e),0===n&&xh(e)}};var Ah=i.version;if("19.1.0"!==Ah)throw Error(s(527,Ah,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Nh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{ue=jh.inject(Nh),de=jh}catch(Oh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=ya,o=ba,l=wa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,i,o,l,0,null),e[Oe]=t.current,Bu(e),new Ph(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=ya,l=ba,c=wa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Jd(null),n=t.current,(i=io(r=Te(r=Dc()))).callback=null,oo(n,i,r),n=r,t.current.lanes=n,Ce(t,n),_u(t),e[Oe]=t.current,Bu(e),new Rh(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},191:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler");Symbol.for("react.provider");var a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case u:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case a:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===s||e===o||e===u||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===l||e.$$typeof===a||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)}},219:(e,t,n)=>{var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(zN){}}}}return t}},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function k(e,t,r,i,o,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(){}function P(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+I(e,0):o,x(s)?(i="",null!=u&&(i=u.replace(E,"$&/")+"/"),P(s,t,i,"",(function(e){return e}))):null!=s&&(C(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+u,s=k(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,f=""===o?".":o+":";if(x(e))for(var m=0;m<e.length;m++)u+=P(o=e[m],t,i,a=f+I(o,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=P(o=o.value,t,i,a=f+I(o,m++),s);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function j(){}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!_.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return k(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(j,N)}catch(PI){N(PI)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},763:(e,t,n)=>{e.exports=n(983)},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,k||(k=!0,_());else{var t=r(u);null!==t&&N(S,t.startTime-e)}}var _,k=!1,C=-1,E=5,I=-1;function T(){return!!v||!(t.unstable_now()-I<E)}function P(){if(v=!1,k){var e=t.unstable_now();I=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(C),C=-1),f=!0;var o=p;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&N(S,l.startTime-e),n=!1}}break e}finally{h=null,p=o,f=!1}n=void 0}}finally{n?_():k=!1}}}if("function"===typeof w)_=function(){w(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,A=R.port2;R.port1.onmessage=P,_=function(){A.postMessage(null)}}else _=function(){y(P,0)};function N(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(b(C),C=-1):g=!0,N(S,o-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,k||(k=!0,_()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||x(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===a},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(zN){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),o=n.t(i,2),s=n(391),a=n(950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(zN){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,a=o.history,l=r.Pop,h=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,h&&h({action:l,location:w.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let w={get action(){return l},get location(){return e(o,a)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(u,y),h=e,()=>{o.removeEventListener(u,y),h=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=f(w.location,e,t);n&&n(i,e),g=v()+1;let c=p(i,g),u=w.createHref(i);try{a.pushState(c,"",u)}catch(PI){if(PI instanceof DOMException&&"DataCloneError"===PI.name)throw PI;o.location.assign(u)}s&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=f(w.location,e,t);n&&n(i,e),g=v();let o=p(i,g),c=w.createHref(i);a.replaceState(o,"",c),s&&h&&h({action:l,location:w.location,delta:0})},go:e=>a.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=O(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let o=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=j(i);s=A(o[a],e,r)}return s}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(d(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=$([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),x(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:R(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))i(e,t,r);else i(e,t)})),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=S(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,k=3,C=2,E=1,I=10,T=-2,P=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(P)&&(r+=T),t&&(r+=C),n.filter((e=>!P(e))).reduce(((e,t)=>e+(_.test(t)?k:""===t?E:I)),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=N({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=N({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:$([o,u.pathname]),pathnameBase:z($([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=$([o,u.pathnameBase]))}return s}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function j(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(PI){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+PI+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=M(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:B(r),hash:U(i)}}(i,o),u=a&&"/"!==a&&a.endsWith("/"),h=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const $=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],q=(new Set(W),["get",...W]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(Y)}function ee(){return Z()||d(!1),i.useContext(Y).location}function te(e){i.useContext(Q).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=pe(de.UseNavigateStable),t=me(he.UseNavigateStable),n=i.useRef(!1);return te((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},i)))}),[e,t])}():function(){Z()||d(!1);let e=i.useContext(K),{basename:t,future:n,navigator:r}=i.useContext(Q),{matches:o}=i.useContext(X),{pathname:s}=ee(),a=JSON.stringify(L(o,n.v7_relativeSplatPath)),l=i.useRef(!1);return te((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=F(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:$([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,a,s,e])}()}function re(){let{matches:e}=i.useContext(X),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Q),{matches:o}=i.useContext(X),{pathname:s}=ee(),a=JSON.stringify(L(o,r.v7_relativeSplatPath));return i.useMemo((()=>F(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function oe(e,t,n,o){Z()||d(!1);let{navigator:s,static:a}=i.useContext(Q),{matches:l}=i.useContext(X),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let p,f=ee();if(t){var m;let e="string"===typeof t?g(t):t;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||d(!1),p=e}else p=f;let v=p.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!a&&n&&n.matches&&n.matches.length>0?n.matches:b(e,{pathname:y});let x=ue(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:$([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:$([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,o);return t&&x?i.createElement(Y.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:r.Pop}},x):x}function se(){let e=function(){var e;let t=i.useContext(J),n=fe(he.UseRouteError),r=me(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const ae=i.createElement(se,null);class le extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(K);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function ue(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,o)=>{let s,d=!1,h=null,p=null;var f;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ae,c&&(u<0&&0===o?(f="route-fallback",!1||ge[f]||(ge[f]=!0),d=!0,p=null):u===o&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,o+1)),g=()=>{let t;return t=s?h:d?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function pe(e){let t=i.useContext(K);return t||d(!1),t}function fe(e){let t=i.useContext(G);return t||d(!1),t}function me(e){let t=function(){let e=i.useContext(X);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const ge={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:o}=e;Z()||d(!1);let{future:s,static:a}=i.useContext(Q),{matches:l}=i.useContext(X),{pathname:c}=ee(),u=ne(),h=F(t,L(l,s.v7_relativeSplatPath),c,"path"===o),p=JSON.stringify(h);return i.useEffect((()=>u(JSON.parse(p),{replace:n,state:r,relative:o})),[u,p,o,n,r]),null}function be(e){d(!1)}function we(e){let{basename:t="/",children:n=null,location:o,navigationType:s=r.Pop,navigator:a,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:u,navigator:a,static:l,future:H({v7_relativeSplatPath:!1},c)})),[u,c,a,l]);"string"===typeof o&&(o=g(o));let{pathname:p="/",search:f="",hash:m="",state:v=null,key:y="default"}=o,b=i.useMemo((()=>{let e=O(p,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:v,key:y},navigationType:s}}),[u,p,f,m,v,y,s]);return null==b?null:i.createElement(Q.Provider,{value:h},i.createElement(Y.Provider,{children:n,value:b}))}function xe(e){let{children:t,location:n}=e;return oe(Se(t),n)}new Promise((()=>{}));i.Component;function Se(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Se(e.props.children,o));e.type!==be&&d(!1),e.props.index&&e.props.children&&d(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Se(e.props.children,o)),n.push(s)})),n}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(zN){}new Map;const Ee=o.startTransition;l.flushSync,o.useId;function Ie(e){let{basename:t,children:n,future:r,window:o}=e,s=i.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,a)));let l=s.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback((e=>{d&&Ee?Ee((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(h)),[l,h]),i.useEffect((()=>ve(r)),[r]),i.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=i.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:p}=e,f=ke(e,Ce),{basename:g}=i.useContext(Q),v=!1;if("string"===typeof u&&Pe.test(u)&&(n=u,Te))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(zN){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:o}=i.useContext(Q),{hash:s,pathname:a,search:l}=ie(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:$([r,a])),o.createHref({pathname:c,search:l,hash:s})}(u,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=ie(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,viewTransition:l})}}),[u,c,d,r,o,n,e,s,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:p});return i.createElement("a",_e({},f,{href:n||y,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Ae,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));const je=i.createContext(null);function Oe(){return i.useContext(je)}const De="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var Me=n(579);const Le=function(e){const{children:t,theme:n}=e,r=Oe(),o=i.useMemo((()=>{const e=null===r?{...n}:function(e,t){if("function"===typeof t)return t(e);return{...e,...t}}(r,n);return null!=e&&(e[De]=null!==r),e}),[n,r]);return(0,Me.jsx)(je.Provider,{value:o,children:t})};var Fe=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(zN){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),$e=Math.abs,ze=String.fromCharCode,Be=Object.assign;function Ue(e){return e.trim()}function Ve(e,t,n){return e.replace(t,n)}function We(e,t){return e.indexOf(t)}function qe(e,t){return 0|e.charCodeAt(t)}function He(e,t,n){return e.slice(t,n)}function Ke(e){return e.length}function Ge(e){return e.length}function Qe(e,t){return t.push(e),e}var Ye=1,Xe=1,Je=0,Ze=0,et=0,tt="";function nt(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Ye,column:Xe,length:s,return:""}}function rt(e,t){return Be(nt("",null,null,"",null,null,0),e,{length:-e.length},t)}function it(){return et=Ze>0?qe(tt,--Ze):0,Xe--,10===et&&(Xe=1,Ye--),et}function ot(){return et=Ze<Je?qe(tt,Ze++):0,Xe++,10===et&&(Xe=1,Ye++),et}function st(){return qe(tt,Ze)}function at(){return Ze}function lt(e,t){return He(tt,e,t)}function ct(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ut(e){return Ye=Xe=1,Je=Ke(tt=e),Ze=0,[]}function dt(e){return tt="",e}function ht(e){return Ue(lt(Ze-1,mt(91===e?e+2:40===e?e+1:e)))}function pt(e){for(;(et=st())&&et<33;)ot();return ct(e)>2||ct(et)>3?"":" "}function ft(e,t){for(;--t&&ot()&&!(et<48||et>102||et>57&&et<65||et>70&&et<97););return lt(e,at()+(t<6&&32==st()&&32==ot()))}function mt(e){for(;ot();)switch(et){case e:return Ze;case 34:case 39:34!==e&&39!==e&&mt(et);break;case 40:41===e&&mt(e);break;case 92:ot()}return Ze}function gt(e,t){for(;ot()&&e+et!==57&&(e+et!==84||47!==st()););return"/*"+lt(t,Ze-1)+"*"+ze(47===e?e:ot())}function vt(e){for(;!ct(st());)ot();return lt(e,Ze)}var yt="-ms-",bt="-moz-",wt="-webkit-",xt="comm",St="rule",_t="decl",kt="@keyframes";function Ct(e,t){for(var n="",r=Ge(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Et(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case _t:return e.return=e.return||e.value;case xt:return"";case kt:return e.return=e.value+"{"+Ct(e.children,r)+"}";case St:e.value=e.props.join(",")}return Ke(n=Ct(e.children,r))?e.return=e.value+"{"+n+"}":""}function It(e){return dt(Tt("",null,null,null,[""],e=ut(e),0,[0],e))}function Tt(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,p=0,f=0,m=1,g=1,v=1,y=0,b="",w=i,x=o,S=r,_=b;g;)switch(f=y,y=ot()){case 40:if(108!=f&&58==qe(_,d-1)){-1!=We(_+=Ve(ht(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:_+=ht(y);break;case 9:case 10:case 13:case 32:_+=pt(f);break;case 92:_+=ft(at()-1,7);continue;case 47:switch(st()){case 42:case 47:Qe(Rt(gt(ot(),at()),t,n),l);break;default:_+="/"}break;case 123*m:a[c++]=Ke(_)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(_=Ve(_,/\f/g,"")),p>0&&Ke(_)-d&&Qe(p>32?At(_+";",r,n,d-1):At(Ve(_," ","")+";",r,n,d-2),l);break;case 59:_+=";";default:if(Qe(S=Pt(_,t,n,c,u,i,a,b,w=[],x=[],d),o),123===y)if(0===u)Tt(_,t,S,S,w,o,d,a,x);else switch(99===h&&110===qe(_,3)?100:h){case 100:case 108:case 109:case 115:Tt(e,S,S,r&&Qe(Pt(e,S,S,0,0,i,a,b,i,w=[],d),x),i,x,d,a,r?w:x);break;default:Tt(_,S,S,S,[""],x,0,a,x)}}c=u=p=0,m=v=1,b=_="",d=s;break;case 58:d=1+Ke(_),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==it())continue;switch(_+=ze(y),y*m){case 38:v=u>0?1:(_+="\f",-1);break;case 44:a[c++]=(Ke(_)-1)*v,v=1;break;case 64:45===st()&&(_+=ht(ot())),h=st(),u=d=Ke(b=_+=vt(at())),y++;break;case 45:45===f&&2==Ke(_)&&(m=0)}}return o}function Pt(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,h=0===i?o:[""],p=Ge(h),f=0,m=0,g=0;f<r;++f)for(var v=0,y=He(e,d+1,d=$e(m=s[f])),b=e;v<p;++v)(b=Ue(m>0?h[v]+" "+y:Ve(y,/&\f/g,h[v])))&&(l[g++]=b);return nt(e,t,n,0===i?St:a,l,c,u)}function Rt(e,t,n){return nt(e,t,n,xt,ze(et),He(e,2,-2),0)}function At(e,t,n,r){return nt(e,t,n,_t,He(e,0,r),He(e,r+1,-1),r)}var Nt=function(e,t,n){for(var r=0,i=0;r=i,i=st(),38===r&&12===i&&(t[n]=1),!ct(i);)ot();return lt(e,Ze)},jt=function(e,t){return dt(function(e,t){var n=-1,r=44;do{switch(ct(r)){case 0:38===r&&12===st()&&(t[n]=1),e[n]+=Nt(Ze-1,t,n);break;case 2:e[n]+=ht(r);break;case 4:if(44===r){e[++n]=58===st()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=ze(r)}}while(r=ot());return e}(ut(e),t))},Ot=new WeakMap,Dt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Ot.get(n))&&!r){Ot.set(e,!0);for(var i=[],o=jt(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},Mt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Lt(e,t){switch(function(e,t){return 45^qe(e,0)?(((t<<2^qe(e,0))<<2^qe(e,1))<<2^qe(e,2))<<2^qe(e,3):0}(e,t)){case 5103:return wt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return wt+e+bt+e+yt+e+e;case 6828:case 4268:return wt+e+yt+e+e;case 6165:return wt+e+yt+"flex-"+e+e;case 5187:return wt+e+Ve(e,/(\w+).+(:[^]+)/,wt+"box-$1$2"+yt+"flex-$1$2")+e;case 5443:return wt+e+yt+"flex-item-"+Ve(e,/flex-|-self/,"")+e;case 4675:return wt+e+yt+"flex-line-pack"+Ve(e,/align-content|flex-|-self/,"")+e;case 5548:return wt+e+yt+Ve(e,"shrink","negative")+e;case 5292:return wt+e+yt+Ve(e,"basis","preferred-size")+e;case 6060:return wt+"box-"+Ve(e,"-grow","")+wt+e+yt+Ve(e,"grow","positive")+e;case 4554:return wt+Ve(e,/([^-])(transform)/g,"$1"+wt+"$2")+e;case 6187:return Ve(Ve(Ve(e,/(zoom-|grab)/,wt+"$1"),/(image-set)/,wt+"$1"),e,"")+e;case 5495:case 3959:return Ve(e,/(image-set\([^]*)/,wt+"$1$`$1");case 4968:return Ve(Ve(e,/(.+:)(flex-)?(.*)/,wt+"box-pack:$3"+yt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+wt+e+e;case 4095:case 3583:case 4068:case 2532:return Ve(e,/(.+)-inline(.+)/,wt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ke(e)-1-t>6)switch(qe(e,t+1)){case 109:if(45!==qe(e,t+4))break;case 102:return Ve(e,/(.+:)(.+)-([^]+)/,"$1"+wt+"$2-$3$1"+bt+(108==qe(e,t+3)?"$3":"$2-$3"))+e;case 115:return~We(e,"stretch")?Lt(Ve(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==qe(e,t+1))break;case 6444:switch(qe(e,Ke(e)-3-(~We(e,"!important")&&10))){case 107:return Ve(e,":",":"+wt)+e;case 101:return Ve(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wt+(45===qe(e,14)?"inline-":"")+"box$3$1"+wt+"$2$3$1"+yt+"$2box$3")+e}break;case 5936:switch(qe(e,t+11)){case 114:return wt+e+yt+Ve(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return wt+e+yt+Ve(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return wt+e+yt+Ve(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return wt+e+yt+e+e}return e}var Ft=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case _t:e.return=Lt(e.value,e.length);break;case kt:return Ct([rt(e,{value:Ve(e.value,"@","@"+wt)})],r);case St:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ct([rt(e,{props:[Ve(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Ct([rt(e,{props:[Ve(t,/:(plac\w+)/,":"+wt+"input-$1")]}),rt(e,{props:[Ve(t,/:(plac\w+)/,":-moz-$1")]}),rt(e,{props:[Ve(t,/:(plac\w+)/,yt+"input-$1")]})],r)}return""}))}}],$t=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||Ft,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l,c,u=[Et,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=Ge(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([Dt,Mt].concat(o,u));i=function(e,t,n,r){l=n,function(e){Ct(It(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Fe({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return h.sheet.hydrate(a),h};function zt(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var Bt=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Ut=function(e,t,n){Bt(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var Vt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Wt(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var qt=/[A-Z]|^ms/g,Ht=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Kt=function(e){return 45===e.charCodeAt(1)},Gt=function(e){return null!=e&&"boolean"!==typeof e},Qt=Wt((function(e){return Kt(e)?e:e.replace(qt,"-$&").toLowerCase()})),Yt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ht,(function(e,t,n){return Jt={name:t,styles:n,next:Jt},t}))}return 1===Vt[e]||Kt(e)||"number"!==typeof t||0===t?t:t+"px"};function Xt(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return Jt={name:i.name,styles:i.styles,next:Jt},i.name;var o=n;if(void 0!==o.styles){var s=o.next;if(void 0!==s)for(;void 0!==s;)Jt={name:s.name,styles:s.styles,next:Jt},s=s.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Xt(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s){var a=s;null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":Gt(a)&&(r+=Qt(o)+":"+Yt(o,a)+";")}else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=Xt(e,t,s);switch(o){case"animation":case"animationName":r+=Qt(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<s.length;c++)Gt(s[c])&&(r+=Qt(o)+":"+Yt(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=Jt,l=n(e);return Jt=a,Xt(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var Jt,Zt=/label:\s*([^\s;{]+)\s*(;|$)/g;function en(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Jt=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Xt(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++){if(i+=Xt(n,t,e[s]),r)i+=o[s]}Zt.lastIndex=0;for(var a,l="";null!==(a=Zt.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Jt}}var tn=!!o.useInsertionEffect&&o.useInsertionEffect,nn=tn||function(e){return e()},rn=tn||i.useLayoutEffect,on=i.createContext("undefined"!==typeof HTMLElement?$t({key:"css"}):null),sn=(on.Provider,function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(on);return e(t,r,n)}))}),an=i.createContext({});var ln={}.hasOwnProperty,cn="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",un=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Bt(t,n,r),nn((function(){return Ut(t,n,r)})),null},dn=sn((function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var o=e[cn],s=[r],a="";"string"===typeof e.className?a=zt(t.registered,s,e.className):null!=e.className&&(a=e.className+" ");var l=en(s,void 0,i.useContext(an));a+=t.key+"-"+l.name;var c={};for(var u in e)ln.call(e,u)&&"css"!==u&&u!==cn&&(c[u]=e[u]);return c.className=a,n&&(c.ref=n),i.createElement(i.Fragment,null,i.createElement(un,{cache:t,serialized:l,isStringTag:"string"===typeof o}),i.createElement(o,c))})),hn=dn;const pn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(an);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},fn=i.createContext();const mn=()=>i.useContext(fn)??!1,gn=function(e){let{value:t,...n}=e;return(0,Me.jsx)(fn.Provider,{value:t??!0,...n})};function vn(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)n[i]={...e[i],...n[i]};else if("componentsProps"===i||"slotProps"===i){const r=e[i],o=t[i];if(o)if(r){n[i]={...o};for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[i][t]=vn(r[t],o[t])}}else n[i]=o;else n[i]=r||{}}else void 0===n[i]&&(n[i]=e[i])}return n}const yn=i.createContext(void 0);function bn(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?vn(i.defaultProps,r):i.styleOverrides||i.variants?r:vn(i,r)}({props:t,name:n,theme:{components:i.useContext(yn)}})}const wn=function(e){let{value:t,children:n}=e;return(0,Me.jsx)(yn.Provider,{value:t,children:n})},xn={};function Sn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return i.useMemo((()=>{const i=e&&t[e]||t;if("function"===typeof n){const o=n(i),s=e?{...t,[e]:o}:o;return r?()=>s:s}return e?{...t,[e]:n}:{...t,...n}}),[e,t,n,r])}const _n=function(e){const{children:t,theme:n,themeId:r}=e,i=pn(xn),o=Oe()||xn,s=Sn(r,i,n),a=Sn(r,o,n,!0),l="rtl"===(r?s[r]:s).direction;return(0,Me.jsx)(Le,{theme:a,children:(0,Me.jsx)(an.Provider,{value:s,children:(0,Me.jsx)(gn,{value:l,children:(0,Me.jsx)(wn,{value:r?s[r].components:s.components,children:t})})})})},kn="$$material";function Cn(e){let{theme:t,...n}=e;const r=kn in t?t[kn]:void 0;return(0,Me.jsx)(_n,{...n,themeId:r?kn:void 0,theme:r||t})}function En(e){const t=new URL(`https://mui.com/production-error/?code=${e}`);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.searchParams.append("args[]",e))),`Minified MUI error #${e}; visit ${t} for the full message.`}function In(e){if("string"!==typeof e)throw new Error(En(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Tn=n(191);function Pn(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Rn(e){if(i.isValidElement(e)||(0,Tn.Hy)(e)||!Pn(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=Rn(e[n])})),t}function An(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?{...e}:e;return Pn(e)&&Pn(t)&&Object.keys(t).forEach((o=>{i.isValidElement(t[o])||(0,Tn.Hy)(t[o])?r[o]=t[o]:Pn(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&Pn(e[o])?r[o]=An(e[o],t[o],n):n.clone?r[o]=Pn(t[o])?Rn(t[o]):t[o]:r[o]=t[o]})),r}const Nn=function(e,t){return t?An(e,t,{clone:!1}):e};const jn={xs:0,sm:600,md:900,lg:1200,xl:1536},On={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${jn[e]}px)`},Dn={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:jn[t]||t;return"number"===typeof n&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Mn(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||On;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||On;return Object.keys(t).reduce(((i,o)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith(`@${e}`)))||!!t.match(/^@\d/))}(e.keys,o)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}(r.containerQueries?r:Dn,o);e&&(i[e]=n(t[o],o))}else if(Object.keys(e.values||jn).includes(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function Ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.keys?.reduce(((t,n)=>(t[e.up(n)]={},t)),{});return t||{}}function Fn(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function $n(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function zn(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:$n(e,n)||i,t&&(r=t(r,i,e)),r}const Bn=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],s=$n(e.theme,r)||{};return Mn(e,o,(e=>{let r=zn(s,i,e);return e===r&&"string"===typeof e&&(r=zn(s,i,`${t}${"default"===e?"":In(e)}`,e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const Un={m:"margin",p:"padding"},Vn={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Wn={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},qn=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!Wn[e])return[e];e=Wn[e]}const[t,n]=e.split(""),r=Un[t],i=Vn[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),Hn=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Kn=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Gn=[...Hn,...Kn];function Qn(e,t,n,r){const i=$n(e,t,!0)??n;return"number"===typeof i||"string"===typeof i?e=>"string"===typeof e?e:"string"===typeof i?i.startsWith("var(")&&0===e?0:i.startsWith("var(")&&1===e?i:`calc(${e} * ${i})`:i*e:Array.isArray(i)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=i[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?`calc(-1 * ${n})`:`-${n}`}:"function"===typeof i?i:()=>{}}function Yn(e){return Qn(e,"spacing",8)}function Xn(e,t){return"string"===typeof t||null==t?t:e(t)}function Jn(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=Xn(t,n),e)),{})}(qn(n),r);return Mn(e,e[n],i)}function Zn(e,t){const n=Yn(e.theme);return Object.keys(e).map((r=>Jn(e,t,r,n))).reduce(Nn,{})}function er(e){return Zn(e,Hn)}function tr(e){return Zn(e,Kn)}function nr(e){return Zn(e,Gn)}er.propTypes={},er.filterProps=Hn,tr.propTypes={},tr.filterProps=Kn,nr.propTypes={},nr.filterProps=Gn;const rr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?Nn(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function ir(e){return"number"!==typeof e?e:`${e}px solid`}function or(e,t){return Bn({prop:e,themeKey:"borders",transform:t})}const sr=or("border",ir),ar=or("borderTop",ir),lr=or("borderRight",ir),cr=or("borderBottom",ir),ur=or("borderLeft",ir),dr=or("borderColor"),hr=or("borderTopColor"),pr=or("borderRightColor"),fr=or("borderBottomColor"),mr=or("borderLeftColor"),gr=or("outline",ir),vr=or("outlineColor"),yr=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Qn(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:Xn(t,e)});return Mn(e,e.borderRadius,n)}return null};yr.propTypes={},yr.filterProps=["borderRadius"];rr(sr,ar,lr,cr,ur,dr,hr,pr,fr,mr,yr,gr,vr);const br=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Qn(e.theme,"spacing",8),n=e=>({gap:Xn(t,e)});return Mn(e,e.gap,n)}return null};br.propTypes={},br.filterProps=["gap"];const wr=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Qn(e.theme,"spacing",8),n=e=>({columnGap:Xn(t,e)});return Mn(e,e.columnGap,n)}return null};wr.propTypes={},wr.filterProps=["columnGap"];const xr=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Qn(e.theme,"spacing",8),n=e=>({rowGap:Xn(t,e)});return Mn(e,e.rowGap,n)}return null};xr.propTypes={},xr.filterProps=["rowGap"];rr(br,wr,xr,Bn({prop:"gridColumn"}),Bn({prop:"gridRow"}),Bn({prop:"gridAutoFlow"}),Bn({prop:"gridAutoColumns"}),Bn({prop:"gridAutoRows"}),Bn({prop:"gridTemplateColumns"}),Bn({prop:"gridTemplateRows"}),Bn({prop:"gridTemplateAreas"}),Bn({prop:"gridArea"}));function Sr(e,t){return"grey"===t?t:e}rr(Bn({prop:"color",themeKey:"palette",transform:Sr}),Bn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Sr}),Bn({prop:"backgroundColor",themeKey:"palette",transform:Sr}));function _r(e){return e<=1&&0!==e?100*e+"%":e}const kr=Bn({prop:"width",transform:_r}),Cr=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{const n=e.theme?.breakpoints?.values?.[t]||jn[t];return n?"px"!==e.theme?.breakpoints?.unit?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:_r(t)}};return Mn(e,e.maxWidth,t)}return null};Cr.filterProps=["maxWidth"];const Er=Bn({prop:"minWidth",transform:_r}),Ir=Bn({prop:"height",transform:_r}),Tr=Bn({prop:"maxHeight",transform:_r}),Pr=Bn({prop:"minHeight",transform:_r}),Rr=(Bn({prop:"size",cssProperty:"width",transform:_r}),Bn({prop:"size",cssProperty:"height",transform:_r}),rr(kr,Cr,Er,Ir,Tr,Pr,Bn({prop:"boxSizing"})),{border:{themeKey:"borders",transform:ir},borderTop:{themeKey:"borders",transform:ir},borderRight:{themeKey:"borders",transform:ir},borderBottom:{themeKey:"borders",transform:ir},borderLeft:{themeKey:"borders",transform:ir},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ir},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:yr},color:{themeKey:"palette",transform:Sr},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Sr},backgroundColor:{themeKey:"palette",transform:Sr},p:{style:tr},pt:{style:tr},pr:{style:tr},pb:{style:tr},pl:{style:tr},px:{style:tr},py:{style:tr},padding:{style:tr},paddingTop:{style:tr},paddingRight:{style:tr},paddingBottom:{style:tr},paddingLeft:{style:tr},paddingX:{style:tr},paddingY:{style:tr},paddingInline:{style:tr},paddingInlineStart:{style:tr},paddingInlineEnd:{style:tr},paddingBlock:{style:tr},paddingBlockStart:{style:tr},paddingBlockEnd:{style:tr},m:{style:er},mt:{style:er},mr:{style:er},mb:{style:er},ml:{style:er},mx:{style:er},my:{style:er},margin:{style:er},marginTop:{style:er},marginRight:{style:er},marginBottom:{style:er},marginLeft:{style:er},marginX:{style:er},marginY:{style:er},marginInline:{style:er},marginInlineStart:{style:er},marginInlineEnd:{style:er},marginBlock:{style:er},marginBlockStart:{style:er},marginBlockEnd:{style:er},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:br},rowGap:{style:xr},columnGap:{style:wr},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_r},maxWidth:{style:Cr},minWidth:{transform:_r},height:{transform:_r},maxHeight:{transform:_r},minHeight:{transform:_r},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const Ar=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=$n(n,a)||{};if(c)return c(i);return Mn(i,t,(t=>{let n=zn(u,l,t);return t===n&&"string"===typeof t&&(n=zn(u,l,`${e}${"default"===t?"":In(t)}`,t)),!1===s?n:{[s]:n}}))}return function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??Rr;function s(n){let r=n;if("function"===typeof n)r=n(i);else if("object"!==typeof n)return n;if(!r)return null;const s=Ln(i.breakpoints),a=Object.keys(s);let l=s;return Object.keys(r).forEach((n=>{const s=function(e,t){return"function"===typeof e?e(t):e}(r[n],i);if(null!==s&&void 0!==s)if("object"===typeof s)if(o[n])l=Nn(l,e(n,s,i,o));else{const e=Mn({theme:i},s,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,s)?l=Nn(l,e):l[n]=t({sx:s,theme:i})}else l=Nn(l,e(n,s,i,o))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{const n=/min-width:\s*([0-9.]+)/;return+(e.match(n)?.[1]||0)-+(t.match(n)?.[1]||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),{...t}):t}(i,Fn(a,l))}return Array.isArray(r)?r.map(s):s(r)}}();Ar.filterProps=["sx"];const Nr=Ar;n(219);var jr=function(e,t){var n=arguments;if(null==t||!ln.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=hn,o[1]=function(e,t){var n={};for(var r in t)ln.call(t,r)&&(n[r]=t[r]);return n[cn]=e,n}(e,t);for(var s=2;s<r;s++)o[s]=n[s];return i.createElement.apply(null,o)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(jr||(jr={}));var Or=sn((function(e,t){var n=en([e.styles],void 0,i.useContext(an)),r=i.useRef();return rn((function(){var e=t.key+"-global",i=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,s=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(i.before=t.sheet.tags[0]),null!==s&&(o=!0,s.setAttribute("data-emotion",e),i.hydrate([s])),r.current=[i,o],function(){i.flush()}}),[t]),rn((function(){var e=r.current,i=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&Ut(t,n.next,!0),i.tags.length){var o=i.tags[i.tags.length-1].nextElementSibling;i.before=o,i.flush()}t.insert("",n,i,!1)}}),[t,n.name]),null}));function Dr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return en(t)}function Mr(){var e=Dr.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Lr(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,Me.jsx)(Or,{styles:r})}const Fr="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,$r="mode",zr="color-scheme",Br="data-color-scheme";function Ur(){}const Vr=e=>{let{key:t,storageWindow:n}=e;return n||"undefined"===typeof window||(n=window),{get(e){if("undefined"===typeof window)return;if(!n)return e;let r;try{r=n.localStorage.getItem(t)}catch{}return r||e},set:e=>{if(n)try{n.localStorage.setItem(t,e)}catch{}},subscribe:e=>{if(!n)return Ur;const r=n=>{const r=n.newValue;n.key===t&&e(r)};return n.addEventListener("storage",r),()=>{n.removeEventListener("storage",r)}}}};function Wr(){}function qr(e){if("undefined"!==typeof window&&"function"===typeof window.matchMedia&&"system"===e){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}}function Hr(e,t){return"light"===e.mode||"system"===e.mode&&"light"===e.systemMode?t("light"):"dark"===e.mode||"system"===e.mode&&"dark"===e.systemMode?t("dark"):void 0}function Kr(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:o=[],modeStorageKey:s=$r,colorSchemeStorageKey:a=zr,storageWindow:l=("undefined"===typeof window?void 0:window),storageManager:c=Vr,noSsr:u=!1}=e,d=o.join(","),h=o.length>1,p=i.useMemo((()=>c?.({key:s,storageWindow:l})),[c,s,l]),f=i.useMemo((()=>c?.({key:`${a}-light`,storageWindow:l})),[c,a,l]),m=i.useMemo((()=>c?.({key:`${a}-dark`,storageWindow:l})),[c,a,l]),[g,v]=i.useState((()=>{const e=p?.get(t)||t,i=f?.get(n)||n,o=m?.get(r)||r;return{mode:e,systemMode:qr(e),lightColorScheme:i,darkColorScheme:o}})),[y,b]=i.useState(u||!h);i.useEffect((()=>{b(!0)}),[]);const w=function(e){return Hr(e,(t=>"light"===t?e.lightColorScheme:"dark"===t?e.darkColorScheme:void 0))}(g),x=i.useCallback((e=>{v((n=>{if(e===n.mode)return n;const r=e??t;return p?.set(r),{...n,mode:r,systemMode:qr(r)}}))}),[p,t]),S=i.useCallback((e=>{e?"string"===typeof e?e&&!d.includes(e)?console.error(`\`${e}\` does not exist in \`theme.colorSchemes\`.`):v((t=>{const n={...t};return Hr(t,(t=>{"light"===t&&(f?.set(e),n.lightColorScheme=e),"dark"===t&&(m?.set(e),n.darkColorScheme=e)})),n})):v((t=>{const i={...t},o=null===e.light?n:e.light,s=null===e.dark?r:e.dark;return o&&(d.includes(o)?(i.lightColorScheme=o,f?.set(o)):console.error(`\`${o}\` does not exist in \`theme.colorSchemes\`.`)),s&&(d.includes(s)?(i.darkColorScheme=s,m?.set(s)):console.error(`\`${s}\` does not exist in \`theme.colorSchemes\`.`)),i})):v((e=>(f?.set(n),m?.set(r),{...e,lightColorScheme:n,darkColorScheme:r})))}),[d,f,m,n,r]),_=i.useCallback((e=>{"system"===g.mode&&v((t=>{const n=e?.matches?"dark":"light";return t.systemMode===n?t:{...t,systemMode:n}}))}),[g.mode]),k=i.useRef(_);return k.current=_,i.useEffect((()=>{if("function"!==typeof window.matchMedia||!h)return;const e=function(){return k.current(...arguments)},t=window.matchMedia("(prefers-color-scheme: dark)");return t.addListener(e),e(t),()=>{t.removeListener(e)}}),[h]),i.useEffect((()=>{if(h){const e=p?.subscribe((e=>{e&&!["light","dark","system"].includes(e)||x(e||t)}))||Wr,n=f?.subscribe((e=>{e&&!d.match(e)||S({light:e})}))||Wr,r=m?.subscribe((e=>{e&&!d.match(e)||S({dark:e})}))||Wr;return()=>{e(),n(),r()}}}),[S,x,d,t,l,h,p,f,m]),{...g,mode:y?g.mode:void 0,systemMode:y?g.systemMode:void 0,colorScheme:y?w:void 0,setMode:x,setColorScheme:S}}const Gr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function Qr(e){return Gr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function Yr(e){if(e.type)return e;if("#"===e.charAt(0))return Yr(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(En(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(En(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const Xr=(e,t)=>{try{return(e=>{const t=Yr(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?`${e}%`:e)).join(" ")})(e)}catch(PI){return e}};function Jr(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=t.includes("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function Zr(e){e=Yr(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),Jr({type:a,values:l})}function ei(e){let t="hsl"===(e=Yr(e)).type||"hsla"===e.type?Yr(Zr(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function ti(e,t){return e=Yr(e),t=Qr(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,Jr(e)}function ni(e,t,n){try{return ti(e,t)}catch(PI){return e}}function ri(e,t){if(e=Yr(e),t=Qr(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Jr(e)}function ii(e,t,n){try{return ri(e,t)}catch(PI){return e}}function oi(e,t){if(e=Yr(e),t=Qr(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Jr(e)}function si(e,t,n){try{return oi(e,t)}catch(PI){return e}}function ai(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return ei(e)>.5?ri(e,t):oi(e,t)}function li(e,t,n){try{return ai(e,t)}catch(PI){return e}}const ci={black:"#000",white:"#fff"},ui={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},di={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},hi={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},pi={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},fi={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},mi={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},gi={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function vi(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ci.white,default:ci.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const yi=vi();function bi(){return{text:{primary:ci.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ci.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const wi=bi();function xi(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=oi(e.main,i):"dark"===t&&(e.dark=ri(e.main,o)))}function Si(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:fi[200],light:fi[50],dark:fi[400]}:{main:fi[700],light:fi[400],dark:fi[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:di[200],light:di[50],dark:di[400]}:{main:di[500],light:di[300],dark:di[700]}}(t),a=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:hi[500],light:hi[300],dark:hi[700]}:{main:hi[700],light:hi[400],dark:hi[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:mi[400],light:mi[300],dark:mi[700]}:{main:mi[700],light:mi[500],dark:mi[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:gi[400],light:gi[300],dark:gi[700]}:{main:gi[800],light:gi[500],dark:gi[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pi[400],light:pi[300],dark:pi[700]}:{main:"#ed6c02",light:pi[500],dark:pi[900]}}(t);function d(e){const t=function(e,t){const n=ei(e),r=ei(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,wi.text.primary)>=n?wi.text.primary:yi.text.primary;return t}const h=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:s=700}=e;if(t={...t},!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(En(11,n?` (${n})`:"",i));if("string"!==typeof t.main)throw new Error(En(12,n?` (${n})`:"",JSON.stringify(t.main)));return xi(t,"light",o,r),xi(t,"dark",s,r),t.contrastText||(t.contrastText=d(t.main)),t};let p;"light"===t?p=vi():"dark"===t&&(p=bi());return An({common:{...ci},mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:ui,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...p},i)}function _i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const o=r[0];return"string"!==typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${o}`:`, var(--${e?`${e}-`:""}${o}${t(...r.slice(1))})`}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return`var(--${e?`${e}-`:""}${n}${t(...i)})`}}function ki(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yn({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}function Ci(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)})),t}const Ei=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach(((e,o)=>{o===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])}))};function Ii(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};var a,l;return a=(e,t,a)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r=`--${n?`${n}-`:""}${e.join("-")}`,l=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t)(e,t);Object.assign(i,{[r]:l}),Ei(o,e,`var(${r})`,a),Ei(s,e,`var(${r}, ${l})`,a)}},l=e=>"vars"===e[0],function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach((t=>{let[i,o]=t;(!l||l&&!l([...n,i]))&&void 0!==o&&null!==o&&("object"===typeof o&&Object.keys(o).length>0?e(o,[...n,i],Array.isArray(o)?[...r,i]:r):a([...n,i],o,r))}))}(e),{css:i,vars:o,varsWithDefaults:s}}const Ti=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=g,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=e,{vars:c,css:u,varsWithDefaults:d}=Ii(l,t);let h=d;const p={},{[a]:f,...m}=o;if(Object.entries(m||{}).forEach((e=>{let[n,r]=e;const{vars:i,css:o,varsWithDefaults:s}=Ii(r,t);h=An(h,s),p[n]={css:o,vars:i}})),f){const{css:e,vars:n,varsWithDefaults:r}=Ii(f,t);h=An(h,r),p[a]={css:e,vars:n}}function g(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(r=`[${i}="%s"]`),t){if("media"===r){if(e.defaultColorScheme===t)return":root";const r=o[t]?.palette?.mode||t;return{[`@media (prefers-color-scheme: ${r})`]:{":root":n}}}if(r)return e.defaultColorScheme===t?`:root, ${r.replace("%s",String(t))}`:r.replace("%s",String(t))}return":root"}return{vars:h,generateThemeVars:()=>{let e={...c};return Object.entries(p).forEach((t=>{let[,{vars:n}]=t;e=An(e,n)})),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function s(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:{...n}}:e)}s(n(void 0,{...u}),u);const{[i]:a,...l}=p;if(a){const{css:e}=a,t=o[i]?.palette?.mode,l=!r&&t?{colorScheme:t,...e}:{...e};s(n(i,{...l}),l)}return Object.entries(l).forEach((e=>{let[t,{css:i}]=e;const a=o[t]?.palette?.mode,l=!r&&a?{colorScheme:a,...i}:{...i};s(n(t,{...l}),l)})),t}}};function Pi(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,o=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>({...e,[t.key]:t.val})),{})})(t),s=Object.keys(o);function a(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function l(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-r/100}${n})`}function c(e,i){const o=s.indexOf(i);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"===typeof t[s[o]]?t[s[o]]:i)-r/100}${n})`}return{keys:s,values:o,up:a,down:l,between:c,only:function(e){return s.indexOf(e)+1<s.length?c(e,s[s.indexOf(e)+1]):a(e)},not:function(e){const t=s.indexOf(e);return 0===t?a(s[1]):t===s.length-1?l(s[t]):c(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n,...i}}const Ri={borderRadius:4};function Ai(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||"function"!==typeof n.getColorSchemeSelector)return{};let r=n.getColorSchemeSelector(e);return"&"===r?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return n.palette.mode===e?t:{}}const Ni=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={},...o}=e;let s=An({breakpoints:Pi(t),direction:"ltr",components:{},palette:{mode:"light",...n},spacing:ki(r),shape:{...Ri,...i}},o);s=function(e){const t=(e,t)=>e.replace("@media",t?`@container ${t}`:"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),{...e,containerQueries:i}}(s),s.applyStyles=Ai;for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];return s=l.reduce(((e,t)=>An(e,t)),s),s.unstable_sxConfig={...Rr,...o?.unstable_sxConfig},s.unstable_sx=function(e){return Nr({sx:e,theme:this})},s};function ji(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}const Oi={textTransform:"uppercase"},Di='"Roboto", "Helvetica", "Arial", sans-serif';function Mi(e,t){const{fontFamily:n=Di,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}="function"===typeof t?t(e):t;const h=r/14,p=u||(e=>e/l*h+"rem"),f=(e,t,r,i,o)=>{return{fontFamily:n,fontWeight:e,fontSize:p(t),lineHeight:r,...n===Di?{letterSpacing:(s=i/t,Math.round(1e5*s)/1e5)+"em"}:{},...o,...c};var s},m={h1:f(i,96,1.167,-1.5),h2:f(i,60,1.2,-.5),h3:f(o,48,1.167,0),h4:f(o,34,1.235,.25),h5:f(o,24,1.334,0),h6:f(s,20,1.6,.15),subtitle1:f(o,16,1.75,.15),subtitle2:f(s,14,1.57,.1),body1:f(o,16,1.5,.15),body2:f(o,14,1.43,.15),button:f(s,14,1.75,.4,Oi),caption:f(o,12,1.66,.4),overline:f(o,12,2.66,1,Oi),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return An({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...m},d,{clone:!1})}function Li(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const Fi=["none",Li(0,2,1,-1,0,1,1,0,0,1,3,0),Li(0,3,1,-2,0,2,2,0,0,1,5,0),Li(0,3,3,-2,0,3,4,0,0,1,8,0),Li(0,2,4,-1,0,4,5,0,0,1,10,0),Li(0,3,5,-1,0,5,8,0,0,1,14,0),Li(0,3,5,-1,0,6,10,0,0,1,18,0),Li(0,4,5,-2,0,7,10,1,0,2,16,1),Li(0,5,5,-3,0,8,10,1,0,3,14,2),Li(0,5,6,-3,0,9,12,1,0,3,16,2),Li(0,6,6,-3,0,10,14,1,0,4,18,3),Li(0,6,7,-4,0,11,15,1,0,4,20,3),Li(0,7,8,-4,0,12,17,2,0,5,22,4),Li(0,7,8,-4,0,13,19,2,0,5,24,4),Li(0,7,9,-4,0,14,21,2,0,5,26,4),Li(0,8,9,-5,0,15,22,2,0,6,28,5),Li(0,8,10,-5,0,16,24,2,0,6,30,5),Li(0,8,11,-5,0,17,26,2,0,6,32,5),Li(0,9,11,-5,0,18,28,2,0,7,34,6),Li(0,9,12,-6,0,19,29,2,0,7,36,6),Li(0,10,13,-6,0,20,31,3,0,8,38,7),Li(0,10,13,-6,0,21,33,3,0,8,40,7),Li(0,10,14,-6,0,22,35,3,0,8,42,7),Li(0,11,14,-7,0,23,36,3,0,9,44,8),Li(0,11,15,-7,0,24,38,3,0,9,46,8)],$i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},zi={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Bi(e){return`${Math.round(e)}ms`}function Ui(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function Vi(e){const t={...$i,...e.easing},n={...zi,...e.duration};return{getAutoHeightDuration:Ui,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:s=0,...a}=r;return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof i?i:Bi(i)} ${o} ${"string"===typeof s?s:Bi(s)}`)).join(",")},...e,easing:t,duration:n}}const Wi={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function qi(){const e={...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[o,s]=n[i];!Pn(r=s)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||o.startsWith("unstable_")?delete t[o]:Pn(s)&&(t[o]={...s},e(t[o]))}var r}(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ${JSON.stringify(e,null,2)};\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;`}const Hi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:s={},shape:a,...l}=e;if(e.vars&&void 0===e.generateThemeVars)throw new Error(En(20));const c=Si(i),u=Ni(e);let d=An(u,{mixins:ji(u.breakpoints,n),palette:c,shadows:Fi.slice(),typography:Mi(c,s),transitions:Vi(o),zIndex:{...Wi}});d=An(d,l);for(var h=arguments.length,p=new Array(h>1?h-1:0),f=1;f<h;f++)p[f-1]=arguments[f];return d=p.reduce(((e,t)=>An(e,t)),d),d.unstable_sxConfig={...Rr,...l?.unstable_sxConfig},d.unstable_sx=function(e){return Nr({sx:e,theme:this})},d.toRuntimeSource=qi,d};function Ki(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const Gi=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=Ki(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`}));function Qi(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function Yi(e){return"dark"===e?Gi:[]}function Xi(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const Ji=e=>[...[...Array(25)].map(((t,n)=>`--${e?`${e}-`:""}overlays-${n}`)),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Zi=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if("class"===i&&(o=".%s"),"data"===i&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),e.defaultColorScheme===t){if("dark"===t){const i={};return Ji(e.cssVarPrefix).forEach((e=>{i[e]=n[e],delete n[e]})),"media"===o?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:o?{[o.replace("%s",t)]:i,[`${r}, ${o.replace("%s",t)}`]:n}:{[r]:{...n,...i}}}if(o&&"media"!==o)return`${r}, ${o.replace("%s",String(t))}`}else if(t){if("media"===o)return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r};function eo(e,t,n){!e[t]&&n&&(e[t]=n)}function to(e){return"string"===typeof e&&e.startsWith("hsl")?Zr(e):e}function no(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Xr(to(e[t])))}const ro=e=>{try{return e()}catch(PI){}};function io(e,t,n,r){if(!t)return;t=!0===t?{}:t;const i="dark"===r?"dark":"light";if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,o=Si(t);return{palette:o,opacity:{...Qi(o.mode),...n},overlays:r||Yi(o.mode),...i}}({...t,palette:{mode:i,...t?.palette}}));const{palette:o,...s}=Hi({...n,palette:{mode:i,...t?.palette}});return e[r]={...t,palette:o,opacity:{...Qi(i),...t?.opacity},overlays:t?.overlays||Yi(i)},s}function oo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=Xi,colorSchemeSelector:s=(t.light&&t.dark?"media":void 0),rootSelector:a=":root",...l}=e,c=Object.keys(t)[0],u=n||(t.light&&"light"!==c?"light":c),d=function(){return _i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[u]:h,light:p,dark:f,...m}=t,g={...m};let v=h;if(("dark"===u&&!("dark"in t)||"light"===u&&!("light"in t))&&(v=!0),!v)throw new Error(En(21,u));const y=io(g,v,l,u);p&&!g.light&&io(g,p,void 0,"light"),f&&!g.dark&&io(g,f,void 0,"dark");let b={defaultColorScheme:u,...y,cssVarPrefix:i,colorSchemeSelector:s,rootSelector:a,getCssVar:d,colorSchemes:g,font:{...Ci(y.typography),...y.font},spacing:(w=l.spacing,"number"===typeof w?`${w}px`:"string"===typeof w||"function"===typeof w||Array.isArray(w)?w:"8px")};var w;Object.keys(b.colorSchemes).forEach((e=>{const t=b.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return d(e,t[r][i])};var r;if("light"===t.mode&&(eo(t.common,"background","#fff"),eo(t.common,"onBackground","#000")),"dark"===t.mode&&(eo(t.common,"background","#000"),eo(t.common,"onBackground","#fff")),r=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach((e=>{r[e]||(r[e]={})})),"light"===t.mode){eo(t.Alert,"errorColor",ii(t.error.light,.6)),eo(t.Alert,"infoColor",ii(t.info.light,.6)),eo(t.Alert,"successColor",ii(t.success.light,.6)),eo(t.Alert,"warningColor",ii(t.warning.light,.6)),eo(t.Alert,"errorFilledBg",n("palette-error-main")),eo(t.Alert,"infoFilledBg",n("palette-info-main")),eo(t.Alert,"successFilledBg",n("palette-success-main")),eo(t.Alert,"warningFilledBg",n("palette-warning-main")),eo(t.Alert,"errorFilledColor",ro((()=>t.getContrastText(t.error.main)))),eo(t.Alert,"infoFilledColor",ro((()=>t.getContrastText(t.info.main)))),eo(t.Alert,"successFilledColor",ro((()=>t.getContrastText(t.success.main)))),eo(t.Alert,"warningFilledColor",ro((()=>t.getContrastText(t.warning.main)))),eo(t.Alert,"errorStandardBg",si(t.error.light,.9)),eo(t.Alert,"infoStandardBg",si(t.info.light,.9)),eo(t.Alert,"successStandardBg",si(t.success.light,.9)),eo(t.Alert,"warningStandardBg",si(t.warning.light,.9)),eo(t.Alert,"errorIconColor",n("palette-error-main")),eo(t.Alert,"infoIconColor",n("palette-info-main")),eo(t.Alert,"successIconColor",n("palette-success-main")),eo(t.Alert,"warningIconColor",n("palette-warning-main")),eo(t.AppBar,"defaultBg",n("palette-grey-100")),eo(t.Avatar,"defaultBg",n("palette-grey-400")),eo(t.Button,"inheritContainedBg",n("palette-grey-300")),eo(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),eo(t.Chip,"defaultBorder",n("palette-grey-400")),eo(t.Chip,"defaultAvatarColor",n("palette-grey-700")),eo(t.Chip,"defaultIconColor",n("palette-grey-700")),eo(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),eo(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),eo(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),eo(t.LinearProgress,"primaryBg",si(t.primary.main,.62)),eo(t.LinearProgress,"secondaryBg",si(t.secondary.main,.62)),eo(t.LinearProgress,"errorBg",si(t.error.main,.62)),eo(t.LinearProgress,"infoBg",si(t.info.main,.62)),eo(t.LinearProgress,"successBg",si(t.success.main,.62)),eo(t.LinearProgress,"warningBg",si(t.warning.main,.62)),eo(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.11)`),eo(t.Slider,"primaryTrack",si(t.primary.main,.62)),eo(t.Slider,"secondaryTrack",si(t.secondary.main,.62)),eo(t.Slider,"errorTrack",si(t.error.main,.62)),eo(t.Slider,"infoTrack",si(t.info.main,.62)),eo(t.Slider,"successTrack",si(t.success.main,.62)),eo(t.Slider,"warningTrack",si(t.warning.main,.62));const e=li(t.background.default,.8);eo(t.SnackbarContent,"bg",e),eo(t.SnackbarContent,"color",ro((()=>t.getContrastText(e)))),eo(t.SpeedDialAction,"fabHoverBg",li(t.background.paper,.15)),eo(t.StepConnector,"border",n("palette-grey-400")),eo(t.StepContent,"border",n("palette-grey-400")),eo(t.Switch,"defaultColor",n("palette-common-white")),eo(t.Switch,"defaultDisabledColor",n("palette-grey-100")),eo(t.Switch,"primaryDisabledColor",si(t.primary.main,.62)),eo(t.Switch,"secondaryDisabledColor",si(t.secondary.main,.62)),eo(t.Switch,"errorDisabledColor",si(t.error.main,.62)),eo(t.Switch,"infoDisabledColor",si(t.info.main,.62)),eo(t.Switch,"successDisabledColor",si(t.success.main,.62)),eo(t.Switch,"warningDisabledColor",si(t.warning.main,.62)),eo(t.TableCell,"border",si(ni(t.divider,1),.88)),eo(t.Tooltip,"bg",ni(t.grey[700],.92))}if("dark"===t.mode){eo(t.Alert,"errorColor",si(t.error.light,.6)),eo(t.Alert,"infoColor",si(t.info.light,.6)),eo(t.Alert,"successColor",si(t.success.light,.6)),eo(t.Alert,"warningColor",si(t.warning.light,.6)),eo(t.Alert,"errorFilledBg",n("palette-error-dark")),eo(t.Alert,"infoFilledBg",n("palette-info-dark")),eo(t.Alert,"successFilledBg",n("palette-success-dark")),eo(t.Alert,"warningFilledBg",n("palette-warning-dark")),eo(t.Alert,"errorFilledColor",ro((()=>t.getContrastText(t.error.dark)))),eo(t.Alert,"infoFilledColor",ro((()=>t.getContrastText(t.info.dark)))),eo(t.Alert,"successFilledColor",ro((()=>t.getContrastText(t.success.dark)))),eo(t.Alert,"warningFilledColor",ro((()=>t.getContrastText(t.warning.dark)))),eo(t.Alert,"errorStandardBg",ii(t.error.light,.9)),eo(t.Alert,"infoStandardBg",ii(t.info.light,.9)),eo(t.Alert,"successStandardBg",ii(t.success.light,.9)),eo(t.Alert,"warningStandardBg",ii(t.warning.light,.9)),eo(t.Alert,"errorIconColor",n("palette-error-main")),eo(t.Alert,"infoIconColor",n("palette-info-main")),eo(t.Alert,"successIconColor",n("palette-success-main")),eo(t.Alert,"warningIconColor",n("palette-warning-main")),eo(t.AppBar,"defaultBg",n("palette-grey-900")),eo(t.AppBar,"darkBg",n("palette-background-paper")),eo(t.AppBar,"darkColor",n("palette-text-primary")),eo(t.Avatar,"defaultBg",n("palette-grey-600")),eo(t.Button,"inheritContainedBg",n("palette-grey-800")),eo(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),eo(t.Chip,"defaultBorder",n("palette-grey-700")),eo(t.Chip,"defaultAvatarColor",n("palette-grey-300")),eo(t.Chip,"defaultIconColor",n("palette-grey-300")),eo(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),eo(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),eo(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),eo(t.LinearProgress,"primaryBg",ii(t.primary.main,.5)),eo(t.LinearProgress,"secondaryBg",ii(t.secondary.main,.5)),eo(t.LinearProgress,"errorBg",ii(t.error.main,.5)),eo(t.LinearProgress,"infoBg",ii(t.info.main,.5)),eo(t.LinearProgress,"successBg",ii(t.success.main,.5)),eo(t.LinearProgress,"warningBg",ii(t.warning.main,.5)),eo(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.13)`),eo(t.Slider,"primaryTrack",ii(t.primary.main,.5)),eo(t.Slider,"secondaryTrack",ii(t.secondary.main,.5)),eo(t.Slider,"errorTrack",ii(t.error.main,.5)),eo(t.Slider,"infoTrack",ii(t.info.main,.5)),eo(t.Slider,"successTrack",ii(t.success.main,.5)),eo(t.Slider,"warningTrack",ii(t.warning.main,.5));const e=li(t.background.default,.98);eo(t.SnackbarContent,"bg",e),eo(t.SnackbarContent,"color",ro((()=>t.getContrastText(e)))),eo(t.SpeedDialAction,"fabHoverBg",li(t.background.paper,.15)),eo(t.StepConnector,"border",n("palette-grey-600")),eo(t.StepContent,"border",n("palette-grey-600")),eo(t.Switch,"defaultColor",n("palette-grey-300")),eo(t.Switch,"defaultDisabledColor",n("palette-grey-600")),eo(t.Switch,"primaryDisabledColor",ii(t.primary.main,.55)),eo(t.Switch,"secondaryDisabledColor",ii(t.secondary.main,.55)),eo(t.Switch,"errorDisabledColor",ii(t.error.main,.55)),eo(t.Switch,"infoDisabledColor",ii(t.info.main,.55)),eo(t.Switch,"successDisabledColor",ii(t.success.main,.55)),eo(t.Switch,"warningDisabledColor",ii(t.warning.main,.55)),eo(t.TableCell,"border",ii(ni(t.divider,1),.68)),eo(t.Tooltip,"bg",ni(t.grey[700],.92))}no(t.background,"default"),no(t.background,"paper"),no(t.common,"background"),no(t.common,"onBackground"),no(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&eo(t[e],"mainChannel",Xr(to(n.main))),n.light&&eo(t[e],"lightChannel",Xr(to(n.light))),n.dark&&eo(t[e],"darkChannel",Xr(to(n.dark))),n.contrastText&&eo(t[e],"contrastTextChannel",Xr(to(n.contrastText))),"text"===e&&(no(t[e],"primary"),no(t[e],"secondary")),"action"===e&&(n.active&&no(t[e],"active"),n.selected&&no(t[e],"selected")))}))}));for(var x=arguments.length,S=new Array(x>1?x-1:0),_=1;_<x;_++)S[_-1]=arguments[_];b=S.reduce(((e,t)=>An(e,t)),b);const k={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:Zi(b)},{vars:C,generateThemeVars:E,generateStyleSheets:I}=Ti(b,k);return b.vars=C,Object.entries(b.colorSchemes[b.defaultColorScheme]).forEach((e=>{let[t,n]=e;b[t]=n})),b.generateThemeVars=E,b.generateStyleSheets=I,b.generateSpacing=function(){return ki(l.spacing,Yn(this))},b.getColorSchemeSelector=function(e){return function(t){return"media"===e?`@media (prefers-color-scheme: ${t})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${t}"] &`:"class"===e?`.${t} &`:"data"===e?`[data-${t}] &`:`${e.replace("%s",t)} &`:"&"}}(s),b.spacing=b.generateSpacing(),b.shouldSkipGeneratingVar=o,b.unstable_sxConfig={...Rr,...l?.unstable_sxConfig},b.unstable_sx=function(e){return Nr({sx:e,theme:this})},b.toRuntimeSource=qi,b}function so(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...!0!==n&&n,palette:Si({...!0===n?{}:n.palette,mode:t})})}function ao(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=t?.mode,...o}=e,s=i||"light",a=r?.[s],l={...r,...t?{[s]:{..."boolean"!==typeof a&&a,palette:t}}:void 0};for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];if(!1===n){if(!("colorSchemes"in e))return Hi(e,...u);let n=t;"palette"in e||l[s]&&(!0!==l[s]?n=l[s].palette:"dark"===s&&(n={mode:"dark"}));const r=Hi({...e,palette:n},...u);return r.defaultColorScheme=s,r.colorSchemes=l,"light"===r.palette.mode&&(r.colorSchemes.light={...!0!==l.light&&l.light,palette:r.palette},so(r,"dark",l.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark={...!0!==l.dark&&l.dark,palette:r.palette},so(r,"light",l.light)),r}return t||"light"in l||"light"!==s||(l.light=!0),oo({...o,colorSchemes:l,defaultColorScheme:s,..."boolean"!==typeof n&&n},...u)}const lo={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:co,useColorScheme:uo,getInitColorSchemeScript:ho}=function(e){const{themeId:t,theme:n={},modeStorageKey:r=$r,colorSchemeStorageKey:o=zr,disableTransitionOnChange:s=!1,defaultColorScheme:a,resolveTheme:l}=e,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=i.createContext(void 0),d={},h={},p="string"===typeof a?a:a.light,f="string"===typeof a?a:a.dark;return{CssVarsProvider:function(e){const{children:c,theme:p,modeStorageKey:f=r,colorSchemeStorageKey:m=o,disableTransitionOnChange:g=s,storageManager:v,storageWindow:y=("undefined"===typeof window?void 0:window),documentNode:b=("undefined"===typeof document?void 0:document),colorSchemeNode:w=("undefined"===typeof document?void 0:document.documentElement),disableNestedContext:x=!1,disableStyleSheetGeneration:S=!1,defaultMode:_="system",forceThemeRerender:k=!1,noSsr:C}=e,E=i.useRef(!1),I=Oe(),T=i.useContext(u),P=!!T&&!x,R=i.useMemo((()=>p||("function"===typeof n?n():n)),[p]),A=R[t],N=A||R,{colorSchemes:j=d,components:O=h,cssVarPrefix:D}=N,M=Object.keys(j).filter((e=>!!j[e])).join(","),L=i.useMemo((()=>M.split(",")),[M]),F="string"===typeof a?a:a.light,$="string"===typeof a?a:a.dark,z=j[F]&&j[$]?_:j[N.defaultColorScheme]?.palette?.mode||N.palette?.mode,{mode:B,setMode:U,systemMode:V,lightColorScheme:W,darkColorScheme:q,colorScheme:H,setColorScheme:K}=Kr({supportedColorSchemes:L,defaultLightColorScheme:F,defaultDarkColorScheme:$,modeStorageKey:f,colorSchemeStorageKey:m,defaultMode:z,storageManager:v,storageWindow:y,noSsr:C});let G=B,Q=H;P&&(G=T.mode,Q=T.colorScheme);let Y=Q||N.defaultColorScheme;N.vars&&!k&&(Y=N.defaultColorScheme);const X=i.useMemo((()=>{const e=N.generateThemeVars?.()||N.vars,t={...N,components:O,colorSchemes:j,cssVarPrefix:D,vars:e};if("function"===typeof t.generateSpacing&&(t.spacing=t.generateSpacing()),Y){const e=j[Y];e&&"object"===typeof e&&Object.keys(e).forEach((n=>{e[n]&&"object"===typeof e[n]?t[n]={...t[n],...e[n]}:t[n]=e[n]}))}return l?l(t):t}),[N,Y,O,j,D]),J=N.colorSchemeSelector;Fr((()=>{if(Q&&w&&J&&"media"!==J){const e=J;let t=J;if("class"===e&&(t=".%s"),"data"===e&&(t="[data-%s]"),e?.startsWith("data-")&&!e.includes("%s")&&(t=`[${e}="%s"]`),t.startsWith("."))w.classList.remove(...L.map((e=>t.substring(1).replace("%s",e)))),w.classList.add(t.substring(1).replace("%s",Q));else{const e=t.replace("%s",Q).match(/\[([^\]]+)\]/);if(e){const[t,n]=e[1].split("=");n||L.forEach((e=>{w.removeAttribute(t.replace(Q,e))})),w.setAttribute(t,n?n.replace(/"|'/g,""):"")}else w.setAttribute(t,Q)}}}),[Q,J,w,L]),i.useEffect((()=>{let e;if(g&&E.current&&b){const t=b.createElement("style");t.appendChild(b.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),b.head.appendChild(t),window.getComputedStyle(b.body),e=setTimeout((()=>{b.head.removeChild(t)}),1)}return()=>{clearTimeout(e)}}),[Q,g,b]),i.useEffect((()=>(E.current=!0,()=>{E.current=!1})),[]);const Z=i.useMemo((()=>({allColorSchemes:L,colorScheme:Q,darkColorScheme:q,lightColorScheme:W,mode:G,setColorScheme:K,setMode:U,systemMode:V})),[L,Q,q,W,G,K,U,V,X.colorSchemeSelector]);let ee=!0;(S||!1===N.cssVariables||P&&I?.cssVarPrefix===D)&&(ee=!1);const te=(0,Me.jsxs)(i.Fragment,{children:[(0,Me.jsx)(_n,{themeId:A?t:void 0,theme:X,children:c}),ee&&(0,Me.jsx)(Lr,{styles:X.generateStyleSheets?.()||[]})]});return P?te:(0,Me.jsx)(u.Provider,{value:Z,children:te})},useColorScheme:()=>i.useContext(u)||c,getInitColorSchemeScript:e=>function(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=$r,colorSchemeStorageKey:o=zr,attribute:s=Br,colorSchemeNode:a="document.documentElement",nonce:l}=e||{};let c="",u=s;if("class"===s&&(u=".%s"),"data"===s&&(u="[data-%s]"),u.startsWith(".")){const e=u.substring(1);c+=`${a}.classList.remove('${e}'.replace('%s', light), '${e}'.replace('%s', dark));\n      ${a}.classList.add('${e}'.replace('%s', colorScheme));`}const d=u.match(/\[([^\]]+)\]/);if(d){const[e,t]=d[1].split("=");t||(c+=`${a}.removeAttribute('${e}'.replace('%s', light));\n      ${a}.removeAttribute('${e}'.replace('%s', dark));`),c+=`\n      ${a}.setAttribute('${e}'.replace('%s', colorScheme), ${t?`${t}.replace('%s', colorScheme)`:'""'});`}else c+=`${a}.setAttribute('${u}', colorScheme);`;return(0,Me.jsx)("script",{suppressHydrationWarning:!0,nonce:"undefined"===typeof window?l:"",dangerouslySetInnerHTML:{__html:`(function() {\ntry {\n  let colorScheme = '';\n  const mode = localStorage.getItem('${i}') || '${t}';\n  const dark = localStorage.getItem('${o}-dark') || '${r}';\n  const light = localStorage.getItem('${o}-light') || '${n}';\n  if (mode === 'system') {\n    // handle system mode\n    const mql = window.matchMedia('(prefers-color-scheme: dark)');\n    if (mql.matches) {\n      colorScheme = dark\n    } else {\n      colorScheme = light\n    }\n  }\n  if (mode === 'light') {\n    colorScheme = light;\n  }\n  if (mode === 'dark') {\n    colorScheme = dark;\n  }\n  if (colorScheme) {\n    ${c}\n  }\n} catch(e){}})();`}},"mui-color-scheme-init")}({colorSchemeStorageKey:o,defaultLightColorScheme:p,defaultDarkColorScheme:f,modeStorageKey:r,...e})}}({themeId:kn,theme:()=>ao({cssVariables:!0}),colorSchemeStorageKey:lo.colorSchemeStorageKey,modeStorageKey:lo.modeStorageKey,defaultColorScheme:{light:lo.defaultLightColorScheme,dark:lo.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:Mi(e.palette,e.typography)};return t.unstable_sx=function(e){return Nr({sx:e,theme:this})},t}});const po=co;function fo(e){let{theme:t,...n}=e;if("function"===typeof t)return(0,Me.jsx)(Cn,{theme:t,...n});const r=kn in t?t[kn]:t;return"colorSchemes"in r?(0,Me.jsx)(po,{theme:t,...n}):"vars"in r?(0,Me.jsx)(Cn,{theme:t,...n}):(0,Me.jsx)(Cn,{theme:{...t,vars:null},...n})}function mo(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=(e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??Rr;return Object.keys(e).forEach((r=>{n[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]})),t})(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return Pn(e)?{...r,...e}:r}:{...r,...t},{...i,sx:o}}const go=Ni();const vo=function(){return pn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:go)};const yo=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=vo(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,Me.jsx)(Lr,{styles:o})},bo=ao();const wo=function(e){return(0,Me.jsx)(yo,{...e,defaultTheme:bo,themeId:kn})};function xo(e){return function(t){return(0,Me.jsx)(wo,{styles:"function"===typeof e?n=>e({theme:n,...t}):e})}}function So(e){return bn(e)}const _o="function"===typeof xo({}),ko=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),Co=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),Eo=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={};t&&e.colorSchemes&&"function"===typeof e.getColorSchemeSelector&&Object.entries(e.colorSchemes).forEach((t=>{let[r,i]=t;const o=e.getColorSchemeSelector(r);o.startsWith("@")?n[o]={":root":{colorScheme:i.palette?.mode}}:n[o.replace(/\s*&/,"")]={colorScheme:i.palette?.mode}}));let r={html:ko(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...Co(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...n};const i=e.components?.MuiCssBaseline?.styleOverrides;return i&&(r=[r,i]),r},Io="mui-ecs",To=xo(_o?e=>{let{theme:t,enableColorScheme:n}=e;return Eo(t,n)}:e=>{let{theme:t}=e;return(e=>{const t=Eo(e,!1),n=Array.isArray(t)?t[0]:t;return!e.vars&&n&&(n.html[`:root:has(${Io})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[r,i]=t;const o=e.getColorSchemeSelector(r);o.startsWith("@")?n[o]={[`:root:not(:has(.${Io}))`]:{colorScheme:i.palette?.mode}}:n[o.replace(/\s*&/,"")]={[`&:not(:has(.${Io}))`]:{colorScheme:i.palette?.mode}}})),t})(t)});const Po=function(e){const t=So({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return(0,Me.jsxs)(i.Fragment,{children:[_o&&(0,Me.jsx)(To,{enableColorScheme:r}),!_o&&!r&&(0,Me.jsx)("span",{className:Io,style:{display:"none"}}),n]})};function Ro(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ro(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Ao=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ro(e))&&(r&&(r+=" "),r+=t);return r},No=e=>e,jo=(()=>{let e=No;return{configure(t){e=t},generate:t=>e(t),reset(){e=No}}})(),Oo={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Do(e,t){const n=Oo[t];return n?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${n}`:`${jo.generate(e)}-${t}`}function Mo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let e=0;e<o.length;e+=1){const r=o[e];r&&(s+=(!0===a?"":" ")+t(r),a=!1,n&&n[r]&&(s+=" "+n[r]))}r[i]=s}return r}function Lo(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?vn(t.components[n].defaultProps,r):r}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fo.apply(null,arguments)}var $o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,zo=Wt((function(e){return $o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Bo=function(e){return"theme"!==e},Uo=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?zo:Bo},Vo=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Wo=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Bt(t,n,r),nn((function(){return Ut(t,n,r)})),null},qo=function e(t,n){var r,o,s=t.__emotion_real===t,a=s&&t.__emotion_base||t;void 0!==n&&(r=n.label,o=n.target);var l=Vo(t,n,s),c=l||Uo(a),u=!c("as");return function(){var d=arguments,h=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var p=d[0];h.push(p[0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],p[m])}var g=sn((function(e,t,n){var r=u&&e.as||a,s="",d=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=i.useContext(an)}"string"===typeof e.className?s=zt(t.registered,d,e.className):null!=e.className&&(s=e.className+" ");var m=en(h.concat(d),t.registered,p);s+=t.key+"-"+m.name,void 0!==o&&(s+=" "+o);var g=u&&void 0===l?Uo(r):c,v={};for(var y in e)u&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=s,n&&(v.ref=n),i.createElement(i.Fragment,null,i.createElement(Wo,{cache:t,serialized:m,isStringTag:"string"===typeof r}),i.createElement(r,v))}));return g.displayName=void 0!==r?r:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,r){return e(t,Fo({},n,r,{shouldForwardProp:Vo(g,r,!0)})).apply(void 0,h)},g}}.bind(null);function Ho(e,t){return qo(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){qo[e]=qo(e)}));const Ko=[];function Go(e){return Ko[0]=e,en(Ko)}function Qo(e){const{variants:t,...n}=e,r={variants:t,style:Go(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=Go(e.style))})),r}const Yo=Ni();function Xo(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function Jo(e){return e?(t,n)=>n[e]:null}function Zo(e,t){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap((t=>Zo(e,t)));if(Array.isArray(n?.variants)){let t;if(n.isProcessed)t=n.style;else{const{variants:e,...r}=n;t=r}return es(e,n.variants,[t])}return n?.isProcessed?n.style:n}function es(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e:for(let i=0;i<t.length;i+=1){const o=t[i];if("function"===typeof o.props){if(n??={...e,...e.ownerState,ownerState:e.ownerState},!o.props(n))continue}else for(const t in o.props)if(e[t]!==o.props[t]&&e.ownerState?.[t]!==o.props[t])continue e;"function"===typeof o.style?(n??={...e,...e.ownerState,ownerState:e.ownerState},r.push(o.style(n))):r.push(o.style)}return r}function ts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Yo,rootShouldForwardProp:r=Xo,slotShouldForwardProp:i=Xo}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==Nr))));const{name:n,slot:s,skipVariantsResolver:a,skipSx:l,overridesResolver:c=Jo(rs(s)),...u}=t,d=void 0!==a?a:s&&"Root"!==s&&"root"!==s||!1,h=l||!1;let p=Xo;"Root"===s||"root"===s?p=r:s?p=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(p=void 0);const f=Ho(e,{shouldForwardProp:p,label:ns(n,s),...u}),m=e=>{if("function"===typeof e&&e.__emotion_real!==e)return function(t){return Zo(t,e)};if(Pn(e)){const t=Qo(e);return t.variants?function(e){return Zo(e,t)}:t.style}return e},g=function(){const t=[];for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=i.map(m),l=[];if(t.push(o),n&&c&&l.push((function(e){const t=e.theme,r=t.components?.[n]?.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=Zo(e,r[n]);return c(e,i)})),n&&!d&&l.push((function(e){const t=e.theme,r=t?.components?.[n]?.variants;return r?es(e,r):null})),h||l.push(Nr),Array.isArray(a[0])){const e=a.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const u=[...t,...a,...l],p=f(...u);return e.muiName&&(p.muiName=e.muiName),p};return f.withConfig&&(g.withConfig=f.withConfig),g}}function ns(e,t){}function rs(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const is=ts(),os=Ni(),ss=is("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${In(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),as=e=>function(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=vo(r);return i&&(o=o[i]||o),Lo({theme:o,name:n,props:t})}({props:e,name:"MuiContainer",defaultTheme:os});const ls=In;const cs=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},us=e=>cs(e)&&"classes"!==e,ds=ts({themeId:kn,defaultTheme:bo,rootShouldForwardProp:us}),hs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=ss,useThemeProps:n=as,componentName:r="MuiContainer"}=e,o=t((e=>{let{theme:t,ownerState:n}=e;return{width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}}}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:`${i}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return{..."xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},...n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`}}}})),s=i.forwardRef((function(e,t){const i=n(e),{className:s,component:a="div",disableGutters:l=!1,fixed:c=!1,maxWidth:u="lg",classes:d,...h}=i,p={...i,component:a,disableGutters:l,fixed:c,maxWidth:u},f=((e,t)=>{const{classes:n,fixed:r,disableGutters:i,maxWidth:o}=e;return Mo({root:["root",o&&`maxWidth${In(String(o))}`,r&&"fixed",i&&"disableGutters"]},(e=>Do(t,e)),n)})(p,r);return(0,Me.jsx)(o,{as:a,ownerState:p,className:Ao(f.root,s),ref:t,...h})}));return s}({createStyledComponent:ds("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${ls(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>So({props:e,name:"MuiContainer"})}),ps=hs,fs=!1,ms=!1,gs="${JSCORE_VERSION}",vs=function(e,t){if(!e)throw ys(t)},ys=function(e){return new Error("Firebase Database ("+gs+") INTERNAL ASSERT FAILED: "+e)},bs=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ws={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bs(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new xs;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class xs extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ss=function(e){const t=bs(e);return ws.encodeByteArray(t,!0)},_s=function(e){return Ss(e).replace(/\./g,"")},ks=function(e){try{return ws.decodeString(e,!0)}catch(zN){console.error("base64Decode failed: ",zN)}return null};function Cs(e){return Es(void 0,e)}function Es(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Es(e[n],t[n]));return e}const Is=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ts=()=>{try{return Is()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDqVvQqQqQqQqQqQqQqQqQqQqQqQqQqQq",REACT_APP_FIREBASE_APP_ID:"1:1234567890:web:abcdef1234567890",REACT_APP_FIREBASE_AUTH_DOMAIN:"side-eye.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://side-eye-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1234567890",REACT_APP_FIREBASE_PROJECT_ID:"side-eye",REACT_APP_FIREBASE_STORAGE_BUCKET:"side-eye.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(zN){return}const t=e&&ks(e[1]);return t&&JSON.parse(t)})()}catch(zN){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${zN}`)}},Ps=e=>{var t,n;return null===(n=null===(t=Ts())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Rs=e=>{const t=Ps(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},As=()=>{var e;return null===(e=Ts())||void 0===e?void 0:e.config},Ns=e=>{var t;return null===(t=Ts())||void 0===t?void 0:t[`_${e}`]};class js{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Os(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_s(JSON.stringify({alg:"none",type:"JWT"})),_s(JSON.stringify(o)),""].join(".")}function Ds(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ms(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ds())}function Ls(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Fs(){return!0===fs||!0===ms}function $s(){return!function(){var e;const t=null===(e=Ts())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(zN){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zs(){try{return"object"===typeof indexedDB}catch(zN){return!1}}class Bs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Us.prototype.create)}}class Us{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Vs,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new Bs(n,o,t)}}const Vs=/\{\$([^}]+)}/g;function Ws(e){return JSON.parse(e)}function qs(e){return JSON.stringify(e)}const Hs=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Ws(ks(o[0])||""),n=Ws(ks(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(zN){}return{header:t,claims:n,data:r,signature:i}};function Ks(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gs(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Qs(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ys(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Xs(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Js(n)&&Js(o)){if(!Xs(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Js(e){return null!==e&&"object"===typeof e}function Zs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ea(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ta(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class na{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class ra{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ia),void 0===r.error&&(r.error=ia),void 0===r.complete&&(r.complete=ia);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(zN){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(zN){"undefined"!==typeof console&&console.error&&console.error(zN)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ia(){}function oa(e,t){return`${e} failed: ${t} argument `}const sa=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function aa(e){return e&&e._delegate?e._delegate:e}class la{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ca="[DEFAULT]";class ua{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new js;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(zN){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(zN){if(r)return null;throw zN}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch(zN){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(zN){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:da(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca;return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function da(e){return e===ca?void 0:e}class ha{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ua(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const pa=[];var fa;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fa||(fa={}));const ma={debug:fa.DEBUG,verbose:fa.VERBOSE,info:fa.INFO,warn:fa.WARN,error:fa.ERROR,silent:fa.SILENT},ga=fa.INFO,va={[fa.DEBUG]:"log",[fa.VERBOSE]:"log",[fa.INFO]:"info",[fa.WARN]:"warn",[fa.ERROR]:"error"},ya=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=va[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...o)};class ba{constructor(e){this.name=e,this._logLevel=ga,this._logHandler=ya,this._userLogHandler=null,pa.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fa))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ma[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fa.DEBUG,...t),this._logHandler(this,fa.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fa.VERBOSE,...t),this._logHandler(this,fa.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fa.INFO,...t),this._logHandler(this,fa.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fa.WARN,...t),this._logHandler(this,fa.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fa.ERROR,...t),this._logHandler(this,fa.ERROR,...t)}}let wa,xa;const Sa=new WeakMap,_a=new WeakMap,ka=new WeakMap,Ca=new WeakMap,Ea=new WeakMap;let Ia={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return _a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ka.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ra(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ta(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xa||(xa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Aa(this),n),Ra(Sa.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ra(e.apply(Aa(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Aa(this),t,...r);return ka.set(o,t.sort?t.sort():[t]),Ra(o)}}function Pa(e){return"function"===typeof e?Ta(e):(e instanceof IDBTransaction&&function(e){if(_a.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));_a.set(e,t)}(e),t=e,(wa||(wa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Ia):e);var t}function Ra(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Ra(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Sa.set(t,e)})).catch((()=>{})),Ea.set(t,e),t}(e);if(Ca.has(e))return Ca.get(e);const t=Pa(e);return t!==e&&(Ca.set(e,t),Ea.set(t,e)),t}const Aa=e=>Ea.get(e);const Na=["get","getKey","getAll","getAllKeys","count"],ja=["put","add","delete","clear"],Oa=new Map;function Da(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Oa.get(t))return Oa.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ja.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Na.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Oa.set(t,o),o}Ia=(e=>({...e,get:(t,n,r)=>Da(t,n)||e.get(t,n,r),has:(t,n)=>!!Da(t,n)||e.has(t,n)}))(Ia);class Ma{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const La="@firebase/app",Fa="0.11.4",$a=new ba("@firebase/app"),za="@firebase/app-compat",Ba="@firebase/analytics-compat",Ua="@firebase/analytics",Va="@firebase/app-check-compat",Wa="@firebase/app-check",qa="@firebase/auth",Ha="@firebase/auth-compat",Ka="@firebase/database",Ga="@firebase/data-connect",Qa="@firebase/database-compat",Ya="@firebase/functions",Xa="@firebase/functions-compat",Ja="@firebase/installations",Za="@firebase/installations-compat",el="@firebase/messaging",tl="@firebase/messaging-compat",nl="@firebase/performance",rl="@firebase/performance-compat",il="@firebase/remote-config",ol="@firebase/remote-config-compat",sl="@firebase/storage",al="@firebase/storage-compat",ll="@firebase/firestore",cl="@firebase/vertexai",ul="@firebase/firestore-compat",dl="firebase",hl="[DEFAULT]",pl={[La]:"fire-core",[za]:"fire-core-compat",[Ua]:"fire-analytics",[Ba]:"fire-analytics-compat",[Wa]:"fire-app-check",[Va]:"fire-app-check-compat",[qa]:"fire-auth",[Ha]:"fire-auth-compat",[Ka]:"fire-rtdb",[Ga]:"fire-data-connect",[Qa]:"fire-rtdb-compat",[Ya]:"fire-fn",[Xa]:"fire-fn-compat",[Ja]:"fire-iid",[Za]:"fire-iid-compat",[el]:"fire-fcm",[tl]:"fire-fcm-compat",[nl]:"fire-perf",[rl]:"fire-perf-compat",[il]:"fire-rc",[ol]:"fire-rc-compat",[sl]:"fire-gcs",[al]:"fire-gcs-compat",[ll]:"fire-fst",[ul]:"fire-fst-compat",[cl]:"fire-vertex","fire-js":"fire-js",[dl]:"fire-js-all"},fl=new Map,ml=new Map,gl=new Map;function vl(e,t){try{e.container.addComponent(t)}catch(zN){$a.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,zN)}}function yl(e){const t=e.name;if(gl.has(t))return $a.debug(`There were multiple attempts to register component ${t}.`),!1;gl.set(t,e);for(const n of fl.values())vl(n,e);for(const n of ml.values())vl(n,e);return!0}function bl(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wl(e){return null!==e&&void 0!==e&&void 0!==e.settings}const xl=new Us("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Sl{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new la("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xl.create("app-deleted",{appName:this._name})}}const _l="11.6.0";function kl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:hl,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw xl.create("bad-app-name",{appName:String(i)});if(n||(n=As()),!n)throw xl.create("no-options");const o=fl.get(i);if(o){if(Xs(n,o.options)&&Xs(r,o.config))return o;throw xl.create("duplicate-app",{appName:i})}const s=new ha(i);for(const l of gl.values())s.addComponent(l);const a=new Sl(n,r,s);return fl.set(i,a),a}function Cl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hl;const t=fl.get(e);if(!t&&e===hl&&As())return kl();if(!t)throw xl.create("no-app",{appName:e});return t}function El(e,t,n){var r;let i=null!==(r=pl[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void $a.warn(e.join(" "))}yl(new la(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Il="firebase-heartbeat-store";let Tl=null;function Pl(){return Tl||(Tl=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Ra(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Ra(s.result),e.oldVersion,e.newVersion,Ra(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Il)}catch(zN){console.warn(zN)}}}).catch((e=>{throw xl.create("idb-open",{originalErrorMessage:e.message})}))),Tl}async function Rl(e,t){try{const n=(await Pl()).transaction(Il,"readwrite"),r=n.objectStore(Il);await r.put(t,Al(e)),await n.done}catch(zN){if(zN instanceof Bs)$a.warn(zN.message);else{const t=xl.create("idb-set",{originalErrorMessage:null===zN||void 0===zN?void 0:zN.message});$a.warn(t.message)}}}function Al(e){return`${e.name}!${e.options.appId}`}class Nl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ol(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jl();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(zN){$a.warn(zN)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=jl(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Dl(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Dl(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=_s(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(zN){return $a.warn(zN),""}}}function jl(){return(new Date).toISOString().substring(0,10)}class Ol{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!zs()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(PI){t(PI)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Pl()).transaction(Il),n=await t.objectStore(Il).get(Al(e));return await t.done,n}catch(zN){if(zN instanceof Bs)$a.warn(zN.message);else{const t=xl.create("idb-get",{originalErrorMessage:null===zN||void 0===zN?void 0:zN.message});$a.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Rl(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Rl(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Dl(e){return _s(JSON.stringify({version:2,heartbeats:e})).length}var Ml;Ml="",yl(new la("platform-logger",(e=>new Ma(e)),"PRIVATE")),yl(new la("heartbeat",(e=>new Nl(e)),"PRIVATE")),El(La,Fa,Ml),El(La,Fa,"esm2017"),El("fire-js","");El("firebase","11.6.0","app");var Ll,Fl,$l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},zl={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=p(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=s(n)).j(t);d(c)||0<c.l(e);)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=p(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=p(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,p=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=p*g,f(n,2*i+2*o),n[2*i+2*o+1]+=l*g,f(n,2*i+2*o+1),n[2*i+2*o+1]+=p*m,f(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,f(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Fl=zl.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},Ll=zl.Integer=r}).apply("undefined"!==typeof $l?$l:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Bl,Ul,Vl,Wl,ql,Hl,Kl,Gl,Ql="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Yl={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ql&&Ql];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=P;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new E),(e=>e.reset()));class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,T=!1,P=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);I=()=>{e.then(A)}};var A=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(HN){_(HN)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function N(){this.s=this.s,this.C=this.C}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},j.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(HN){}return e}();function D(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(XN){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,j);var M={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function $(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function U(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=V(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new $(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),q={};function H(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)H(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,s(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new B(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,s(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(o=e.g[t],n,r,i))&&(z(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])U(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(U(n,e),0==n.h&&(n.src=null,t[W]=null)):z(e)}}}function X(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){N.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var i=t;x(t=new j(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(s=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&U(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,N),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends N{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){N.call(this),this.h=e,this.g={}}d(le,N);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,pe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function fe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){j.call(this,"d")}function be(){j.call(this,"c")}d(ye,j),d(be,j);var we={},xe=null;function Se(){return xe=xe||new ne}function _e(e){j.call(this,we.La,e)}function ke(e){const t=Se();re(t,new _e(t))}function Ce(e,t){j.call(this,we.STAT_EVENT,e),this.stat=t}function Ee(e){const t=Se();re(t,new Ce(t,e))}function Ie(e,t){j.call(this,we.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Pe(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(_e,j),we.STAT_EVENT="statevent",d(Ce,j),we.Ma="timingevent",d(Ie,j),Pe.prototype.xa=function(){this.g=!1},Pe.prototype.info=function(){};var Ae,Ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(Oe,fe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Ae=new Oe;var Le={},Fe={};function $e(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),Ve(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var s=H(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ue(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||an(e.j,e)}function Ke(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(UN){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Qt(n)}nn(n),Ee(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(UN){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&sn(n),!f(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(qe(a),Ve(a)),r.g=s}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(UN){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||ke(),qe(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=qt(this.g);e="";var o=r.length,s=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),He(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),Ke(this),He(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ue(this,a),e==Fe){4==h&&(this.s=4,Ee(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ee(15),Re(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),Ge(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),rn(d),d.M=!0,Ee(11))}}else Re(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),He(this)}else Re(this.i,this.l,a,null),Ge(this,a);4==h&&Ke(this),this.o&&!this.J&&(4==h?an(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Ke(this),He(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,Ke(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Ee(17)),Ke(this),this.s=2,He(this)):We(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function st(e){return new ot(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,yt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?vt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,vt=/[#\?]/g,yt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){xt(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return xt(e),t=Ct(e,t),e.g.has(t)}function kt(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(XN){}}function It(){this.g=new pe}function Tt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;s(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(zN){throw t.push(r+"type="+encodeURIComponent("_badmap")),zN}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Rt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Nt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,jt(e)}function jt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)_t(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,_t(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(Pt,fe),Pt.prototype.g=function(){return new Rt(this.l,this.j)},Pt.prototype.i=function(e){return function(){return e}}({}),d(Rt,ne),(e=Rt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,jt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nt(this):jt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Nt(this))},e.Qa=function(e){this.g&&(this.response=e,Nt(this))},e.ga=function(){this.g&&Nt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function $t(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Ut(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!Lt.test(s?s.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{Ut(e)}}}function Ut(e,t){if(e.g){Vt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(zN){}}}function Vt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Jl){return null}}function Ht(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ht("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ht("baseRetryDelayMs",5e3,e),this.cb=Ht("retryDelaySeedMs",1e4,e),this.Wa=Ht("forwardChannelMaxRetries",2,e),this.wa=Ht("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Yt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(YN){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}un(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Yt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||R(),T||(I(),T=!0),P.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),$e(n,r,t)}function Zt(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Tt(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||R(),T||(I(),T=!0),P.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,ze(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function an(e,t){var n=null;if(e.g==t){sn(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ie(r,n)),Xt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Pe;if(i.Image){const r=new Image;r.onload=u(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Et,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Pe;const n=new AbortController,r=setTimeout((()=>{n.abort(),Et(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)})).catch((()=>{clearTimeout(r),Et(0,0,!1,t)}))}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),un(e),Yt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof ot?st(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new ot(null);r&&at(s,r),t&&(s.g=t),o&&lt(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new Pt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function fn(){}function mn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yn(this)}function gn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function yn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(XN){return void $t(this,XN)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(XN){$t(this,XN)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ut(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ut(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(VN){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(VN){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),x(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Ot(o)))+"&"+t:this.m&&Dt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,$e(i,n,null)):$e(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Qt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Gt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ye),d(vn,be),d(yn,pn),yn.prototype.ua=function(){re(this.g,"a")},yn.prototype.ta=function(e){re(this.g,new gn(e))},yn.prototype.sa=function(e){re(this.g,new vn)},yn.prototype.ra=function(){re(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Gl=Yl.createWebChannelTransport=function(){return new fn},Kl=Yl.getStatEventTarget=function(){return Se()},Hl=Yl.Event=we,ql=Yl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,Wl=Yl.ErrorCode=Ne,je.COMPLETE="complete",Vl=Yl.EventType=je,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Ul=Yl.WebChannel=ge,Yl.FetchXmlHttpFactory=Pt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Bl=Yl.XhrIo=Mt}).apply("undefined"!==typeof Ql?Ql:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Xl="@firebase/firestore",Jl="4.7.10";class Zl{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zl.UNAUTHENTICATED=new Zl(null),Zl.GOOGLE_CREDENTIALS=new Zl("google-credentials-uid"),Zl.FIRST_PARTY=new Zl("first-party-uid"),Zl.MOCK_USER=new Zl("mock-user");let ec="11.5.0";const tc=new ba("@firebase/firestore");function nc(){return tc.logLevel}function rc(e){if(tc.logLevel<=fa.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(sc);tc.debug(`Firestore (${ec}): ${e}`,...i)}}function ic(e){if(tc.logLevel<=fa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(sc);tc.error(`Firestore (${ec}): ${e}`,...i)}}function oc(e){if(tc.logLevel<=fa.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(sc);tc.warn(`Firestore (${ec}): ${e}`,...i)}}function sc(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(BN){return e}}function ac(){const e=`FIRESTORE (${ec}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw ic(e),new Error(e)}function lc(e,t){e||ac()}function cc(e,t){return e}const uc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dc extends Bs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class pc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Zl.UNAUTHENTICATED)))}shutdown(){}}class mc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class gc{constructor(e){this.t=e,this.currentUser=Zl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lc(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new hc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hc,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{rc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(rc("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hc)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(rc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(lc("string"==typeof t.accessToken),new pc(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lc(null===e||"string"==typeof e),new Zl(e)}}class vc{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Zl.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yc{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new vc(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Zl.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wc{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,wl(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){lc(void 0===this.o);const n=e=>{null!=e.error&&rc("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,rc("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{rc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):rc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new bc(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(lc("string"==typeof e.token),this.R=e.token,new bc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Sc(){return new TextEncoder}class _c{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=xc(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function kc(e,t){return e<t?-1:e>t?1:0}function Cc(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return kc(r,i);{const o=Sc(),s=Ic(o.encode(Ec(e,n)),o.encode(Ec(t,n)));return 0!==s?s:kc(r,i)}}n+=r>65535?2:1}return kc(e.length,t.length)}function Ec(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Ic(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return kc(e[n],t[n]);return kc(e.length,t.length)}function Tc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Pc(e){return e+"\0"}const Rc=-62135596800,Ac=1e6;class Nc{static now(){return Nc.fromMillis(Date.now())}static fromDate(e){return Nc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ac);return new Nc(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new dc(uc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new dc(uc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Rc)throw new dc(uc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dc(uc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ac}_compareTo(e){return this.seconds===e.seconds?kc(this.nanoseconds,e.nanoseconds):kc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Rc;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jc{static fromTimestamp(e){return new jc(e)}static min(){return new jc(new Nc(0,0))}static max(){return new jc(new Nc(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Oc="__name__";class Dc{constructor(e,t,n){void 0===t?t=0:t>e.length&&ac(),void 0===n?n=e.length-t:n>e.length-t&&ac(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Dc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Dc.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return kc(e.length,t.length)}static compareSegments(e,t){const n=Dc.isNumericId(e),r=Dc.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Dc.extractNumericId(e).compare(Dc.extractNumericId(t)):Cc(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ll.fromString(e.substring(4,e.length-2))}}class Mc extends Dc{construct(e,t,n){return new Mc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new dc(uc.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Mc(e)}static emptyPath(){return new Mc([])}}const Lc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fc extends Dc{construct(e,t,n){return new Fc(e,t,n)}static isValidIdentifier(e){return Lc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Oc}static keyField(){return new Fc([Oc])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new dc(uc.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new dc(uc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new dc(uc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new dc(uc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fc(t)}static emptyPath(){return new Fc([])}}class $c{constructor(e){this.path=e}static fromPath(e){return new $c(Mc.fromString(e))}static fromName(e){return new $c(Mc.fromString(e).popFirst(5))}static empty(){return new $c(Mc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $c(new Mc(e.slice()))}}const zc=-1;class Bc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Uc(e){return e.fields.find((e=>2===e.kind))}function Vc(e){return e.fields.filter((e=>2!==e.kind))}Bc.UNKNOWN_ID=-1;class Wc{constructor(e,t){this.fieldPath=e,this.kind=t}}class qc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new qc(0,Gc.min())}}function Hc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=jc.fromTimestamp(1e9===r?new Nc(n+1,0):new Nc(n,r));return new Gc(i,$c.empty(),t)}function Kc(e){return new Gc(e.readTime,e.key,zc)}class Gc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Gc(jc.min(),$c.empty(),zc)}static max(){return new Gc(jc.max(),$c.empty(),zc)}}function Qc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=$c.comparator(e.documentKey,t.documentKey),0!==n?n:kc(e.largestBatchId,t.largestBatchId))}const Yc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Jc(e){if(e.code!==uc.FAILED_PRECONDITION||e.message!==Yc)throw e;rc("LocalStore","Unexpectedly lost primary lease")}class Zc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ac(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Zc(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Zc?t:Zc.resolve(t)}catch(e){return Zc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Zc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Zc.reject(t)}static resolve(e){return new Zc(((t,n)=>{t(e)}))}static reject(e){return new Zc(((t,n)=>{n(e)}))}static waitFor(e){return new Zc(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Zc.resolve(!1);for(const n of e)t=t.next((e=>e?Zc.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Zc(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Zc(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}const eu="SimpleDb";class tu{static open(e,t,n,r){try{return new tu(t,e.transaction(r,n))}catch(e){throw new ou(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new hc,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new ou(e,t.error)):this.m.resolve()},this.transaction.onerror=t=>{const n=uu(t.target.error);this.m.reject(new ou(e,n))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(rc(eu,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new au(t)}}class nu{static delete(e){return rc(eu,"Removing database:",e),lu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!zs())return!1;if(nu.v())return!0;const e=Ds(),t=nu.C(e),n=0<t&&t<10,r=ru(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static v(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.O=n,12.2===nu.C(Ds())&&ic("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(rc(eu,"Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ou(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new dc(uc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new dc(uc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ou(e,r))},r.onupgradeneeded=e=>{rc(eu,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.O.B(t,r.transaction,e.oldVersion,this.version).next((()=>{rc(eu,"Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.N(e);const t=tu.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.S(),e))).catch((e=>(t.abort(e),Zc.reject(e)))).toPromise();return o.catch((()=>{})),await t.p,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(rc(eu,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ru(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class iu{constructor(e){this.q=e,this.$=!1,this.U=null}get isDone(){return this.$}get K(){return this.U}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.U=e}delete(){return lu(this.q.delete())}}class ou extends dc{constructor(e,t){super(uc.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function su(e){return"IndexedDbTransactionError"===e.name}class au{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(rc(eu,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(rc(eu,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),lu(n)}add(e){return rc(eu,"ADD",this.store.name,e,e),lu(this.store.add(e))}get(e){return lu(this.store.get(e)).next((t=>(void 0===t&&(t=null),rc(eu,"GET",this.store.name,e,t),t)))}delete(e){return rc(eu,"DELETE",this.store.name,e),lu(this.store.delete(e))}count(){return rc(eu,"COUNT",this.store.name),lu(this.store.count())}G(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Zc(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.j(e,((e,n)=>{t.push(n)})).next((()=>t))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Zc(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){rc(eu,"DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.j(r,((e,t,n)=>n.delete()))}Z(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.j(r,t)}X(e){const t=this.cursor({});return new Zc(((n,r)=>{t.onerror=e=>{const t=uu(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}j(e,t){const n=[];return new Zc(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new iu(i),s=t(i.primaryKey,i.value,o);if(s instanceof Zc){const e=s.catch((e=>(o.done(),Zc.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>Zc.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function lu(e){return new Zc(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=uu(e.target.error);n(t)}}))}let cu=!1;function uu(e){const t=nu.C(Ds());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new dc("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cu||(cu=!0,setTimeout((()=>{throw e}),0)),e}}return e}const du="IndexBackfiller";class hu{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}te(e){rc(du,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const e=await this.ee.ne();rc(du,`Documents written: ${e}`)}catch(e){su(e)?rc(du,"Ignoring IndexedDB error during index backfill: ",e):await Jc(e)}await this.te(6e4)}))}}class pu{constructor(e,t){this.localStore=e,this.persistence=t}async ne(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.re(t,e)))}re(e,t){const n=new Set;let r=t,i=!0;return Zc.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return rc(du,`Processing collection: ${t}`),this.ie(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ie(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.se(r,n))).next((n=>(rc(du,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}se(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Kc(t);Qc(r,n)>0&&(n=r)})),new Gc(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class fu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}fu.ae=-1;const mu=-1;function gu(e){return null==e}function vu(e){return 0===e&&1/e==-1/0}function yu(e){return"number"==typeof e&&Number.isInteger(e)&&!vu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const bu="\x01";function wu(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Su(t)),t=xu(e.get(n),t);return Su(t)}function xu(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case bu:n+="\x01\x11";break;default:n+=t}}return n}function Su(e){return e+bu+"\x01"}function _u(e){const t=e.length;if(lc(t>=2),2===t)return lc(e.charAt(0)===bu&&"\x01"===e.charAt(1)),Mc.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf(bu,o);switch((t<0||t>n)&&ac(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:ac()}o=t+2}return new Mc(r)}const ku="remoteDocuments",Cu="owner",Eu="owner",Iu="mutationQueues",Tu="mutations",Pu="batchId",Ru="userMutationsIndex",Au=["userId","batchId"];function Nu(e,t){return[e,wu(t)]}function ju(e,t,n){return[e,wu(t),n]}const Ou={},Du="documentMutations",Mu="remoteDocumentsV14",Lu=["prefixPath","collectionGroup","readTime","documentId"],Fu="documentKeyIndex",$u=["prefixPath","collectionGroup","documentId"],zu="collectionGroupIndex",Bu=["collectionGroup","readTime","prefixPath","documentId"],Uu="remoteDocumentGlobal",Vu="remoteDocumentGlobalKey",Wu="targets",qu="queryTargetsIndex",Hu=["canonicalId","targetId"],Ku="targetDocuments",Gu=["targetId","path"],Qu="documentTargetsIndex",Yu=["path","targetId"],Xu="targetGlobalKey",Ju="targetGlobal",Zu="collectionParents",ed=["collectionId","parent"],td="clientMetadata",nd="bundles",rd="namedQueries",id="indexConfiguration",od="collectionGroupIndex",sd="indexState",ad=["indexId","uid"],ld="sequenceNumberIndex",cd=["uid","sequenceNumber"],ud="indexEntries",dd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hd="documentKeyIndex",pd=["indexId","uid","orderedDocumentKey"],fd="documentOverlays",md=["userId","collectionPath","documentId"],gd="collectionPathOverlayIndex",vd=["userId","collectionPath","largestBatchId"],yd="collectionGroupOverlayIndex",bd=["userId","collectionGroup","largestBatchId"],wd="globals",xd=[Iu,Tu,Du,ku,Wu,Cu,Ju,Ku,td,Uu,Zu,nd,rd],Sd=[...xd,fd],_d=[Iu,Tu,Du,Mu,Wu,Cu,Ju,Ku,td,Uu,Zu,nd,rd,fd],kd=_d,Cd=[...kd,id,sd,ud],Ed=Cd,Id=[...Cd,wd];class Td extends Xc{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function Pd(e,t){const n=cc(e);return nu.M(n.ue,t)}function Rd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ad(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class jd{constructor(e,t){this.comparator=e,this.root=t||Dd.EMPTY}insert(e,t){return new jd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dd.BLACK,null,null))}remove(e){return new jd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Od(this.root,e,this.comparator,!1)}getReverseIterator(){return new Od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Od(this.root,e,this.comparator,!0)}}class Od{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Dd.RED,this.left=null!=r?r:Dd.EMPTY,this.right=null!=i?i:Dd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Dd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Dd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Dd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ac();if(this.right.isRed())throw ac();const e=this.left.check();if(e!==this.right.check())throw ac();return e+(this.isRed()?0:1)}}Dd.EMPTY=null,Dd.RED=!0,Dd.BLACK=!1,Dd.EMPTY=new class{constructor(){this.size=0}get key(){throw ac()}get value(){throw ac()}get color(){throw ac()}get left(){throw ac()}get right(){throw ac()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Dd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Md{constructor(e){this.comparator=e,this.data=new jd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ld(this.data.getIterator())}getIteratorFrom(e){return new Ld(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Md))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Md(this.comparator);return t.data=e,t}}class Ld{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fd(e){return e.hasNext()?e.getNext():void 0}class $d{constructor(e){this.fields=e,e.sort(Fc.comparator)}static empty(){return new $d([])}unionWith(e){let t=new Md(Fc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new $d(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class zd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bd{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new zd("Invalid base64 string: "+e):e}}(e);return new Bd(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Bd(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bd.EMPTY_BYTE_STRING=new Bd("");const Ud=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vd(e){if(lc(!!e),"string"==typeof e){let t=0;const n=Ud.exec(e);if(lc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Wd(e.seconds),nanos:Wd(e.nanos)}}function Wd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function qd(e){return"string"==typeof e?Bd.fromBase64String(e):Bd.fromUint8Array(e)}const Hd="server_timestamp",Kd="__type__",Gd="__previous_value__",Qd="__local_write_time__";function Yd(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Kd])||void 0===n?void 0:n.stringValue)===Hd}function Xd(e){const t=e.mapValue.fields[Gd];return Yd(t)?Xd(t):t}function Jd(e){const t=Vd(e.mapValue.fields[Qd].timestampValue);return new Nc(t.seconds,t.nanos)}class Zd{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}const eh="(default)";class th{constructor(e,t){this.projectId=e,this.database=t||eh}static empty(){return new th("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof th&&e.projectId===this.projectId&&e.database===this.database}}const nh="__type__",rh="__max__",ih={mapValue:{fields:{__type__:{stringValue:rh}}}},oh="__vector__",sh="value",ah={nullValue:"NULL_VALUE"};function lh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Yd(e)?4:Ch(e)?9007199254740991:_h(e)?10:11:ac()}function ch(e,t){if(e===t)return!0;const n=lh(e);if(n!==lh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Jd(e).isEqual(Jd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Vd(e.timestampValue),r=Vd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return qd(e.bytesValue).isEqual(qd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wd(e.geoPointValue.latitude)===Wd(t.geoPointValue.latitude)&&Wd(e.geoPointValue.longitude)===Wd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wd(e.integerValue)===Wd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Wd(e.doubleValue),r=Wd(t.doubleValue);return n===r?vu(n)===vu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Tc(e.arrayValue.values||[],t.arrayValue.values||[],ch);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Rd(n)!==Rd(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ch(n[i],r[i])))return!1;return!0}(e,t);default:return ac()}}function uh(e,t){return void 0!==(e.values||[]).find((e=>ch(e,t)))}function dh(e,t){if(e===t)return 0;const n=lh(e),r=lh(t);if(n!==r)return kc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Wd(e.integerValue||e.doubleValue),r=Wd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return hh(e.timestampValue,t.timestampValue);case 4:return hh(Jd(e),Jd(t));case 5:return Cc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=qd(e),r=qd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=kc(n[i],r[i]);if(0!==e)return e}return kc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=kc(Wd(e.latitude),Wd(t.latitude));return 0!==n?n:kc(Wd(e.longitude),Wd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ph(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s[sh])||void 0===n?void 0:n.arrayValue,c=null===(r=a[sh])||void 0===r?void 0:r.arrayValue,u=kc((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:ph(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ih.mapValue&&t===ih.mapValue)return 0;if(e===ih.mapValue)return 1;if(t===ih.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Cc(r[s],o[s]);if(0!==e)return e;const t=dh(n[r[s]],i[o[s]]);if(0!==t)return t}return kc(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ac()}}function hh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return kc(e,t);const n=Vd(e),r=Vd(t),i=kc(n.seconds,r.seconds);return 0!==i?i:kc(n.nanos,r.nanos)}function ph(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=dh(n[i],r[i]);if(e)return e}return kc(n.length,r.length)}function fh(e){return mh(e)}function mh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Vd(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return qd(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return $c.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=mh(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${mh(e.fields[i])}`;return n+"}"}(e.mapValue):ac()}function gh(e){switch(lh(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Xd(e);return t?16+gh(t):16;case 5:return 2*e.stringValue.length;case 6:return qd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+gh(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ad(e.fields,((e,n)=>{t+=e.length+gh(n)})),t}(e.mapValue);default:throw ac()}}function vh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function yh(e){return!!e&&"integerValue"in e}function bh(e){return!!e&&"arrayValue"in e}function wh(e){return!!e&&"nullValue"in e}function xh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sh(e){return!!e&&"mapValue"in e}function _h(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[nh])||void 0===n?void 0:n.stringValue)===oh}function kh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ad(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=kh(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ch(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===rh}const Eh={mapValue:{fields:{[nh]:{stringValue:oh},[sh]:{arrayValue:{}}}}};function Ih(e){return"nullValue"in e?ah:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?vh(th.empty(),$c.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?_h(e)?Eh:{mapValue:{}}:ac()}function Th(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?vh(th.empty(),$c.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?Eh:"mapValue"in e?_h(e)?{mapValue:{}}:ih:ac()}function Ph(e,t){const n=dh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Rh(e,t){const n=dh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Ah{constructor(e){this.value=e}static empty(){return new Ah({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Sh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kh(t)}setAll(e){let t=Fc.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=kh(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Sh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ch(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Sh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ad(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ah(kh(this.value))}}function Nh(e){const t=[];return Ad(e.fields,((e,n)=>{const r=new Fc([e]);if(Sh(n)){const e=Nh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new $d(t)}class jh{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new jh(e,0,jc.min(),jc.min(),jc.min(),Ah.empty(),0)}static newFoundDocument(e,t,n,r){return new jh(e,1,t,jc.min(),n,r,0)}static newNoDocument(e,t){return new jh(e,2,t,jc.min(),jc.min(),Ah.empty(),0)}static newUnknownDocument(e,t){return new jh(e,3,t,jc.min(),jc.min(),Ah.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ah.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ah.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oh{constructor(e,t){this.position=e,this.inclusive=t}}function Dh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?$c.comparator($c.fromName(s.referenceValue),n.key):dh(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Mh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ch(e.position[n],t.position[n]))return!1;return!0}class Lh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Fh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class $h{}class zh extends $h{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Yh(e,t,n):"array-contains"===t?new ep(e,n):"in"===t?new tp(e,n):"not-in"===t?new np(e,n):"array-contains-any"===t?new rp(e,n):new zh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Xh(e,n):new Jh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dh(t,this.value)):null!==t&&lh(this.value)===lh(t)&&this.matchesComparison(dh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ac()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bh extends $h{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Bh(e,t)}matches(e){return Uh(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Uh(e){return"and"===e.op}function Vh(e){return"or"===e.op}function Wh(e){return qh(e)&&Uh(e)}function qh(e){for(const t of e.filters)if(t instanceof Bh)return!1;return!0}function Hh(e){if(e instanceof zh)return e.field.canonicalString()+e.op.toString()+fh(e.value);if(Wh(e))return e.filters.map((e=>Hh(e))).join(",");{const t=e.filters.map((e=>Hh(e))).join(",");return`${e.op}(${t})`}}function Kh(e,t){return e instanceof zh?function(e,t){return t instanceof zh&&e.op===t.op&&e.field.isEqual(t.field)&&ch(e.value,t.value)}(e,t):e instanceof Bh?function(e,t){return t instanceof Bh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Kh(n,t.filters[r])),!0)}(e,t):void ac()}function Gh(e,t){const n=e.filters.concat(t);return Bh.create(n,e.op)}function Qh(e){return e instanceof zh?function(e){return`${e.field.canonicalString()} ${e.op} ${fh(e.value)}`}(e):e instanceof Bh?function(e){return e.op.toString()+" {"+e.getFilters().map(Qh).join(" ,")+"}"}(e):"Filter"}class Yh extends zh{constructor(e,t,n){super(e,t,n),this.key=$c.fromName(n.referenceValue)}matches(e){const t=$c.comparator(e.key,this.key);return this.matchesComparison(t)}}class Xh extends zh{constructor(e,t){super(e,"in",t),this.keys=Zh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Jh extends zh{constructor(e,t){super(e,"not-in",t),this.keys=Zh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Zh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>$c.fromName(e.referenceValue)))}class ep extends zh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bh(t)&&uh(t.arrayValue,this.value)}}class tp extends zh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uh(this.value.arrayValue,t)}}class np extends zh{constructor(e,t){super(e,"not-in",t)}matches(e){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uh(this.value.arrayValue,t)}}class rp extends zh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>uh(this.value.arrayValue,e)))}}class ip{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.le=null}}function op(e){return new ip(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function sp(e){const t=cc(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Hh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),gu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>fh(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>fh(e))).join(",")),t.le=e}return t.le}function ap(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Fh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Kh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Mh(e.startAt,t.startAt)&&Mh(e.endAt,t.endAt)}function lp(e){return $c.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function cp(e,t){return e.filters.filter((e=>e instanceof zh&&e.field.isEqual(t)))}function up(e,t,n){let r=ah,i=!0;for(const o of cp(e,t)){let e=ah,t=!0;switch(o.op){case"<":case"<=":e=Ih(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=ah}Ph({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Ph({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function dp(e,t,n){let r=ih,i=!0;for(const o of cp(e,t)){let e=ih,t=!0;switch(o.op){case">=":case">":e=Th(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=ih}Rh({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Rh({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class hp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function pp(e,t,n,r,i,o,s,a){return new hp(e,t,n,r,i,o,s,a)}function fp(e){return new hp(e)}function mp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function gp(e){return null!==e.collectionGroup}function vp(e){const t=cc(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Md(Fc.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new Lh(r,n))})),e.has(Fc.keyField().canonicalString())||t.he.push(new Lh(Fc.keyField(),n))}return t.he}function yp(e){const t=cc(e);return t.Pe||(t.Pe=bp(t,vp(e))),t.Pe}function bp(e,t){if("F"===e.limitType)return op(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Lh(e.field,t)}));const n=e.endAt?new Oh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Oh(e.startAt.position,e.startAt.inclusive):null;return op(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function wp(e,t){const n=e.filters.concat([t]);return new hp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xp(e,t,n){return new hp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sp(e,t){return ap(yp(e),yp(t))&&e.limitType===t.limitType}function _p(e){return`${sp(yp(e))}|lt:${e.limitType}`}function kp(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Qh(e))).join(", ")}]`),gu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>fh(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>fh(e))).join(",")),`Target(${t})`}(yp(e))}; limitType=${e.limitType})`}function Cp(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$c.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of vp(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Dh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,vp(e),t))&&!(e.endAt&&!function(e,t,n){const r=Dh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,vp(e),t))}(e,t)}function Ep(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ip(e){return(t,n)=>{let r=!1;for(const i of vp(e)){const e=Tp(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Tp(e,t,n){const r=e.field.isKeyField()?$c.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dh(r,i):ac()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ac()}}class Pp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ad(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Nd(this.inner)}size(){return this.innerSize}}const Rp=new jd($c.comparator);function Ap(){return Rp}const Np=new jd($c.comparator);function jp(){let e=Np;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Op(e){let t=Np;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Dp(){return Lp()}function Mp(){return Lp()}function Lp(){return new Pp((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Fp=new jd($c.comparator),$p=new Md($c.comparator);function zp(){let e=$p;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Bp=new Md(kc);function Up(){return Bp}function Vp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vu(t)?"-0":t}}function Wp(e){return{integerValue:""+e}}function qp(e,t){return yu(t)?Wp(t):Vp(e,t)}class Hp{constructor(){this._=void 0}}function Kp(e,t,n){return e instanceof Yp?function(e,t){const n={fields:{[Kd]:{stringValue:Hd},[Qd]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Yd(t)&&(t=Xd(t)),t&&(n.fields[Gd]=t),{mapValue:n}}(n,t):e instanceof Xp?Jp(e,t):e instanceof Zp?ef(e,t):function(e,t){const n=Qp(e,t),r=nf(n)+nf(e.Ie);return yh(n)&&yh(e.Ie)?Wp(r):Vp(e.serializer,r)}(e,t)}function Gp(e,t,n){return e instanceof Xp?Jp(e,t):e instanceof Zp?ef(e,t):n}function Qp(e,t){return e instanceof tf?function(e){return yh(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Yp extends Hp{}class Xp extends Hp{constructor(e){super(),this.elements=e}}function Jp(e,t){const n=rf(t);for(const r of e.elements)n.some((e=>ch(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Zp extends Hp{constructor(e){super(),this.elements=e}}function ef(e,t){let n=rf(t);for(const r of e.elements)n=n.filter((e=>!ch(e,r)));return{arrayValue:{values:n}}}class tf extends Hp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function nf(e){return Wd(e.integerValue||e.doubleValue)}function rf(e){return bh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class of{constructor(e,t){this.field=e,this.transform=t}}class sf{constructor(e,t){this.version=e,this.transformResults=t}}class af{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new af}static exists(e){return new af(void 0,e)}static updateTime(e){return new af(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class cf{}function uf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new wf(e.key,af.none()):new mf(e.key,e.data,af.none());{const n=e.data,r=Ah.empty();let i=new Md(Fc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new gf(e.key,r,new $d(i.toArray()),af.none())}}function df(e,t,n){e instanceof mf?function(e,t,n){const r=e.value.clone(),i=yf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gf?function(e,t,n){if(!lf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=yf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(vf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hf(e,t,n,r){return e instanceof mf?function(e,t,n,r){if(!lf(e.precondition,t))return n;const i=e.value.clone(),o=bf(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof gf?function(e,t,n,r){if(!lf(e.precondition,t))return n;const i=bf(e.fieldTransforms,r,t),o=t.data;return o.setAll(vf(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return lf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function pf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Qp(r.transform,e||null);null!=i&&(null===n&&(n=Ah.empty()),n.set(r.field,i))}return n||null}function ff(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Tc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xp&&t instanceof Xp||e instanceof Zp&&t instanceof Zp?Tc(e.elements,t.elements,ch):e instanceof tf&&t instanceof tf?ch(e.Ie,t.Ie):e instanceof Yp&&t instanceof Yp}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class mf extends cf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class gf extends cf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vf(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function yf(e,t,n){const r=new Map;lc(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Gp(s,a,n[i]))}return r}function bf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Kp(e,o,t))}return r}class wf extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xf extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&df(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=hf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=hf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Mp();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=uf(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(jc.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),zp())}isEqual(e){return this.batchId===e.batchId&&Tc(this.mutations,e.mutations,((e,t)=>ff(e,t)))&&Tc(this.baseMutations,e.baseMutations,((e,t)=>ff(e,t)))}}class _f{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){lc(e.mutations.length===n.length);let r=Fp;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new _f(e,t,n,r)}}class kf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Cf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ef,If;function Tf(e){switch(e){case uc.OK:return ac();case uc.CANCELLED:case uc.UNKNOWN:case uc.DEADLINE_EXCEEDED:case uc.RESOURCE_EXHAUSTED:case uc.INTERNAL:case uc.UNAVAILABLE:case uc.UNAUTHENTICATED:return!1;case uc.INVALID_ARGUMENT:case uc.NOT_FOUND:case uc.ALREADY_EXISTS:case uc.PERMISSION_DENIED:case uc.FAILED_PRECONDITION:case uc.ABORTED:case uc.OUT_OF_RANGE:case uc.UNIMPLEMENTED:case uc.DATA_LOSS:return!0;default:return ac()}}function Pf(e){if(void 0===e)return ic("GRPC error has no .code"),uc.UNKNOWN;switch(e){case Ef.OK:return uc.OK;case Ef.CANCELLED:return uc.CANCELLED;case Ef.UNKNOWN:return uc.UNKNOWN;case Ef.DEADLINE_EXCEEDED:return uc.DEADLINE_EXCEEDED;case Ef.RESOURCE_EXHAUSTED:return uc.RESOURCE_EXHAUSTED;case Ef.INTERNAL:return uc.INTERNAL;case Ef.UNAVAILABLE:return uc.UNAVAILABLE;case Ef.UNAUTHENTICATED:return uc.UNAUTHENTICATED;case Ef.INVALID_ARGUMENT:return uc.INVALID_ARGUMENT;case Ef.NOT_FOUND:return uc.NOT_FOUND;case Ef.ALREADY_EXISTS:return uc.ALREADY_EXISTS;case Ef.PERMISSION_DENIED:return uc.PERMISSION_DENIED;case Ef.FAILED_PRECONDITION:return uc.FAILED_PRECONDITION;case Ef.ABORTED:return uc.ABORTED;case Ef.OUT_OF_RANGE:return uc.OUT_OF_RANGE;case Ef.UNIMPLEMENTED:return uc.UNIMPLEMENTED;case Ef.DATA_LOSS:return uc.DATA_LOSS;default:return ac()}}(If=Ef||(Ef={}))[If.OK=0]="OK",If[If.CANCELLED=1]="CANCELLED",If[If.UNKNOWN=2]="UNKNOWN",If[If.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",If[If.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",If[If.NOT_FOUND=5]="NOT_FOUND",If[If.ALREADY_EXISTS=6]="ALREADY_EXISTS",If[If.PERMISSION_DENIED=7]="PERMISSION_DENIED",If[If.UNAUTHENTICATED=16]="UNAUTHENTICATED",If[If.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",If[If.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",If[If.ABORTED=10]="ABORTED",If[If.OUT_OF_RANGE=11]="OUT_OF_RANGE",If[If.UNIMPLEMENTED=12]="UNIMPLEMENTED",If[If.INTERNAL=13]="INTERNAL",If[If.UNAVAILABLE=14]="UNAVAILABLE",If[If.DATA_LOSS=15]="DATA_LOSS";let Rf=null;const Af=new Ll([4294967295,4294967295],0);function Nf(e){const t=Sc().encode(e),n=new Fl;return n.update(t),new Uint8Array(n.digest())}function jf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ll([n,r],0),new Ll([i,o],0)]}class Of{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Df(`Invalid padding: ${t}`);if(n<0)throw new Df(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Df(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Df(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ll.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(Ll.fromNumber(n)));return 1===r.compare(Af)&&(r=new Ll([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=Nf(e),[n,r]=jf(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Of(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ee)return;const t=Nf(e),[n,r]=jf(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Df extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Lf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Mf(jc.min(),r,new jd(kc),Ap(),zp())}}class Lf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Lf(n,t,zp(),zp(),zp())}}class Ff{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class $f{constructor(e,t){this.targetId=e,this.ge=t}}class zf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bd.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Bf{constructor(){this.pe=0,this.ye=Wf(),this.we=Bd.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=zp(),t=zp(),n=zp();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ac()}})),new Lf(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=Wf()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,lc(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Uf{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ap(),this.$e=Vf(),this.Ue=Vf(),this.Ke=new jd(kc)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:ac()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(lp(i))if(0===n){const e=new $c(i.path);this.ze(t,e,jh.newNoDocument(e,jc.min()))}else lc(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Rf||Rf.rt(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=qd(n).toUint8Array()}catch(e){if(e instanceof zd)return oc("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Of(o,r,i)}catch(e){return oc(e instanceof Df?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ee?null:s}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&lp(i.target)){const t=new $c(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,jh.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=zp();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Mf(e,t,this.Ke,this.Qe,n);return this.Qe=Ap(),this.$e=Vf(),this.Ue=Vf(),this.Ke=new jd(kc),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Bf,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Md(kc),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Md(kc),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||rc("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Bf),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Vf(){return new jd($c.comparator)}function Wf(){return new jd($c.comparator)}const qf={asc:"ASCENDING",desc:"DESCENDING"},Hf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kf={and:"AND",or:"OR"};class Gf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qf(e,t){return e.useProto3Json||gu(t)?t:{value:t}}function Yf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Jf(e,t){return Yf(e,t.toTimestamp())}function Zf(e){return lc(!!e),jc.fromTimestamp(function(e){const t=Vd(e);return new Nc(t.seconds,t.nanos)}(e))}function em(e,t){return tm(e,t).canonicalString()}function tm(e,t){const n=function(e){return new Mc(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function nm(e){const t=Mc.fromString(e);return lc(km(t)),t}function rm(e,t){return em(e.databaseId,t.path)}function im(e,t){const n=nm(t);if(n.get(1)!==e.databaseId.projectId)throw new dc(uc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dc(uc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $c(lm(n))}function om(e,t){return em(e.databaseId,t)}function sm(e){const t=nm(e);return 4===t.length?Mc.emptyPath():lm(t)}function am(e){return new Mc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lm(e){return lc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function cm(e,t,n){return{name:rm(e,t),fields:n.value.mapValue.fields}}function um(e,t,n){const r=im(e,t.name),i=Zf(t.updateTime),o=t.createTime?Zf(t.createTime):jc.min(),s=new Ah({mapValue:{fields:t.fields}}),a=jh.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function dm(e,t){let n;if(t instanceof mf)n={update:cm(e,t.key,t.value)};else if(t instanceof wf)n={delete:rm(e,t.key)};else if(t instanceof gf)n={update:cm(e,t.key,t.data),updateMask:_m(t.fieldMask)};else{if(!(t instanceof xf))return ac();n={verify:rm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Yp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tf)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw ac()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Jf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ac()}(e,t.precondition)),n}function hm(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?af.updateTime(Zf(e.updateTime)):void 0!==e.exists?af.exists(e.exists):af.none()}(t.currentDocument):af.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)lc("REQUEST_TIME"===t.setToServerValue),n=new Yp;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Xp(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Zp(e)}else"increment"in t?n=new tf(e,t.increment):ac();const r=Fc.fromServerFormat(t.fieldPath);return new of(r,n)}(e,t))):[];if(t.update){t.update.name;const i=im(e,t.update.name),o=new Ah({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new $d(t.map((e=>Fc.fromServerFormat(e))))}(t.updateMask);return new gf(i,o,e,n,r)}return new mf(i,o,n,r)}if(t.delete){const r=im(e,t.delete);return new wf(r,n)}if(t.verify){const r=im(e,t.verify);return new xf(r,n)}return ac()}function pm(e,t){return{documents:[om(e,t.path)]}}function fm(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=om(e,i);const o=function(e){if(0!==e.length)return Sm(Bh.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:wm(e.field),direction:vm(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Qf(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function mm(e){let t=sm(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){lc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=gm(e);return t instanceof Bh&&Wh(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Lh(xm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,gu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Oh(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Oh(n,t)}(n.endAt)),pp(t,i,s,o,a,"F",l,c)}function gm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=xm(e.unaryFilter.field);return zh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=xm(e.unaryFilter.field);return zh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xm(e.unaryFilter.field);return zh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xm(e.unaryFilter.field);return zh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ac()}}(e):void 0!==e.fieldFilter?function(e){return zh.create(xm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ac()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Bh.create(e.compositeFilter.filters.map((e=>gm(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ac()}}(e.compositeFilter.op))}(e):ac()}function vm(e){return qf[e]}function ym(e){return Hf[e]}function bm(e){return Kf[e]}function wm(e){return{fieldPath:e.canonicalString()}}function xm(e){return Fc.fromServerFormat(e.fieldPath)}function Sm(e){return e instanceof zh?function(e){if("=="===e.op){if(xh(e.value))return{unaryFilter:{field:wm(e.field),op:"IS_NAN"}};if(wh(e.value))return{unaryFilter:{field:wm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xh(e.value))return{unaryFilter:{field:wm(e.field),op:"IS_NOT_NAN"}};if(wh(e.value))return{unaryFilter:{field:wm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wm(e.field),op:ym(e.op),value:e.value}}}(e):e instanceof Bh?function(e){const t=e.getFilters().map((e=>Sm(e)));return 1===t.length?t[0]:{compositeFilter:{op:bm(e.op),filters:t}}}(e):ac()}function _m(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function km(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Cm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:jc.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:jc.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Bd.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Cm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Em{constructor(e){this.Tt=e}}function Im(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Tm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:rm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Yf(e,t.version.toTimestamp()),createTime:Yf(e,t.createTime.toTimestamp())}}(e.Tt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Pm(t.version)};else{if(!t.isUnknownDocument())return ac();r.unknownDocument={path:n.path.toArray(),version:Pm(t.version)}}return r}function Tm(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Pm(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Rm(e){const t=new Nc(e.seconds,e.nanoseconds);return jc.fromTimestamp(t)}function Am(e,t){const n=(t.baseMutations||[]).map((t=>hm(e.Tt,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>hm(e.Tt,t))),i=Nc.fromMillis(t.localWriteTimeMs);return new Sf(t.batchId,i,n,r)}function Nm(e){const t=Rm(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Rm(e.lastLimboFreeSnapshotVersion):jc.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return lc(1===e.documents.length),yp(fp(sm(e.documents[0])))}(e.query):function(e){return yp(mm(e))}(e.query),new Cm(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Bd.fromBase64String(e.resumeToken))}function jm(e,t){const n=Pm(t.snapshotVersion),r=Pm(t.lastLimboFreeSnapshotVersion);let i;i=lp(t.target)?pm(e.Tt,t.target):fm(e.Tt,t.target).ht;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:sp(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Om(e){const t=mm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xp(t,t.limit,"L"):t}function Dm(e,t){return new kf(t.largestBatchId,hm(e.Tt,t.overlayMutation))}function Mm(e,t){const n=t.path.lastSegment();return[e,wu(t.path.popLast()),n]}function Lm(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Pm(r.readTime),documentKey:wu(r.documentKey.path),largestBatchId:r.largestBatchId}}class Fm{getBundleMetadata(e,t){return $m(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Rm(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return $m(e).put(function(e){return{bundleId:e.id,createTime:Pm(Zf(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return zm(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Om(e.bundledQuery),readTime:Rm(e.readTime)}}(e)}))}saveNamedQuery(e,t){return zm(e).put(function(e){return{name:e.name,readTime:Pm(Zf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function $m(e){return Pd(e,nd)}function zm(e){return Pd(e,rd)}class Bm{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const n=t.uid||"";return new Bm(e,n)}getOverlay(e,t){return Um(e).get(Mm(this.userId,t)).next((e=>e?Dm(this.serializer,e):null))}getOverlays(e,t){const n=Dp();return Zc.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new kf(t,i);r.push(this.Et(e,o))})),Zc.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(wu(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Um(e).J(gd,r))})),Zc.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Dp(),i=wu(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Um(e).G(gd,o).next((e=>{for(const t of e){const e=Dm(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Dp();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Um(e).Z({index:yd,range:s},((e,t,n)=>{const s=Dm(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}Et(e,t){return Um(e).put(function(e,t,n){const[r,i,o]=Mm(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:dm(e.Tt,n.mutation)}}(this.serializer,this.userId,t))}}function Um(e){return Pd(e,fd)}class Vm{dt(e){return Pd(e,wd)}getSessionToken(e){return this.dt(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?Bd.fromUint8Array(t):Bd.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Wm{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Wd(e.integerValue));else if("doubleValue"in e){const n=Wd(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),vu(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=Vd(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(qd(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?Ch(e)?this.ft(t,Number.MAX_SAFE_INTEGER):_h(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):ac()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const o=sh,s=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(Wd(s)),this.wt(o,t),this.Rt(i[o],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),$c.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}Wm.xt=new Wm;const qm=255;function Hm(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function Km(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Hm(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class Gm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Nt(n.value),n=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.kt(n.value),n=t.next();this.qt()}Qt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Nt(e);else if(e<2048)this.Nt(960|e>>>6),this.Nt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Nt(480|e>>>12),this.Nt(128|63&e>>>6),this.Nt(128|63&e);else{const e=t.codePointAt(0);this.Nt(240|e>>>18),this.Nt(128|63&e>>>12),this.Nt(128|63&e>>>6),this.Nt(128|63&e)}}this.Bt()}$t(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.kt(e);else if(e<2048)this.kt(960|e>>>6),this.kt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.kt(480|e>>>12),this.kt(128|63&e>>>6),this.kt(128|63&e);else{const e=t.codePointAt(0);this.kt(240|e>>>18),this.kt(128|63&e>>>12),this.kt(128|63&e>>>6),this.kt(128|63&e)}}this.qt()}Ut(e){const t=this.Kt(e),n=Km(t);this.Wt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Gt(e){const t=this.Kt(e),n=Km(t);this.Wt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}zt(){this.jt(qm),this.jt(255)}Ht(){this.Jt(qm),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Kt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Nt(e){const t=255&e;0===t?(this.jt(0),this.jt(255)):t===qm?(this.jt(qm),this.jt(0)):this.jt(t)}kt(e){const t=255&e;0===t?(this.Jt(0),this.Jt(255)):t===qm?(this.Jt(qm),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Qm{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Ut(e)}Vt(){this.Zt.zt()}}class Ym{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Xm{constructor(){this.Zt=new Gm,this.Xt=new Qm(this.Zt),this.en=new Ym(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return 0===e?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}class Jm{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}nn(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Jm(this.indexId,this.documentKey,this.arrayValue,n)}}function Zm(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=eg(e.arrayValue,t.arrayValue),0!==n?n:(n=eg(e.directionalValue,t.directionalValue),0!==n?n:$c.comparator(e.documentKey,t.documentKey)))}function eg(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class tg{constructor(e){this.rn=new Md(((e,t)=>Fc.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const e=t;e.isInequality()?this.rn=this.rn.add(e):this._n.push(e)}}get an(){return this.rn.size>1}un(e){if(lc(e.collectionGroup===this.collectionId),this.an)return!1;const t=Uc(e);if(void 0!==t&&!this.cn(t))return!1;const n=Vc(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.cn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.rn.size>0){const e=this.rn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.ln(e,t)||!this.hn(this.sn[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.sn.length||!this.hn(this.sn[o++],e))return!1}return!0}Pn(){if(this.an)return null;let e=new Md(Fc.comparator);const t=[];for(const n of this._n)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Wc(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Wc(n.field,0))}for(const n of this.sn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Wc(n.field,"asc"===n.dir?0:1)));return new Bc(Bc.UNKNOWN_ID,this.collectionId,t,qc.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ng(e){var t,n;if(lc(e instanceof zh||e instanceof Bh),e instanceof zh){if(e instanceof tp){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>zh.create(e.field,"==",t))))||[];return Bh.create(r,"or")}return e}const r=e.filters.map((e=>ng(e)));return Bh.create(r,e.op)}function rg(e){if(0===e.getFilters().length)return[];const t=ag(ng(e));return lc(sg(t)),ig(t)||og(t)?[t]:t.getFilters()}function ig(e){return e instanceof zh}function og(e){return e instanceof Bh&&Wh(e)}function sg(e){return ig(e)||og(e)||function(e){if(e instanceof Bh&&Vh(e)){for(const t of e.getFilters())if(!ig(t)&&!og(t))return!1;return!0}return!1}(e)}function ag(e){if(lc(e instanceof zh||e instanceof Bh),e instanceof zh)return e;if(1===e.filters.length)return ag(e.filters[0]);const t=e.filters.map((e=>ag(e)));let n=Bh.create(t,e.op);return n=ug(n),sg(n)?n:(lc(n instanceof Bh),lc(Uh(n)),lc(n.filters.length>1),n.filters.reduce(((e,t)=>lg(e,t))))}function lg(e,t){let n;return lc(e instanceof zh||e instanceof Bh),lc(t instanceof zh||t instanceof Bh),n=e instanceof zh?t instanceof zh?function(e,t){return Bh.create([e,t],"and")}(e,t):cg(e,t):t instanceof zh?cg(t,e):function(e,t){if(lc(e.filters.length>0&&t.filters.length>0),Uh(e)&&Uh(t))return Gh(e,t.getFilters());const n=Vh(e)?e:t,r=Vh(e)?t:e,i=n.filters.map((e=>lg(e,r)));return Bh.create(i,"or")}(e,t),ug(n)}function cg(e,t){if(Uh(t))return Gh(t,e.getFilters());{const n=t.filters.map((t=>lg(e,t)));return Bh.create(n,"or")}}function ug(e){if(lc(e instanceof zh||e instanceof Bh),e instanceof zh)return e;const t=e.getFilters();if(1===t.length)return ug(t[0]);if(qh(e))return e;const n=t.map((e=>ug(e))),r=[];return n.forEach((t=>{t instanceof zh?r.push(t):t instanceof Bh&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Bh.create(r,e.op)}class dg{constructor(){this.Tn=new hg}addToCollectionParentIndex(e,t){return this.Tn.add(t),Zc.resolve()}getCollectionParents(e,t){return Zc.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Zc.resolve()}deleteFieldIndex(e,t){return Zc.resolve()}deleteAllFieldIndexes(e){return Zc.resolve()}createTargetIndexes(e,t){return Zc.resolve()}getDocumentsMatchingTarget(e,t){return Zc.resolve(null)}getIndexType(e,t){return Zc.resolve(0)}getFieldIndexes(e,t){return Zc.resolve([])}getNextCollectionGroupToUpdate(e){return Zc.resolve(null)}getMinOffset(e,t){return Zc.resolve(Gc.min())}getMinOffsetFromCollectionGroup(e,t){return Zc.resolve(Gc.min())}updateCollectionGroup(e,t,n){return Zc.resolve()}updateIndexEntries(e,t){return Zc.resolve()}}class hg{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Md(Mc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Md(Mc.comparator)).toArray()}}const pg="IndexedDbIndexManager",fg=new Uint8Array(0);class mg{constructor(e,t){this.databaseId=t,this.In=new hg,this.En=new Pp((e=>sp(e)),((e,t)=>ap(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.In.add(t)}));const i={collectionId:n,parent:wu(r)};return gg(e).put(i)}return Zc.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Pc(t),""],!1,!0);return gg(e).G(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(_u(r.parent))}return n}))}addFieldIndex(e,t){const n=yg(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=bg(e);return i.next((e=>{n.put(Lm(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=yg(e),r=bg(e),i=vg(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=yg(e),n=vg(e),r=bg(e);return t.J().next((()=>n.J())).next((()=>r.J()))}createTargetIndexes(e,t){return Zc.forEach(this.dn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new tg(t).Pn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=vg(e);let r=!0;const i=new Map;return Zc.forEach(this.dn(t),(t=>this.An(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=zp();const r=[];return Zc.forEach(i,((i,o)=>{rc(pg,`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${sp(t)}`);const s=function(e,t){const n=Uc(t);if(void 0===n)return null;for(const r of cp(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of Vc(t))for(const t of cp(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Vc(t)){const t=0===i.kind?up(e,i.fieldPath,e.startAt):dp(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Oh(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Vc(t)){const t=0===i.kind?dp(e,i.fieldPath,e.endAt):up(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Oh(n,r)}(o,i),u=this.Rn(i,o,l),d=this.Rn(i,o,c),h=this.Vn(i,o,a),p=this.mn(i.indexId,s,u,l.inclusive,d,c.inclusive,h);return Zc.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=$c.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Zc.resolve(null)}))}dn(e){let t=this.En.get(e);return t||(t=0===e.filters.length?[e]:rg(Bh.create(e.filters,"and")).map((t=>op(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.En.set(e,t),t)}mn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.fn(t[u/l]):fg,d=this.gn(e,a,n[u%l],r),h=this.pn(e,a,i[u%l],o),p=s.map((t=>this.gn(e,a,t,!0)));c.push(...this.createRange(d,h,p))}return c}gn(e,t,n,r){const i=new Jm(e,$c.empty(),t,n);return r?i:i.nn()}pn(e,t,n,r){const i=new Jm(e,$c.empty(),t,n);return r?i.nn():i}An(e,t){const n=new tg(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.un(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.dn(t);return Zc.forEach(r,(t=>this.An(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Md(Fc.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}yn(e,t){const n=new Xm;for(const r of Vc(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.tn(r.kind);Wm.xt.At(e,i)}return n.Yt()}fn(e){const t=new Xm;return Wm.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const n=new Xm;return Wm.xt.At(vh(this.databaseId,t),n.tn(function(e){const t=Vc(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Yt()}Vn(e,t,n){if(null===n)return[];let r=[];r.push(new Xm);let i=0;for(const o of Vc(e)){const e=n[i++];for(const n of r)if(this.Sn(t,o.fieldPath)&&bh(e))r=this.bn(r,o,e);else{const t=n.tn(o.kind);Wm.xt.At(e,t)}}return this.Dn(r)}Rn(e,t,n){return this.Vn(e,t,n.position)}Dn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Yt();return t}bn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Xm;n.seed(e.Yt()),Wm.xt.At(o,n.tn(t.kind)),i.push(n)}return i}Sn(e,t){return!!e.filters.find((e=>e instanceof zh&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=yg(e),r=bg(e);return(t?n.G(od,IDBKeyRange.bound(t,t)):n.G()).next((e=>{const t=[];return Zc.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new qc(t.sequenceNumber,new Gc(Rm(t.readTime),new $c(_u(t.documentKey)),t.largestBatchId)):qc.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Wc(Fc.fromServerFormat(t),n)}));return new Bc(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:kc(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=yg(e),i=bg(e);return this.vn(e).next((e=>r.G(od,IDBKeyRange.bound(t,t)).next((t=>Zc.forEach(t,(t=>i.put(Lm(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Zc.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Zc.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Zc.forEach(i,(n=>this.Cn(e,t,n).next((t=>{const i=this.Fn(r,n);return t.isEqual(i)?Zc.resolve():this.Mn(e,r,n,t,i)})))))))}))}xn(e,t,n,r){return vg(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.wn(n,t.key),documentKey:t.key.path.toArray()})}On(e,t,n,r){return vg(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.wn(n,t.key),t.key.path.toArray()])}Cn(e,t,n){const r=vg(e);let i=new Md(Zm);return r.Z({index:hd,range:IDBKeyRange.only([n.indexId,this.uid,this.wn(n,t)])},((e,r)=>{i=i.add(new Jm(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Fn(e,t){let n=new Md(Zm);const r=this.yn(t,e);if(null==r)return n;const i=Uc(t);if(null!=i){const o=e.data.field(i.fieldPath);if(bh(o))for(const i of o.arrayValue.values||[])n=n.add(new Jm(t.indexId,e.key,this.fn(i),r))}else n=n.add(new Jm(t.indexId,e.key,fg,r));return n}Mn(e,t,n,r,i){rc(pg,"Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Fd(o),l=Fd(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Fd(s)):t?(i(a),a=Fd(o)):(a=Fd(o),l=Fd(s))}}(r,i,Zm,(r=>{o.push(this.xn(e,t,n,r))}),(r=>{o.push(this.On(e,t,n,r))})),Zc.waitFor(o)}vn(e){let t=1;return bg(e).Z({index:ld,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Zm(e,t))).filter(((e,t,n)=>!t||0!==Zm(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Zm(o,e),i=Zm(o,t);if(0===n)r[0]=e.nn();else if(n>0&&i<0)r.push(o),r.push(o.nn());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Nn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,fg,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,fg,[]];i.push(IDBKeyRange.bound(e,t))}return i}Nn(e,t){return Zm(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(wg)}getMinOffset(e,t){return Zc.mapArray(this.dn(t),(t=>this.An(e,t).next((e=>e||ac())))).next(wg)}}function gg(e){return Pd(e,Zu)}function vg(e){return Pd(e,ud)}function yg(e){return Pd(e,id)}function bg(e){return Pd(e,sd)}function wg(e){lc(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Qc(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Gc(t.readTime,t.documentKey,n)}const xg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sg=41943040;class _g{static withCacheSize(e){return new _g(e,_g.DEFAULT_COLLECTION_PERCENTILE,_g.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function kg(e,t,n){const r=e.store(Tu),i=e.store(Du),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{lc(1===a)})));const c=[];for(const u of n.mutations){const e=ju(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Zc.waitFor(o).next((()=>c))}function Cg(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ac();t=e.noDocument}return JSON.stringify(t).length}_g.DEFAULT_COLLECTION_PERCENTILE=10,_g.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_g.DEFAULT=new _g(Sg,_g.DEFAULT_COLLECTION_PERCENTILE,_g.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_g.DISABLED=new _g(-1,0,0);class Eg{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Bn={}}static It(e,t,n,r){lc(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Eg(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tg(e).Z({index:Ru,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Pg(e),o=Tg(e);return o.add({}).next((s=>{lc("number"==typeof s);const a=new Sf(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>dm(e.Tt,t))),i=n.mutations.map((t=>dm(e.Tt,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new Md(((e,t)=>kc(e.canonicalString(),t.canonicalString())));for(const e of r){const t=ju(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,Ou))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Bn[s]=a.keys()})),Zc.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return Tg(e).get(t).next((e=>e?(lc(e.userId===this.userId),Am(this.serializer,e)):null))}Ln(e,t){return this.Bn[t]?Zc.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Bn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Tg(e).Z({index:Ru,range:r},((e,t,r)=>{t.userId===this.userId&&(lc(t.batchId>=n),i=Am(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=mu;return Tg(e).Z({index:Ru,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,mu],[this.userId,Number.POSITIVE_INFINITY]);return Tg(e).G(Ru,t).next((e=>e.map((e=>Am(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Nu(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Pg(e).Z({range:r},((n,r,o)=>{const[s,a,l]=n,c=_u(a);if(s===this.userId&&t.path.isEqual(c))return Tg(e).get(l).next((e=>{if(!e)throw ac();lc(e.userId===this.userId),i.push(Am(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Md(kc);const r=[];return t.forEach((t=>{const i=Nu(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Pg(e).Z({range:o},((e,r,i)=>{const[o,s,a]=e,l=_u(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),Zc.waitFor(r).next((()=>this.kn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Nu(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Md(kc);return Pg(e).Z({range:o},((e,t,i)=>{const[o,a,l]=e,c=_u(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.kn(e,s)))}kn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Tg(e).get(t).next((e=>{if(null===e)throw ac();lc(e.userId===this.userId),n.push(Am(this.serializer,e))})))})),Zc.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return kg(e.ue,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.qn(t.batchId)})),Zc.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Zc.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Pg(e).Z({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=_u(e[1]);r.push(t)}else n.done()})).next((()=>{lc(0===r.length)}))}))}containsKey(e,t){return Ig(e,this.userId,t)}Qn(e){return Rg(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:mu,lastStreamToken:""}))}}function Ig(e,t,n){const r=Nu(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Pg(e).Z({range:o,Y:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function Tg(e){return Pd(e,Tu)}function Pg(e){return Pd(e,Du)}function Rg(e){return Pd(e,Iu)}class Ag{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ag(0)}static Kn(){return new Ag(-1)}}class Ng{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next((t=>{const n=new Ag(t.highestTargetId);return t.highestTargetId=n.next(),this.Gn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Wn(e).next((e=>jc.fromTimestamp(new Nc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Wn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Wn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Gn(e,r))))}addTargetData(e,t){return this.zn(e,t).next((()=>this.Wn(e).next((n=>(n.targetCount+=1,this.jn(t,n),this.Gn(e,n))))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>jg(e).delete(t.targetId))).next((()=>this.Wn(e))).next((t=>(lc(t.targetCount>0),t.targetCount-=1,this.Gn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return jg(e).Z(((o,s)=>{const a=Nm(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Zc.waitFor(i))).next((()=>r))}forEachTarget(e,t){return jg(e).Z(((e,n)=>{const r=Nm(n);t(r)}))}Wn(e){return Og(e).get(Xu).next((e=>(lc(null!==e),e)))}Gn(e,t){return Og(e).put(Xu,t)}zn(e,t){return jg(e).put(jm(this.serializer,t))}jn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Wn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=sp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return jg(e).Z({range:r,index:qu},((e,n,r)=>{const o=Nm(n);ap(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Dg(e);return t.forEach((t=>{const o=wu(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Zc.waitFor(r)}removeMatchingKeys(e,t,n){const r=Dg(e);return Zc.forEach(t,(t=>{const i=wu(t.path);return Zc.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Dg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Dg(e);let i=zp();return r.Z({range:n,Y:!0},((e,t,n)=>{const r=_u(e[1]),o=new $c(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=wu(t.path),r=IDBKeyRange.bound([n],[Pc(n)],!1,!0);let i=0;return Dg(e).Z({index:Qu,Y:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}lt(e,t){return jg(e).get(t).next((e=>e?Nm(e):null))}}function jg(e){return Pd(e,Wu)}function Og(e){return Pd(e,Ju)}function Dg(e){return Pd(e,Ku)}const Mg="LruGarbageCollector",Lg=1048576;function Fg(e,t){let[n,r]=e,[i,o]=t;const s=kc(n,i);return 0===s?kc(r,o):s}class $g{constructor(e){this.Hn=e,this.buffer=new Md(Fg),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Fg(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zg{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){rc(Mg,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){su(e)?rc(Mg,"Ignoring IndexedDB error during garbage collection: ",e):await Jc(e)}await this.er(3e5)}))}}class Bg{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Zc.resolve(fu.ae);const n=new $g(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(rc("LruGarbageCollector","Garbage collection skipped; disabled"),Zc.resolve(xg)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(rc("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xg):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(rc("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),nc()<=fa.DEBUG&&rc("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(s-o)+"ms\n"+`\tRemoved ${i} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),Zc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Ug(e,t){return new Bg(e,t)}class Vg{constructor(e,t){this.db=e,this.garbageCollector=Ug(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,((e,n)=>t(n)))}addReference(e,t,n){return Wg(e,n)}removeReference(e,t,n){return Wg(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Wg(e,t)}ar(e,t){return function(e,t){let n=!1;return Rg(e).X((r=>Ig(e,r,t).next((e=>(e&&(n=!0),Zc.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this._r(e,((o,s)=>{if(s<=t){const t=this.ar(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,jc.min()),Dg(e).delete(function(e){return[0,wu(e.path)]}(o)))))}));r.push(t)}})).next((()=>Zc.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Wg(e,t)}_r(e,t){const n=Dg(e);let r,i=fu.ae;return n.Z({index:Qu},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==fu.ae&&t(new $c(_u(r)),i),i=l,r=a):i=fu.ae})).next((()=>{i!==fu.ae&&t(new $c(_u(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wg(e,t){return Dg(e).put(function(e,t){return{targetId:0,path:wu(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class qg{constructor(){this.changes=new Pp((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Zc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Yg(e).put(n)}removeEntry(e,t,n){return Yg(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Tm(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.ur(e,n))))}getEntry(e,t){let n=jh.newInvalidDocument(t);return Yg(e).Z({index:Fu,range:IDBKeyRange.only(Xg(t))},((e,r)=>{n=this.cr(t,r)})).next((()=>n))}lr(e,t){let n={size:0,document:jh.newInvalidDocument(t)};return Yg(e).Z({index:Fu,range:IDBKeyRange.only(Xg(t))},((e,r)=>{n={document:this.cr(t,r),size:Cg(r)}})).next((()=>n))}getEntries(e,t){let n=Ap();return this.hr(e,t,((e,t)=>{const r=this.cr(e,t);n=n.insert(e,r)})).next((()=>n))}Pr(e,t){let n=Ap(),r=new jd($c.comparator);return this.hr(e,t,((e,t)=>{const i=this.cr(e,t);n=n.insert(e,i),r=r.insert(e,Cg(t))})).next((()=>({documents:n,Tr:r})))}hr(e,t,n){if(t.isEmpty())return Zc.resolve();let r=new Md(Zg);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Xg(r.first()),Xg(r.last())),o=r.getIterator();let s=o.getNext();return Yg(e).Z({index:Fu,range:i},((e,t,r)=>{const i=$c.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Zg(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.W(Xg(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),Tm(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yg(e).G(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Ap();for(const i of e){const e=this.cr($c.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Cp(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Ap();const o=Jg(t,n),s=Jg(t,Gc.max());return Yg(e).Z({index:zu,range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.cr($c.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Gg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Qg(e).get(Vu).next((e=>(lc(!!e),e)))}ur(e,t){return Qg(e).put(Vu,t)}cr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=um(e.Tt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=$c.fromSegments(t.noDocument.path),r=Rm(t.noDocument.readTime);n=jh.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ac();{const e=$c.fromSegments(t.unknownDocument.path),r=Rm(t.unknownDocument.version);n=jh.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Nc(e[0],e[1]);return jc.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(jc.min()))return e}return jh.newInvalidDocument(e)}}function Kg(e){return new Hg(e)}class Gg extends qg{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Pp((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Md(((e,t)=>kc(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.Er.get(i);if(t.push(this.Ir.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=Im(this.Ir.serializer,o);r=r.add(i.path.popLast());const l=Cg(a);n+=l-s.size,t.push(this.Ir.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=Im(this.Ir.serializer,o.convertToNoDocument(jc.min()));t.push(this.Ir.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.Ir.updateMetadata(e,n)),Zc.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next((e=>(this.Er.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next((e=>{let{documents:t,Tr:n}=e;return n.forEach(((e,n)=>{this.Er.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Qg(e){return Pd(e,Uu)}function Yg(e){return Pd(e,Mu)}function Xg(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Jg(e,t){const n=t.documentKey.path.toArray();return[e,Tm(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Zg(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=kc(n[o],r[o]),i)return i;return i=kc(n.length,r.length),i||(i=kc(n[n.length-2],r[r.length-2]),i||kc(n[n.length-1],r[r.length-1]))}class ev{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tv{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&hf(n.mutation,e,$d.empty(),Nc.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,zp()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zp();const r=Dp();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=jp();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Dp();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,zp())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ap();const o=Lp(),s=Lp();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof gf)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),hf(s.mutation,t,s.mutation.getFieldMask(),Nc.now())):o.set(t.key,$d.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new ev(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Lp();let r=new jd(((e,t)=>e-t)),i=zp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||$d.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||zp()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Mp();l.forEach((e=>{if(!i.has(e)){const r=uf(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Zc.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return $c.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Zc.resolve(Dp());let s=zc,a=i;return o.next((t=>Zc.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Zc.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,zp()))).next((e=>({batchId:s,changes:Op(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $c(t)).next((e=>{let t=jp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=jp();return this.indexManager.getCollectionParents(e,i).next((s=>Zc.forEach(s,(s=>{const a=function(e,t){return new hp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,jh.newInvalidDocument(r)))}));let n=jp();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&hf(o.mutation,r,$d.empty(),Nc.now()),Cp(t,r)&&(n=n.insert(e,r))})),n}))}}class nv{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Zc.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Zf(e.createTime)}}(t)),Zc.resolve()}getNamedQuery(e,t){return Zc.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:Om(e.bundledQuery),readTime:Zf(e.readTime)}}(t)),Zc.resolve()}}class rv{constructor(){this.overlays=new jd($c.comparator),this.Rr=new Map}getOverlay(e,t){return Zc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Dp();return Zc.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),Zc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),Zc.resolve()}getOverlaysForCollection(e,t,n){const r=Dp(),i=t.length+1,o=new $c(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Zc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new jd(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Dp(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Dp(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Zc.resolve(s)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new kf(t,n));let i=this.Rr.get(t);void 0===i&&(i=zp(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class iv{constructor(){this.sessionToken=Bd.EMPTY_BYTE_STRING}getSessionToken(e){return Zc.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Zc.resolve()}}class ov{constructor(){this.Vr=new Md(sv.mr),this.gr=new Md(sv.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new sv(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new sv(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new $c(new Mc([])),n=new sv(t,e),r=new sv(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new $c(new Mc([])),n=new sv(t,e),r=new sv(t,e+1);let i=zp();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new sv(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class sv{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return $c.comparator(e.key,t.key)||kc(e.Cr,t.Cr)}static pr(e,t){return kc(e.Cr,t.Cr)||$c.comparator(e.key,t.key)}}class av{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Md(sv.mr)}checkEmpty(e){return Zc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Sf(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Mr=this.Mr.add(new sv(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Zc.resolve(o)}lookupMutationBatch(e,t){return Zc.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return Zc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Zc.resolve(0===this.mutationQueue.length?mu:this.Fr-1)}getAllMutationBatches(e){return Zc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new sv(t,0),r=new sv(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),Zc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Md(kc);return t.forEach((e=>{const t=new sv(e,0),r=new sv(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),Zc.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;$c.isDocumentKey(i)||(i=i.child(""));const o=new sv(new $c(i),0);let s=new Md(kc);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Cr)),!0)}),o),Zc.resolve(this.Br(s))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){lc(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return Zc.forEach(t.mutations,(r=>{const i=new sv(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new sv(t,0),r=this.Mr.firstAfterOrEqual(n);return Zc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Zc.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lv{constructor(e){this.kr=e,this.docs=new jd($c.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Zc.resolve(n?n.document.mutableCopy():jh.newInvalidDocument(t))}getEntries(e,t){let n=Ap();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():jh.newInvalidDocument(e))})),Zc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ap();const o=t.path,s=new $c(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Qc(Kc(s),n)<=0||(r.has(s.key)||Cp(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Zc.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ac()}qr(e,t){return Zc.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new cv(this)}getSize(e){return Zc.resolve(this.size)}}class cv extends qg{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),Zc.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class uv{constructor(e){this.persistence=e,this.Qr=new Pp((e=>sp(e)),ap),this.lastRemoteSnapshotVersion=jc.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ov,this.targetCount=0,this.Kr=Ag.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),Zc.resolve()}getLastRemoteSnapshotVersion(e){return Zc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Zc.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Zc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Zc.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Ag(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Zc.resolve()}updateTargetData(e,t){return this.zn(t),Zc.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Zc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Zc.waitFor(i).next((()=>r))}getTargetCount(e){return Zc.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Zc.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),Zc.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Zc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Zc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return Zc.resolve(n)}containsKey(e,t){return Zc.resolve(this.Ur.containsKey(t))}}class dv{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new fu(0),this.zr=!1,this.zr=!0,this.jr=new iv,this.referenceDelegate=e(this),this.Hr=new uv(this),this.indexManager=new dg,this.remoteDocumentCache=function(e){return new lv(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new Em(t),this.Yr=new nv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new av(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){rc("MemoryPersistence","Starting transaction:",e);const r=new hv(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return Zc.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class hv extends Xc{constructor(e){super(),this.currentSequenceNumber=e}}class pv{constructor(e){this.persistence=e,this.ti=new ov,this.ni=null}static ri(e){return new pv(e)}get ii(){if(this.ni)return this.ni;throw ac()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Zc.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Zc.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Zc.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zc.forEach(this.ii,(n=>{const r=$c.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,jc.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return Zc.or([()=>Zc.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class fv{constructor(e,t){this.persistence=e,this.oi=new Pp((e=>wu(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Ug(this,t)}static ri(e,t){return new fv(e,t)}Zr(){}Xr(e){return Zc.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return Zc.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?Zc.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,jc.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Zc.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Zc.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Zc.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Zc.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gh(e.data.value)),t}ar(e,t,n){return Zc.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return Zc.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mv{constructor(e){this.serializer=e}B(e,t,n,r){const i=new tu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Cu)}(e),function(e){e.createObjectStore(Iu,{keyPath:"userId"});e.createObjectStore(Tu,{keyPath:Pu,autoIncrement:!0}).createIndex(Ru,Au,{unique:!0}),e.createObjectStore(Du)}(e),gv(e),function(e){e.createObjectStore(ku)}(e));let o=Zc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ku),e.deleteObjectStore(Wu),e.deleteObjectStore(Ju)}(e),gv(e)),o=o.next((()=>function(e){const t=e.store(Ju),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jc.min().toTimestamp(),targetCount:0};return t.put(Xu,n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store(Tu).G().next((n=>{e.deleteObjectStore(Tu),e.createObjectStore(Tu,{keyPath:Pu,autoIncrement:!0}).createIndex(Ru,Au,{unique:!0});const r=t.store(Tu),i=n.map((e=>r.put(e)));return Zc.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore(td,{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this._i(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore(Uu)}(e),this.ai(i))))),n<7&&r>=7&&(o=o.next((()=>this.ui(i)))),n<8&&r>=8&&(o=o.next((()=>this.ci(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.li(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore(nd,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(rd,{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore(fd,{keyPath:md});t.createIndex(gd,vd,{unique:!1}),t.createIndex(yd,bd,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore(Mu,{keyPath:Lu});t.createIndex(Fu,$u),t.createIndex(zu,Bu)}(e))).next((()=>this.hi(e,i))).next((()=>e.deleteObjectStore(ku)))),n<14&&r>=14&&(o=o.next((()=>this.Pi(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore(id,{keyPath:"indexId",autoIncrement:!0}).createIndex(od,"collectionGroup",{unique:!1});e.createObjectStore(sd,{keyPath:ad}).createIndex(ld,cd,{unique:!1});e.createObjectStore(ud,{keyPath:dd}).createIndex(hd,pd,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore(sd).clear()})).next((()=>{t.objectStore(ud).clear()}))),n<17&&r>=17&&(o=o.next((()=>{!function(e){e.createObjectStore(wd,{keyPath:"name"})}(e)}))),o}ai(e){let t=0;return e.store(ku).Z(((e,n)=>{t+=Cg(n)})).next((()=>{const n={byteSize:t};return e.store(Uu).put(Vu,n)}))}_i(e){const t=e.store(Iu),n=e.store(Tu);return t.G().next((t=>Zc.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,mu],[t.userId,t.lastAcknowledgedBatchId]);return n.G(Ru,r).next((n=>Zc.forEach(n,(n=>{lc(n.userId===t.userId);const r=Am(this.serializer,n);return kg(e,t.userId,r).next((()=>{}))}))))}))))}ui(e){const t=e.store(Ku),n=e.store(ku);return e.store(Ju).get(Xu).next((e=>{const r=[];return n.Z(((n,i)=>{const o=new Mc(n),s=function(e){return[0,wu(e)]}(o);r.push(t.get(s).next((n=>n?Zc.resolve():(n=>t.put({targetId:0,path:wu(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Zc.waitFor(r)))}))}ci(e,t){e.createObjectStore(Zu,{keyPath:ed});const n=t.store(Zu),r=new hg,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:wu(r)})}};return t.store(ku).Z({Y:!0},((e,t)=>{const n=new Mc(e);return i(n.popLast())})).next((()=>t.store(Du).Z({Y:!0},((e,t)=>{let[n,r,o]=e;const s=_u(r);return i(s.popLast())}))))}li(e){const t=e.store(Wu);return t.Z(((e,n)=>{const r=Nm(n),i=jm(this.serializer,r);return t.put(i)}))}hi(e,t){const n=t.store(ku),r=[];return n.Z(((e,n)=>{const i=t.store(Mu),o=function(e){return e.document?new $c(Mc.fromString(e.document.name).popFirst(5)):e.noDocument?$c.fromSegments(e.noDocument.path):e.unknownDocument?$c.fromSegments(e.unknownDocument.path):ac()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Zc.waitFor(r)))}Pi(e,t){const n=t.store(Tu),r=Kg(this.serializer),i=new dv(pv.ri,this.serializer.Tt);return n.G().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:zp();Am(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Zc.forEach(n,((e,n)=>{const o=new Zl(n),s=Bm.It(this.serializer,o),a=i.getIndexManager(o),l=Eg.It(o,this.serializer,a,i.referenceDelegate);return new tv(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Td(t,fu.ae),e).next()}))}))}}function gv(e){e.createObjectStore(Ku,{keyPath:Gu}).createIndex(Qu,Yu,{unique:!0}),e.createObjectStore(Wu,{keyPath:"targetId"}).createIndex(qu,Hu,{unique:!0}),e.createObjectStore(Ju)}const vv="IndexedDbPersistence",yv=18e5,bv=5e3,wv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xv="main";class Sv{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Ti=i,this.window=o,this.document=s,this.Ii=l,this.Ei=c,this.di=u,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!Sv.D())throw new dc(uc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vg(this,r),this.gi=t+xv,this.serializer=new Em(a),this.pi=new nu(this.gi,this.di,new mv(this.serializer)),this.jr=new Vm,this.Hr=new Ng(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Kg(this.serializer),this.Yr=new Fm,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,!1===c&&ic(vv,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dc(uc.FAILED_PRECONDITION,wv);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Hr.getHighestSequenceNumber(e)))})).then((e=>{this.Gr=new fu(e,this.Ii)})).then((()=>{this.zr=!0})).catch((e=>(this.pi&&this.pi.close(),Promise.reject(e))))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget((async()=>{this.started&&await this.wi()})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>kv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Fi(e).next((e=>{e||(this.isPrimary=!1,this.Ti.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Mi(e))).next((t=>this.isPrimary&&!t?this.xi(e).next((()=>!1)):!!t&&this.Oi(e).next((()=>!0)))))).catch((e=>{if(su(e))return rc(vv,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return rc(vv,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Fi(e){return _v(e).get(Eu).next((e=>Zc.resolve(this.Ni(e))))}Bi(e){return kv(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,yv)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Pd(e,td);return t.G().next((e=>{const n=this.qi(e,yv),r=e.filter((e=>-1===n.indexOf(e)));return Zc.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.wi().then((()=>this.Li())).then((()=>this.Di()))))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?Zc.resolve(!0):_v(e).get(Eu).next((t=>{if(null!==t&&this.ki(t.leaseTimestampMs,bv)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new dc(uc.FAILED_PRECONDITION,wv);return!1}}return!(!this.networkEnabled||!this.inForeground)||kv(e).G().next((e=>void 0===this.qi(e,bv).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&rc(vv,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.zr=!1,this.Ui(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ki(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Cu,td],(e=>{const t=new Td(e,fu.ae);return this.xi(t).next((()=>this.Bi(t)))})),this.pi.close(),this.Gi()}qi(e,t){return e.filter((e=>this.ki(e.updateTimeMs,t)&&!this.$i(e.clientId)))}zi(){return this.runTransaction("getActiveClients","readonly",(e=>kv(e).G().next((e=>this.qi(e,yv).map((e=>e.clientId))))))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return Eg.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mg(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return Bm.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,n){rc(vv,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?Id:16===e?Ed:15===e?Cd:14===e?kd:13===e?_d:12===e?Sd:11===e?xd:void ac()}(this.di);let o;return this.pi.runTransaction(e,r,i,(r=>(o=new Td(r,this.Gr?this.Gr.next():fu.ae),"readwrite-primary"===t?this.Fi(o).next((e=>!!e||this.Mi(o))).next((t=>{if(!t)throw ic(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable((()=>this.fi(!1))),new dc(uc.FAILED_PRECONDITION,Yc);return n(o)})).next((e=>this.Oi(o).next((()=>e)))):this.ji(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}ji(e){return _v(e).get(Eu).next((e=>{if(null!==e&&this.ki(e.leaseTimestampMs,bv)&&!this.$i(e.ownerId)&&!this.Ni(e)&&!(this.Ei||this.allowTabSynchronization&&e.allowTabSynchronization))throw new dc(uc.FAILED_PRECONDITION,wv)}))}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _v(e).put(Eu,t)}static D(){return nu.D()}xi(e){const t=_v(e);return t.get(Eu).next((e=>this.Ni(e)?(rc(vv,"Releasing primary lease."),t.delete(Eu)):Zc.resolve()))}ki(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(ic(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Si(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ri=()=>{this.Ti.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.wi())))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground="visible"===this.document.visibilityState)}Ki(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ai=()=>{this.Ui();const e=/(?:Version|Mobile)\/1[456]/;$s()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const n=null!==(null===(t=this.yi)||void 0===t?void 0:t.getItem(this.Qi(e)));return rc(vv,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return ic(vv,"Failed to get zombied client id.",e),!1}}Ui(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(zN){ic("Failed to set zombie client id.",zN)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch(zN){}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _v(e){return Pd(e,Cu)}function kv(e){return Pd(e,td)}function Cv(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Ev{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=zp(),r=zp();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ev(e,t.fromCache,n,r)}}class Iv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Tv{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=$s()?8:ru(Ds())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Iv;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(nc()<=fa.DEBUG&&rc("QueryEngine","SDK will not create cache indexes for query:",kp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Zc.resolve()):(nc()<=fa.DEBUG&&rc("QueryEngine","Query:",kp(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(nc()<=fa.DEBUG&&rc("QueryEngine","The SDK decides to create cache indexes for query:",kp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yp(t))):Zc.resolve())}rs(e,t){if(mp(t))return Zc.resolve(null);let n=yp(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=xp(t,null,"F"),n=yp(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=zp(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.cs(t,r);return this.ls(t,o,i,n.readTime)?this.rs(e,xp(t,null,"F")):this.hs(e,o,t,n)}))))})))))}ss(e,t,n,r){return mp(t)||r.isEqual(jc.min())?Zc.resolve(null):this.ns.getDocuments(e,n).next((i=>{const o=this.cs(t,i);return this.ls(t,o,n,r)?Zc.resolve(null):(nc()<=fa.DEBUG&&rc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kp(t)),this.hs(e,o,t,Hc(r,zc)).next((e=>e)))}))}cs(e,t){let n=new Md(Ip(e));return t.forEach(((t,r)=>{Cp(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return nc()<=fa.DEBUG&&rc("QueryEngine","Using full collection scan to execute query:",kp(t)),this.ns.getDocumentsMatchingQuery(e,t,Gc.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Pv="LocalStore";class Rv{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new jd(kc),this.Is=new Pp((e=>sp(e)),ap),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tv(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function Av(e,t,n,r){return new Rv(e,t,n,r)}async function Nv(e,t){const n=cc(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=zp();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function jv(e){const t=cc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function Ov(e,t,n){let r=zp(),i=zp();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ap();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(jc.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):rc(Pv,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Vs:r,fs:i}}))}function Dv(e,t){const n=cc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=mu),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Mv(e,t){const n=cc(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,Zc.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new Cm(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Lv(e,t,n){const r=cc(e),i=r.Ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!su(e))throw e;rc(Pv,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Fv(e,t,n){const r=cc(e);let i=jc.min(),o=zp();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=cc(e),i=r.Is.get(n);return void 0!==i?Zc.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,yp(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:jc.min(),n?o:zp()))).next((e=>($v(r,Ep(t),e),{documents:e,gs:o})))))}function $v(e,t,n){let r=e.Es.get(t)||jc.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class zv{constructor(){this.activeTargetIds=Up()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bv{constructor(){this.ho=new zv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new zv,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Uv{To(e){}shutdown(){}}const Vv="ConnectivityMonitor";class Wv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){rc(Vv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){rc(Vv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qv=null;function Hv(){return null===qv?qv=268435456+Math.round(2147483648*Math.random()):qv++,"0x"+qv.toString(16)}const Kv="RestConnection",Gv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qv{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===eh?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const o=Hv(),s=this.bo(e,t.toUriEncodedString());rc(Kv,`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(a,r,i),this.vo(e,s,a,n).then((t=>(rc(Kv,`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw oc(Kv,`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ec,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Gv[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class Yv{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const Xv="WebChannelConnection";class Jv extends Qv{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=Hv();return new Promise(((o,s)=>{const a=new Bl;a.setWithCredentials(!0),a.listenOnce(Vl.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Wl.NO_ERROR:const t=a.getResponseJson();rc(Xv,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case Wl.TIMEOUT:rc(Xv,`RPC '${e}' ${i} timed out`),s(new dc(uc.DEADLINE_EXCEEDED,"Request time out"));break;case Wl.HTTP_ERROR:const n=a.getStatus();if(rc(Xv,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(uc).indexOf(t)>=0?t:uc.UNKNOWN}(t.status);s(new dc(e,t.message))}else s(new dc(uc.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new dc(uc.UNAVAILABLE,"Connection failed."));break;default:ac()}}finally{rc(Xv,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);rc(Xv,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=Hv(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Gl(),s=Kl(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");rc(Xv,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const p=new Yv({Fo:t=>{h?rc(Xv,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(rc(Xv,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),rc(Xv,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,Ul.EventType.OPEN,(()=>{h||(rc(Xv,`RPC '${e}' stream ${r} transport opened.`),p.Qo())})),f(u,Ul.EventType.CLOSE,(()=>{h||(h=!0,rc(Xv,`RPC '${e}' stream ${r} transport closed`),p.Uo())})),f(u,Ul.EventType.ERROR,(t=>{h||(h=!0,oc(Xv,`RPC '${e}' stream ${r} transport errored:`,t),p.Uo(new dc(uc.UNAVAILABLE,"The operation could not be completed")))})),f(u,Ul.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];lc(!!i);const o=i,s=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){rc(Xv,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=Ef[e];if(void 0!==t)return Pf(t)}(t),i=s.message;void 0===n&&(n=uc.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,p.Uo(new dc(n,i)),u.close()}else rc(Xv,`RPC '${e}' stream ${r} received:`,i),p.Ko(i)}})),f(s,Hl.STAT_EVENT,(t=>{t.stat===ql.PROXY?rc(Xv,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ql.NOPROXY&&rc(Xv,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.$o()}),0),p}}function Zv(){return"undefined"!=typeof window?window:null}function ey(){return"undefined"!=typeof document?document:null}function ty(e){return new Gf(e,!0)}class ny{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&rc("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const ry="PersistentStream";class iy{constructor(e,t,n,r,i,o,s,a){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ny(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===uc.RESOURCE_EXHAUSTED?(ic(t.toString()),ic("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===uc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new dc(uc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return rc(ry,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(rc(ry,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oy extends iy{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ac()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(lc(void 0===t||"string"==typeof t),Bd.fromBase64String(t||"")):(lc(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Bd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?uc.UNKNOWN:Pf(e.code);return new dc(t,e.message||"")}(s);n=new zf(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=im(e,r.document.name),o=Zf(r.document.updateTime),s=r.document.createTime?Zf(r.document.createTime):jc.min(),a=new Ah({mapValue:{fields:r.document.fields}}),l=jh.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ff(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=im(e,r.document),o=r.readTime?Zf(r.readTime):jc.min(),s=jh.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ff([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=im(e,r.document),o=r.removedTargetIds||[];n=new Ff([],o,i,null)}else{if(!("filter"in t))return ac();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Cf(r,i),s=e.targetId;n=new $f(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return jc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?jc.min():t.readTime?Zf(t.readTime):jc.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=am(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=lp(r)?{documents:pm(e,r)}:{query:fm(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Xf(e,t.resumeToken);const r=Qf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(jc.min())>0){n.readTime=Yf(e,t.snapshotVersion.toTimestamp());const r=Qf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ac()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=am(this.serializer),t.removeTarget=e,this.I_(t)}}class sy extends iy{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return lc(!!e.streamToken),this.lastStreamToken=e.streamToken,lc(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){lc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(lc(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Zf(e.updateTime):Zf(t);return n.isEqual(jc.min())&&(n=Zf(t)),new sf(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Zf(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=am(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>dm(this.serializer,e)))};this.I_(t)}}class ay{}class ly extends ay{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new dc(uc.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.So(e,tm(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===uc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new dc(uc.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.Co(e,tm(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===uc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new dc(uc.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class cy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ic(t),this.N_=!1):rc("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const uy="RemoteStore";class dy{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{wy(this)&&(rc(uy,"Restarting streams for network reachability change."),await async function(e){const t=cc(e);t.W_.add(4),await py(t),t.j_.set("Unknown"),t.W_.delete(4),await hy(t)}(this))}))})),this.j_=new cy(n,r)}}async function hy(e){if(wy(e))for(const t of e.G_)await t(!0)}async function py(e){for(const t of e.G_)await t(!1)}function fy(e,t){const n=cc(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),by(n)?yy(n):$y(n).c_()&&gy(n,t))}function my(e,t){const n=cc(e),r=$y(n);n.K_.delete(t),r.c_()&&vy(n,t),0===n.K_.size&&(r.c_()?r.P_():wy(n)&&n.j_.set("Unknown"))}function gy(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$y(e).y_(t)}function vy(e,t){e.H_.Ne(t),$y(e).w_(t)}function yy(e){e.H_=new Uf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),$y(e).start(),e.j_.B_()}function by(e){return wy(e)&&!$y(e).u_()&&e.K_.size>0}function wy(e){return 0===cc(e).W_.size}function xy(e){e.H_=void 0}async function Sy(e){e.j_.set("Online")}async function _y(e){e.K_.forEach(((t,n)=>{gy(e,t)}))}async function ky(e,t){xy(e),by(e)?(e.j_.q_(t),yy(e)):e.j_.set("Unknown")}async function Cy(e,t,n){if(e.j_.set("Online"),t instanceof zf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){rc(uy,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ey(e,n)}else if(t instanceof Ff?e.H_.We(t):t instanceof $f?e.H_.Ze(t):e.H_.je(t),!n.isEqual(jc.min()))try{const t=await jv(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.K_.get(r);i&&e.K_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(Bd.EMPTY_BYTE_STRING,r.snapshotVersion)),vy(e,t);const i=new Cm(r.target,t,n,r.sequenceNumber);gy(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){rc(uy,"Failed to raise snapshot:",t),await Ey(e,t)}}async function Ey(e,t,n){if(!su(t))throw t;e.W_.add(1),await py(e),e.j_.set("Offline"),n||(n=()=>jv(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{rc(uy,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await hy(e)}))}function Iy(e,t){return t().catch((n=>Ey(e,n,t)))}async function Ty(e){const t=cc(e),n=zy(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:mu;for(;Py(t);)try{const e=await Dv(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,Ry(t,e)}catch(e){await Ey(t,e)}Ay(t)&&Ny(t)}function Py(e){return wy(e)&&e.U_.length<10}function Ry(e,t){e.U_.push(t);const n=zy(e);n.c_()&&n.S_&&n.b_(t.mutations)}function Ay(e){return wy(e)&&!zy(e).u_()&&e.U_.length>0}function Ny(e){zy(e).start()}async function jy(e){zy(e).C_()}async function Oy(e){const t=zy(e);for(const n of e.U_)t.b_(n.mutations)}async function Dy(e,t,n){const r=e.U_.shift(),i=_f.from(r,t,n);await Iy(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Ty(e)}async function My(e,t){t&&zy(e).S_&&await async function(e,t){if(function(e){return Tf(e)&&e!==uc.ABORTED}(t.code)){const n=e.U_.shift();zy(e).h_(),await Iy(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ty(e)}}(e,t),Ay(e)&&Ny(e)}async function Ly(e,t){const n=cc(e);n.asyncQueue.verifyOperationInProgress(),rc(uy,"RemoteStore received new credentials");const r=wy(n);n.W_.add(3),await py(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await hy(n)}async function Fy(e,t){const n=cc(e);t?(n.W_.delete(2),await hy(n)):t||(n.W_.add(2),await py(n),n.j_.set("Unknown"))}function $y(e){return e.J_||(e.J_=function(e,t,n){const r=cc(e);return r.M_(),new oy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:Sy.bind(null,e),No:_y.bind(null,e),Lo:ky.bind(null,e),p_:Cy.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),by(e)?yy(e):e.j_.set("Unknown")):(await e.J_.stop(),xy(e))}))),e.J_}function zy(e){return e.Y_||(e.Y_=function(e,t,n){const r=cc(e);return r.M_(),new sy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:jy.bind(null,e),Lo:My.bind(null,e),D_:Oy.bind(null,e),v_:Dy.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await Ty(e)):(await e.Y_.stop(),e.U_.length>0&&(rc(uy,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class By{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new hc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new By(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dc(uc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uy(e,t){if(ic("AsyncQueue",`${t}: ${e}`),su(e))return new dc(uc.UNAVAILABLE,`${t}: ${e}`);throw e}class Vy{static emptySet(e){return new Vy(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||$c.comparator(t.key,n.key):(e,t)=>$c.comparator(e.key,t.key),this.keyedMap=jp(),this.sortedSet=new jd(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vy))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Vy;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Wy{constructor(){this.Z_=new jd($c.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ac():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class qy{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new qy(e,t,Vy.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Hy{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class Ky{constructor(){this.queries=Gy(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=cc(e),r=n.queries;n.queries=Gy(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new dc(uc.ABORTED,"Firestore shutting down"))}}function Gy(){return new Pp((e=>_p(e)),Sp)}async function Qy(e,t){const n=cc(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.na()&&t.ra()&&(r=2):(o=new Hy,r=t.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Uy(e,`Initialization of query '${kp(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.ta.push(t),t.sa(n.onlineState),o.ea&&t.oa(o.ea)&&Zy(n)}async function Yy(e,t){const n=cc(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.ta.indexOf(t);e>=0&&(o.ta.splice(e,1),0===o.ta.length?i=t.ra()?0:1:!o.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xy(e,t){const n=cc(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&Zy(n)}function Jy(e,t,n){const r=cc(e),i=r.queries.get(t);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(t)}function Zy(e){e.ia.forEach((e=>{e.next()}))}var eb,tb;(tb=eb||(eb={}))._a="default",tb.Cache="cache";class nb{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new qy(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=qy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==eb.Cache}}class rb{constructor(e){this.key=e}}class ib{constructor(e){this.key=e}}class ob{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=zp(),this.mutatedKeys=zp(),this.ya=Ip(e),this.wa=new Vy(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new Wy,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Cp(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.va(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.ya(u,a)>0||l&&this.ya(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:o,Da:n,ls:s,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ac()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const s=t&&!r?this.Fa():[],a=0===this.pa.size&&this.current&&!r?1:0,l=a!==this.ga;return this.ga=a,0!==o.length||l?{snapshot:new qy(this.query,e.wa,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:s}:{Ma:s}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Wy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=zp(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new ib(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new rb(n))})),t}Oa(e){this.fa=e.gs,this.pa=zp();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return qy.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const sb="SyncEngine";class ab{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class lb{constructor(e){this.key=e,this.Ba=!1}}class cb{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Pp((e=>_p(e)),Sp),this.qa=new Map,this.Qa=new Set,this.$a=new jd($c.comparator),this.Ua=new Map,this.Ka=new ov,this.Wa={},this.Ga=new Map,this.za=Ag.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function ub(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Ab(e);let i;const o=r.ka.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await hb(r,t,n,!0),i}async function db(e,t){const n=Ab(e);await hb(n,t,!0,!1)}async function hb(e,t,n,r){const i=await Mv(e.localStore,yp(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await pb(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&fy(e.remoteStore,i),a}async function pb(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await Fv(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return Cb(e,t.targetId,a.Ma),a.snapshot}(e,t,n,r);const o=await Fv(e.localStore,t,!0),s=new ob(t,o.gs),a=s.ba(o.documents),l=Lf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);Cb(e,n,c.Ma);const u=new ab(t,n,s);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function fb(e,t,n){const r=cc(e),i=r.ka.get(t),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter((e=>!Sp(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Lv(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&my(r.remoteStore,i.targetId),_b(r,i.targetId)})).catch(Jc)):(_b(r,i.targetId),await Lv(r.localStore,i.targetId,!0))}async function mb(e,t){const n=cc(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),my(n.remoteStore,r.targetId))}async function gb(e,t){const n=cc(e);try{const e=await function(e,t){const n=cc(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Hr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Hr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Bd.EMPTY_BYTE_STRING,jc.min()).withLastLimboFreeSnapshotVersion(jc.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&s.push(n.Hr.updateTargetData(e,c))}));let a=Ap(),l=zp();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Ov(e,o,t.documentUpdates).next((e=>{a=e.Vs,l=e.fs}))),!r.isEqual(jc.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Zc.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ua.get(t);r&&(lc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?lc(r.Ba):e.removedDocuments.size>0&&(lc(r.Ba),r.Ba=!1))})),await Tb(n,e,t)}catch(e){await Jc(e)}}function vb(e,t,n){const r=cc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=cc(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&Zy(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function yb(e,t,n){const r=cc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),o=i&&i.key;if(o){let e=new jd($c.comparator);e=e.insert(o,jh.newNoDocument(o,jc.min()));const n=zp().add(o),i=new Mf(jc.min(),new Map,new jd(kc),e,n);await gb(r,i),r.$a=r.$a.remove(o),r.Ua.delete(t),Ib(r)}else await Lv(r.localStore,t,!1).then((()=>_b(r,t,n))).catch(Jc)}async function bb(e,t){const n=cc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=cc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Zc.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);lc(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=zp();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Sb(n,r,null),xb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tb(n,e)}catch(e){await Jc(e)}}async function wb(e,t,n){const r=cc(e);try{const e=await function(e,t){const n=cc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(lc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Sb(r,t,n),xb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Tb(r,e)}catch(n){await Jc(n)}}function xb(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Sb(e,t,n){const r=cc(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function _b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||kb(e,t)}))}function kb(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(my(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),Ib(e))}function Cb(e,t,n){for(const r of n)r instanceof rb?(e.Ka.addReference(r.key,t),Eb(e,r)):r instanceof ib?(rc(sb,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||kb(e,r.key)):ac()}function Eb(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(rc(sb,"New document in limbo: "+n),e.Qa.add(r),Ib(e))}function Ib(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new $c(Mc.fromString(t)),r=e.za.next();e.Ua.set(r,new lb(n)),e.$a=e.$a.insert(n,r),fy(e.remoteStore,new Cm(yp(fp(n.path)),r,"TargetPurposeLimboResolution",fu.ae))}}async function Tb(e,t,n){const r=cc(e),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach(((e,a)=>{s.push(r.Ha(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Ev.Yi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.La.p_(i),await async function(e,t){const n=cc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Zc.forEach(t,(t=>Zc.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Zc.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!su(e))throw e;rc(Pv,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,o))}async function Pb(e,t){const n=cc(e);if(!n.currentUser.isEqual(t)){rc(sb,"User change. New user:",t.toKey());const e=await Nv(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new dc(uc.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Tb(n,e.Rs)}}function Rb(e,t){const n=cc(e),r=n.Ua.get(t);if(r&&r.Ba)return zp().add(r.key);{let e=zp();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function Ab(e){const t=cc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yb.bind(null,t),t.La.p_=Xy.bind(null,t.eventManager),t.La.Ja=Jy.bind(null,t.eventManager),t}function Nb(e){const t=cc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wb.bind(null,t),t}class jb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ty(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Av(this.persistence,new Tv,e.initialUser,this.serializer)}Xa(e){return new dv(pv.ri,this.serializer)}Za(e){return new Bv}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jb.provider={build:()=>new jb};class Ob extends jb{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){lc(this.persistence.referenceDelegate instanceof fv);const n=this.persistence.referenceDelegate.garbageCollector;return new zg(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?_g.withCacheSize(this.cacheSizeBytes):_g.DEFAULT;return new dv((e=>fv.ri(e,t)),this.serializer)}}class Db extends jb{constructor(e,t,n){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await Nb(this.ru.syncEngine),await Ty(this.ru.remoteStore),await this.persistence.Ci((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}eu(e){return Av(this.persistence,new Tv,e.initialUser,this.serializer)}tu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new zg(n,e.asyncQueue,t)}nu(e,t){const n=new pu(t,this.persistence);return new hu(e.asyncQueue,n)}Xa(e){const t=Cv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?_g.withCacheSize(this.cacheSizeBytes):_g.DEFAULT;return new Sv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Zv(),ey(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new Bv}}class Mb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>vb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pb.bind(null,this.syncEngine),await Fy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ky}createDatastore(e){const t=ty(e.databaseInfo.databaseId),n=function(e){return new Jv(e)}(e.databaseInfo);return function(e,t,n,r){return new ly(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new dy(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>vb(this.syncEngine,e,0)),Wv.D()?new Wv:new Uv)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new cb(e,t,n,r,i,o);return s&&(a.ja=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=cc(e);rc(uy,"RemoteStore shutting down."),t.W_.add(5),await py(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Mb.provider={build:()=>new Mb};class Lb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ic("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Fb{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new dc(uc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=cc(e),r={documents:t.map((e=>rm(n.serializer,e)))},i=await n.Co("BatchGetDocuments",n.serializer.databaseId,Mc.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){lc(!!t.found),t.found.name,t.found.updateTime;const n=im(e,t.found.name),r=Zf(t.found.updateTime),i=t.found.createTime?Zf(t.found.createTime):jc.min(),o=new Ah({mapValue:{fields:t.found.fields}});return jh.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){lc(!!t.missing),lc(!!t.readTime);const n=im(e,t.missing),r=Zf(t.readTime);return jh.newNoDocument(n,r)}(e,t):ac()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());lc(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new wf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=$c.fromPath(t);this.mutations.push(new xf(n,this.precondition(n)))})),await async function(e,t){const n=cc(e),r={writes:t.map((e=>dm(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,Mc.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ac();t=jc.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new dc(uc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(jc.min())?af.exists(!1):af.updateTime(t):af.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jc.min()))throw new dc(uc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return af.updateTime(t)}return af.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $b{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Tu=n.maxAttempts,this.a_=new ny(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo((async()=>{const e=new Fb(this.datastore),t=this.du(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Au(e)}))))})).catch((e=>{this.Au(e)}))}))}du(e){try{const t=this.updateFunction(e);return!gu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Eu(),Promise.resolve())))):this.deferred.reject(e)}Ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Tf(t)}return!1}}const zb="FirestoreClient";class Bb{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Zl.UNAUTHENTICATED,this.clientId=_c.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{rc(zb,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(rc(zb,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(BN){const n=Uy(BN,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ub(e,t){e.asyncQueue.verifyOperationInProgress(),rc(zb,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Nv(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Vb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Wb(e);rc(zb,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Ly(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Ly(t.remoteStore,n))),e._onlineComponents=t}async function Wb(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){rc(zb,"Using user provided OfflineComponentProvider");try{await Ub(e,e._uninitializedComponentsProvider._offline)}catch(BN){const n=BN;if(!function(e){return"FirebaseError"===e.name?e.code===uc.FAILED_PRECONDITION||e.code===uc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;oc("Error using user provided cache. Falling back to memory cache: "+n),await Ub(e,new jb)}}else rc(zb,"Using default OfflineComponentProvider"),await Ub(e,new Ob(void 0));return e._offlineComponents}async function qb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(rc(zb,"Using user provided OnlineComponentProvider"),await Vb(e,e._uninitializedComponentsProvider._online)):(rc(zb,"Using default OnlineComponentProvider"),await Vb(e,new Mb))),e._onlineComponents}function Hb(e){return qb(e).then((e=>e.syncEngine))}function Kb(e){return qb(e).then((e=>e.datastore))}async function Gb(e){const t=await qb(e),n=t.eventManager;return n.onListen=ub.bind(null,t.syncEngine),n.onUnlisten=fb.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=db.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=mb.bind(null,t.syncEngine),n}function Qb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new hc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Lb({next:a=>{o.su(),t.enqueueAndForget((()=>Yy(e,s)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new dc(uc.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new dc(uc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new nb(fp(n.path),o,{includeMetadataChanges:!0,Ta:!0});return Qy(e,s)}(await Gb(e),e.asyncQueue,t,n,r))),r.promise}function Yb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new hc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Lb({next:n=>{o.su(),t.enqueueAndForget((()=>Yy(e,s))),n.fromCache&&"server"===r.source?i.reject(new dc(uc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new nb(n,o,{includeMetadataChanges:!0,Ta:!0});return Qy(e,s)}(await Gb(e),e.asyncQueue,t,n,r))),r.promise}function Xb(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Jb=new Map;function Zb(e,t,n){if(!n)throw new dc(uc.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ew(e){if(!$c.isDocumentKey(e))throw new dc(uc.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function tw(e){if($c.isDocumentKey(e))throw new dc(uc.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function nw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":ac()}function rw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dc(uc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nw(e);throw new dc(uc.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function iw(e,t){if(t<=0)throw new dc(uc.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}const ow="firestore.googleapis.com",sw=!0;class aw{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new dc(uc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ow,this.ssl=sw}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:sw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Sg;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Lg)throw new dc(uc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new dc(uc.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xb(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new dc(uc.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new dc(uc.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new dc(uc.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lw{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dc(uc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new dc(uc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aw(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new fc;switch(e.type){case"firstParty":return new yc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new dc(uc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jb.get(e);t&&(rc("ComponentProvider","Removing Datastore"),Jb.delete(e),t.terminate())}(this),Promise.resolve()}}class cw{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new cw(this.firestore,e,this._query)}}class uw{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uw(this.firestore,e,this._key)}}class dw extends cw{constructor(e,t,n){super(e,t,fp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uw(this.firestore,null,new $c(e))}withConverter(e){return new dw(this.firestore,e,this._path)}}function hw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=aa(e),Zb("collection","path",t),e instanceof lw){const n=Mc.fromString(t,...r);return tw(n),new dw(e,null,n)}{if(!(e instanceof uw||e instanceof dw))throw new dc(uc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mc.fromString(t,...r));return tw(n),new dw(e.firestore,null,n)}}function pw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=aa(e),1===arguments.length&&(t=_c.newId()),Zb("doc","path",t),e instanceof lw){const n=Mc.fromString(t,...r);return ew(n),new uw(e,null,new $c(n))}{if(!(e instanceof uw||e instanceof dw))throw new dc(uc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mc.fromString(t,...r));return ew(n),new uw(e.firestore,e instanceof dw?e.converter:null,new $c(n))}}const fw="AsyncQueue";class mw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ny(this,"async_queue_retry"),this.Su=()=>{const e=ey();e&&rc(fw,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=ey();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=ey();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new hc;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(zN){if(!su(zN))throw zN;rc(fw,"Operation failed with retryable error: "+zN)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ic("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=By.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&ac()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function gw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class vw extends lw{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new mw,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mw(e),this._firestoreClient=void 0,await e}}}function yw(e,t){const n="object"==typeof e?e:Cl(),r="string"==typeof e?e:t||eh,i=bl(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=Rs("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=rw(e,lw))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),a=`${t}:${n}`;o.host!==ow&&o.host!==a&&oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!Xs(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Zl.MOCK_USER;else{t=Os(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new dc(uc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Zl(o)}e._authCredentials=new mc(new pc(t,n))}}(i,...e)}return i}function bw(e){if(e._terminated)throw new dc(uc.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ww(e),e._firestoreClient}function ww(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Zd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Xb(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Bb(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function xw(e,t,n){if((e=rw(e,vw))._firestoreClient||e._terminated)throw new dc(uc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new dc(uc.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},ww(e)}class Sw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sw(Bd.fromBase64String(e))}catch(e){throw new dc(uc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Sw(Bd.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _w{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new dc(uc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kw{constructor(e){this._methodName=e}}class Cw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new dc(uc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new dc(uc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kc(this._lat,e._lat)||kc(this._long,e._long)}}class Ew{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Iw=/^__.*__$/;class Tw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new gf(e,this.data,this.fieldMask,t,this.fieldTransforms):new mf(e,this.data,t,this.fieldTransforms)}}class Pw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new gf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ac()}}class Aw{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Aw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Xw(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(Rw(this.Lu)&&Iw.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Nw{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ty(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Aw({Lu:e,methodName:t,zu:n,path:Fc.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jw(e){const t=e._freezeSettings(),n=ty(e._databaseId);return new Nw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ow(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ju(o.merge||o.mergeFields?2:0,t,n,i);Kw("Data must be an object, but it was:",s,r);const a=qw(r,s);let l,c;if(o.merge)l=new $d(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Gw(t,r,n);if(!s.contains(i))throw new dc(uc.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Jw(e,i)||e.push(i)}l=new $d(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new Tw(new Ah(a),l,c)}class Dw extends kw{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dw}}function Mw(e,t,n){return new Aw({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Lw extends kw{_toFieldTransform(e){return new of(e.path,new Yp)}isEqual(e){return e instanceof Lw}}class Fw extends kw{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Mw(this,e,!0),n=this.Hu.map((e=>Ww(e,t))),r=new Xp(n);return new of(e.path,r)}isEqual(e){return e instanceof Fw&&Xs(this.Hu,e.Hu)}}class $w extends kw{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Mw(this,e,!0),n=this.Hu.map((e=>Ww(e,t))),r=new Zp(n);return new of(e.path,r)}isEqual(e){return e instanceof $w&&Xs(this.Hu,e.Hu)}}class zw extends kw{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new tf(e.serializer,qp(e.serializer,this.Ju));return new of(e.path,t)}isEqual(e){return e instanceof zw&&this.Ju===e.Ju}}function Bw(e,t,n,r){const i=e.ju(1,t,n);Kw("Data must be an object, but it was:",i,r);const o=[],s=Ah.empty();Ad(r,((e,r)=>{const a=Yw(t,e,n);r=aa(r);const l=i.Uu(a);if(r instanceof Dw)o.push(a);else{const e=Ww(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new $d(o);return new Pw(s,a,i.fieldTransforms)}function Uw(e,t,n,r,i,o){const s=e.ju(1,t,n),a=[Gw(t,r,n)],l=[i];if(o.length%2!=0)throw new dc(uc.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Gw(t,o[h])),l.push(o[h+1]);const c=[],u=Ah.empty();for(let h=a.length-1;h>=0;--h)if(!Jw(c,a[h])){const e=a[h];let t=l[h];t=aa(t);const n=s.Uu(e);if(t instanceof Dw)c.push(e);else{const r=Ww(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new $d(c);return new Pw(u,d,s.fieldTransforms)}function Vw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ww(n,e.ju(r?4:3,t))}function Ww(e,t){if(Hw(e=aa(e)))return Kw("Unsupported field value:",t,e),qw(e,t);if(e instanceof kw)return function(e,t){if(!Rw(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ww(i,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=aa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qp(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Nc.fromDate(e);return{timestampValue:Yf(t.serializer,n)}}if(e instanceof Nc){const n=new Nc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yf(t.serializer,n)}}if(e instanceof Cw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Sw)return{bytesValue:Xf(t.serializer,e._byteString)};if(e instanceof uw){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:em(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Ew)return function(e,t){return{mapValue:{fields:{[nh]:{stringValue:oh},[sh]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return Vp(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${nw(e)}`)}(e,t)}function qw(e,t){const n={};return Nd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ad(e,((e,r)=>{const i=Ww(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Hw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Nc||e instanceof Cw||e instanceof Sw||e instanceof uw||e instanceof kw||e instanceof Ew)}function Kw(e,t,n){if(!Hw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=nw(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Gw(e,t,n){if((t=aa(t))instanceof _w)return t._internalPath;if("string"==typeof t)return Yw(e,t);throw Xw("Field path arguments must be of type string or ",e,!1,void 0,n)}const Qw=new RegExp("[~\\*/\\[\\]]");function Yw(e,t,n){if(t.search(Qw)>=0)throw Xw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new _w(...t.split("."))._internalPath}catch(Ro){throw Xw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Xw(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new dc(uc.INVALID_ARGUMENT,a+e+l)}function Jw(e,t){return e.some((e=>e.isEqual(t)))}class Zw{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new uw(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ex extends Zw{data(){return super.data()}}function tx(e,t){return"string"==typeof t?Yw(e,t):t instanceof _w?t._internalPath:t._delegate._internalPath}function nx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new dc(uc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rx{}class ix extends rx{}function ox(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof rx&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof lx)).length,n=e.filter((e=>e instanceof sx)).length;if(t>1||t>0&&n>0)throw new dc(uc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class sx extends ix{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new sx(e,t,n)}_apply(e){const t=this._parse(e);return mx(e._query,t),new cw(e.firestore,e.converter,wp(e._query,t))}_parse(e){const t=jw(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new dc(uc.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){fx(s,o);const t=[];for(const n of s)t.push(px(r,e,n));a={arrayValue:{values:t}}}else a=px(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||fx(s,o),a=Vw(n,t,s,"in"===o||"not-in"===o);return zh.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function ax(e,t,n){const r=t,i=tx("where",e);return sx._create(i,r,n)}class lx extends rx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lx(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Bh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)mx(n,i),n=wp(n,i)}(e._query,t),new cw(e.firestore,e.converter,wp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class cx extends ix{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cx(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new dc(uc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new dc(uc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lh(t,n)}(e._query,this._field,this._direction);return new cw(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new hp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function ux(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=tx("orderBy",e);return cx._create(n,t)}class dx extends ix{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new dx(e,t,n)}_apply(e){return new cw(e.firestore,e.converter,xp(e._query,this._limit,this._limitType))}}function hx(e){return iw("limit",e),dx._create("limit",e,"F")}function px(e,t,n){if("string"==typeof(n=aa(n))){if(""===n)throw new dc(uc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gp(t)&&-1!==n.indexOf("/"))throw new dc(uc.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Mc.fromString(n));if(!$c.isDocumentKey(r))throw new dc(uc.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vh(e,new $c(r))}if(n instanceof uw)return vh(e,n._key);throw new dc(uc.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nw(n)}.`)}function fx(e,t){if(!Array.isArray(e)||0===e.length)throw new dc(uc.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mx(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new dc(uc.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new dc(uc.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class gx{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(lh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ac()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ad(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[sh].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Wd(e.doubleValue)));return new Ew(i)}convertGeoPoint(e){return new Cw(Wd(e.latitude),Wd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Xd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Jd(e));default:return null}}convertTimestamp(e){const t=Vd(e);return new Nc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Mc.fromString(e);lc(km(n));const r=new th(n.get(1),n.get(3)),i=new $c(n.popFirst(5));return r.isEqual(t)||ic(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function vx(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class yx extends gx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uw(this.firestore,null,t)}}class bx{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wx extends Zw{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new xx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(tx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class xx extends wx{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Sx{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new bx(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new xx(this._firestore,this._userDataWriter,n.key,n,new bx(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dc(uc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new xx(e._firestore,e._userDataWriter,n.doc.key,n.doc,new bx(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new xx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:_x(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function _x(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ac()}}function kx(e){e=rw(e,uw);const t=rw(e.firestore,vw);return Qb(bw(t),e._key).then((n=>jx(t,e,n)))}class Cx extends gx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uw(this.firestore,null,t)}}function Ex(e){e=rw(e,cw);const t=rw(e.firestore,vw),n=bw(t),r=new Cx(t);return nx(e._query),Yb(n,e._query).then((n=>new Sx(t,r,e,n)))}function Ix(e,t,n){e=rw(e,uw);const r=rw(e.firestore,vw),i=vx(e.converter,t,n);return Nx(r,[Ow(jw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,af.none())])}function Tx(e,t,n){e=rw(e,uw);const r=rw(e.firestore,vw),i=jw(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=aa(t))||t instanceof _w?Uw(i,"updateDoc",e._key,t,n,a):Bw(i,"updateDoc",e._key,t),Nx(r,[o.toMutation(e._key,af.exists(!0))])}function Px(e){return Nx(rw(e.firestore,vw),[new wf(e._key,af.none())])}function Rx(e,t){const n=rw(e.firestore,vw),r=pw(e),i=vx(e.converter,t);return Nx(n,[Ow(jw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,af.exists(!1))]).then((()=>r))}function Ax(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=aa(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||gw(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(gw(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof uw)d=rw(e.firestore,vw),h=fp(e._key.path),u={next:t=>{n[l]&&n[l](jx(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=rw(e,cw);d=rw(t.firestore,vw),h=t._query;const r=new Cx(d);u={next:e=>{n[l]&&n[l](new Sx(d,r,t,e))},error:n[l+1],complete:n[l+2]},nx(e._query)}return function(e,t,n,r){const i=new Lb(r),o=new nb(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Qy(await Gb(e),o))),()=>{i.su(),e.asyncQueue.enqueueAndForget((async()=>Yy(await Gb(e),o)))}}(bw(d),h,c,u)}function Nx(e,t){return function(e,t){const n=new hc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Nb(e);try{const e=await function(e,t){const n=cc(e),r=Nc.now(),i=t.reduce(((e,t)=>e.add(t.key)),zp());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Ap(),l=zp();return n.ds.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=pf(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new gf(e.key,t,Nh(t.value.mapValue),af.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Op(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new jd(kc)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Tb(r,e.changes),await Ty(r.remoteStore)}catch(e){const t=Uy(e,"Failed to persist write");n.reject(t)}}(await Hb(e),t,n))),n.promise}(bw(e),t)}function jx(e,t,n){const r=n.docs.get(t._key),i=new Cx(e);return new wx(e,i,t._key,r,new bx(n.hasPendingWrites,n.fromCache),t.converter)}const Ox={maxAttempts:5};class Dx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jw(e)}set(e,t,n){this._verifyNotCommitted();const r=Mx(e,this._firestore),i=vx(r.converter,t,n),o=Ow(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,af.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Mx(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=aa(t))||t instanceof _w?Uw(this._dataReader,"WriteBatch.update",r._key,t,n,s):Bw(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,af.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Mx(e,this._firestore);return this._mutations=this._mutations.concat(new wf(t._key,af.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dc(uc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mx(e,t){if((e=aa(e)).firestore!==t)throw new dc(uc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Lx{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=jw(e)}get(e){const t=Mx(e,this._firestore),n=new yx(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return ac();const r=e[0];if(r.isFoundDocument())return new Zw(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Zw(this._firestore,n,t._key,null,t.converter);throw ac()}))}set(e,t,n){const r=Mx(e,this._firestore),i=vx(r.converter,t,n),o=Ow(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=Mx(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=aa(t))||t instanceof _w?Uw(this._dataReader,"Transaction.update",r._key,t,n,s):Bw(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Mx(e,this._firestore);return this._transaction.delete(t._key),this}}class Fx extends Lx{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Mx(e,this._firestore),n=new Cx(this._firestore);return super.get(e).then((e=>new wx(this._firestore,n,t._key,e._document,new bx(!1,!1),t.converter)))}}function $x(e,t,n){e=rw(e,vw);const r=Object.assign(Object.assign({},Ox),n);return function(e){if(e.maxAttempts<1)throw new dc(uc.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new hc;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Kb(e);new $b(e.asyncQueue,i,n,t,r).Iu()})),r.promise}(bw(e),(n=>t(new Fx(e,n))),r)}function zx(){return new Lw("serverTimestamp")}function Bx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Fw("arrayUnion",t)}function Ux(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $w("arrayRemove",t)}function Vx(e){return new zw("increment",e)}function Wx(e){return bw(e=rw(e,vw)),new Dx(e,(t=>Nx(e,t)))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ec=e}(_l),yl(new la("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new vw(new gc(e.getProvider("auth-internal")),new wc(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new dc(uc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new th(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),El(Xl,Jl,e),El(Xl,Jl,"esm2017")}();const qx="firebasestorage.googleapis.com",Hx="storageBucket";class Kx extends Bs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Yx(e),`Firebase Storage: ${t} (${Yx(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kx.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gx,Qx;function Yx(e){return"storage/"+e}function Xx(){return new Kx(Gx.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Jx(){return new Kx(Gx.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zx(){return new Kx(Gx.CANCELED,"User canceled the upload/download.")}function eS(){return new Kx(Gx.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tS(e){return new Kx(Gx.INVALID_ARGUMENT,e)}function nS(){return new Kx(Gx.APP_DELETED,"The Firebase app was deleted.")}function rS(e,t){return new Kx(Gx.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function iS(e){throw new Kx(Gx.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Gx||(Gx={}));class oS{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=oS.makeFromUrl(e,t)}catch(zN){return new oS(e,"")}if(""===n.path)return n;throw r=e,new Kx(Gx.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===qx?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new oS(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Kx(Gx.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class sS{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function aS(e){return"string"===typeof e||e instanceof String}function lS(e){return cS()&&e instanceof Blob}function cS(){return"undefined"!==typeof Blob}function uS(e,t,n,r){if(r<t)throw tS(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw tS(`Invalid value for '${e}'. Expected ${n} or less.`)}function dS(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function hS(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function pS(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Qx||(Qx={}));class fS{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new mS(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Qx.NO_ERROR,i=n.getStatus();if(!t||pS(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Qx.ABORT;return void e(!1,new mS(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new mS(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(zN){r(zN)}else if(null!==i){const e=Xx();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?nS():Zx())}else{r(Jx())}};this.canceled_?t(0,new mS(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(p,l())}),t)}function h(){o&&clearTimeout(o)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class mS{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function gS(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function vS(){const e=gS();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(cS())return new Blob(n);throw new Kx(Gx.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function yS(e){if("undefined"===typeof atob)throw t="base-64",new Kx(Gx.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const bS="raw",wS="base64",xS="base64url",SS="data_url";class _S{constructor(e,t){this.data=e,this.contentType=t||null}}function kS(e,t){switch(e){case bS:return new _S(CS(t));case wS:case xS:return new _S(ES(e,t));case SS:return new _S(function(e){const t=new IS(e);return t.base64?ES(wS,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(zN){throw rS(SS,"Malformed data URL.")}return CS(t)}(t.rest)}(t),new IS(t).contentType)}throw Xx()}function CS(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ES(e,t){switch(e){case wS:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw rS(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case xS:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw rS(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yS(t)}catch(zN){if(zN.message.includes("polyfill"))throw zN;throw rS(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class IS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw rS(SS,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class TS{constructor(e,t){let n=0,r="";lS(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(lS(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new TS(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new TS(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(cS()){const e=t.map((e=>e instanceof TS?e.data_:e));return new TS(vS.apply(null,e))}{const e=t.map((e=>aS(e)?kS(bS,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new TS(r,!0)}}uploadData(){return this.data_}}function PS(e){let t;try{t=JSON.parse(e)}catch(zN){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function RS(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function AS(e,t){return t}class NS{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||AS}}let jS=null;function OS(){if(jS)return jS;const e=[];e.push(new NS("bucket")),e.push(new NS("generation")),e.push(new NS("metageneration")),e.push(new NS("name","fullPath",!0));const t=new NS("name");t.xform=function(e,t){return function(e){return!aS(e)||e.length<2?e:RS(e)}(t)},e.push(t);const n=new NS("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new NS("timeCreated")),e.push(new NS("updated")),e.push(new NS("md5Hash",null,!0)),e.push(new NS("cacheControl",null,!0)),e.push(new NS("contentDisposition",null,!0)),e.push(new NS("contentEncoding",null,!0)),e.push(new NS("contentLanguage",null,!0)),e.push(new NS("contentType",null,!0)),e.push(new NS("metadata","customMetadata",!0)),jS=e,jS}function DS(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new oS(n,r);return t._makeStorageReference(i)}})}(r,e),r}function MS(e,t,n){const r=PS(t);if(null===r)return null;return DS(e,r,n)}function LS(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class FS{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $S(e){if(!e)throw Xx()}function zS(e,t){return function(n,r){const i=MS(e,r,t);return $S(null!==i),i}}function BS(e,t){return function(n,r){const i=MS(e,r,t);return $S(null!==i),function(e,t,n,r){const i=PS(t);if(null===i)return null;if(!aS(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent,a=o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return dS("/b/"+s(i)+"/o/"+s(o),n,r)+hS({alt:"media",token:t})}));return a[0]}(i,r,e.host,e._protocol)}}function US(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Kx(Gx.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Kx(Gx.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Kx(Gx.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Kx(Gx.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function VS(e){const t=US(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new Kx(Gx.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function WS(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function qS(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=WS(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+LS(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=TS.getBlob(c,r,u);if(null===d)throw eS();const h={name:l.fullPath},p=dS(o,e.host,e._protocol),f=e.maxUploadRetryTime,m=new FS(p,"POST",zS(e,n),f);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=US(t),m}class HS{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qx.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Qx.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Qx.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw iS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iS("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(zN){return-1}}getResponse(){if(!this.sent_)throw iS("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iS("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class KS extends HS{initXhr(){this.xhr_.responseType="text"}}function GS(){return new KS}class QS{constructor(e,t){this._service=e,this._location=t instanceof oS?t:oS.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new QS(e,t)}get root(){const e=new oS(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RS(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new oS(this._location.bucket,e);return new QS(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Kx(Gx.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function YS(e,t,n){e._throwIfRoot("uploadBytes");const r=qS(e.storage,e._location,OS(),new TS(t,!0),n);return e.storage.makeRequestWithTokens(r,GS).then((t=>({metadata:t,ref:e})))}function XS(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=dS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new FS(r,"GET",BS(e,n),i);return o.errorHandler=VS(t),o}(e.storage,e._location,OS());return e.storage.makeRequestWithTokens(t,GS).then((e=>{if(null===e)throw new Kx(Gx.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function JS(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=dS(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new FS(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=VS(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,GS)}function ZS(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new oS(e._location.bucket,n);return new QS(e.storage,r)}function e_(e,t){if(e instanceof r_){const n=e;if(null==n._bucket)throw new Kx(Gx.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Hx+"' property when initializing the app?");const r=new QS(n,n._bucket);return null!=t?e_(r,t):r}return void 0!==t?ZS(e,t):e}function t_(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof r_)return new QS(e,t);throw tS("To use ref(service, url), the first argument must be a Storage instance.")}return e_(e,t)}function n_(e,t){const n=null===t||void 0===t?void 0:t[Hx];return null==n?null:oS.makeFromBucketSpec(n,e)}class r_{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=qx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?oS.makeFromBucketSpec(r,this._host):n_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=oS.makeFromBucketSpec(this._url,e):this._bucket=n_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(wl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new QS(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new sS(nS());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=hS(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new fS(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const i_="@firebase/storage",o_="0.13.7",s_="storage";function a_(e,t,n){return YS(e=aa(e),t,n)}function l_(e){return XS(e=aa(e))}function c_(e,t){return t_(e=aa(e),t)}function u_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cl(),t=arguments.length>1?arguments[1]:void 0;e=aa(e);const n=bl(e,s_).getImmediate({identifier:t}),r=Rs("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Os(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function d_(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new r_(r,i,o,n,_l)}yl(new la(s_,d_,"PUBLIC").setMultipleInstances(!0)),El(i_,o_,""),El(i_,o_,"esm2017");function h_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function p_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f_=p_,m_=new Us("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),g_=new ba("@firebase/auth");function v_(e){if(g_.logLevel<=fa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g_.error(`Auth (${_l}): ${e}`,...n)}}function y_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw S_(e,...n)}function b_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return S_(e,...n)}function w_(e,t,n){const r=Object.assign(Object.assign({},f_()),{[t]:n});return new Us("auth","Firebase",r).create(t,{appName:e.name})}function x_(e){return w_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return m_.create(e,...n)}function __(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw S_(t,...r)}}function k_(e){const t="INTERNAL ASSERTION FAILED: "+e;throw v_(t),new Error(t)}function C_(e,t){e||k_(t)}function E_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function I_(){return"http:"===T_()||"https:"===T_()}function T_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function P_(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(I_()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class R_{constructor(e,t){this.shortDelay=e,this.longDelay=t,C_(t>e,"Short delay should be less than long delay!"),this.isMobile=Ms()||Ls()}get(){return P_()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function A_(e,t){C_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class N_{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void k_("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void k_("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void k_("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const j_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},O_=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D_=new R_(3e4,6e4);function M_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function L_(e,t,n,r){return F_(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Zs(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),N_.fetch()(await z_(e,e.config.apiHost,n,s),l)}))}async function F_(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},j_),t);try{const t=new U_(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw V_(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw V_(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw V_(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw V_(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw w_(e,a,s);y_(e,a)}}catch(zN){if(zN instanceof Bs)throw zN;y_(e,"network-request-failed",{message:String(zN)})}}async function $_(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await L_(e,t,n,r,i);return"mfaPendingCredential"in o&&y_(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function z_(e,t,n,r){const i=`${t}${n}?${r}`,o=e,s=o.config.emulator?A_(e.config,i):`${e.config.apiScheme}://${i}`;if(O_.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function B_(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U_{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(b_(this.auth,"network-request-failed"))),D_.get())}))}}function V_(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=b_(e,t,r);return i.customData._tokenResponse=n,i}function W_(e){return void 0!==e&&void 0!==e.getResponse}function q_(e){return void 0!==e&&void 0!==e.enterprise}class H_{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return B_(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K_(e,t){return L_(e,"GET","/v2/recaptchaConfig",M_(e,t))}async function G_(e,t){return L_(e,"POST","/v1/accounts:lookup",t)}function Q_(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(zN){}}function Y_(e){return 1e3*Number(e)}function X_(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return v_("JWT malformed, contained fewer than 3 sections"),null;try{const e=ks(n);return e?JSON.parse(e):(v_("Failed to decode base64 JWT payload"),null)}catch(zN){return v_("Caught error parsing JWT payload as JSON",null===zN||void 0===zN?void 0:zN.toString()),null}}function J_(e){const t=X_(e);return __(t,"internal-error"),__("undefined"!==typeof t.exp,"internal-error"),__("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Z_(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(zN){throw zN instanceof Bs&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(zN)&&e.auth.currentUser===e&&await e.auth.signOut(),zN}}class ek{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(zN){return void("auth/network-request-failed"===(null===zN||void 0===zN?void 0:zN.code)&&this.schedule(!0))}this.schedule()}}class tk{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Q_(this.lastLoginAt),this.creationTime=Q_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nk(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Z_(e,G_(n,{idToken:r}));__(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?rk(o.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tk(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function rk(e){return e.map((e=>{var{providerId:t}=e,n=h_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class ik{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){__(e.idToken,"internal-error"),__("undefined"!==typeof e.idToken,"internal-error"),__("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):J_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){__(0!==e.length,"internal-error");const t=J_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(__(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await F_(e,{},(async()=>{const n=Zs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await z_(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",N_.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new ik;return n&&(__("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(__("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(__("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ik,this.toJSON())}_performRefresh(){return k_("not implemented")}}function ok(e,t){__("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class sk{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=h_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ek(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tk(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Z_(this,this.stsTokenManager.getToken(this.auth,e));return __(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=aa(e),r=await n.getIdToken(t),i=X_(r);__(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Q_(Y_(i.auth_time)),issuedAtTime:Q_(Y_(i.iat)),expirationTime:Q_(Y_(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=aa(e);await nk(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(__(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sk(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){__(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await nk(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wl(this.auth.app))return Promise.reject(x_(this.auth));const e=await this.getIdToken();return await Z_(this,async function(e,t){return L_(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;__(y&&S,e,"internal-error");const _=ik.fromJSON(this.name,S);__("string"===typeof y,e,"internal-error"),ok(u,e.name),ok(d,e.name),__("boolean"===typeof b,e,"internal-error"),__("boolean"===typeof w,e,"internal-error"),ok(h,e.name),ok(p,e.name),ok(f,e.name),ok(m,e.name),ok(g,e.name),ok(v,e.name);const k=new sk({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:_,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(k.providerData=x.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ik;r.updateFromServerResponse(t);const i=new sk({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await nk(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];__(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?rk(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new ik;s.updateFromIdToken(n);const a=new sk({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new tk(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const ak=new Map;function lk(e){C_(e instanceof Function,"Expected a class definition");let t=ak.get(e);return t?(C_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ak.set(e,t),t)}class ck{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ck.type="NONE";const uk=ck;function dk(e,t,n){return`firebase:${e}:${t}:${n}`}class hk{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=dk(this.userKey,r.apiKey,i),this.fullPersistenceKey=dk("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await G_(this.auth,{idToken:e}).catch((()=>{}));return t?sk._fromGetAccountInfoResponse(this.auth,t,e):null}return sk._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new hk(lk(uk),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||lk(uk);const o=dk(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await G_(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await sk._fromGetAccountInfoResponse(e,r,t)}else n=sk._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new hk(i,e,n)):new hk(i,e,n)}}function pk(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bk(t))return"Blackberry";if(wk(t))return"Webos";if(mk(t))return"Safari";if((t.includes("chrome/")||gk(t))&&!t.includes("edge/"))return"Chrome";if(yk(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function fk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/firefox\//i.test(e)}function mk(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/crios\//i.test(e)}function vk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/iemobile/i.test(e)}function yk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/android/i.test(e)}function bk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/blackberry/i.test(e)}function wk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/webos/i.test(e)}function xk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Sk(){return function(){const e=Ds();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function _k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds();return xk(e)||yk(e)||wk(e)||bk(e)||/windows phone/i.test(e)||vk(e)}function kk(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=pk(Ds());break;case"Worker":t=`${pk(Ds())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${_l}/${r}`}class Ck{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(zN){r(zN)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(zN){t.reverse();for(const n of t)try{n()}catch(_j){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===zN||void 0===zN?void 0:zN.message})}}}class Ek{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ik{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pk(this),this.idTokenSubscription=new Pk(this),this.beforeStateQueue=new Ck(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=lk(t)),this._initializationPromise=this.queue((async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await hk.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(zN){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await G_(this,{idToken:e}),n=await sk._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(wl(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(zN){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(zN)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return __(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(zN){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nk(e)}catch(zN){if("auth/network-request-failed"!==(null===zN||void 0===zN?void 0:zN.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wl(this.app))return Promise.reject(x_(this));const t=e?aa(e):null;return t&&__(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&__(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return wl(this.app)?Promise.reject(x_(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wl(this.app)?Promise.reject(x_(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(lk(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return L_(e,"GET","/v2/passwordPolicy",M_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ek(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Us("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return L_(e,"POST","/v2/accounts:revokeToken",M_(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&lk(e)||this._popupRedirectResolver;__(t,this,"argument-error"),this.redirectPersistenceManager=await hk.create(this,[lk(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(__(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return __(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(wl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(g_.logLevel<=fa.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g_.warn(`Auth (${_l}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Tk(e){return aa(e)}class Pk{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ra(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return __(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rk={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ak(e){return Rk.loadJS(e)}function Nk(e){return`__${e}${Math.floor(1e6*Math.random())}`}const jk=1e12;class Ok{constructor(e){this.auth=e,this.counter=jk,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Lk(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||jk;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||jk;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||jk;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Dk{constructor(){this.enterprise=new Mk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Mk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Lk{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;__(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(zN){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(zN){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fk="NO_RECAPTCHA";class $k{constructor(e){this.type="recaptcha-enterprise",this.auth=Tk(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;q_(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Fk)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Dk).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{K_(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new H_(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&q_(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Rk.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ak(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function zk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new $k(e);let s;if(i)s=Fk;else try{s=await o.verify(n)}catch(PI){s=await o.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Bk(e,t,n,r,i){var o,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await zk(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await zk(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await zk(e,t,n);return r(e,i).catch((async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await zk(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await zk(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Uk(e){const t=Tk(e),n=await K_(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new H_(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new $k(t).verify()}}function Vk(e,t,n){const r=Tk(e);__(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Wk(t),{host:s,port:a}=function(e){const t=Wk(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:qk(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:qk(t)}}}(t),l={url:`${o}//${s}${null===a?"":`:${a}`}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return __(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void __(Xs(l,r.config.emulator)&&Xs(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Wk(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qk(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Hk{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return k_("not implemented")}_getIdTokenResponse(e){return k_("not implemented")}_linkToIdToken(e,t){return k_("not implemented")}_getReauthenticationResolver(e){return k_("not implemented")}}async function Kk(e,t){return L_(e,"POST","/v1/accounts:signUp",t)}async function Gk(e,t){return $_(e,"POST","/v1/accounts:signInWithPassword",M_(e,t))}async function Qk(e,t){return L_(e,"POST","/v1/accounts:sendOobCode",M_(e,t))}async function Yk(e,t){return Qk(e,t)}class Xk extends Hk{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Xk(e,t,"password")}static _fromEmailAndCode(e,t){return new Xk(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Bk(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Gk,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return $_(e,"POST","/v1/accounts:signInWithEmailLink",M_(e,t))}(e,{email:this._email,oobCode:this._password});default:y_(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Bk(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Kk,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return $_(e,"POST","/v1/accounts:signInWithEmailLink",M_(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:y_(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Jk(e,t){return $_(e,"POST","/v1/accounts:signInWithIdp",M_(e,t))}class Zk extends Hk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zk(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):y_("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=h_(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Zk(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Jk(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Jk(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jk(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zs(t)}return e}}async function eC(e,t){return L_(e,"POST","/v1/accounts:sendVerificationCode",M_(e,t))}const tC={USER_NOT_FOUND:"user-not-found"};class nC extends Hk{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new nC({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new nC({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return $_(e,"POST","/v1/accounts:signInWithPhoneNumber",M_(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await $_(e,"POST","/v1/accounts:signInWithPhoneNumber",M_(e,t));if(n.temporaryProof)throw V_(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return $_(e,"POST","/v1/accounts:signInWithPhoneNumber",M_(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),tC)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new nC({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class rC{constructor(e){var t,n,r,i,o,s;const a=ea(ta(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);__(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=ea(ta(e)).link,n=t?ea(ta(t)).deep_link_id:null,r=ea(ta(e)).deep_link_id;return(r?ea(ta(r)).link:null)||r||n||t||e}(e);try{return new rC(t)}catch(n){return null}}}class iC{constructor(){this.providerId=iC.PROVIDER_ID}static credential(e,t){return Xk._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=rC.parseLink(t);return __(n,"argument-error"),Xk._fromEmailAndCode(e,n.code,n.tenantId)}}iC.PROVIDER_ID="password",iC.EMAIL_PASSWORD_SIGN_IN_METHOD="password",iC.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sC extends oC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class aC extends sC{constructor(){super("facebook.com")}static credential(e){return Zk._fromParams({providerId:aC.PROVIDER_ID,signInMethod:aC.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aC.credentialFromTaggedObject(e)}static credentialFromError(e){return aC.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return aC.credential(t.oauthAccessToken)}catch(n){return null}}}aC.FACEBOOK_SIGN_IN_METHOD="facebook.com",aC.PROVIDER_ID="facebook.com";class lC extends sC{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zk._fromParams({providerId:lC.PROVIDER_ID,signInMethod:lC.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return lC.credentialFromTaggedObject(e)}static credentialFromError(e){return lC.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return lC.credential(n,r)}catch(i){return null}}}lC.GOOGLE_SIGN_IN_METHOD="google.com",lC.PROVIDER_ID="google.com";class cC extends sC{constructor(){super("github.com")}static credential(e){return Zk._fromParams({providerId:cC.PROVIDER_ID,signInMethod:cC.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cC.credentialFromTaggedObject(e)}static credentialFromError(e){return cC.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return cC.credential(t.oauthAccessToken)}catch(n){return null}}}cC.GITHUB_SIGN_IN_METHOD="github.com",cC.PROVIDER_ID="github.com";class uC extends sC{constructor(){super("twitter.com")}static credential(e,t){return Zk._fromParams({providerId:uC.PROVIDER_ID,signInMethod:uC.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return uC.credentialFromTaggedObject(e)}static credentialFromError(e){return uC.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return uC.credential(n,r)}catch(i){return null}}}async function dC(e,t){return $_(e,"POST","/v1/accounts:signUp",M_(e,t))}uC.TWITTER_SIGN_IN_METHOD="twitter.com",uC.PROVIDER_ID="twitter.com";class hC{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await sk._fromIdTokenResponse(e,n,r),o=pC(n);return new hC({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=pC(n);return new hC({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function pC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class fC extends Bs{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,fC.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new fC(e,t,n,r)}}function mC(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw fC._fromErrorAndOperation(e,n,t,r);throw n}))}async function gC(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Z_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return hC._forOperation(e,"link",r)}async function vC(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(wl(r.app))return Promise.reject(x_(r));const i="reauthenticate";try{const o=await Z_(e,mC(r,i,t,e),n);__(o.idToken,r,"internal-error");const s=X_(o.idToken);__(s,r,"internal-error");const{sub:a}=s;return __(e.uid===a,r,"user-mismatch"),hC._forOperation(e,i,o)}catch(zN){throw"auth/user-not-found"===(null===zN||void 0===zN?void 0:zN.code)&&y_(r,"user-mismatch"),zN}}async function yC(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(wl(e.app))return Promise.reject(x_(e));const r="signIn",i=await mC(e,r,t),o=await hC._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function bC(e,t){return yC(Tk(e),t)}class wC{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?xC._fromServerResponse(e,t):"totpInfo"in t?SC._fromServerResponse(e,t):y_(e,"internal-error")}}class xC extends wC{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new xC(t)}}class SC extends wC{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new SC(t)}}function _C(e,t,n){var r;__((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),__("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),__("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(__(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(__(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function kC(e){const t=Tk(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function CC(e,t){await async function(e,t){return L_(e,"POST","/v1/accounts:update",M_(e,t))}(aa(e),{oobCode:t})}function EC(e,t,n){return wl(e.app)?Promise.reject(x_(e)):bC(aa(e),iC.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&kC(e),t}))}async function IC(e,t){const n=aa(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&_C(n.auth,r,t);const{email:i}=await async function(e,t){return Qk(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function TC(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=aa(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Z_(i,async function(e,t){return L_(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function PC(e,t,n,r){return aa(e).onAuthStateChanged(t,n,r)}class RC{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new RC("enroll",e,t)}static _fromMfaPendingCredential(e){return new RC("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return RC._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return RC._fromIdtoken(e.multiFactorSession.idToken)}return null}}function AC(e,t){return L_(e,"POST","/v2/accounts/mfaEnrollment:start",M_(e,t))}class NC{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>wC._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new NC(e)}async getSession(){return RC._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Z_(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Z_(this.user,function(e,t){return L_(e,"POST","/v2/accounts/mfaEnrollment:withdraw",M_(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(zN){throw zN}}}const jC=new WeakMap;function OC(e){const t=aa(e);return jC.has(t)||jC.set(t,NC._fromUser(t)),jC.get(t)}const DC="__sak";class MC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(DC,"1"),this.storage.removeItem(DC),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class LC extends MC{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_k(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Sk()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}LC.type="LOCAL";const FC=LC;function $C(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function zC(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class BC{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=zC(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return $C(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=zC(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=zC(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=$C(n);const i=setInterval((()=>{const e=$C(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(i)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}BC.type="COOKIE";class UC extends MC{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}UC.type="SESSION";const VC=UC;class WC{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new WC(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function qC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}WC.receivers=[];class HC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=qC("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function KC(){return window}function GC(){return"undefined"!==typeof KC().WorkerGlobalScope&&"function"===typeof KC().importScripts}const QC="firebaseLocalStorageDb",YC="firebaseLocalStorage",XC="fbase_key";class JC{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ZC(e,t){return e.transaction([YC],t?"readwrite":"readonly").objectStore(YC)}function eE(){const e=indexedDB.open(QC,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(YC,{keyPath:XC})}catch(zN){n(zN)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(YC)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(QC);return new JC(e).toPromise()}(),t(await eE()))}))}))}async function tE(e,t,n){const r=ZC(e,!0).put({[XC]:t,value:n});return new JC(r).toPromise()}function nE(e,t){const n=ZC(e,!0).delete(t);return new JC(n).toPromise()}class rE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await eE()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(zN){if(t++>3)throw zN;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=WC._getInstance(GC()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new HC(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eE();return await tE(e,DC,"1"),await nE(e,DC),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>tE(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ZC(e,!1).get(t),r=await new JC(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>nE(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ZC(e,!1).getAll();return new JC(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}rE.type="LOCAL";const iE=rE;function oE(e,t){return L_(e,"POST","/v2/accounts/mfaSignIn:start",M_(e,t))}const sE=Nk("rcb"),aE=new R_(3e4,6e4);class lE{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=KC().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return __(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&W_(KC().grecaptcha)?Promise.resolve(KC().grecaptcha):new Promise(((n,r)=>{const i=KC().setTimeout((()=>{r(b_(e,"network-request-failed"))}),aE.get());KC()[sE]=()=>{KC().clearTimeout(i),delete KC()[sE];const o=KC().grecaptcha;if(!o||!W_(o))return void r(b_(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};Ak(`${Rk.recaptchaV2Script}?${Zs({onload:sE,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(b_(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=KC().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cE{async load(e){return new Ok(e)}clearedOneInstance(){}}const uE="recaptcha",dE={theme:"light",type:"image"};class hE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},dE);this.parameters=n,this.type=uE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tk(e),this.isInvisible="invisible"===this.parameters.size,__("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;__(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cE:new lE,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(zN){return Promise.reject(zN)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){__(!this.parameters.sitekey,this.auth,"argument-error"),__(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),__("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=KC()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){__(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){__(I_()&&!GC(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await L_(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);__(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return __(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}async function pE(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Uk(e)}catch(PI){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){__("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Bk(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Fk){__((null===n||void 0===n?void 0:n.type)===uE,e,"argument-error");return AC(e,await fE(e,t,n))}return AC(e,t)}),"PHONE_PROVIDER"),s=await o.catch((e=>Promise.reject(e)));return s.phoneSessionInfo.sessionInfo}{__("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;__(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Bk(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Fk){__((null===n||void 0===n?void 0:n.type)===uE,e,"argument-error");return oE(e,await fE(e,t,n))}return oE(e,t)}),"PHONE_PROVIDER"),l=await a.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Bk(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Fk){__((null===n||void 0===n?void 0:n.type)===uE,e,"argument-error");return eC(e,await fE(e,t,n))}return eC(e,t)}),"PHONE_PROVIDER"),o=await r.catch((e=>Promise.reject(e)));return o.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function fE(e,t,n){__(n.type===uE,e,"argument-error");const r=await n.verify();__("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class mE{constructor(e){this.providerId=mE.PROVIDER_ID,this.auth=Tk(e)}verifyPhoneNumber(e,t){return pE(this.auth,e,aa(t))}static credential(e,t){return nC._fromVerification(e,t)}static credentialFromResult(e){const t=e;return mE.credentialFromTaggedObject(t)}static credentialFromError(e){return mE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?nC._fromTokenResponse(n,r):null}}function gE(e,t){return t?lk(t):(__(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}mE.PROVIDER_ID="phone",mE.PHONE_SIGN_IN_METHOD="phone";class vE extends Hk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jk(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jk(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jk(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yE(e){return yC(e.auth,new vE(e),e.bypassAuthState)}function bE(e){const{auth:t,user:n}=e;return __(n,t,"internal-error"),vC(n,new vE(e),e.bypassAuthState)}async function wE(e){const{auth:t,user:n}=e;return __(n,t,"internal-error"),gC(n,new vE(e),e.bypassAuthState)}class xE{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(zN){this.reject(zN)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(zN){this.reject(zN)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yE;case"linkViaPopup":case"linkViaRedirect":return wE;case"reauthViaPopup":case"reauthViaRedirect":return bE;default:y_(this.auth,"internal-error")}}resolve(e){C_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){C_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const SE=new R_(2e3,1e4);class _E extends xE{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,_E.currentPopupAction&&_E.currentPopupAction.cancel(),_E.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return __(e,this.auth,"internal-error"),e}async onExecution(){C_(1===this.filter.length,"Popup operations only handle one event");const e=qC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(b_(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(b_(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_E.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(b_(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,SE.get())};e()}}_E.currentPopupAction=null;const kE=new Map;class CE extends xE{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=kE.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=TE(t),r=IE(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(zN){e=()=>Promise.reject(zN)}kE.set(this.auth._key(),e)}return this.bypassAuthState||kE.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function EE(e,t){kE.set(e._key(),t)}function IE(e){return lk(e._redirectPersistence)}function TE(e){return dk("pendingRedirect",e.config.apiKey,e.name)}async function PE(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(wl(e.app))return Promise.reject(x_(e));const r=Tk(e),i=gE(r,t),o=new CE(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class RE{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NE(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!NE(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(b_(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function NE(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const jE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OE=/^https?/;async function DE(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return L_(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ME(r))return}catch(n){}y_(e,"unauthorized-domain")}function ME(e){const t=E_(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!OE.test(n))return!1;if(jE.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const LE=new R_(3e4,6e4);function FE(){const e=KC().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function $E(e){return new Promise(((t,n)=>{var r,i,o;function s(){FE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{FE(),n(b_(e,"network-request-failed"))},timeout:LE.get()})}if(null===(i=null===(r=KC().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=KC().gapi)||void 0===o?void 0:o.load)){const t=Nk("iframefcb");return KC()[t]=()=>{gapi.load?s():n(b_(e,"network-request-failed"))},Ak(`${Rk.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw zE=null,e}))}let zE=null;const BE=new R_(5e3,15e3),UE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WE(e){const t=e.config;__(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?A_(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:_l},i=VE.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Zs(r).slice(1)}`}async function qE(e){const t=await function(e){return zE=zE||$E(e),zE}(e),n=KC().gapi;return __(n,e,"internal-error"),t.open({where:document.body,url:WE(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UE,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=b_(e,"network-request-failed"),o=KC().setTimeout((()=>{r(i)}),BE.get());function s(){KC().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const HE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class KE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(zN){}}}function GE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},HE),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Ds().toLowerCase();n&&(a=gk(c)?"_blank":n),fk(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return xk(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new KE(null);const d=window.open(t||"",a,u);__(d,e,"popup-blocked");try{d.focus()}catch(zN){}return new KE(d)}const QE="__/auth/handler",YE="emulator/auth/handler",XE=encodeURIComponent("fac");async function JE(e,t,n,r,i,o){__(e.config.authDomain,e,"auth-domain-config-required"),__(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:_l,eventId:i};if(t instanceof oC){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Qs(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof sC){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${XE}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${QE}`;return A_(t,YE)}(e)}?${Zs(a).slice(1)}${c}`}const ZE="webStorageSupport";const eI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VC,this._completeRedirectFn=PE,this._overrideRedirectResult=EE}async _openPopup(e,t,n,r){var i;C_(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return GE(e,await JE(e,t,n,E_(),r),qC())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){KC().location.href=e}(await JE(e,t,n,E_(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(C_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await qE(e),n=new RE(e);return t.register("authEvent",(t=>{__(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ZE,{type:ZE},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ZE];void 0!==i&&t(!!i),y_(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DE(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _k()||mk()||xk()}};class tI{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return k_("unexpected MultiFactorSessionType")}}}class nI extends tI{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new nI(e)}_finalizeEnroll(e,t,n){return function(e,t){return L_(e,"POST","/v2/accounts/mfaEnrollment:finalize",M_(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return L_(e,"POST","/v2/accounts/mfaSignIn:finalize",M_(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class rI{constructor(){}static assertion(e){return nI._fromCredential(e)}}rI.FACTOR_ID="phone";var iI="@firebase/auth",oI="1.10.0";class sI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){__(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const aI=Ns("authIdTokenMaxAge")||300;let lI=null;function cI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cl();const t=bl(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=bl(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Xs(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;y_(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:eI,persistence:[iE,FC,VC]}),r=Ns("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>aI)return;const r=null===t||void 0===t?void 0:t.token;lI!==r&&(lI=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){aa(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){aa(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=Ps("auth");return o&&Vk(n,`http://${o}`),n}var uI;!function(e){Rk=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=b_("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),uI="Browser",yl(new la("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;__(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:uI,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kk(uI)},c=new Ik(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lk);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),yl(new la("auth-internal",(e=>(e=>new sI(e))(Tk(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),El(iI,oI,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(uI)),El(iI,oI,"esm2017");const dI="@firebase/database",hI="1.0.14";let pI="";function fI(e){pI=e}class mI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),qs(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ws(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class gI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ks(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const vI=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new mI(t)}}catch(zN){}return new gI},yI=vI("localStorage"),bI=vI("sessionStorage"),wI=new ba("@firebase/database"),xI=function(){let e=1;return function(){return e++}}(),SI=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,vs(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new na;n.update(t);const r=n.digest();return ws.encodeByteArray(r)},_I=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=_I.apply(null,n):e+="object"===typeof n?qs(n):n,e+=" "}return e};let kI=null,CI=!0;const EI=function(e,t){vs(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(wI.logLevel=fa.VERBOSE,kI=wI.log.bind(wI),t&&bI.set("logging_enabled",!0)):"function"===typeof e?kI=e:(kI=null,bI.remove("logging_enabled"))},II=function(){if(!0===CI&&(CI=!1,null===kI&&!0===bI.get("logging_enabled")&&EI(!0)),kI){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=_I.apply(null,t);kI(r)}},TI=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];II(e,...n)}},PI=function(){const e="FIREBASE INTERNAL ERROR: "+_I(...arguments);wI.error(e)},RI=function(){const e=`FIREBASE FATAL ERROR: ${_I(...arguments)}`;throw wI.error(e),new Error(e)},AI=function(){const e="FIREBASE WARNING: "+_I(...arguments);wI.warn(e)},NI=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},jI="[MIN_NAME]",OI="[MAX_NAME]",DI=function(e,t){if(e===t)return 0;if(e===jI||t===OI)return-1;if(t===jI||e===OI)return 1;{const n=VI(e),r=VI(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},MI=function(e,t){return e===t?0:e<t?-1:1},LI=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+qs(t))},FI=function(e){if("object"!==typeof e||null===e)return qs(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=qs(t[r]),n+=":",n+=FI(e[t[r]]);return n+="}",n},$I=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function zI(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const BI=function(e){vs(!NI(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const UI=new RegExp("^-?(0*)\\d{1,10}$"),VI=function(e){if(UI.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},WI=function(e){try{e()}catch(zN){setTimeout((()=>{const t=zN.stack||"";throw AI("Exception was thrown by user callback.",t),zN}),Math.floor(0))}},qI=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class HI{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,wl(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){AI(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class KI{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(II("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',AI(e)}}class GI{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}GI.OWNER="owner";const QI="5",YI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,XI="ac",JI="websocket",ZI="long_polling";class eT{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yI.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yI.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function tT(e,t,n){let r;if(vs("string"===typeof t,"typeof type must == string"),vs("object"===typeof n,"typeof params must == object"),t===JI)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ZI)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return zI(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class nT{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ks(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Cs(this.counters_)}}const rT={},iT={};function oT(e){const t=e.toString();return rT[t]||(rT[t]=new nT),rT[t]}class sT{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&WI((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const aT="start";class lT{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=TI(e),this.stats_=oT(t),this.urlFn=e=>(this.appCheckToken&&(e[XI]=this.appCheckToken),tT(t,ZI,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new sT(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Fs()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new cT((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===aT)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[aT]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=QI,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[XI]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&YI.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){lT.forceAllow_=!0}static forceDisallow(){lT.forceDisallow_=!0}static isAvailable(){return!Fs()&&(!!lT.forceAllow_||!lT.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=qs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ss(t),r=$I(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Fs())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=qs(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class cT{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Fs())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=xI(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=cT.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(zN){II("frame writing exception"),zN.stack&&II(zN.stack),II(zN)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||II("No IE domain setting required")}catch(zN){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Fs()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{II("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(zN){}}),Math.floor(1))}}let uT=null;"undefined"!==typeof MozWebSocket?uT=MozWebSocket:"undefined"!==typeof WebSocket&&(uT=WebSocket);class dT{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=TI(this.connId),this.stats_=oT(t),this.connURL=dT.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=QI,!Fs()&&"undefined"!==typeof location&&location.hostname&&YI.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[XI]=r),i&&(o.p=i),tT(e,JI,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yI.set("previous_websocket_failure",!0);try{let e;if(Fs()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${QI}/${pI}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDqVvQqQqQqQqQqQqQqQqQqQqQqQqQqQq",REACT_APP_FIREBASE_APP_ID:"1:1234567890:web:abcdef1234567890",REACT_APP_FIREBASE_AUTH_DOMAIN:"side-eye.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://side-eye-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1234567890",REACT_APP_FIREBASE_PROJECT_ID:"side-eye",REACT_APP_FIREBASE_STORAGE_BUCKET:"side-eye.appspot.com"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new uT(this.connURL,[],e)}catch(zN){this.log_("Error instantiating WebSocket.");const t=zN.message||zN.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){dT.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==uT&&!dT.forceDisallow_}static previouslyFailed(){return yI.isInMemoryStorage||!0===yI.get("previous_websocket_failure")}markConnectionHealthy(){yI.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Ws(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(vs(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=qs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=$I(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(zN){this.log_("Exception thrown from WebSocket.send():",zN.message||zN.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}dT.responsesRequiredToBeHealthy=2,dT.healthyTimeout=3e4;class hT{static get ALL_TRANSPORTS(){return[lT,dT]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=dT&&dT.isAvailable();let n=t&&!dT.previouslyFailed();if(e.webSocketOnly&&(t||AI("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[dT];else{const e=this.transports_=[];for(const t of hT.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);hT.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}hT.globalTransportInitialized_=!1;class pT{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=TI("c:"+this.id+":"),this.transportManager_=new hT(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=qI((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=LI("t",e),n=LI("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=LI("t",e),n=LI("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=LI("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?PI("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):PI("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),QI!==n&&AI("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),qI((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qI((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yI.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class fT{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class mT{constructor(e){this.allowedEvents_=e,this.listeners_={},vs(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){vs(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class gT extends mT{static getInstance(){return new gT}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ms()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}getInitialEvent(e){return vs("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class vT{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function yT(){return new vT("")}function bT(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function wT(e){return e.pieces_.length-e.pieceNum_}function xT(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new vT(e.pieces_,t)}function ST(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function _T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function kT(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new vT(t,0)}function CT(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof vT)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new vT(n,0)}function ET(e){return e.pieceNum_>=e.pieces_.length}function IT(e,t){const n=bT(e),r=bT(t);if(null===n)return t;if(n===r)return IT(xT(e),xT(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function TT(e,t){if(wT(e)!==wT(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function PT(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(wT(e)>wT(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class RT{constructor(e,t){this.errorPrefix_=t,this.parts_=_T(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=sa(this.parts_[n]);AT(this)}}function AT(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+NT(e))}function NT(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class jT extends mT{static getInstance(){return new jT}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}getInitialEvent(e){return vs("visible"===e,"Unknown event type: "+e),[this.visible_]}}const OT=1e3;class DT extends fT{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=DT.nextPersistentConnectionId_++,this.log_=TI("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=OT,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Fs())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jT.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&gT.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(qs(i)),vs(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new js,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),vs(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),vs(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;DT.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Ks(e,"w")){const n=Gs(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();AI(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Hs(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Hs(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),vs(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+qs(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):PI("Unrecognized action received from server: "+qs(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){vs(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=OT,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=OT,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=OT),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+DT.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){vs(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?II("getToken() completed but was canceled"):(II("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new pT(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{AI(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(PI){this.log_("Failed to get token: "+PI),o||(this.repoInfo_.nodeAdmin&&AI(PI),a())}}}interrupt(e){II("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){II("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Qs(this.interruptReasons_)&&(this.reconnectDelay_=OT,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>FI(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new vT(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){II("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){II("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Fs()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+pI.replace(/\./g,"-")]=1,Ms()?e["framework.cordova"]=1:Ls()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gT.getInstance().currentlyOnline();return Qs(this.interruptReasons_)&&e}}DT.nextPersistentConnectionId_=0,DT.nextConnectionId_=0;class MT{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new MT(e,t)}}class LT{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new MT(jI,e),r=new MT(jI,t);return 0!==this.compare(n,r)}minPost(){return MT.MIN}}let FT;class $T extends LT{static get __EMPTY_NODE(){return FT}static set __EMPTY_NODE(e){FT=e}compare(e,t){return DI(e.name,t.name)}isDefinedOn(e){throw ys("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return MT.MIN}maxPost(){return new MT(OI,FT)}makePost(e,t){return vs("string"===typeof e,"KeyIndex indexValue must always be a string."),new MT(e,FT)}toString(){return".key"}}const zT=new $T;class BT{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class UT{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:UT.RED,this.left=null!=r?r:VT.EMPTY_NODE,this.right=null!=i?i:VT.EMPTY_NODE}copy(e,t,n,r,i){return new UT(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return VT.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return VT.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,UT.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,UT.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}UT.RED=!0,UT.BLACK=!1;class VT{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VT.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new VT(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,UT.BLACK,null,null))}remove(e){return new VT(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,UT.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new BT(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new BT(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new BT(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new BT(this.root_,null,this.comparator_,!0,e)}}function WT(e,t){return DI(e.name,t.name)}function qT(e,t){return DI(e,t)}let HT;VT.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new UT(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const KT=function(e){return"number"===typeof e?"number:"+BI(e):"string:"+e},GT=function(e){if(e.isLeafNode()){const t=e.val();vs("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ks(t,".sv"),"Priority must be a string or number.")}else vs(e===HT||e.isEmpty(),"priority of unexpected type.");vs(e===HT||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let QT,YT,XT;class JT{static set __childrenNodeConstructor(e){QT=e}static get __childrenNodeConstructor(){return QT}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JT.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,vs(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),GT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new JT(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:JT.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ET(e)?this:".priority"===bT(e)?this.priorityNode_:JT.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:JT.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=bT(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(vs(".priority"!==n||1===wT(e),".priority must be the last token in a path"),this.updateImmediateChild(n,JT.__childrenNodeConstructor.EMPTY_NODE.updateChild(xT(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+KT(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?BI(this.value_):this.value_,this.lazyHash_=SI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===JT.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof JT.__childrenNodeConstructor?-1:(vs(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=JT.VALUE_TYPE_ORDER.indexOf(t),i=JT.VALUE_TYPE_ORDER.indexOf(n);return vs(r>=0,"Unknown leaf type: "+t),vs(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}JT.VALUE_TYPE_ORDER=["object","boolean","number","string"];const ZT=new class extends LT{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?DI(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return MT.MIN}maxPost(){return new MT(OI,new JT("[PRIORITY-POST]",XT))}makePost(e,t){const n=YT(e);return new MT(t,new JT("[PRIORITY-POST]",n))}toString(){return".priority"}},eP=Math.log(2);class tP{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/eP,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const nP=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new UT(a,s.node,UT.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new UT(a,s.node,UT.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],d=n?n(u):u;l(new UT(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,UT.BLACK):(a(r,UT.BLACK),a(r,UT.RED))}return o}(new tP(e.length));return new VT(r||t,o)};let rP;const iP={};class oP{static get Default(){return vs(iP&&ZT,"ChildrenNode.ts has not been loaded"),rP=rP||new oP({".priority":iP},{".priority":ZT}),rP}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Gs(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof VT?t:null}hasIndex(e){return Ks(this.indexSet_,e.toString())}addIndex(e,t){vs(e!==zT,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(MT.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?nP(n,e.getCompare()):iP;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new oP(c,l)}addToIndexes(e,t){const n=Ys(this.indexes_,((n,r)=>{const i=Gs(this.indexSet_,r);if(vs(i,"Missing index implementation for "+r),n===iP){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(MT.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),nP(n,i.getCompare())}return iP}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new MT(e.name,r))),i.insert(e,e.node)}}));return new oP(n,this.indexSet_)}removeFromIndexes(e,t){const n=Ys(this.indexes_,(n=>{if(n===iP)return n;{const r=t.get(e.name);return r?n.remove(new MT(e.name,r)):n}}));return new oP(n,this.indexSet_)}}let sP;class aP{static get EMPTY_NODE(){return sP||(sP=new aP(new VT(qT),null,oP.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&GT(this.priorityNode_),this.children_.isEmpty()&&vs(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sP}updatePriority(e){return this.children_.isEmpty()?this:new aP(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?sP:t}}getChild(e){const t=bT(e);return null===t?this:this.getImmediateChild(t).getChild(xT(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(vs(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new MT(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?sP:this.priorityNode_;return new aP(r,o,i)}}updateChild(e,t){const n=bT(e);if(null===n)return t;{vs(".priority"!==bT(e)||1===wT(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(xT(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(ZT,((o,s)=>{t[o]=s.val(e),n++,i&&aP.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+KT(this.getPriority().val())+":"),this.forEachChild(ZT,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":SI(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new MT(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new MT(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new MT(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,MT.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,MT.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lP?-1:0}withIndex(e){if(e===zT||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new aP(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===zT||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(ZT),n=t.getIterator(ZT);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===zT?null:this.indexMap_.get(e.toString())}}aP.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const lP=new class extends aP{constructor(){super(new VT(qT),aP.EMPTY_NODE,oP.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return aP.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(MT,{MIN:{value:new MT(jI,aP.EMPTY_NODE)},MAX:{value:new MT(OI,lP)}}),$T.__EMPTY_NODE=aP.EMPTY_NODE,JT.__childrenNodeConstructor=aP,HT=lP,function(e){XT=e}(lP);function cP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return aP.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),vs(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new JT(e,cP(t))}if(e instanceof Array){let n=aP.EMPTY_NODE;return zI(e,((t,r)=>{if(Ks(e,t)&&"."!==t.substring(0,1)){const e=cP(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(cP(t))}{const n=[];let r=!1;if(zI(e,((e,t)=>{if("."!==e.substring(0,1)){const i=cP(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new MT(e,i)))}})),0===n.length)return aP.EMPTY_NODE;const i=nP(n,WT,(e=>e.name),qT);if(r){const e=nP(n,ZT.getCompare());return new aP(i,cP(t),new oP({".priority":e},{".priority":ZT}))}return new aP(i,cP(t),oP.Default)}}!function(e){YT=e}(cP);class uP extends LT{constructor(e){super(),this.indexPath_=e,vs(!ET(e)&&".priority"!==bT(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?DI(e.name,t.name):i}makePost(e,t){const n=cP(e),r=aP.EMPTY_NODE.updateChild(this.indexPath_,n);return new MT(t,r)}maxPost(){const e=aP.EMPTY_NODE.updateChild(this.indexPath_,lP);return new MT(OI,e)}toString(){return _T(this.indexPath_,0).join("/")}}const dP=new class extends LT{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?DI(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return MT.MIN}maxPost(){return MT.MAX}makePost(e,t){const n=cP(e);return new MT(t,n)}toString(){return".value"}};function hP(e){return{type:"value",snapshotNode:e}}function pP(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function fP(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function mP(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class gP{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){vs(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(fP(t,s)):vs(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(pP(t,n)):o.trackChildChange(mP(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ZT,((e,r)=>{t.hasChild(e)||n.trackChildChange(fP(e,r))})),t.isLeafNode()||t.forEachChild(ZT,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(mP(t,r,i))}else n.trackChildChange(pP(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?aP.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class vP{constructor(e){this.indexedFilter_=new gP(e.getIndex()),this.index_=e.getIndex(),this.startPost_=vP.getStartPost_(e),this.endPost_=vP.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new MT(t,n))||(n=aP.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=aP.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(aP.EMPTY_NODE);const i=this;return t.forEachChild(ZT,((e,t)=>{i.matches(new MT(e,t))||(r=r.updateImmediateChild(e,aP.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class yP{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new vP(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new MT(t,n))||(n=aP.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=aP.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=aP.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(aP.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,aP.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;vs(s.numChildren()===this.limit_,"");const a=new MT(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(mP(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(fP(t,e));const n=s.updateImmediateChild(t,aP.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(pP(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=i&&(i.trackChildChange(fP(l.name,l.node)),i.trackChildChange(pP(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,aP.EMPTY_NODE)):e}}class bP{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ZT}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return vs(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return vs(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jI}hasEnd(){return this.endSet_}getIndexEndValue(){return vs(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return vs(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:OI}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return vs(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ZT}copy(){const e=new bP;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function wP(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ZT?n="$priority":e.index_===dP?n="$value":e.index_===zT?n="$key":(vs(e.index_ instanceof uP,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=qs(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=qs(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+qs(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=qs(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+qs(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function xP(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ZT&&(t.i=e.index_.toString()),t}class SP extends fT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(vs(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=TI("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=SP.getListenId_(e,n),s={};this.listens_[o]=s;const a=wP(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Gs(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=SP.getListenId_(e,t);delete this.listens_[n]}get(e){const t=wP(e._queryParams),n=e._path.toString(),r=new js;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Zs(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=Ws(a.responseText)}catch(zN){AI("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&AI("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class _P{constructor(){this.rootNode_=aP.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function kP(){return{value:null,children:new Map}}function CP(e,t,n){if(ET(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=bT(t);e.children.has(r)||e.children.set(r,kP());CP(e.children.get(r),t=xT(t),n)}}function EP(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{EP(r,new vT(t.toString()+"/"+e),n)}))}class IP{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&zI(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class TP{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new IP(e);const n=1e4+2e4*Math.random();qI(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;zI(e,((e,r)=>{r>0&&Ks(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),qI(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var PP;function RP(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(PP||(PP={}));class AP{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=PP.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ET(this.path)){if(null!=this.affectedTree.value)return vs(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new vT(e));return new AP(yT(),t,this.revert)}}return vs(bT(this.path)===e,"operationForChild called for unrelated child."),new AP(xT(this.path),this.affectedTree,this.revert)}}class NP{constructor(e,t){this.source=e,this.path=t,this.type=PP.LISTEN_COMPLETE}operationForChild(e){return ET(this.path)?new NP(this.source,yT()):new NP(this.source,xT(this.path))}}class jP{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=PP.OVERWRITE}operationForChild(e){return ET(this.path)?new jP(this.source,yT(),this.snap.getImmediateChild(e)):new jP(this.source,xT(this.path),this.snap)}}class OP{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=PP.MERGE}operationForChild(e){if(ET(this.path)){const t=this.children.subtree(new vT(e));return t.isEmpty()?null:t.value?new jP(this.source,yT(),t.value):new OP(this.source,yT(),t)}return vs(bT(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new OP(this.source,xT(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class DP{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ET(e))return this.isFullyInitialized()&&!this.filtered_;const t=bT(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class MP{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function LP(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw ys("Should only compare child_ events.");const r=new MT(t.childName,t.snapshotNode),i=new MT(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function FP(e,t){return{eventCache:e,serverCache:t}}function $P(e,t,n,r){return FP(new DP(t,n,r),e.serverCache)}function zP(e,t,n,r){return FP(e.eventCache,new DP(t,n,r))}function BP(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function UP(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let VP;class WP{static fromObject(e){let t=new WP(null);return zI(e,((e,n)=>{t=t.set(new vT(e),n)})),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(VP||(VP=new VT(MI)),VP);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:yT(),value:this.value};if(ET(e))return null;{const n=bT(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(xT(e),t);if(null!=i){return{path:CT(new vT(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(ET(e))return this;{const t=bT(e),n=this.children.get(t);return null!==n?n.subtree(xT(e)):new WP(null)}}set(e,t){if(ET(e))return new WP(t,this.children);{const n=bT(e),r=(this.children.get(n)||new WP(null)).set(xT(e),t),i=this.children.insert(n,r);return new WP(this.value,i)}}remove(e){if(ET(e))return this.children.isEmpty()?new WP(null):new WP(null,this.children);{const t=bT(e),n=this.children.get(t);if(n){const r=n.remove(xT(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new WP(null):new WP(this.value,i)}return this}}get(e){if(ET(e))return this.value;{const t=bT(e),n=this.children.get(t);return n?n.get(xT(e)):null}}setTree(e,t){if(ET(e))return t;{const n=bT(e),r=(this.children.get(n)||new WP(null)).setTree(xT(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new WP(this.value,i)}}fold(e){return this.fold_(yT(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(CT(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,yT(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(ET(e))return null;{const r=bT(e),i=this.children.get(r);return i?i.findOnPath_(xT(e),CT(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,yT(),t)}foreachOnPath_(e,t,n){if(ET(e))return this;{this.value&&n(t,this.value);const r=bT(e),i=this.children.get(r);return i?i.foreachOnPath_(xT(e),CT(t,r),n):new WP(null)}}foreach(e){this.foreach_(yT(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(CT(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class qP{constructor(e){this.writeTree_=e}static empty(){return new qP(new WP(null))}}function HP(e,t,n){if(ET(t))return new qP(new WP(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=IT(i,t);return o=o.updateChild(s,n),new qP(e.writeTree_.set(i,o))}{const r=new WP(n),i=e.writeTree_.setTree(t,r);return new qP(i)}}}function KP(e,t,n){let r=e;return zI(n,((e,n)=>{r=HP(r,CT(t,e),n)})),r}function GP(e,t){if(ET(t))return qP.empty();{const n=e.writeTree_.setTree(t,new WP(null));return new qP(n)}}function QP(e,t){return null!=YP(e,t)}function YP(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(IT(n.path,t)):null}function XP(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ZT,((e,n)=>{t.push(new MT(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new MT(e,n.value))})),t}function JP(e,t){if(ET(t))return e;{const n=YP(e,t);return new qP(null!=n?new WP(n):e.writeTree_.subtree(t))}}function ZP(e){return e.writeTree_.isEmpty()}function eR(e,t){return tR(yT(),e.writeTree_,t)}function tR(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(vs(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=tR(CT(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(CT(e,".priority"),r)),n}}function nR(e,t){return mR(t,e)}function rR(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));vs(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&iR(t,r.path)?i=!1:PT(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=sR(e.allWrites,oR,yT()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=GP(e.visibleWrites,r.path);else{zI(r.children,(t=>{e.visibleWrites=GP(e.visibleWrites,CT(r.path,t))}))}return!0}return!1}function iR(e,t){if(e.snap)return PT(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&PT(CT(e.path,n),t))return!0;return!1}function oR(e){return e.visible}function sR(e,t,n){let r=qP.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)PT(n,e)?(t=IT(n,e),r=HP(r,t,o.snap)):PT(e,n)&&(t=IT(e,n),r=HP(r,yT(),o.snap.getChild(t)));else{if(!o.children)throw ys("WriteRecord should have .snap or .children");if(PT(n,e))t=IT(n,e),r=KP(r,t,o.children);else if(PT(e,n))if(t=IT(e,n),ET(t))r=KP(r,yT(),o.children);else{const e=Gs(o.children,bT(t));if(e){const n=e.getChild(xT(t));r=HP(r,yT(),n)}}}}}return r}function aR(e,t,n,r,i){if(r||i){const o=JP(e.visibleWrites,t);if(!i&&ZP(o))return n;if(i||null!=n||QP(o,yT())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(PT(e.path,t)||PT(t,e.path))};return eR(sR(e.allWrites,o,t),n||aP.EMPTY_NODE)}return null}{const r=YP(e.visibleWrites,t);if(null!=r)return r;{const r=JP(e.visibleWrites,t);if(ZP(r))return n;if(null!=n||QP(r,yT())){return eR(r,n||aP.EMPTY_NODE)}return null}}}function lR(e,t,n,r){return aR(e.writeTree,e.treePath,t,n,r)}function cR(e,t){return function(e,t,n){let r=aP.EMPTY_NODE;const i=YP(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ZT,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=JP(e.visibleWrites,t);return n.forEachChild(ZT,((e,t)=>{const n=eR(JP(i,new vT(e)),t);r=r.updateImmediateChild(e,n)})),XP(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return XP(JP(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function uR(e,t,n,r){return function(e,t,n,r,i){vs(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=CT(t,n);if(QP(e.visibleWrites,o))return null;{const t=JP(e.visibleWrites,o);return ZP(t)?i.getChild(n):eR(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function dR(e,t){return function(e,t){return YP(e.visibleWrites,t)}(e.writeTree,CT(e.treePath,t))}function hR(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=JP(e.visibleWrites,t),c=YP(l,yT());if(null!=c)a=c;else{if(null==n)return[];a=eR(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function pR(e,t,n){return function(e,t,n,r){const i=CT(t,n),o=YP(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return eR(JP(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function fR(e,t){return mR(CT(e.treePath,t),e.writeTree)}function mR(e,t){return{treePath:e,writeTree:t}}class gR{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;vs("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),vs(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,mP(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,fP(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,pP(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ys("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,mP(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const vR=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class yR{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new DP(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pR(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:UP(this.viewCache_),i=hR(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function bR(e,t,n,r,i){const o=new gR;let s,a;if(n.type===PP.OVERWRITE){const l=n;l.source.fromUser?s=SR(e,t,l.path,l.snap,r,i,o):(vs(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!ET(l.path),s=xR(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===PP.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const c=CT(n,r);_R(t,bT(c))&&(a=SR(e,a,c,l,i,o,s))})),r.foreach(((r,l)=>{const c=CT(n,r);_R(t,bT(c))||(a=SR(e,a,c,l,i,o,s))})),a}(e,t,l.path,l.children,r,i,o):(vs(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=CR(e,t,l.path,l.children,r,i,a,o))}else if(n.type===PP.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=dR(r,n))return t;{const a=new yR(r,t,i),l=t.eventCache.getNode();let c;if(ET(n)||".priority"===bT(n)){let n;if(t.serverCache.isFullyInitialized())n=lR(r,UP(t));else{const e=t.serverCache.getNode();vs(e instanceof aP,"serverChildren would be complete if leaf node"),n=cR(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=bT(n);let u=pR(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,xT(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,aP.EMPTY_NODE,xT(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=lR(r,UP(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=dR(r,yT()),$P(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=dR(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(ET(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return xR(e,t,n,l.getNode().getChild(n),i,o,a,s);if(ET(n)){let r=new WP(null);return l.getNode().forEachChild(zT,((e,t)=>{r=r.set(new vT(e),t)})),CR(e,t,n,r,i,o,a,s)}return t}{let c=new WP(null);return r.foreach(((e,t)=>{const r=CT(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),CR(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==PP.LISTEN_COMPLETE)throw ys("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=zP(t,o.getNode(),o.isFullyInitialized()||ET(n),o.isFiltered());return wR(e,s,n,r,vR,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=BP(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(hP(BP(t)))}}(t,s,l),{viewCache:s,changes:l}}function wR(e,t,n,r,i,o){const s=t.eventCache;if(null!=dR(r,n))return t;{let a,l;if(ET(n))if(vs(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=UP(t),i=cR(r,n instanceof aP?n:aP.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=lR(r,UP(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=bT(n);if(".priority"===c){vs(1===wT(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=uR(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=xT(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=uR(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=pR(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,i,o):s.getNode()}}return $P(t,a,s.isFullyInitialized()||ET(n),e.filter.filtersNodes())}}function xR(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(ET(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=bT(n);if(!l.isCompleteForPath(n)&&wT(n)>1)return t;const i=xT(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,vR,null)}const d=zP(t,c,l.isFullyInitialized()||ET(n),u.filtersNodes());return wR(e,d,n,i,new yR(i,d,o),a)}function SR(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new yR(i,t,o);if(ET(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=$P(t,c,!0,e.filter.filtersNodes());else{const i=bT(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=$P(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=xT(n),c=a.getNode().getImmediateChild(i);let d;if(ET(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===ST(o)&&e.getChild(kT(o)).isEmpty()?e:e.updateChild(o,r):aP.EMPTY_NODE}if(c.equals(d))l=t;else{l=$P(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function _R(e,t){return e.eventCache.isCompleteForChild(t)}function kR(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function CR(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=ET(n)?r:new WP(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=kR(0,t.serverCache.getNode().getImmediateChild(n),r);c=xR(e,c,new vT(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=kR(0,t.serverCache.getNode().getImmediateChild(n),r);c=xR(e,c,new vT(n),l,i,o,s,a)}})),c}class ER{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new gP(n.getIndex()),i=(o=n).loadsAllData()?new gP(o.getIndex()):o.hasLimit()?new yP(o):new vP(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(aP.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(aP.EMPTY_NODE,a.getNode(),null),u=new DP(l,s.isFullyInitialized(),r.filtersNodes()),d=new DP(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=FP(d,u),this.eventGenerator_=new MP(this.query_)}get query(){return this.query_}}function IR(e,t){const n=UP(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ET(t)&&!n.getImmediateChild(bT(t)).isEmpty())?n.getChild(t):null}function TR(e){return 0===e.eventRegistrations_.length}function PR(e,t,n){const r=[];if(n){vs(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function RR(e,t,n,r){t.type===PP.MERGE&&null!==t.source.queryId&&(vs(UP(e.viewCache_),"We should always have a full cache before handling merges"),vs(BP(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=bR(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,vs(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),vs(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),vs(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,AR(e,o.changes,o.viewCache.eventCache.getNode(),null)}function AR(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),LP(e,i,"child_removed",t,r,n),LP(e,i,"child_added",t,r,n),LP(e,i,"child_moved",o,r,n),LP(e,i,"child_changed",t,r,n),LP(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let NR,jR;class OR{constructor(){this.views=new Map}}function DR(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return vs(null!=o,"SyncTree gave us an op for an invalid query."),RR(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(RR(o,t,n,r));return i}}function MR(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=lR(n,i?r:null),o=!1;e?o=!0:r instanceof aP?(e=cR(n,r),o=!1):(e=aP.EMPTY_NODE,o=!1);const s=FP(new DP(e,o,!1),new DP(r,i,!1));return new ER(t,s)}return s}function LR(e,t,n,r,i,o){const s=MR(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(ZT,((e,t)=>{r.push(pP(e,t))}));return n.isFullyInitialized()&&r.push(hP(n.getNode())),AR(e,r,n.getNode(),t)}(s,n)}function FR(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=VR(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(PR(c,n,r)),TR(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat(PR(t,n,r)),TR(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!VR(e)&&o.push(new(vs(NR,"Reference.ts has not been loaded"),NR)(t._repo,t._path)),{removed:o,events:s}}function $R(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function zR(e,t){let n=null;for(const r of e.views.values())n=n||IR(r,t);return n}function BR(e,t){if(t._queryParams.loadsAllData())return WR(e);{const n=t._queryIdentifier;return e.views.get(n)}}function UR(e,t){return null!=BR(e,t)}function VR(e){return null!=WR(e)}function WR(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let qR=1;class HR{constructor(e){this.listenProvider_=e,this.syncPointTree_=new WP(null),this.pendingWriteTree_={visibleWrites:qP.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function KR(e,t,n,r,i){return function(e,t,n,r,i){vs(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=HP(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?eA(e,new jP({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function GR(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(rR(e.pendingWriteTree_,t)){let t=new WP(null);return null!=r.snap?t=t.set(yT(),!0):zI(r.children,(e=>{t=t.set(new vT(e),!0)})),eA(e,new AP(r.path,t,n))}return[]}function QR(e,t,n){return eA(e,new jP({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function YR(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||UR(s,t))){const l=FR(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>VR(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&VR(t)){return[WR(t)]}{let e=[];return t&&(e=$R(t)),zI(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=rA(e,r);e.listenProvider_.startListening(cA(i),iA(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(cA(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(oA(t));e.listenProvider_.stopListening(cA(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=oA(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function XR(e,t,n,r){const i=sA(e,r);if(null!=i){const r=aA(i),o=r.path,s=r.queryId,a=IT(o,t);return lA(e,o,new jP(RP(s),a,n))}return[]}function JR(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=IT(e,i);o=o||zR(t,n),s=s||VR(t)}));let a,l=e.syncPointTree_.get(i);if(l?(s=s||VR(l),o=o||zR(l,yT())):(l=new OR,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=aP.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=zR(t,yT());n&&(o=o.updateImmediateChild(e,n))}))}const c=UR(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=oA(t);vs(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=qR++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=LR(l,t,n,nR(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=BR(l,t);u=u.concat(function(e,t,n){const r=t._path,i=iA(e,t),o=rA(e,n),s=e.listenProvider_.startListening(cA(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)vs(!VR(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!ET(e)&&t&&VR(t))return[WR(t).query];{let e=[];return t&&(e=e.concat($R(t).map((e=>e.query)))),zI(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(cA(r),iA(e,r))}}return s}(e,t,n))}return u}function ZR(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=zR(n,IT(e,t));if(r)return r}));return aR(r,t,i,n,!0)}function eA(e,t){return tA(t,e.syncPointTree_,null,nR(e.pendingWriteTree_,yT()))}function tA(e,t,n,r){if(ET(e.path))return nA(e,t,n,r);{const i=t.get(yT());null==n&&null!=i&&(n=zR(i,yT()));let o=[];const s=bT(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=fR(r,s);o=o.concat(tA(a,l,e,t))}return i&&(o=o.concat(DR(i,e,r,n))),o}}function nA(e,t,n,r){const i=t.get(yT());null==n&&null!=i&&(n=zR(i,yT()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=fR(r,t),l=e.operationForChild(t);l&&(o=o.concat(nA(l,i,s,a)))})),i&&(o=o.concat(DR(i,e,r,n))),o}function rA(e,t){const n=t.query,r=iA(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||aP.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=sA(e,n);if(r){const n=aA(r),i=n.path,o=n.queryId,s=IT(i,t);return lA(e,i,new NP(RP(o),s))}return[]}(e,n._path,r):function(e,t){return eA(e,new NP({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return YR(e,n,null,r)}}}}function iA(e,t){const n=oA(t);return e.queryToTagMap.get(n)}function oA(e){return e._path.toString()+"$"+e._queryIdentifier}function sA(e,t){return e.tagToQueryMap.get(t)}function aA(e){const t=e.indexOf("$");return vs(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new vT(e.substr(0,t))}}function lA(e,t,n){const r=e.syncPointTree_.get(t);vs(r,"Missing sync point for query tag that we're tracking");return DR(r,n,nR(e.pendingWriteTree_,t),null)}function cA(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(vs(jR,"Reference.ts has not been loaded"),jR)(e._repo,e._path):e}class uA{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new uA(t)}node(){return this.node_}}class dA{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=CT(this.path_,e);return new dA(this.syncTree_,t)}node(){return ZR(this.syncTree_,this.path_)}}const hA=function(e,t,n){return e&&"object"===typeof e?(vs(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?pA(e[".sv"],t,n):"object"===typeof e[".sv"]?fA(e[".sv"],t):void vs(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},pA=function(e,t,n){if("timestamp"===e)return n.timestamp;vs(!1,"Unexpected server value: "+e)},fA=function(e,t,n){e.hasOwnProperty("increment")||vs(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&vs(!1,"Unexpected increment value: "+r);const i=t.node();if(vs(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},mA=function(e,t,n,r){return vA(t,new dA(n,e),r)},gA=function(e,t,n){return vA(e,new uA(t),n)};function vA(e,t,n){const r=e.getPriority().val(),i=hA(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=hA(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new JT(o,cP(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new JT(i))),r.forEachChild(ZT,((e,r)=>{const i=vA(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class yA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function bA(e,t){let n=t instanceof vT?t:new vT(t),r=e,i=bT(n);for(;null!==i;){const e=Gs(r.node.children,i)||{children:{},childCount:0};r=new yA(i,r,e),n=xT(n),i=bT(n)}return r}function wA(e){return e.node.value}function xA(e,t){e.node.value=t,EA(e)}function SA(e){return e.node.childCount>0}function _A(e,t){zI(e.node.children,((n,r)=>{t(new yA(n,e,r))}))}function kA(e,t,n,r){n&&!r&&t(e),_A(e,(e=>{kA(e,t,!0,r)})),n&&r&&t(e)}function CA(e){return new vT(null===e.parent?e.name:CA(e.parent)+"/"+e.name)}function EA(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===wA(e)&&!SA(e)}(n),i=Ks(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,EA(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,EA(e))}(e.parent,e.name,e)}const IA=/[\[\].#$\/\u0000-\u001F\u007F]/,TA=/[\[\].#$\u0000-\u001F\u007F]/,PA=10485760,RA=function(e){return"string"===typeof e&&0!==e.length&&!IA.test(e)},AA=function(e){return"string"===typeof e&&0!==e.length&&!TA.test(e)},NA=function(e,t,n,r){r&&void 0===t||jA(oa(e,"value"),t,n)},jA=function(e,t,n){const r=n instanceof vT?new RT(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+NT(r));if("function"===typeof t)throw new Error(e+"contains a function "+NT(r)+" with contents = "+t.toString());if(NI(t))throw new Error(e+"contains "+t.toString()+" "+NT(r));if("string"===typeof t&&t.length>PA/3&&sa(t)>PA)throw new Error(e+"contains a string greater than "+PA+" utf8 bytes "+NT(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(zI(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!RA(t)))throw new Error(e+" contains an invalid key ("+t+") "+NT(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=sa(t),AT(e)}(r,t),jA(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=sa(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+NT(r)+" in addition to actual children.")}},OA=function(e,t,n,r){if((!r||void 0!==n)&&!AA(n))throw new Error(oa(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},DA=function(e,t){if(".info"===bT(t))throw new Error(e+" failed = Can't modify data under /.info/")},MA=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!RA(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),AA(e)}(n))throw new Error(oa(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class LA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function FA(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||TT(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function $A(e,t,n){FA(e,n),BA(e,(e=>TT(e,t)))}function zA(e,t,n){FA(e,n),BA(e,(e=>PT(e,t)||PT(t,e)))}function BA(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(UA(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function UA(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();kI&&II("event: "+n.toString()),WI(r)}}}const VA="repo_interrupt";class WA{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kP(),this.transactionQueueTree_=new yA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qA(e,t,n){if(e.stats_=oT(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new SP(e.repoInfo_,((t,n,r,i)=>{GA(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>QA(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qs(n)}catch(zN){throw new Error("Invalid authOverride provided: "+zN)}}e.persistentConnection_=new DT(e.repoInfo_,t,((t,n,r,i)=>{GA(e,t,n,r,i)}),(t=>{QA(e,t)}),(t=>{!function(e,t){zI(t,((t,n)=>{YA(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return iT[n]||(iT[n]=t()),iT[n]}(e.repoInfo_,(()=>new TP(e.stats_,e.server_))),e.infoData_=new _P,e.infoSyncTree_=new HR({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=QR(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),YA(e,"connected",!1),e.serverSyncTree_=new HR({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);zA(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function HA(e){const t=e.infoData_.getNode(new vT(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function KA(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:HA(e)})}function GA(e,t,n,r,i){e.dataUpdateCount++;const o=new vT(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=Ys(n,(e=>cP(e)));s=function(e,t,n,r){const i=sA(e,r);if(i){const r=aA(i),o=r.path,s=r.queryId,a=IT(o,t),l=WP.fromObject(n);return lA(e,o,new OP(RP(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=cP(n);s=XR(e.serverSyncTree_,o,t,i)}else if(r){const t=Ys(n,(e=>cP(e)));s=function(e,t,n){const r=WP.fromObject(n);return eA(e,new OP({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=cP(n);s=QR(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=oN(e,o)),zA(e.eventQueue_,a,s)}function QA(e,t){YA(e,"connected",t),!1===t&&function(e){tN(e,"onDisconnectEvents");const t=KA(e),n=kP();EP(e.onDisconnect_,yT(),((r,i)=>{const o=mA(r,i,e.serverSyncTree_,t);CP(n,r,o)}));let r=[];EP(n,yT(),((t,n)=>{r=r.concat(QR(e.serverSyncTree_,t,n));const i=uN(e,t);oN(e,i)})),e.onDisconnect_=kP(),zA(e.eventQueue_,yT(),r)}(e)}function YA(e,t,n){const r=new vT("/.info/"+t),i=cP(n);e.infoData_.updateSnapshot(r,i);const o=QR(e.infoSyncTree_,r,i);zA(e.eventQueue_,r,o)}function XA(e){return e.nextWriteId_++}function JA(e,t,n,r,i){tN(e,"set",{path:t.toString(),value:n,priority:r});const o=KA(e),s=cP(n,r),a=ZR(e.serverSyncTree_,t),l=gA(s,a,o),c=XA(e),u=KR(e.serverSyncTree_,t,l,c,!0);FA(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||AI("set at "+t+" failed: "+n);const s=GR(e.serverSyncTree_,c,!o);zA(e.eventQueue_,t,s),nN(e,i,n,r)}));const d=uN(e,t);oN(e,d),zA(e.eventQueue_,d,[])}function ZA(e,t,n){let r;r=".info"===bT(t._path)?YR(e.infoSyncTree_,t,n):YR(e.serverSyncTree_,t,n),$A(e.eventQueue_,t._path,r)}function eN(e){e.persistentConnection_&&e.persistentConnection_.interrupt(VA)}function tN(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];II(t,...r)}function nN(e,t,n,r){t&&WI((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function rN(e,t,n){return ZR(e.serverSyncTree_,t,n)||aP.EMPTY_NODE}function iN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||cN(e,t),wA(t)){const n=aN(e,t);vs(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=rN(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];vs(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=IT(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{tN(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(GR(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();cN(e,bA(e.transactionQueueTree_,t)),iN(e,e.transactionQueueTree_),zA(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)WI(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{AI("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}oN(e,t)}}),s)}(e,CA(t),n)}else SA(t)&&_A(t,(t=>{iN(e,t)}))}function oN(e,t){const n=sN(e,t),r=CA(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],c=IT(n,o.path);let u,d=!1;if(vs(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,u=o.abortReason,i=i.concat(GR(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)d=!0,u="maxretry",i=i.concat(GR(e.serverSyncTree_,o.currentWriteId,!0));else{const n=rN(e,o.path,s);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){jA("transaction failed: Data returned ",r,o.path);let t=cP(r);"object"===typeof r&&null!=r&&Ks(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=KA(e),c=gA(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=XA(e),s.splice(s.indexOf(a),1),i=i.concat(KR(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(GR(e.serverSyncTree_,a,!0))}else d=!0,u="nodata",i=i.concat(GR(e.serverSyncTree_,o.currentWriteId,!0))}zA(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;cN(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)WI(r[l]);iN(e,e.transactionQueueTree_)}(e,aN(e,n),r),r}function sN(e,t){let n,r=e.transactionQueueTree_;for(n=bT(t);null!==n&&void 0===wA(r);)r=bA(r,n),n=bT(t=xT(t));return r}function aN(e,t){const n=[];return lN(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function lN(e,t,n){const r=wA(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);_A(t,(t=>{lN(e,t,n)}))}function cN(e,t){const n=wA(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,xA(t,n.length>0?n:void 0)}_A(t,(t=>{cN(e,t)}))}function uN(e,t){const n=CA(sN(e,t)),r=bA(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{dN(e,t)})),dN(e,r),kA(r,(t=>{dN(e,t)})),n}function dN(e,t){const n=wA(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(vs(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(vs(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(GR(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?xA(t,void 0):n.length=o+1,zA(e.eventQueue_,CA(t),i);for(let e=0;e<r.length;e++)WI(r[e])}}const hN=function(e,t){const n=pN(e),r=n.namespace;"firebase.com"===n.domain&&RI(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||RI("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&AI("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new eT(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new vT(n.pathString)}},pN=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(zN){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):AI(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},fN="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class mN{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+qs(this.snapshot.exportVal())}}class gN{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class vN{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return vs(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class yN{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return ET(this._path)?null:ST(this._path)}get ref(){return new bN(this._repo,this._path)}get _queryIdentifier(){const e=xP(this._queryParams),t=FI(e);return"{}"===t?"default":t}get _queryObject(){return xP(this._queryParams)}isEqual(e){if(!((e=aa(e))instanceof yN))return!1;const t=this._repo===e._repo,n=TT(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class bN extends yN{constructor(e,t){super(e,t,new bP,!1)}get parent(){const e=kT(this._path);return null===e?null:new bN(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class wN{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new vT(e),n=SN(this.ref,e);return new wN(this._node.getChild(t),n,ZT)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new wN(n,SN(this.ref,t),ZT))))}hasChild(e){const t=new vT(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xN(e,t){return(e=aa(e))._checkNotDeleted("ref"),void 0!==t?SN(e._root,t):e._root}function SN(e,t){var n,r,i,o;return null===bT((e=aa(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),OA(n,r,i,o)):OA("child","path",t,!1),new bN(e._repo,CT(e._path,t))}function _N(e,t){e=aa(e),DA("set",e._path),NA("set",t,e._path,!1);const n=new js;return JA(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}class kN{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new mN("value",this,new wN(e.snapshotNode,new bN(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new gN(this,e,t):null}matches(e){return e instanceof kN&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class CN{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new gN(this,e,t):null}createEvent(e,t){vs(null!=e.childName,"Child events should have a childName.");const n=SN(new bN(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new mN(e.type,this,new wN(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof CN&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function EN(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{ZA(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new vN(n,o||void 0),a="value"===t?new kN(s):new CN(t,s);return function(e,t,n){let r;r=".info"===bT(t._path)?JR(e.infoSyncTree_,t,n):JR(e.serverSyncTree_,t,n),$A(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>ZA(e._repo,e,a)}function IN(e,t,n,r){return EN(e,"value",t,n,r)}!function(e){vs(!NR,"__referenceConstructor has already been defined"),NR=e}(bN),function(e){vs(!jR,"__referenceConstructor has already been defined"),jR=e}(bN);const TN={};let PN=!1;function RN(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||RI("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),II("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,l=hN(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDqVvQqQqQqQqQqQqQqQqQqQqQqQqQqQq",REACT_APP_FIREBASE_APP_ID:"1:1234567890:web:abcdef1234567890",REACT_APP_FIREBASE_AUTH_DOMAIN:"side-eye.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://side-eye-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1234567890",REACT_APP_FIREBASE_PROJECT_ID:"side-eye",REACT_APP_FIREBASE_STORAGE_BUCKET:"side-eye.appspot.com"}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o=`http://${a}?ns=${c.namespace}`,l=hN(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new GI(GI.OWNER):new KI(e.name,e.options,t);MA("Invalid Firebase Database URL",l),ET(l.path)||RI("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=TN[t.name];i||(i={},TN[t.name]=i);let o=i[e.toURLString()];o&&RI("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new WA(e,PN,n,r),i[e.toURLString()]=o,o}(c,e,u,new HI(e,n));return new AN(d,e)}class AN{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bN(this._repo,yT())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=TN[t];n&&n[e.key]===e||RI(`Database ${t}(${e.repoInfo_}) has already been deleted.`),eN(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&RI("Cannot call "+e+" on a deleted database.")}}function NN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cl(),t=arguments.length>1?arguments[1]:void 0;const n=bl(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Rs("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=aa(e),e._checkNotDeleted("useEmulator");const i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Xs(r,o.repoInfo_.emulatorOptions))return;RI("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&RI('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new GI(GI.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Os(r.mockUserToken,e.app.options.projectId);s=new GI(t)}!function(e,t,n,r){e.repoInfo_=new eT(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,i,r,s)}(n,...e)}return n}DT.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},DT.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){fI(_l),yl(new la("database",((e,t)=>{let{instanceIdentifier:n}=t;return RN(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),El(dI,hI,e),El(dI,hI,"esm2017")}();const jN=kl({apiKey:"AIzaSyDqVvQqQqQqQqQqQqQqQqQqQqQqQqQqQq",authDomain:"side-eye.firebaseapp.com",projectId:"side-eye",storageBucket:"side-eye.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:abcdef1234567890"}),ON=cI(jN),DN=yw(jN),MN=u_(jN);NN(jN);(function(e,t){oc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return xw(e,Mb.provider,{build:e=>new Db(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()})(DN).catch((e=>{"failed-precondition"===e.code?console.log("Persistence failed: Multiple tabs open"):"unimplemented"===e.code&&console.log("Persistence not supported by browser")}));const LN=(0,i.createContext)({currentUser:null,user:null,userProfile:null,loading:!0,error:null,login:async()=>{},register:async()=>{},logout:async()=>{},resetPassword:async()=>{},updateProfile:async()=>{},sendEmailVerification:async()=>{},verifyEmail:async()=>{},setupTwoFactorAuth:async()=>{},verifyTwoFactorAuth:async()=>{},setUserProfile:()=>{}}),FN=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null);(0,i.useEffect)((()=>ON.onAuthStateChanged((async e=>{if(r(e),e){const t=await kx(pw(DN,"users",e.uid));t.exists()&&s(t.data())}else s(null);l(!1)}))),[]);const d={currentUser:n,user:n,userProfile:o,loading:a,error:c,login:async(e,t)=>{try{l(!0),await EC(ON,e,t)}catch(c){throw u(c.message),c}finally{l(!1)}},register:async(e,t,n)=>{try{l(!0);const r=await async function(e,t,n){if(wl(e.app))return Promise.reject(x_(e));const r=Tk(e),i=Bk(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dC,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&kC(e),t})),s=await hC._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(ON,e,t);await Ix(pw(DN,"users",r.user.uid),{username:n,email:e,name:n,bio:"",profilePic:null,createdAt:new Date,isVerified:!1,has2FA:!1,connections:[],followers:[],following:[]}),await IC(r.user)}catch(c){throw u(c.message),c}finally{l(!1)}},logout:async()=>{try{await function(e){return aa(e).signOut()}(ON)}catch(c){throw u(c.message),c}},resetPassword:async e=>{try{await async function(e,t,n){const r=Tk(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&_C(r,i,n),await Bk(r,i,"getOobCode",Yk,"EMAIL_PASSWORD_PROVIDER")}(ON,e)}catch(c){throw u(c.message),c}},updateProfile:async e=>{if(!n)throw new Error("No user logged in");try{await TC(n,e),e.displayName&&await Ix(pw(DN,"users",n.uid),{name:e.displayName},{merge:!0})}catch(c){throw u(c.message),c}},sendEmailVerification:async()=>{if(!n)throw new Error("No user logged in");try{await IC(n)}catch(c){throw u(c.message),c}},verifyEmail:async()=>{},setupTwoFactorAuth:async()=>{},verifyTwoFactorAuth:async()=>{},setUserProfile:s};return(0,Me.jsx)(LN.Provider,{value:d,children:t})},$N=()=>(0,i.useContext)(LN);let zN={data:""},BN=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||zN,UN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,VN=/\/\*[^]*?\*\/|  +/g,WN=/\n+/g,qN=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+s+";":r+="f"==o[1]?qN(s,o):o+"{"+qN(s,"k"==o[1]?"":t)+"}":"object"==typeof s?r+=qN(s,t?t.replace(/([^,])+/g,(e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):o):null!=s&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=qN.p?qN.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},HN={},KN=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+KN(e[n]);return t}return e},GN=(e,t,n,r,i)=>{let o=KN(e),s=HN[o]||(HN[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!HN[s]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=UN.exec(e.replace(VN,""));)t[4]?r.shift():t[3]?(n=t[3].replace(WN," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(WN," ").trim();return r[0]})(e);HN[s]=qN(i?{["@keyframes "+s]:t}:t,n?"":"."+s)}let a=n&&HN.g?HN.g:null;return n&&(HN.g=HN[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(HN[s],t,r,a),s};function QN(e){let t=this||{},n=e.call?e(t.p):e;return GN(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":qN(e,""):!1===e?"":e}return e+r+(null==o?"":o)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,BN(t.target),t.g,t.o,t.k)}QN.bind({g:1});let YN,XN,JN,ZN=QN.bind({k:1});function ej(e,t){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:XN&&XN()},a),n.o=/ *go\d+/.test(l),a.className=QN.apply(n,r)+(l?" "+l:""),t&&(a.ref=s);let c=e;return e[0]&&(c=a.as||e,delete a.as),JN&&c[0]&&JN(a),YN(c,a)}return t?t(i):i}}var tj=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,nj=(()=>{let e=0;return()=>(++e).toString()})(),rj=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),ij=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return ij(e,{type:e.toasts.find((e=>e.id===n.id))?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},oj=[],sj={toasts:[],pausedAt:void 0},aj=e=>{sj=ij(sj,e),oj.forEach((e=>{e(sj)}))},lj={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},cj=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||nj()}}(t,e,n);return aj({type:2,toast:r}),r.id},uj=(e,t)=>cj("blank")(e,t);uj.error=cj("error"),uj.success=cj("success"),uj.loading=cj("loading"),uj.custom=cj("custom"),uj.dismiss=e=>{aj({type:3,toastId:e})},uj.remove=e=>aj({type:4,toastId:e}),uj.promise=(e,t,n)=>{let r=uj.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let i=t.success?tj(t.success,e):void 0;return i?uj.success(i,{id:r,...n,...null==n?void 0:n.success}):uj.dismiss(r),e})).catch((e=>{let i=t.error?tj(t.error,e):void 0;i?uj.error(i,{id:r,...n,...null==n?void 0:n.error}):uj.dismiss(r)})),e};var dj=(e,t)=>{aj({type:1,toast:{id:e,height:t}})},hj=()=>{aj({type:5,time:Date.now()})},pj=new Map,fj=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,i.useState)(sj),r=(0,i.useRef)(sj);(0,i.useEffect)((()=>(r.current!==sj&&n(sj),oj.push(n),()=>{let e=oj.indexOf(n);e>-1&&oj.splice(e,1)})),[]);let o=t.toasts.map((t=>{var n,r,i;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||lj[t.type],style:{...e.style,...null==(i=e[t.type])?void 0:i.style,...t.style}}}));return{...t,toasts:o}}(e);(0,i.useEffect)((()=>{if(n)return;let e=Date.now(),r=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>uj.dismiss(t.id)),n);t.visible&&uj.dismiss(t.id)}));return()=>{r.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let r=(0,i.useCallback)((()=>{n&&aj({type:6,time:Date.now()})}),[n]),o=(0,i.useCallback)(((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=n||{},s=t.filter((t=>(t.position||o)===(e.position||o)&&t.height)),a=s.findIndex((t=>t.id===e.id)),l=s.filter(((e,t)=>t<a&&e.visible)).length;return s.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[t]);return(0,i.useEffect)((()=>{t.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(pj.has(e))return;let n=setTimeout((()=>{pj.delete(e),aj({type:4,toastId:e})}),t);pj.set(e,n)}(e.id,e.removeDelay);else{let t=pj.get(e.id);t&&(clearTimeout(t),pj.delete(e.id))}}))}),[t]),{toasts:t,handlers:{updateHeight:dj,startPause:hj,endPause:r,calculateOffset:o}}},mj=ZN`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gj=ZN`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vj=ZN`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,yj=ej("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gj} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vj} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bj=ZN`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wj=ej("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${bj} 1s linear infinite;
`,xj=ZN`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Sj=ZN`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_j=ej("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Sj} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,kj=ej("div")`
  position: absolute;
`,Cj=ej("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ej=ZN`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ij=ej("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ej} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Tj=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:o}=t;return void 0!==n?"string"==typeof n?i.createElement(Ij,null,n):n:"blank"===r?null:i.createElement(Cj,null,i.createElement(wj,{...o}),"loading"!==r&&i.createElement(kj,null,"error"===r?i.createElement(yj,{...o}):i.createElement(_j,{...o})))},Pj=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Rj=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,Aj=ej("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Nj=ej("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jj=i.memo((e=>{let{toast:t,position:n,style:r,children:o}=e,s=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=rj()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Pj(n),Rj(n)];return{animation:t?`${ZN(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ZN(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||n||"top-center",t.visible):{opacity:0},a=i.createElement(Tj,{toast:t}),l=i.createElement(Nj,{...t.ariaProps},tj(t.message,t));return i.createElement(Aj,{className:t.className,style:{...s,...r,...t.style}},"function"==typeof o?o({icon:a,message:l}):i.createElement(i.Fragment,null,a,l))}));!function(e,t,n,r){qN.p=t,YN=e,XN=n,JN=r}(i.createElement);var Oj=e=>{let{id:t,className:n,style:r,onHeightUpdate:o,children:s}=e,a=i.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;o(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,o]);return i.createElement("div",{ref:a,className:n,style:r},s)},Dj=QN`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Mj=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:o,children:s,containerStyle:a,containerClassName:l}=e,{toasts:c,handlers:u}=fj(r);return i.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((e=>{let r=e.position||n,a=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:rj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}})(r,u.calculateOffset(e,{reverseOrder:t,gutter:o,defaultPosition:n}));return i.createElement(Oj,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?Dj:"",style:a},"custom"===e.type?tj(e.message,e):s?s(e):i.createElement(jj,{toast:e,position:r}))})))};const Lj=ao({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"},background:{default:"#f5f5f5",paper:"#ffffff"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500},h3:{fontSize:"1.75rem",fontWeight:500},h4:{fontSize:"1.5rem",fontWeight:500},h5:{fontSize:"1.25rem",fontWeight:500},h6:{fontSize:"1rem",fontWeight:500}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none"}}},MuiPaper:{styleOverrides:{root:{borderRadius:12}}}}});function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fj.apply(null,arguments)}var $j=["shift","alt","meta","mod","ctrl"],zj={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Bj(e){return(e&&zj[e]||e||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function Uj(e,t){return void 0===t&&(t=","),e.split(t)}function Vj(e,t,n){void 0===t&&(t="+");var r=e.toLocaleLowerCase().split(t).map((function(e){return Bj(e)})),i={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},o=r.filter((function(e){return!$j.includes(e)}));return Fj({},i,{keys:o,description:n,hotkey:e})}"undefined"!==typeof document&&(document.addEventListener("keydown",(function(e){void 0!==e.key&&Hj([Bj(e.key),Bj(e.code)])})),document.addEventListener("keyup",(function(e){void 0!==e.key&&Kj([Bj(e.key),Bj(e.code)])}))),"undefined"!==typeof window&&window.addEventListener("blur",(function(){Wj.clear()}));var Wj=new Set;function qj(e){return Array.isArray(e)}function Hj(e){var t=Array.isArray(e)?e:[e];Wj.has("meta")&&Wj.forEach((function(e){return!function(e){return $j.includes(e)}(e)&&Wj.delete(e.toLowerCase())})),t.forEach((function(e){return Wj.add(e.toLowerCase())}))}function Kj(e){var t=Array.isArray(e)?e:[e];"meta"===e?Wj.clear():t.forEach((function(e){return Wj.delete(e.toLowerCase())}))}function Gj(e,t){void 0===t&&(t=!1);var n,r=e.target,i=e.composed,o=null;return o=(n=r).tagName&&!n.tagName.startsWith("-")&&n.tagName.includes("-")&&i?e.composedPath()[0]&&e.composedPath()[0].tagName:r&&r.tagName,qj(t)?Boolean(o&&t&&t.some((function(e){var t;return e.toLowerCase()===(null==(t=o)?void 0:t.toLowerCase())}))):Boolean(o&&t&&t)}var Qj=function(e,t,n){void 0===n&&(n=!1);var r,i,o=t.alt,s=t.meta,a=t.mod,l=t.shift,c=t.ctrl,u=t.keys,d=e.key,h=e.code,p=e.ctrlKey,f=e.metaKey,m=e.shiftKey,g=e.altKey,v=Bj(h),y=d.toLowerCase();if((null==u||!u.includes(v))&&(null==u||!u.includes(y))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(v))return!1;if(!n){if(o===!g&&"alt"!==y)return!1;if(l===!m&&"shift"!==y)return!1;if(a){if(!f&&!p)return!1}else{if(s===!f&&"meta"!==y&&"os"!==y)return!1;if(c===!p&&"ctrl"!==y&&"control"!==y)return!1}}return!(!u||1!==u.length||!u.includes(y)&&!u.includes(v))||(u?(void 0===i&&(i=","),(qj(r=u)?r:r.split(i)).every((function(e){return Wj.has(e.trim().toLowerCase())}))):!u)},Yj=(0,i.createContext)(void 0);function Xj(e,t){return e&&t&&"object"===typeof e&&"object"===typeof t?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((function(n,r){return n&&Xj(e[r],t[r])}),!0):e===t}var Jj=(0,i.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}});var Zj=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},eO="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function tO(e,t,n,r){var o=(0,i.useState)(null),s=o[0],a=o[1],l=(0,i.useRef)(!1),c=n instanceof Array?r instanceof Array?void 0:r:n,u=qj(e)?e.join(null==c?void 0:c.splitKey):e,d=n instanceof Array?n:r instanceof Array?r:void 0,h=(0,i.useCallback)(t,null!=d?d:[]),p=(0,i.useRef)(h);p.current=d?h:t;var f=function(e){var t=(0,i.useRef)(void 0);return Xj(t.current,e)||(t.current=e),t.current}(c),m=(0,i.useContext)(Jj).enabledScopes,g=(0,i.useContext)(Yj);return eO((function(){if(!1!==(null==f?void 0:f.enabled)&&(e=m,t=null==f?void 0:f.scopes,0===e.length&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),1):!t||e.some((function(e){return t.includes(e)}))||e.includes("*"))){var e,t,n=function(e,t){var n;if(void 0===t&&(t=!1),!Gj(e,["input","textarea","select"])||Gj(e,null==f?void 0:f.enableOnFormTags)){if(null!==s){var r=s.getRootNode();if((r instanceof Document||r instanceof ShadowRoot)&&r.activeElement!==s&&!s.contains(r.activeElement))return void Zj(e)}(null==(n=e.target)||!n.isContentEditable||null!=f&&f.enableOnContentEditable)&&Uj(u,null==f?void 0:f.splitKey).forEach((function(n){var r,i=Vj(n,null==f?void 0:f.combinationKey);if(Qj(e,i,null==f?void 0:f.ignoreModifiers)||null!=(r=i.keys)&&r.includes("*")){if(null!=f&&null!=f.ignoreEventWhen&&f.ignoreEventWhen(e))return;if(t&&l.current)return;if(function(e,t,n){("function"===typeof n&&n(e,t)||!0===n)&&e.preventDefault()}(e,i,null==f?void 0:f.preventDefault),!function(e,t,n){return"function"===typeof n?n(e,t):!0===n||void 0===n}(e,i,null==f?void 0:f.enabled))return void Zj(e);p.current(e,i),t||(l.current=!0)}}))}},r=function(e){void 0!==e.key&&(Hj(Bj(e.code)),(void 0===(null==f?void 0:f.keydown)&&!0!==(null==f?void 0:f.keyup)||null!=f&&f.keydown)&&n(e))},i=function(e){void 0!==e.key&&(Kj(Bj(e.code)),l.current=!1,null!=f&&f.keyup&&n(e,!0))},o=s||(null==c?void 0:c.document)||document;return o.addEventListener("keyup",i),o.addEventListener("keydown",r),g&&Uj(u,null==f?void 0:f.splitKey).forEach((function(e){return g.addHotkey(Vj(e,null==f?void 0:f.combinationKey,null==f?void 0:f.description))})),function(){o.removeEventListener("keyup",i),o.removeEventListener("keydown",r),g&&Uj(u,null==f?void 0:f.splitKey).forEach((function(e){return g.removeHotkey(Vj(e,null==f?void 0:f.combinationKey,null==f?void 0:f.description))}))}}}),[s,u,f,m]),a}function nO(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(zN){o(zN)}}function a(e){try{l(r.throw(e))}catch(zN){o(zN)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function rO(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(zN){o=[6,zN],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var iO=function(){return iO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},iO.apply(this,arguments)},oO=function(e){return{loading:void 0===e||null===e,value:e}},sO=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return iO(iO({},e),{error:t.error,loading:!1,value:void 0});case"reset":return oO(t.defaultValue);case"value":return iO(iO({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),oO(t)),r=n[0],o=n[1],s=(0,i.useCallback)((function(){var t=e?e():void 0;o({type:"reset",defaultValue:t})}),[e]),a=(0,i.useCallback)((function(e){o({type:"error",error:e})}),[]),l=(0,i.useCallback)((function(e){o({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:s,setError:a,setValue:l,value:r.value}}),[r.error,r.loading,s,a,l,r.value])},aO=function(e,t){var n=sO((function(){return e.currentUser})),r=n.error,o=n.loading,s=n.setError,a=n.setValue,l=n.value;return(0,i.useEffect)((function(){var n=PC(e,(function(e){return nO(void 0,void 0,void 0,(function(){var n;return rO(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),s(n),[3,4];case 4:return a(e),[2]}}))}))}),s);return function(){n()}}),[e]),[l,o,r]};function lO(){const e=vo(bo);return e[kn]||e}function cO(e,t,n,r,o){const[s,a]=i.useState((()=>o&&n?n(e).matches:r?r(e).matches:t));return Fr((()=>{if(!n)return;const t=n(e),r=()=>{a(t.matches)};return r(),t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}}),[e,n]),s}const uO={...o}.useSyncExternalStore;function dO(e,t,n,r,o){const s=i.useCallback((()=>t),[t]),a=i.useMemo((()=>{if(o&&n)return()=>n(e).matches;if(null!==r){const{matches:t}=r(e);return()=>t}return s}),[s,e,r,o,n]),[l,c]=i.useMemo((()=>{if(null===n)return[s,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addEventListener("change",e),()=>{t.removeEventListener("change",e)})]}),[s,n,e]);return uO(c,l,a)}function hO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t}=e;return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=pn();r&&t&&(r=r[t]||r);const i="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:o=!1,matchMedia:s=(i?window.matchMedia:null),ssrMatchMedia:a=null,noSsr:l=!1}=Lo({name:"MuiUseMediaQuery",props:n,theme:r});let c="function"===typeof e?e(r):e;c=c.replace(/^@media( ?)/m,"");return(void 0!==uO?dO:cO)(c,o,s,a,l)}}hO();const pO=hO({themeId:kn}),fO={theme:void 0};const mO=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(fO.theme=r.theme,i=Qo(e(fO)),t=i,n=r.theme),i}};function gO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function vO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=Do(e,t,n)})),r}function yO(e){return Do("MuiPaper",e)}vO("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const bO=ds("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})(mO((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}}))),wO=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiPaper"}),r=lO(),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation",...c}=n,u={...n,component:o,elevation:s,square:a,variant:l},d=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return Mo({root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]},yO,i)})(u);return(0,Me.jsx)(bO,{as:o,ownerState:u,className:Ao(d.root,i),ref:t,...c,style:{..."elevation"===l&&{"--Paper-shadow":(r.vars||r).shadows[s],...r.vars&&{"--Paper-overlay":r.vars.overlays?.[s]},...!r.vars&&"dark"===r.palette.mode&&{"--Paper-overlay":`linear-gradient(${ti("#fff",Ki(s))}, ${ti("#fff",Ki(s))})`}},...c.style}})})),xO=wO;function SO(e){return Do("MuiAppBar",e)}vO("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const _O=(e,t)=>e?`${e?.replace(")","")}, ${t})`:t,kO=ds(xO,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${ls(n.position)}`],t[`color${ls(n.color)}`]]}})(mO((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(gO(["contrastText"])).map((e=>{let[n]=e;return{props:{color:n},style:{"--AppBar-background":(t.vars??t).palette[n].main,"--AppBar-color":(t.vars??t).palette[n].contrastText}}})),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?_O(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?_O(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}}))),CO=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:o=!1,position:s="fixed",...a}=n,l={...n,color:i,position:s,enableColorOnDark:o},c=(e=>{const{color:t,position:n,classes:r}=e;return Mo({root:["root",`color${ls(t)}`,`position${ls(n)}`]},SO,r)})(l);return(0,Me.jsx)(kO,{square:!0,component:"header",ownerState:l,elevation:4,className:Ao(c.root,r,"fixed"===s&&"mui-fixed"),ref:t,...a})})),EO=CO;function IO(e){return Do("MuiToolbar",e)}vO("MuiToolbar",["root","gutters","regular","dense"]);const TO=ds("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(mO((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}}))),PO=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:o=!1,variant:s="regular",...a}=n,l={...n,component:i,disableGutters:o,variant:s},c=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return Mo({root:["root",!n&&"gutters",r]},IO,t)})(l);return(0,Me.jsx)(TO,{as:i,className:Ao(c.root,r),ref:t,ownerState:l,...a})})),RO=PO;const AO=vO("MuiBox",["root"]),NO=ao(),jO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,s=Ho("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Nr),a=i.forwardRef((function(e,i){const a=vo(n),{className:l,component:c="div",...u}=mo(e);return(0,Me.jsx)(s,{as:c,ref:i,className:Ao(l,o?o(r):r),theme:t&&a[t]||a,...u})}));return a}({themeId:kn,defaultTheme:NO,defaultClassName:AO.root,generateClassName:jo.generate}),OO=jO;function DO(e){return Do("MuiSvgIcon",e)}vO("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const MO=ds("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${ls(n.color)}`],t[`fontSize${ls(n.fontSize)}`]]}})(mO((e=>{let{theme:t}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars??t).palette?.[n]?.main}}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),LO=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=n,f=i.isValidElement(r)&&"svg"===r.type,m={...n,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f},g={};u||(g.viewBox=h);const v=(e=>{const{color:t,fontSize:n,classes:r}=e;return Mo({root:["root","inherit"!==t&&`color${ls(t)}`,`fontSize${ls(n)}`]},DO,r)})(m);return(0,Me.jsxs)(MO,{as:a,className:Ao(v.root,o),focusable:"false",color:c,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t,...g,...p,...f&&r.props,ownerState:m,children:[f?r.props.children:r,d?(0,Me.jsx)("title",{children:d}):null]})}));LO.muiName="SvgIcon";const FO=LO;function $O(e,t){function n(t,n){return(0,Me.jsx)(FO,{"data-testid":void 0,ref:n,...t,children:e})}return n.muiName=FO.muiName,i.memo(i.forwardRef(n))}const zO=$O((0,Me.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function BO(e){return Do("MuiAvatar",e)}vO("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);function UO(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function VO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{UO(t,e)}))}),t)}const WO=function(e){return"string"===typeof e};const qO=function(e,t,n){return void 0===e||WO(e)?t:{...t,ownerState:{...t.ownerState,...n}}};const HO=function(e,t,n){return"function"===typeof e?e(t,n):e};const KO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const GO=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const QO=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=Ao(n?.className,o,i?.className,r?.className),t={...n?.style,...i?.style,...r?.style},s={...n,...i,...r};return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=KO({...i,...r}),a=GO(r),l=GO(i),c=t(s),u=Ao(c?.className,n?.className,o,i?.className,r?.className),d={...c?.style,...n?.style,...i?.style,...r?.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}};function YO(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=t,{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...h}=o,p=u[e]||r,f=HO(d[e],i),{props:{component:m,...g},internalRef:v}=QO({className:n,...l,externalForwardedProps:"root"===e?h:void 0,externalSlotProps:f}),y=VO(v,f?.ref,t.ref),b="root"===e?m||c:m;return[p,qO(p,{..."root"===e&&!c&&!u[e]&&s,..."root"!==e&&!u[e]&&s,...g,...b&&!a&&{as:b},...b&&a&&{component:b},ref:y},i)]}const XO=ds("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(mO((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}}))),JO=ds("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),ZO=ds(zO,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const eD=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiAvatar"}),{alt:r,children:o,className:s,component:a="div",slots:l={},slotProps:c={},imgProps:u,sizes:d,src:h,srcSet:p,variant:f="circular",...m}=n;let g=null;const v={...n,component:a,variant:f},y=function(e){let{crossOrigin:t,referrerPolicy:n,src:r,srcSet:o}=e;const[s,a]=i.useState(!1);return i.useEffect((()=>{if(!r&&!o)return;a(!1);let e=!0;const i=new Image;return i.onload=()=>{e&&a("loaded")},i.onerror=()=>{e&&a("error")},i.crossOrigin=t,i.referrerPolicy=n,i.src=r,o&&(i.srcset=o),()=>{e=!1}}),[t,n,r,o]),s}({...u,..."function"===typeof c.img?c.img(v):c.img,src:h,srcSet:p}),b=h||p,w=b&&"error"!==y;v.colorDefault=!w,delete v.ownerState;const x=(e=>{const{classes:t,variant:n,colorDefault:r}=e;return Mo({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},BO,t)})(v),[S,_]=YO("img",{className:x.img,elementType:JO,externalForwardedProps:{slots:l,slotProps:{img:{...u,...c.img}}},additionalProps:{alt:r,src:h,srcSet:p,sizes:d},ownerState:v});return g=w?(0,Me.jsx)(S,{..._}):o||0===o?o:b&&r?r[0]:(0,Me.jsx)(ZO,{ownerState:v,className:x.fallback}),(0,Me.jsx)(XO,{as:a,className:Ao(x.root,s),ref:t,...m,ownerState:v,children:g})})),tD=eD;function nD(e){return Do("MuiTypography",e)}const rD=vO("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),iD={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},oD=mo,sD=ds("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${ls(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(mO((e=>{let{theme:t}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter((e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n})).map((e=>{let[t,n]=e;return{props:{variant:t},style:n}})),...Object.entries(t.palette).filter(gO()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette?.text||{}).filter((e=>{let[,t]=e;return"string"===typeof t})).map((e=>{let[n]=e;return{props:{color:`text${ls(n)}`},style:{color:(t.vars||t).palette.text[n]}}})),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}}))),aD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},lD=i.forwardRef((function(e,t){const{color:n,...r}=So({props:e,name:"MuiTypography"}),i=oD({...r,...!iD[n]&&{color:n}}),{align:o="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=aD,...p}=i,f={...i,align:o,color:n,className:s,component:a,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h},m=a||(u?"p":h[d]||aD[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e;return Mo({root:["root",o,"inherit"!==e.align&&`align${ls(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},nD,s)})(f);return(0,Me.jsx)(sD,{as:m,ref:t,className:Ao(g.root,s),...p,ownerState:f,style:{..."inherit"!==o&&{"--Typography-textAlign":o},...p.style}})})),cD=lD;let uD=0;const dD={...o}.useId;function hD(e){if(void 0!==dD){const t=dD();return e??t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(uD+=1,n(`mui-${uD}`))}),[t]),r}(e)}function pD(e){return e&&e.ownerDocument||document}function fD(e){return pD(e).defaultView||window}const mD=function(e){const t=i.useRef(e);return Fr((()=>{t.current=e})),i.useRef((function(){return(0,t.current)(...arguments)})).current};function gD(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}function vD(e){return parseInt(e,10)||0}const yD={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function bD(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const wD=i.forwardRef((function(e,t){const{onChange:n,maxRows:r,minRows:o=1,style:s,value:a,...l}=e,{current:c}=i.useRef(null!=a),u=i.useRef(null),d=VO(t,u),h=i.useRef(null),p=i.useRef(null),f=i.useCallback((()=>{const t=u.current,n=p.current;if(!t||!n)return;const i=fD(t).getComputedStyle(t);if("0px"===i.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=i.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const s=i.boxSizing,a=vD(i.paddingBottom)+vD(i.paddingTop),l=vD(i.borderBottomWidth)+vD(i.borderTopWidth),c=n.scrollHeight;n.value="x";const d=n.scrollHeight;let h=c;o&&(h=Math.max(Number(o)*d,h)),r&&(h=Math.min(Number(r)*d,h)),h=Math.max(h,d);return{outerHeightStyle:h+("border-box"===s?a+l:0),overflowing:Math.abs(h-c)<=1}}),[r,o,e.placeholder]),m=mD((()=>{const e=u.current,t=f();if(!e||!t||bD(t))return!1;const n=t.outerHeightStyle;return null!=h.current&&h.current!==n})),g=i.useCallback((()=>{const e=u.current,t=f();if(!e||!t||bD(t))return;const n=t.outerHeightStyle;h.current!==n&&(h.current=n,e.style.height=`${n}px`),e.style.overflow=t.overflowing?"hidden":""}),[f]),v=i.useRef(-1);Fr((()=>{const e=gD(g),t=u?.current;if(!t)return;const n=fD(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver((()=>{m()&&(r.unobserve(t),cancelAnimationFrame(v.current),g(),v.current=requestAnimationFrame((()=>{r.observe(t)})))})),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(v.current),n.removeEventListener("resize",e),r&&r.disconnect()}}),[f,g,m]),Fr((()=>{g()}));return(0,Me.jsxs)(i.Fragment,{children:[(0,Me.jsx)("textarea",{value:a,onChange:e=>{c||g(),n&&n(e)},ref:d,rows:o,style:s,...l}),(0,Me.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...yD,...s,paddingTop:0,paddingBottom:0}})]})})),xD=wD;const SD=function(e){return"string"===typeof e};function _D(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const kD=i.createContext(void 0);function CD(){return i.useContext(kD)}const ED=VO,ID=Fr;function TD(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function PD(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(TD(e.value)&&""!==e.value||t&&TD(e.defaultValue)&&""!==e.defaultValue)}function RD(e){return Do("MuiInputBase",e)}const AD=vO("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var ND;const jD=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${ls(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},OD=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},DD=ds("div",{name:"MuiInputBase",slot:"Root",overridesResolver:jD})(mO((e=>{let{theme:t}=e;return{...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${AD.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"4px 0 5px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"100%"}}]}}))),MD=ds("input",{name:"MuiInputBase",slot:"Input",overridesResolver:OD})(mO((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${AD.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${AD.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}}))),LD=xo({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),FD=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:o,autoFocus:s,className:a,color:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,error:m,fullWidth:g=!1,id:v,inputComponent:y="input",inputProps:b={},inputRef:w,margin:x,maxRows:S,minRows:_,multiline:k=!1,name:C,onBlur:E,onChange:I,onClick:T,onFocus:P,onKeyDown:R,onKeyUp:A,placeholder:N,readOnly:j,renderSuffix:O,rows:D,size:M,slotProps:L={},slots:F={},startAdornment:$,type:z="text",value:B,...U}=n,V=null!=b.value?b.value:B,{current:W}=i.useRef(null!=V),q=i.useRef(),H=i.useCallback((e=>{0}),[]),K=ED(q,w,b.ref,H),[G,Q]=i.useState(!1),Y=CD();const X=_D({props:n,muiFormControl:Y,states:["color","disabled","error","hiddenLabel","size","required","filled"]});X.focused=Y?Y.focused:G,i.useEffect((()=>{!Y&&h&&G&&(Q(!1),E&&E())}),[Y,h,G,E]);const J=Y&&Y.onFilled,Z=Y&&Y.onEmpty,ee=i.useCallback((e=>{PD(e)?J&&J():Z&&Z()}),[J,Z]);ID((()=>{W&&ee({value:V})}),[V,ee,W]);i.useEffect((()=>{ee(q.current)}),[]);let te=y,ne=b;k&&"input"===te&&(ne=D?{type:void 0,minRows:D,maxRows:D,...ne}:{type:void 0,maxRows:S,minRows:_,...ne},te=xD);i.useEffect((()=>{Y&&Y.setAdornedStart(Boolean($))}),[Y,$]);const re={...n,color:X.color||"primary",disabled:X.disabled,endAdornment:f,error:X.error,focused:X.focused,formControl:Y,fullWidth:g,hiddenLabel:X.hiddenLabel,multiline:k,size:X.size,startAdornment:$,type:z},ie=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e;return Mo({root:["root",`color${ls(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&`size${ls(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]},RD,t)})(re),oe=F.root||c.Root||DD,se=L.root||u.root||{},ae=F.input||c.Input||MD;return ne={...ne,...L.input??u.input},(0,Me.jsxs)(i.Fragment,{children:[!p&&"function"===typeof LD&&(ND||(ND=(0,Me.jsx)(LD,{}))),(0,Me.jsxs)(oe,{...se,ref:t,onClick:e=>{q.current&&e.currentTarget===e.target&&q.current.focus(),T&&T(e)},...U,...!SD(oe)&&{ownerState:{...re,...se.ownerState}},className:Ao(ie.root,se.className,a,j&&"MuiInputBase-readOnly"),children:[$,(0,Me.jsx)(kD.Provider,{value:null,children:(0,Me.jsx)(ae,{"aria-invalid":X.error,"aria-describedby":r,autoComplete:o,autoFocus:s,defaultValue:d,disabled:X.disabled,id:v,onAnimationStart:e=>{ee("mui-auto-fill-cancel"===e.animationName?q.current:{value:"x"})},name:C,placeholder:N,readOnly:j,required:X.required,rows:D,value:V,onKeyDown:R,onKeyUp:A,type:z,...ne,...!SD(ae)&&{as:te,ownerState:{...re,...ne.ownerState}},ref:K,className:Ao(ie.input,ne.className,j&&"MuiInputBase-readOnly"),onBlur:e=>{E&&E(e),b.onBlur&&b.onBlur(e),Y&&Y.onBlur?Y.onBlur(e):Q(!1)},onChange:function(e){if(!W){const t=e.target||q.current;if(null==t)throw new Error(En(1));ee({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];b.onChange&&b.onChange(e,...n),I&&I(e,...n)},onFocus:e=>{P&&P(e),b.onFocus&&b.onFocus(e),Y&&Y.onFocus?Y.onFocus(e):Q(!0)}})}),f,O?O({...X,startAdornment:$}):null]})]})})),$D=FD;function zD(e){return Do("MuiInput",e)}const BD={...AD,...vO("MuiInput",["root","underline","input"])},UD=ds(DD,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...jD(e,t),!n.disableUnderline&&t.underline]}})(mO((e=>{let{theme:t}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{"label + &":{marginTop:16}}},{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${BD.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${BD.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${BD.disabled}, .${BD.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${BD.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(gO()).map((e=>{let[n]=e;return{props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}}))]}}))),VD=ds(MD,{name:"MuiInput",slot:"Input",overridesResolver:OD})({}),WD=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:i={},componentsProps:o,fullWidth:s=!1,inputComponent:a="input",multiline:l=!1,slotProps:c,slots:u={},type:d="text",...h}=n,p=(e=>{const{classes:t,disableUnderline:n}=e,r=Mo({root:["root",!n&&"underline"],input:["input"]},zD,t);return{...t,...r}})(n),f={root:{ownerState:{disableUnderline:r}}},m=c??o?An(c??o,f):f,g=u.root??i.Root??UD,v=u.input??i.Input??VD;return(0,Me.jsx)($D,{slots:{root:g,input:v},slotProps:m,fullWidth:s,inputComponent:a,multiline:l,ref:t,type:d,...h,classes:p})}));WD.muiName="Input";const qD=WD;function HD(e){return Do("MuiFilledInput",e)}const KD={...AD,...vO("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},GD=ds(DD,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...jD(e,t),!n.disableUnderline&&t.underline]}})(mO((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${KD.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${KD.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${KD.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${KD.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${KD.disabled}, .${KD.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${KD.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(gO()).map((e=>{let[n]=e;return{props:{disableUnderline:!1,color:n},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n]?.main}`}}}})),{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:12}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:12}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"25px 12px 8px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}}]}}))),QD=ds(MD,{name:"MuiFilledInput",slot:"Input",overridesResolver:OD})(mO((e=>{let{theme:t}=e;return{paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}}))),YD=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:i={},componentsProps:o,fullWidth:s=!1,hiddenLabel:a,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:d={},type:h="text",...p}=n,f={...n,disableUnderline:r,fullWidth:s,inputComponent:l,multiline:c,type:h},m=(e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=e,l=Mo({root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd","small"===o&&`size${ls(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},HD,t);return{...t,...l}})(n),g={root:{ownerState:f},input:{ownerState:f}},v=u??o?An(g,u??o):g,y=d.root??i.Root??GD,b=d.input??i.Input??QD;return(0,Me.jsx)($D,{slots:{root:y,input:b},slotProps:v,fullWidth:s,inputComponent:l,multiline:c,ref:t,type:h,...p,classes:m})}));YD.muiName="Input";const XD=YD;var JD;const ZD=ds("fieldset",{shouldForwardProp:us})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),eM=ds("legend",{shouldForwardProp:us})(mO((e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:e=>{let{ownerState:t}=e;return!t.withLabel},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:e=>{let{ownerState:t}=e;return t.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:e=>{let{ownerState:t}=e;return t.withLabel&&t.notched},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}})));function tM(e){return Do("MuiOutlinedInput",e)}const nM={...AD,...vO("MuiOutlinedInput",["root","notchedOutline","input"])},rM=ds(DD,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:jD})(mO((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${nM.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${nM.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${nM.focused} .${nM.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(gO()).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${nM.focused} .${nM.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}}})),{props:{},style:{[`&.${nM.error} .${nM.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${nM.disabled} .${nM.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:14}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:14}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"16.5px 14px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{padding:"8.5px 14px"}}]}}))),iM=ds((function(e){const{children:t,classes:n,className:r,label:i,notched:o,...s}=e,a=null!=i&&""!==i,l={...e,notched:o,withLabel:a};return(0,Me.jsx)(ZD,{"aria-hidden":!0,className:r,ownerState:l,...s,children:(0,Me.jsx)(eM,{ownerState:l,children:a?(0,Me.jsx)("span",{children:i}):JD||(JD=(0,Me.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"}))})})}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(mO((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}))),oM=ds(MD,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:OD})(mO((e=>{let{theme:t}=e;return{padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:0}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}}]}}))),sM=i.forwardRef((function(e,t){var n;const r=So({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:d={},type:h="text",...p}=r,f=(e=>{const{classes:t}=e,n=Mo({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},tM,t);return{...t,...n}})(r),m=CD(),g=_D({props:r,muiFormControl:m,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),v={...r,color:g.color||"primary",disabled:g.disabled,error:g.error,focused:g.focused,formControl:m,fullWidth:s,hiddenLabel:g.hiddenLabel,multiline:c,size:g.size,type:h},y=d.root??o.Root??rM,b=d.input??o.Input??oM;return(0,Me.jsx)($D,{slots:{root:y,input:b},renderSuffix:e=>(0,Me.jsx)(iM,{ownerState:v,className:f.notchedOutline,label:null!=l&&""!==l&&g.required?n||(n=(0,Me.jsxs)(i.Fragment,{children:[l,"\u2009","*"]})):l,notched:"undefined"!==typeof u?u:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:t,type:h,...p,classes:{...f,notchedOutline:null}})}));sM.muiName="Input";const aM=sM;function lM(e){return Do("MuiFormLabel",e)}const cM=vO("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),uM=ds("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled]}})(mO((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(gO()).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${cM.focused}`]:{color:(t.vars||t).palette[n].main}}}})),{props:{},style:{[`&.${cM.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${cM.error}`]:{color:(t.vars||t).palette.error.main}}}]}}))),dM=ds("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(mO((e=>{let{theme:t}=e;return{[`&.${cM.error}`]:{color:(t.vars||t).palette.error.main}}}))),hM=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiFormLabel"}),{children:r,className:i,color:o,component:s="label",disabled:a,error:l,filled:c,focused:u,required:d,...h}=n,p=_D({props:n,muiFormControl:CD(),states:["color","required","focused","disabled","error","filled"]}),f={...n,color:p.color||"primary",component:s,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required},m=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e;return Mo({root:["root",`color${ls(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]},lM,t)})(f);return(0,Me.jsxs)(uM,{as:s,ownerState:f,className:Ao(m.root,i),ref:t,...h,children:[r,p.required&&(0,Me.jsxs)(dM,{ownerState:f,"aria-hidden":!0,className:m.asterisk,children:["\u2009","*"]})]})})),pM=hM;function fM(e){return Do("MuiInputLabel",e)}vO("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const mM=ds(pM,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${cM.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(mO((e=>{let{theme:t}=e;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:e=>{let{ownerState:t}=e;return t.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:e=>{let{ownerState:t}=e;return!t.disableAnimation},style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"filled"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:e=>{let{variant:t,ownerState:n,size:r}=e;return"filled"===t&&n.shrink&&"small"===r},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"outlined"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}}))),gM=i.forwardRef((function(e,t){const n=So({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:i,shrink:o,variant:s,className:a,...l}=n,c=CD();let u=o;"undefined"===typeof u&&c&&(u=c.filled||c.focused||c.adornedStart);const d=_D({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),h={...n,disableAnimation:r,formControl:c,shrink:u,size:d.size,variant:d.variant,required:d.required,focused:d.focused},p=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,l=Mo({root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"medium"!==r&&`size${ls(r)}`,s],asterisk:[a&&"asterisk"]},fM,t);return{...t,...l}})(h);return(0,Me.jsx)(mM,{"data-shrink":u,ref:t,className:Ao(p.root,a),...l,ownerState:h,classes:p})})),vM=gM;const yM=function(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)};function bM(e){return Do("MuiFormControl",e)}vO("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const wM=ds("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${ls(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),xM=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiFormControl"}),{children:r,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:m="medium",variant:g="outlined",...v}=n,y={...n,color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:m,variant:g},b=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return Mo({root:["root","none"!==n&&`margin${ls(n)}`,r&&"fullWidth"]},bM,t)})(y),[w,x]=i.useState((()=>{let e=!1;return r&&i.Children.forEach(r,(t=>{if(!yM(t,["Input","Select"]))return;const n=yM(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[S,_]=i.useState((()=>{let e=!1;return r&&i.Children.forEach(r,(t=>{yM(t,["Input","Select"])&&(PD(t.props,!0)||PD(t.props.inputProps,!0))&&(e=!0)})),e})),[k,C]=i.useState(!1);l&&k&&C(!1);const E=void 0===u||l?k:u;let I;i.useRef(!1);const T=i.useCallback((()=>{_(!0)}),[]),P=i.useCallback((()=>{_(!1)}),[]),R=i.useMemo((()=>({adornedStart:w,setAdornedStart:x,color:s,disabled:l,error:c,filled:S,focused:E,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{C(!1)},onFocus:()=>{C(!0)},onEmpty:P,onFilled:T,registerEffect:I,required:f,variant:g})),[w,s,l,c,S,E,d,h,I,P,T,f,m,g]);return(0,Me.jsx)(kD.Provider,{value:R,children:(0,Me.jsx)(wM,{as:a,ownerState:y,className:Ao(b.root,o),ref:t,...v,children:r})})})),SM=xM;function _M(e){return Do("MuiFormHelperText",e)}const kM=vO("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var CM;const EM=ds("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${ls(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(mO((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${kM.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${kM.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:e=>{let{ownerState:t}=e;return t.contained},style:{marginLeft:14,marginRight:14}}]}}))),IM=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p",disabled:s,error:a,filled:l,focused:c,margin:u,required:d,variant:h,...p}=n,f=_D({props:n,muiFormControl:CD(),states:["variant","size","disabled","error","filled","focused","required"]}),m={...n,component:o,contained:"filled"===f.variant||"outlined"===f.variant,variant:f.variant,size:f.size,disabled:f.disabled,error:f.error,filled:f.filled,focused:f.focused,required:f.required};delete m.ownerState;const g=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e;return Mo({root:["root",i&&"disabled",o&&"error",r&&`size${ls(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]},_M,t)})(m);return(0,Me.jsx)(EM,{as:o,className:Ao(g.root,i),ref:t,...p,ownerState:m,children:" "===r?CM||(CM=(0,Me.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):r})})),TM=IM;function PM(e){return parseInt(i.version,10)>=19?e?.props?.ref||null:e?.ref||null}const RM=pD;const AM=function(e){const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=e,s=i?{}:HO(n,r),{props:a,internalRef:l}=QO({...o,externalSlotProps:s}),c=VO(l,s?.ref,e.additionalProps?.ref);return qO(t,{...a,ref:c},r)};const NM=i.createContext({});function jM(e){return Do("MuiList",e)}vO("MuiList",["root","padding","dense","subheader"]);const OM=ds("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),DM=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiList"}),{children:r,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=n,d=i.useMemo((()=>({dense:a})),[a]),h={...n,component:s,dense:a,disablePadding:l},p=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return Mo({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},jM,t)})(h);return(0,Me.jsx)(NM.Provider,{value:d,children:(0,Me.jsxs)(OM,{as:s,className:Ao(p.root,o),ref:t,ownerState:h,...u,children:[c,r]})})})),MM=DM;function LM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}const FM=LM,$M=fD;function zM(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function BM(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function UM(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function VM(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&UM(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const WM=i.forwardRef((function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu",...h}=e,p=i.useRef(null),f=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ID((()=>{r&&p.current.focus()}),[r]),i.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&r){const t=`${FM($M(e))}px`;p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width=`calc(100% + ${t})`}return p.current}})),[]);const m=ED(p,t);let g=-1;i.Children.forEach(s,((e,t)=>{i.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=t),g===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=s.length&&(g=-1))):g===t&&(g+=1,g>=s.length&&(g=-1))}));const v=i.Children.map(s,((e,t)=>{if(t===g){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),i.cloneElement(e,t)}return e}));return(0,Me.jsx)(MM,{role:"menu",ref:m,className:a,onKeyDown:e=>{const t=p.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(u&&u(e));const r=RM(t).activeElement;if("ArrowDown"===n)e.preventDefault(),VM(t,r,c,l,zM);else if("ArrowUp"===n)e.preventDefault(),VM(t,r,c,l,BM);else if("Home"===n)e.preventDefault(),VM(t,null,c,l,zM);else if("End"===n)e.preventDefault(),VM(t,null,c,l,BM);else if(1===n.length){const i=f.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&UM(r,i);i.previousKeyMatched&&(a||VM(t,r,!1,l,zM,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1,...h,children:v})})),qM=WM,HM=gD,KM={};function GM(e,t){const n=i.useRef(KM);return n.current===KM&&(n.current=e(t)),n}const QM=[];class YM{static create(){return new YM}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function XM(){const e=GM(YM.create).current;var t;return t=e.disposeEffect,i.useEffect(t,QM),e}function JM(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function ZM(e,t){return ZM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ZM(e,t)}function eL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ZM(e,t)}const tL=!1,nL=i.createContext(null);var rL="unmounted",iL="exited",oL="entering",sL="entered",aL="exiting",lL=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=iL,r.appearStatus=oL):i=sL:i=t.unmountOnExit||t.mountOnEnter?rL:iL,r.state={status:i},r.nextCallback=null,r}eL(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===rL?{status:iL}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==oL&&n!==sL&&(t=oL):n!==oL&&n!==sL||(t=aL)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===oL){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===iL&&this.setState({status:rL})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],s=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||tL?this.safeSetState({status:sL},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:oL},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:sL},(function(){t.props.onEntered(o,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!tL?(this.props.onExit(r),this.safeSetState({status:aL},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:iL},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:iL},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===rL)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,JM(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(nL.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function cL(){}lL.contextType=nL,lL.propTypes={},lL.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:cL,onEntering:cL,onEntered:cL,onExit:cL,onExiting:cL,onExited:cL},lL.UNMOUNTED=rL,lL.EXITED=iL,lL.ENTERING=oL,lL.ENTERED=sL,lL.EXITING=aL;const uL=lL,dL=e=>e.scrollTop;function hL(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??("number"===typeof n?n:n[t.mode]||0),easing:i.transitionTimingFunction??("object"===typeof r?r[t.mode]:r),delay:i.transitionDelay}}function pL(e){return`scale(${e}, ${e**2})`}const fL={entering:{opacity:1,transform:pL(1)},entered:{opacity:1,transform:"none"}},mL="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),gL=i.forwardRef((function(e,t){const{addEndListener:n,appear:r=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:g=uL,...v}=e,y=XM(),b=i.useRef(),w=lO(),x=i.useRef(null),S=ED(x,PM(o),t),_=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},k=_(u),C=_(((e,t)=>{dL(e);const{duration:n,delay:r,easing:i}=hL({style:f,timeout:m,easing:s},{mode:"enter"});let o;"auto"===m?(o=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=n,e.style.transition=[w.transitions.create("opacity",{duration:o,delay:r}),w.transitions.create("transform",{duration:mL?o:.666*o,delay:r,easing:i})].join(","),l&&l(e,t)})),E=_(c),I=_(p),T=_((e=>{const{duration:t,delay:n,easing:r}=hL({style:f,timeout:m,easing:s},{mode:"exit"});let i;"auto"===m?(i=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=t,e.style.transition=[w.transitions.create("opacity",{duration:i,delay:n}),w.transitions.create("transform",{duration:mL?i:.666*i,delay:mL?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=pL(.75),d&&d(e)})),P=_(h);return(0,Me.jsx)(g,{appear:r,in:a,nodeRef:x,onEnter:C,onEntered:E,onEntering:k,onExit:T,onExited:P,onExiting:I,addEndListener:e=>{"auto"===m&&y.start(b.current||0,e),n&&n(x.current,e)},timeout:"auto"===m?null:m,...v,children:(e,t)=>{let{ownerState:n,...r}=t;return i.cloneElement(o,{style:{opacity:0,transform:pL(.75),visibility:"exited"!==e||a?void 0:"hidden",...fL[e],...f,...o.props.style},ref:S,...r})}})}));gL&&(gL.muiSupportAuto=!0);const vL=gL,yL=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function bL(e){const t=[],n=[];return Array.from(e.querySelectorAll(yL)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function wL(){return!0}const xL=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:s=bL,isEnabled:a=wL,open:l}=e,c=i.useRef(!1),u=i.useRef(null),d=i.useRef(null),h=i.useRef(null),p=i.useRef(null),f=i.useRef(!1),m=i.useRef(null),g=VO(PM(t),m),v=i.useRef(null);i.useEffect((()=>{l&&m.current&&(f.current=!n)}),[n,l]),i.useEffect((()=>{if(!l||!m.current)return;const e=pD(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),i.useEffect((()=>{if(!l||!m.current)return;const e=pD(m.current),t=t=>{v.current=t,!r&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){const e=Boolean(v.current?.shiftKey&&"Tab"===v.current?.key),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,o,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,Me.jsxs)(i.Fragment,{children:[(0,Me.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,Me.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})};const SL=i.forwardRef((function(e,t){const{children:n,container:r,disablePortal:o=!1}=e,[s,l]=i.useState(null),c=VO(i.isValidElement(n)?PM(n):null,t);if(Fr((()=>{o||l(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),Fr((()=>{if(s&&!o)return UO(t,s),()=>{UO(t,null)}}),[t,s,o]),o){if(i.isValidElement(n)){const e={ref:c};return i.cloneElement(n,e)}return n}return s?a.createPortal(n,s):s})),_L={entering:{opacity:1},entered:{opacity:1}},kL=i.forwardRef((function(e,t){const n=lO(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:v=r,TransitionComponent:y=uL,...b}=e,w=i.useRef(null),x=ED(w,PM(a),t),S=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},_=S(h),k=S(((e,t)=>{dL(e);const r=hL({style:g,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),C=S(d),E=S(m),I=S((e=>{const t=hL({style:g,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),T=S(f);return(0,Me.jsx)(y,{appear:s,in:c,nodeRef:w,onEnter:k,onEntered:C,onEntering:_,onExit:I,onExited:T,onExiting:E,addEndListener:e=>{o&&o(w.current,e)},timeout:v,...b,children:(e,t)=>{let{ownerState:n,...r}=t;return i.cloneElement(a,{style:{opacity:0,visibility:"exited"!==e||c?void 0:"hidden",..._L[e],...g,...a.props.style},ref:x,...r})}})})),CL=kL;function EL(e){return Do("MuiBackdrop",e)}vO("MuiBackdrop",["root","invisible"]);const IL=ds("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),TL=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiBackdrop"}),{children:r,className:i,component:o="div",invisible:s=!1,open:a,components:l={},componentsProps:c={},slotProps:u={},slots:d={},TransitionComponent:h,transitionDuration:p,...f}=n,m={...n,component:o,invisible:s},g=(e=>{const{classes:t,invisible:n}=e;return Mo({root:["root",n&&"invisible"]},EL,t)})(m),v={slots:{transition:h,root:l.Root,...d},slotProps:{...c,...u}},[y,b]=YO("root",{elementType:IL,externalForwardedProps:v,className:Ao(g.root,i),ownerState:m}),[w,x]=YO("transition",{elementType:CL,externalForwardedProps:v,ownerState:m});return(0,Me.jsx)(w,{in:a,timeout:p,...f,...x,children:(0,Me.jsx)(y,{"aria-hidden":!0,...b,classes:g,ref:t,children:r})})})),PL=TL;function RL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function AL(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function NL(e){return parseInt(fD(e).getComputedStyle(e).paddingRight,10)||0}function jL(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=!o.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&AL(e,i)}))}function OL(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function DL(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=pD(e);return t.body===e?fD(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=LM(fD(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${NL(r)+e}px`;const t=pD(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${NL(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=pD(r).body;else{const t=r.parentElement,n=fD(r);e="HTML"===t?.nodeName&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const ML=()=>{},LL=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&AL(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);jL(t,e.mount,e.modalRef,r,!0);const i=OL(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=OL(this.containers,(t=>t.modals.includes(e))),r=this.containers[n];r.restore||(r.restore=DL(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=OL(this.containers,(t=>t.modals.includes(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&AL(e.modalRef,t),jL(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&AL(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const FL=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=e,h=i.useRef({}),p=i.useRef(null),f=i.useRef(null),m=VO(f,d),[g,v]=i.useState(!u),y=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let b=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(b=!1);const w=()=>(h.current.modalRef=f.current,h.current.mount=p.current,h.current),x=()=>{LL.mount(w(),{disableScrollLock:r}),f.current&&(f.current.scrollTop=0)},S=mD((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||pD(p.current).body;LL.add(w(),e),f.current&&x()})),_=()=>LL.isTopModal(w()),k=mD((e=>{p.current=e,e&&(u&&_()?x():f.current&&AL(f.current,b))})),C=i.useCallback((()=>{LL.remove(w(),b)}),[b]);i.useEffect((()=>()=>{C()}),[C]),i.useEffect((()=>{u?S():y&&o||C()}),[u,C,y,o,S]);const E=e=>t=>{e.onKeyDown?.(t),"Escape"===t.key&&229!==t.which&&_()&&(n||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},I=e=>t=>{e.onClick?.(t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=KO(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r={...n,...t};return{role:"presentation",...r,onKeyDown:E(r),ref:m}},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"aria-hidden":!0,...e,onClick:I(e),open:u}},getTransitionProps:()=>({onEnter:RL((()=>{v(!1),s&&s()}),l?.props.onEnter??ML),onExited:RL((()=>{v(!0),a&&a(),o&&C()}),l?.props.onExited??ML)}),rootRef:m,portalRef:k,isTopModal:_,exited:g,hasTransition:y}};function $L(e){return Do("MuiModal",e)}vO("MuiModal",["root","hidden","backdrop"]);const zL=ds("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(mO((e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}}))),BL=ds(PL,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),UL=i.forwardRef((function(e,t){const n=So({name:"MuiModal",props:e}),{BackdropComponent:r=BL,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:d,components:h={},componentsProps:p={},disableAutoFocus:f=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:g=!1,disablePortal:v=!1,disableRestoreFocus:y=!1,disableScrollLock:b=!1,hideBackdrop:w=!1,keepMounted:x=!1,onClose:S,onTransitionEnter:_,onTransitionExited:k,open:C,slotProps:E={},slots:I={},theme:T,...P}=n,R={...n,closeAfterTransition:l,disableAutoFocus:f,disableEnforceFocus:m,disableEscapeKeyDown:g,disablePortal:v,disableRestoreFocus:y,disableScrollLock:b,hideBackdrop:w,keepMounted:x},{getRootProps:A,getBackdropProps:N,getTransitionProps:j,portalRef:O,isTopModal:D,exited:M,hasTransition:L}=FL({...R,rootRef:t}),F={...R,exited:M},$=(e=>{const{open:t,exited:n,classes:r}=e;return Mo({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},$L,r)})(F),z={};if(void 0===c.props.tabIndex&&(z.tabIndex="-1"),L){const{onEnter:e,onExited:t}=j();z.onEnter=e,z.onExited=t}const B={slots:{root:h.Root,backdrop:h.Backdrop,...I},slotProps:{...p,...E}},[U,V]=YO("root",{ref:t,elementType:zL,externalForwardedProps:{...B,...P,component:d},getSlotProps:A,ownerState:F,className:Ao(a,$?.root,!F.open&&F.exited&&$?.hidden)}),[W,q]=YO("backdrop",{ref:o?.ref,elementType:r,externalForwardedProps:B,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:e=>N({...e,onClick:t=>{e?.onClick&&e.onClick(t)}}),className:Ao(o?.className,$?.backdrop),ownerState:F});return x||C||L&&!M?(0,Me.jsx)(SL,{ref:O,container:u,disablePortal:v,children:(0,Me.jsxs)(U,{...V,children:[!w&&r?(0,Me.jsx)(W,{...q}):null,(0,Me.jsx)(xL,{disableEnforceFocus:m,disableAutoFocus:f,disableRestoreFocus:y,isEnabled:D,open:C,children:i.cloneElement(c,z)})]})}):null})),VL=UL;function WL(e){return Do("MuiPopover",e)}vO("MuiPopover",["root","paper"]);function qL(e,t){if(!e)return t;function n(e,t){const n={};return Object.keys(t).forEach((r=>{(function(e,t){const n=e.charCodeAt(2);return"o"===e[0]&&"n"===e[1]&&n>=65&&n<=90&&"function"===typeof t})(r,t[r])&&"function"===typeof e[r]&&(n[r]=function(){e[r](...arguments),t[r](...arguments)})})),n}if("function"===typeof e||"function"===typeof t)return r=>{const i="function"===typeof t?t(r):t,o="function"===typeof e?e({...r,...i}):e,s=Ao(r?.className,i?.className,o?.className),a=n(o,i);return{...i,...o,...a,...!!s&&{className:s},...i?.style&&o?.style&&{style:{...i.style,...o.style}},...i?.sx&&o?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};const r=t,i=n(e,r),o=Ao(r?.className,e?.className);return{...t,...e,...i,...!!o&&{className:o},...r?.style&&e?.style&&{style:{...r.style,...e.style}},...r?.sx&&e?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function HL(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function KL(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function GL(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function QL(e){return"function"===typeof e?e():e}const YL=ds(VL,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),XL=ds(xO,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),JL=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiPopover"}),{action:r,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:h=8,marginThreshold:p=16,open:f,PaperProps:m={},slots:g={},slotProps:v={},transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:b,transitionDuration:w="auto",TransitionProps:x={},disableScrollLock:S=!1,..._}=n,k=i.useRef(),C={...n,anchorOrigin:s,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:y,TransitionComponent:b,transitionDuration:w,TransitionProps:x},E=(e=>{const{classes:t}=e;return Mo({root:["root"],paper:["paper"]},WL,t)})(C),I=i.useCallback((()=>{if("anchorPosition"===l)return a;const e=QL(o),t=(e&&1===e.nodeType?e:RM(k.current).body).getBoundingClientRect();return{top:t.top+HL(t,s.vertical),left:t.left+KL(t,s.horizontal)}}),[o,s.horizontal,s.vertical,a,l]),T=i.useCallback((e=>({vertical:HL(e,y.vertical),horizontal:KL(e,y.horizontal)})),[y.horizontal,y.vertical]),P=i.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=T(t);if("none"===l)return{top:null,left:null,transformOrigin:GL(n)};const r=I();let i=r.top-n.vertical,s=r.left-n.horizontal;const a=i+t.height,c=s+t.width,u=$M(QL(o)),d=u.innerHeight-p,h=u.innerWidth-p;if(null!==p&&i<p){const e=i-p;i-=e,n.vertical+=e}else if(null!==p&&a>d){const e=a-d;i-=e,n.vertical+=e}if(null!==p&&s<p){const e=s-p;s-=e,n.horizontal+=e}else if(c>h){const e=c-h;s-=e,n.horizontal+=e}return{top:`${Math.round(i)}px`,left:`${Math.round(s)}px`,transformOrigin:GL(n)}}),[o,l,I,T,p]),[R,A]=i.useState(f),N=i.useCallback((()=>{const e=k.current;if(!e)return;const t=P(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,A(!0)}),[P]);i.useEffect((()=>(S&&window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N))),[o,S,N]);i.useEffect((()=>{f&&N()})),i.useImperativeHandle(r,(()=>f?{updatePosition:()=>{N()}}:null),[f,N]),i.useEffect((()=>{if(!f)return;const e=HM((()=>{N()})),t=$M(QL(o));return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[o,f,N]);let j=w;const O={slots:{transition:b,...g},slotProps:{transition:x,paper:m,...v}},[D,M]=YO("transition",{elementType:vL,externalForwardedProps:O,ownerState:C,getSlotProps:e=>({...e,onEntering:(t,n)=>{e.onEntering?.(t,n),N()},onExited:t=>{e.onExited?.(t),A(!1)}}),additionalProps:{appear:!0,in:f}});"auto"!==w||D.muiSupportAuto||(j=void 0);const L=d||(o?RM(QL(o)).body:void 0),[F,{slots:$,slotProps:z,...B}]=YO("root",{ref:t,elementType:YL,externalForwardedProps:{...O,..._},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:g.backdrop},slotProps:{backdrop:qL("function"===typeof v.backdrop?v.backdrop(C):v.backdrop,{invisible:!0})},container:L,open:f},ownerState:C,className:Ao(E.root,u)}),[U,V]=YO("paper",{ref:k,className:E.paper,elementType:XL,externalForwardedProps:O,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:R?void 0:{opacity:0}},ownerState:C});return(0,Me.jsx)(F,{...B,...!SD(F)&&{slots:$,slotProps:z,disableScrollLock:S},children:(0,Me.jsx)(D,{...M,timeout:j,children:(0,Me.jsx)(U,{...V,children:c})})})})),ZL=JL;function eF(e){return Do("MuiMenu",e)}vO("MuiMenu",["root","paper","list"]);const tF={vertical:"top",horizontal:"right"},nF={vertical:"top",horizontal:"left"},rF=ds(ZL,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),iF=ds(XL,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),oF=ds(qM,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),sF=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:d={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:f,...m}={},variant:g="selectedMenu",slots:v={},slotProps:y={},...b}=n,w=mn(),x={...n,autoFocus:r,disableAutoFocusItem:a,MenuListProps:l,onEntering:f,PaperProps:d,transitionDuration:p,TransitionProps:m,variant:g},S=(e=>{const{classes:t}=e;return Mo({root:["root"],paper:["paper"],list:["list"]},eF,t)})(x),_=r&&!a&&u,k=i.useRef(null);let C=-1;i.Children.map(o,((e,t)=>{i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===C)&&(C=t))}));const E={slots:v,slotProps:{list:l,transition:m,paper:d,...y}},I=AM({elementType:v.root,externalSlotProps:y.root,ownerState:x,className:[S.root,s]}),[T,P]=YO("paper",{className:S.paper,elementType:iF,externalForwardedProps:E,shouldForwardComponentProp:!0,ownerState:x}),[R,A]=YO("list",{className:Ao(S.list,l.className),elementType:oF,shouldForwardComponentProp:!0,externalForwardedProps:E,getSlotProps:e=>({...e,onKeyDown:t=>{(e=>{"Tab"===e.key&&(e.preventDefault(),c&&c(e,"tabKeyDown"))})(t),e.onKeyDown?.(t)}}),ownerState:x}),N="function"===typeof E.slotProps.transition?E.slotProps.transition(x):E.slotProps.transition;return(0,Me.jsx)(rF,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?tF:nF,slots:{root:v.root,paper:T,backdrop:v.backdrop,...v.transition&&{transition:v.transition}},slotProps:{root:I,paper:P,backdrop:"function"===typeof y.backdrop?y.backdrop(x):y.backdrop,transition:{...N,onEntering:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];((e,t)=>{k.current&&k.current.adjustStyleForScrollbar(e,{direction:w?"rtl":"ltr"}),f&&f(e,t)})(...t),N?.onEntering?.(...t)}}},open:u,ref:t,transitionDuration:p,ownerState:x,...b,classes:h,children:(0,Me.jsx)(R,{actions:k,autoFocus:r&&(-1===C||a),autoFocusItem:_,variant:g,...A,children:o})})})),aF=sF;function lF(e){return Do("MuiNativeSelect",e)}const cF=vO("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),uF=ds("select")((e=>{let{theme:t}=e;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${cF.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:e=>{let{ownerState:t}=e;return"filled"!==t.variant&&"outlined"!==t.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]}})),dF=ds(uF,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:us,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${cF.multiple}`]:t.multiple}]}})({}),hF=ds("svg")((e=>{let{theme:t}=e;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${cF.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:e=>{let{ownerState:t}=e;return t.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}})),pF=ds(hF,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ls(n.variant)}`],n.open&&t.iconOpen]}})({}),fF=i.forwardRef((function(e,t){const{className:n,disabled:r,error:o,IconComponent:s,inputRef:a,variant:l="standard",...c}=e,u={...e,disabled:r,variant:l,error:o},d=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e;return Mo({select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ls(n)}`,o&&"iconOpen",r&&"disabled"]},lF,t)})(u);return(0,Me.jsxs)(i.Fragment,{children:[(0,Me.jsx)(dF,{ownerState:u,className:Ao(d.select,n),disabled:r,ref:a||t,...c}),e.multiple?null:(0,Me.jsx)(pF,{as:s,ownerState:u,className:d.icon})]})})),mF=fF;function gF(e){let{controlled:t,default:n,name:r,state:o="value"}=e;const{current:s}=i.useRef(void 0!==t),[a,l]=i.useState(n);return[s?t:a,i.useCallback((e=>{s||l(e)}),[])]}const vF=gF;function yF(e){return Do("MuiSelect",e)}const bF=vO("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var wF;const xF=ds(uF,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${bF.select}`]:t.select},{[`&.${bF.select}`]:t[n.variant]},{[`&.${bF.error}`]:t.error},{[`&.${bF.multiple}`]:t.multiple}]}})({[`&.${bF.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SF=ds(hF,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ls(n.variant)}`],n.open&&t.iconOpen]}})({}),_F=ds("input",{shouldForwardProp:e=>cs(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function kF(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function CF(e){return null==e||"string"===typeof e&&!e.trim()}const EF=i.forwardRef((function(e,t){const{"aria-describedby":n,"aria-label":r,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:h,error:p=!1,IconComponent:f,inputRef:m,labelId:g,MenuProps:v={},multiple:y,name:b,onBlur:w,onChange:x,onClose:S,onFocus:_,onOpen:k,open:C,readOnly:E,renderValue:I,required:T,SelectDisplayProps:P={},tabIndex:R,type:A,value:N,variant:j="standard",...O}=e,[D,M]=vF({controlled:N,default:u,name:"Select"}),[L,F]=vF({controlled:C,default:c,name:"Select"}),$=i.useRef(null),z=i.useRef(null),[B,U]=i.useState(null),{current:V}=i.useRef(null!=C),[W,q]=i.useState(),H=ED(t,m),K=i.useCallback((e=>{z.current=e,e&&U(e)}),[]),G=B?.parentNode;i.useImperativeHandle(H,(()=>({focus:()=>{z.current.focus()},node:$.current,value:D})),[D]),i.useEffect((()=>{c&&L&&B&&!V&&(q(s?null:G.clientWidth),z.current.focus())}),[B,s]),i.useEffect((()=>{o&&z.current.focus()}),[o]),i.useEffect((()=>{if(!g)return;const e=RM(z.current).getElementById(g);if(e){const t=()=>{getSelection().isCollapsed&&z.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[g]);const Q=(e,t)=>{e?k&&k(t):S&&S(t),V||(q(s?null:G.clientWidth),F(e))},Y=i.Children.toArray(a),X=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(y){n=Array.isArray(D)?D.slice():[];const t=D.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),D!==n&&(M(n),x)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:b}}),x(i,e)}y||Q(!1,t)}},J=null!==B&&L;let Z,ee;delete O["aria-invalid"];const te=[];let ne=!1,re=!1;(PD({value:D})||h)&&(I?Z=I(D):ne=!0);const ie=Y.map((e=>{if(!i.isValidElement(e))return null;let t;if(y){if(!Array.isArray(D))throw new Error(En(2));t=D.some((t=>kF(t,e.props.value))),t&&ne&&te.push(e.props.children)}else t=kF(D,e.props.value),t&&ne&&(ee=e.props.children);return t&&(re=!0),i.cloneElement(e,{"aria-selected":t?"true":"false",onClick:X(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ne&&(Z=y?0===te.length?null:te.reduce(((e,t,n)=>(e.push(t),n<te.length-1&&e.push(", "),e)),[]):ee);let oe,se=W;!s&&V&&B&&(se=G.clientWidth),oe="undefined"!==typeof R?R:d?null:0;const ae=P.id||(b?`mui-component-select-${b}`:void 0),le={...e,variant:j,value:D,open:J,error:p},ce=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e;return Mo({select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ls(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},yF,t)})(le),ue={...v.PaperProps,...v.slotProps?.paper},de=hD();return(0,Me.jsxs)(i.Fragment,{children:[(0,Me.jsx)(xF,{as:"div",ref:K,tabIndex:oe,role:"combobox","aria-controls":J?de:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":J?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[g,ae].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":T?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:e=>{if(!E){[" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),Q(!0,e))}},onMouseDown:d||E?null:e=>{0===e.button&&(e.preventDefault(),z.current.focus(),Q(!0,e))},onBlur:e=>{!J&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:D,name:b}}),w(e))},onFocus:_,...P,ownerState:le,className:Ao(P.className,ce.select,l),id:ae,children:CF(Z)?wF||(wF=(0,Me.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):Z}),(0,Me.jsx)(_F,{"aria-invalid":p,value:Array.isArray(D)?D.join(","):D,name:b,ref:$,"aria-hidden":!0,onChange:e=>{const t=Y.find((t=>t.props.value===e.target.value));void 0!==t&&(M(t.props.value),x&&x(e,t))},tabIndex:-1,disabled:d,className:ce.nativeInput,autoFocus:o,required:T,...O,ownerState:le}),(0,Me.jsx)(SF,{as:f,className:ce.icon,ownerState:le}),(0,Me.jsx)(aF,{id:`menu-${b||""}`,anchorEl:G,open:J,onClose:e=>{Q(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...v,slotProps:{...v.slotProps,list:{"aria-labelledby":g,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:de,...v.MenuListProps},paper:{...ue,style:{minWidth:se,...null!=ue?ue.style:null}}},children:ie})]})})),IF=EF,TF=$O((0,Me.jsx)("path",{d:"M7 10l5 5 5-5z"})),PF={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>us(e)&&"variant"!==e,slot:"Root"},RF=ds(qD,PF)(""),AF=ds(aM,PF)(""),NF=ds(XD,PF)(""),jF=i.forwardRef((function(e,t){const n=So({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=TF,id:d,input:h,inputProps:p,label:f,labelId:m,MenuProps:g,multiple:v=!1,native:y=!1,onClose:b,onOpen:w,open:x,renderValue:S,SelectDisplayProps:_,variant:k="outlined",...C}=n,E=y?mF:IF,I=_D({props:n,muiFormControl:CD(),states:["variant","error"]}),T=I.variant||k,P={...n,variant:T,classes:s},R=(e=>{const{classes:t}=e,n=Mo({root:["root"]},yF,t);return{...t,...n}})(P),{root:A,...N}=R,j=h||{standard:(0,Me.jsx)(RF,{ownerState:P}),outlined:(0,Me.jsx)(AF,{label:f,ownerState:P}),filled:(0,Me.jsx)(NF,{ownerState:P})}[T],O=ED(t,PM(j));return(0,Me.jsx)(i.Fragment,{children:i.cloneElement(j,{inputComponent:E,inputProps:{children:o,error:I.error,IconComponent:u,variant:T,type:void 0,multiple:v,...y?{id:d}:{autoWidth:r,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:b,onOpen:w,open:x,renderValue:S,SelectDisplayProps:{id:d,..._}},...p,classes:p?An(N,p.classes):N,...h?h.props.inputProps:{}},...(v&&y||c)&&"outlined"===T?{notched:!0}:{},ref:O,className:Ao(j.props.className,a,R.root),...!h&&{variant:T},...C})})}));jF.muiName="Select";const OF=jF;function DF(e){return Do("MuiTextField",e)}vO("MuiTextField",["root"]);const MF={standard:qD,filled:XD,outlined:aM},LF=ds(SM,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),FF=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:s,color:a="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:p,id:f,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:y,label:b,maxRows:w,minRows:x,multiline:S=!1,name:_,onBlur:k,onChange:C,onFocus:E,placeholder:I,required:T=!1,rows:P,select:R=!1,SelectProps:A,slots:N={},slotProps:j={},type:O,value:D,variant:M="outlined",...L}=n,F={...n,autoFocus:i,color:a,disabled:c,error:u,fullWidth:h,multiline:S,required:T,select:R,variant:M},$=(e=>{const{classes:t}=e;return Mo({root:["root"]},DF,t)})(F);const z=hD(f),B=p&&z?`${z}-helper-text`:void 0,U=b&&z?`${z}-label`:void 0,V=MF[M],W={slots:N,slotProps:{input:v,inputLabel:m,htmlInput:g,formHelperText:d,select:A,...j}},q={},H=W.slotProps.inputLabel;"outlined"===M&&(H&&"undefined"!==typeof H.shrink&&(q.notched=H.shrink),q.label=b),R&&(A&&A.native||(q.id=void 0),q["aria-describedby"]=void 0);const[K,G]=YO("root",{elementType:LF,shouldForwardComponentProp:!0,externalForwardedProps:{...W,...L},ownerState:F,className:Ao($.root,s),ref:t,additionalProps:{disabled:c,error:u,fullWidth:h,required:T,color:a,variant:M}}),[Q,Y]=YO("input",{elementType:V,externalForwardedProps:W,additionalProps:q,ownerState:F}),[X,J]=YO("inputLabel",{elementType:vM,externalForwardedProps:W,ownerState:F}),[Z,ee]=YO("htmlInput",{elementType:"input",externalForwardedProps:W,ownerState:F}),[te,ne]=YO("formHelperText",{elementType:TM,externalForwardedProps:W,ownerState:F}),[re,ie]=YO("select",{elementType:OF,externalForwardedProps:W,ownerState:F}),oe=(0,Me.jsx)(Q,{"aria-describedby":B,autoComplete:r,autoFocus:i,defaultValue:l,fullWidth:h,multiline:S,name:_,rows:P,maxRows:w,minRows:x,type:O,value:D,id:z,inputRef:y,onBlur:k,onChange:C,onFocus:E,placeholder:I,inputProps:ee,slots:{input:N.htmlInput?Z:void 0},...Y});return(0,Me.jsxs)(K,{...G,children:[null!=b&&""!==b&&(0,Me.jsx)(X,{htmlFor:z,id:U,...J,children:b}),R?(0,Me.jsx)(re,{"aria-describedby":B,id:z,labelId:U,value:D,input:oe,...ie,children:o}):oe,p&&(0,Me.jsx)(te,{id:B,...ne,children:p})]})})),$F=FF;function zF(e){return Do("MuiInputAdornment",e)}const BF=vO("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var UF;const VF=ds("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${ls(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(mO((e=>{let{theme:t}=e;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${BF.positionStart}&:not(.${BF.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}}))),WF=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiInputAdornment"}),{children:r,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u,...d}=n,h=CD()||{};let p=u;u&&h.variant,h&&!p&&(p=h.variant);const f={...n,hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:c,variant:p},m=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e;return Mo({root:["root",n&&"disablePointerEvents",i&&`position${ls(i)}`,s,r&&"hiddenLabel",o&&`size${ls(o)}`]},zF,t)})(f);return(0,Me.jsx)(kD.Provider,{value:null,children:(0,Me.jsx)(VF,{as:s,ownerState:f,className:Ao(m.root,o),ref:t,...d,children:"string"!==typeof r||l?(0,Me.jsxs)(i.Fragment,{children:["start"===c?UF||(UF=(0,Me.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):null,r]}):(0,Me.jsx)(cD,{color:"textSecondary",children:r})})})})),qF=WF,HF=hD;function KF(e){try{return e.matches(":focus-visible")}catch(PI){0}return!1}const GF=mD;class QF{static create(){return new QF}static use(){const e=GM(QF.create).current,[t,n]=i.useState(!1);return e.shouldMount=t,e.setShouldMount=n,i.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())};start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.start(...t)))}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.stop(...t)))}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.pulsate(...t)))}}function YF(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function XF(e,t,n){return null!=n[t]?n[t]:e.props[t]}function JF(e,t,n){var r=YF(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(t,r);return Object.keys(o).forEach((function(s){var a=o[s];if((0,i.isValidElement)(a)){var l=s in t,c=s in r,u=t[s],d=(0,i.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,i.isValidElement)(u)&&(o[s]=(0,i.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:XF(a,"exit",e),enter:XF(a,"enter",e)})):o[s]=(0,i.cloneElement)(a,{in:!1}):o[s]=(0,i.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:XF(a,"exit",e),enter:XF(a,"enter",e)})}})),o}var ZF=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},e$=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}eL(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,s=t.handleExited;return{children:t.firstRender?(n=e,r=s,YF(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:XF(e,"appear",n),enter:XF(e,"enter",n),exit:XF(e,"exit",n)})}))):JF(e,o,s),firstRender:!1}},n.handleExited=function(e,t){var n=YF(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Fo({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=JM(e,["component","childFactory"]),o=this.state.contextValue,s=ZF(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(nL.Provider,{value:o},s):i.createElement(nL.Provider,{value:o},i.createElement(t,r,s))},t}(i.Component);e$.propTypes={},e$.defaultProps={component:"div",childFactory:function(e){return e}};const t$=e$;const n$=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=i.useState(!1),p=Ao(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:a,height:a,top:-a/2+s,left:-a/2+o},m=Ao(n.child,d&&n.childLeaving,r&&n.childPulsate);return l||d||h(!0),i.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,Me.jsx)("span",{className:p,style:f,children:(0,Me.jsx)("span",{className:m})})};const r$=vO("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),i$=Mr`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,o$=Mr`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,s$=Mr`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,a$=ds("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),l$=ds(n$,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${r$.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${i$};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  &.${r$.ripplePulsate} {
    animation-duration: ${e=>{let{theme:t}=e;return t.transitions.duration.shorter}}ms;
  }

  & .${r$.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${r$.childLeaving} {
    opacity: 0;
    animation-name: ${o$};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  & .${r$.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${s$};
    animation-duration: 2500ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,c$=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:s,...a}=n,[l,c]=i.useState([]),u=i.useRef(0),d=i.useRef(null);i.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=i.useRef(!1),p=XM(),f=i.useRef(null),m=i.useRef(null),g=i.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;c((e=>[...e,(0,Me.jsx)(l$,{classes:{ripple:Ao(o.ripple,r$.ripple),rippleVisible:Ao(o.rippleVisible,r$.rippleVisible),ripplePulsate:Ao(o.ripplePulsate,r$.ripplePulsate),child:Ao(o.child,r$.child),childLeaving:Ao(o.childLeaving,r$.childLeaving),childPulsate:Ao(o.childPulsate,r$.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,d.current=s}),[o]),v=i.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:o=r||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===e?.type&&h.current)return void(h.current=!1);"touchstart"===e?.type&&(h.current=!0);const a=s?null:m.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}e?.touches?null===f.current&&(f.current=()=>{g({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})},p.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):g({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[r,g,p]),y=i.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=i.useCallback(((e,t)=>{if(p.clear(),"touchend"===e?.type&&f.current)return f.current(),f.current=null,void p.start(0,(()=>{b(e,t)}));f.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[p]);return i.useImperativeHandle(t,(()=>({pulsate:y,start:v,stop:b})),[y,v,b]),(0,Me.jsx)(a$,{className:Ao(r$.root,o.root,s),ref:m,...a,children:(0,Me.jsx)(t$,{component:null,exit:!0,children:l})})})),u$=c$;function d$(e){return Do("MuiButtonBase",e)}const h$=vO("MuiButtonBase",["root","disabled","focusVisible"]),p$=ds("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${h$.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),f$=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:f="a",onBlur:m,onClick:g,onContextMenu:v,onDragLeave:y,onFocus:b,onFocusVisible:w,onKeyDown:x,onKeyUp:S,onMouseDown:_,onMouseLeave:k,onMouseUp:C,onTouchEnd:E,onTouchMove:I,onTouchStart:T,tabIndex:P=0,TouchRippleProps:R,touchRippleRef:A,type:N,...j}=n,O=i.useRef(null),D=QF.use(),M=ED(D.ref,A),[L,F]=i.useState(!1);c&&L&&F(!1),i.useImperativeHandle(r,(()=>({focusVisible:()=>{F(!0),O.current.focus()}})),[]);const $=D.shouldMount&&!u&&!c;i.useEffect((()=>{L&&h&&!u&&D.pulsate()}),[u,h,L,D]);const z=m$(D,"start",_,d),B=m$(D,"stop",v,d),U=m$(D,"stop",y,d),V=m$(D,"stop",C,d),W=m$(D,"stop",(e=>{L&&e.preventDefault(),k&&k(e)}),d),q=m$(D,"start",T,d),H=m$(D,"stop",E,d),K=m$(D,"stop",I,d),G=m$(D,"stop",(e=>{KF(e.target)||F(!1),m&&m(e)}),!1),Q=GF((e=>{O.current||(O.current=e.currentTarget),KF(e.target)&&(F(!0),w&&w(e)),b&&b(e)})),Y=()=>{const e=O.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},X=GF((e=>{h&&!e.repeat&&L&&" "===e.key&&D.stop(e,(()=>{D.start(e)})),e.target===e.currentTarget&&Y()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&Y()&&"Enter"===e.key&&!c&&(e.preventDefault(),g&&g(e))})),J=GF((e=>{h&&" "===e.key&&L&&!e.defaultPrevented&&D.stop(e,(()=>{D.pulsate(e)})),S&&S(e),g&&e.target===e.currentTarget&&Y()&&" "===e.key&&!e.defaultPrevented&&g(e)}));let Z=l;"button"===Z&&(j.href||j.to)&&(Z=f);const ee={};"button"===Z?(ee.type=void 0===N?"button":N,ee.disabled=c):(j.href||j.to||(ee.role="button"),c&&(ee["aria-disabled"]=c));const te=ED(t,O),ne={...n,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:P,focusVisible:L},re=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=Mo({root:["root",t&&"disabled",n&&"focusVisible"]},d$,i);return n&&r&&(o.root+=` ${r}`),o})(ne);return(0,Me.jsxs)(p$,{as:Z,className:Ao(re.root,a),ownerState:ne,onBlur:G,onClick:g,onContextMenu:B,onFocus:Q,onKeyDown:X,onKeyUp:J,onMouseDown:z,onMouseLeave:W,onMouseUp:V,onDragLeave:U,onTouchEnd:H,onTouchMove:K,onTouchStart:q,ref:te,tabIndex:c?-1:P,type:N,...ee,...j,children:[s,$?(0,Me.jsx)(u$,{ref:M,center:o,...R}):null]})}));function m$(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return GF((i=>(n&&n(i),r||e[t](i),!0)))}const g$=f$;function v$(e){return Do("MuiCircularProgress",e)}vO("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const y$=44,b$=Mr`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,w$=Mr`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,x$="string"!==typeof b$?Dr`
        animation: ${b$} 1.4s linear infinite;
      `:null,S$="string"!==typeof w$?Dr`
        animation: ${w$} 1.4s ease-in-out infinite;
      `:null,_$=ds("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${ls(n.color)}`]]}})(mO((e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:x$||{animation:`${b$} 1.4s linear infinite`}},...Object.entries(t.palette).filter(gO()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}))]}}))),k$=ds("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),C$=ds("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${ls(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(mO((e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:S$||{animation:`${w$} 1.4s ease-in-out infinite`}}]}}))),E$=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:s=40,style:a,thickness:l=3.6,value:c=0,variant:u="indeterminate",...d}=n,h={...n,color:i,disableShrink:o,size:s,thickness:l,value:c,variant:u},p=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e;return Mo({root:["root",n,`color${ls(r)}`],svg:["svg"],circle:["circle",`circle${ls(n)}`,i&&"circleDisableShrink"]},v$,t)})(h),f={},m={},g={};if("determinate"===u){const e=2*Math.PI*((y$-l)/2);f.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(c),f.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,Me.jsx)(_$,{className:Ao(p.root,r),style:{width:s,height:s,...m,...a},ownerState:h,ref:t,role:"progressbar",...g,...d,children:(0,Me.jsx)(k$,{className:p.svg,ownerState:h,viewBox:"22 22 44 44",children:(0,Me.jsx)(C$,{className:p.circle,style:f,ownerState:h,cx:y$,cy:y$,r:(y$-l)/2,fill:"none",strokeWidth:l})})})})),I$=E$;function T$(e){return Do("MuiIconButton",e)}const P$=vO("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),R$=ds(g$,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,"default"!==n.color&&t[`color${ls(n.color)}`],n.edge&&t[`edge${ls(n.edge)}`],t[`size${ls(n.size)}`]]}})(mO((e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}})),mO((e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(gO()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette).filter(gO()).map((e=>{let[n]=e;return{props:{color:n},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ti((t.vars||t).palette[n].main,t.palette.action.hoverOpacity)}}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${P$.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${P$.loading}`]:{color:"transparent"}}}))),A$=ds("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})((e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}})),N$=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium",id:u,loading:d=null,loadingIndicator:h,...p}=n,f=HF(u),m=h??(0,Me.jsx)(I$,{"aria-labelledby":f,color:"inherit",size:16}),g={...n,edge:r,color:s,disabled:a,disableFocusRipple:l,loading:d,loadingIndicator:m,size:c},v=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o,loading:s}=e;return Mo({root:["root",s&&"loading",n&&"disabled","default"!==r&&`color${ls(r)}`,i&&`edge${ls(i)}`,`size${ls(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},T$,t)})(g);return(0,Me.jsxs)(R$,{id:d?f:u,className:Ao(v.root,o),centerRipple:!0,focusRipple:!l,disabled:a||d,ref:t,...p,ownerState:g,children:["boolean"===typeof d&&(0,Me.jsx)("span",{className:v.loadingWrapper,style:{display:"contents"},children:(0,Me.jsx)(A$,{className:v.loadingIndicator,ownerState:g,children:d&&m})}),i]})})),j$=N$;function O$(e){return Do("MuiButton",e)}const D$=vO("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const M$=i.createContext({});const L$=i.createContext(void 0),F$=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],$$=ds(g$,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ls(n.color)}`],t[`size${ls(n.size)}`],t[`${n.variant}Size${ls(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(mO((e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${D$.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${D$.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${D$.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${D$.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(gO()).map((e=>{let[n]=e;return{props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.5)`:ti(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette[n].main,t.palette.action.hoverOpacity)}}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${D$.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${D$.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${D$.loading}`]:{color:"transparent"}}}]}}))),z$=ds("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${ls(n.size)}`]]}})((e=>{let{theme:t}=e;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...F$]}})),B$=ds("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${ls(n.size)}`]]}})((e=>{let{theme:t}=e;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...F$]}})),U$=ds("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})((e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}})),V$=ds("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),W$=i.forwardRef((function(e,t){const n=i.useContext(M$),r=i.useContext(L$),o=So({props:vn(n,e),name:"MuiButton"}),{children:s,color:a="primary",component:l="button",className:c,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:p,focusVisibleClassName:f,fullWidth:m=!1,id:g,loading:v=null,loadingIndicator:y,loadingPosition:b="center",size:w="medium",startIcon:x,type:S,variant:_="text",...k}=o,C=HF(g),E=y??(0,Me.jsx)(I$,{"aria-labelledby":C,color:"inherit",size:16}),I={...o,color:a,component:l,disabled:u,disableElevation:d,disableFocusRipple:h,fullWidth:m,loading:v,loadingIndicator:E,loadingPosition:b,size:w,type:S,variant:_},T=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=e,c=Mo({root:["root",s&&"loading",o,`${o}${ls(t)}`,`size${ls(i)}`,`${o}Size${ls(i)}`,`color${ls(t)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${ls(a)}`],startIcon:["icon","startIcon",`iconSize${ls(i)}`],endIcon:["icon","endIcon",`iconSize${ls(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},O$,l);return{...l,...c}})(I),P=(x||v&&"start"===b)&&(0,Me.jsx)(z$,{className:T.startIcon,ownerState:I,children:x||(0,Me.jsx)(V$,{className:T.loadingIconPlaceholder,ownerState:I})}),R=(p||v&&"end"===b)&&(0,Me.jsx)(B$,{className:T.endIcon,ownerState:I,children:p||(0,Me.jsx)(V$,{className:T.loadingIconPlaceholder,ownerState:I})}),A=r||"",N="boolean"===typeof v?(0,Me.jsx)("span",{className:T.loadingWrapper,style:{display:"contents"},children:v&&(0,Me.jsx)(U$,{className:T.loadingIndicator,ownerState:I,children:E})}):null;return(0,Me.jsxs)($$,{ownerState:I,className:Ao(n.className,T.root,c,A),component:l,disabled:u||v,focusRipple:!h,focusVisibleClassName:Ao(T.focusVisible,f),ref:t,type:S,id:v?C:g,...k,classes:T,children:[P,"end"!==b&&N,s,"end"===b&&N,R]})})),q$=W$;function H$(e){return Do("MuiDivider",e)}const K$=vO("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function G$(e){return Do("MuiListItemIcon",e)}const Q$=vO("MuiListItemIcon",["root","alignItemsFlexStart"]);function Y$(e){return Do("MuiListItemText",e)}const X$=vO("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function J$(e){return Do("MuiMenuItem",e)}const Z$=vO("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ez=ds(g$,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(mO((e=>{let{theme:t}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Z$.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ti(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Z$.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ti(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Z$.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ti(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ti(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Z$.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Z$.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${K$.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${K$.inset}`]:{marginLeft:52},[`& .${X$.root}`]:{marginTop:0,marginBottom:0},[`& .${X$.inset}`]:{paddingLeft:36},[`& .${Q$.root}`]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${Q$.root} svg`]:{fontSize:"1.25rem"}}}]}}))),tz=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h,...p}=n,f=i.useContext(NM),m=i.useMemo((()=>({dense:s||f.dense||!1,disableGutters:l})),[f.dense,s,l]),g=i.useRef(null);ID((()=>{r&&g.current&&g.current.focus()}),[r]);const v={...n,dense:m.dense,divider:a,disableGutters:l},y=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,a=Mo({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},J$,s);return{...s,...a}})(n),b=ED(g,t);let w;return n.disabled||(w=void 0!==d?d:-1),(0,Me.jsx)(NM.Provider,{value:m,children:(0,Me.jsx)(ez,{ref:b,role:u,tabIndex:w,component:o,focusVisibleClassName:Ao(y.focusVisible,c),className:Ao(y.root,h),...p,ownerState:v,classes:y})})})),nz=tz,rz=ds("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(mO((e=>{let{theme:t}=e;return{minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}}))),iz=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiListItemIcon"}),{className:r,...o}=n,s=i.useContext(NM),a={...n,alignItems:s.alignItems},l=(e=>{const{alignItems:t,classes:n}=e;return Mo({root:["root","flex-start"===t&&"alignItemsFlexStart"]},G$,n)})(a);return(0,Me.jsx)(rz,{className:Ao(l.root,r),ownerState:a,ref:t,...o})})),oz=iz,sz=ds("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${X$.primary}`]:t.primary},{[`& .${X$.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${rD.root}:where(& .${X$.primary})`]:{display:"block"},[`.${rD.root}:where(& .${X$.secondary})`]:{display:"block"},variants:[{props:e=>{let{ownerState:t}=e;return t.primary&&t.secondary},style:{marginTop:6,marginBottom:6}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:56}}]}),az=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiListItemText"}),{children:r,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d,slots:h={},slotProps:p={},...f}=n,{dense:m}=i.useContext(NM);let g=null!=l?l:r,v=u;const y={...n,disableTypography:s,inset:a,primary:!!g,secondary:!!v,dense:m},b=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return Mo({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Y$,t)})(y),w={slots:h,slotProps:{primary:c,secondary:d,...p}},[x,S]=YO("root",{className:Ao(b.root,o),elementType:sz,externalForwardedProps:{...w,...f},ownerState:y,ref:t}),[_,k]=YO("primary",{className:b.primary,elementType:cD,externalForwardedProps:w,ownerState:y}),[C,E]=YO("secondary",{className:b.secondary,elementType:cD,externalForwardedProps:w,ownerState:y});return null==g||g.type===cD||s||(g=(0,Me.jsx)(_,{variant:m?"body2":"body1",component:k?.variant?void 0:"span",...k,children:g})),null==v||v.type===cD||s||(v=(0,Me.jsx)(C,{variant:"body2",color:"textSecondary",...E,children:v})),(0,Me.jsxs)(x,{...S,children:[g,v]})})),lz=az,cz=ds("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(mO((e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:ti(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}}))),uz=ds("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(mO((e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}}))),dz=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:o,orientation:s="horizontal",component:a=(i||"vertical"===s?"div":"hr"),flexItem:l=!1,light:c=!1,role:u=("hr"!==a?"separator":void 0),textAlign:d="center",variant:h="fullWidth",...p}=n,f={...n,absolute:r,component:a,flexItem:l,light:c,orientation:s,role:u,textAlign:d,variant:h},m=(e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=e;return Mo({root:["root",t&&"absolute",l,o&&"light","vertical"===s&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]},H$,r)})(f);return(0,Me.jsx)(cz,{as:a,className:Ao(m.root,o),role:u,ref:t,ownerState:f,"aria-orientation":"separator"!==u||"hr"===a&&"vertical"!==s?void 0:s,...p,children:i?(0,Me.jsx)(uz,{className:m.wrapper,ownerState:f,children:i}):null})}));dz&&(dz.muiSkipListHighlight=!0);const hz=dz,pz=$O((0,Me.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),fz=$O((0,Me.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),mz=$O((0,Me.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),gz=$O((0,Me.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),vz=$O((0,Me.jsx)("path",{d:"M20 3H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2c1.11 0 2-.9 2-2V5c0-1.11-.89-2-2-2m0 5h-2V5h2zM4 19h16v2H4z"})),yz=$O((0,Me.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"})),bz=$O((0,Me.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"})),wz=$O((0,Me.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),xz=$O([(0,Me.jsx)("path",{d:"m21 5-9-4-9 4v6c0 5.55 3.84 10.74 9 12 2.3-.56 4.33-1.9 5.88-3.71l-3.12-3.12c-1.94 1.29-4.58 1.07-6.29-.64-1.95-1.95-1.95-5.12 0-7.07s5.12-1.95 7.07 0c1.71 1.71 1.92 4.35.64 6.29l2.9 2.9C20.29 15.69 21 13.38 21 11z"},"0"),(0,Me.jsx)("circle",{cx:"12",cy:"12",r:"3"},"1")]),Sz=$O((0,Me.jsx)("path",{d:"M21.95 10.99c-1.79-.03-3.7-1.95-2.68-4.22-2.98 1-5.77-1.59-5.19-4.56C6.95.71 2 6.58 2 12c0 5.52 4.48 10 10 10 5.89 0 10.54-5.08 9.95-11.01M8.5 15c-.83 0-1.5-.67-1.5-1.5S7.67 12 8.5 12s1.5.67 1.5 1.5S9.33 15 8.5 15m2-5C9.67 10 9 9.33 9 8.5S9.67 7 10.5 7s1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 6c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"})),_z=$O((0,Me.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),kz=()=>{const e=ne(),t=lO(),[n]=(pO(t.breakpoints.down("sm")),aO(ON)),[r]=function(e){var t=(0,i.useState)(),n=t[0],r=t[1],o=(0,i.useState)(!1),s=o[0],a=o[1],l=(0,i.useCallback)((function(){return nO(void 0,void 0,void 0,(function(){var t;return rO(this,(function(n){switch(n.label){case 0:a(!0),r(void 0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,e.signOut()];case 2:return n.sent(),[2,!0];case 3:return t=n.sent(),r(t),[2,!1];case 4:return a(!1),[7];case 5:return[2]}}))}))}),[e]);return[l,s,n]}(ON),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(-1),[v,y]=(0,i.useState)(!1),[b,w]=(0,i.useState)("all"),[x,S]=(0,i.useState)("all"),_=((0,i.useRef)(null),(0,i.useRef)(null)),{currentUser:k}=$N(),C=()=>{s(null)};(0,i.useEffect)((()=>{const t=t=>{if("Enter"===t.key&&c.length>0&&a){(t=>{switch(f(!1),l(""),t.type){case"user":e(`/profile/${t.id}`);break;case"post":e(`/post/${t.id}`);break;case"forum":e(`/forum/${t.id}`);break;case"sideRoom":e(`/side-room/${t.id}`)}})(c[0])}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)}),[c,a]),tO("up",(()=>{p&&c.length>0&&g((e=>e<=0?c.length-1:e-1))}),{enableOnFormTags:!0}),tO("down",(()=>{p&&c.length>0&&g((e=>e>=c.length-1?0:e+1))}),{enableOnFormTags:!0}),tO("esc",(()=>{f(!1)}),{enableOnFormTags:!0}),(0,i.useEffect)((()=>{const e=e=>{_.current&&!_.current.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const E=t=>{e(t),C()};return(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsx)(EO,{position:"static",elevation:0,sx:{backgroundColor:"transparent",backgroundImage:"none",boxShadow:"none",borderBottom:"none",padding:"0 24px"},children:(0,Me.jsxs)(RO,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 0",minHeight:"auto"},disableGutters:!0,children:[(0,Me.jsxs)(OO,{sx:{display:"flex",alignItems:"center",gap:3},children:[(0,Me.jsx)(tD,{src:"/logo.png",alt:"Side Eye",sx:{width:40,height:40,cursor:"pointer","&:hover":{opacity:.8}},onClick:()=>e("/")}),(0,Me.jsx)(cD,{variant:"h5",component:"div",sx:{fontWeight:"bold",cursor:"pointer",color:"primary.main","&:hover":{opacity:.8}},onClick:()=>e("/"),children:"SideEye"})]}),(0,Me.jsx)(OO,{sx:{flexGrow:1,position:"relative",maxWidth:600,mx:4},children:(0,Me.jsx)($F,{fullWidth:!0,size:"small",placeholder:"Search users, posts, forums...",value:a,onChange:e=>l(e.target.value),onKeyPress:t=>{"Enter"===t.key&&(async t=>{t.trim()?e(`/search?q=${encodeURIComponent(t)}`):u([])})(a)},InputProps:{startAdornment:(0,Me.jsx)(qF,{position:"start",children:(0,Me.jsx)(pz,{})})}})}),(0,Me.jsx)(OO,{sx:{display:"flex",alignItems:"center",gap:2},children:n?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(j$,{color:"inherit",onClick:()=>e("/"),sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,Me.jsx)(fz,{})}),(0,Me.jsx)(j$,{color:"inherit",sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,Me.jsx)(mz,{})}),(0,Me.jsx)(j$,{color:"inherit",onClick:e=>{s(e.currentTarget)},sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,Me.jsx)(gz,{})})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(q$,{color:"inherit",onClick:()=>e("/login"),sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:"Login"}),(0,Me.jsx)(q$,{color:"inherit",onClick:()=>e("/register"),sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:"Register"})]})}),(0,Me.jsxs)(aF,{anchorEl:o,open:Boolean(o),onClose:C,sx:{"& .MuiPaper-root":{borderRadius:2,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",minWidth:200,border:"none"}},children:[(0,Me.jsxs)(nz,{onClick:()=>E("/side-rooms"),children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(vz,{})}),(0,Me.jsx)(lz,{primary:"Side Rooms"})]}),(0,Me.jsxs)(nz,{onClick:()=>E("/forums"),children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(yz,{})}),(0,Me.jsx)(lz,{primary:"Forums"})]}),(0,Me.jsxs)(nz,{onClick:()=>E("/safety"),children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(bz,{})}),(0,Me.jsx)(lz,{primary:"Safety"})]}),(0,Me.jsxs)(nz,{onClick:()=>E("/about"),children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(wz,{})}),(0,Me.jsx)(lz,{children:"About"})]}),(0,Me.jsxs)(nz,{onClick:()=>E("/privacy-policy"),children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(xz,{})}),(0,Me.jsx)(lz,{children:"Privacy Policy"})]}),(0,Me.jsxs)(nz,{onClick:()=>E("/terms"),children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(xz,{})}),(0,Me.jsx)(lz,{children:"Terms of Service"})]}),(0,Me.jsxs)(nz,{onClick:()=>E("/cookies"),children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(Sz,{})}),(0,Me.jsx)(lz,{children:"Cookie Policy"})]}),n&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(hz,{}),(0,Me.jsxs)(nz,{onClick:()=>E("/profile"),children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(_z,{})}),(0,Me.jsx)(lz,{children:"Profile"})]}),(0,Me.jsxs)(nz,{onClick:async()=>{await r(),C()},children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(_z,{})}),(0,Me.jsx)(lz,{children:"Logout"})]})]})]})]})})})},Cz=$O((0,Me.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function Ez(e){return Do("MuiChip",e)}const Iz=vO("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Tz=ds("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${Iz.avatar}`]:t.avatar},{[`& .${Iz.avatar}`]:t[`avatar${ls(a)}`]},{[`& .${Iz.avatar}`]:t[`avatarColor${ls(r)}`]},{[`& .${Iz.icon}`]:t.icon},{[`& .${Iz.icon}`]:t[`icon${ls(a)}`]},{[`& .${Iz.icon}`]:t[`iconColor${ls(i)}`]},{[`& .${Iz.deleteIcon}`]:t.deleteIcon},{[`& .${Iz.deleteIcon}`]:t[`deleteIcon${ls(a)}`]},{[`& .${Iz.deleteIcon}`]:t[`deleteIconColor${ls(r)}`]},{[`& .${Iz.deleteIcon}`]:t[`deleteIcon${ls(l)}Color${ls(r)}`]},t.root,t[`size${ls(a)}`],t[`color${ls(r)}`],o&&t.clickable,o&&"default"!==r&&t[`clickableColor${ls(r)})`],s&&t.deletable,s&&"default"!==r&&t[`deletableColor${ls(r)}`],t[l],t[`${l}${ls(r)}`]]}})(mO((e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Iz.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Iz.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${Iz.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Iz.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Iz.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Iz.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Iz.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:ti(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:ti(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Iz.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Iz.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(gO(["contrastText"])).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${Iz.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:ti(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}}})),{props:e=>e.iconColor===e.color,style:{[`& .${Iz.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:n}}},{props:e=>e.iconColor===e.color&&"default"!==e.color,style:{[`& .${Iz.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Iz.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ti(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(gO(["dark"])).map((e=>{let[n]=e;return{props:{color:n,onDelete:!0},style:{[`&.${Iz.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ti(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Iz.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ti(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(gO(["dark"])).map((e=>{let[n]=e;return{props:{color:n,clickable:!0},style:{[`&:hover, &.${Iz.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Iz.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Iz.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Iz.avatar}`]:{marginLeft:4},[`& .${Iz.avatarSmall}`]:{marginLeft:2},[`& .${Iz.icon}`]:{marginLeft:4},[`& .${Iz.iconSmall}`]:{marginLeft:2},[`& .${Iz.deleteIcon}`]:{marginRight:5},[`& .${Iz.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(gO()).map((e=>{let[n]=e;return{props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:ti(t.palette[n].main,.7)}`,[`&.${Iz.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${Iz.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:ti(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${Iz.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:ti(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}}))]}}))),Pz=ds("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${ls(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Rz(e){return"Backspace"===e.key||"Delete"===e.key}const Az=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiChip"}),{avatar:r,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:p,onDelete:f,onKeyDown:m,onKeyUp:g,size:v="medium",variant:y="filled",tabIndex:b,skipFocusWhenDisabled:w=!1,...x}=n,S=i.useRef(null),_=ED(S,t),k=e=>{e.stopPropagation(),f&&f(e)},C=!(!1===s||!p)||s,E=C||f?g$:l||"div",I={...n,component:E,disabled:u,size:v,color:a,iconColor:i.isValidElement(d)&&d.props.color||a,onDelete:!!f,clickable:C,variant:y},T=(e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=e;return Mo({root:["root",l,n&&"disabled",`size${ls(r)}`,`color${ls(i)}`,a&&"clickable",a&&`clickableColor${ls(i)}`,s&&"deletable",s&&`deletableColor${ls(i)}`,`${l}${ls(i)}`],label:["label",`label${ls(r)}`],avatar:["avatar",`avatar${ls(r)}`,`avatarColor${ls(i)}`],icon:["icon",`icon${ls(r)}`,`iconColor${ls(o)}`],deleteIcon:["deleteIcon",`deleteIcon${ls(r)}`,`deleteIconColor${ls(i)}`,`deleteIcon${ls(l)}Color${ls(i)}`]},Ez,t)})(I),P=E===g$?{component:l||"div",focusVisibleClassName:T.focusVisible,...f&&{disableRipple:!0}}:{};let R=null;f&&(R=c&&i.isValidElement(c)?i.cloneElement(c,{className:Ao(c.props.className,T.deleteIcon),onClick:k}):(0,Me.jsx)(Cz,{className:Ao(T.deleteIcon),onClick:k}));let A=null;r&&i.isValidElement(r)&&(A=i.cloneElement(r,{className:Ao(T.avatar,r.props.className)}));let N=null;return d&&i.isValidElement(d)&&(N=i.cloneElement(d,{className:Ao(T.icon,d.props.className)})),(0,Me.jsxs)(Tz,{as:E,className:Ao(T.root,o),disabled:!(!C||!u)||void 0,onClick:p,onKeyDown:e=>{e.currentTarget===e.target&&Rz(e)&&e.preventDefault(),m&&m(e)},onKeyUp:e=>{e.currentTarget===e.target&&f&&Rz(e)&&f(e),g&&g(e)},ref:_,tabIndex:w&&u?-1:b,ownerState:I,...P,...x,children:[A||N,(0,Me.jsx)(Pz,{className:Ao(T.label),ownerState:I,children:h}),R]})})),Nz=Az;function jz(e){return Do("MuiDialog",e)}const Oz=vO("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const Dz=i.createContext({}),Mz=ds(PL,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Lz=ds(VL,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Fz=ds("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${ls(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),$z=ds(xO,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${ls(n.scroll)}`],t[`paperWidth${ls(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(mO((e=>{let{theme:t}=e;return{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:e=>{let{ownerState:t}=e;return!t.maxWidth},style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Oz.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter((e=>"xs"!==e)).map((e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Oz.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}}))),{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"calc(100% - 64px)"}},{props:e=>{let{ownerState:t}=e;return t.fullScreen},style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Oz.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}}))),zz=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiDialog"}),r=lO(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:d,className:h,disableEscapeKeyDown:p=!1,fullScreen:f=!1,fullWidth:m=!1,maxWidth:g="sm",onClick:v,onClose:y,open:b,PaperComponent:w=xO,PaperProps:x={},scroll:S="paper",slots:_={},slotProps:k={},TransitionComponent:C=CL,transitionDuration:E=o,TransitionProps:I,...T}=n,P={...n,disableEscapeKeyDown:p,fullScreen:f,fullWidth:m,maxWidth:g,scroll:S},R=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e;return Mo({root:["root"],container:["container",`scroll${ls(n)}`],paper:["paper",`paperScroll${ls(n)}`,`paperWidth${ls(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]},jz,t)})(P),A=i.useRef(),N=hD(a),j=i.useMemo((()=>({titleId:N})),[N]),O={slots:{transition:C,..._},slotProps:{transition:I,paper:x,backdrop:u,...k}},[D,M]=YO("root",{elementType:Lz,shouldForwardComponentProp:!0,externalForwardedProps:O,ownerState:P,className:Ao(R.root,h),ref:t}),[L,F]=YO("backdrop",{elementType:Mz,shouldForwardComponentProp:!0,externalForwardedProps:O,ownerState:P}),[$,z]=YO("paper",{elementType:$z,shouldForwardComponentProp:!0,externalForwardedProps:O,ownerState:P,className:Ao(R.paper,x.className)}),[B,U]=YO("container",{elementType:Fz,externalForwardedProps:O,ownerState:P,className:Ao(R.container)}),[V,W]=YO("transition",{elementType:CL,externalForwardedProps:O,ownerState:P,additionalProps:{appear:!0,in:b,timeout:E,role:"presentation"}});return(0,Me.jsx)(D,{closeAfterTransition:!0,slots:{backdrop:L},slotProps:{backdrop:{transitionDuration:E,as:c,...F}},disableEscapeKeyDown:p,onClose:y,open:b,onClick:e=>{v&&v(e),A.current&&(A.current=null,y&&y(e,"backdropClick"))},...M,...T,children:(0,Me.jsx)(V,{...W,children:(0,Me.jsx)(B,{onMouseDown:e=>{A.current=e.target===e.currentTarget},...U,children:(0,Me.jsx)($,{as:w,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":N,"aria-modal":l,...z,children:(0,Me.jsx)(Dz.Provider,{value:j,children:d})})})})})})),Bz=zz;function Uz(e){return Do("MuiDialogTitle",e)}const Vz=vO("MuiDialogTitle",["root"]),Wz=ds(cD,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),qz=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiDialogTitle"}),{className:r,id:o,...s}=n,a=n,l=(e=>{const{classes:t}=e;return Mo({root:["root"]},Uz,t)})(a),{titleId:c=o}=i.useContext(Dz);return(0,Me.jsx)(Wz,{component:"h2",className:Ao(l.root,r),ownerState:a,ref:t,variant:"h6",id:o??c,...s})})),Hz=qz;function Kz(e){return Do("MuiDialogContent",e)}vO("MuiDialogContent",["root","dividers"]);const Gz=ds("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(mO((e=>{let{theme:t}=e;return{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:e=>{let{ownerState:t}=e;return t.dividers},style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:e=>{let{ownerState:t}=e;return!t.dividers},style:{[`.${Vz.root} + &`]:{paddingTop:0}}}]}}))),Qz=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiDialogContent"}),{className:r,dividers:i=!1,...o}=n,s={...n,dividers:i},a=(e=>{const{classes:t,dividers:n}=e;return Mo({root:["root",n&&"dividers"]},Kz,t)})(s);return(0,Me.jsx)(Gz,{className:Ao(a.root,r),ownerState:s,ref:t,...o})})),Yz=Qz;function Xz(e){return Do("MuiDialogActions",e)}vO("MuiDialogActions",["root","spacing"]);const Jz=ds("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Zz=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1,...o}=n,s={...n,disableSpacing:i},a=(e=>{const{classes:t,disableSpacing:n}=e;return Mo({root:["root",!n&&"spacing"]},Xz,t)})(s);return(0,Me.jsx)(Jz,{className:Ao(a.root,r),ownerState:s,ref:t,...o})})),eB=Zz;const tB=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:o,resumeHideDuration:s}=e,a=XM();i.useEffect((()=>{if(o)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"===e.key&&r?.(e,"escapeKeyDown")}}),[o,r]);const l=mD(((e,t)=>{r?.(e,t)})),c=mD((e=>{r&&null!=e&&a.start(e,(()=>{l(null,"timeout")}))}));i.useEffect((()=>(o&&c(t),a.clear)),[o,t,c,a]);const u=a.clear,d=i.useCallback((()=>{null!=t&&c(null!=s?s:.5*t)}),[t,s,c]),h=e=>t=>{const n=e.onFocus;n?.(t),u()},p=e=>t=>{const n=e.onMouseEnter;n?.(t),u()},f=e=>t=>{const n=e.onMouseLeave;n?.(t),d()};return i.useEffect((()=>{if(!n&&o)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}}),[n,o,d,u]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={...KO(e),...KO(t)};return{role:"presentation",...t,...n,onBlur:(r=n,e=>{const t=r.onBlur;t?.(e),d()}),onFocus:h(n),onMouseEnter:p(n),onMouseLeave:f(n)};var r},onClickAway:e=>{r?.(e,"clickaway")}}};function nB(e){return e.substring(2).toLowerCase()}function rB(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:s="onTouchEnd"}=e,a=i.useRef(!1),l=i.useRef(null),c=i.useRef(!1),u=i.useRef(!1);i.useEffect((()=>(setTimeout((()=>{c.current=!0}),0),()=>{c.current=!1})),[]);const d=VO(PM(t),l),h=mD((e=>{const t=u.current;u.current=!1;const r=pD(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(a.current)return void(a.current=!1);let i;i=e.composedPath?e.composedPath().includes(l.current):!r.documentElement.contains(e.target)||l.current.contains(e.target),i||!n&&t||o(e)})),p=e=>n=>{u.current=!0;const r=t.props[e];r&&r(n)},f={ref:d};return!1!==s&&(f[s]=p(s)),i.useEffect((()=>{if(!1!==s){const e=nB(s),t=pD(l.current),n=()=>{a.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}}),[h,s]),!1!==r&&(f[r]=p(r)),i.useEffect((()=>{if(!1!==r){const e=nB(r),t=pD(l.current);return t.addEventListener(e,h),()=>{t.removeEventListener(e,h)}}}),[h,r]),i.cloneElement(t,f)}function iB(e){return Do("MuiSnackbarContent",e)}vO("MuiSnackbarContent",["root","message","action"]);const oB=ds(xO,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(mO((e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98,r=ai(t.palette.background.default,n);return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}}))),sB=ds("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),aB=ds("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),lB=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiSnackbarContent"}),{action:r,className:i,message:o,role:s="alert",...a}=n,l=n,c=(e=>{const{classes:t}=e;return Mo({root:["root"],action:["action"],message:["message"]},iB,t)})(l);return(0,Me.jsxs)(oB,{role:s,square:!0,elevation:6,className:Ao(c.root,i),ownerState:l,ref:t,...a,children:[(0,Me.jsx)(sB,{className:c.message,ownerState:l,children:o}),r?(0,Me.jsx)(aB,{className:c.action,ownerState:l,children:r}):null]})})),cB=lB;function uB(e){return Do("MuiSnackbar",e)}vO("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const dB=ds("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${ls(n.anchorOrigin.vertical)}${ls(n.anchorOrigin.horizontal)}`]]}})(mO((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical},style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:e=>{let{ownerState:t}=e;return"top"!==t.anchorOrigin.vertical},style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:e=>{let{ownerState:t}=e;return"left"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:e=>{let{ownerState:t}=e;return"center"===t.anchorOrigin.horizontal},style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}}))),hB=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiSnackbar"}),r=lO(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:h,ContentProps:p,disableWindowBlurListener:f=!1,message:m,onBlur:g,onClose:v,onFocus:y,onMouseEnter:b,onMouseLeave:w,open:x,resumeHideDuration:S,slots:_={},slotProps:k={},TransitionComponent:C,transitionDuration:E=o,TransitionProps:{onEnter:I,onExited:T,...P}={},...R}=n,A={...n,anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:f,TransitionComponent:C,transitionDuration:E},N=(e=>{const{classes:t,anchorOrigin:n}=e;return Mo({root:["root",`anchorOrigin${ls(n.vertical)}${ls(n.horizontal)}`]},uB,t)})(A),{getRootProps:j,onClickAway:O}=tB({...A}),[D,M]=i.useState(!0),L={slots:{transition:C,..._},slotProps:{content:p,clickAwayListener:h,transition:P,...k}},[F,$]=YO("root",{ref:t,className:[N.root,d],elementType:dB,getSlotProps:j,externalForwardedProps:{...L,...R},ownerState:A}),[z,{ownerState:B,...U}]=YO("clickAwayListener",{elementType:rB,externalForwardedProps:L,getSlotProps:e=>({onClickAway:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.onClickAway?.(...n),O(...n)}}),ownerState:A}),[V,W]=YO("content",{elementType:cB,shouldForwardComponentProp:!0,externalForwardedProps:L,additionalProps:{message:m,action:s},ownerState:A}),[q,H]=YO("transition",{elementType:vL,externalForwardedProps:L,getSlotProps:e=>({onEnter:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.onEnter?.(...n),((e,t)=>{M(!1),I&&I(e,t)})(...n)},onExited:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.onExited?.(...n),(e=>{M(!0),T&&T(e)})(...n)}}),additionalProps:{appear:!0,in:x,timeout:E,direction:"top"===a?"down":"up"},ownerState:A});return!x&&D?null:(0,Me.jsx)(z,{...U,..._.clickAwayListener&&{ownerState:B},children:(0,Me.jsx)(F,{...$,children:(0,Me.jsx)(q,{...H,children:u||(0,Me.jsx)(V,{...W})})})})})),pB=hB;function fB(e){return Do("MuiAlert",e)}const mB=vO("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),gB=$O((0,Me.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),vB=$O((0,Me.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),yB=$O((0,Me.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),bB=$O((0,Me.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),wB=$O((0,Me.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),xB=ds(xO,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ls(n.color||n.severity)}`]]}})(mO((e=>{let{theme:t}=e;const n="light"===t.palette.mode?ri:oi,r="light"===t.palette.mode?oi:ri;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(gO(["light"])).map((e=>{let[i]=e;return{props:{colorSeverity:i,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${mB.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}}}})),...Object.entries(t.palette).filter(gO(["light"])).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:n(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${mB.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter(gO(["dark"])).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}}}}))]}}))),SB=ds("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),_B=ds("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),kB=ds("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),CB={success:(0,Me.jsx)(gB,{fontSize:"inherit"}),warning:(0,Me.jsx)(vB,{fontSize:"inherit"}),error:(0,Me.jsx)(yB,{fontSize:"inherit"}),info:(0,Me.jsx)(bB,{fontSize:"inherit"})},EB=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiAlert"}),{action:r,children:i,className:o,closeText:s="Close",color:a,components:l={},componentsProps:c={},icon:u,iconMapping:d=CB,onClose:h,role:p="alert",severity:f="success",slotProps:m={},slots:g={},variant:v="standard",...y}=n,b={...n,color:a,severity:f,variant:v,colorSeverity:a||f},w=(e=>{const{variant:t,color:n,severity:r,classes:i}=e;return Mo({root:["root",`color${ls(n||r)}`,`${t}${ls(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]},fB,i)})(b),x={slots:{closeButton:l.CloseButton,closeIcon:l.CloseIcon,...g},slotProps:{...c,...m}},[S,_]=YO("root",{ref:t,shouldForwardComponentProp:!0,className:Ao(w.root,o),elementType:xB,externalForwardedProps:{...x,...y},ownerState:b,additionalProps:{role:p,elevation:0}}),[k,C]=YO("icon",{className:w.icon,elementType:SB,externalForwardedProps:x,ownerState:b}),[E,I]=YO("message",{className:w.message,elementType:_B,externalForwardedProps:x,ownerState:b}),[T,P]=YO("action",{className:w.action,elementType:kB,externalForwardedProps:x,ownerState:b}),[R,A]=YO("closeButton",{elementType:j$,externalForwardedProps:x,ownerState:b}),[N,j]=YO("closeIcon",{elementType:wB,externalForwardedProps:x,ownerState:b});return(0,Me.jsxs)(S,{..._,children:[!1!==u?(0,Me.jsx)(k,{...C,children:u||d[f]||CB[f]}):null,(0,Me.jsx)(E,{...I,children:i}),null!=r?(0,Me.jsx)(T,{...P,children:r}):null,null==r&&h?(0,Me.jsx)(T,{...P,children:(0,Me.jsx)(R,{size:"small","aria-label":s,title:s,color:"inherit",onClick:h,...A,children:(0,Me.jsx)(N,{fontSize:"small",...j})})}):null]})})),IB=EB;function TB(e){return Do("MuiCard",e)}vO("MuiCard",["root"]);const PB=ds(xO,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),RB=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiCard"}),{className:r,raised:i=!1,...o}=n,s={...n,raised:i},a=(e=>{const{classes:t}=e;return Mo({root:["root"]},TB,t)})(s);return(0,Me.jsx)(PB,{className:Ao(a.root,r),elevation:i?8:void 0,ref:t,ownerState:s,...o})})),AB=RB;function NB(e){return Do("MuiCardContent",e)}vO("MuiCardContent",["root"]);const jB=ds("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),OB=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiCardContent"}),{className:r,component:i="div",...o}=n,s={...n,component:i},a=(e=>{const{classes:t}=e;return Mo({root:["root"]},NB,t)})(s);return(0,Me.jsx)(jB,{as:i,className:Ao(a.root,r),ownerState:s,ref:t,...o})})),DB=OB;function MB(e){return Do("MuiCardMedia",e)}vO("MuiCardMedia",["root","media","img"]);const LB=ds("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:i}=n;return[t.root,r&&t.media,i&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),FB=["video","audio","picture","iframe","img"],$B=["picture","img"],zB=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiCardMedia"}),{children:r,className:i,component:o="div",image:s,src:a,style:l,...c}=n,u=FB.includes(o),d=!u&&s?{backgroundImage:`url("${s}")`,...l}:l,h={...n,component:o,isMediaComponent:u,isImageComponent:$B.includes(o)},p=(e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e;return Mo({root:["root",n&&"media",r&&"img"]},MB,t)})(h);return(0,Me.jsx)(LB,{className:Ao(p.root,i),as:o,role:!u&&s?"img":void 0,ref:t,style:d,ownerState:h,src:u?s||a:void 0,...c,children:r})})),BB=zB;function UB(e){return Do("MuiCollapse",e)}vO("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const VB=ds("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})(mO((e=>{let{theme:t}=e;return{height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"exited"===t.state&&!t.in&&"0px"===t.collapsedSize},style:{visibility:"hidden"}}]}}))),WB=ds("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),qB=ds("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),HB=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiCollapse"}),{addEndListener:r,children:o,className:s,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:h,onEntering:p,onExit:f,onExited:m,onExiting:g,orientation:v="vertical",style:y,timeout:b=zi.standard,TransitionComponent:w=uL,...x}=n,S={...n,orientation:v,collapsedSize:a},_=(e=>{const{orientation:t,classes:n}=e;return Mo({root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]},UB,n)})(S),k=lO(),C=XM(),E=i.useRef(null),I=i.useRef(),T="number"===typeof a?`${a}px`:a,P="horizontal"===v,R=P?"width":"height",A=i.useRef(null),N=ED(t,A),j=e=>t=>{if(e){const n=A.current;void 0===t?e(n):e(n,t)}},O=()=>E.current?E.current[P?"clientWidth":"clientHeight"]:0,D=j(((e,t)=>{E.current&&P&&(E.current.style.position="absolute"),e.style[R]=T,d&&d(e,t)})),M=j(((e,t)=>{const n=O();E.current&&P&&(E.current.style.position="");const{duration:r,easing:i}=hL({style:y,timeout:b,easing:c},{mode:"enter"});if("auto"===b){const t=k.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,I.current=t}else e.style.transitionDuration="string"===typeof r?r:`${r}ms`;e.style[R]=`${n}px`,e.style.transitionTimingFunction=i,p&&p(e,t)})),L=j(((e,t)=>{e.style[R]="auto",h&&h(e,t)})),F=j((e=>{e.style[R]=`${O()}px`,f&&f(e)})),$=j(m),z=j((e=>{const t=O(),{duration:n,easing:r}=hL({style:y,timeout:b,easing:c},{mode:"exit"});if("auto"===b){const n=k.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,I.current=n}else e.style.transitionDuration="string"===typeof n?n:`${n}ms`;e.style[R]=T,e.style.transitionTimingFunction=r,g&&g(e)}));return(0,Me.jsx)(w,{in:u,onEnter:D,onEntered:L,onEntering:M,onExit:F,onExited:$,onExiting:z,addEndListener:e=>{"auto"===b&&C.start(I.current||0,e),r&&r(A.current,e)},nodeRef:A,timeout:"auto"===b?null:b,...x,children:(e,t)=>{let{ownerState:n,...r}=t;return(0,Me.jsx)(VB,{as:l,className:Ao(_.root,s,{entered:_.entered,exited:!u&&"0px"===T&&_.hidden}[e]),style:{[P?"minWidth":"minHeight"]:T,...y},ref:N,ownerState:{...S,state:e},...r,children:(0,Me.jsx)(WB,{ownerState:{...S,state:e},className:_.wrapper,ref:E,children:(0,Me.jsx)(qB,{ownerState:{...S,state:e},className:_.wrapperInner,children:o})})})}})}));HB&&(HB.muiSupportAuto=!0);const KB=HB,GB=$O((0,Me.jsx)("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2z"})),QB=$O((0,Me.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),YB=$O((0,Me.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})),XB=$O((0,Me.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"})),JB=$O((0,Me.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"})),ZB=$O((0,Me.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),eU=$O((0,Me.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),tU=$O((0,Me.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),nU=$O((0,Me.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}));var rU={};function iU(){return rU}function oU(e){return oU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oU(e)}function sU(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function aU(e){sU(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===oU(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function lU(e,t){sU(2,arguments);var n=aU(e),r=aU(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function cU(e){sU(1,arguments);var t=aU(e);return function(e){sU(1,arguments);var t=aU(e);return t.setHours(23,59,59,999),t}(t).getTime()===function(e){sU(1,arguments);var t=aU(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(t).getTime()}function uU(e,t){sU(2,arguments);var n,r=aU(e),i=aU(t),o=lU(r,i),s=Math.abs(function(e,t){sU(2,arguments);var n=aU(e),r=aU(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,i));if(s<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*s);var a=lU(r,i)===-o;cU(aU(e))&&1===s&&1===lU(e,i)&&(a=!1),n=o*(s-Number(a))}return 0===n?0:n}var dU={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function hU(e,t,n){sU(2,arguments);var r,i=function(e,t){return sU(2,arguments),aU(e).getTime()-aU(t).getTime()}(e,t)/1e3;return((r=null===n||void 0===n?void 0:n.roundingMethod)?dU[r]:dU.trunc)(i)}var pU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const fU=function(e,t,n){var r,i=pU[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function mU(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var gU={date:mU({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:mU({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:mU({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var vU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const yU=function(e,t,n,r){return vU[e]};function bU(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function wU(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(a)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}var xU;const SU={code:"en-US",formatDistance:fU,formatLong:gU,formatRelative:yU,localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:bU({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:bU({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:bU({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:bU({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:bU({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(xU={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(xU.matchPattern);if(!n)return null;var r=n[0],i=e.match(xU.parsePattern);if(!i)return null;var o=xU.valueCallback?xU.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:wU({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:wU({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:wU({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:wU({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:wU({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function _U(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function kU(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var CU=43200;function EU(e,t,n){var r,i;sU(2,arguments);var o=iU(),s=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:o.locale)&&void 0!==r?r:SU;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=lU(e,t);if(isNaN(a))throw new RangeError("Invalid time value");var l,c,u=_U(_U({},n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:a});a>0?(l=aU(t),c=aU(e)):(l=aU(e),c=aU(t));var d,h=hU(c,l),p=(kU(c)-kU(l))/1e3,f=Math.round((h-p)/60);if(f<2)return null!==n&&void 0!==n&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,u):h<10?s.formatDistance("lessThanXSeconds",10,u):h<20?s.formatDistance("lessThanXSeconds",20,u):h<40?s.formatDistance("halfAMinute",0,u):h<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):0===f?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",f,u);if(f<45)return s.formatDistance("xMinutes",f,u);if(f<90)return s.formatDistance("aboutXHours",1,u);if(f<1440){var m=Math.round(f/60);return s.formatDistance("aboutXHours",m,u)}if(f<2520)return s.formatDistance("xDays",1,u);if(f<CU){var g=Math.round(f/1440);return s.formatDistance("xDays",g,u)}if(f<86400)return d=Math.round(f/CU),s.formatDistance("aboutXMonths",d,u);if((d=uU(c,l))<12){var v=Math.round(f/CU);return s.formatDistance("xMonths",v,u)}var y=d%12,b=Math.floor(d/12);return y<3?s.formatDistance("aboutXYears",b,u):y<9?s.formatDistance("overXYears",b,u):s.formatDistance("almostXYears",b+1,u)}function IU(e,t){return sU(1,arguments),EU(e,Date.now(),t)}const TU=e=>e?e instanceof Date?e:e.toDate?e.toDate():"number"===typeof e||"string"===typeof e?new Date(e):new Date:new Date,PU=e=>{try{const t=TU(e);return isNaN(t.getTime())?(console.error("Invalid date:",e),"Just now"):IU(t,{addSuffix:!0})}catch(PI){return console.error("Error formatting date:",PI),"Just now"}},RU=(e,t)=>{try{const n=TU(e),r=TU(t);return n.getTime()===r.getTime()}catch(PI){return console.error("Error comparing timestamps:",PI),!1}},AU=e=>{let{id:t,authorId:n,authorName:r,authorAvatar:o,content:s,imageUrl:a,timestamp:l,likes:c,likedBy:u,comments:d,isOwnPost:h,onDelete:p,onEdit:f,onLike:m,onComment:g,onShare:v,originalPostId:y,originalAuthor:b,tags:w}=e;const[x,S]=(0,i.useState)(!1),[_,k]=(0,i.useState)(!1),[C,E]=(0,i.useState)(!1),[I,T]=(0,i.useState)(s),[P,R]=(0,i.useState)(!1),[A,N]=(0,i.useState)(""),[j,O]=(0,i.useState)(!1),[D,M]=(0,i.useState)(!1),[L,F]=(0,i.useState)(!1),[$,z]=(0,i.useState)(!1),[B,U]=(0,i.useState)(null),[V,W]=(0,i.useState)(""),[q,H]=(0,i.useState)(d),[K,G]=(0,i.useState)(null),[Q,Y]=(0,i.useState)(""),[X,J]=(0,i.useState)(!1),Z=ne(),{currentUser:ee}=$N(),te=e=>{Z(`/profile/${e}`)};return(0,Me.jsx)(AB,{sx:{mb:3,borderRadius:2},children:(0,Me.jsxs)(DB,{children:[y&&b&&(0,Me.jsxs)(OO,{sx:{display:"flex",alignItems:"center",mb:1,color:"text.secondary"},children:[(0,Me.jsx)(GB,{sx:{fontSize:16,mr:1}}),(0,Me.jsxs)(cD,{variant:"caption",children:[b.name," reposted"]})]}),(0,Me.jsxs)(OO,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,Me.jsxs)(OO,{sx:{display:"flex",alignItems:"center"},children:[(0,Me.jsx)(tD,{src:o,alt:r,sx:{mr:2,cursor:"pointer"},onClick:()=>te(n),children:r?r.charAt(0):"A"}),(0,Me.jsxs)(OO,{children:[(0,Me.jsx)(cD,{variant:"subtitle1",fontWeight:"bold",onClick:()=>te(n),sx:{cursor:"pointer"},children:r||"Anonymous"}),(0,Me.jsx)(cD,{variant:"caption",color:"text.secondary",children:PU(l)})]})]}),h&&(0,Me.jsx)(j$,{onClick:async()=>{if(ee&&!_){k(!0);try{await p(t)}catch(PI){console.error("Error deleting post:",PI)}finally{k(!1)}}},disabled:_,"aria-label":"Delete post",children:_?(0,Me.jsx)(I$,{size:24}):(0,Me.jsx)(QB,{})})]}),(0,Me.jsx)(cD,{variant:"body1",sx:{mb:2},children:s}),w&&w.length>0&&(0,Me.jsx)(OO,{sx:{mb:2,display:"flex",flexWrap:"wrap",gap:1},children:w.map((e=>(0,Me.jsx)(Nz,{label:`#${e}`,size:"small",sx:{borderRadius:1}},e)))}),a&&(0,Me.jsx)(BB,{component:"img",image:a,alt:"Post image",sx:{borderRadius:1,mb:2}}),(0,Me.jsxs)(OO,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Me.jsxs)(OO,{sx:{display:"flex",alignItems:"center"},children:[(0,Me.jsx)(j$,{onClick:async()=>{if(ee&&!x){S(!0);try{m&&await m(t)}catch(PI){console.error("Error updating like:",PI)}finally{S(!1)}}},color:null!==u&&void 0!==u&&u.includes((null===ee||void 0===ee?void 0:ee.uid)||"")?"primary":"default",disabled:_||j,"aria-label":null!==u&&void 0!==u&&u.includes((null===ee||void 0===ee?void 0:ee.uid)||"")?"Unlike post":"Like post",children:x?(0,Me.jsx)(I$,{size:24}):null!==u&&void 0!==u&&u.includes((null===ee||void 0===ee?void 0:ee.uid)||"")?(0,Me.jsx)(YB,{}):(0,Me.jsx)(XB,{})}),(0,Me.jsx)(cD,{variant:"body2",color:"text.secondary",children:c})]}),(0,Me.jsxs)(OO,{sx:{display:"flex",alignItems:"center"},children:[(0,Me.jsx)(j$,{onClick:()=>R(!P),disabled:_||j,"aria-label":"Toggle comments",children:(0,Me.jsx)(JB,{})}),(0,Me.jsx)(cD,{variant:"body2",color:"text.secondary",children:(null===q||void 0===q?void 0:q.length)||0})]}),(0,Me.jsx)(j$,{onClick:async()=>{if(ee&&!j)try{v&&await v(t)}catch(PI){console.error("Error sharing post:",PI)}},disabled:_||j,"aria-label":"Share post",children:(0,Me.jsx)(ZB,{})})]}),q&&q.length>0&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(hz,{sx:{my:2}}),(0,Me.jsxs)(OO,{children:[(0,Me.jsxs)(OO,{sx:{display:"flex",alignItems:"center",cursor:"pointer",color:"text.secondary",mb:1},onClick:()=>R(!P),children:[(0,Me.jsx)(cD,{variant:"caption",children:P?"Hide comments":`Show ${q.length} comments`}),P?(0,Me.jsx)(eU,{}):(0,Me.jsx)(tU,{})]}),(0,Me.jsx)(KB,{in:P,timeout:"auto",unmountOnExit:!0,children:(0,Me.jsx)(MM,{children:q.map(((e,n)=>{var r;return(0,Me.jsxs)(OO,{sx:{display:"flex",alignItems:"flex-start",mb:1},children:[(0,Me.jsx)(tD,{src:e.authorAvatar,alt:e.authorName,sx:{width:24,height:24,mr:1}}),(0,Me.jsxs)(OO,{children:[(0,Me.jsxs)(OO,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Me.jsx)(cD,{variant:"subtitle2",children:e.authorName}),(0,Me.jsx)(cD,{variant:"caption",color:"text.secondary",children:PU(e.timestamp)})]}),B===`${e.authorId}_${TU(e.timestamp).getTime()}`?(0,Me.jsxs)(OO,{sx:{mt:1},children:[(0,Me.jsx)($F,{fullWidth:!0,multiline:!0,size:"small",value:V,onChange:e=>W(e.target.value),disabled:$}),(0,Me.jsxs)(OO,{sx:{mt:1,display:"flex",gap:1},children:[(0,Me.jsx)(q$,{size:"small",variant:"contained",onClick:()=>(async e=>{if(ee&&!$&&V.trim()){z(!0);try{const n=pw(DN,"posts",t),r=await kx(n);if(!r.exists())return;const i=r.data(),o=i.comments.findIndex((t=>RU(t.timestamp,e.timestamp)&&t.authorId===e.authorId));if(-1===o)return;const s=[...i.comments];s[o]={...s[o],content:V.trim(),isEdited:!0,lastEdited:new Date},await Tx(n,{comments:s}),H(s),U(null),W("")}catch(PI){console.error("Error editing comment:",PI)}finally{z(!1)}}})(e),disabled:$||!V.trim(),children:"Save"}),(0,Me.jsx)(q$,{size:"small",onClick:()=>{U(null),W("")},disabled:$,children:"Cancel"})]})]}):(0,Me.jsx)(cD,{variant:"body2",children:e.content}),(0,Me.jsxs)(OO,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:[(0,Me.jsx)(j$,{size:"small",onClick:()=>(async e=>{if(ee&&!D){M(!0);try{var n;const i=pw(DN,"posts",t),o=await kx(i);if(!o.exists())return;const s=o.data(),a=s.comments.findIndex((t=>RU(t.timestamp,e.timestamp)&&t.authorId===e.authorId));if(-1===a)return;const l=(null===(n=e.likedBy)||void 0===n?void 0:n.includes(ee.uid))||!1,c=[...s.comments];var r;c[a]=l?{...c[a],likes:(c[a].likes||0)-1,likedBy:(null===(r=c[a].likedBy)||void 0===r?void 0:r.filter((e=>e!==ee.uid)))||[]}:{...c[a],likes:(c[a].likes||0)+1,likedBy:[...c[a].likedBy||[],ee.uid]},await Tx(i,{comments:c}),H(c)}catch(PI){console.error("Error updating comment like:",PI)}finally{M(!1)}}})(e),disabled:D,children:D?(0,Me.jsx)(I$,{size:20}):null!==(r=e.likedBy)&&void 0!==r&&r.includes((null===ee||void 0===ee?void 0:ee.uid)||"")?(0,Me.jsx)(YB,{fontSize:"small",color:"error"}):(0,Me.jsx)(XB,{fontSize:"small"})}),(0,Me.jsx)(cD,{variant:"caption",children:e.likes||0}),((null===ee||void 0===ee?void 0:ee.uid)===e.authorId||h)&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(j$,{size:"small",onClick:()=>{U(`${e.authorId}_${TU(e.timestamp).getTime()}`),W(e.content)},disabled:$||L,children:(0,Me.jsx)(nU,{fontSize:"small"})}),(0,Me.jsx)(j$,{size:"small",onClick:()=>(async e=>{if(ee&&!L){F(!0);try{const n=pw(DN,"posts",t),r=await kx(n);if(!r.exists())return;const i=r.data().comments.filter((t=>!(RU(t.timestamp,e.timestamp)&&t.authorId===e.authorId)));await Tx(n,{comments:i}),H(i)}catch(PI){console.error("Error deleting comment:",PI)}finally{F(!1)}}})(e),disabled:L||$,children:L?(0,Me.jsx)(I$,{size:20}):(0,Me.jsx)(QB,{fontSize:"small"})})]})]})]})]},n)}))})})]})]}),ee&&(0,Me.jsxs)(OO,{sx:{mt:2},children:[(0,Me.jsx)($F,{fullWidth:!0,multiline:!0,placeholder:"Write a comment...",size:"small",value:A,onChange:e=>N(e.target.value),disabled:j}),(0,Me.jsx)(OO,{sx:{mt:1,display:"flex",justifyContent:"flex-end"},children:(0,Me.jsx)(q$,{variant:"contained",onClick:async()=>{if(ee&&A.trim()&&!j){O(!0);try{g&&(await g(t,A.trim()),N(""))}catch(PI){console.error("Error adding comment:",PI)}finally{O(!1)}}},disabled:j||!A.trim(),children:j?"Posting...":"Post"})})]})]})})},NU=$O([(0,Me.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,Me.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),jU=$O((0,Me.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M8.5 8c.83 0 1.5.67 1.5 1.5S9.33 11 8.5 11 7 10.33 7 9.5 7.67 8 8.5 8M12 18c-2.28 0-4.22-1.66-5-4h10c-.78 2.34-2.72 4-5 4m3.5-7c-.83 0-1.5-.67-1.5-1.5S14.67 8 15.5 8s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),OU=["\ud83d\ude00","\ud83d\ude03","\ud83d\ude04","\ud83d\ude01","\ud83d\ude06","\ud83d\ude05","\ud83d\ude02","\ud83e\udd23","\ud83d\ude0a","\ud83d\ude07","\ud83d\ude42","\ud83d\ude43","\ud83d\ude09","\ud83d\ude0c","\ud83d\ude0d","\ud83e\udd70","\ud83d\ude18","\ud83d\ude17","\ud83d\ude19","\ud83d\ude1a","\ud83d\ude0b","\ud83d\ude1b","\ud83d\ude1d","\ud83d\ude1c","\ud83e\udd2a","\ud83e\udd28","\ud83e\uddd0","\ud83e\udd13","\ud83d\ude0e","\ud83e\udd29","\ud83e\udd73","\ud83d\ude0f","\ud83d\ude12","\ud83d\ude1e","\ud83d\ude14","\ud83d\ude1f","\ud83d\ude15","\ud83d\ude41","\u2639\ufe0f","\ud83d\ude23"],DU=e=>{var t;let{onSubmit:n,user:r}=e;const[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null),v=(0,i.useRef)(null);return(0,Me.jsx)(AB,{sx:{mb:2,borderRadius:2},children:(0,Me.jsxs)(DB,{children:[(0,Me.jsxs)(OO,{sx:{display:"flex",gap:2},children:[(0,Me.jsx)(tD,{src:null===r||void 0===r?void 0:r.avatar,alt:(null===r||void 0===r?void 0:r.name)||"User",sx:{width:40,height:40},children:(null===r||void 0===r||null===(t=r.name)||void 0===t?void 0:t.charAt(0))||"U"}),(0,Me.jsx)(OO,{sx:{flex:1},children:(0,Me.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o.trim()||a)try{await n(o,a||void 0),s(""),l(null),u(null)}catch(m){console.error("Error submitting post:",m)}},style:{flex:1},children:[(0,Me.jsx)($F,{fullWidth:!0,multiline:!0,rows:3,placeholder:"What's on your mind?",value:o,onChange:e=>s(e.target.value),variant:"outlined",sx:{mb:2}}),c&&(0,Me.jsxs)(OO,{sx:{position:"relative",mb:2},children:[(0,Me.jsx)("img",{src:c,alt:"Preview",style:{maxWidth:"100%",maxHeight:"400px",borderRadius:"8px",objectFit:"contain"}}),(0,Me.jsx)(j$,{onClick:()=>{l(null),u(null),v.current&&(v.current.value="")},sx:{position:"absolute",top:8,right:8,backgroundColor:"rgba(0,0,0,0.5)","&:hover":{backgroundColor:"rgba(0,0,0,0.7)"}},children:(0,Me.jsx)(QB,{sx:{color:"white"}})})]}),(0,Me.jsxs)(OO,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Me.jsxs)(OO,{children:[(0,Me.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];if(t.size>5242880)return void g("Image size should be less than 5MB");l(t),u(URL.createObjectURL(t))}},style:{display:"none"},ref:v}),(0,Me.jsx)(j$,{onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.click()},children:(0,Me.jsx)(NU,{})}),(0,Me.jsx)(j$,{onClick:e=>{h(e.currentTarget)},children:(0,Me.jsx)(jU,{})})]}),(0,Me.jsx)(q$,{variant:"contained",type:"submit",disabled:!o.trim()&&!a||p,children:p?(0,Me.jsx)(I$,{size:24}):"Post"})]})]})})]}),m&&(0,Me.jsx)(IB,{severity:"error",sx:{mt:2},children:m}),(0,Me.jsx)(ZL,{open:Boolean(d),anchorEl:d,onClose:()=>{h(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,Me.jsx)(OO,{sx:{p:2,maxWidth:300},children:(0,Me.jsx)(OO,{sx:{display:"grid",gridTemplateColumns:"repeat(8, 1fr)",gap:1},children:OU.map(((e,t)=>(0,Me.jsx)(j$,{onClick:()=>(e=>{s((t=>t+e)),h(null)})(e),sx:{fontSize:"1.5rem"},children:e},t)))})})})]})})},MU=$O((0,Me.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),LU=()=>{const{currentUser:e}=$N(),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!1),[s,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)([]),[h,p]=(0,i.useState)(null),f=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(!e)return;(async()=>{try{const t=await kx(pw(DN,"users",e.uid));t.exists()&&p(t.data())}catch(PI){console.error("Error fetching user profile:",PI)}})()}),[e]);return(0,Me.jsxs)(OO,{sx:{display:"flex",gap:2,overflowX:"auto",py:2,px:1},children:[(0,Me.jsxs)(OO,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Me.jsx)(j$,{onClick:()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.click()},sx:{width:64,height:64,border:"2px dashed #ccc","&:hover":{borderColor:"primary.main"}},children:(0,Me.jsx)(MU,{})}),(0,Me.jsx)(cD,{variant:"caption",sx:{mt:1},children:"Create Story"}),(0,Me.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];a(t),c(URL.createObjectURL(t)),o(!0)}},style:{display:"none"},ref:f})]}),t.map((e=>(0,Me.jsxs)(OO,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Me.jsx)(tD,{src:e.author.avatar,sx:{width:64,height:64,border:"2px solid #1976d2"}}),(0,Me.jsx)(cD,{variant:"caption",sx:{mt:1},children:e.author.name})]},e.id))),(0,Me.jsxs)(Bz,{open:r,onClose:()=>o(!1),maxWidth:"md",fullWidth:!0,children:[(0,Me.jsx)(Hz,{children:"Create Story"}),(0,Me.jsxs)(Yz,{children:[l&&(0,Me.jsxs)(OO,{sx:{position:"relative",mb:2},children:[(0,Me.jsx)("img",{src:l,alt:"Preview",style:{width:"100%",borderRadius:"8px"}}),u.map(((e,t)=>(0,Me.jsx)("img",{src:e.url,alt:e.name,style:{position:"absolute",width:"50px",height:"50px",top:50*Math.random()+"%",left:50*Math.random()+"%"}},t)))]}),(0,Me.jsx)(cD,{variant:"h6",sx:{mb:2},children:"Add Stickers"}),(0,Me.jsx)(OO,{sx:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:2},children:[{id:"1",url:"/stickers/heart.png",name:"Heart",isCustom:!1},{id:"2",url:"/stickers/star.png",name:"Star",isCustom:!1},{id:"3",url:"/stickers/fire.png",name:"Fire",isCustom:!1},{id:"4",url:"/stickers/cool.png",name:"Cool",isCustom:!1}].map((e=>(0,Me.jsxs)(OO,{onClick:()=>(e=>{d((t=>[...t,e]))})(e),sx:{cursor:"pointer",p:1,border:"1px solid #ccc",borderRadius:1,"&:hover":{borderColor:"primary.main"}},children:[(0,Me.jsx)("img",{src:e.url,alt:e.name,style:{width:"100%",height:"auto"}}),(0,Me.jsx)(cD,{variant:"caption",display:"block",textAlign:"center",children:e.name})]},e.id)))})]}),(0,Me.jsxs)(eB,{children:[(0,Me.jsx)(q$,{onClick:()=>o(!1),children:"Cancel"}),(0,Me.jsx)(q$,{onClick:async()=>{if(s&&e)try{var t;const n=c_(MN,`stories/${Date.now()}_${s.name}`);await a_(n,s);const r={imageUrl:await l_(n),author:{name:e.displayName||"Anonymous",avatar:(null===h||void 0===h?void 0:h.profilePic)||e.photoURL||"",username:(null===(t=e.email)||void 0===t?void 0:t.split("@")[0])||"anonymous"},timestamp:zx(),stickers:u};await Rx(hw(DN,"stories"),r),o(!1),a(null),c(null),d([])}catch(PI){console.error("Error creating story:",PI)}},variant:"contained",children:"Create Story"})]})]})]})},FU=$O((0,Me.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),$U=()=>{var e;const{currentUser:t}=$N(),[n,r]=(0,i.useState)([]),[o,s]=(0,i.useState)([]),[a,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(null),[p,f]=(0,i.useState)(""),[m,g]=(0,i.useState)(null),[v,y]=(0,i.useState)(""),[b,w]=(0,i.useState)(null),[x,S]=(0,i.useState)(null),[_,k]=(0,i.useState)(!1),[C,E]=(0,i.useState)(null),[I,T]=(0,i.useState)(null),[P,R]=(0,i.useState)(null),[A,N]=(0,i.useState)(!1),[j,O]=(ne(),(0,i.useState)(!1));(0,i.useEffect)((()=>{const e=PC(ON,(async e=>{if(e){console.log("Auth state changed - User logged in:",e);const n=await kx(pw(DN,"users",e.uid));if(n.exists()){const e=n.data();console.log("User profile loaded:",e),g(e)}else{var t;const n={uid:e.uid,email:e.email||"",name:e.displayName||"",username:(null===(t=e.displayName)||void 0===t?void 0:t.toLowerCase().replace(/\s+/g,""))||"",avatar:e.photoURL||"",profilePic:e.photoURL||"",bio:"",isVerified:!1,followers:[],following:0,posts:0,createdAt:new Date};await Ix(pw(DN,"users",e.uid),n),console.log("Created new user profile:",n),g(n)}}else console.log("Auth state changed - No user"),g(null)}));return()=>e()}),[]);const D=(0,i.useCallback)((()=>{if(!t)return()=>{};const e=Ax(pw(DN,"users",t.uid),(e=>{if(e.exists()){const t=e.data();console.log("User profile updated:",t),g(t)}})),n=Ax(ox(hw(DN,"posts"),ux("timestamp","desc")),(async e=>{const t=await Promise.all(e.docs.map((async e=>{var t;const n=e.data(),r=pw(DN,"users",n.authorId),i=await kx(r),o=i.exists()?i.data():null;return{id:e.id,content:n.content||"",authorId:n.authorId||"",authorName:(null===o||void 0===o?void 0:o.name)||"Anonymous",authorAvatar:(null===o||void 0===o?void 0:o.profilePic)||"",username:(null===o||void 0===o?void 0:o.username)||"anonymous",timestamp:(null===(t=n.timestamp)||void 0===t?void 0:t.toDate())||new Date,likes:n.likes||[],likedBy:n.likedBy||[],comments:(n.comments||[]).map((e=>{var t;return{...e,timestamp:(null===(t=e.timestamp)||void 0===t?void 0:t.toDate())||new Date}})),commentCount:n.commentCount||0,imageUrl:n.imageUrl||"",userId:n.userId||"",tags:n.tags||[],isPrivate:n.isPrivate||!1,isPinned:n.isPinned||!1,isEdited:n.isEdited||!1,reposts:n.reposts||0,views:n.views||0,isArchived:n.isArchived||!1}})));r(t),l(!1)})),i=Ax(ox(hw(DN,"trending"),ux("count","desc"),hx(5)),(async e=>{const t=await Promise.all(e.docs.map((async e=>{const t=e.data(),n=Array.isArray(t.posts)?t.posts:[],r=await Promise.all(n.map((async e=>{var t;if(!e.authorId)return null;const n=pw(DN,"users",e.authorId),r=await kx(n),i=r.exists()?r.data():null;return{id:e.id||"",content:e.content||"",authorId:e.authorId||"",authorName:(null===i||void 0===i?void 0:i.name)||"Anonymous",authorAvatar:(null===i||void 0===i?void 0:i.profilePic)||"",username:(null===i||void 0===i?void 0:i.username)||"anonymous",timestamp:(null===(t=e.timestamp)||void 0===t?void 0:t.toDate())||new Date,likes:e.likes||0,likedBy:e.likedBy||[],comments:e.comments||[],commentCount:e.commentCount||0,imageUrl:e.imageUrl||"",userId:e.userId||"",tags:e.tags||[],isPrivate:e.isPrivate||!1,isPinned:e.isPinned||!1,isEdited:e.isEdited||!1,reposts:e.reposts||0,views:e.views||0,isArchived:e.isArchived||!1}})));return{tag:e.id,count:t.count||0,posts:r.filter(Boolean)}})));s(t)}));return()=>{e(),n(),i()}}),[t]);(0,i.useEffect)((()=>D()),[D]);const M=async e=>{if(t)try{var n;const r=pw(DN,"posts",e),i=await kx(r);if(!i.exists())throw new Error("Post not found");const o=i.data();(null===(n=o.likedBy)||void 0===n?void 0:n.includes(t.uid))||!1?await Tx(r,{likes:Vx(-1),likedBy:Ux(t.uid)}):await Tx(r,{likes:Vx(1),likedBy:Bx(t.uid)})}catch(C){console.error("Error updating like:",C)}},L=async(e,n)=>{if(t&&m)try{const i=pw(DN,"posts",e);if(!(await kx(i)).exists())return void console.error("Post not found");const o={id:Date.now().toString(),content:n,authorId:t.uid,authorName:m.name||t.displayName||"Anonymous",authorAvatar:m.profilePic||t.photoURL||"",timestamp:new Date,likes:0,likedBy:[],isEdited:!1};await Tx(i,{comments:Bx(o)}),r((t=>t.map((t=>{if(t.id===e){return{...t,comments:[...t.comments,o]}}return t}))))}catch(C){console.error("Error adding comment:",C)}},F=async e=>{if(t&&m)try{const i=n.find((t=>t.id===e));if(!i)throw new Error("Post not found");const o=ox(hw(DN,"reposts"),ax("originalPostId","==",e),ax("reposterId","==",t.uid));if(!(await Ex(o)).empty)throw new Error("You have already reposted this post");const s={originalPostId:e,reposterId:t.uid,reposterName:m.name,reposterUsername:m.username,reposterAvatar:m.profilePic,timestamp:zx()};await Rx(hw(DN,"reposts"),s);const a=pw(DN,"posts",e);if(await Tx(a,{reposts:Vx(1)}),i.userId!==t.uid){const t=pw(DN,"notifications",`${i.userId}_${e}_repost`);await Ix(t,{type:"repost",postId:e,fromUser:{name:m.name,username:m.username,avatar:m.profilePic},timestamp:zx(),read:!1})}r((t=>t.map((t=>t.id===e?{...t,reposts:(t.reposts||0)+1}:t)))),console.log("Post reposted successfully")}catch(C){console.error("Error sharing post:",C)}else console.error("User not authenticated or profile not loaded")},$=async e=>{if(t)try{var n;const i=pw(DN,"posts",e),o=await kx(i);if(!o.exists())throw new Error("Post not found");const s=o.data();if(s.userId!==t.uid)throw new Error("You can only delete your own posts");const a=pw(DN,"deleted_posts",e),l={id:e,content:s.content||"",authorId:s.authorId||"",authorName:s.authorName||"Anonymous",authorAvatar:s.authorAvatar||"",timestamp:s.timestamp||zx(),likes:s.likes||0,likedBy:s.likedBy||[],comments:s.comments||[],commentCount:(null===(n=s.comments)||void 0===n?void 0:n.length)||0,imageUrl:s.imageUrl||null,userId:s.userId||t.uid,tags:s.tags||[],location:s.location||null,isPrivate:s.isPrivate||!1,isPinned:s.isPinned||!1,isEdited:s.isEdited||!1,lastEdited:s.lastEdited||null,reposts:s.reposts||0,views:s.views||0,isArchived:s.isArchived||!1,isDeleted:!0,deletedAt:zx(),scheduledForDeletion:new Date(Date.now()+864e5)};if(await Ix(a,l),await Px(i),s.imageUrl){const e=c_(MN,s.imageUrl);await function(e){return JS(e=aa(e))}(e).catch((e=>{console.error("Error deleting image:",e)}))}const c=pw(DN,"users",t.uid);await Tx(c,{postCount:Vx(-1)}),r((t=>t.filter((t=>t.id!==e)))),console.log("Post moved to trash. It will be permanently deleted after 24 hours.")}catch(C){console.error("Error deleting post:",C)}else console.error("User not authenticated")};return(0,i.useEffect)((()=>{(async()=>{if(t)try{l(!0),E(null),await(async()=>{if(t)try{const e=ox(hw(DN,"posts"),ax("userId","==",t.uid),ux("timestamp","desc")),n=await Ex(e),r=[];n.forEach((e=>{const t=e.data().timestamp.toDate(),n=new Date;Math.floor((n.getTime()-t.getTime())/864e5)>30&&r.push(e.id)}));const i=Wx(DN);for(const t of r){const e=pw(DN,"posts",t);i.delete(e)}r.length>0&&(await i.commit(),console.log(`Successfully deleted ${r.length} old posts`))}catch(C){console.error("Error cleaning up old posts:",C)}})();const e=ox(hw(DN,"posts"),ax("userId","==",t.uid),hx(50)),n=await Ex(e),i=[];for(const t of n.docs){const e=t.data(),n=pw(DN,"users",e.userId),r=(await kx(n)).data();r&&i.push({id:t.id,content:e.content,authorId:e.userId,authorName:r.name||"Unknown User",authorAvatar:r.avatar||"",username:r.username||"anonymous",timestamp:e.timestamp,likes:e.likes||0,likedBy:e.likedBy||[],comments:e.comments||[],commentCount:e.commentCount||0,imageUrl:e.imageUrl||null,userId:e.userId,tags:e.tags||[],location:e.location||null,isPrivate:e.isPrivate||!1,isPinned:e.isPinned||!1,isEdited:e.isEdited||!1,lastEdited:e.lastEdited||null,reposts:e.reposts||0,views:e.views||0,isArchived:e.isArchived||!1})}i.sort(((e,t)=>{var n,r,i,o;const s=(null===(n=e.timestamp)||void 0===n||null===(r=n.toDate)||void 0===r?void 0:r.call(n))||new Date(0);return((null===(i=t.timestamp)||void 0===i||null===(o=i.toDate)||void 0===o?void 0:o.call(i))||new Date(0)).getTime()-s.getTime()})),r(i)}catch(e){console.error("Error fetching posts:",e),E("Failed to load posts. Please try again later.")}finally{l(!1)}else l(!1)})()}),[t]),t?(0,Me.jsx)(ps,{maxWidth:"md",children:(0,Me.jsxs)(OO,{sx:{py:4},children:[(0,Me.jsx)(LU,{}),t&&m&&(0,Me.jsx)(DU,{user:{name:(null===m||void 0===m?void 0:m.name)||(null===t||void 0===t?void 0:t.displayName)||"Anonymous",avatar:(null===m||void 0===m?void 0:m.profilePic)||(null===t||void 0===t?void 0:t.photoURL)||"",username:(null===m||void 0===m?void 0:m.username)||(null===t||void 0===t||null===(e=t.email)||void 0===e?void 0:e.split("@")[0])||"anonymous",isVerified:(null===m||void 0===m?void 0:m.isVerified)||!1},onSubmit:async(e,n)=>{if(t&&m)try{var i;let o="";if(n){const e=c_(MN,`posts/${t.uid}/${Date.now()}_${n.name}`);await a_(e,n),o=await l_(e)}const s=(null===(i=e.match(/#[a-zA-Z0-9_]+/g))||void 0===i?void 0:i.map((e=>e.slice(1))))||[],a={authorId:t.uid,authorName:(null===m||void 0===m?void 0:m.name)||(null===t||void 0===t?void 0:t.displayName)||"Anonymous",authorAvatar:(null===m||void 0===m?void 0:m.profilePic)||(null===t||void 0===t?void 0:t.photoURL)||"https://ui-avatars.com/api/?name=Anonymous&background=random",username:(null===m||void 0===m?void 0:m.username)||"anonymous",content:e,timestamp:new Date,likes:0,likedBy:[],comments:[],commentCount:0,tags:s,reposts:0,userId:t.uid,isPrivate:!1,isPinned:!1,isEdited:!1,views:0,isArchived:!1};o&&(a.imageUrl=o);const l=await Rx(hw(DN,"posts"),{...a,timestamp:zx()});r((e=>[{...a,id:l.id,timestamp:new Date},...e])),await Tx(pw(DN,"users",t.uid),{postCount:Vx(1)}),console.log("Post created successfully")}catch(C){console.error("Error creating post:",C)}else console.error("User not authenticated or profile not loaded")}}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[o.length>0&&(0,Me.jsxs)(xO,{sx:{p:2,mb:3,borderRadius:2},children:[(0,Me.jsx)(cD,{variant:"h6",sx:{mb:2},children:"Trending Topics"}),(0,Me.jsx)(OO,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:o.map((e=>(0,Me.jsx)(Nz,{label:`#${e.tag} (${e.count})`,onClick:()=>{if(Array.isArray(e.posts)){const t=e.posts.map((e=>({...e,content:String(e.content||""),authorName:String(e.authorName||"Anonymous"),authorAvatar:String(e.authorAvatar||""),username:String(e.username||"anonymous"),imageUrl:String(e.imageUrl||""),userId:String(e.userId||""),authorId:String(e.authorId||""),id:String(e.id||""),tags:Array.isArray(e.tags)?e.tags.map(String):[]})));r(t)}else console.error("Invalid posts data:",e.posts),E("Error loading posts for this topic")},sx:{m:.5,backgroundColor:"#f5f5f5","&:hover":{backgroundColor:"#e0e0e0"}}},e.tag)))})]}),a?(0,Me.jsx)(OO,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(I$,{})}):0===n.length?(0,Me.jsx)(cD,{children:"No posts yet. Be the first to post!"}):n.map((e=>(0,Me.jsx)(AU,{id:e.id,authorId:e.authorId,authorName:e.authorName||"Anonymous",authorAvatar:e.authorAvatar||"",content:e.content,timestamp:e.timestamp,likes:e.likes,likedBy:e.likedBy,comments:e.comments,commentCount:e.comments.length,imageUrl:e.imageUrl,tags:e.tags||[],isOwnPost:e.authorId===(null===t||void 0===t?void 0:t.uid),onLike:M,onComment:L,onShare:F,onDelete:$},e.id)))]}),(0,Me.jsxs)(Bz,{open:c,onClose:()=>{u(!1),f("")},maxWidth:"sm",fullWidth:!0,children:[(0,Me.jsx)(Hz,{children:"Add Comment"}),(0,Me.jsx)(Yz,{children:(0,Me.jsx)($F,{autoFocus:!0,margin:"dense",label:"Your comment",type:"text",fullWidth:!0,multiline:!0,rows:4,value:p,onChange:e=>f(e.target.value)})}),(0,Me.jsxs)(eB,{children:[(0,Me.jsx)(q$,{onClick:()=>{u(!1),f("")},children:"Cancel"}),(0,Me.jsx)(q$,{onClick:async()=>{if(t&&d&&p.trim())try{const e=pw(DN,"posts",d),n=await kx(e);if(!n.exists())return void E("Post not found");const i=n.data(),o={id:Date.now().toString(),content:p.trim(),authorId:t.uid,authorName:(null===m||void 0===m?void 0:m.name)||t.displayName||"Anonymous",authorAvatar:(null===m||void 0===m?void 0:m.profilePic)||t.photoURL||"",timestamp:new Date,likes:0,likedBy:[],isEdited:!1};await Tx(e,{comments:Bx(o)}),i.userId!==t.uid&&await Rx(hw(DN,"notifications"),{type:"comment",senderId:t.uid,receiverId:i.userId,postId:d,content:`${t.displayName||"Someone"} commented on your post`,timestamp:zx(),read:!1}),r((e=>e.map((e=>e.id===d?{...e,comments:[...e.comments,o]}:e)))),f(""),u(!1),T("Comment added successfully")}catch(C){console.error("Error adding comment:",C),E("Failed to add comment")}else E("Please enter a comment")},variant:"contained",disabled:!p.trim(),startIcon:(0,Me.jsx)(FU,{}),children:"Comment"})]})]}),(0,Me.jsx)(pB,{open:!!C,autoHideDuration:6e3,onClose:()=>E(null),children:(0,Me.jsx)(IB,{severity:"error",children:C})}),(0,Me.jsx)(pB,{open:!!I,autoHideDuration:6e3,onClose:()=>T(null),children:(0,Me.jsx)(IB,{severity:"success",children:I})})]})}):(0,Me.jsx)(ps,{maxWidth:"md",children:(0,Me.jsx)(OO,{sx:{mt:4,textAlign:"center"},children:(0,Me.jsx)(cD,{variant:"h5",children:"Please sign in to view the feed"})})})},zU=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),a=ne();return(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsxs)(OO,{sx:{mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Me.jsx)(cD,{component:"h1",variant:"h5",children:"Login to Side Eye"}),(0,Me.jsxs)(OO,{component:"form",onSubmit:async t=>{t.preventDefault();try{await EC(ON,e,n),a("/")}catch(o){s("Invalid email or password")}},sx:{mt:1},children:[(0,Me.jsx)($F,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:e,onChange:e=>t(e.target.value)}),(0,Me.jsx)($F,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:n,onChange:e=>r(e.target.value)}),o&&(0,Me.jsx)(cD,{color:"error",sx:{mt:2},children:o}),(0,Me.jsx)(q$,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"})]})]})})},BU=$O((0,Me.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),UU=$O((0,Me.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),VU=()=>{const[e,t]=(0,i.useState)({username:"",email:"",password:"",confirmPassword:""}),[n,r]=(0,i.useState)({}),[o,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),d=ne(),{register:h}=$N(),p=e=>{const{name:i,value:o}=e.target;t((e=>({...e,[i]:o}))),n[i]&&r((e=>({...e,[i]:void 0})))};return o?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(OO,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(I$,{})})}):(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(OO,{sx:{mt:8},children:(0,Me.jsxs)(xO,{elevation:0,sx:{p:4},children:[(0,Me.jsx)(cD,{variant:"h4",gutterBottom:!0,align:"center",children:"Create Account"}),(0,Me.jsx)(cD,{variant:"body1",color:"text.secondary",paragraph:!0,align:"center",children:"Join SideEye and start sharing your thoughts with the community"}),c&&(0,Me.jsx)(IB,{severity:"error",sx:{mb:2},children:c}),(0,Me.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),u(null),(()=>{const t={};return e.username.trim()?e.username.length<3&&(t.username="Username must be at least 3 characters"):t.username="Username is required",e.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password?e.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",e.password!==e.confirmPassword&&(t.confirmPassword="Passwords do not match"),r(t),0===Object.keys(t).length})())try{s(!0),await h(e.email,e.password,e.username),d("/verify-email")}catch(c){console.error("Registration error:",c),"auth/email-already-in-use"===c.code?u("Email is already in use"):"auth/weak-password"===c.code?u("Password is too weak"):u("Error creating account. Please try again.")}finally{s(!1)}},children:[(0,Me.jsx)($F,{fullWidth:!0,label:"Username",name:"username",value:e.username,onChange:p,margin:"normal",required:!0,error:!!n.username,helperText:n.username}),(0,Me.jsx)($F,{fullWidth:!0,label:"Email",name:"email",type:"email",value:e.email,onChange:p,margin:"normal",required:!0,error:!!n.email,helperText:n.email}),(0,Me.jsx)($F,{fullWidth:!0,label:"Password",name:"password",type:a?"text":"password",value:e.password,onChange:p,margin:"normal",required:!0,error:!!n.password,helperText:n.password,InputProps:{endAdornment:(0,Me.jsx)(qF,{position:"end",children:(0,Me.jsx)(j$,{onClick:()=>l(!a),edge:"end",children:a?(0,Me.jsx)(BU,{}):(0,Me.jsx)(UU,{})})})}}),(0,Me.jsx)($F,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:a?"text":"password",value:e.confirmPassword,onChange:p,margin:"normal",required:!0,error:!!n.confirmPassword,helperText:n.confirmPassword}),(0,Me.jsx)(q$,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},disabled:o,children:"Create Account"})]})]})})})},WU=e=>{const t=i.useRef({});return i.useEffect((()=>{t.current=e})),t.current};const qU=function(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=WU({badgeContent:t,max:r});let s=n;!1!==n||0!==t||i||(s=!0);const{badgeContent:a,max:l=r}=s?o:e;return{badgeContent:a,invisible:s,max:l,displayValue:a&&Number(a)>l?`${l}+`:a}};function HU(e){return Do("MuiBadge",e)}const KU=vO("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),GU=ds("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),QU=ds("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${ls(n.anchorOrigin.vertical)}${ls(n.anchorOrigin.horizontal)}${ls(n.overlap)}`],"default"!==n.color&&t[`color${ls(n.color)}`],n.invisible&&t.invisible]}})(mO((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(gO(["contrastText"])).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}}})),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${KU.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${KU.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${KU.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${KU.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${KU.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${KU.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${KU.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${KU.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}})));function YU(e){return{vertical:e?.vertical??"top",horizontal:e?.horizontal??"right"}}const XU=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiBadge"}),{anchorOrigin:r,className:i,classes:o,component:s,components:a={},componentsProps:l={},children:c,overlap:u="rectangular",color:d="default",invisible:h=!1,max:p=99,badgeContent:f,slots:m,slotProps:g,showZero:v=!1,variant:y="standard",...b}=n,{badgeContent:w,invisible:x,max:S,displayValue:_}=qU({max:p,invisible:h,badgeContent:f,showZero:v}),k=WU({anchorOrigin:YU(r),color:d,overlap:u,variant:y,badgeContent:f}),C=x||null==w&&"dot"!==y,{color:E=d,overlap:I=u,anchorOrigin:T,variant:P=y}=C?k:n,R=YU(T),A="dot"!==P?_:void 0,N={...n,badgeContent:w,invisible:C,max:S,displayValue:A,showZero:v,anchorOrigin:R,color:E,overlap:I,variant:P},j=(e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=e;return Mo({root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${ls(n.vertical)}${ls(n.horizontal)}`,`anchorOrigin${ls(n.vertical)}${ls(n.horizontal)}${ls(i)}`,`overlap${ls(i)}`,"default"!==t&&`color${ls(t)}`]},HU,s)})(N),O=m?.root??a.Root??GU,D=m?.badge??a.Badge??QU,M=g?.root??l.root,L=g?.badge??l.badge,F=AM({elementType:O,externalSlotProps:M,externalForwardedProps:b,additionalProps:{ref:t,as:s},ownerState:N,className:Ao(M?.className,j.root,i)}),$=AM({elementType:D,externalSlotProps:L,ownerState:N,className:Ao(j.badge,L?.className)});return(0,Me.jsxs)(O,{...F,children:[c,(0,Me.jsx)(D,{...$,children:A})]})})),JU=XU;function ZU(e){return Do("MuiListItem",e)}vO("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function eV(e){return Do("MuiListItemButton",e)}const tV=vO("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function nV(e){return Do("MuiListItemSecondaryAction",e)}vO("MuiListItemSecondaryAction",["root","disableGutters"]);const rV=ds("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:e=>{let{ownerState:t}=e;return t.disableGutters},style:{right:0}}]}),iV=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...o}=n,s=i.useContext(NM),a={...n,disableGutters:s.disableGutters},l=(e=>{const{disableGutters:t,classes:n}=e;return Mo({root:["root",t&&"disableGutters"]},nV,n)})(a);return(0,Me.jsx)(rV,{className:Ao(l.root,r),ownerState:a,ref:t,...o})}));iV.muiName="ListItemSecondaryAction";const oV=iV,sV=ds("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]}})(mO((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&t.dense},style:{paddingTop:4,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!!t.secondaryAction},style:{paddingRight:48}},{props:e=>{let{ownerState:t}=e;return!!t.secondaryAction},style:{[`& > .${tV.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return t.button},style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:e=>{let{ownerState:t}=e;return t.hasSecondaryAction},style:{paddingRight:48}}]}}))),aV=ds("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),lV=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiListItem"}),{alignItems:r="center",children:o,className:s,component:a,components:l={},componentsProps:c={},ContainerComponent:u="li",ContainerProps:{className:d,...h}={},dense:p=!1,disableGutters:f=!1,disablePadding:m=!1,divider:g=!1,secondaryAction:v,slotProps:y={},slots:b={},...w}=n,x=i.useContext(NM),S=i.useMemo((()=>({dense:p||x.dense||!1,alignItems:r,disableGutters:f})),[r,x.dense,p,f]),_=i.useRef(null),k=i.Children.toArray(o),C=k.length&&yM(k[k.length-1],["ListItemSecondaryAction"]),E={...n,alignItems:r,dense:S.dense,disableGutters:f,disablePadding:m,divider:g,hasSecondaryAction:C},I=(e=>{const{alignItems:t,classes:n,dense:r,disableGutters:i,disablePadding:o,divider:s,hasSecondaryAction:a}=e;return Mo({root:["root",r&&"dense",!i&&"gutters",!o&&"padding",s&&"divider","flex-start"===t&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},ZU,n)})(E),T=ED(_,t),P=b.root||l.Root||sV,R=y.root||c.root||{},A={className:Ao(I.root,R.className,s),...w};let N=a||"li";return C?(N=A.component||a?N:"div","li"===u&&("li"===N?N="div":"li"===A.component&&(A.component="div")),(0,Me.jsx)(NM.Provider,{value:S,children:(0,Me.jsxs)(aV,{as:u,className:Ao(I.container,d),ref:T,ownerState:E,...h,children:[(0,Me.jsx)(P,{...R,...!SD(P)&&{as:N,ownerState:{...E,...R.ownerState}},...A,children:k}),k.pop()]})})):(0,Me.jsx)(NM.Provider,{value:S,children:(0,Me.jsxs)(P,{...R,as:N,ref:T,...!SD(P)&&{ownerState:{...E,...R.ownerState}},...A,children:[k,v&&(0,Me.jsx)(oV,{children:v})]})})})),cV=lV;function uV(e){return Do("MuiListItemAvatar",e)}vO("MuiListItemAvatar",["root","alignItemsFlexStart"]);const dV=ds("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),hV=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiListItemAvatar"}),{className:r,...o}=n,s=i.useContext(NM),a={...n,alignItems:s.alignItems},l=(e=>{const{alignItems:t,classes:n}=e;return Mo({root:["root","flex-start"===t&&"alignItemsFlexStart"]},uV,n)})(a);return(0,Me.jsx)(dV,{className:Ao(l.root,r),ownerState:a,ref:t,...o})})),pV=hV;function fV(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const mV={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const gV=$O((0,Me.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),vV=$O((0,Me.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function yV(e){return Do("MuiTabScrollButton",e)}const bV=vO("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),wV=ds(g$,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${bV.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),xV=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiTabScrollButton"}),{className:r,slots:i={},slotProps:o={},direction:s,orientation:a,disabled:l,...c}=n,u=mn(),d={isRtl:u,...n},h=(e=>{const{classes:t,orientation:n,disabled:r}=e;return Mo({root:["root",n,r&&"disabled"]},yV,t)})(d),p=i.StartScrollButtonIcon??gV,f=i.EndScrollButtonIcon??vV,m=AM({elementType:p,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d}),g=AM({elementType:f,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d});return(0,Me.jsx)(wV,{component:"div",className:Ao(h.root,r),ref:t,role:null,ownerState:d,tabIndex:null,...c,style:{...c.style,..."vertical"===a&&{"--TabScrollButton-svgRotate":`rotate(${u?-90:90}deg)`}},children:"left"===s?(0,Me.jsx)(p,{...m}):(0,Me.jsx)(f,{...g})})})),SV=xV;function _V(e){return Do("MuiTabs",e)}const kV=vO("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),CV=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,EV=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,IV=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const t=i.disabled||"true"===i.getAttribute("aria-disabled");if(i.hasAttribute("tabindex")&&!t)return void i.focus();i=n(e,i)}},TV=ds("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${kV.scrollButtons}`]:t.scrollButtons},{[`& .${kV.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(mO((e=>{let{theme:t}=e;return{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.scrollButtonsHideMobile},style:{[`& .${kV.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}}))),PV=ds("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:e=>{let{ownerState:t}=e;return t.fixed},style:{overflowX:"hidden",width:"100%"}},{props:e=>{let{ownerState:t}=e;return t.hideScrollbar},style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:e=>{let{ownerState:t}=e;return t.scrollableX},style:{overflowX:"auto",overflowY:"hidden"}},{props:e=>{let{ownerState:t}=e;return t.scrollableY},style:{overflowY:"auto",overflowX:"hidden"}}]}),RV=ds("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.centered},style:{justifyContent:"center"}}]}),AV=ds("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(mO((e=>{let{theme:t}=e;return{position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:e=>{let{ownerState:t}=e;return t.vertical},style:{height:"100%",width:2,right:0}}]}}))),NV=ds((function(e){const{onChange:t,...n}=e,r=i.useRef(),o=i.useRef(null),s=()=>{r.current=o.current.offsetHeight-o.current.clientHeight};return ID((()=>{const e=HM((()=>{const e=r.current;s(),e!==r.current&&t(r.current)})),n=$M(o.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}}),[t]),i.useEffect((()=>{s(),t(r.current)}),[t]),(0,Me.jsx)("div",{style:mV,...n,ref:o})}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),jV={};const OV=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiTabs"}),r=lO(),o=mn(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:f="primary",onChange:m,orientation:g="horizontal",ScrollButtonComponent:v,scrollButtons:y="auto",selectionFollowsFocus:b,slots:w={},slotProps:x={},TabIndicatorProps:S={},TabScrollButtonProps:_={},textColor:k="primary",value:C,variant:E="standard",visibleScrollbar:I=!1,...T}=n,P="scrollable"===E,R="vertical"===g,A=R?"scrollTop":"scrollLeft",N=R?"top":"left",j=R?"bottom":"right",O=R?"clientHeight":"clientWidth",D=R?"height":"width",M={...n,component:h,allowScrollButtonsMobile:p,indicatorColor:f,orientation:g,vertical:R,scrollButtons:y,textColor:k,variant:E,visibleScrollbar:I,fixed:!P,hideScrollbar:P&&!I,scrollableX:P&&!R,scrollableY:P&&R,centered:c&&!P,scrollButtonsHideMobile:!p},L=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=e;return Mo({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},_V,l)})(M),F=AM({elementType:w.StartScrollButtonIcon,externalSlotProps:x.startScrollButtonIcon,ownerState:M}),$=AM({elementType:w.EndScrollButtonIcon,externalSlotProps:x.endScrollButtonIcon,ownerState:M});const[z,B]=i.useState(!1),[U,V]=i.useState(jV),[W,q]=i.useState(!1),[H,K]=i.useState(!1),[G,Q]=i.useState(!1),[Y,X]=i.useState({overflow:"hidden",scrollbarWidth:0}),J=new Map,Z=i.useRef(null),ee=i.useRef(null),te={slots:w,slotProps:{indicator:S,scrollButton:_,...x}},ne=()=>{const e=Z.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==C){const e=ee.current.children;if(e.length>0){const t=e[J.get(C)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},re=GF((()=>{const{tabsMeta:e,tabMeta:t}=ne();let n,r=0;R?(n="top",t&&e&&(r=t.top-e.top+e.scrollTop)):(n=o?"right":"left",t&&e&&(r=(o?-1:1)*(t[n]-e[n]+e.scrollLeft)));const i={[n]:r,[D]:t?t[D]:0};if("number"!==typeof U[n]||"number"!==typeof U[D])V(i);else{const e=Math.abs(U[n]-i[n]),t=Math.abs(U[D]-i[D]);(e>=1||t>=1)&&V(i)}})),ie=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:o=fV,duration:s=300}=r;let a=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=r=>{if(c)return void i(new Error("Animation cancelled"));null===a&&(a=r);const u=Math.min(1,(r-a)/s);t[e]=o(u)*(n-l)+l,u>=1?requestAnimationFrame((()=>{i(null)})):requestAnimationFrame(d)};l===n?i(new Error("Element already at target position")):requestAnimationFrame(d)}(A,Z.current,e,{duration:r.transitions.duration.standard}):Z.current[A]=e},oe=e=>{let t=Z.current[A];t+=R?e:e*(o?-1:1),ie(t)},se=()=>{const e=Z.current[O];let t=0;const n=Array.from(ee.current.children);for(let r=0;r<n.length;r+=1){const i=n[r];if(t+i[O]>e){0===r&&(t=e);break}t+=i[O]}return t},ae=()=>{oe(-1*se())},le=()=>{oe(se())},[ce,{onChange:ue,...de}]=YO("scrollbar",{className:Ao(L.scrollableX,L.hideScrollbar),elementType:NV,shouldForwardComponentProp:!0,externalForwardedProps:te,ownerState:M}),he=i.useCallback((e=>{ue?.(e),X({overflow:null,scrollbarWidth:e})}),[ue]),[pe,fe]=YO("scrollButtons",{className:Ao(L.scrollButtons,_.className),elementType:SV,externalForwardedProps:te,ownerState:M,additionalProps:{orientation:g,slots:{StartScrollButtonIcon:w.startScrollButtonIcon||w.StartScrollButtonIcon,EndScrollButtonIcon:w.endScrollButtonIcon||w.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:F,endScrollButtonIcon:$}}}),me=GF((e=>{const{tabsMeta:t,tabMeta:n}=ne();if(n&&t)if(n[N]<t[N]){const r=t[A]+(n[N]-t[N]);ie(r,{animation:e})}else if(n[j]>t[j]){const r=t[A]+(n[j]-t[j]);ie(r,{animation:e})}})),ge=GF((()=>{P&&!1!==y&&Q(!G)}));i.useEffect((()=>{const e=HM((()=>{Z.current&&re()}));let t;const n=n=>{n.forEach((e=>{e.removedNodes.forEach((e=>{t?.unobserve(e)})),e.addedNodes.forEach((e=>{t?.observe(e)}))})),e(),ge()},r=$M(Z.current);let i;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(ee.current.children).forEach((e=>{t.observe(e)}))),"undefined"!==typeof MutationObserver&&(i=new MutationObserver(n),i.observe(ee.current,{childList:!0})),()=>{e.clear(),r.removeEventListener("resize",e),i?.disconnect(),t?.disconnect()}}),[re,ge]),i.useEffect((()=>{const e=Array.from(ee.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&P&&!1!==y){const n=e[0],r=e[t-1],i={root:Z.current,threshold:.99},o=new IntersectionObserver((e=>{q(!e[0].isIntersecting)}),i);o.observe(n);const s=new IntersectionObserver((e=>{K(!e[0].isIntersecting)}),i);return s.observe(r),()=>{o.disconnect(),s.disconnect()}}}),[P,y,G,u?.length]),i.useEffect((()=>{B(!0)}),[]),i.useEffect((()=>{re()})),i.useEffect((()=>{me(jV!==U)}),[me,U]),i.useImperativeHandle(l,(()=>({updateIndicator:re,updateScrollButtons:ge})),[re,ge]);const[ve,ye]=YO("indicator",{className:Ao(L.indicator,S.className),elementType:AV,externalForwardedProps:te,ownerState:M,additionalProps:{style:U}}),be=(0,Me.jsx)(ve,{...ye});let we=0;const xe=i.Children.map(u,(e=>{if(!i.isValidElement(e))return null;const t=void 0===e.props.value?we:e.props.value;J.set(t,we);const n=t===C;return we+=1,i.cloneElement(e,{fullWidth:"fullWidth"===E,indicator:n&&!z&&be,selected:n,selectionFollowsFocus:b,onChange:m,textColor:k,value:t,...1!==we||!1!==C||e.props.tabIndex?{}:{tabIndex:0}})})),Se=(()=>{const e={};e.scrollbarSizeListener=P?(0,Me.jsx)(ce,{...de,onChange:he}):null;const t=P&&("auto"===y&&(W||H)||!0===y);return e.scrollButtonStart=t?(0,Me.jsx)(pe,{direction:o?"right":"left",onClick:ae,disabled:!W,...fe}):null,e.scrollButtonEnd=t?(0,Me.jsx)(pe,{direction:o?"left":"right",onClick:le,disabled:!H,...fe}):null,e})(),[_e,ke]=YO("root",{ref:t,className:Ao(L.root,d),elementType:TV,externalForwardedProps:{...te,...T,component:h},ownerState:M}),[Ce,Ee]=YO("scroller",{ref:Z,className:L.scroller,elementType:PV,externalForwardedProps:te,ownerState:M,additionalProps:{style:{overflow:Y.overflow,[R?"margin"+(o?"Left":"Right"):"marginBottom"]:I?void 0:-Y.scrollbarWidth}}}),[Ie,Te]=YO("list",{ref:ee,className:Ao(L.list,L.flexContainer),elementType:RV,externalForwardedProps:te,ownerState:M,getSlotProps:e=>({...e,onKeyDown:t=>{(e=>{if(e.altKey||e.shiftKey||e.ctrlKey||e.metaKey)return;const t=ee.current,n=RM(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===g?"ArrowLeft":"ArrowUp",i="horizontal"===g?"ArrowRight":"ArrowDown";switch("horizontal"===g&&o&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:e.preventDefault(),IV(t,n,EV);break;case i:e.preventDefault(),IV(t,n,CV);break;case"Home":e.preventDefault(),IV(t,null,CV);break;case"End":e.preventDefault(),IV(t,null,EV)}})(t),e.onKeyDown?.(t)}})});return(0,Me.jsxs)(_e,{...ke,children:[Se.scrollButtonStart,Se.scrollbarSizeListener,(0,Me.jsxs)(Ce,{...Ee,children:[(0,Me.jsx)(Ie,{"aria-label":s,"aria-labelledby":a,"aria-orientation":"vertical"===g?"vertical":null,role:"tablist",...Te,children:xe}),z&&be]}),Se.scrollButtonEnd]})})),DV=OV;function MV(e){return Do("MuiTab",e)}const LV=vO("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),FV=ds(g$,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${ls(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${LV.iconWrapper}`]:t.iconWrapper},{[`& .${LV.icon}`]:t.icon}]}})(mO((e=>{let{theme:t}=e;return{...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:e=>{let{ownerState:t}=e;return t.label&&("top"===t.iconPosition||"bottom"===t.iconPosition)},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.label&&"top"!==t.iconPosition&&"bottom"!==t.iconPosition},style:{flexDirection:"row"}},{props:e=>{let{ownerState:t}=e;return t.icon&&t.label},style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"top"===n},style:{[`& > .${LV.icon}`]:{marginBottom:6}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"bottom"===n},style:{[`& > .${LV.icon}`]:{marginTop:6}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"start"===n},style:{[`& > .${LV.icon}`]:{marginRight:t.spacing(1)}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"end"===n},style:{[`& > .${LV.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${LV.selected}`]:{opacity:1},[`&.${LV.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${LV.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${LV.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${LV.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${LV.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:e=>{let{ownerState:t}=e;return t.wrapped},style:{fontSize:t.typography.pxToRem(12)}}]}}))),$V=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiTab"}),{className:r,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:h,onClick:p,onFocus:f,selected:m,selectionFollowsFocus:g,textColor:v="inherit",value:y,wrapped:b=!1,...w}=n,x={...n,disabled:o,disableFocusRipple:s,selected:m,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:v,wrapped:b},S=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=e;return Mo({root:["root",o&&s&&"labelIcon",`textColor${ls(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]},MV,t)})(x),_=l&&d&&i.isValidElement(l)?i.cloneElement(l,{className:Ao(S.icon,l.props.className)}):l;return(0,Me.jsxs)(FV,{focusRipple:!s,className:Ao(S.root,r),ref:t,role:"tab","aria-selected":m,disabled:o,onClick:e=>{!m&&h&&h(e,y),p&&p(e)},onFocus:e=>{g&&!m&&h&&h(e,y),f&&f(e)},ownerState:x,tabIndex:m?0:-1,...w,children:["top"===c||"start"===c?(0,Me.jsxs)(i.Fragment,{children:[_,d]}):(0,Me.jsxs)(i.Fragment,{children:[d,_]}),u]})})),zV=$V,BV=$O((0,Me.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 12H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"})),UV=$O((0,Me.jsx)("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"})),VV=$O((0,Me.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),WV=$O((0,Me.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}));function qV(e){const{children:t,value:n,index:r,...i}=e;return(0,Me.jsx)("div",{role:"tabpanel",hidden:n!==r,id:`profile-tabpanel-${r}`,"aria-labelledby":`profile-tab-${r}`,...i,children:n===r&&(0,Me.jsx)(OO,{sx:{p:3},children:t})})}const HV=()=>{var e;const t=lO(),n=pO(t.breakpoints.down("sm")),{userId:r}=re(),{currentUser:o,userProfile:s,loading:a,setUserProfile:l}=$N(),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[p,f]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),[v,y]=(0,i.useState)(!1),[b,w]=(0,i.useState)(0),[x,S]=(0,i.useState)([]),[_,k]=(0,i.useState)([]),[C,E]=(0,i.useState)([]),[I,T]=(0,i.useState)([]),[P,R]=(0,i.useState)(!0),[A,N]=(0,i.useState)(null),[j,O]=(0,i.useState)([]),[D,M]=(0,i.useState)([]),[L,F]=(0,i.useState)(!1),[$,z]=(0,i.useState)(null),[B,U]=(0,i.useState)(!1),[V,W]=(0,i.useState)([]),[q,H]=(0,i.useState)(""),[K,G]=(0,i.useState)(0),[Q,Y]=(0,i.useState)([]),[X,J]=(0,i.useState)(!1),Z=(0,i.useRef)(null),[ee,te]=(0,i.useState)([]),[ne,ie]=(0,i.useState)([]),[oe,se]=(0,i.useState)(!1),[ae,le]=(0,i.useState)(""),[ce,ue]=(0,i.useState)(""),[de,he]=(0,i.useState)(""),pe=r||(null===o||void 0===o?void 0:o.uid)||"",fe=(0,i.useCallback)((async()=>{if(!pe)return N("No user ID provided"),void R(!1);try{if(R(!0),N(null),pe===(null===o||void 0===o?void 0:o.uid)&&s)u(s.username||""),h(s.name||""),f(s.email||""),g(s.bio||""),z(s.profilePic||null),O(s.connections||[]),M(s.followers||[]);else{const e=await kx(pw(DN,"users",pe));if(e.exists()){const t=e.data();u(t.username||""),h(t.name||""),f(t.email||""),g(t.bio||""),z(t.profilePic||null),O(t.connections||[]),M(t.followers||[])}else N("User not found")}const e=Ax(ox(hw(DN,"posts"),ax("authorId","==",pe)),(e=>{const t=e.docs.map((e=>{var t;const n=e.data();return{id:String(e.id),content:String(n.content||""),authorId:String(n.authorId||""),timestamp:(null===(t=n.timestamp)||void 0===t?void 0:t.toDate())||new Date,likes:Array.isArray(n.likes)?n.likes:[],comments:Number(n.comments||0)}}));S(t)}),(e=>{console.error("Error fetching posts:",e),N("Error loading posts. Please try again later.")})),t=Ax(ox(hw(DN,"forums"),ax("members","array-contains",pe)),(e=>{const t=e.docs.map((e=>{const t=e.data();return{id:String(e.id),title:String(t.title||""),description:String(t.description||""),members:Array.isArray(t.members)?t.members:[],memberCount:Number(t.memberCount||0),ownerId:String(t.ownerId||"")}}));k(t)}),(e=>{console.error("Error fetching forums:",e),N("Error loading forums. Please try again later.")})),n=Ax(ox(hw(DN,"sideRooms"),ax("members","array-contains",pe)),(e=>{const t=e.docs.map((e=>{var t;const n=e.data();return{id:String(e.id),name:String(n.name||""),description:String(n.description||""),ownerId:String(n.ownerId||""),members:Array.isArray(n.members)?n.members:[],memberCount:Number(n.memberCount||0),createdAt:(null===(t=n.createdAt)||void 0===t?void 0:t.toDate())||new Date,isPrivate:Boolean(n.isPrivate),isLive:Boolean(n.isLive),liveParticipants:Array.isArray(n.liveParticipants)?n.liveParticipants:[],category:String(n.category||""),scheduledReveals:Array.isArray(n.scheduledReveals)?n.scheduledReveals:[],activeUsers:Number(n.activeUsers||0)}}));E(t)}),(e=>{console.error("Error fetching side rooms:",e),N("Error loading side rooms. Please try again later.")})),r=Ax(ox(hw(DN,"posts"),ax("likes","array-contains",pe)),(e=>{const t=e.docs.map((e=>{var t;const n=e.data();return{id:String(e.id),content:String(n.content||""),authorId:String(n.authorId||""),timestamp:(null===(t=n.timestamp)||void 0===t?void 0:t.toDate())||new Date,likes:Array.isArray(n.likes)?n.likes:[],comments:Number(n.comments||0)}}));T(t)}),(e=>{console.error("Error fetching liked posts:",e),N("Error loading liked posts. Please try again later.")})),i=Ax(ox(hw(DN,"deleted_items"),ax("userId","==",pe)),(e=>{Y(e.docs.map((e=>({id:e.id,type:e.data().type||"",content:e.data().content||{},deletedAt:e.data().deletedAt||new Date}))))}));return J(!0),()=>{e(),t(),n(),r(),i(),J(!1)}}catch(e){console.error("Error fetching user data:",e),N("Failed to load profile data")}finally{R(!1)}}),[pe,o,s]);(0,i.useEffect)((()=>{fe()}),[fe]),(0,i.useEffect)((()=>{(async()=>{if(pe)try{const e=D.map((async e=>{const t=await kx(pw(DN,"users",e));return t.exists()?t.data():null})),t=await Promise.all(e);te(t.filter(Boolean));const n=j.map((async e=>{const t=await kx(pw(DN,"users",e));return t.exists()?t.data():null})),r=await Promise.all(n);ie(r.filter(Boolean))}catch(A){console.error("Error fetching user lists:",A)}})()}),[pe,D,j]),(0,i.useEffect)((()=>{s&&(le(s.name||""),ue(s.bio||""),he(s.username||""))}),[s]);const me=!(null===o||void 0===o||!o.uid)&&(null===s||void 0===s||null===(e=s.connections)||void 0===e?void 0:e.includes(pe)),ge=async()=>{if(o&&pe)try{R(!0);const e=pw(DN,"users",o.uid),t=pw(DN,"users",pe);await Tx(e,{connections:Bx(pe)}),await Tx(t,{followers:Bx(o.uid)}),s&&l({...s,connections:[...s.connections||[],pe]});const n=await kx(pw(DN,"users",pe));if(n.exists()){const e=n.data();O(e.connections||[]),M(e.followers||[])}}catch(A){console.error("Error following user:",A),N("Failed to follow user")}finally{R(!1)}},ve=()=>pe?(0,Me.jsx)(j$,{color:"primary",onClick:()=>{U(!0),V.forEach((e=>{e.read||be(e.id)}))},sx:{border:"1px solid",borderColor:"primary.main","&:hover":{backgroundColor:"primary.light",opacity:.8},width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Me.jsx)(JU,{badgeContent:K,color:"error",children:(0,Me.jsx)(BV,{})})}):null,ye=async()=>{if(o&&pe&&q.trim()&&!oe)try{se(!0);const e={senderId:o.uid,receiverId:pe,content:q.trim(),timestamp:zx(),read:!1,senderName:o.displayName||"Anonymous",senderAvatar:(null===s||void 0===s?void 0:s.profilePic)||null};await Rx(hw(DN,"messages"),e),H("")}catch(A){console.error("Error sending message:",A),N("Failed to send message")}finally{se(!1)}},be=async e=>{if(o)try{const t=pw(DN,"messages",e);await Tx(t,{read:!0})}catch(A){console.error("Error marking message as read:",A)}};(0,i.useEffect)((()=>{if(B){const e=(async()=>{if(ON.currentUser&&pe)try{const e=Ax(ox(hw(DN,"messages"),ax("receiverId","==",ON.currentUser.uid),ux("timestamp","desc")),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));W(t),G(t.filter((e=>!e.read)).length)}));return e}catch(A){console.error("Error fetching messages:",A)}})();return()=>{e&&e.then((e=>null===e||void 0===e?void 0:e()))}}}),[B]);return a||P?(0,Me.jsx)(ps,{maxWidth:"lg",children:(0,Me.jsx)(OO,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(I$,{})})}):A?(0,Me.jsx)(ps,{maxWidth:"lg",children:(0,Me.jsx)(OO,{sx:{mt:4},children:(0,Me.jsx)(IB,{severity:"error",children:A})})}):(0,Me.jsxs)(ps,{maxWidth:"lg",children:[(0,Me.jsx)(OO,{sx:{mt:4},children:(0,Me.jsxs)(OO,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 2fr"},gap:4},children:[(0,Me.jsx)(OO,{children:(0,Me.jsx)(xO,{elevation:0,sx:{p:3,textAlign:"center"},children:(0,Me.jsxs)(OO,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[(0,Me.jsxs)(OO,{sx:{position:"relative"},children:[(0,Me.jsx)(JU,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(null===o||void 0===o?void 0:o.uid)===pe&&(0,Me.jsx)(j$,{size:"small",onClick:()=>{var e;return null===(e=Z.current)||void 0===e?void 0:e.click()},sx:{bgcolor:"background.paper","&:hover":{bgcolor:"background.paper"}},children:(0,Me.jsx)(NU,{fontSize:"small"})}),children:(0,Me.jsx)(tD,{src:$||void 0,sx:{width:100,height:100}})}),(0,Me.jsx)("input",{type:"file",accept:"image/*",ref:Z,style:{display:"none"},onChange:async e=>{if(o&&e.target.files&&e.target.files[0])try{R(!0),N(null);const t=e.target.files[0];if(!t.type.startsWith("image/"))return void N("Please upload an image file");if(t.size>5242880)return void N("Image size should be less than 5MB");const n=Date.now(),r=`profile_${n}.${t.name.split(".").pop()}`,i=c_(MN,`profile_pictures/${o.uid}/${r}`),a=await a_(i,t),c=await l_(a.ref),u=pw(DN,"users",o.uid);await Tx(u,{profilePic:c,updatedAt:zx()}),z(c),s&&l({...s,profilePic:c}),Z.current&&(Z.current.value="")}catch(A){console.error("Error updating profile picture:",A),N("Failed to update profile picture. Please try again.")}finally{R(!1)}}})]}),(0,Me.jsxs)(OO,{sx:{flex:1},children:[(0,Me.jsx)(cD,{variant:"h4",component:"h1",children:d}),(0,Me.jsxs)(cD,{variant:"subtitle1",color:"text.secondary",children:["@",c]}),(0,Me.jsxs)(OO,{sx:{display:"flex",gap:2,mb:2,mt:2},children:[(0,Me.jsxs)(q$,{variant:"outlined",component:Re,to:`/profile/${pe}/followers`,children:[D.length," Followers"]}),(0,Me.jsxs)(q$,{variant:"outlined",component:Re,to:`/profile/${pe}/following`,children:[j.length," Following"]})]}),(0,Me.jsx)(cD,{variant:"body1",sx:{mt:1,mb:2},children:m}),(0,Me.jsx)(OO,{sx:{display:"flex",gap:2,alignItems:"center"},children:(null===o||void 0===o?void 0:o.uid)===pe?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(q$,{variant:"outlined",startIcon:(0,Me.jsx)(nU,{}),onClick:()=>y(!0),sx:{minWidth:"120px",borderColor:"primary.main",color:"primary.main","&:hover":{borderColor:"primary.dark",color:"primary.dark"}},children:"Edit Profile"}),ve(),(0,Me.jsx)(j$,{component:Re,to:"/trash",color:"error",sx:{border:"1px solid",borderColor:"error.main","&:hover":{backgroundColor:"error.light",opacity:.8}},children:(0,Me.jsx)(QB,{})})]}):(0,Me.jsxs)(Me.Fragment,{children:[(null===o||void 0===o?void 0:o.uid)!==pe&&pe?(0,Me.jsx)(q$,{variant:me?"outlined":"contained",color:me?"error":"primary",startIcon:me?(0,Me.jsx)(UV,{}):(0,Me.jsx)(VV,{}),onClick:me?()=>(async e=>{if(!o||!pe)return;const t=e||pe;try{R(!0);const e=pw(DN,"users",o.uid),n=pw(DN,"users",t);await Tx(e,{connections:Ux(t)}),await Tx(n,{followers:Ux(o.uid)}),s&&l({...s,connections:(s.connections||[]).filter((e=>e!==t))});const r=await kx(pw(DN,"users",pe));if(r.exists()){const e=r.data();O(e.connections||[]),M(e.followers||[])}}catch(A){console.error("Error unfollowing user:",A),N("Failed to unfollow user")}finally{R(!1)}})(pe):ge,disabled:P,children:P?"Loading...":me?"Unfollow":"Follow"}):null,ve()]})})]})]})})}),(0,Me.jsxs)(Bz,{open:v,onClose:()=>y(!1),maxWidth:"sm",fullWidth:!0,children:[(0,Me.jsx)(Hz,{children:"Edit Profile"}),(0,Me.jsx)(Yz,{children:(0,Me.jsxs)(OO,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[(0,Me.jsx)($F,{label:"Name",value:ae,onChange:e=>le(e.target.value),fullWidth:!0,variant:"outlined"}),(0,Me.jsx)($F,{label:"Username",value:de,onChange:e=>he(e.target.value),fullWidth:!0,variant:"outlined",helperText:"This will be your unique identifier on the platform"}),(0,Me.jsx)($F,{label:"Bio",value:ce,onChange:e=>ue(e.target.value),multiline:!0,rows:4,fullWidth:!0,variant:"outlined",helperText:"Tell others about yourself (You can use emojis!)",InputProps:{endAdornment:(0,Me.jsx)(j$,{onClick:()=>{const e=window.prompt("Enter an emoji:");e&&ue((t=>t+e))},sx:{color:"primary.main","&:hover":{color:"primary.dark"}},children:(0,Me.jsx)("span",{role:"img","aria-label":"emoji",children:"\ud83d\ude0a"})})}})]})}),(0,Me.jsxs)(eB,{sx:{p:3},children:[(0,Me.jsx)(q$,{variant:"outlined",onClick:()=>y(!1),sx:{minWidth:"120px",borderColor:"text.secondary",color:"text.secondary","&:hover":{borderColor:"text.primary",color:"text.primary"}},children:"Cancel"}),(0,Me.jsx)(q$,{variant:"contained",onClick:async()=>{if(o)try{R(!0);const e=pw(DN,"users",o.uid);await Tx(e,{name:ae,bio:ce,username:de,updatedAt:zx()}),y(!1),s&&l({...s,name:ae,bio:ce,username:de})}catch(A){console.error("Error updating profile:",A),N("Failed to update profile")}finally{R(!1)}},disabled:P,sx:{minWidth:"120px",bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:P?"Saving...":"Save Changes"})]})]}),(0,Me.jsx)(OO,{children:(0,Me.jsxs)(xO,{elevation:0,children:[(0,Me.jsxs)(DV,{value:b,onChange:(e,t)=>{w(t)},variant:n?"fullWidth":"standard",sx:{borderBottom:1,borderColor:"divider"},children:[(0,Me.jsx)(zV,{label:"Posts"}),(0,Me.jsx)(zV,{label:"Forums"}),(0,Me.jsx)(zV,{label:"Side Rooms"}),(0,Me.jsx)(zV,{label:"Liked Posts"}),(null===o||void 0===o?void 0:o.uid)===pe&&(0,Me.jsx)(zV,{label:"Deleted Items"})]}),(0,Me.jsx)(qV,{value:b,index:0,children:0===x.length?(0,Me.jsx)(cD,{children:"No posts yet"}):(0,Me.jsx)(MM,{children:x.map((e=>{var t,n;return(0,Me.jsxs)(cV,{divider:!0,children:[(0,Me.jsx)(lz,{primary:e.content,secondary:`Posted ${IU(e.timestamp instanceof Date?e.timestamp:(null===(t=e.timestamp)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||new Date)} ago`}),(0,Me.jsxs)(oV,{children:[(0,Me.jsxs)(j$,{edge:"end","aria-label":"likes",children:[(0,Me.jsx)(YB,{}),(0,Me.jsx)(cD,{variant:"body2",sx:{ml:1},children:e.likes.length})]}),(0,Me.jsxs)(j$,{edge:"end","aria-label":"comments",children:[(0,Me.jsx)(WV,{}),(0,Me.jsx)(cD,{variant:"body2",sx:{ml:1},children:e.comments})]})]})]},e.id)}))})}),(0,Me.jsx)(qV,{value:b,index:1,children:0===_.length?(0,Me.jsx)(cD,{children:"Not a member of any forums yet"}):(0,Me.jsx)(OO,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2},children:_.map((e=>(0,Me.jsx)(OO,{children:(0,Me.jsx)(AB,{children:(0,Me.jsxs)(DB,{children:[(0,Me.jsx)(cD,{variant:"h6",children:e.title}),(0,Me.jsx)(cD,{variant:"body2",color:"text.secondary",children:e.description}),(0,Me.jsx)(Nz,{size:"small",label:`${e.memberCount} members`,sx:{mt:1}})]})})},e.id)))})}),(0,Me.jsx)(qV,{value:b,index:2,children:0===C.length?(0,Me.jsx)(cD,{children:"Not a member of any side rooms yet"}):(0,Me.jsx)(OO,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2},children:C.map((e=>(0,Me.jsx)(OO,{children:(0,Me.jsx)(AB,{children:(0,Me.jsxs)(DB,{children:[(0,Me.jsx)(cD,{variant:"h6",children:e.name}),(0,Me.jsx)(cD,{variant:"body2",color:"text.secondary",children:e.description}),(0,Me.jsx)(Nz,{size:"small",label:`${e.memberCount} members`,sx:{mt:1}})]})})},e.id)))})}),(0,Me.jsx)(qV,{value:b,index:3,children:0===I.length?(0,Me.jsx)(cD,{children:"No liked posts yet"}):(0,Me.jsx)(MM,{children:I.map((e=>{var t,n;return(0,Me.jsxs)(cV,{divider:!0,children:[(0,Me.jsx)(lz,{primary:e.content,secondary:`Posted ${IU(e.timestamp instanceof Date?e.timestamp:(null===(t=e.timestamp)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||new Date)} ago`}),(0,Me.jsx)(oV,{children:(0,Me.jsxs)(j$,{edge:"end","aria-label":"likes",children:[(0,Me.jsx)(YB,{}),(0,Me.jsx)(cD,{variant:"body2",sx:{ml:1},children:e.likes.length})]})})]},e.id)}))})}),(null===o||void 0===o?void 0:o.uid)===pe&&(0,Me.jsx)(qV,{value:b,index:4,children:0===Q.length?(0,Me.jsx)(cD,{children:"No deleted items"}):(0,Me.jsx)(MM,{children:Q.map((e=>(0,Me.jsxs)(cV,{divider:!0,children:[(0,Me.jsx)(lz,{primary:(0,Me.jsxs)(OO,{children:[(0,Me.jsx)(cD,{variant:"subtitle1",children:"post"===e.type?"Post":"room"===e.type?"Side Room":"Forum"}),(0,Me.jsx)(cD,{variant:"body1",children:"post"===e.type?e.content.content:e.content.name})]}),secondary:`Deleted ${IU(e.deletedAt.toDate())} ago`}),(0,Me.jsxs)(oV,{children:[(0,Me.jsx)(q$,{variant:"outlined",onClick:()=>(async(e,t)=>{try{const n=pw(DN,"deleted_items",e),r=await kx(n);if(!r.exists())return void N("Item not found in trash");const i=r.data(),o="post"===t?"posts":"room"===t?"sideRooms":"forums";await Ix(pw(DN,o,e),{...i.content,deletedAt:null,scheduledForPermanentDeletion:null}),await Px(n),Y((t=>t.filter((t=>t.id!==e)))),N("Item restored successfully")}catch(A){console.error("Error restoring item:",A),N("Failed to restore item")}})(e.id,e.type),children:"Restore"}),(0,Me.jsx)(q$,{variant:"outlined",color:"error",onClick:()=>(async e=>{try{await Px(pw(DN,"deleted_items",e)),Y((t=>t.filter((t=>t.id!==e)))),N("Item permanently deleted")}catch(A){console.error("Error permanently deleting item:",A),N("Failed to delete item permanently")}})(e.id),sx:{ml:1},children:"Delete Permanently"})]})]},e.id)))})})]})})]})}),(0,Me.jsxs)(Bz,{open:B,onClose:()=>U(!1),maxWidth:"sm",fullWidth:!0,children:[(0,Me.jsx)(Hz,{children:(null===o||void 0===o?void 0:o.uid)===pe?"Your Messages":`Message ${c}`}),(0,Me.jsx)(Yz,{children:(null===o||void 0===o?void 0:o.uid)===pe?(0,Me.jsx)(MM,{children:V.map((e=>{var t;return(0,Me.jsxs)(cV,{divider:!0,children:[(0,Me.jsx)(pV,{children:(0,Me.jsx)(tD,{src:e.senderAvatar||void 0})}),(0,Me.jsx)(lz,{primary:e.senderName,secondary:e.content}),(0,Me.jsx)(oV,{children:(0,Me.jsx)(cD,{variant:"caption",color:"text.secondary",children:null===(t=e.timestamp)||void 0===t?void 0:t.toDate().toLocaleString()})})]},e.id)}))}):(0,Me.jsxs)(OO,{sx:{mt:2},children:[(0,Me.jsx)($F,{fullWidth:!0,multiline:!0,rows:4,label:"Your message",value:q,onChange:e=>H(e.target.value),variant:"outlined",sx:{mb:2}}),(0,Me.jsx)(OO,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,Me.jsx)(q$,{variant:"contained",onClick:ye,disabled:!q.trim()||oe,sx:{minWidth:"100px","@media (max-width: 600px)":{width:"100%"}},children:oe?"Sending...":"Send"})})]})}),(0,Me.jsx)(eB,{children:(0,Me.jsx)(q$,{onClick:()=>U(!1),children:"Close"})})]})]})},KV=()=>{const[e]=aO(ON),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(""),[s,a]=(0,i.useState)(null);(0,i.useEffect)((()=>{if(!e)return;const t=Ax(ox(hw(DN,"messages"),ax("participants","array-contains",e.uid),ux("timestamp","desc")),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));n(t)}));return()=>t()}),[e]);return(0,Me.jsx)(ps,{maxWidth:"lg",children:(0,Me.jsxs)(OO,{sx:{mt:4,display:"flex",height:"80vh"},children:[(0,Me.jsx)(xO,{sx:{width:"30%",mr:2,overflow:"auto"},children:(0,Me.jsx)(MM,{children:t.map((t=>(0,Me.jsxs)(cV,{sx:{cursor:"pointer",backgroundColor:s===(t.senderId===(null===e||void 0===e?void 0:e.uid)?t.receiverId:t.senderId)?"action.selected":"background.paper"},onClick:()=>a(t.senderId===(null===e||void 0===e?void 0:e.uid)?t.receiverId:t.senderId),children:[(0,Me.jsx)(pV,{children:(0,Me.jsx)(tD,{children:t.senderName[0]})}),(0,Me.jsx)(lz,{primary:t.senderName,secondary:t.text})]},t.id)))})}),(0,Me.jsxs)(xO,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[(0,Me.jsx)(OO,{sx:{p:2,flex:1,overflow:"auto"},children:s&&t.filter((t=>t.senderId===(null===e||void 0===e?void 0:e.uid)&&t.receiverId===s||t.receiverId===(null===e||void 0===e?void 0:e.uid)&&t.senderId===s)).map((t=>{var n;return(0,Me.jsx)(OO,{sx:{display:"flex",justifyContent:t.senderId===(null===e||void 0===e?void 0:e.uid)?"flex-end":"flex-start",mb:2},children:(0,Me.jsxs)(OO,{sx:{maxWidth:"70%",p:2,borderRadius:2,bgcolor:t.senderId===(null===e||void 0===e?void 0:e.uid)?"primary.main":"grey.100",color:t.senderId===(null===e||void 0===e?void 0:e.uid)?"white":"text.primary"},children:[(0,Me.jsx)(cD,{children:t.text}),(0,Me.jsx)(cD,{variant:"caption",sx:{display:"block",mt:1},children:new Date(null===(n=t.timestamp)||void 0===n?void 0:n.toDate()).toLocaleTimeString()})]})},t.id)}))}),(0,Me.jsx)(OO,{sx:{p:2,borderTop:1,borderColor:"divider"},children:(0,Me.jsxs)(OO,{sx:{display:"flex",gap:1},children:[(0,Me.jsx)($F,{fullWidth:!0,placeholder:"Type a message...",value:r,onChange:e=>o(e.target.value),disabled:!s}),(0,Me.jsx)(q$,{variant:"contained",onClick:async()=>{if(e&&s&&r.trim())try{await Rx(hw(DN,"messages"),{text:r,senderId:e.uid,receiverId:s,timestamp:zx(),senderName:e.displayName||"Anonymous",participants:[e.uid,s]}),o("")}catch(PI){console.error("Error sending message:",PI)}},disabled:!s||!r.trim(),children:"Send"})]})})]})]})})};function GV(e){const{children:t,value:n,index:r}=e;return(0,Me.jsx)("div",{hidden:n!==r,children:n===r&&(0,Me.jsx)(OO,{sx:{p:3},children:t})})}const QV=()=>{const[e,t]=(0,i.useState)(0),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)([]),[a]=aO(ON),[l,c]=(0,i.useState)(null),u=ne(),[d,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(""),[m,g]=(0,i.useState)("");(0,i.useEffect)((()=>{if(a){(async()=>{const e=await kx(pw(DN,"users",a.uid));e.exists()&&c(e.data())})()}}),[a]);return i.useEffect((()=>{const e=Ax(ox(hw(DN,"posts"),ux("timestamp","desc")),(async e=>{const t=await Promise.all(e.docs.map((async e=>{var t;const n=e.data(),r=pw(DN,"users",n.authorId),i=await kx(r),o=i.exists()?i.data():null;return{id:String(e.id),content:String(n.content||""),authorId:String(n.authorId||""),authorName:String((null===o||void 0===o?void 0:o.name)||"Anonymous"),authorAvatar:String((null===o||void 0===o?void 0:o.profilePic)||""),username:String((null===o||void 0===o?void 0:o.username)||"anonymous"),timestamp:(null===(t=n.timestamp)||void 0===t?void 0:t.toDate())||new Date,likes:Array.isArray(n.likes)?n.likes:[],comments:Number(n.comments||0)}})));s(t)}));return()=>e()}),[]),(0,Me.jsx)(ps,{maxWidth:"md",children:(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h4",gutterBottom:!0,children:"Forums"}),(0,Me.jsxs)(DV,{value:e,onChange:(e,n)=>{t(n)},centered:!0,children:[(0,Me.jsx)(zV,{label:"For You"}),(0,Me.jsx)(zV,{label:"Following"}),(0,Me.jsx)(zV,{label:"Popular"})]}),(0,Me.jsxs)(GV,{value:e,index:0,children:[a&&(0,Me.jsx)(AB,{sx:{mb:3},children:(0,Me.jsxs)(DB,{children:[(0,Me.jsxs)(OO,{sx:{display:"flex",gap:2},children:[(0,Me.jsx)(tD,{src:(null===l||void 0===l?void 0:l.profilePic)||void 0,onClick:()=>u(`/profile/${a.uid}`),sx:{cursor:"pointer"}}),(0,Me.jsx)($F,{fullWidth:!0,multiline:!0,rows:3,placeholder:"What's happening?",value:n,onChange:e=>r(e.target.value)})]}),(0,Me.jsx)(OO,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:(0,Me.jsx)(q$,{variant:"contained",onClick:async()=>{if(a&&n.trim())try{await Rx(hw(DN,"posts"),{content:n.trim(),authorId:a.uid,timestamp:new Date,likes:[],comments:0}),r("")}catch(PI){console.error("Error creating post:",PI)}},children:"Post"})})]})}),o.map((e=>(0,Me.jsx)(AB,{sx:{mb:3},children:(0,Me.jsxs)(DB,{children:[(0,Me.jsxs)(OO,{sx:{display:"flex",gap:2,mb:2},children:[(0,Me.jsx)(tD,{src:e.authorAvatar,onClick:()=>u(`/profile/${e.authorId}`),sx:{cursor:"pointer"}}),(0,Me.jsxs)(OO,{children:[(0,Me.jsx)(cD,{variant:"subtitle1",fontWeight:"bold",children:e.authorName}),(0,Me.jsxs)(cD,{variant:"body2",color:"text.secondary",children:["@",e.username]}),(0,Me.jsx)(cD,{variant:"body2",color:"text.secondary",children:new Date(e.timestamp).toLocaleDateString()})]})]}),(0,Me.jsx)(cD,{children:e.content}),(0,Me.jsxs)(OO,{sx:{display:"flex",gap:2,mt:2},children:[(0,Me.jsxs)(j$,{size:"small",children:[(0,Me.jsx)(YB,{}),(0,Me.jsx)(cD,{variant:"body2",sx:{ml:1},children:e.likes.length})]}),(0,Me.jsxs)(j$,{size:"small",children:[(0,Me.jsx)(WV,{}),(0,Me.jsx)(cD,{variant:"body2",sx:{ml:1},children:e.comments})]}),(0,Me.jsx)(j$,{size:"small",children:(0,Me.jsx)(ZB,{})})]})]})},e.id)))]}),(0,Me.jsx)(GV,{value:e,index:1,children:(0,Me.jsx)(cD,{children:"Following content will appear here"})}),(0,Me.jsx)(GV,{value:e,index:2,children:(0,Me.jsx)(cD,{children:"Popular content will appear here"})}),(0,Me.jsxs)(Bz,{open:d,onClose:()=>h(!1),children:[(0,Me.jsx)(Hz,{children:"Create New Forum"}),(0,Me.jsxs)(Yz,{children:[(0,Me.jsx)($F,{autoFocus:!0,margin:"dense",label:"Forum Title",fullWidth:!0,value:p,onChange:e=>f(e.target.value)}),(0,Me.jsx)($F,{margin:"dense",label:"Description",fullWidth:!0,multiline:!0,rows:4,value:m,onChange:e=>g(e.target.value)})]}),(0,Me.jsxs)(eB,{children:[(0,Me.jsx)(q$,{onClick:()=>h(!1),children:"Cancel"}),(0,Me.jsx)(q$,{onClick:async()=>{if(a&&p.trim()&&m.trim())try{await Rx(hw(DN,"forums"),{title:p.trim(),description:m.trim(),creatorId:a.uid,createdAt:new Date,members:[a.uid],posts:0}),h(!1),f(""),g("")}catch(PI){console.error("Error creating forum:",PI)}},variant:"contained",children:"Create"})]})]})]})})};function YV(e){return Do("MuiCardActions",e)}vO("MuiCardActions",["root","spacing"]);const XV=ds("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),JV=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:i,...o}=n,s={...n,disableSpacing:r},a=(e=>{const{classes:t,disableSpacing:n}=e;return Mo({root:["root",!n&&"spacing"]},YV,t)})(s);return(0,Me.jsx)(XV,{className:Ao(a.root,i),ownerState:s,ref:t,...o})})),ZV=JV,eW=$O([(0,Me.jsx)("path",{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07z"},"0"),(0,Me.jsx)("path",{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52"},"1")]),tW=$O((0,Me.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),nW=$O((0,Me.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}));function rW(e){return Do("MuiFormControlLabel",e)}const iW=vO("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),oW=ds("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${iW.label}`]:t.label},t.root,t[`labelPlacement${ls(n.labelPlacement)}`]]}})(mO((e=>{let{theme:t}=e;return{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${iW.disabled}`]:{cursor:"default"},[`& .${iW.label}`]:{[`&.${iW.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:e=>{let{labelPlacement:t}=e;return"start"===t||"top"===t||"bottom"===t},style:{marginLeft:16}}]}}))),sW=ds("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(mO((e=>{let{theme:t}=e;return{[`&.${iW.error}`]:{color:(t.vars||t).palette.error.main}}}))),aW=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiFormControlLabel"}),{checked:r,className:o,componentsProps:s={},control:a,disabled:l,disableTypography:c,inputRef:u,label:d,labelPlacement:h="end",name:p,onChange:f,required:m,slots:g={},slotProps:v={},value:y,...b}=n,w=CD(),x=l??a.props.disabled??w?.disabled,S=m??a.props.required,_={disabled:x,required:S};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof a.props[e]&&"undefined"!==typeof n[e]&&(_[e]=n[e])}));const k=_D({props:n,muiFormControl:w,states:["error"]}),C={...n,disabled:x,labelPlacement:h,required:S,error:k.error},E=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e;return Mo({root:["root",n&&"disabled",`labelPlacement${ls(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]},rW,t)})(C),I={slots:g,slotProps:{...s,...v}},[T,P]=YO("typography",{elementType:cD,externalForwardedProps:I,ownerState:C});let R=d;return null==R||R.type===cD||c||(R=(0,Me.jsx)(T,{component:"span",...P,className:Ao(E.label,P?.className),children:R})),(0,Me.jsxs)(oW,{className:Ao(E.root,o),ownerState:C,ref:t,...b,children:[i.cloneElement(a,_),S?(0,Me.jsxs)("div",{children:[R,(0,Me.jsxs)(sW,{ownerState:C,"aria-hidden":!0,className:E.asterisk,children:["\u2009","*"]})]}):R]})})),lW=aW;function cW(e){return Do("PrivateSwitchBase",e)}vO("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const uW=ds(g$)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"start"===t&&"small"!==n.size},style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"end"===t&&"small"!==n.size},style:{marginRight:-12}}]}),dW=ds("input",{shouldForwardProp:us})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),hW=i.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:i,defaultChecked:o,disabled:s,disableFocusRipple:a=!1,edge:l=!1,icon:c,id:u,inputProps:d,inputRef:h,name:p,onBlur:f,onChange:m,onFocus:g,readOnly:v,required:y=!1,tabIndex:b,type:w,value:x,slots:S={},slotProps:_={},...k}=e,[C,E]=vF({controlled:r,default:Boolean(o),name:"SwitchBase",state:"checked"}),I=CD();let T=s;I&&"undefined"===typeof T&&(T=I.disabled);const P="checkbox"===w||"radio"===w,R={...e,checked:C,disabled:T,disableFocusRipple:a,edge:l},A=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e;return Mo({root:["root",n&&"checked",r&&"disabled",i&&`edge${ls(i)}`],input:["input"]},cW,t)})(R),N={slots:S,slotProps:{input:d,..._}},[j,O]=YO("root",{ref:t,elementType:uW,className:A.root,shouldForwardComponentProp:!0,externalForwardedProps:{...N,component:"span",...k},getSlotProps:e=>({...e,onFocus:t=>{e.onFocus?.(t),(e=>{g&&g(e),I&&I.onFocus&&I.onFocus(e)})(t)},onBlur:t=>{e.onBlur?.(t),(e=>{f&&f(e),I&&I.onBlur&&I.onBlur(e)})(t)}}),ownerState:R,additionalProps:{centerRipple:!0,focusRipple:!a,disabled:T,role:void 0,tabIndex:null}}),[D,M]=YO("input",{ref:h,elementType:dW,className:A.input,externalForwardedProps:N,getSlotProps:e=>({...e,onChange:t=>{e.onChange?.(t),(e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;E(t),m&&m(e,t)})(t)}}),ownerState:R,additionalProps:{autoFocus:n,checked:r,defaultChecked:o,disabled:T,id:P?u:void 0,name:p,readOnly:v,required:y,tabIndex:b,type:w,..."checkbox"===w&&void 0===x?{}:{value:x}}});return(0,Me.jsxs)(j,{...O,children:[(0,Me.jsx)(D,{...M}),C?i:c]})})),pW=hW;function fW(e){return Do("MuiSwitch",e)}const mW=vO("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),gW=ds("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${ls(n.edge)}`],t[`size${ls(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${mW.thumb}`]:{width:16,height:16},[`& .${mW.switchBase}`]:{padding:4,[`&.${mW.checked}`]:{transform:"translateX(16px)"}}}}]}),vW=ds(pW,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${mW.input}`]:t.input},"default"!==n.color&&t[`color${ls(n.color)}`]]}})(mO((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${"light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${mW.checked}`]:{transform:"translateX(20px)"},[`&.${mW.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${mW.checked} + .${mW.track}`]:{opacity:.5},[`&.${mW.disabled} + .${mW.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:""+("light"===t.palette.mode?.12:.2)},[`& .${mW.input}`]:{left:"-100%",width:"300%"}}})),mO((e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(gO(["light"])).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${mW.checked}`]:{color:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette[n].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${mW.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${n}DisabledColor`]:`${"light"===t.palette.mode?oi(t.palette[n].main,.62):ri(t.palette[n].main,.55)}`}},[`&.${mW.checked} + .${mW.track}`]:{backgroundColor:(t.vars||t).palette[n].main}}}}))]}}))),yW=ds("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(mO((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${"light"===t.palette.mode?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:""+("light"===t.palette.mode?.38:.3)}}))),bW=ds("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(mO((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}}))),wW=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiSwitch"}),{className:r,color:i="primary",edge:o=!1,size:s="medium",sx:a,slots:l={},slotProps:c={},...u}=n,d={...n,color:i,edge:o,size:s},h=(e=>{const{classes:t,edge:n,size:r,color:i,checked:o,disabled:s}=e,a=Mo({root:["root",n&&`edge${ls(n)}`,`size${ls(r)}`],switchBase:["switchBase",`color${ls(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},fW,t);return{...t,...a}})(d),p={slots:l,slotProps:c},[f,m]=YO("root",{className:Ao(h.root,r),elementType:gW,externalForwardedProps:p,ownerState:d,additionalProps:{sx:a}}),[g,v]=YO("thumb",{className:h.thumb,elementType:bW,externalForwardedProps:p,ownerState:d}),y=(0,Me.jsx)(g,{...v}),[b,w]=YO("track",{className:h.track,elementType:yW,externalForwardedProps:p,ownerState:d});return(0,Me.jsxs)(f,{...m,children:[(0,Me.jsx)(vW,{type:"checkbox",icon:y,checkedIcon:y,ref:t,ownerState:d,...u,classes:{...h,root:h.switchBase},slots:{...l.switchBase&&{root:l.switchBase},...l.input&&{input:l.input}},slotProps:{...c.switchBase&&{root:"function"===typeof c.switchBase?c.switchBase(d):c.switchBase},...c.input&&{input:"function"===typeof c.input?c.input(d):c.input}}}),(0,Me.jsx)(b,{...w})]})})),xW=wW,SW=e=>{let{open:t,onClose:n}=e;const{currentUser:r}=$N(),o=ne(),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[f,m]=(0,i.useState)(!1),[g,v]=(0,i.useState)(""),[y,b]=(0,i.useState)([]),[w,x]=(0,i.useState)(""),[S,_]=(0,i.useState)(""),[k,C]=(0,i.useState)(50),[E,I]=(0,i.useState)([]),[T,P]=(0,i.useState)(""),[R,A]=(0,i.useState)(!1),[N,j]=(0,i.useState)(4),[O,D]=(0,i.useState)(!1),[M,L]=(0,i.useState)(2),F=()=>{w.trim()&&!y.includes(w.trim())&&(b([...y,w.trim()]),x(""))},$=()=>{T.trim()&&!E.includes(T.trim())&&(I([...E,T.trim()]),P(""))};return(0,Me.jsxs)(Bz,{open:t,onClose:n,maxWidth:"sm",fullWidth:!0,children:[(0,Me.jsx)(Hz,{children:"Create Side Room"}),(0,Me.jsxs)(Yz,{children:[l&&(0,Me.jsx)(IB,{severity:"error",sx:{mb:2},children:l}),(0,Me.jsx)($F,{autoFocus:!0,margin:"dense",label:"Room Name",type:"text",fullWidth:!0,value:u,onChange:e=>d(e.target.value),required:!0}),(0,Me.jsx)($F,{margin:"dense",label:"Description",type:"text",fullWidth:!0,multiline:!0,rows:3,value:h,onChange:e=>p(e.target.value)}),(0,Me.jsxs)(SM,{fullWidth:!0,margin:"dense",children:[(0,Me.jsx)(vM,{children:"Category"}),(0,Me.jsxs)(OF,{value:S,onChange:e=>_(e.target.value),label:"Category",children:[(0,Me.jsx)(nz,{value:"general",children:"General"}),(0,Me.jsx)(nz,{value:"gaming",children:"Gaming"}),(0,Me.jsx)(nz,{value:"music",children:"Music"}),(0,Me.jsx)(nz,{value:"movies",children:"Movies & TV"}),(0,Me.jsx)(nz,{value:"sports",children:"Sports"}),(0,Me.jsx)(nz,{value:"tech",children:"Technology"}),(0,Me.jsx)(nz,{value:"art",children:"Art & Design"}),(0,Me.jsx)(nz,{value:"education",children:"Education"}),(0,Me.jsx)(nz,{value:"other",children:"Other"})]})]}),(0,Me.jsxs)(OO,{sx:{mt:2},children:[(0,Me.jsx)(cD,{variant:"subtitle2",children:"Tags"}),(0,Me.jsx)(OO,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:1},children:y.map((e=>(0,Me.jsx)(Nz,{label:e,onDelete:()=>{return t=e,void b(y.filter((e=>e!==t)));var t}},e)))}),(0,Me.jsxs)(OO,{sx:{display:"flex",gap:1},children:[(0,Me.jsx)($F,{size:"small",value:w,onChange:e=>x(e.target.value),placeholder:"Add tag",onKeyPress:e=>"Enter"===e.key&&F()}),(0,Me.jsx)(j$,{onClick:F,size:"small",children:(0,Me.jsx)(MU,{})})]})]}),(0,Me.jsxs)(OO,{sx:{mt:2},children:[(0,Me.jsx)(cD,{variant:"subtitle2",children:"Rules"}),(0,Me.jsx)(OO,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:1},children:E.map((e=>(0,Me.jsx)(Nz,{label:e,onDelete:()=>{return t=e,void I(E.filter((e=>e!==t)));var t}},e)))}),(0,Me.jsxs)(OO,{sx:{display:"flex",gap:1},children:[(0,Me.jsx)($F,{size:"small",value:T,onChange:e=>P(e.target.value),placeholder:"Add rule",onKeyPress:e=>"Enter"===e.key&&$()}),(0,Me.jsx)(j$,{onClick:$,size:"small",children:(0,Me.jsx)(MU,{})})]})]}),(0,Me.jsx)(lW,{control:(0,Me.jsx)(xW,{checked:f,onChange:e=>m(e.target.checked)}),label:"Private Room"}),f&&(0,Me.jsx)($F,{margin:"dense",label:"Password",type:"password",fullWidth:!0,value:g,onChange:e=>v(e.target.value),required:!0}),(0,Me.jsx)($F,{margin:"dense",label:"Maximum Participants",type:"number",fullWidth:!0,value:k,onChange:e=>C(Number(e.target.value)),inputProps:{min:2,max:100}}),(0,Me.jsx)(hz,{sx:{my:2}}),(0,Me.jsx)(cD,{variant:"h6",sx:{mb:2},children:"Live Session Settings"}),(0,Me.jsx)(lW,{control:(0,Me.jsx)(xW,{checked:R,onChange:e=>A(e.target.checked)}),label:"Enable Live Sessions"}),R&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)($F,{margin:"dense",label:"Maximum Live Participants",type:"number",fullWidth:!0,value:N,onChange:e=>j(Number(e.target.value)),inputProps:{min:1,max:10},helperText:"Maximum number of people who can join the live session"}),(0,Me.jsx)(lW,{control:(0,Me.jsx)(xW,{checked:O,onChange:e=>D(e.target.checked)}),label:"Allow Guest Speakers"}),O&&(0,Me.jsx)($F,{margin:"dense",label:"Guest Speaker Limit",type:"number",fullWidth:!0,value:M,onChange:e=>L(Number(e.target.value)),inputProps:{min:1,max:5},helperText:"Maximum number of guest speakers allowed in a session"})]})]}),(0,Me.jsxs)(eB,{children:[(0,Me.jsx)(q$,{onClick:n,children:"Cancel"}),(0,Me.jsx)(q$,{onClick:async()=>{if(r)if(u.trim())if(!f||g.trim()){a(!0),c("");try{const e=await kx(pw(DN,"users",r.uid));if(!e.exists())throw new Error("User data not found");const t=e.data(),i={userId:r.uid,username:t.username||r.displayName||"Unknown User",displayName:t.displayName||t.username||r.displayName||"Unknown User",avatar:t.avatar||t.photoURL||r.photoURL||""},s=new Date,a={name:u.trim(),description:h.trim(),owner:i,members:[{...i,role:"owner",joinedAt:s}],memberCount:1,createdAt:s,isPrivate:f,password:f?g.trim():null,tags:y,category:S,maxParticipants:k,rules:E,isLive:!1,liveParticipants:[],activeUsers:0,bannedUsers:[],enableLiveSessions:R,maxLiveParticipants:N,allowGuestSpeakers:O,guestSpeakerLimit:M,liveSettings:{audioEnabled:!0,videoEnabled:!1,screenSharingEnabled:!1,raiseHandEnabled:!0,chatEnabled:!0,reactionsEnabled:!0}},l=await Rx(hw(DN,"sideRooms"),a),c=pw(DN,"users",r.uid);await Tx(c,{sideRooms:Bx(l.id)}),n(),o(`/side-room/${l.id}`)}catch(e){console.error("Error creating room:",e),c("Failed to create room. Please try again.")}finally{a(!1)}}else c("Password is required for private rooms");else c("Room name is required");else c("You must be logged in to create a room")},variant:"contained",disabled:s,children:s?"Creating...":"Create Room"})]})]})},_W=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(""),d=ne(),{currentUser:h}=$N();(0,i.useEffect)((()=>{const e=Ax(ox(hw(DN,"sideRooms"),ux("createdAt","desc")),(e=>{const n=e.docs.map((e=>({id:e.id,...e.data()})));t(n)}));return()=>e()}),[]);return(0,Me.jsxs)(OO,{sx:{p:3},children:[(0,Me.jsxs)(OO,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,Me.jsx)(cD,{variant:"h4",component:"h1",children:"Side Rooms \ud83c\udfad"}),(0,Me.jsx)(q$,{variant:"contained",color:"primary",startIcon:(0,Me.jsx)(MU,{}),onClick:()=>r(!0),children:"Create Room"})]}),n&&(0,Me.jsx)(SW,{open:n,onClose:()=>r(!1)}),(0,Me.jsx)(OO,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},gap:3},children:e.map((e=>{var t;const n=null===(t=e.members)||void 0===t?void 0:t.find((e=>"owner"===e.role));return(0,Me.jsxs)(AB,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,Me.jsxs)(DB,{sx:{flexGrow:1},children:[(0,Me.jsxs)(OO,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Me.jsx)(tD,{src:null===n||void 0===n?void 0:n.avatar,alt:null===n||void 0===n?void 0:n.username,sx:{mr:1}}),(0,Me.jsxs)(OO,{children:[(0,Me.jsx)(cD,{variant:"h6",children:e.name}),(0,Me.jsxs)(cD,{variant:"body2",color:"text.secondary",children:["by ",(null===n||void 0===n?void 0:n.username)||"Anonymous"]})]})]}),(0,Me.jsx)(cD,{variant:"body2",sx:{mb:2},children:e.description}),(0,Me.jsxs)(OO,{sx:{display:"flex",gap:1,mb:2,flexWrap:"wrap"},children:[(0,Me.jsx)(Nz,{icon:(0,Me.jsx)(eW,{}),label:e.isLive?"Live":"Offline",color:e.isLive?"error":"success",size:"small"}),(0,Me.jsx)(Nz,{icon:(0,Me.jsx)(tW,{}),label:`${e.memberCount||0} members`,size:"small"}),e.isPrivate&&(0,Me.jsx)(Nz,{icon:(0,Me.jsx)(nW,{}),label:"Private",color:"default",size:"small"})]})]}),(0,Me.jsx)(ZV,{children:(0,Me.jsx)(q$,{fullWidth:!0,variant:"contained",onClick:()=>(e=>{e.isPrivate?(l(e),s(!0)):d(`/side-room/${e.id}`)})(e),children:e.isPrivate?"Join Private Room":"Join Room"})})]},e.id)}))}),(0,Me.jsxs)(Bz,{open:o,onClose:()=>s(!1),children:[(0,Me.jsx)(Hz,{children:"Enter Room Password"}),(0,Me.jsx)(Yz,{children:(0,Me.jsx)($F,{autoFocus:!0,margin:"dense",label:"Password",type:"password",fullWidth:!0,value:c,onChange:e=>u(e.target.value)})}),(0,Me.jsxs)(eB,{children:[(0,Me.jsx)(q$,{onClick:()=>s(!1),children:"Cancel"}),(0,Me.jsx)(q$,{onClick:()=>{a&&c===a.password?(d(`/side-room/${a.id}`),s(!1),u(""),l(null)):uj.error("Incorrect password")},variant:"contained",children:"Join"})]})]})]})};function kW(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function CW(e){return e instanceof kW(e).Element||e instanceof Element}function EW(e){return e instanceof kW(e).HTMLElement||e instanceof HTMLElement}function IW(e){return"undefined"!==typeof ShadowRoot&&(e instanceof kW(e).ShadowRoot||e instanceof ShadowRoot)}var TW=Math.max,PW=Math.min,RW=Math.round;function AW(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function NW(){return!/^((?!chrome|android).)*safari/i.test(AW())}function jW(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&EW(e)&&(i=e.offsetWidth>0&&RW(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&RW(r.height)/e.offsetHeight||1);var s=(CW(e)?kW(e):window).visualViewport,a=!NW()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function OW(e){var t=kW(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function DW(e){return e?(e.nodeName||"").toLowerCase():null}function MW(e){return((CW(e)?e.ownerDocument:e.document)||window.document).documentElement}function LW(e){return jW(MW(e)).left+OW(e).scrollLeft}function FW(e){return kW(e).getComputedStyle(e)}function $W(e){var t=FW(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function zW(e,t,n){void 0===n&&(n=!1);var r=EW(t),i=EW(t)&&function(e){var t=e.getBoundingClientRect(),n=RW(t.width)/e.offsetWidth||1,r=RW(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=MW(t),s=jW(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==DW(t)||$W(o))&&(a=function(e){return e!==kW(e)&&EW(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:OW(e);var t}(t)),EW(t)?((l=jW(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=LW(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function BW(e){var t=jW(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function UW(e){return"html"===DW(e)?e:e.assignedSlot||e.parentNode||(IW(e)?e.host:null)||MW(e)}function VW(e){return["html","body","#document"].indexOf(DW(e))>=0?e.ownerDocument.body:EW(e)&&$W(e)?e:VW(UW(e))}function WW(e,t){var n;void 0===t&&(t=[]);var r=VW(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=kW(r),s=i?[o].concat(o.visualViewport||[],$W(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(WW(UW(s)))}function qW(e){return["table","td","th"].indexOf(DW(e))>=0}function HW(e){return EW(e)&&"fixed"!==FW(e).position?e.offsetParent:null}function KW(e){for(var t=kW(e),n=HW(e);n&&qW(n)&&"static"===FW(n).position;)n=HW(n);return n&&("html"===DW(n)||"body"===DW(n)&&"static"===FW(n).position)?t:n||function(e){var t=/firefox/i.test(AW());if(/Trident/i.test(AW())&&EW(e)&&"fixed"===FW(e).position)return null;var n=UW(e);for(IW(n)&&(n=n.host);EW(n)&&["html","body"].indexOf(DW(n))<0;){var r=FW(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var GW="top",QW="bottom",YW="right",XW="left",JW="auto",ZW=[GW,QW,YW,XW],eq="start",tq="end",nq="viewport",rq="popper",iq=ZW.reduce((function(e,t){return e.concat([t+"-"+eq,t+"-"+tq])}),[]),oq=[].concat(ZW,[JW]).reduce((function(e,t){return e.concat([t,t+"-"+eq,t+"-"+tq])}),[]),sq=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function aq(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function lq(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var cq={placement:"bottom",modifiers:[],strategy:"absolute"};function uq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function dq(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?cq:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},cq,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:CW(e)?WW(e):e.contextElement?WW(e.contextElement):[],popper:WW(t)};var u=function(e){var t=aq(e);return sq.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(uq(t,n)){i.rects={reference:zW(t,KW(n),"fixed"===i.options.strategy),popper:BW(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof s&&(i=s({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:lq((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),a=!0}};if(!uq(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var hq={passive:!0};function pq(e){return e.split("-")[0]}function fq(e){return e.split("-")[1]}function mq(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function gq(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?pq(i):null,s=i?fq(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case GW:t={x:a,y:n.y-r.height};break;case QW:t={x:a,y:n.y+n.height};break;case YW:t={x:n.x+n.width,y:l};break;case XW:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?mq(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case eq:t[c]=t[c]-(n[u]/2-r[u]/2);break;case tq:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var vq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yq(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=XW,w=GW,x=window;if(c){var S=KW(n),_="clientHeight",k="clientWidth";if(S===kW(n)&&"static"!==FW(S=MW(n)).position&&"absolute"===a&&(_="scrollHeight",k="scrollWidth"),i===GW||(i===XW||i===YW)&&o===tq)w=QW,m-=(d&&S===x&&x.visualViewport?x.visualViewport.height:S[_])-r.height,m*=l?1:-1;if(i===XW||(i===GW||i===QW)&&o===tq)b=YW,p-=(d&&S===x&&x.visualViewport?x.visualViewport.width:S[k])-r.width,p*=l?1:-1}var C,E=Object.assign({position:a},c&&vq),I=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:RW(n*i)/i||0,y:RW(r*i)/i||0}}({x:p,y:m},kW(n)):{x:p,y:m};return p=I.x,m=I.y,l?Object.assign({},E,((C={})[w]=y?"0":"",C[b]=v?"0":"",C.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",C)):Object.assign({},E,((t={})[w]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const bq={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];EW(i)&&DW(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});EW(r)&&DW(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const wq={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=oq.reduce((function(e,n){return e[n]=function(e,t,n){var r=pq(e),i=[XW,GW].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[XW,YW].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var xq={left:"right",right:"left",bottom:"top",top:"bottom"};function Sq(e){return e.replace(/left|right|bottom|top/g,(function(e){return xq[e]}))}var _q={start:"end",end:"start"};function kq(e){return e.replace(/start|end/g,(function(e){return _q[e]}))}function Cq(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&IW(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Eq(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Iq(e,t,n){return t===nq?Eq(function(e,t){var n=kW(e),r=MW(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=NW();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+LW(e),y:l}}(e,n)):CW(t)?function(e,t){var n=jW(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Eq(function(e){var t,n=MW(e),r=OW(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=TW(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=TW(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+LW(e),l=-r.scrollTop;return"rtl"===FW(i||n).direction&&(a+=TW(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(MW(e)))}function Tq(e,t,n,r){var i="clippingParents"===t?function(e){var t=WW(UW(e)),n=["absolute","fixed"].indexOf(FW(e).position)>=0&&EW(e)?KW(e):e;return CW(n)?t.filter((function(e){return CW(e)&&Cq(e,n)&&"body"!==DW(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=Iq(e,n,r);return t.top=TW(i.top,t.top),t.right=PW(i.right,t.right),t.bottom=PW(i.bottom,t.bottom),t.left=TW(i.left,t.left),t}),Iq(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Pq(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Rq(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Aq(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?nq:c,d=n.elementContext,h=void 0===d?rq:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=Pq("number"!==typeof g?g:Rq(g,ZW)),y=h===rq?"reference":rq,b=e.rects.popper,w=e.elements[f?y:h],x=Tq(CW(w)?w:w.contextElement||MW(e.elements.popper),l,u,s),S=jW(e.elements.reference),_=gq({reference:S,element:b,strategy:"absolute",placement:i}),k=Eq(Object.assign({},b,_)),C=h===rq?k:S,E={top:x.top-C.top+v.top,bottom:C.bottom-x.bottom+v.bottom,left:x.left-C.left+v.left,right:C.right-x.right+v.right},I=e.modifiersData.offset;if(h===rq&&I){var T=I[i];Object.keys(E).forEach((function(e){var t=[YW,QW].indexOf(e)>=0?1:-1,n=[GW,QW].indexOf(e)>=0?"y":"x";E[e]+=T[n]*t}))}return E}const Nq={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=pq(g),y=l||(v===g||!f?[Sq(g)]:function(e){if(pq(e)===JW)return[];var t=Sq(e);return[kq(e),t,kq(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(pq(n)===JW?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?oq:l,u=fq(r),d=u?a?iq:iq.filter((function(e){return fq(e)===u})):ZW,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=Aq(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[pq(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,S=new Map,_=!0,k=b[0],C=0;C<b.length;C++){var E=b[C],I=pq(E),T=fq(E)===eq,P=[GW,QW].indexOf(I)>=0,R=P?"width":"height",A=Aq(t,{placement:E,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),N=P?T?YW:XW:T?QW:GW;w[R]>x[R]&&(N=Sq(N));var j=Sq(N),O=[];if(o&&O.push(A[I]<=0),a&&O.push(A[N]<=0,A[j]<=0),O.every((function(e){return e}))){k=E,_=!1;break}S.set(E,O)}if(_)for(var D=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},M=f?3:1;M>0;M--){if("break"===D(M))break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function jq(e,t,n){return TW(e,PW(t,n))}const Oq={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=Aq(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=pq(t.placement),y=fq(t.placement),b=!y,w=mq(v),x="x"===w?"y":"x",S=t.modifiersData.popperOffsets,_=t.rects.reference,k=t.rects.popper,C="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,E="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(S){if(o){var P,R="y"===w?GW:XW,A="y"===w?QW:YW,N="y"===w?"height":"width",j=S[w],O=j+g[R],D=j-g[A],M=p?-k[N]/2:0,L=y===eq?_[N]:k[N],F=y===eq?-k[N]:-_[N],$=t.elements.arrow,z=p&&$?BW($):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=B[R],V=B[A],W=jq(0,_[N],z[N]),q=b?_[N]/2-M-W-U-E.mainAxis:L-W-U-E.mainAxis,H=b?-_[N]/2+M+W+V+E.mainAxis:F+W+V+E.mainAxis,K=t.elements.arrow&&KW(t.elements.arrow),G=K?"y"===w?K.clientTop||0:K.clientLeft||0:0,Q=null!=(P=null==I?void 0:I[w])?P:0,Y=j+H-Q,X=jq(p?PW(O,j+q-Q-G):O,j,p?TW(D,Y):D);S[w]=X,T[w]=X-j}if(a){var J,Z="x"===w?GW:XW,ee="x"===w?QW:YW,te=S[x],ne="y"===x?"height":"width",re=te+g[Z],ie=te-g[ee],oe=-1!==[GW,XW].indexOf(v),se=null!=(J=null==I?void 0:I[x])?J:0,ae=oe?re:te-_[ne]-k[ne]-se+E.altAxis,le=oe?te+_[ne]+k[ne]-se-E.altAxis:ie,ce=p&&oe?function(e,t,n){var r=jq(e,t,n);return r>n?n:r}(ae,te,le):jq(p?ae:re,te,p?le:ie);S[x]=ce,T[x]=ce-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]};const Dq={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=pq(n.placement),l=mq(a),c=[XW,YW].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return Pq("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Rq(e,ZW))}(i.padding,n),d=BW(o),h="y"===l?GW:XW,p="y"===l?QW:YW,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=KW(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=u[h],w=v-d[c]-u[p],x=v/2-d[c]/2+y,S=jq(b,x,w),_=l;n.modifiersData[r]=((t={})[_]=S,t.centerOffset=S-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Cq(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mq(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Lq(e){return[GW,YW,QW,XW].some((function(t){return e[t]>=0}))}var Fq=dq({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=kW(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,hq)})),a&&l.addEventListener("resize",n.update,hq),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,hq)})),a&&l.removeEventListener("resize",n.update,hq)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=gq({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:pq(t.placement),variation:fq(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,yq(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,yq(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},bq,wq,Nq,Oq,Dq,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Aq(t,{elementContext:"reference"}),a=Aq(t,{altBoundary:!0}),l=Mq(s,r),c=Mq(a,i,o),u=Lq(l),d=Lq(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});function $q(e){return Do("MuiPopper",e)}vO("MuiPopper",["root"]);function zq(e){return"function"===typeof e?e():e}function Bq(e){return void 0!==e.nodeType}const Uq={},Vq=i.forwardRef((function(e,t){const{anchorEl:n,children:r,direction:o,disablePortal:s,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:d,slotProps:h={},slots:p={},TransitionProps:f,ownerState:m,...g}=e,v=i.useRef(null),y=VO(v,t),b=i.useRef(null),w=VO(b,d),x=i.useRef(w);Fr((()=>{x.current=w}),[w]),i.useImperativeHandle(d,(()=>b.current),[]);const S=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(c,o),[_,k]=i.useState(S),[C,E]=i.useState(zq(n));i.useEffect((()=>{b.current&&b.current.forceUpdate()})),i.useEffect((()=>{n&&E(zq(n))}),[n]),Fr((()=>{if(!C||!l)return;let e=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{k(e.placement)})(t)}}];null!=a&&(e=e.concat(a)),u&&null!=u.modifiers&&(e=e.concat(u.modifiers));const t=Fq(C,v.current,{placement:S,...u,modifiers:e});return x.current(t),()=>{t.destroy(),x.current(null)}}),[C,s,a,l,u,S]);const I={placement:_};null!==f&&(I.TransitionProps=f);const T=(e=>{const{classes:t}=e;return Mo({root:["root"]},$q,t)})(e),P=p.root??"div",R=AM({elementType:P,externalSlotProps:h.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:T.root});return(0,Me.jsx)(P,{...R,children:"function"===typeof r?r(I):r})})),Wq=i.forwardRef((function(e,t){const{anchorEl:n,children:r,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=Uq,popperRef:p,style:f,transition:m=!1,slotProps:g={},slots:v={},...y}=e,[b,w]=i.useState(!0);if(!l&&!u&&(!m||b))return null;let x;if(o)x=o;else if(n){const e=zq(n);x=e&&Bq(e)?pD(e).body:pD(null).body}const S=u||!l||m&&!b?void 0:"none",_=m?{in:u,onEnter:()=>{w(!1)},onExited:()=>{w(!0)}}:void 0;return(0,Me.jsx)(SL,{disablePortal:a,container:x,children:(0,Me.jsx)(Vq,{anchorEl:n,direction:s,disablePortal:a,modifiers:c,ref:t,open:m?!b:u,placement:d,popperOptions:h,popperRef:p,slotProps:g,slots:v,...y,style:{position:"fixed",top:0,left:0,display:S,...f},TransitionProps:_,children:r})})})),qq=ds(Wq,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Hq=i.forwardRef((function(e,t){const n=mn(),r=So({props:e,name:"MuiPopper"}),{anchorEl:i,component:o,components:s,componentsProps:a,container:l,disablePortal:c,keepMounted:u,modifiers:d,open:h,placement:p,popperOptions:f,popperRef:m,transition:g,slots:v,slotProps:y,...b}=r,w=v?.root??s?.Root,x={anchorEl:i,container:l,disablePortal:c,keepMounted:u,modifiers:d,open:h,placement:p,popperOptions:f,popperRef:m,transition:g,...b};return(0,Me.jsx)(qq,{as:o,direction:n?"rtl":"ltr",slots:{root:w},slotProps:y??a,...x,ref:t})})),Kq=Hq;function Gq(e){return Do("MuiTooltip",e)}const Qq=vO("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);const Yq=ds(Kq,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(mO((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInteractive},style:{pointerEvents:"auto"}},{props:e=>{let{open:t}=e;return!t},style:{pointerEvents:"none"}},{props:e=>{let{ownerState:t}=e;return t.arrow},style:{[`&[data-popper-placement*="bottom"] .${Qq.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Qq.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Qq.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Qq.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{[`&[data-popper-placement*="right"] .${Qq.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{[`&[data-popper-placement*="right"] .${Qq.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{[`&[data-popper-placement*="left"] .${Qq.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{[`&[data-popper-placement*="left"] .${Qq.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}}))),Xq=ds("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${ls(n.placement.split("-")[0])}`]]}})(mO((e=>{let{theme:t}=e;return{backgroundColor:t.vars?t.vars.palette.Tooltip.bg:ti(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Qq.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Qq.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Qq.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Qq.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:e=>{let{ownerState:t}=e;return t.arrow},style:{position:"relative",margin:0}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:(n=16/14,Math.round(1e5*n)/1e5)+"em",fontWeight:t.typography.fontWeightRegular}},{props:e=>{let{ownerState:t}=e;return!t.isRtl},style:{[`.${Qq.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Qq.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:e=>{let{ownerState:t}=e;return!t.isRtl&&t.touch},style:{[`.${Qq.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Qq.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl},style:{[`.${Qq.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Qq.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl&&t.touch},style:{[`.${Qq.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Qq.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[`.${Qq.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[`.${Qq.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]};var n}))),Jq=ds("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(mO((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:ti(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})));let Zq=!1;const eH=new YM;let tH={x:0,y:0};function nH(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t&&t(n,...i),e(n,...i)}}const rH=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiTooltip"}),{arrow:r=!1,children:o,classes:s,components:a={},componentsProps:l={},describeChild:c=!1,disableFocusListener:u=!1,disableHoverListener:d=!1,disableInteractive:h=!1,disableTouchListener:p=!1,enterDelay:f=100,enterNextDelay:m=0,enterTouchDelay:g=700,followCursor:v=!1,id:y,leaveDelay:b=0,leaveTouchDelay:w=1500,onClose:x,onOpen:S,open:_,placement:k="bottom",PopperComponent:C,PopperProps:E={},slotProps:I={},slots:T={},title:P,TransitionComponent:R,TransitionProps:A,...N}=n,j=i.isValidElement(o)?o:(0,Me.jsx)("span",{children:o}),O=lO(),D=mn(),[M,L]=i.useState(),[F,$]=i.useState(null),z=i.useRef(!1),B=h||v,U=XM(),V=XM(),W=XM(),q=XM(),[H,K]=vF({controlled:_,default:!1,name:"Tooltip",state:"open"});let G=H;const Q=HF(y),Y=i.useRef(),X=GF((()=>{void 0!==Y.current&&(document.body.style.WebkitUserSelect=Y.current,Y.current=void 0),q.clear()}));i.useEffect((()=>X),[X]);const J=e=>{eH.clear(),Zq=!0,K(!0),S&&!G&&S(e)},Z=GF((e=>{eH.start(800+b,(()=>{Zq=!1})),K(!1),x&&G&&x(e),U.start(O.transitions.duration.shortest,(()=>{z.current=!1}))})),ee=e=>{z.current&&"touchstart"!==e.type||(M&&M.removeAttribute("title"),V.clear(),W.clear(),f||Zq&&m?V.start(Zq?m:f,(()=>{J(e)})):J(e))},te=e=>{V.clear(),W.start(b,(()=>{Z(e)}))},[,ne]=i.useState(!1),re=e=>{KF(e.target)||(ne(!1),te(e))},ie=e=>{M||L(e.currentTarget),KF(e.target)&&(ne(!0),ee(e))},oe=e=>{z.current=!0;const t=j.props;t.onTouchStart&&t.onTouchStart(e)},se=e=>{oe(e),W.clear(),U.clear(),X(),Y.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",q.start(g,(()=>{document.body.style.WebkitUserSelect=Y.current,ee(e)}))},ae=e=>{j.props.onTouchEnd&&j.props.onTouchEnd(e),X(),W.start(w,(()=>{Z(e)}))};i.useEffect((()=>{if(G)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"===e.key&&Z(e)}}),[Z,G]);const le=ED(PM(j),L,t);P||0===P||(G=!1);const ce=i.useRef(),ue={},de="string"===typeof P;c?(ue.title=G||!de||d?null:P,ue["aria-describedby"]=G?Q:null):(ue["aria-label"]=de?P:null,ue["aria-labelledby"]=G&&!de?Q:null);const he={...ue,...N,...j.props,className:Ao(N.className,j.props.className),onTouchStart:oe,ref:le,...v?{onMouseMove:e=>{const t=j.props;t.onMouseMove&&t.onMouseMove(e),tH={x:e.clientX,y:e.clientY},ce.current&&ce.current.update()}}:{}};const pe={};p||(he.onTouchStart=se,he.onTouchEnd=ae),d||(he.onMouseOver=nH(ee,he.onMouseOver),he.onMouseLeave=nH(te,he.onMouseLeave),B||(pe.onMouseOver=ee,pe.onMouseLeave=te)),u||(he.onFocus=nH(ie,he.onFocus),he.onBlur=nH(re,he.onBlur),B||(pe.onFocus=ie,pe.onBlur=re));const fe={...n,isRtl:D,arrow:r,disableInteractive:B,placement:k,PopperComponentProp:C,touch:z.current},me="function"===typeof I.popper?I.popper(fe):I.popper,ge=i.useMemo((()=>{let e=[{name:"arrow",enabled:Boolean(F),options:{element:F,padding:4}}];return E.popperOptions?.modifiers&&(e=e.concat(E.popperOptions.modifiers)),me?.popperOptions?.modifiers&&(e=e.concat(me.popperOptions.modifiers)),{...E.popperOptions,...me?.popperOptions,modifiers:e}}),[F,E.popperOptions,me?.popperOptions]),ve=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e;return Mo({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${ls(o.split("-")[0])}`],arrow:["arrow"]},Gq,t)})(fe),ye="function"===typeof I.transition?I.transition(fe):I.transition,be={slots:{popper:a.Popper,transition:a.Transition??R,tooltip:a.Tooltip,arrow:a.Arrow,...T},slotProps:{arrow:I.arrow??l.arrow,popper:{...E,...me??l.popper},tooltip:I.tooltip??l.tooltip,transition:{...A,...ye??l.transition}}},[we,xe]=YO("popper",{elementType:Yq,externalForwardedProps:be,ownerState:fe,className:Ao(ve.popper,E?.className)}),[Se,_e]=YO("transition",{elementType:vL,externalForwardedProps:be,ownerState:fe}),[ke,Ce]=YO("tooltip",{elementType:Xq,className:ve.tooltip,externalForwardedProps:be,ownerState:fe}),[Ee,Ie]=YO("arrow",{elementType:Jq,className:ve.arrow,externalForwardedProps:be,ownerState:fe,ref:$});return(0,Me.jsxs)(i.Fragment,{children:[i.cloneElement(j,he),(0,Me.jsx)(we,{as:C??Kq,placement:k,anchorEl:v?{getBoundingClientRect:()=>({top:tH.y,left:tH.x,right:tH.x,bottom:tH.y,width:0,height:0})}:M,popperRef:ce,open:!!M&&G,id:Q,transition:!0,...pe,...xe,popperOptions:ge,children:e=>{let{TransitionProps:t}=e;return(0,Me.jsx)(Se,{timeout:O.transitions.duration.shorter,...t,..._e,children:(0,Me.jsxs)(ke,{...Ce,children:[P,r?(0,Me.jsx)(Ee,{...Ie}):null]})})}})]})})),iH=rH;function oH(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const sH=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=e;return(e,a)=>{let{inputValue:l,getOptionLabel:c}=a,u=s?l.trim():l;n&&(u=u.toLowerCase()),t&&(u=oH(u));const d=u?e.filter((e=>{let r=(o||c)(e);return n&&(r=r.toLowerCase()),t&&(r=oH(r)),"start"===i?r.startsWith(u):r.includes(u)})):e;return"number"===typeof r?d.slice(0,r):d}}(),aH=e=>null!==e.current&&e.current.parentElement?.contains(document.activeElement),lH=[];function cH(e,t,n){if(t||null==e)return"";const r=n(e);return"string"===typeof r?r:""}const uH=function(e){const{unstable_isActiveElementInListbox:t=aH,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,clearOnBlur:l=!e.freeSolo,clearOnEscape:c=!1,componentName:u="useAutocomplete",defaultValue:d=(e.multiple?lH:null),disableClearable:h=!1,disableCloseOnSelect:p=!1,disabled:f,disabledItemsFocusable:m=!1,disableListWrap:g=!1,filterOptions:v=sH,filterSelectedOptions:y=!1,freeSolo:b=!1,getOptionDisabled:w,getOptionKey:x,getOptionLabel:S=e=>e.label??e,groupBy:_,handleHomeEndKeys:k=!e.freeSolo,id:C,includeInputInList:E=!1,inputValue:I,isOptionEqualToValue:T=(e,t)=>e===t,multiple:P=!1,onChange:R,onClose:A,onHighlightChange:N,onInputChange:j,onOpen:O,open:D,openOnFocus:M=!1,options:L,readOnly:F=!1,selectOnFocus:$=!e.freeSolo,value:z}=e,B=hD(C);let U=S;U=e=>{const t=S(e);return"string"!==typeof t?String(t):t};const V=i.useRef(!1),W=i.useRef(!0),q=i.useRef(null),H=i.useRef(null),[K,G]=i.useState(null),[Q,Y]=i.useState(-1),X=o?0:-1,J=i.useRef(X),Z=i.useRef(cH(d,P,U)).current,[ee,te]=gF({controlled:z,default:d,name:u}),[ne,re]=gF({controlled:I,default:Z,name:u,state:"inputValue"}),[ie,oe]=i.useState(!1),se=i.useCallback(((e,t,n)=>{if(!(P?ee.length<t.length:null!==t)&&!l)return;const r=cH(t,P,U);ne!==r&&(re(r),j&&j(e,r,n))}),[U,ne,P,j,re,l,ee]),[ae,le]=gF({controlled:D,default:!1,name:u,state:"open"}),[ce,ue]=i.useState(!0),de=!P&&null!=ee&&ne===U(ee),he=ae&&!F,pe=he?v(L.filter((e=>!y||!(P?ee:[ee]).some((t=>null!==t&&T(e,t))))),{inputValue:de&&ce?"":ne,getOptionLabel:U}):[],fe=WU({filteredOptions:pe,value:ee,inputValue:ne});i.useEffect((()=>{const e=ee!==fe.value;ie&&!e||b&&!e||se(null,ee,"reset")}),[ee,se,ie,fe.value,b]);const me=ae&&pe.length>0&&!F,ge=mD((e=>{-1===e?q.current.focus():K.querySelector(`[data-tag-index="${e}"]`).focus()}));i.useEffect((()=>{P&&Q>ee.length-1&&(Y(-1),ge(-1))}),[ee,P,Q,ge]);const ve=mD((e=>{let{event:t,index:r,reason:i}=e;if(J.current=r,-1===r?q.current.removeAttribute("aria-activedescendant"):q.current.setAttribute("aria-activedescendant",`${B}-option-${r}`),N&&["mouse","keyboard","touch"].includes(i)&&N(t,-1===r?null:pe[r],i),!H.current)return;const o=H.current.querySelector(`[role="option"].${n}-focused`);o&&(o.classList.remove(`${n}-focused`),o.classList.remove(`${n}-focusVisible`));let s=H.current;if("listbox"!==H.current.getAttribute("role")&&(s=H.current.parentElement.querySelector('[role="listbox"]')),!s)return;if(-1===r)return void(s.scrollTop=0);const a=H.current.querySelector(`[data-option-index="${r}"]`);if(a&&(a.classList.add(`${n}-focused`),"keyboard"===i&&a.classList.add(`${n}-focusVisible`),s.scrollHeight>s.clientHeight&&"mouse"!==i&&"touch"!==i)){const e=a,t=s.clientHeight+s.scrollTop,n=e.offsetTop+e.offsetHeight;n>t?s.scrollTop=n-s.clientHeight:e.offsetTop-e.offsetHeight*(_?1.3:0)<s.scrollTop&&(s.scrollTop=e.offsetTop-e.offsetHeight*(_?1.3:0))}})),ye=mD((e=>{let{event:t,diff:n,direction:i="next",reason:o}=e;if(!he)return;const s=function(e,t){if(!H.current||e<0||e>=pe.length)return-1;let n=e;for(;;){const r=H.current.querySelector(`[data-option-index="${n}"]`),i=!m&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(r&&r.hasAttribute("tabindex")&&!i)return n;if(n="next"===t?(n+1)%pe.length:(n-1+pe.length)%pe.length,n===e)return-1}}((()=>{const e=pe.length-1;if("reset"===n)return X;if("start"===n)return 0;if("end"===n)return e;const t=J.current+n;return t<0?-1===t&&E?-1:g&&-1!==J.current||Math.abs(n)>1?0:e:t>e?t===e+1&&E?-1:g||Math.abs(n)>1?e:0:t})(),i);if(ve({index:s,reason:o,event:t}),r&&"reset"!==n)if(-1===s)q.current.value=ne;else{const e=U(pe[s]);q.current.value=e;0===e.toLowerCase().indexOf(ne.toLowerCase())&&ne.length>0&&q.current.setSelectionRange(ne.length,e.length)}})),be=i.useCallback((()=>{if(!he)return;const e=(()=>{if(-1!==J.current&&fe.filteredOptions&&fe.filteredOptions.length!==pe.length&&fe.inputValue===ne&&(P?ee.length===fe.value.length&&fe.value.every(((e,t)=>U(ee[t])===U(e))):(e=fe.value,t=ee,(e?U(e):"")===(t?U(t):"")))){const e=fe.filteredOptions[J.current];if(e)return pe.findIndex((t=>U(t)===U(e)))}var e,t;return-1})();if(-1!==e)return void(J.current=e);const t=P?ee[0]:ee;if(0!==pe.length&&null!=t){if(H.current)if(null==t)J.current>=pe.length-1?ve({index:pe.length-1}):ve({index:J.current});else{const e=pe[J.current];if(P&&e&&-1!==ee.findIndex((t=>T(e,t))))return;const n=pe.findIndex((e=>T(e,t)));-1===n?ye({diff:"reset"}):ve({index:n})}}else ye({diff:"reset"})}),[pe.length,!P&&ee,y,ye,ve,he,ne,P]),we=mD((e=>{UO(H,e),e&&be()}));i.useEffect((()=>{be()}),[be]);const xe=e=>{ae||(le(!0),ue(!0),O&&O(e))},Se=(e,t)=>{ae&&(le(!1),A&&A(e,t))},_e=(e,t,n,r)=>{if(P){if(ee.length===t.length&&ee.every(((e,n)=>e===t[n])))return}else if(ee===t)return;R&&R(e,t,n,r),te(t)},ke=i.useRef(!1),Ce=function(e,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",i=t;if(P){i=Array.isArray(ee)?ee.slice():[];const e=i.findIndex((e=>T(t,e)));-1===e?i.push(t):"freeSolo"!==n&&(i.splice(e,1),r="removeOption")}se(e,i,r),_e(e,i,r,{option:t}),p||e&&(e.ctrlKey||e.metaKey)||Se(e,r),(!0===a||"touch"===a&&ke.current||"mouse"===a&&!ke.current)&&q.current.blur()},Ee=(e,t)=>{if(!P)return;""===ne&&Se(e,"toggleInput");let n=Q;-1===Q?""===ne&&"previous"===t&&(n=ee.length-1):(n+="next"===t?1:-1,n<0&&(n=0),n===ee.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;let n=e;for(;;){if("next"===t&&n===ee.length||"previous"===t&&-1===n)return-1;const e=K.querySelector(`[data-tag-index="${n}"]`);if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),Y(n),ge(n)},Ie=e=>{V.current=!0,re(""),j&&j(e,"","clear"),_e(e,P?[]:null,"clear")},Te=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1===Q||["ArrowLeft","ArrowRight"].includes(t.key)||(Y(-1),ge(-1)),229!==t.which))switch(t.key){case"Home":he&&k&&(t.preventDefault(),ye({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":he&&k&&(t.preventDefault(),ye({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),ye({diff:-5,direction:"previous",reason:"keyboard",event:t}),xe(t);break;case"PageDown":t.preventDefault(),ye({diff:5,direction:"next",reason:"keyboard",event:t}),xe(t);break;case"ArrowDown":t.preventDefault(),ye({diff:1,direction:"next",reason:"keyboard",event:t}),xe(t);break;case"ArrowUp":t.preventDefault(),ye({diff:-1,direction:"previous",reason:"keyboard",event:t}),xe(t);break;case"ArrowLeft":Ee(t,"previous");break;case"ArrowRight":Ee(t,"next");break;case"Enter":if(-1!==J.current&&he){const e=pe[J.current],n=!!w&&w(e);if(t.preventDefault(),n)return;Ce(t,e,"selectOption"),r&&q.current.setSelectionRange(q.current.value.length,q.current.value.length)}else b&&""!==ne&&!1===de&&(P&&t.preventDefault(),Ce(t,ne,"createOption","freeSolo"));break;case"Escape":he?(t.preventDefault(),t.stopPropagation(),Se(t,"escape")):c&&(""!==ne||P&&ee.length>0)&&(t.preventDefault(),t.stopPropagation(),Ie(t));break;case"Backspace":if(P&&!F&&""===ne&&ee.length>0){const e=-1===Q?ee.length-1:Q,n=ee.slice();n.splice(e,1),_e(t,n,"removeOption",{option:ee[e]})}break;case"Delete":if(P&&!F&&""===ne&&ee.length>0&&-1!==Q){const e=Q,n=ee.slice();n.splice(e,1),_e(t,n,"removeOption",{option:ee[e]})}}},Pe=e=>{oe(!0),M&&!V.current&&xe(e)},Re=e=>{t(H)?q.current.focus():(oe(!1),W.current=!0,V.current=!1,s&&-1!==J.current&&he?Ce(e,pe[J.current],"blur"):s&&b&&""!==ne?Ce(e,ne,"blur","freeSolo"):l&&se(e,ee,"blur"),Se(e,"blur"))},Ae=e=>{const t=e.target.value;ne!==t&&(re(t),ue(!1),j&&j(e,t,"input")),""===t?h||P||_e(e,null,"clear"):xe(e)},Ne=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));J.current!==t&&ve({event:e,index:t,reason:"mouse"})},je=e=>{ve({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ke.current=!0},Oe=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Ce(e,pe[t],"selectOption"),ke.current=!1},De=e=>t=>{const n=ee.slice();n.splice(e,1),_e(t,n,"removeOption",{option:ee[e]})},Me=e=>{ae?Se(e,"toggleInput"):xe(e)},Le=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==B&&e.preventDefault()},Fe=e=>{e.currentTarget.contains(e.target)&&(q.current.focus(),$&&W.current&&q.current.selectionEnd-q.current.selectionStart===0&&q.current.select(),W.current=!1)},$e=e=>{f||""!==ne&&ae||Me(e)};let ze=b&&ne.length>0;ze=ze||(P?ee.length>0:null!==ee);let Be=pe;if(_){new Map;Be=pe.reduce(((e,t,n)=>{const r=_(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return f&&ie&&Re(),{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e,onKeyDown:Te(e),onMouseDown:Le,onClick:Fe}},getInputLabelProps:()=>({id:`${B}-label`,htmlFor:B}),getInputProps:()=>({id:B,value:ne,onBlur:Re,onFocus:Pe,onChange:Ae,onMouseDown:$e,"aria-activedescendant":he?"":null,"aria-autocomplete":r?"both":"list","aria-controls":me?`${B}-listbox`:void 0,"aria-expanded":me,autoComplete:"off",ref:q,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:f}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Ie}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Me}),getTagProps:e=>{let{index:t}=e;return{key:t,"data-tag-index":t,tabIndex:-1,...!F&&{onDelete:De(t)}}},getListboxProps:()=>({role:"listbox",id:`${B}-listbox`,"aria-labelledby":`${B}-label`,ref:we,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:e=>{let{index:t,option:n}=e;const r=(P?ee:[ee]).some((e=>null!=e&&T(n,e))),i=!!w&&w(n);return{key:x?.(n)??U(n),tabIndex:-1,role:"option",id:`${B}-option-${t}`,onMouseMove:Ne,onClick:Oe,onTouchStart:je,"data-option-index":t,"aria-disabled":i,"aria-selected":r}},id:B,inputValue:ne,value:ee,dirty:ze,expanded:he&&K,popupOpen:he,focused:ie||-1!==Q,anchorEl:K,setAnchorEl:G,focusedTag:Q,groupedOptions:Be}};function dH(e){return Do("MuiListSubheader",e)}vO("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const hH=ds("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${ls(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(mO((e=>{let{theme:t}=e;return{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:72}},{props:e=>{let{ownerState:t}=e;return!t.disableSticky},style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}}))),pH=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiListSubheader"}),{className:r,color:i="default",component:o="li",disableGutters:s=!1,disableSticky:a=!1,inset:l=!1,...c}=n,u={...n,color:i,component:o,disableGutters:s,disableSticky:a,inset:l},d=(e=>{const{classes:t,color:n,disableGutters:r,inset:i,disableSticky:o}=e;return Mo({root:["root","default"!==n&&`color${ls(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]},dH,t)})(u);return(0,Me.jsx)(hH,{as:o,className:Ao(d.root,r),ref:t,ownerState:u,...c})}));pH&&(pH.muiSkipListHighlight=!0);const fH=pH;function mH(e){return Do("MuiAutocomplete",e)}const gH=vO("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var vH,yH;const bH=ds("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=n;return[{[`& .${gH.tag}`]:t.tag},{[`& .${gH.tag}`]:t[`tagSize${ls(a)}`]},{[`& .${gH.inputRoot}`]:t.inputRoot},{[`& .${gH.input}`]:t.input},{[`& .${gH.input}`]:s&&t.inputFocused},t.root,r&&t.fullWidth,o&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${gH.focused} .${gH.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${gH.clearIndicator}`]:{visibility:"visible"}},[`& .${gH.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${gH.inputRoot}`]:{[`.${gH.hasPopupIcon}&, .${gH.hasClearIcon}&`]:{paddingRight:30},[`.${gH.hasPopupIcon}.${gH.hasClearIcon}&`]:{paddingRight:56},[`& .${gH.input}`]:{width:0,minWidth:30}},[`& .${BD.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${BD.root}.${AD.sizeSmall}`]:{[`& .${BD.input}`]:{padding:"2px 4px 3px 0"}},[`& .${nM.root}`]:{padding:9,[`.${gH.hasPopupIcon}&, .${gH.hasClearIcon}&`]:{paddingRight:39},[`.${gH.hasPopupIcon}.${gH.hasClearIcon}&`]:{paddingRight:65},[`& .${gH.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${gH.endAdornment}`]:{right:9}},[`& .${nM.root}.${AD.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${gH.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${KD.root}`]:{paddingTop:19,paddingLeft:8,[`.${gH.hasPopupIcon}&, .${gH.hasClearIcon}&`]:{paddingRight:39},[`.${gH.hasPopupIcon}.${gH.hasClearIcon}&`]:{paddingRight:65},[`& .${KD.input}`]:{padding:"7px 4px"},[`& .${gH.endAdornment}`]:{right:9}},[`& .${KD.root}.${AD.sizeSmall}`]:{paddingBottom:1,[`& .${KD.input}`]:{padding:"2.5px 4px"}},[`& .${AD.hiddenLabel}`]:{paddingTop:8},[`& .${KD.root}.${AD.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${gH.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${KD.root}.${AD.hiddenLabel}.${AD.sizeSmall}`]:{[`& .${gH.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${gH.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${gH.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${gH.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${gH.inputRoot}`]:{flexWrap:"wrap"}}}]}),wH=ds("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),xH=ds(j$,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),SH=ds(j$,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),_H=ds(Kq,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${gH.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(mO((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}}))),kH=ds(xO,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(mO((e=>{let{theme:t}=e;return{...t.typography.body1,overflow:"auto"}}))),CH=ds("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(mO((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}}))),EH=ds("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(mO((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}}))),IH=ds("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(mO((e=>{let{theme:t}=e;return{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${gH.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${gH.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${gH.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ti(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${gH.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ti(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${gH.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ti(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}}))),TH=ds(fH,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(mO((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,top:-8}}))),PH=ds("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${gH.option}`]:{paddingLeft:24}}),RH=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiAutocomplete"}),{autoComplete:r=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:l,className:c,clearIcon:u=vH||(vH=(0,Me.jsx)(wB,{fontSize:"small"})),clearOnBlur:d=!n.freeSolo,clearOnEscape:h=!1,clearText:p="Clear",closeText:f="Close",componentsProps:m,defaultValue:g=(n.multiple?[]:null),disableClearable:v=!1,disableCloseOnSelect:y=!1,disabled:b=!1,disabledItemsFocusable:w=!1,disableListWrap:x=!1,disablePortal:S=!1,filterOptions:_,filterSelectedOptions:k=!1,forcePopupIcon:C="auto",freeSolo:E=!1,fullWidth:I=!1,getLimitTagsText:T=e=>`+${e}`,getOptionDisabled:P,getOptionKey:R,getOptionLabel:A,isOptionEqualToValue:N,groupBy:j,handleHomeEndKeys:O=!n.freeSolo,id:D,includeInputInList:M=!1,inputValue:L,limitTags:F=-1,ListboxComponent:$,ListboxProps:z,loading:B=!1,loadingText:U="Loading\u2026",multiple:V=!1,noOptionsText:W="No options",onChange:q,onClose:H,onHighlightChange:K,onInputChange:G,onOpen:Q,open:Y,openOnFocus:X=!1,openText:J="Open",options:Z,PaperComponent:ee,PopperComponent:te,popupIcon:ne=yH||(yH=(0,Me.jsx)(TF,{})),readOnly:re=!1,renderGroup:ie,renderInput:oe,renderOption:se,renderTags:ae,selectOnFocus:le=!n.freeSolo,size:ce="medium",slots:ue={},slotProps:de={},value:he,...pe}=n,{getRootProps:fe,getInputProps:me,getInputLabelProps:ge,getPopupIndicatorProps:ve,getClearProps:ye,getTagProps:be,getListboxProps:we,getOptionProps:xe,value:Se,dirty:_e,expanded:ke,id:Ce,popupOpen:Ee,focused:Ie,focusedTag:Te,anchorEl:Pe,setAnchorEl:Re,inputValue:Ae,groupedOptions:Ne}=uH({...n,componentName:"Autocomplete"}),je=!v&&!b&&_e&&!re,Oe=(!E||!0===C)&&!1!==C,{onMouseDown:De}=me(),{ref:Le,...Fe}=we(),$e=A||(e=>e.label??e),ze={...n,disablePortal:S,expanded:ke,focused:Ie,fullWidth:I,getOptionLabel:$e,hasClearIcon:je,hasPopupIcon:Oe,inputFocused:-1===Te,popupOpen:Ee,size:ce},Be=(e=>{const{classes:t,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=e;return Mo({root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${ls(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]},mH,t)})(ze),Ue={slots:{paper:ee,popper:te,...ue},slotProps:{chip:l,listbox:z,...m,...de}},[Ve,We]=YO("listbox",{elementType:IH,externalForwardedProps:Ue,ownerState:ze,className:Be.listbox,additionalProps:Fe,ref:Le}),[qe,He]=YO("paper",{elementType:xO,externalForwardedProps:Ue,ownerState:ze,className:Be.paper}),[Ke,Ge]=YO("popper",{elementType:Kq,externalForwardedProps:Ue,ownerState:ze,className:Be.popper,additionalProps:{disablePortal:S,style:{width:Pe?Pe.clientWidth:null},role:"presentation",anchorEl:Pe,open:Ee}});let Qe;if(V&&Se.length>0){const e=e=>({className:Be.tag,disabled:b,...be(e)});Qe=ae?ae(Se,e,ze):Se.map(((t,n)=>{const{key:r,...i}=e({index:n});return(0,Me.jsx)(Nz,{label:$e(t),size:ce,...i,...Ue.slotProps.chip},r)}))}if(F>-1&&Array.isArray(Qe)){const e=Qe.length-F;!Ie&&e>0&&(Qe=Qe.splice(0,F),Qe.push((0,Me.jsx)("span",{className:Be.tag,children:T(e)},Qe.length)))}const Ye=ie||(e=>(0,Me.jsxs)("li",{children:[(0,Me.jsx)(TH,{className:Be.groupLabel,ownerState:ze,component:"div",children:e.group}),(0,Me.jsx)(PH,{className:Be.groupUl,ownerState:ze,children:e.children})]},e.key)),Xe=se||((e,t)=>{const{key:n,...r}=e;return(0,Me.jsx)("li",{...r,children:$e(t)},n)}),Je=(e,t)=>{const n=xe({option:e,index:t});return Xe({...n,className:Be.option},e,{selected:n["aria-selected"],index:t,inputValue:Ae},ze)},Ze=Ue.slotProps.clearIndicator,et=Ue.slotProps.popupIndicator;return(0,Me.jsxs)(i.Fragment,{children:[(0,Me.jsx)(bH,{ref:t,className:Ao(Be.root,c),ownerState:ze,...fe(pe),children:oe({id:Ce,disabled:b,fullWidth:!0,size:"small"===ce?"small":void 0,InputLabelProps:ge(),InputProps:{ref:Re,className:Be.inputRoot,startAdornment:Qe,onMouseDown:e=>{e.target===e.currentTarget&&De(e)},...(je||Oe)&&{endAdornment:(0,Me.jsxs)(wH,{className:Be.endAdornment,ownerState:ze,children:[je?(0,Me.jsx)(xH,{...ye(),"aria-label":p,title:p,ownerState:ze,...Ze,className:Ao(Be.clearIndicator,Ze?.className),children:u}):null,Oe?(0,Me.jsx)(SH,{...ve(),disabled:b,"aria-label":Ee?f:J,title:Ee?f:J,ownerState:ze,...et,className:Ao(Be.popupIndicator,et?.className),children:ne}):null]})}},inputProps:{className:Be.input,disabled:b,readOnly:re,...me()}})}),Pe?(0,Me.jsx)(_H,{as:Ke,...Ge,children:(0,Me.jsxs)(kH,{as:qe,...He,children:[B&&0===Ne.length?(0,Me.jsx)(CH,{className:Be.loading,ownerState:ze,children:U}):null,0!==Ne.length||E||B?null:(0,Me.jsx)(EH,{className:Be.noOptions,ownerState:ze,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:W}),Ne.length>0?(0,Me.jsx)(Ve,{as:$,...We,children:Ne.map(((e,t)=>j?Ye({key:e.key,group:e.group,children:e.options.map(((t,n)=>Je(t,e.index+n)))}):Je(e,t)))}):null]})}):null]})})),AH=RH,NH=$O((0,Me.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),jH=$O((0,Me.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),OH=$O((0,Me.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"})),DH=$O((0,Me.jsx)("path",{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28m-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18zM4.27 3 3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73z"})),MH=$O((0,Me.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"})),LH=$O((0,Me.jsx)("path",{d:"m21 6.5-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18zM3.27 2 2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73z"})),FH=$O((0,Me.jsx)("path",{d:"m21.22 18.02 2 2H24v-2zm.77-2 .01-10c0-1.11-.9-2-2-2H7.22l5.23 5.23c.18-.04.36-.07.55-.1V7.02l4 3.73-1.58 1.47 5.54 5.54c.61-.33 1.03-.99 1.03-1.74M2.39 1.73 1.11 3l1.54 1.54c-.4.36-.65.89-.65 1.48v10c0 1.1.89 2 2 2H0v2h18.13l2.71 2.71 1.27-1.27zM7 15.02c.31-1.48.92-2.95 2.07-4.06l1.59 1.59c-1.54.38-2.7 1.18-3.66 2.47"})),$H=$O((0,Me.jsx)("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.11-.9-2-2-2H4c-1.11 0-2 .89-2 2v10c0 1.1.89 2 2 2H0v2h24v-2zm-7-3.53v-2.19c-2.78 0-4.61.85-6 2.72.56-2.67 2.11-5.33 6-5.87V7l4 3.73z"})),zH=Array.from(fl.values()).length?Cl():kl({apiKey:"AIzaSyDqVvQqQqQqQqQqQqQqQqQqQqQqQqQqQq",authDomain:"side-eye.firebaseapp.com",projectId:"side-eye",storageBucket:"side-eye.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:abcdef1234567890",databaseURL:"https://side-eye-default-rtdb.firebaseio.com"}),BH=(yw(zH),cI(zH),u_(zH),NN(zH)),UH=e=>{xN(BH,`signaling/${e}`);return{sendOffer:async(t,n)=>{await _N(xN(BH,`signaling/${e}/offer`),{type:"offer",data:t,senderId:n})},sendAnswer:async(t,n)=>{await _N(xN(BH,`signaling/${e}/answer`),{type:"answer",data:t,senderId:n})},sendIceCandidate:async(t,n)=>{await _N(xN(BH,`signaling/${e}/ice-candidate`),{type:"ice-candidate",data:t,senderId:n})},listenForOffer:t=>IN(xN(BH,`signaling/${e}/offer`),(e=>{e.exists()&&t(e.val())})),listenForAnswer:t=>IN(xN(BH,`signaling/${e}/answer`),(e=>{e.exists()&&t(e.val())})),listenForIceCandidate:t=>IN(xN(BH,`signaling/${e}/ice-candidate`),(e=>{e.exists()&&t(e.val())})),cleanup:()=>{!function(e,t,n){let r=null;const i=n?new vN(n):null;"value"===t?r=new kN(i):t&&(r=new CN(t,i)),ZA(e._repo,e,r)}(xN(BH,`signaling/${e}`))}}},VH=async e=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("getUserMedia is not supported in this browser");const t=await navigator.mediaDevices.getUserMedia(e);return console.log("Got media stream:",t.getTracks().map((e=>e.kind))),t}catch(t){if(console.error("Error accessing media devices:",t),t instanceof Error){if("NotAllowedError"===t.name)throw new Error("Please allow access to your camera and microphone");if("NotFoundError"===t.name)throw new Error("No camera or microphone found");if("NotReadableError"===t.name)throw new Error("Camera or microphone is already in use")}throw t}},WH=e=>{e.getTracks().forEach((e=>{console.log("Stopping track:",e.kind),e.stop()}))},qH=e=>{var t;let{open:n,onClose:r,onSubmit:o,initialData:s,title:a,submitButtonText:l,isProcessing:c=!1}=e;const[u,d]=(0,i.useState)({name:(null===s||void 0===s?void 0:s.name)||"",description:(null===s||void 0===s?void 0:s.description)||"",isPrivate:(null===s||void 0===s?void 0:s.isPrivate)||!1,password:(null===s||void 0===s?void 0:s.password)||"",category:(null===s||void 0===s?void 0:s.category)||"",maxParticipants:(null===s||void 0===s?void 0:s.maxParticipants)||50,tags:(null===s||void 0===s?void 0:s.tags)||[]});return(0,Me.jsx)(Bz,{open:n,onClose:r,maxWidth:"sm",fullWidth:!0,children:(0,Me.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await o(u)},children:[(0,Me.jsx)(Hz,{children:a}),(0,Me.jsx)(Yz,{children:(0,Me.jsxs)(OO,{sx:{display:"flex",flexDirection:"column",gap:2,pt:2},children:[(0,Me.jsx)($F,{autoFocus:!0,required:!0,label:"Room Name",value:u.name,onChange:e=>d((t=>({...t,name:e.target.value}))),fullWidth:!0}),(0,Me.jsx)($F,{label:"Description",value:u.description,onChange:e=>d((t=>({...t,description:e.target.value}))),multiline:!0,rows:4,fullWidth:!0}),(0,Me.jsx)($F,{label:"Category",value:u.category,onChange:e=>d((t=>({...t,category:e.target.value}))),fullWidth:!0}),(0,Me.jsx)($F,{label:"Max Participants",type:"number",value:u.maxParticipants,onChange:e=>d((t=>({...t,maxParticipants:parseInt(e.target.value)}))),fullWidth:!0,inputProps:{min:1,max:100}}),(0,Me.jsx)($F,{label:"Tags (comma separated)",value:null===(t=u.tags)||void 0===t?void 0:t.join(", "),onChange:e=>d((t=>({...t,tags:e.target.value.split(",").map((e=>e.trim())).filter(Boolean)}))),fullWidth:!0,helperText:"Enter tags separated by commas"}),(0,Me.jsx)(lW,{control:(0,Me.jsx)(xW,{checked:u.isPrivate,onChange:e=>d((t=>({...t,isPrivate:e.target.checked})))}),label:"Private Room"}),u.isPrivate&&(0,Me.jsx)($F,{required:!0,label:"Password",type:"password",value:u.password,onChange:e=>d((t=>({...t,password:e.target.value}))),fullWidth:!0})]})}),(0,Me.jsxs)(eB,{children:[(0,Me.jsx)(q$,{onClick:r,disabled:c,children:"Cancel"}),(0,Me.jsx)(q$,{type:"submit",variant:"contained",disabled:c,children:l})]})]})})},HH=()=>{var e,t,n,r;const{roomId:o}=re(),s=ne(),{currentUser:a}=$N(),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(!0),[h,p]=(0,i.useState)(null),[f,m]=(0,i.useState)(!1),[g,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(!1),[w,x]=(0,i.useState)([]),[S,_]=(0,i.useState)(""),[k,C]=(0,i.useState)(!1),[E,I]=(0,i.useState)(!1),[T,P]=(0,i.useState)({audioEnabled:!1,videoEnabled:!1,screenSharing:!1}),[R,A]=(0,i.useState)(null),[N,j]=(0,i.useState)(null),[O,D]=(0,i.useState)({}),[M,L]=(0,i.useState)(null),F=(0,i.useRef)({}),$=(0,i.useRef)(null),z=(0,i.useRef)(null),B=((0,i.useRef)(null),(0,i.useRef)(!0)),U=(0,i.useRef)(null),V=(0,i.useRef)(null),[W,q]=(0,i.useState)(!1),[H,K]=(0,i.useState)(null),[G,Q]=(0,i.useState)(!1),[Y,X]=(0,i.useState)(!1),[J,Z]=(0,i.useState)(""),[ee,te]=(0,i.useState)([]),[ie,oe]=(0,i.useState)([]),[se,ae]=(0,i.useState)(!1);(0,i.useEffect)((()=>()=>{var e;if(B.current=!1,U.current&&U.current(),R&&R.getTracks().forEach((e=>e.stop())),null!==(e=z.current)&&void 0!==e&&e.srcObject){z.current.srcObject.getTracks().forEach((e=>e.stop()))}}),[]);const le=(0,i.useCallback)(((e,t)=>{console.error(t,e),B.current&&(e instanceof dc?p(`Firestore error: ${e.message}`):e instanceof Error?p(e.message):p(t))}),[]);(0,i.useEffect)((()=>{if(!o)return p("Room ID is required"),void d(!1);let e=!0;const t=Ax(pw(DN,"sideRooms",o),(t=>{if(e)if(t.exists())try{var n,r;const o=t.data(),s=null===(n=o.members)||void 0===n?void 0:n.find((e=>"owner"===e.role)),l={id:t.id,name:String(o.name||""),description:String(o.description||""),ownerId:(null===s||void 0===s?void 0:s.userId)||"",members:Array.isArray(o.members)?o.members:[],memberCount:Number(o.memberCount||0),createdAt:(null===(r=o.createdAt)||void 0===r?void 0:r.toDate())||new Date,isPrivate:Boolean(o.isPrivate),password:o.password||void 0,tags:Array.isArray(o.tags)?o.tags:[],imageUrl:o.imageUrl||void 0,isLive:Boolean(o.isLive),liveParticipants:Array.isArray(o.liveParticipants)?o.liveParticipants:[],category:String(o.category||""),scheduledReveals:Array.isArray(o.scheduledReveals)?o.scheduledReveals:[],activeUsers:Number(o.activeUsers||0),maxParticipants:Number(o.maxParticipants||50),rules:Array.isArray(o.rules)?o.rules:[],bannedUsers:Array.isArray(o.bannedUsers)?o.bannedUsers:[]};if(e){var i;c(l),d(!1);!(null===(i=l.members)||void 0===i?void 0:i.some((e=>e.userId===(null===a||void 0===a?void 0:a.uid))))&&l.isPrivate&&m(!0)}}catch(o){e&&(le(o,"Failed to process room data"),d(!1))}else e&&(p("Room not found"),d(!1))}),(t=>{e&&(le(t,"Failed to fetch room data"),d(!1))}));return U.current=t,()=>{e=!1,t()}}),[o,a,le]),(0,i.useEffect)((()=>{if(!o)return;const e=Ax(ox(hw(DN,"sideRooms",o,"messages"),ux("timestamp","desc"),hx(50)),(e=>{const t=e.docs.map((e=>{var t;return{id:e.id,...e.data(),timestamp:null===(t=e.data().timestamp)||void 0===t?void 0:t.toDate()}}));x(t.reverse()),ce()}));return()=>{e()}}),[o]);const ce=()=>{var e;null===(e=V.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},ue=(0,i.useCallback)((async()=>{if(l&&a&&o&&!y)try{b(!0);const e=pw(DN,"sideRooms",o);await $x(DN,(async t=>{var n;const r=await t.get(e);if(!r.exists())throw new Error("Room not found");const i=r.data(),o={userId:a.uid,username:a.displayName||"Anonymous",avatar:a.photoURL||"",role:"member",joinedAt:new Date};if(null===(n=i.members)||void 0===n?void 0:n.some((e=>e.userId===a.uid)))throw new Error("You are already a member of this room");t.update(e,{members:Bx(o),memberCount:(i.memberCount||0)+1,lastActivity:new Date})})),B.current&&(uj.success("Joined room successfully"),m(!1),c((e=>e?{...e,members:[...e.members||[],{userId:a.uid,username:a.displayName||"Anonymous",avatar:a.photoURL||"",role:"member",joinedAt:new Date}],memberCount:(e.memberCount||0)+1}:null)))}catch(e){le(e,"Failed to join room"),B.current&&m(!1)}finally{B.current&&b(!1)}}),[l,a,o,y,le]),de=(0,i.useCallback)((async()=>{if(l&&a&&o&&!y)try{b(!0);const e=pw(DN,"sideRooms",o);await $x(DN,(async t=>{const n=await t.get(e);if(!n.exists())throw new Error("Room not found");const r=n.data(),i={userId:a.uid,username:a.displayName||"Anonymous",avatar:a.photoURL||"",role:"member",joinedAt:new Date};t.update(e,{members:Ux(i),memberCount:Math.max(0,(r.memberCount||0)-1)})})),B.current&&(uj.success("Left room successfully"),setTimeout((()=>{B.current&&s("/side-rooms")}),100))}catch(e){le(e,"Failed to leave room")}finally{B.current&&b(!1)}}),[l,a,o,y,s,le]),he=(0,i.useCallback)((()=>{l&&g===l.password?ue():uj.error("Incorrect password")}),[l,g,ue]);(0,i.useEffect)((()=>{if(null!==l&&void 0!==l&&l.isLive&&a&&o){const e=((e,t)=>{const n=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]}),r=UH(e);return n.onicecandidate=e=>{e.candidate&&(console.log("New ICE candidate:",e.candidate),r.sendIceCandidate(e.candidate,t))},n.onconnectionstatechange=()=>{console.log("Connection state:",n.connectionState)},n.oniceconnectionstatechange=()=>{console.log("ICE connection state:",n.iceConnectionState)},n.ontrack=e=>{console.log("Received track:",e.track.kind);const t=e.streams[0];if(t)return console.log("New stream received:",{id:e.track.id,kind:e.track.kind,label:e.track.label}),t},{pc:n,signaling:r,addStream:e=>{console.log("Adding stream to peer connection:",{audioTracks:e.getAudioTracks().length,videoTracks:e.getVideoTracks().length}),e.getTracks().forEach((t=>{console.log("Adding track:",{kind:t.kind,label:t.label,enabled:t.enabled}),n.addTrack(t,e)}))},createOffer:async()=>{try{const e=await n.createOffer();return await n.setLocalDescription(e),r.sendOffer(e,t),e}catch(e){throw console.error("Error creating offer:",e),e}},handleOffer:async e=>{try{await n.setRemoteDescription(e);const i=await n.createAnswer();await n.setLocalDescription(i),r.sendAnswer(i,t)}catch(i){throw console.error("Error handling offer:",i),i}},handleAnswer:async e=>{try{await n.setRemoteDescription(e)}catch(t){throw console.error("Error handling answer:",t),t}},handleIceCandidate:async e=>{try{await n.addIceCandidate(e)}catch(t){throw console.error("Error handling ICE candidate:",t),t}},cleanup:()=>{n.close(),r.cleanup()}}})(o,a.uid);j(e);const t=e.signaling.listenForOffer((async t=>{t.senderId!==a.uid&&(console.log("Received offer from:",t.senderId),await e.handleOffer(t.data))})),n=e.signaling.listenForAnswer((async t=>{t.senderId!==a.uid&&(console.log("Received answer from:",t.senderId),await e.handleAnswer(t.data))})),r=e.signaling.listenForIceCandidate((async t=>{t.senderId!==a.uid&&(console.log("Received ICE candidate from:",t.senderId),await e.handleIceCandidate(t.data))}));e.pc.ontrack=e=>{console.log("Received track:",e.track.kind);const t=e.streams[0];t&&(console.log("New stream received:",{id:e.track.id,kind:e.track.kind,label:e.track.label}),D((n=>({...n,[e.track.id]:t}))))};return(async()=>{try{const t=await e.createOffer();console.log("Created offer:",t)}catch(t){console.error("Error creating offer:",t)}})(),()=>{t(),n(),r(),e.cleanup()}}}),[null===l||void 0===l?void 0:l.isLive,a,o]),(0,i.useEffect)((()=>{console.log("Local Stream Status:",{hasStream:!!R,audioTracks:(null===R||void 0===R?void 0:R.getAudioTracks().length)||0,videoTracks:(null===R||void 0===R?void 0:R.getVideoTracks().length)||0,tracks:null===R||void 0===R?void 0:R.getTracks().map((e=>({kind:e.kind,enabled:e.enabled,label:e.label})))})}),[R]),(0,i.useEffect)((()=>{console.log("Remote Streams Status:",{count:Object.keys(O).length,streams:Object.entries(O).map((e=>{let[t,n]=e;return{id:t,audioTracks:n.getAudioTracks().length,videoTracks:n.getVideoTracks().length,tracks:n.getTracks().map((e=>({kind:e.kind,enabled:e.enabled,label:e.label})))}}))})}),[O]),(0,i.useEffect)((()=>{N&&(console.log("Peer Connection Status:",{connectionState:N.pc.connectionState,iceConnectionState:N.pc.iceConnectionState,signalingState:N.pc.signalingState}),N.pc.onconnectionstatechange=()=>{console.log("Connection state changed:",N.pc.connectionState)},N.pc.oniceconnectionstatechange=()=>{console.log("ICE connection state changed:",N.pc.iceConnectionState)},N.pc.onsignalingstatechange=()=>{console.log("Signaling state changed:",N.pc.signalingState)})}),[N]);const pe=()=>{K(null)};if(u)return(0,Me.jsx)(OO,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,Me.jsx)(I$,{})});if(h)return(0,Me.jsxs)(OO,{sx:{p:3},children:[(0,Me.jsx)(IB,{severity:"error",sx:{mb:2},children:h}),(0,Me.jsx)(q$,{onClick:()=>s("/side-rooms"),children:"Back to Rooms"})]});if(!l)return null;const fe=null===(e=l.members)||void 0===e?void 0:e.some((e=>e.userId===(null===a||void 0===a?void 0:a.uid))),me=null===(t=l.members)||void 0===t?void 0:t.some((e=>e.userId===(null===a||void 0===a?void 0:a.uid)&&"owner"===e.role)),ge=null===(n=l.members)||void 0===n?void 0:n.find((e=>"owner"===e.role));return(0,Me.jsxs)(OO,{sx:{display:"flex",height:"calc(100vh - 64px)"},children:[(0,Me.jsxs)(OO,{sx:{flex:1,display:"flex",flexDirection:"column",p:2},children:[(0,Me.jsxs)(OO,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,Me.jsxs)(OO,{children:[(0,Me.jsx)(cD,{variant:"h4",component:"h1",children:l.name}),(0,Me.jsxs)(cD,{variant:"subtitle1",color:"text.secondary",children:["Created by ",(null===ge||void 0===ge?void 0:ge.username)||"Anonymous"]})]}),(0,Me.jsxs)(OO,{sx:{display:"flex",gap:1},children:[me&&(0,Me.jsx)(iH,{title:l.isLive?"Stop Live":"Go Live",children:(0,Me.jsx)(j$,{color:l.isLive?"error":"primary",onClick:async()=>{if(l&&a&&o)try{b(!0);const e=pw(DN,"sideRooms",o);await Tx(e,{isLive:!l.isLive,lastActivity:new Date}),C(!l.isLive),uj.success(l.isLive?"Stopped live session":"Started live session")}catch(e){le(e,"Failed to update live status")}finally{b(!1)}},disabled:y,children:(0,Me.jsx)(eW,{})})}),(0,Me.jsx)(iH,{title:"Members",children:(0,Me.jsx)(j$,{onClick:()=>I(!E),children:(0,Me.jsx)(tW,{})})}),fe&&(0,Me.jsx)(q$,{variant:"outlined",color:"error",startIcon:(0,Me.jsx)(NH,{}),onClick:de,disabled:y,children:"Leave"}),me&&(0,Me.jsx)(j$,{onClick:e=>{K(e.currentTarget)},children:(0,Me.jsx)(jH,{})})]})]}),l.isLive&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)(OO,{sx:{display:"flex",gap:2,mb:2},children:[(0,Me.jsx)(iH,{title:T.audioEnabled?"Mute":"Unmute",children:(0,Me.jsx)(j$,{color:T.audioEnabled?"primary":"error",onClick:async()=>{if(console.log("Toggling audio..."),R){console.log("Toggling existing audio track");R.getAudioTracks().forEach((e=>{e.enabled=!T.audioEnabled,console.log(`Audio track ${e.label} enabled:`,e.enabled)})),P((e=>({...e,audioEnabled:!e.audioEnabled})))}else try{console.log("Requesting audio stream...");const e=await VH({audio:!0});console.log("Got audio stream:",e.getTracks().map((e=>e.kind))),A(e),P((e=>({...e,audioEnabled:!0}))),N&&(console.log("Adding audio stream to peer connection"),N.addStream(e))}catch(e){console.error("Error getting audio stream:",e),le(e,"Failed to access microphone")}},children:T.audioEnabled?(0,Me.jsx)(OH,{}):(0,Me.jsx)(DH,{})})}),(0,Me.jsx)(iH,{title:T.videoEnabled?"Turn off camera":"Turn on camera",children:(0,Me.jsx)(j$,{color:T.videoEnabled?"primary":"error",onClick:async()=>{if(console.log("Toggling video..."),R){console.log("Toggling existing video track");R.getVideoTracks().forEach((e=>{e.enabled=!T.videoEnabled,console.log(`Video track ${e.label} enabled:`,e.enabled)})),P((e=>({...e,videoEnabled:!e.videoEnabled})))}else try{console.log("Requesting video stream...");const e=await VH({video:!0});console.log("Got video stream:",e.getTracks().map((e=>e.kind))),A(e),P((e=>({...e,videoEnabled:!0}))),$.current&&(console.log("Setting video element source"),$.current.srcObject=e),N&&(console.log("Adding video stream to peer connection"),N.addStream(e))}catch(e){console.error("Error getting video stream:",e),le(e,"Failed to access camera")}},children:T.videoEnabled?(0,Me.jsx)(MH,{}):(0,Me.jsx)(LH,{})})}),(0,Me.jsx)(iH,{title:T.screenSharing?"Stop sharing":"Share screen",children:(0,Me.jsx)(j$,{color:T.screenSharing?"primary":"default",onClick:async()=>{console.log("Toggling screen share...");try{if(T.screenSharing){var e;console.log("Stopping screen share"),null!==(e=z.current)&&void 0!==e&&e.srcObject&&(WH(z.current.srcObject),z.current.srcObject=null),P((e=>({...e,screenSharing:!1}))),L(null)}else{var t;console.log("Requesting screen share...");const e=await(async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia)throw new Error("Screen sharing is not supported in this browser");const e=await navigator.mediaDevices.getDisplayMedia({video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}});return e.getVideoTracks()[0].onended=()=>{console.log("Screen sharing ended by user"),WH(e)},console.log("Screen sharing started successfully"),e}catch(e){if(console.error("Error accessing screen share:",e),e instanceof Error){if("NotAllowedError"===e.name)throw new Error("Screen sharing permission was denied. Please allow access to share your screen.");if("NotFoundError"===e.name)throw new Error("No screen sharing source found. Please make sure you have a screen to share.");if("NotReadableError"===e.name)throw new Error("Screen sharing is already in use by another application.");if("OverconstrainedError"===e.name)throw new Error("Screen sharing constraints could not be satisfied.")}throw new Error("Failed to start screen sharing. Please try again.")}})();console.log("Got screen share stream:",e.getTracks().map((e=>e.kind))),null!==(t=z.current)&&void 0!==t&&t.srcObject&&(console.log("Stopping previous screen share"),WH(z.current.srcObject)),z.current&&(console.log("Setting screen share element source"),z.current.srcObject=e),N&&(console.log("Adding screen share stream to peer connection"),N.addStream(e)),e.getVideoTracks()[0].onended=()=>{var e;console.log("Screen sharing ended by user"),P((e=>({...e,screenSharing:!1}))),null!==(e=z.current)&&void 0!==e&&e.srcObject&&(WH(z.current.srcObject),z.current.srcObject=null)},P((e=>({...e,screenSharing:!0}))),L(null)}}catch(n){console.error("Error with screen share:",n);const e=n instanceof Error?n.message:"Failed to share screen";L(e),le(n,e)}},children:T.screenSharing?(0,Me.jsx)(FH,{}):(0,Me.jsx)($H,{})})})]}),(0,Me.jsxs)(OO,{sx:{display:"flex",gap:2,mb:2},children:[(T.videoEnabled||T.screenSharing)&&(0,Me.jsx)(xO,{sx:{flex:1,p:1},children:(0,Me.jsx)("video",{ref:$,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",maxHeight:"300px",objectFit:"cover"}})}),T.screenSharing&&(0,Me.jsx)(xO,{sx:{flex:1,p:1},children:(0,Me.jsx)("video",{ref:z,autoPlay:!0,playsInline:!0,style:{width:"100%",maxHeight:"300px",objectFit:"contain"}})}),Object.entries(O).map((e=>{let[t,n]=e;return(0,Me.jsx)(xO,{sx:{flex:1,p:1},children:(0,Me.jsx)("video",{ref:e=>{e&&(F.current[t]=e,e.srcObject=n)},autoPlay:!0,playsInline:!0,style:{width:"100%",maxHeight:"300px",objectFit:"cover"}})},t)}))]})]}),(0,Me.jsxs)(xO,{sx:{flex:1,display:"flex",flexDirection:"column",mb:2},children:[(0,Me.jsxs)(OO,{sx:{flex:1,overflow:"auto",p:2},children:[w.map((e=>{var t;return(0,Me.jsxs)(OO,{sx:{display:"flex",mb:2},children:[(0,Me.jsx)(tD,{src:e.avatar,sx:{mr:1}}),(0,Me.jsxs)(OO,{children:[(0,Me.jsx)(cD,{variant:"subtitle2",children:e.username}),(0,Me.jsx)(cD,{variant:"body1",children:e.content}),(0,Me.jsx)(cD,{variant:"caption",color:"text.secondary",children:null===(t=e.timestamp)||void 0===t?void 0:t.toLocaleTimeString()})]})]},e.id)})),(0,Me.jsx)("div",{ref:V})]}),(0,Me.jsx)(hz,{}),(0,Me.jsx)(OO,{component:"form",onSubmit:async e=>{if(e.preventDefault(),o&&a&&S.trim())try{const e=hw(DN,"sideRooms",o,"messages");await Rx(e,{userId:a.uid,username:a.displayName||"Anonymous",avatar:a.photoURL||"",content:S.trim(),timestamp:zx()}),_("")}catch(t){le(t,"Failed to send message")}},sx:{p:2},children:(0,Me.jsxs)(OO,{sx:{display:"flex",gap:1},children:[(0,Me.jsx)($D,{fullWidth:!0,placeholder:"Type a message...",value:S,onChange:e=>_(e.target.value)}),(0,Me.jsx)(j$,{type:"submit",color:"primary",disabled:!S.trim(),children:(0,Me.jsx)(FU,{})})]})})]})]}),E&&(0,Me.jsxs)(xO,{sx:{width:300,p:2},children:[(0,Me.jsxs)(OO,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,Me.jsxs)(cD,{variant:"h6",children:["Members (",(null===l||void 0===l?void 0:l.memberCount)||0,")"]}),me&&(0,Me.jsx)(q$,{startIcon:(0,Me.jsx)(VV,{}),onClick:()=>{X(!0)},variant:"outlined",size:"small",children:"Add Members"})]}),(0,Me.jsx)(MM,{children:null===l||void 0===l||null===(r=l.members)||void 0===r?void 0:r.map((e=>(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(pV,{children:(0,Me.jsx)(tD,{src:e.avatar})}),(0,Me.jsx)(lz,{primary:e.username,secondary:e.role})]},e.userId)))})]}),(0,Me.jsxs)(Bz,{open:f,onClose:()=>!y&&m(!1),disableEscapeKeyDown:y,children:[(0,Me.jsx)(Hz,{children:"Enter Room Password"}),(0,Me.jsx)(Yz,{children:(0,Me.jsx)($F,{autoFocus:!0,margin:"dense",label:"Password",type:"password",fullWidth:!0,value:g,onChange:e=>v(e.target.value),disabled:y})}),(0,Me.jsxs)(eB,{children:[(0,Me.jsx)(q$,{onClick:()=>m(!1),disabled:y,children:"Cancel"}),(0,Me.jsx)(q$,{onClick:he,variant:"contained",disabled:y,children:"Join"})]})]}),M&&(0,Me.jsxs)("div",{className:"error-alert",children:[(0,Me.jsx)("p",{children:M}),(0,Me.jsx)("button",{onClick:()=>L(null),children:"Dismiss"})]}),(0,Me.jsx)(qH,{open:W,onClose:()=>q(!1),onSubmit:async e=>{if(l&&o)try{b(!0);const t=pw(DN,"sideRooms",o);await Tx(t,{...e,updatedAt:new Date}),uj.success("Room updated successfully"),q(!1)}catch(t){console.error("Error updating room:",t),le(t,"Failed to update room")}finally{b(!1)}},initialData:l,title:"Edit Room",submitButtonText:"Save Changes",isProcessing:y}),(0,Me.jsxs)(aF,{anchorEl:H,open:Boolean(H),onClose:pe,children:[(0,Me.jsxs)(nz,{onClick:()=>{pe(),q(!0)},children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(nU,{fontSize:"small"})}),(0,Me.jsx)(lz,{children:"Edit Room"})]}),(0,Me.jsxs)(nz,{onClick:async()=>{if(pe(),l&&a&&o)try{Q(!0);const e=pw(DN,"sideRooms",o),t=pw(DN,"users",a.uid,"trash",o);await $x(DN,(async n=>{const r=await n.get(e);if(!r.exists())throw new Error("Room not found");n.set(t,{...r.data(),deletedAt:new Date,originalId:o}),n.delete(e)})),uj.success("Room moved to trash"),s("/side-rooms")}catch(e){console.error("Error deleting room:",e),le(e,"Failed to delete room")}finally{Q(!1)}},disabled:G,children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(QB,{fontSize:"small"})}),(0,Me.jsx)(lz,{children:"Delete Room"})]})]}),(0,Me.jsxs)(Bz,{open:Y,onClose:()=>X(!1),maxWidth:"sm",fullWidth:!0,children:[(0,Me.jsx)(Hz,{children:"Invite Members"}),(0,Me.jsx)(Yz,{children:(0,Me.jsx)(OO,{sx:{display:"flex",flexDirection:"column",gap:2,pt:2},children:(0,Me.jsx)(AH,{multiple:!0,options:ee,getOptionLabel:e=>e.username,value:ie,onChange:(e,t)=>oe(t),renderInput:e=>(0,Me.jsx)($F,{...e,label:"Search users",onChange:e=>{Z(e.target.value),(async e=>{if(e.trim())try{const t=ox(hw(DN,"users"),ax("username",">=",e),ax("username","<=",e+"\uf8ff"),hx(5)),n=(await Ex(t)).docs.map((e=>{const t=e.data();return{id:e.id,username:t.username,avatar:t.avatar}}));te(n)}catch(t){console.error("Error searching users:",t),le(t,"Failed to search users")}else te([])})(e.target.value)},InputProps:{...e.InputProps,startAdornment:(0,Me.jsx)(pz,{sx:{mr:1}})}}),renderTags:(e,t)=>e.map(((e,n)=>(0,Me.jsx)(Nz,{...t({index:n}),avatar:(0,Me.jsx)(tD,{src:e.avatar}),label:e.username}))),renderOption:(e,t)=>(0,Me.jsxs)(cV,{...e,children:[(0,Me.jsx)(pV,{children:(0,Me.jsx)(tD,{src:t.avatar})}),(0,Me.jsx)(lz,{primary:t.username})]})})})}),(0,Me.jsxs)(eB,{children:[(0,Me.jsx)(q$,{onClick:()=>X(!1),disabled:se,children:"Cancel"}),(0,Me.jsx)(q$,{onClick:async()=>{if(l&&o&&a&&0!==ie.length)try{ae(!0);const e=Wx(DN);ie.forEach((t=>{const n=pw(hw(DN,"sideRooms",o,"invitations"));e.set(n,{userId:t.id,invitedBy:a.uid,status:"pending",createdAt:new Date,roomId:o,roomName:l.name});const r=pw(hw(DN,"users",t.id,"notifications"));e.set(r,{type:"room_invitation",roomId:o,roomName:l.name,invitedBy:a.uid,invitedByUsername:a.displayName,createdAt:new Date,read:!1})})),await e.commit(),uj.success("Invitations sent successfully"),X(!1),oe([])}catch(e){console.error("Error sending invitations:",e),le(e,"Failed to send invitations")}finally{ae(!1)}},variant:"contained",disabled:se||0===ie.length,children:"Send Invitations"})]})]})]})},KH=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)("");(0,i.useEffect)((()=>{const e=Ax(ox(hw(DN,"messages"),ux("timestamp","asc")),(e=>{const n=e.docs.map((e=>{var t;return{id:e.id,...e.data(),timestamp:null===(t=e.data().timestamp)||void 0===t?void 0:t.toDate()}}));t(n)}));return()=>e()}),[]);return(0,Me.jsx)(ps,{maxWidth:"md",children:(0,Me.jsxs)(OO,{sx:{mt:4,mb:4},children:[(0,Me.jsx)(cD,{variant:"h4",component:"h1",gutterBottom:!0,children:"Chat Room"}),(0,Me.jsx)(MM,{sx:{maxHeight:"60vh",overflow:"auto",bgcolor:"background.paper",borderRadius:1},children:e.map((e=>{var t;return(0,Me.jsxs)(cV,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,Me.jsx)(cD,{variant:"subtitle2",color:"primary",children:e.username}),(0,Me.jsx)(cD,{variant:"body1",children:e.text}),(0,Me.jsx)(cD,{variant:"caption",color:"text.secondary",children:null===(t=e.timestamp)||void 0===t?void 0:t.toLocaleTimeString()})]},e.id)}))}),(0,Me.jsxs)(OO,{component:"form",onSubmit:async e=>{if(e.preventDefault(),""!==n.trim())try{var t;await Rx(hw(DN,"messages"),{text:n,userId:null===(t=ON.currentUser)||void 0===t?void 0:t.uid,username:o||"Anonymous",timestamp:new Date}),r("")}catch(PI){console.error("Error sending message:",PI)}},sx:{mt:2},children:[(0,Me.jsx)($F,{fullWidth:!0,variant:"outlined",placeholder:"Type your message...",value:n,onChange:e=>r(e.target.value),sx:{mb:2}}),(0,Me.jsx)(q$,{type:"submit",variant:"contained",color:"primary",children:"Send"})]})]})})};const GH=i.createContext({});function QH(e){return Do("MuiAccordion",e)}const YH=vO("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),XH=ds(xO,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${YH.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(mO((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],n),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],n)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${YH.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${YH.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),mO((e=>{let{theme:t}=e;return{variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${YH.expanded}`]:{margin:"16px 0"}}}]}}))),JH=ds("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(e,t)=>t.heading})({all:"unset"}),ZH=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiAccordion"}),{children:r,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,slots:h={},slotProps:p={},TransitionComponent:f,TransitionProps:m,...g}=n,[v,y]=vF({controlled:c,default:s,name:"Accordion",state:"expanded"}),b=i.useCallback((e=>{y(!v),u&&u(e,!v)}),[v,u,y]),[w,...x]=i.Children.toArray(r),S=i.useMemo((()=>({expanded:v,disabled:a,disableGutters:l,toggle:b})),[v,a,l,b]),_={...n,square:d,disabled:a,disableGutters:l,expanded:v},k=(e=>{const{classes:t,square:n,expanded:r,disabled:i,disableGutters:o}=e;return Mo({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],heading:["heading"],region:["region"]},QH,t)})(_),C={slots:{transition:f,...h},slotProps:{transition:m,...p}},[E,I]=YO("root",{elementType:XH,externalForwardedProps:{...C,...g},className:Ao(k.root,o),shouldForwardComponentProp:!0,ownerState:_,ref:t,additionalProps:{square:d}}),[T,P]=YO("heading",{elementType:JH,externalForwardedProps:C,className:k.heading,ownerState:_}),[R,A]=YO("transition",{elementType:KB,externalForwardedProps:C,ownerState:_});return(0,Me.jsxs)(E,{...I,children:[(0,Me.jsx)(T,{...P,children:(0,Me.jsx)(GH.Provider,{value:S,children:w})}),(0,Me.jsx)(R,{in:v,timeout:"auto",...A,children:(0,Me.jsx)("div",{"aria-labelledby":w.props.id,id:w.props["aria-controls"],role:"region",className:k.region,children:x})})]})})),eK=ZH;function tK(e){return Do("MuiAccordionSummary",e)}const nK=vO("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),rK=ds(g$,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(mO((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],n),[`&.${nK.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${nK.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${nK.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${nK.expanded}`]:{minHeight:64}}}]}}))),iK=ds("span",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(mO((e=>{let{theme:t}=e;return{display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${nK.expanded}`]:{margin:"20px 0"}}}]}}))),oK=ds("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(mO((e=>{let{theme:t}=e;return{display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${nK.expanded}`]:{transform:"rotate(180deg)"}}}))),sK=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiAccordionSummary"}),{children:r,className:o,expandIcon:s,focusVisibleClassName:a,onClick:l,slots:c,slotProps:u,...d}=n,{disabled:h=!1,disableGutters:p,expanded:f,toggle:m}=i.useContext(GH),g={...n,expanded:f,disabled:h,disableGutters:p},v=(e=>{const{classes:t,expanded:n,disabled:r,disableGutters:i}=e;return Mo({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},tK,t)})(g),y={slots:c,slotProps:u},[b,w]=YO("root",{ref:t,shouldForwardComponentProp:!0,className:Ao(v.root,o),elementType:rK,externalForwardedProps:{...y,...d},ownerState:g,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:h,"aria-expanded":f,focusVisibleClassName:Ao(v.focusVisible,a)},getSlotProps:e=>({...e,onClick:t=>{e.onClick?.(t),(e=>{m&&m(e),l&&l(e)})(t)}})}),[x,S]=YO("content",{className:v.content,elementType:iK,externalForwardedProps:y,ownerState:g}),[_,k]=YO("expandIconWrapper",{className:v.expandIconWrapper,elementType:oK,externalForwardedProps:y,ownerState:g});return(0,Me.jsxs)(b,{...w,children:[(0,Me.jsx)(x,{...S,children:r}),s&&(0,Me.jsx)(_,{...k,children:s})]})})),aK=sK;function lK(e){return Do("MuiAccordionDetails",e)}vO("MuiAccordionDetails",["root"]);const cK=ds("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(mO((e=>{let{theme:t}=e;return{padding:t.spacing(1,2,2)}}))),uK=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiAccordionDetails"}),{className:r,...i}=n,o=n,s=(e=>{const{classes:t}=e;return Mo({root:["root"]},lK,t)})(o);return(0,Me.jsx)(cK,{className:Ao(s.root,r),ref:t,ownerState:o,...i})})),dK=uK,hK=$O((0,Me.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),pK=$O((0,Me.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12m8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8"})),fK=$O((0,Me.jsx)("path",{d:"m5.2494 8.0688 2.83-2.8269 14.1343 14.15-2.83 2.8269zm4.2363-4.2415 2.828-2.8289 5.6577 5.656-2.828 2.8289zM.9989 12.3147l2.8284-2.8285 5.6569 5.6569-2.8285 2.8284zM1 21h12v2H1z"})),mK=$O((0,Me.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"})),gK=$O((0,Me.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"})),vK=$O((0,Me.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"})),yK=$O((0,Me.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"})),bK=()=>(0,Me.jsxs)(OO,{sx:{maxWidth:800,mx:"auto",p:3},children:[(0,Me.jsx)(cD,{variant:"h4",gutterBottom:!0,children:"Community Guidelines & Safety"}),(0,Me.jsxs)(eK,{children:[(0,Me.jsx)(aK,{expandIcon:(0,Me.jsx)(bz,{}),children:(0,Me.jsx)(cD,{children:"Our Commitment to Safety"})}),(0,Me.jsx)(dK,{children:(0,Me.jsx)(cD,{children:"We are committed to maintaining a safe and respectful environment for all users. Our platform encourages healthy banter and shade while strictly prohibiting harassment, bullying, harmful content, misinformation, fraud, and cybercrime."})})]}),(0,Me.jsxs)(eK,{children:[(0,Me.jsx)(aK,{expandIcon:(0,Me.jsx)(hK,{}),children:(0,Me.jsx)(cD,{children:"Prohibited Content"})}),(0,Me.jsx)(dK,{children:(0,Me.jsxs)(MM,{children:[(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(pK,{})}),(0,Me.jsx)(lz,{primary:"Harassment & Bullying",secondary:"Targeted attacks, threats, or persistent harassment of any kind"})]}),(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(pK,{})}),(0,Me.jsx)(lz,{primary:"Hate Speech",secondary:"Content that attacks or incites violence against individuals or groups"})]}),(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(pK,{})}),(0,Me.jsx)(lz,{primary:"Misinformation",secondary:"Spreading false or misleading information about health, science, or current events"})]}),(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(pK,{})}),(0,Me.jsx)(lz,{primary:"Fraud & Scams",secondary:"Financial scams, phishing attempts, or deceptive business practices"})]}),(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(pK,{})}),(0,Me.jsx)(lz,{primary:"Cybercrime",secondary:"Hacking attempts, malware distribution, or other illegal online activities"})]})]})})]}),(0,Me.jsxs)(eK,{children:[(0,Me.jsx)(aK,{expandIcon:(0,Me.jsx)(fK,{}),children:(0,Me.jsx)(cD,{children:"Content Moderation"})}),(0,Me.jsx)(dK,{children:(0,Me.jsxs)(MM,{children:[(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(mK,{})}),(0,Me.jsx)(lz,{primary:"AI-Powered Detection",secondary:"Advanced algorithms detect harmful content, misinformation, and suspicious activities"})]}),(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(gK,{})}),(0,Me.jsx)(lz,{primary:"Automated Checks",secondary:"Real-time scanning for fraud, cybercrime, and policy violations"})]}),(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(vK,{})}),(0,Me.jsx)(lz,{primary:"User Reports",secondary:"Community-driven reporting system for suspicious content"})]})]})})]}),(0,Me.jsxs)(eK,{children:[(0,Me.jsx)(aK,{expandIcon:(0,Me.jsx)(vK,{}),children:(0,Me.jsx)(cD,{children:"Reporting & Moderation"})}),(0,Me.jsx)(dK,{children:(0,Me.jsxs)(MM,{children:[(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(vK,{})}),(0,Me.jsx)(lz,{primary:"How to Report",secondary:"Click the report button on any content that violates our guidelines"})]}),(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(vK,{})}),(0,Me.jsx)(lz,{primary:"Moderation Process",secondary:"Reports are reviewed by our team and appropriate action is taken"})]}),(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(vK,{})}),(0,Me.jsx)(lz,{primary:"Appeals Process",secondary:"Users can appeal moderation decisions through our support system"})]})]})})]}),(0,Me.jsxs)(eK,{children:[(0,Me.jsx)(aK,{expandIcon:(0,Me.jsx)(yK,{}),children:(0,Me.jsx)(cD,{children:"Getting Help"})}),(0,Me.jsx)(dK,{children:(0,Me.jsxs)(MM,{children:[(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(yK,{})}),(0,Me.jsx)(lz,{primary:"Support Resources",secondary:"Access to mental health resources and support services"})]}),(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(yK,{})}),(0,Me.jsx)(lz,{primary:"Safety Tips",secondary:"Guidelines for staying safe online and protecting your account"})]}),(0,Me.jsxs)(cV,{children:[(0,Me.jsx)(oz,{children:(0,Me.jsx)(yK,{})}),(0,Me.jsx)(lz,{primary:"Contact Us",secondary:"Reach out to our support team for assistance"})]})]})})]})]}),wK=()=>(0,Me.jsx)(ps,{maxWidth:"lg",children:(0,Me.jsx)(bK,{})}),xK=()=>(0,Me.jsx)(ps,{maxWidth:"md",sx:{py:4},children:(0,Me.jsxs)(xO,{elevation:3,sx:{p:4},children:[(0,Me.jsx)(cD,{variant:"h4",component:"h1",gutterBottom:!0,children:"Privacy Policy"}),(0,Me.jsxs)(cD,{variant:"body1",paragraph:!0,children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"1. Information We Collect"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"We collect information that you provide directly to us, including:"}),(0,Me.jsxs)("ul",{children:[(0,Me.jsx)("li",{children:"Account information (username, email, display name)"}),(0,Me.jsx)("li",{children:"Profile information (bio, profile picture)"}),(0,Me.jsx)("li",{children:"Content you post (comments, posts, messages)"}),(0,Me.jsx)("li",{children:"Communication preferences"})]})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"2. How We Use Your Information"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"We use the information we collect to:"}),(0,Me.jsxs)("ul",{children:[(0,Me.jsx)("li",{children:"Provide and maintain our services"}),(0,Me.jsx)("li",{children:"Improve and personalize your experience"}),(0,Me.jsx)("li",{children:"Communicate with you about updates and changes"}),(0,Me.jsx)("li",{children:"Ensure platform safety and security"}),(0,Me.jsx)("li",{children:"Comply with legal obligations"})]})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"3. Data Security"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"We implement appropriate security measures to protect your personal information. However, no method of transmission over the internet is 100% secure."})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"4. Your Rights"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"You have the right to:"}),(0,Me.jsxs)("ul",{children:[(0,Me.jsx)("li",{children:"Access your personal information"}),(0,Me.jsx)("li",{children:"Correct inaccurate information"}),(0,Me.jsx)("li",{children:"Request deletion of your information"}),(0,Me.jsx)("li",{children:"Opt-out of marketing communications"})]})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"5. Cookies and Tracking"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"We use cookies and similar tracking technologies to improve your experience and analyze usage patterns."})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"6. Contact Us"}),(0,Me.jsxs)(cD,{variant:"body1",paragraph:!0,children:["If you have any questions about this Privacy Policy, please contact us at:",(0,Me.jsx)("br",{}),"Email: privacy@sideeye.com"]})]})]})}),SK=()=>(0,Me.jsxs)(ps,{maxWidth:"lg",sx:{py:12},children:[(0,Me.jsx)(cD,{variant:"h1",component:"h1",sx:{textAlign:"center",fontWeight:"bold",mb:12,fontSize:{xs:"3rem",md:"4rem"},color:"primary.main",textTransform:"uppercase",letterSpacing:2},children:"About SideEye"}),(0,Me.jsxs)(OO,{sx:{mb:12},children:[(0,Me.jsx)(cD,{variant:"h2",sx:{fontWeight:"medium",mb:6,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary"},children:"Our Mission"}),(0,Me.jsx)(cD,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"SideEye is a platform dedicated to creating a safe and engaging space for users to share their thoughts, connect with others, and express themselves through various forms of content. We believe in fostering meaningful conversations while maintaining a respectful and inclusive environment."})]}),(0,Me.jsxs)(OO,{children:[(0,Me.jsx)(cD,{variant:"h2",sx:{fontWeight:"medium",mb:8,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary"},children:"Features"}),(0,Me.jsxs)(OO,{sx:{display:"flex",flexDirection:"column",gap:8},children:[(0,Me.jsxs)(OO,{children:[(0,Me.jsx)(cD,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Tea Rooms"}),(0,Me.jsx)(cD,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Join themed discussion rooms to connect with like-minded individuals and share your thoughts."})]}),(0,Me.jsxs)(OO,{children:[(0,Me.jsx)(cD,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Shade Meter"}),(0,Me.jsx)(cD,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Our unique content moderation system helps maintain a positive community atmosphere."})]}),(0,Me.jsxs)(OO,{children:[(0,Me.jsx)(cD,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Achievements"}),(0,Me.jsx)(cD,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Earn badges and recognition for your contributions to the community."})]}),(0,Me.jsxs)(OO,{children:[(0,Me.jsx)(cD,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Leaderboard"}),(0,Me.jsx)(cD,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Compete and climb the ranks based on your positive contributions."})]})]})]})]}),_K=()=>(0,Me.jsx)(ps,{maxWidth:"md",sx:{py:4},children:(0,Me.jsxs)(xO,{elevation:3,sx:{p:4},children:[(0,Me.jsx)(cD,{variant:"h4",component:"h1",gutterBottom:!0,children:"Terms of Service"}),(0,Me.jsxs)(cD,{variant:"body1",paragraph:!0,children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"1. Acceptance of Terms"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"By accessing or using SideEye, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing this site."})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"2. User Accounts"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"To use certain features of SideEye, you must create an account. You are responsible for:"}),(0,Me.jsxs)("ul",{children:[(0,Me.jsx)("li",{children:"Maintaining the confidentiality of your account information"}),(0,Me.jsx)("li",{children:"All activities that occur under your account"}),(0,Me.jsx)("li",{children:"Providing accurate and complete information"}),(0,Me.jsx)("li",{children:"Notifying us immediately of any unauthorized use"})]})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"3. User Conduct"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"You agree not to:"}),(0,Me.jsxs)("ul",{children:[(0,Me.jsx)("li",{children:"Post or transmit any content that is unlawful, harmful, or offensive"}),(0,Me.jsx)("li",{children:"Impersonate any person or entity"}),(0,Me.jsx)("li",{children:"Interfere with the proper functioning of the service"}),(0,Me.jsx)("li",{children:"Attempt to gain unauthorized access to any portion of the service"}),(0,Me.jsx)("li",{children:"Use the service for any illegal purpose"})]})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"4. Content Ownership"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"You retain ownership of any content you post on SideEye. By posting content, you grant us a worldwide, non-exclusive, royalty-free license to use, reproduce, modify, and distribute your content."})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"5. Termination"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"We reserve the right to terminate or suspend your account and access to the service at our sole discretion, without notice, for conduct that we believe violates these Terms or is harmful to other users, us, or third parties."})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"6. Disclaimer"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:'The service is provided "as is" without any warranties, express or implied. We do not guarantee that the service will be uninterrupted, timely, secure, or error-free.'})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"7. Limitation of Liability"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"In no event shall SideEye be liable for any indirect, incidental, special, consequential, or punitive damages arising out of or related to your use of the service."})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"8. Changes to Terms"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:'We reserve the right to modify these Terms at any time. We will notify users of any material changes by posting the new Terms on the service and updating the "Last updated" date.'})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"9. Contact Information"}),(0,Me.jsxs)(cD,{variant:"body1",paragraph:!0,children:["If you have any questions about these Terms, please contact us at:",(0,Me.jsx)("br",{}),"Email: legal@sideeye.com"]})]})]})}),kK=()=>(0,Me.jsx)(ps,{maxWidth:"md",sx:{py:4},children:(0,Me.jsxs)(xO,{elevation:3,sx:{p:4},children:[(0,Me.jsx)(cD,{variant:"h4",component:"h1",gutterBottom:!0,children:"Cookie Policy"}),(0,Me.jsxs)(cD,{variant:"body1",paragraph:!0,children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"What Are Cookies"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"Cookies are small text files that are placed on your computer or mobile device when you visit a website. They are widely used to make websites work more efficiently and provide useful information to website owners."})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"How We Use Cookies"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"We use cookies for the following purposes:"}),(0,Me.jsxs)("ul",{children:[(0,Me.jsx)("li",{children:"Essential cookies: Required for the website to function properly"}),(0,Me.jsx)("li",{children:"Authentication cookies: To keep you logged in"}),(0,Me.jsx)("li",{children:"Preference cookies: To remember your settings and preferences"}),(0,Me.jsx)("li",{children:"Analytics cookies: To understand how visitors use our website"}),(0,Me.jsx)("li",{children:"Marketing cookies: To deliver relevant advertisements"})]})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"Types of Cookies We Use"}),(0,Me.jsxs)(cD,{variant:"body1",paragraph:!0,children:[(0,Me.jsx)("strong",{children:"1. Essential Cookies"}),(0,Me.jsx)("br",{}),"These cookies are necessary for the website to function and cannot be switched off. They are usually only set in response to actions made by you, such as setting your privacy preferences or filling in forms."]}),(0,Me.jsxs)(cD,{variant:"body1",paragraph:!0,children:[(0,Me.jsx)("strong",{children:"2. Performance Cookies"}),(0,Me.jsx)("br",{}),"These cookies allow us to count visits and traffic sources so we can measure and improve the performance of our site."]}),(0,Me.jsxs)(cD,{variant:"body1",paragraph:!0,children:[(0,Me.jsx)("strong",{children:"3. Functionality Cookies"}),(0,Me.jsx)("br",{}),"These cookies enable the website to provide enhanced functionality and personalization."]}),(0,Me.jsxs)(cD,{variant:"body1",paragraph:!0,children:[(0,Me.jsx)("strong",{children:"4. Targeting Cookies"}),(0,Me.jsx)("br",{}),"These cookies may be set through our site by our advertising partners to build a profile of your interests."]})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"Managing Cookies"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"You can control and/or delete cookies as you wish. You can delete all cookies that are already on your computer and you can set most browsers to prevent them from being placed. If you do this, however, you may have to manually adjust some preferences every time you visit a site and some services and functionalities may not work."})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"Third-Party Cookies"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:"Some cookies are placed by third-party services that appear on our pages. We have no control over these cookies and they are subject to the privacy policies of the respective third parties."})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"Updates to This Policy"}),(0,Me.jsx)(cD,{variant:"body1",paragraph:!0,children:'We may update this Cookie Policy from time to time. We will notify you of any changes by posting the new Cookie Policy on this page and updating the "Last updated" date.'})]}),(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"Contact Us"}),(0,Me.jsxs)(cD,{variant:"body1",paragraph:!0,children:["If you have any questions about our use of cookies, please contact us at:",(0,Me.jsx)("br",{}),"Email: privacy@sideeye.com"]})]})]})}),CK=()=>{const e=ne(),t=ee(),[n,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{const n=new URLSearchParams(t.search).get("oobCode");if(n)try{r(!0),await CC(ON,n),l(!0),setTimeout((()=>{e("/login")}),3e3)}catch(o){s("Invalid or expired verification link")}finally{r(!1)}})()}),[t,e]);return n?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(OO,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(I$,{})})}):(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(OO,{sx:{mt:8,textAlign:"center"},children:a?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(cD,{variant:"h4",gutterBottom:!0,children:"Email Verified!"}),(0,Me.jsx)(cD,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Your email has been successfully verified. You will be redirected to the login page."})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(cD,{variant:"h4",gutterBottom:!0,children:"Verify Your Email"}),(0,Me.jsx)(cD,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Please check your email for a verification link. If you haven't received it, you can request a new one."}),o&&(0,Me.jsx)(IB,{severity:"error",sx:{mb:2},children:o}),c&&(0,Me.jsx)(IB,{severity:"success",sx:{mb:2},children:"Verification email sent! Please check your inbox."}),(0,Me.jsx)(q$,{variant:"contained",onClick:async()=>{if(ON.currentUser)try{r(!0),await IC(ON.currentUser),u(!0)}catch(o){s("Failed to send verification email. Please try again.")}finally{r(!1)}else s("No user found. Please log in again.")},disabled:n||c,sx:{mt:2},children:"Resend Verification Email"})]})})})},EK=()=>{const e=ne(),[t,n]=(0,i.useState)(""),[r,o]=(0,i.useState)(""),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(null),[h,p]=(0,i.useState)(!1);(0,i.useEffect)((()=>(window.recaptchaVerifier=new hE(ON,"recaptcha-container",{size:"invisible",callback:()=>{}}),()=>{window.recaptchaVerifier&&window.recaptchaVerifier.clear()})),[]);return s?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(OO,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(I$,{})})}):(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(OO,{sx:{mt:8},children:(0,Me.jsxs)(xO,{elevation:0,sx:{p:4},children:[(0,Me.jsx)(cD,{variant:"h4",gutterBottom:!0,align:"center",children:"Two-Factor Authentication"}),h?(0,Me.jsx)(IB,{severity:"success",sx:{mb:2},children:"2FA has been successfully set up! You will be redirected to your profile."}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(cD,{variant:"body1",color:"text.secondary",paragraph:!0,align:"center",children:"Add an extra layer of security to your account by enabling two-factor authentication."}),l&&(0,Me.jsx)(IB,{severity:"error",sx:{mb:2},children:l}),u?(0,Me.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),ON.currentUser&&u)try{a(!0),c(null);const t=mE.credential(u,r),n=rI.assertion(t);await OC(ON.currentUser).enroll(n,"Phone Number"),p(!0),setTimeout((()=>{e("/profile")}),3e3)}catch(l){c("Invalid verification code. Please try again.")}finally{a(!1)}else c("Invalid verification state. Please try again.")},children:[(0,Me.jsx)($F,{fullWidth:!0,label:"Verification Code",value:r,onChange:e=>o(e.target.value),margin:"normal",required:!0}),(0,Me.jsx)(q$,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},disabled:s,children:"Verify Code"})]}):(0,Me.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),ON.currentUser)try{a(!0),c(null);const e=await OC(ON.currentUser).getSession(),n={phoneNumber:t,session:e},r=new mE(ON),i=await r.verifyPhoneNumber(n,window.recaptchaVerifier);d(i)}catch(l){c("Failed to send verification code. Please try again.")}finally{a(!1)}else c("No user found. Please log in again.")},children:[(0,Me.jsx)($F,{fullWidth:!0,label:"Phone Number",value:t,onChange:e=>n(e.target.value),margin:"normal",required:!0,placeholder:"+1234567890"}),(0,Me.jsx)("div",{id:"recaptcha-container"}),(0,Me.jsx)(q$,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},disabled:s,children:"Send Verification Code"})]})]})]})})})},IK=ds(g$,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(mO((e=>{let{theme:t}=e;return{display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${tV.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ti(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${tV.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ti(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${tV.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ti(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ti(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${tV.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${tV.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{paddingTop:4,paddingBottom:4}}]}}))),TK=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:o=!1,component:s="div",children:a,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:h=!1,className:p,...f}=n,m=i.useContext(NM),g=i.useMemo((()=>({dense:l||m.dense||!1,alignItems:r,disableGutters:c})),[r,m.dense,l,c]),v=i.useRef(null);ID((()=>{o&&v.current&&v.current.focus()}),[o]);const y={...n,alignItems:r,dense:g.dense,disableGutters:c,divider:u,selected:h},b=(e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=e,l=Mo({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled","flex-start"===t&&"alignItemsFlexStart",a&&"selected"]},eV,n);return{...n,...l}})(y),w=ED(v,t);return(0,Me.jsx)(NM.Provider,{value:g,children:(0,Me.jsx)(IK,{ref:w,href:f.href||f.to,component:(f.href||f.to)&&"div"===s?"button":s,focusVisibleClassName:Ao(b.focusVisible,d),ownerState:y,className:Ao(b.root,p),...f,classes:b,children:a})})})),PK=TK,RK=$O((0,Me.jsx)("path",{d:"M20 10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4zm-6 4h-4v-4h4z"})),AK=()=>{const e=ee(),t=ne(),n=lO(),r=pO(n.breakpoints.down("sm")),[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)([]),[c,u]=(0,i.useState)(!0),[d,h]=(0,i.useState)(0);(0,i.useEffect)((()=>{const t=new URLSearchParams(e.search).get("q");t&&(s(t),p(t))}),[e]);const p=async e=>{if(!e.trim())return l([]),void u(!1);u(!0);try{const t=[],n=ox(hw(DN,"users"),ax("username",">=",e.toLowerCase()),ax("username","<=",e.toLowerCase()+"\uf8ff"),hx(20));(await Ex(n)).forEach((e=>{const n=e.data();t.push({id:e.id,type:"user",title:n.username,subtitle:n.name||"No name set",data:n})}));const r=ox(hw(DN,"posts"),ax("content",">=",e.toLowerCase()),ax("content","<=",e.toLowerCase()+"\uf8ff"),ux("content"),hx(20)),i=await Ex(r);for(const e of i.docs){const n=e.data(),r=(await kx(pw(DN,"users",n.authorId))).data();t.push({id:e.id,type:"post",title:n.content.substring(0,50)+"...",subtitle:`by ${(null===r||void 0===r?void 0:r.name)||(null===r||void 0===r?void 0:r.username)||"Unknown"}`,data:n})}const o=ox(hw(DN,"forums"),ax("title",">=",e.toLowerCase()),ax("title","<=",e.toLowerCase()+"\uf8ff"),hx(20));(await Ex(o)).forEach((e=>{const n=e.data();t.push({id:e.id,type:"forum",title:n.title,subtitle:n.description,data:n})}));const s=ox(hw(DN,"sideRooms"),ax("name",">=",e.toLowerCase()),ax("name","<=",e.toLowerCase()+"\uf8ff"),hx(20));(await Ex(s)).forEach((e=>{const n=e.data();t.push({id:e.id,type:"sideRoom",title:n.name,subtitle:n.description,data:{id:e.id,...n}})})),l(t)}catch(PI){console.error("Error searching:",PI)}finally{u(!1)}},f=a.filter((e=>{switch(d){case 0:return"user"===e.type;case 1:return"post"===e.type;case 2:return"forum"===e.type;case 3:return"sideRoom"===e.type;default:return!0}}));return(0,Me.jsx)(ps,{maxWidth:"lg",children:(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsxs)(cD,{variant:"h4",gutterBottom:!0,children:['Search Results for "',o,'"']}),(0,Me.jsx)(xO,{sx:{mb:4},children:(0,Me.jsxs)(DV,{value:d,onChange:(e,t)=>{h(t)},variant:r?"fullWidth":"standard",sx:{borderBottom:1,borderColor:"divider"},children:[(0,Me.jsx)(zV,{label:"Users"}),(0,Me.jsx)(zV,{label:"Posts"}),(0,Me.jsx)(zV,{label:"Forums"}),(0,Me.jsx)(zV,{label:"Side Rooms"})]})}),c?(0,Me.jsx)(OO,{sx:{display:"flex",justifyContent:"center",p:4},children:(0,Me.jsx)(I$,{})}):f.length>0?(0,Me.jsx)(MM,{children:f.map(((e,n)=>(0,Me.jsxs)(i.Fragment,{children:[(0,Me.jsxs)(PK,{onClick:()=>(e=>{switch(e.type){case"user":t(`/profile/${e.id}`);break;case"post":t(`/post/${e.id}`);break;case"forum":t(`/forum/${e.id}`);break;case"sideRoom":t(`/side-room/${e.id}`)}})(e),sx:{"&:hover":{backgroundColor:"action.hover"}},children:[(0,Me.jsx)(pV,{children:"user"===e.type?(0,Me.jsx)(tD,{src:e.data.profilePic}):(0,Me.jsx)(tD,{children:"post"===e.type?(0,Me.jsx)(RK,{}):"forum"===e.type?(0,Me.jsx)(yz,{}):(0,Me.jsx)(vz,{})})}),(0,Me.jsx)(lz,{primary:e.title,secondary:e.subtitle})]}),n<f.length-1&&(0,Me.jsx)(hz,{})]},e.id)))}):(0,Me.jsx)(OO,{sx:{p:4,textAlign:"center"},children:(0,Me.jsx)(cD,{color:"text.secondary",children:"No results found"})})]})})},NK=$O((0,Me.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),jK=$O((0,Me.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),OK=()=>{const{currentUser:e}=$N(),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[s,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(null);(0,i.useEffect)((()=>{(async()=>{if(e)try{const t=ox(hw(DN,"deleted_posts"),ax("userId","==",e.uid)),r=(await Ex(t)).docs.map((e=>{var t,n;return{id:e.id,...e.data(),deletedAt:null===(t=e.data().deletedAt)||void 0===t?void 0:t.toDate(),scheduledForDeletion:null===(n=e.data().scheduledForDeletion)||void 0===n?void 0:n.toDate()}}));n(r)}catch(PI){console.error("Error fetching deleted posts:",PI)}finally{o(!1)}})()}),[e]);return r?(0,Me.jsx)(OO,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(I$,{})}):0===t.length?(0,Me.jsx)(cD,{sx:{mt:4,textAlign:"center"},children:"No deleted posts found"}):(0,Me.jsx)(OO,{sx:{mt:4},children:t.map((t=>(0,Me.jsxs)(xO,{sx:{p:2,mb:2,borderRadius:2},children:[(0,Me.jsxs)(OO,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Me.jsx)(tD,{src:t.authorAvatar,alt:t.authorName||"Anonymous",sx:{mr:2},children:t.authorName?t.authorName.charAt(0):"A"}),(0,Me.jsxs)(OO,{children:[(0,Me.jsx)(cD,{variant:"subtitle1",fontWeight:"bold",children:t.authorName||"Anonymous"}),(0,Me.jsxs)(cD,{variant:"caption",color:"text.secondary",children:["Deleted ",IU(t.deletedAt)," ago"]})]})]}),(0,Me.jsx)(cD,{sx:{mb:2},children:t.content}),t.imageUrl&&(0,Me.jsx)(OO,{component:"img",src:t.imageUrl,alt:"Post content",sx:{maxWidth:"100%",maxHeight:300,borderRadius:1,mb:2}}),t.tags&&t.tags.length>0&&(0,Me.jsx)(OO,{sx:{mb:2},children:t.tags.map((e=>(0,Me.jsx)(Nz,{label:`#${e}`,size:"small",sx:{mr:1,mb:1}},e)))}),(0,Me.jsxs)(OO,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[(0,Me.jsx)(q$,{variant:"outlined",startIcon:(0,Me.jsx)(NK,{}),onClick:()=>(async t=>{if(e){a(t);try{const r=pw(DN,"deleted_posts",t),i=(await kx(r)).data();if(!i)throw new Error("Post not found");const o=pw(DN,"posts",t);await Tx(o,{...i,deletedAt:null,scheduledForDeletion:null}),await Px(r),n((e=>e.filter((e=>e.id!==t)))),await Tx(pw(DN,"users",e.uid),{postCount:Vx(1)})}catch(PI){console.error("Error restoring post:",PI)}finally{a(null)}}})(t.id),disabled:!!s,children:s===t.id?(0,Me.jsx)(I$,{size:24}):"Restore"}),(0,Me.jsx)(q$,{variant:"outlined",color:"error",startIcon:(0,Me.jsx)(jK,{}),onClick:()=>(async t=>{if(e){c(t);try{const e=pw(DN,"deleted_posts",t);await Px(e),n((e=>e.filter((e=>e.id!==t))))}catch(PI){console.error("Error permanently deleting post:",PI)}finally{c(null)}}})(t.id),disabled:!!l,children:l===t.id?(0,Me.jsx)(I$,{size:24}):"Delete Forever"})]})]},t.id)))})},DK=()=>(0,Me.jsx)(ps,{maxWidth:"md",children:(0,Me.jsxs)(OO,{sx:{py:4},children:[(0,Me.jsx)(cD,{variant:"h4",sx:{mb:4},children:"Trash"}),(0,Me.jsx)(cD,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Posts in the trash will be automatically deleted after 24 hours. You can restore them before then."}),(0,Me.jsx)(OK,{})]})}),MK=()=>{const{userId:e}=re(),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[s,a]=(0,i.useState)(null);return(0,i.useEffect)((()=>{(async()=>{try{const t=await kx(pw(DN,"users",e));if(t.exists()){const e=t.data(),r=(e.followers||[]).map((async e=>{const t=await kx(pw(DN,"users",e));if(t.exists()){return{...t.data(),uid:e}}return null})),i=await Promise.all(r);n(i.filter(Boolean))}}catch(t){a("Failed to load followers"),console.error("Error fetching followers:",t)}finally{o(!1)}})()}),[e]),r?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(OO,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(I$,{})})}):s?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(OO,{sx:{mt:4,textAlign:"center"},children:(0,Me.jsx)(cD,{color:"error",children:s})})}):(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"Followers"}),(0,Me.jsxs)(MM,{children:[t.map((e=>(0,Me.jsxs)(cV,{component:Re,to:`/profile/${e.uid}`,sx:{textDecoration:"none",color:"inherit","&:hover":{backgroundColor:"action.hover"}},children:[(0,Me.jsx)(pV,{children:(0,Me.jsx)(tD,{src:e.profilePic||void 0})}),(0,Me.jsx)(lz,{primary:e.name,secondary:e.username})]},e.uid))),0===t.length&&(0,Me.jsx)(cD,{variant:"body1",sx:{mt:2,textAlign:"center"},children:"No followers yet"})]})]})})},LK=()=>{const{userId:e}=re(),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[s,a]=(0,i.useState)(null);return(0,i.useEffect)((()=>{(async()=>{try{const t=await kx(pw(DN,"users",e));if(t.exists()){const e=t.data(),r=(e.connections||[]).map((async e=>{const t=await kx(pw(DN,"users",e));if(t.exists()){return{...t.data(),uid:e}}return null})),i=await Promise.all(r);n(i.filter(Boolean))}}catch(t){a("Failed to load following"),console.error("Error fetching following:",t)}finally{o(!1)}})()}),[e]),r?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(OO,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(I$,{})})}):s?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(OO,{sx:{mt:4,textAlign:"center"},children:(0,Me.jsx)(cD,{color:"error",children:s})})}):(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsxs)(OO,{sx:{mt:4},children:[(0,Me.jsx)(cD,{variant:"h5",gutterBottom:!0,children:"Following"}),(0,Me.jsxs)(MM,{children:[t.map((e=>(0,Me.jsxs)(cV,{component:Re,to:`/profile/${e.uid}`,sx:{textDecoration:"none",color:"inherit","&:hover":{backgroundColor:"action.hover"}},children:[(0,Me.jsx)(pV,{children:(0,Me.jsx)(tD,{src:e.profilePic||void 0})}),(0,Me.jsx)(lz,{primary:e.name,secondary:e.username})]},e.uid))),0===t.length&&(0,Me.jsx)(cD,{variant:"body1",sx:{mt:2,textAlign:"center"},children:"Not following anyone yet"})]})]})})},FK=e=>{let{message:t="Loading..."}=e;return(0,Me.jsxs)(OO,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,textAlign:"center"},children:[(0,Me.jsx)(I$,{size:60,thickness:4}),(0,Me.jsx)(cD,{variant:"h6",sx:{mt:2},children:t})]})},$K=e=>{let{children:t,requireAuth:n=!0,requireEmailVerification:r=!1,require2FA:i=!1}=e;const{user:o,loading:s,userProfile:a}=$N();return s?(0,Me.jsx)(FK,{message:"Checking authentication..."}):n&&!o?(0,Me.jsx)(ye,{to:"/login",replace:!0}):r&&o&&!o.emailVerified?(0,Me.jsx)(ye,{to:"/verify-email",replace:!0}):i&&a&&!a.isVerified?(0,Me.jsx)(ye,{to:"/2fa",replace:!0}):(0,Me.jsx)(Me.Fragment,{children:t})};class zK extends i.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null},this.handleRetry=()=>{this.setState({hasError:!1,error:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){var e;return this.state.hasError?(0,Me.jsxs)(OO,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,textAlign:"center"},children:[(0,Me.jsx)(cD,{variant:"h4",gutterBottom:!0,children:"Oops! Something went wrong"}),(0,Me.jsx)(cD,{variant:"body1",color:"text.secondary",paragraph:!0,children:(null===(e=this.state.error)||void 0===e?void 0:e.message)||"An unexpected error occurred"}),(0,Me.jsx)(q$,{variant:"contained",color:"primary",onClick:this.handleRetry,sx:{mt:2},children:"Try Again"})]}):this.props.children}}const BK=zK,UK=e=>{let{children:t,maxRequests:n=10,timeWindow:r=6e4}=e;const[o,s]=(0,i.useState)(null),a=(0,i.useRef)(0),l=(0,i.useRef)(Date.now()),c=(0,i.useCallback)((()=>{const e=Date.now();return e-l.current>=r&&(a.current=0,l.current=e),a.current>=n?(s(`Rate limit exceeded. Please try again in ${Math.ceil((r-(e-l.current))/1e3)} seconds.`),!1):(a.current++,!0)}),[n,r]),u=()=>{s(null)};return(0,Me.jsxs)(Me.Fragment,{children:[i.Children.map(t,(e=>i.isValidElement(e)?i.cloneElement(e,{checkRateLimit:c}):e)),(0,Me.jsx)(pB,{open:!!o,autoHideDuration:6e3,onClose:u,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,Me.jsx)(IB,{onClose:u,severity:"error",sx:{width:"100%"},children:o})})]})},VK=()=>(0,Me.jsxs)(fo,{theme:Lj,children:[(0,Me.jsx)(Po,{}),(0,Me.jsx)(FN,{children:(0,Me.jsx)(BK,{children:(0,Me.jsxs)(UK,{children:[(0,Me.jsx)(Mj,{position:"top-right"}),(0,Me.jsx)(kz,{}),(0,Me.jsx)(ps,{children:(0,Me.jsxs)(xe,{children:[(0,Me.jsx)(be,{path:"/",element:(0,Me.jsx)($U,{})}),(0,Me.jsx)(be,{path:"/login",element:(0,Me.jsx)(zU,{})}),(0,Me.jsx)(be,{path:"/register",element:(0,Me.jsx)(VU,{})}),(0,Me.jsx)(be,{path:"/profile",element:(0,Me.jsx)($K,{children:(0,Me.jsx)(HV,{})})}),(0,Me.jsx)(be,{path:"/profile/:userId",element:(0,Me.jsx)(HV,{})}),(0,Me.jsx)(be,{path:"/profile/:userId/followers",element:(0,Me.jsx)(MK,{})}),(0,Me.jsx)(be,{path:"/profile/:userId/following",element:(0,Me.jsx)(LK,{})}),(0,Me.jsx)(be,{path:"/search",element:(0,Me.jsx)(AK,{})}),(0,Me.jsx)(be,{path:"/forums",element:(0,Me.jsx)($K,{children:(0,Me.jsx)(QV,{})})}),(0,Me.jsx)(be,{path:"/side-rooms",element:(0,Me.jsx)($K,{children:(0,Me.jsx)(_W,{})})}),(0,Me.jsx)(be,{path:"/side-room/:roomId",element:(0,Me.jsx)($K,{children:(0,Me.jsx)(HH,{})})}),(0,Me.jsx)(be,{path:"/messages",element:(0,Me.jsx)($K,{children:(0,Me.jsx)(KV,{})})}),(0,Me.jsx)(be,{path:"/chat",element:(0,Me.jsx)($K,{children:(0,Me.jsx)(KH,{})})}),(0,Me.jsx)(be,{path:"/safety",element:(0,Me.jsx)(wK,{})}),(0,Me.jsx)(be,{path:"/privacy-policy",element:(0,Me.jsx)(xK,{})}),(0,Me.jsx)(be,{path:"/about",element:(0,Me.jsx)(SK,{})}),(0,Me.jsx)(be,{path:"/terms",element:(0,Me.jsx)(_K,{})}),(0,Me.jsx)(be,{path:"/cookies",element:(0,Me.jsx)(kK,{})}),(0,Me.jsx)(be,{path:"/verify-email",element:(0,Me.jsx)(CK,{})}),(0,Me.jsx)(be,{path:"/2fa",element:(0,Me.jsx)(EK,{})}),(0,Me.jsx)(be,{path:"/trash",element:(0,Me.jsx)($K,{children:(0,Me.jsx)(DK,{})})}),(0,Me.jsx)(be,{path:"*",element:(0,Me.jsx)($U,{})})]})})]})})})]});s.createRoot(document.getElementById("root")).render((0,Me.jsx)(i.StrictMode,{children:(0,Me.jsx)(Ie,{children:(0,Me.jsx)(VK,{})})}))})();
//# sourceMappingURL=main.1b079463.js.map