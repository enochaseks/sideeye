/*! For license information please see main.b3f70240.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function j(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case C:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return j(e(t))}catch(dp){}}return null}var N=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],F=-1;function z(e){return{current:e}}function $(e){0>F||(e.current=L[F],L[F]=null,F--)}function B(e,t){F++,L[F]=e.current,e.current=t}var U=z(null),V=z(null),W=z(null),H=z(null);function q(e,t){switch(B(W,t),B(V,e),B(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(U),B(U,e)}function K(){$(U),$(V),$(W)}function G(e){null!==e.memoizedState&&B(H,e);var t=U.current,n=od(t,e.type);t!==n&&(B(V,e),B(U,n))}function Q(e){V.current===e&&($(U),$(V)),H.current===e&&($(H),Gd._currentValue=M)}var Y=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,se=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=ve(r):0!==(s&=a)?i=ve(s):n||0!==(n=a&~e)&&(i=ve(n)):0!==(a=r&~o)?i=ve(a):0!==s?i=ve(s):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ce(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function _e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Re=Math.random().toString(36).slice(2),je="__reactFiber$"+Re,Ne="__reactProps$"+Re,Oe="__reactContainer$"+Re,De="__reactEvents$"+Re,Me="__reactListeners$"+Re,Le="__reactHandles$"+Re,Fe="__reactResources$"+Re,ze="__reactMarker$"+Re;function $e(e){delete e[je],delete e[Ne],delete e[De],delete e[Me],delete e[Le]}function Be(e){var t=e[je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[je]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[je])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[je]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function We(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[ze]=!0}var qe=new Set,Ke={};function Ge(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Ye,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(dp){var t=dp.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<dp.stack.indexOf("\n    at")?" (<anonymous>)":-1<dp.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var ot=!1;function st(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(dp){var r=dp}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(dp){return"\nError generating stack: "+dp.message+"\n"+dp.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(KI){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=n?vt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function yt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(N(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Ct(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Ct(e,o,t[o])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var jt=null,Nt=null;function Ot(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Ne]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ne]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Mt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==jt||null!==Nt)&&(Bc(),jt&&(t=jt,e=Nt,Nt=jt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ne]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var $t={};Object.defineProperty($t,"passive",{get:function(){zt=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch(KI){zt=!1}var Bt=null,Ut=null,Vt=null;function Wt(){if(Vt)return Vt;var e,t,n=Ut,r=n.length,i="value"in Bt?Bt.value:Bt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Vt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Kt(){return!1}function Gt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Qt,Yt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Gt(nn),on=Gt(h({},nn,{dataTransfer:0})),sn=Gt(h({},en,{relatedTarget:0})),an=Gt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return pn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Gt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Gt(h({},Jt,{newState:0,oldState:0})),xn=[9,13,27,32],Sn=Ft&&"CompositionEvent"in window,kn=null;Ft&&"documentMode"in document&&(kn=document.documentMode);var Cn=Ft&&"TextEvent"in window&&!kn,En=Ft&&(!Sn||kn&&8<kn&&11>=kn),In=String.fromCharCode(32),Tn=!1;function _n(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Nn(e,t,n,r){jt?Nt?Nt.push(r):Nt=[r]:jt=r,0<(t=Wu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Dn=null;function Mn(e){Mu(e,0)}function Ln(e){if(ht(Ve(e)))return e}function Fn(e,t){if("change"===e)return t}var zn=!1;if(Ft){var $n;if(Ft){var Bn="oninput"in document;if(!Bn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Bn="function"===typeof Un.oninput}$n=Bn}else $n=!1;zn=$n&&(!document.documentMode||9<document.documentMode)}function Vn(){On&&(On.detachEvent("onpropertychange",Wn),Dn=On=null)}function Wn(e){if("value"===e.propertyName&&Ln(Dn)){var t=[];Nn(t,Dn,e,Rt(e)),Mt(Mn,t)}}function Hn(e,t,n){"focusin"===e?(Vn(),Dn=n,(On=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&Vn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Dn)}function Kn(e,t){if("click"===e)return Ln(t)}function Gn(e,t){if("input"===e||"change"===e)return Ln(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Yn(or,r)||(or=r,0<(r=Wu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),fr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),Ge(t,[e])}xr.push("scrollEnd");var kr=new WeakMap;function Cr(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Er=[],Ir=0,Tr=0;function _r(){for(var e=Ir,t=Tr=Ir=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var i=Er[t];Er[t++]=null;var o=Er[t];if(Er[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&jr(n,i,o)}}function Ar(e,t,n,r){Er[Ir++]=e,Er[Ir++]=t,Er[Ir++]=n,Er[Ir++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Ar(e,t,n,r),Nr(e)}function Rr(e,t){return Ar(e,null,null,t),Nr(e)}function jr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-pe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Nr(e){if(50<jc)throw jc=0,Nc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Dr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $r(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)Lr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Mr(31,n,t,i)).elementType=T,e.lanes=o,e;case g:return Br(n.children,i,o,t);case y:a=8,i|=24;break;case v:return(e=Mr(12,n,t,2|i)).elementType=v,e.lanes=o,e;case k:return(e=Mr(13,n,t,i)).elementType=k,e.lanes=o,e;case C:return(e=Mr(19,n,t,i)).elementType=C,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:a=10;break e;case w:a=9;break e;case S:a=11;break e;case E:a=14;break e;case I:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Vr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Hr=0,qr=null,Kr=0,Gr=[],Qr=0,Yr=null,Xr=1,Jr="";function Zr(e,t){Wr[Hr++]=Kr,Wr[Hr++]=qr,qr=e,Kr=t}function ei(e,t,n){Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Yr=e;var r=Xr;e=Jr;var i=32-pe(r)-1;r&=~(1<<i),n+=1;var o=32-pe(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xr=1<<32-pe(t)+i|n<<i|r,Jr=o+e}else Xr=1<<o|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===qr;)qr=Wr[--Hr],Wr[Hr]=null,Kr=Wr[--Hr],Wr[Hr]=null;for(;e===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null,Xr=Gr[--Qr],Gr[Qr]=null}var ri=null,ii=null,oi=!1,si=null,ai=!1,li=Error(s(519));function ci(e){throw mi(Cr(Error(s(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[je]=e,t[Ne]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Lu(Ou[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(ai=!1);case 27:case 3:return void(ai=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!oi)return di(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,pd(e.type)?(e=vd,vd=null,ii=e):ii=n):ii=ri?yd(e.stateNode.nextSibling):null;return!0}function pi(){ii=ri=null,oi=!1}function fi(){var e=si;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),si=null),e}function mi(e){null===si?si=[e]:si.push(e)}var gi=z(null),yi=null,vi=null;function bi(e,t,n){B(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,$(gi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xi(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),xi(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function ki(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}i=i.return}null!==e&&Si(t,e,n,r),t.flags|=262144}function Ci(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ei(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ii(e){return _i(yi,e)}function Ti(e,t){return null===yi&&Ei(e),_i(e,t)}function _i(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(s(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ai="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Pi=r.unstable_scheduleCallback,Ri=r.unstable_NormalPriority,ji={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ni(){return{controller:new Ai,data:new Map,refCount:0}}function Oi(e){e.refCount--,0===e.refCount&&Pi(Ri,(function(){e.controller.abort()}))}var Di=null,Mi=0,Li=0,Fi=null;function zi(){if(0===--Mi&&null!==Di){null!==Fi&&(Fi.status="fulfilled");var e=Di;Di=null,Li=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $i=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Di){var n=Di=[];Mi=0,Li=Au(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then(zi,zi)}(0,t),null!==$i&&$i(e,t)};var Bi=z(null);function Ui(){var e=Bi.current;return null!==e?e:rc.pooledCache}function Vi(e,t){B(Bi,null===t?Bi.current:t.pool)}function Wi(){var e=Ui();return null===e?null:{parent:ji._currentValue,pool:e}}var Hi=Error(s(460)),qi=Error(s(474)),Ki=Error(s(542)),Gi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Xi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Ji=t,Hi}}var Ji=null;function Zi(){if(null===Ji)throw Error(s(459));var e=Ji;return Ji=null,e}function eo(e){if(e===Hi||e===Ki)throw Error(s(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Nr(e),jr(e,null,n),t}return Ar(e,r,t,n),Nr(e)}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function ao(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==Fi)throw Fi}}function uo(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var p=-536870913&a.lane,f=p!==a.lane;if(f?(oc&p)===p:(r&p)===p){0!==p&&p===Li&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;p=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(y,d,p):m)||void 0===p)break e;d=h({},d,p);break e;case 2:to=!0}}null!==(p=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=p;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),pc|=s,e.lanes=s,e.memoizedState=d}}function ho(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function po(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var fo=z(null),mo=z(0);function go(e,t){B(mo,e=dc),B(fo,t),dc=e|t.baseLanes}function yo(){B(mo,dc),B(fo,fo.current)}function vo(){dc=mo.current,$(fo),$(mo)}var bo=0,wo=null,xo=null,So=null,ko=!1,Co=!1,Eo=!1,Io=0,To=0,_o=null,Ao=0;function Po(){throw Error(s(321))}function Ro(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function jo(e,t,n,r,i,o){return bo=o,wo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?qs:Ks,Eo=!1,o=n(r,i),Eo=!1,Co&&(o=Oo(t,n,r,i)),No(e),o}function No(e){O.H=Hs;var t=null!==xo&&null!==xo.next;if(bo=0,So=xo=wo=null,ko=!1,To=0,_o=null,t)throw Error(s(300));null===e||Ta||null!==(e=e.dependencies)&&Ci(e)&&(Ta=!0)}function Oo(e,t,n,r){wo=e;var i=0;do{if(Co&&(_o=null),To=0,Co=!1,25<=i)throw Error(s(301));if(i+=1,So=xo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}O.H=Gs,o=t(n,r)}while(Co);return o}function Do(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Bo(t):t,e=e.useState()[0],(null!==xo?xo.memoizedState:null)!==e&&(wo.flags|=1024),t}function Mo(){var e=0!==Io;return Io=0,e}function Lo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fo(e){if(ko){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ko=!1}bo=0,So=xo=wo=null,Co=!1,To=Io=0,_o=null}function zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===So?wo.memoizedState=So=e:So=So.next=e,So}function $o(){if(null===xo){var e=wo.alternate;e=null!==e?e.memoizedState:null}else e=xo.next;var t=null===So?wo.memoizedState:So.next;if(null!==t)So=t,xo=e;else{if(null===e){if(null===wo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(xo=e).memoizedState,baseState:xo.baseState,baseQueue:xo.baseQueue,queue:xo.queue,next:null},null===So?wo.memoizedState=So=e:So=So.next=e}return So}function Bo(e){var t=To;return To+=1,null===_o&&(_o=[]),e=Xi(_o,e,t),t=wo,null===(null===So?t.memoizedState:So.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?qs:Ks),e}function Uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bo(e);if(e.$$typeof===x)return Ii(e)}throw Error(s(438,String(e)))}function Vo(e){var t=null,n=wo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=_;return t.index++,n}function Wo(e,t){return"function"===typeof t?t(e):t}function Ho(e){return qo($o(),xo,e)}function qo(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(bo&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Li&&(d=!0);else{if((bo&p)===p){u=u.next,p===Li&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,wo.lanes|=p,pc|=p}h=u.action,Eo&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=o):c=c.next=p,wo.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Qn(o,e.memoizedState)&&(Ta=!0,d&&null!==(n=Fi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ko(e){var t=$o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Qn(o,t.memoizedState)||(Ta=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Go(e,t,n){var r=wo,i=$o(),o=oi;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Qn((xo||i).memoizedState,n);if(a&&(i.memoizedState=n,Ta=!0),i=i.queue,ys(2048,8,Xo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==So&&1&So.memoizedState.tag){if(r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,i,n,t),null),null===rc)throw Error(s(349));o||0!==(124&bo)||Qo(r,t,n)}return n}function Qo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yo(e,t,n,r){t.value=n,t.getSnapshot=r,Jo(t)&&Zo(e)}function Xo(e,t,n){return n((function(){Jo(t)&&Zo(e)}))}function Jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Zo(e){var t=Rr(e,2);null!==t&&Mc(t,e,2)}function es(e){var t=zo();if("function"===typeof e){var n=e;if(e=n(),Eo){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,qo(e,xo,"function"===typeof r?r:Wo)}function ns(e,t,n,r,i){if(Us(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==O.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,rs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function rs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=O.T,s={};O.T=s;try{var a=n(i,r),l=O.S;null!==l&&l(s,a),is(e,t,a)}catch(c){ss(e,t,c)}finally{O.T=o}}else try{is(e,t,o=n(i,r))}catch(u){ss(e,t,u)}}function is(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){os(e,t,n)}),(function(n){return ss(e,t,n)})):os(e,t,n)}function os(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==r)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function cs(e,t){if(oi){var n=rc.formState;if(null!==n){e:{var r=wo;if(oi){if(ii){t:{for(var i=ii,o=ai;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=yd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=yd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=zo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=zs.bind(null,wo,r),r.dispatch=n,r=es(!1),o=Bs.bind(null,wo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=zo()).queue=i,n=ns.bind(null,wo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function us(e){return ds($o(),xo,e)}function ds(e,t,n){if(t=qo(e,t,ls)[0],e=Ho(Wo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bo(t)}catch(dp){if(dp===Hi)throw Ki;throw dp}else r=t;var i=(t=$o()).queue,o=i.dispatch;return n!==t.memoizedState&&(wo.flags|=2048,fs(9,{destroy:void 0,resource:void 0},hs.bind(null,i,n),null)),[r,o,e]}function hs(e,t){e.action=t}function ps(e){var t=$o(),n=xo;if(null!==n)return ds(t,n,e);$o(),t=t.memoizedState;var r=(n=$o()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return $o().memoizedState}function gs(e,t,n,r){var i=zo();r=void 0===r?null:r,wo.flags|=e,i.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,r)}function ys(e,t,n,r){var i=$o();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==xo&&null!==r&&Ro(r,xo.memoizedState.deps)?i.memoizedState=fs(t,o,n,r):(wo.flags|=e,i.memoizedState=fs(1|t,o,n,r))}function vs(e,t){gs(8390656,8,e,t)}function bs(e,t){ys(2048,8,e,t)}function ws(e,t){return ys(4,2,e,t)}function xs(e,t){return ys(4,4,e,t)}function Ss(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ks(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ys(4,4,Ss.bind(null,t,e),n)}function Cs(){}function Es(e,t){var n=$o();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ro(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Is(e,t){var n=$o();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ro(t,r[1]))return r[0];if(r=e(),Eo){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ts(e,t,n){return void 0===n||0!==(1073741824&bo)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),wo.lanes|=e,pc|=e,n)}function _s(e,t,n,r){return Qn(n,t)?n:null!==fo.current?(e=Ts(e,n,r),Qn(e,t)||(Ta=!0),e):0===(42&bo)?(Ta=!0,e.memoizedState=n):(e=Dc(),wo.lanes|=e,pc|=e,t)}function As(e,t,n,r,i){var o=D.p;D.p=0!==o&&8>o?o:8;var s=O.T,a={};O.T=a,Bs(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r);$s(e,t,u,Oc())}else $s(e,t,r,Oc())}catch(d){$s(e,t,{then:function(){},status:"rejected",reason:d},Oc())}finally{D.p=o,O.T=s}}function Ps(){}function Rs(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=js(e).queue;As(e,i,t,M,null===n?Ps:function(){return Ns(e),n(r)})}function js(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ns(e){$s(e,js(e).next.queue,{},Oc())}function Os(){return Ii(Gd)}function Ds(){return $o().memoizedState}function Ms(){return $o().memoizedState}function Ls(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=oo(t,e=io(n),n);return null!==r&&(Mc(r,t,n),so(r,t,n)),t={cache:Ni()},void(e.payload=t)}t=t.return}}function Fs(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Us(e)?Vs(t,n):null!==(n=Pr(e,t,n,r))&&(Mc(n,e,r),Ws(n,t,r))}function zs(e,t,n){$s(e,t,n,Oc())}function $s(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Us(e))Vs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Qn(a,s))return Ar(e,t,i,0),null===rc&&_r(),!1}catch(l){}if(null!==(n=Pr(e,t,i,r)))return Mc(n,e,r),Ws(n,t,r),!0}return!1}function Bs(e,t,n,r){if(r={lane:2,revertLane:Au(),action:r,hasEagerState:!1,eagerState:null,next:null},Us(e)){if(t)throw Error(s(479))}else null!==(t=Pr(e,n,r,2))&&Mc(t,e,2)}function Us(e){var t=e.alternate;return e===wo||null!==t&&t===wo}function Vs(e,t){Co=ko=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ws(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Hs={readContext:Ii,use:Uo,useCallback:Po,useContext:Po,useEffect:Po,useImperativeHandle:Po,useLayoutEffect:Po,useInsertionEffect:Po,useMemo:Po,useReducer:Po,useRef:Po,useState:Po,useDebugValue:Po,useDeferredValue:Po,useTransition:Po,useSyncExternalStore:Po,useId:Po,useHostTransitionStatus:Po,useFormState:Po,useActionState:Po,useOptimistic:Po,useMemoCache:Po,useCacheRefresh:Po},qs={readContext:Ii,use:Uo,useCallback:function(e,t){return zo().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4194308,4,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){gs(4,2,e,t)},useMemo:function(e,t){var n=zo();t=void 0===t?null:t;var r=e();if(Eo){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=zo();if(void 0!==n){var i=n(t);if(Eo){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fs.bind(null,wo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zo().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=zs.bind(null,wo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Cs,useDeferredValue:function(e,t){return Ts(zo(),e,t)},useTransition:function(){var e=es(!1);return e=As.bind(null,wo,e.queue,!0,!1),zo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wo,i=zo();if(oi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&oc)||Qo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,vs(Xo.bind(null,r,o,e),[e]),r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,o,n,t),null),n},useId:function(){var e=zo(),t=rc.identifierPrefix;if(oi){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-pe(Xr)-1)).toString(32)+n),0<(n=Io++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ao++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Os,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=zo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bs.bind(null,wo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vo,useCacheRefresh:function(){return zo().memoizedState=Ls.bind(null,wo)}},Ks={readContext:Ii,use:Uo,useCallback:Es,useContext:Ii,useEffect:bs,useImperativeHandle:ks,useInsertionEffect:ws,useLayoutEffect:xs,useMemo:Is,useReducer:Ho,useRef:ms,useState:function(){return Ho(Wo)},useDebugValue:Cs,useDeferredValue:function(e,t){return _s($o(),xo.memoizedState,e,t)},useTransition:function(){var e=Ho(Wo)[0],t=$o().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Go,useId:Ds,useHostTransitionStatus:Os,useFormState:us,useActionState:us,useOptimistic:function(e,t){return ts($o(),0,e,t)},useMemoCache:Vo,useCacheRefresh:Ms},Gs={readContext:Ii,use:Uo,useCallback:Es,useContext:Ii,useEffect:bs,useImperativeHandle:ks,useInsertionEffect:ws,useLayoutEffect:xs,useMemo:Is,useReducer:Ko,useRef:ms,useState:function(){return Ko(Wo)},useDebugValue:Cs,useDeferredValue:function(e,t){var n=$o();return null===xo?Ts(n,e,t):_s(n,xo.memoizedState,e,t)},useTransition:function(){var e=Ko(Wo)[0],t=$o().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Go,useId:Ds,useHostTransitionStatus:Os,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){var n=$o();return null!==xo?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vo,useCacheRefresh:Ms},Qs=null,Ys=0;function Xs(e){var t=Ys;return Ys+=1,null===Qs&&(Qs=[]),Xi(Qs,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&ea(o)===t.type)?(Js(t=i(t,n.props),n),t.return=e,t):(Js(t=$r(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Br(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Js(n=$r(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Vr(t,e.mode,n)).return=e,t;case I:return h(e,t=(0,t._init)(t._payload),n)}if(N(t)||P(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Xs(t),n);if(t.$$typeof===x)return h(e,Ti(e,t),n);Zs(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case I:return p(e,t,n=(i=n._init)(n._payload),r)}if(N(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Xs(n),r);if(n.$$typeof===x)return p(e,t,Ti(e,n),r);Zs(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(N(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Xs(r),i);if(r.$$typeof===x)return y(e,t,n,Ti(t,r),i);Zs(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===I&&ea(b)===c.type){n(l,c.sibling),Js(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(Js(d=$r(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Vr(u,l.mode,d)).return=l,l=d}return a(l);case I:return v(l,c,u=(b=u._init)(u._payload),d)}if(N(u))return function(i,s,a,l){for(var c=null,u=null,d=s,f=s=0,m=null;null!==d&&f<a.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var g=p(i,d,a[f],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),s=o(g,s,f),null===u?c=g:u.sibling=g,u=g,d=m}if(f===a.length)return n(i,d),oi&&Zr(i,f),c;if(null===d){for(;f<a.length;f++)null!==(d=h(i,a[f],l))&&(s=o(d,s,f),null===u?c=d:u.sibling=d,u=d);return oi&&Zr(i,f),c}for(d=r(d);f<a.length;f++)null!==(m=y(d,i,f,a[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),s=o(m,s,f),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),oi&&Zr(i,f),c}(l,c,u,d);if(P(u)){if("function"!==typeof(b=P(u)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,f=a,m=a=0,g=null,v=l.next();null!==f&&!v.done;m++,v=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var b=p(i,f,v.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(i,f),a=o(b,a,m),null===d?u=b:d.sibling=b,d=b,f=g}if(v.done)return n(i,f),oi&&Zr(i,m),u;if(null===f){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return oi&&Zr(i,m),u}for(f=r(f);!v.done;m++,v=l.next())null!==(v=y(f,i,m,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return e&&f.forEach((function(e){return t(i,e)})),oi&&Zr(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Xs(u),d);if(u.$$typeof===x)return v(l,c,Ti(l,u),d);Zs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Ur(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{Ys=0;var i=v(e,t,n,r);return Qs=null,i}catch(dp){if(dp===Hi||dp===Ki)throw dp;var o=Mr(29,dp,null,e.mode);return o.lanes=r,o.return=e,o}}}var na=ta(!0),ra=ta(!1),ia=z(null),oa=null;function sa(e){var t=e.alternate;B(ua,1&ua.current),B(ia,e),null===oa&&(null===t||null!==fo.current||null!==t.memoizedState)&&(oa=e)}function aa(e){if(22===e.tag){if(B(ua,ua.current),B(ia,e),null===oa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oa=e)}}else la()}function la(){B(ua,ua.current),B(ia,ia.current)}function ca(e){$(ia),oa===e&&(oa=null),$(ua)}var ua=z(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Mc(t,e,r),so(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Mc(t,e,r),so(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Mc(t,e,n),so(t,e,n))}};function fa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,o))}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ya="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function va(e){ya(e)}function ba(e){console.error(e)}function wa(e){ya(e)}function xa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Sa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function ka(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){xa(e,t)},n}function Ca(e){return(e=io(e)).tag=3,e}function Ea(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Sa(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Sa(t,n,r),"function"!==typeof i&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ia=Error(s(461)),Ta=!1;function _a(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Aa(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Ei(t),r=jo(e,t,n,s,o,i),a=Mo(),null===e||Ta?(oi&&a&&ti(t),t.flags|=1,_a(e,t,r,i),t.child):(Lo(e,t,i),Qa(e,t,i))}function Pa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Lr(o)||void 0!==o.defaultProps||null!==n.compare?((e=$r(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ra(e,t,o,r,i))}if(o=e.child,!Ya(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return Qa(e,t,i)}return t.flags|=1,(e=Fr(o,r)).ref=t.ref,e.return=t,t.child=e}function Ra(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Yn(o,r)&&e.ref===t.ref){if(Ta=!1,t.pendingProps=r=o,!Ya(e,i))return t.lanes=e.lanes,Qa(e,t,i);0!==(131072&e.flags)&&(Ta=!0)}}return Da(e,t,n,r,i)}function ja(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Na(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Na(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Vi(0,null!==o?o.cachePool:null),null!==o?go(t,o):yo(),aa(t)}else null!==o?(Vi(0,o.cachePool),go(t,o),la(),t.memoizedState=null):(null!==e&&Vi(0,null),yo(),la());return _a(e,t,i,n),t.child}function Na(e,t,n,r){var i=Ui();return i=null===i?null:{parent:ji._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Vi(0,null),yo(),aa(t),null!==e&&ki(e,t,r,!0),null}function Oa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Da(e,t,n,r,i){return Ei(t),n=jo(e,t,n,r,void 0,i),r=Mo(),null===e||Ta?(oi&&r&&ti(t),t.flags|=1,_a(e,t,n,i),t.child):(Lo(e,t,i),Qa(e,t,i))}function Ma(e,t,n,r,i,o){return Ei(t),t.updateQueue=null,n=Oo(t,r,n,i),No(e),r=Mo(),null===e||Ta?(oi&&r&&ti(t),t.flags|=1,_a(e,t,n,o),t.child):(Lo(e,t,o),Qa(e,t,o))}function La(e,t,n,r,i){if(Ei(t),null===t.stateNode){var o=Or,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ii(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=pa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ii(s):Or,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ha(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&pa.enqueueReplaceState(o,o.state,null),uo(t,r,o,i),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=ga(n,a);o.props=l;var c=o.context,u=n.contextType;s=Or,"object"===typeof u&&null!==u&&(s=Ii(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&ma(t,o,r,s),to=!1;var h=t.memoizedState;o.state=h,uo(t,r,o,i),co(),c=t.memoizedState,a||h!==c||to?("function"===typeof d&&(ha(t,n,d,r),c=t.memoizedState),(l=to||fa(t,n,l,r,h,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=ga(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=Ii(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ma(t,o,r,l),to=!1,h=t.memoizedState,o.state=h,uo(t,r,o,i),co();var p=t.memoizedState;s!==d||h!==p||to||null!==e&&null!==e.dependencies&&Ci(e.dependencies)?("function"===typeof a&&(ha(t,n,a,r),p=t.memoizedState),(u=to||fa(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Ci(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Oa(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,i),t.child=na(t,null,n,i)):_a(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Qa(e,t,i),e}function Fa(e,t,n,r){return pi(),t.flags|=256,_a(e,t,n,r),t.child}var za={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $a(e){return{baseLanes:e,cachePool:Wi()}}function Ba(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Ua(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?sa(t):la(),oi){var l,c=ii;if(l=c){e:{for(l=c,c=ai;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=i.children,i=i.fallback,o?(la(),c=Wa({mode:"hidden",children:c},o=t.mode),i=Br(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=$a(n),o.childLanes=Ba(e,r,n),t.memoizedState=za,i):(sa(t),Va(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=Ha(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),o=i.fallback,c=t.mode,i=Wa({mode:"visible",children:i.children},c),(o=Br(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,na(t,e.child,null,n),(i=t.child).memoizedState=$a(n),i.childLanes=Ba(e,r,n),t.memoizedState=za,t=o);else if(sa(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ha(e,t,n)}else if(Ta||ki(e,t,n,!1),r=0!==(n&e.childLanes),Ta||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:_e(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Rr(e,i),Mc(r,e,i),Ia;"$?"===c.data||Kc(),t=Ha(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yd(c.nextSibling),ri=t,oi=!0,si=null,ai=!1,null!==e&&(Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Xr=e.id,Jr=e.overflow,Yr=t),(t=Va(t,i.children)).flags|=4096);return t}return o?(la(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=Fr(u,o):(o=Br(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=$a(n):(null!==(l=c.cachePool)?(u=ji._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Wi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Ba(e,r,n),t.memoizedState=za,i):(sa(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Va(e,t){return(t=Wa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wa(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ha(e,t,n){return na(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function Ka(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ga(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qa(e,n,t);else if(19===e.tag)qa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(ua,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ka(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===da(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ka(t,!0,n,null,o);break;case"together":Ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ki(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ci(e))}function Xa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ta=!0;else{if(!Ya(e,n)&&0===(128&t.flags))return Ta=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),bi(0,ji,e.memoizedState.cache),pi();break;case 27:case 5:G(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(sa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(sa(t),null!==(e=Qa(e,t,n))?e.sibling:null);sa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ki(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Ga(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,ja(e,t,n);case 24:bi(0,ji,e.memoizedState.cache)}return Qa(e,t,n)}(e,t,n);Ta=0!==(131072&e.flags)}else Ta=!1,oi&&0!==(1048576&t.flags)&&ei(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===S){t.tag=11,t=Aa(null,t,r,e,n);break e}if(i===E){t.tag=14,t=Pa(null,t,r,e,n);break e}}throw t=j(r)||r,Error(s(306,t,""))}Lr(r)?(e=ga(r,e),t.tag=1,t=La(null,t,r,e,n)):(t.tag=0,t=Da(null,t,r,e,n))}return t;case 0:return Da(e,t,t.type,t.pendingProps,n);case 1:return La(e,t,r=t.type,i=ga(r,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),uo(t,r,null,n);var a=t.memoizedState;if(r=a.cache,bi(0,ji,r),r!==o.cache&&Si(t,[ji],n,!0),co(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fa(e,t,r,n);break e}if(r!==i){mi(i=Cr(Error(s(424)),t)),t=Fa(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yd(e.firstChild),ri=t,oi=!0,si=null,ai=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===i){t=Qa(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 26:return Oa(e,t),null===e?(n=_d(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=rd(W.current).createElement(n))[je]=t,r[Ne]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=_d(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&oi&&(r=t.stateNode=wd(t.type,t.pendingProps,W.current),ri=t,ai=!0,i=ii,pd(t.type)?(vd=i,ii=yd(r.firstChild)):ii=i),_a(e,t,t.pendingProps.children,n),Oa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ai))?(t.stateNode=r,ri=t,ii=yd(r.firstChild),ai=!1,i=!0):i=!1),i||ci(t)),G(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,sd(i,o)?r=null:null!==a&&sd(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=jo(e,t,Do,null,null,n),Gd._currentValue=i),Oa(e,t),_a(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,ai))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Ua(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):_a(e,t,r,n),t.child;case 11:return Aa(e,t,t.type,t.pendingProps,n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),_a(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ei(t),r=r(i=Ii(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return Pa(e,t,t.type,t.pendingProps,n);case 15:return Ra(e,t,t.type,t.pendingProps,n);case 19:return Ga(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Wa(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return ja(e,t,n);case 24:return Ei(t),r=Ii(ji),null===e?(null===(i=Ui())&&(i=rc,o=Ni(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),bi(0,ji,i)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,ji,r)):(r=o.cache,bi(0,ji,r),r!==i.cache&&Si(t,[ji],n,!0))),_a(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ja(e){e.flags|=4}function Za(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=ia.current)&&((4194048&oc)===oc?null!==oa:(62914560&oc)!==oc&&0===(536870912&oc)||t!==oa))throw Ji=Gi,qi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(ji),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Ja(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Ja(t),null!==n?(nl(t),Za(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ja(t),nl(t),Za(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ja(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=W.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=U.current,hi(t)?ui(t):(e=wd(i,r,n),t.stateNode=e,Ja(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=U.current,hi(t))ui(t);else{switch(i=rd(W.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[je]=t,e[Ne]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ja(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ja(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=W.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[je]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[je]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[je]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=fi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&$u(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if($(ua),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=da(e))){for(t.flags|=128,tl(i,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return B(ua,1&ua.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Sc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=da(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return nl(t),null}else 2*te()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ua.current,B(ua,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),vo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&$(Bi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(ji),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(ji),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return $(ua),null;case 4:return K(),null;case 10:return wi(t.type),null;case 22:case 23:return ca(t),vo(),null!==e&&$(Bi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(ji),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:wi(ji),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:ca(t);break;case 19:$(ua);break;case 10:wi(t.type);break;case 22:case 23:ca(t),vo(),null!==e&&$(Bi);break;case 24:wi(ji)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(a){uu(t,t.return,a)}}function al(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{po(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||Ju(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":o=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&Ju(e,t,p,f,r,h)}}return void gt(e,a,l,c,u,d,o,i);case"select":for(o in f=a=l=p=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(o)||Ju(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":p=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&Ju(e,t,i,o,r,c)}return t=l,n=a,r=f,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&Ju(e,t,a,i,r,o)}return void wt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Ju(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Ju(e,t,u,p,r,f)}return;default:if(It(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||Zu(e,t,d,p,r,f);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||Ju(e,t,h,p,r,f)}(r,e.type,n,t),r[Ne]=t}catch(i){uu(e,e.return,i)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[je]=e,t[Ne]=n}catch(o){uu(e,e.return,o)}}var bl=!1,wl=!1,xl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,kl=null;function Cl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&sl(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var i=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(n,n.return,a)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{po(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var o=wl;bl=r,(wl=t)&&!o?zl(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),bl=i,wl=o}break;case 30:break;default:Ll(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Il=null,Tl=!1;function _l(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:wl||dl(n,t),_l(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=Il,i=Tl;pd(n.type)&&(Il=n.stateNode,Tl=!1),_l(e,t,n),xd(n.stateNode),Il=r,Tl=i;break;case 5:wl||dl(n,t);case 6:if(r=Il,i=Tl,Il=null,_l(e,t,n),Tl=i,null!==(Il=r))if(Tl)try{(9===Il.nodeType?Il.body:"HTML"===Il.nodeName?Il.ownerDocument.body:Il).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{Il.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==Il&&(Tl?(fd(9===(e=Il).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Th(e)):fd(Il,n.stateNode));break;case 4:r=Il,i=Tl,Il=n.stateNode.containerInfo,Tl=!0,_l(e,t,n),Il=r,Tl=i;break;case 0:case 11:case 14:case 15:wl||al(2,n,t),wl||al(4,n,t),_l(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),_l(e,t,n);break;case 21:_l(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,_l(e,t,n),wl=r;break;default:_l(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Th(e)}catch(n){uu(t,t.return,n)}}function Rl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function jl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Il=l.stateNode,Tl=!1;break e}break;case 5:Il=l.stateNode,Tl=!1;break e;case 3:case 4:Il=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===Il)throw Error(s(160));Al(o,a,i),Il=null,Tl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Nl=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jl(t,e),Dl(e),4&r&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:jl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Nl;if(jl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[ze]||o[je]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),ed(o,r,n),o[je]=e,He(o),r=o;break e;case"link":var a=zd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=zd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[je]=e,He(o),r=o}e.stateNode=r}else $d(i,e.type,e.stateNode);else e.stateNode=Od(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?$d(i,e.type,e.stateNode):Od(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:jl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(f){uu(e,e.return,f)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(xl=!0);break;case 6:if(jl(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){uu(e,e.return,f)}}break;case 3:if(Fd=null,i=Nl,Nl=Cd(t.containerInfo),jl(t,e),Nl=i,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Th(t.containerInfo)}catch(f){uu(e,e.return,f)}xl&&(xl=!1,Ml(e));break;case 4:r=Nl,Nl=Cd(e.stateNode.containerInfo),jl(t,e),Dl(e),Nl=r;break;case 12:default:jl(t,e),Dl(e);break;case 13:jl(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||i,wl=d||c,jl(t,e),wl=d,bl=u,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||wl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Rl(e,n))));break;case 19:jl(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,ml(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),yl(e,ml(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;gl(e,ml(e),a);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:xd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:zl(i,o,n),sl(4,o);break;case 1:if(zl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ho(l[i],a)}catch(c){uu(r,r.return,c)}}n&&64&s&&ll(o),ul(o,o.return);break;case 27:vl(o);case 26:case 5:zl(i,o,n),n&&null===r&&4&s&&hl(o),ul(o,o.return);break;case 12:zl(i,o,n);break;case 13:zl(i,o,n),n&&4&s&&Pl(i,o);break;case 22:null===o.memoizedState&&zl(i,o,n),ul(o,o.return);break;case 30:break;default:zl(i,o,n)}t=t.sibling}}function $l(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oi(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e))}function Ul(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vl(e,t,n,r),t=t.sibling}function Vl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Ul(e,t,n,r);break;case 3:Ul(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e)));break;case 12:if(2048&i){Ul(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Ul(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Ul(e,t,n,r):Hl(e,t):2&o._visibility?Ul(e,t,n,r):(o._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&$l(s,t);break;case 24:Ul(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Wl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Wl(o,s,a,l,i),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Wl(o,s,a,l,i):Hl(o,s):(u._visibility|=2,Wl(o,s,a,l,i)),i&&2048&c&&$l(s.alternate,s);break;case 24:Wl(o,s,a,l,i),i&&2048&c&&Bl(s.alternate,s);break;default:Wl(o,s,a,l,i)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Hl(n,r),2048&i&&$l(r.alternate,r);break;case 24:Hl(n,r),2048&i&&Bl(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var ql=8192;function Kl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Kl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(s(475));var r=Ud;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ad(n.href),o=e.querySelector(Pd(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void He(o);o=e.ownerDocument||e,n=Rd(n),(i=Sd.get(i))&&Md(n,i),He(o=o.createElement("link"));var a=o;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),ed(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Nl,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Nl;Nl=Cd(e.stateNode.containerInfo),Kl(e),Nl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Kl(e),ql=t):Kl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Yl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var i=(r=kl).sibling,o=r.return;if(El(r),r===n){kl=null;break e}if(null!==i){i.return=o,kl=i;break e}kl=o}}}var ec={getCacheForType:function(e){var t=Ii(ji),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,oc=0,sc=0,ac=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,pc=0,fc=0,mc=0,gc=0,yc=0,vc=null,bc=null,wc=!1,xc=0,Sc=1/0,kc=null,Cc=null,Ec=0,Ic=null,Tc=null,_c=0,Ac=0,Pc=null,Rc=null,jc=0,Nc=null;function Oc(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==O.T){return 0!==Li?Li:Au()}return Pe()}function Dc(){0===gc&&(gc=0===(536870912&oc)||oi?Se():536870912);var e=ia.current;return null!==e&&(e.flags|=32),gc}function Mc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Vc(e,0),$c(e,oc,gc,!1)),Ee(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(fc|=n),4===hc&&$c(e,oc,gc,!1)),Su(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Hc(),i=qc();rc!==e||oc!==t?(kc=null,Sc=te()+500,Vc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==sc&&null!==ic){t=ic;var o=ac;t:switch(sc){case 1:sc=0,ac=null,Zc(e,t,o,1);break;case 2:case 9:if(Qi(o)){sc=0,ac=null,Jc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),Su(e)},o.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Qi(o)?(sc=0,ac=null,Jc(t)):(sc=0,ac=null,Zc(e,t,o,7));break;case 5:var a=null;switch(ic.tag){case 26:a=ic.memoizedState;case 5:case 27:var l=ic;if(!a||Bd(a)){sc=0,ac=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}sc=0,ac=null,Zc(e,t,o,5);break;case 6:sc=0,ac=null,Zc(e,t,o,6);break;case 8:Uc(),hc=6;break e;default:throw Error(s(462))}}Yc();break}catch(d){Wc(e,d)}return vi=yi=null,O.H=r,O.A=i,nc=n,null!==ic?0:(rc=null,oc=0,_r(),hc)}(e,t):Gc(e,t,!0),o=r;;){if(0===i){cc&&!r&&$c(e,t,0,!1);break}if(n=e.current.alternate,!o||zc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,a).flags|=256),2!==(a=Gc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,fc|=o,i=4;break e}o=bc,bc=i,null!==o&&(null===bc?bc=o:bc.push.apply(bc,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){Vc(e,0),$c(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:$c(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=xc+300-te())){if($c(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Fc.bind(null,r,n,bc,kc,wc,t,gc,fc,yc,lc,o,2,-0,0),i)}else Fc(r,n,bc,kc,wc,t,gc,fc,yc,lc,o,0,-0,0)}break}i=Gc(e,t,!1),o=!1}Su(e)}function Fc(e,t,n,r,i,o,a,l,c,u,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Ud={stylesheets:null,count:0,unsuspend:Vd},Gl(t),null!==(h=function(){if(null===Ud)throw Error(s(475));var e=Ud;return e.stylesheets&&0===e.count&&qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,o,n,r,i,a,l,c,d,1,p,f)),void $c(e,o,a,!u);nu(e,t,o,n,r,i,a,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qn(o(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $c(e,t,n,r){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-pe(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Ie(e,n,t)}function Bc(){return 0!==(6&nc)||(ku(0,!1),!1)}function Uc(){if(null!==ic){if(0===sc)var e=ic.return;else vi=yi=null,Fo(e=ic),Qs=null,Ys=0,e=ic;for(;null!==e;)ol(e.alternate,e),e=e.return;ic=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),rc=e,ic=n=Fr(e.current,null),oc=t,sc=0,ac=null,lc=!1,cc=we(e,t),uc=!1,yc=gc=mc=fc=pc=hc=0,bc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-pe(r),o=1<<i;t|=e[i],r&=~o}return dc=t,_r(),n}function Wc(e,t){wo=null,O.H=Hs,t===Hi||t===Ki?(t=Zi(),sc=3):t===qi?(t=Zi(),sc=4):sc=t===Ia?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===ic&&(hc=1,xa(e,Cr(t,e.current)))}function Hc(){var e=O.H;return O.H=Hs,null===e?Hs:e}function qc(){var e=O.A;return O.A=ec,e}function Kc(){hc=4,lc||(4194048&oc)!==oc&&null!==ia.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===rc||$c(rc,oc,gc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var i=Hc(),o=qc();rc===e&&oc===t||(kc=null,Vc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ic){var a=ic,l=ac;switch(sc){case 8:Uc(),s=6;break e;case 3:case 2:case 9:case 6:null===ia.current&&(t=!0);var c=sc;if(sc=0,ac=null,Zc(e,a,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,ac=null,Zc(e,a,l,c)}}Qc(),s=hc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,O.H=i,O.A=o,null===ic&&(rc=null,oc=0,_r()),s}function Qc(){for(;null!==ic;)Xc(ic)}function Yc(){for(;null!==ic&&!Z();)Xc(ic)}function Xc(e){var t=Xa(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ma(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Ma(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Fo(t);default:ol(n,t),t=Xa(n,t=ic=zr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e,t,n,r){vi=yi=null,Fo(t),Qs=null,Ys=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ki(t,n,i,!0),null!==(n=ia.current)){switch(n.tag){case 13:return null===oa?Kc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(s(435,n.tag))}return du(e,r,i),Kc(),!1}if(oi)return null!==(t=ia.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Cr(e=Error(s(422),{cause:r}),n))):(r!==li&&mi(Cr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Cr(r,n),ao(e,i=ka(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var o=Error(s(520),{cause:r});if(o=Cr(o,n),null===vc?vc=[o]:vc.push(o),4!==hc&&(hc=2),null===t)return!0;r=Cr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ao(n,e=ka(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Cc||!Cc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Ea(i=Ca(i),e,n,r),ao(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return hc=1,xa(e,Cr(n,e.current)),void(ic=null)}catch(o){if(null!==i)throw ic=i,o;return hc=1,xa(e,Cr(n,e.current)),void(ic=null)}32768&t.flags?(oi||1===r?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ia.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,o,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==Ec);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-pe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Ie(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Tr,a,l,c),e===rc&&(ic=rc=null,oc=0),Tc=t,Ic=e,_c=n,Ac=o,Pc=i,Rc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(oe,(function(){return lu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=D.p,D.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=a),p===o&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(o=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=ga(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=a,D.p=i,O.T=r}}Ec=1,ru(),iu(),ou()}}function ru(){if(1===Ec){Ec=0;var e=Ic,t=Tc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{Ol(t,e);var o=nd,s=er(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=a.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(s=g,g=m,m=s);var y=Jn(a,m),v=Jn(a,g);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=a;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=i,D.p=r,O.T=n}}e.current=t,Ec=2}}function iu(){if(2===Ec){Ec=0;var e=Ic,t=Tc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{Cl(e,t.alternate,t)}finally{nc=i,D.p=r,O.T=n}}Ec=3}}function ou(){if(4===Ec||3===Ec){Ec=0,ee();var e=Ic,t=Tc,n=_c,r=Rc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,Tc=Ic=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Cc=null),Ae(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=D.p,D.p=2,O.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{O.T=t,D.p=i}}0!==(3&_c)&&au(),Su(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Nc?jc++:(jc=0,Nc=e):jc=0,ku(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oi(t)))}function au(e){return ru(),iu(),ou(),lu()}function lu(){if(5!==Ec)return!1;var e=Ic,t=Ac;Ac=0;var n=Ae(_c),r=O.T,i=D.p;try{D.p=32>n?32:n,O.T=null,n=Pc,Pc=null;var o=Ic,a=_c;if(Ec=0,Tc=Ic=null,_c=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Xl(o.current),Vl(o,o.current,a,n),nc=l,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{D.p=i,O.T=r,su(e,t)}}function cu(e,t,n){t=Cr(n,t),null!==(e=oo(e,t=ka(e.stateNode,t,2),2))&&(Ee(e,2),Su(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Cc||!Cc.has(r))){e=Cr(n,e),null!==(r=oo(t,n=Ca(2),2))&&(Ea(n,r,t,e),Ee(r,2),Su(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===hc||3===hc&&(62914560&oc)===oc&&300>te()-xc?0===(2&nc)&&Vc(e,0):mc|=n,yc===oc&&(yc=0)),Su(e)}function pu(e,t){0===t&&(t=ke()),null!==(e=Rr(e,t))&&(Ee(e,t),Su(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),pu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,wu=!1,xu=0;function Su(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd((function(){0!==(6&nc)?X(re,Cu):Eu()})))}function ku(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-pe(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,_u(r,o))}else o=oc,0===(3&(o=be(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,o)||(n=!0,_u(r,o));r=r.next}}while(n);wu=!1}}function Cu(){Eu()}function Eu(){bu=vu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,o=Iu(r,t);0===o?(r.next=null,null===n?gu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&o))&&(bu=!0)),r=i}ku(e,!1)}function Iu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-pe(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=xe(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=oc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ae(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=ae}return r=Tu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Tu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),Iu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Tu.bind(null,e):null)}function _u(e,t){if(au())return null;Lc(e,t,!0)}function Au(){return 0===xu&&(xu=Se()),xu}function Pu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Ru(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var ju=0;ju<xr.length;ju++){var Nu=xr[ju];Sr(Nu.toLowerCase(),"on"+(Nu[0].toUpperCase()+Nu.slice(1)))}Sr(pr,"onAnimationEnd"),Sr(fr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(yr,"onTransitionStart"),Sr(vr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){ya(u)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){ya(u)}i.currentTarget=null,o=l}}}}function Lu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[zu]){e[zu]=!0,qe.forEach((function(t){"selectionchange"!==t&&(Du.has(t)||Fu(t,!1,e),Fu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,Fu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=oh}n=i.bind(null,t,n,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Uu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Be(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Mt((function(){var r=o,i=Rt(n),s=[];e:{var a=wr.get(e);if(void 0!==a){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case pr:case fr:case mr:c=an;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==a?a+"Capture":null:a;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Lt(m,p))&&d.push(Vu(m,g,f)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Oe])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?a:Ve(c),f=null==u?a:Ve(u),(a=new d(g,m+"leave",c,n,i)).target=h,a.relatedTarget=f,g=null,Be(i)===r&&((d=new d(p,m+"enter",u,n,i)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(p=u,m=0,f=d=c;f;f=Hu(f))m++;for(f=0,g=p;g;g=Hu(g))f++;for(;0<m-f;)d=Hu(d),m--;for(;0<f-m;)p=Hu(p),f--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Hu(d),p=Hu(p)}d=null}else d=null;null!==c&&qu(s,a,c,d,!1),null!==u&&null!==h&&qu(s,h,u,d,!0)}if("select"===(c=(a=r?Ve(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var y=Fn;else if(jn(a))if(zn)y=Gn;else{y=qn;var v=Hn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&It(r.elementType)&&(y=Fn):y=Kn;switch(y&&(y=y(e,r))?Nn(s,y,n,i):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&vt(a,"number",a.value)),v=r?Ve(r):window,e){case"focusin":(jn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,i)}var b;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Pn?_n(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(En&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Pn&&(b=Wt()):(Ut="value"in(Bt=i)?Bt.value:Bt.textContent,Pn=!0)),0<(v=Wu(r,w)).length&&(w=new cn(w,e,null,n,i),s.push({event:w,listeners:v}),b?w.data=b:null!==(b=An(n))&&(w.data=b))),(b=Cn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Tn=!0,In);case"textInput":return(e=t.data)===In&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!Sn&&_n(e,t)?(e=Wt(),Vt=Ut=Bt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Wu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Pu((i[Ne]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ne]||null)?Pu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new Zt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==xu){var e=s?Ru(i,s):new FormData(i);Rs(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Ru(i,s):new FormData(i),Rs(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Mu(s,t)}))}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Lt(e,n))&&r.unshift(Vu(e,i,o)),null!=(i=Lt(e,t))&&r.push(Vu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qu(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Lt(n,o))&&s.unshift(Vu(n,c,l)):i||null!=(c=Lt(n,o))&&s.push(Vu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ku=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Ku,"\n").replace(Gu,"")}function Yu(e,t){return t=Qu(t),Qu(e)===t}function Xu(){}function Ju(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Et(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Ju(e,t,"name",i.name,i,null),Ju(e,t,"formEncType",i.formEncType,i,null),Ju(e,t,"formMethod",i.formMethod,i,null),Ju(e,t,"formTarget",i.formTarget,i,null)):(Ju(e,t,"encType",i.encType,i,null),Ju(e,t,"method",i.method,i,null),Ju(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Tt.get(n)||n,r)}}function Zu(e,t,n,r,i,o){switch(n){case"style":Et(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Ne]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,r,a,n,null)}}return o&&Ju(e,t,"srcSet",n.srcSet,n,null),void(i&&Ju(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Ju(e,t,i,d,n,null)}}return yt(e,r,l,c,u,a,o,!1),void dt(e);case"select":for(o in Lu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Ju(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(a in Lu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Ju(e,t,a,l,n,null)}return xt(e,i,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Ju(e,t,c,i,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(i=0;i<Ou.length;i++)Lu(Ou[i],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,u,i,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Zu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Ju(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout((function(){throw e}))}function pd(e){return"head"===e}function fd(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&xd(s.documentElement),2&n&&xd(s.body),4&n)for(xd(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===i)return e.removeChild(o),void Th(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Th(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function xd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var Sd=new Map,kd=new Set;function Cd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=D.d;D.d={f:function(){var e=Ed.f(),t=Bc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Ns(t):Ed.r(e)},D:function(e){Ed.D(e),Td("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Td("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=Id;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=Ad(e);break;case"script":o=jd(e)}Sd.has(o)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Pd(o))||"script"===t&&r.querySelector(Nd(o))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=Id;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=jd(e)}if(!Sd.has(o)&&(e=h({rel:"modulepreload",href:e},t),Sd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Nd(o)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=Id;if(n&&e){var r=We(n).hoistableScripts,i=jd(e),o=r.get(i);o||((o=n.querySelector(Nd(i)))||(e=h({src:e,async:!0},t),(t=Sd.get(i))&&Ld(e,t),He(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Ed.S(e,t,n);var r=Id;if(r&&e){var i=We(r).hoistableStyles,o=Ad(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Pd(o)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(o))&&Md(e,n);var l=s=r.createElement("link");He(l),ed(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Dd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){Ed.M(e,t);var n=Id;if(n&&e){var r=We(n).hoistableScripts,i=jd(e),o=r.get(i);o||((o=n.querySelector(Nd(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=Sd.get(i))&&Ld(e,t),He(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Id="undefined"===typeof document?null:document;function Td(e,t,n){var r=Id;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),kd.has(i)||(kd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function _d(e,t,n,r){var i=(i=W.current)?Cd(i):null;if(!i)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ad(n.href),(r=(n=We(i).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ad(n.href);var o=We(i).hoistableStyles,a=o.get(e);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,a),(o=i.querySelector(Pd(e)))&&!o._p&&(a.instance=o,a.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),o||function(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",(function(){return r.loading|=1})),t.addEventListener("error",(function(){return r.loading|=2})),ed(t,"link",n),He(t),e.head.appendChild(t))}(i,e,n,a.state))),t&&null===r)throw Error(s(528,""));return a}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=jd(n),(r=(n=We(i).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ad(e){return'href="'+mt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Rd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function jd(e){return'[src="'+mt(e)+'"]'}function Nd(e){return"script[async]"+e}function Od(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ad(n.href);var o=e.querySelector(Pd(i));if(o)return t.state.loading|=4,t.instance=o,He(o),o;r=Rd(n),(i=Sd.get(i))&&Md(r,i),He(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),ed(o,"link",r),t.state.loading|=4,Dd(o,n.precedence,e),t.instance=o;case"script":return o=jd(n.src),(i=e.querySelector(Nd(o)))?(t.instance=i,He(i),i):(r=n,(i=Sd.get(o))&&Ld(r=h({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function zd(e,t,n){if(null===Fd){var r=new Map,i=Fd=new Map;i.set(n,r)}else(r=(i=Fd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[ze]||o[je]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function $d(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ud=null;function Vd(){}function Wd(){if(this.count--,0===this.count)if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function qd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Kd,e),Hd=null,Wd.call(e))}function Kd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Wd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:x,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Qd(e,t,n,r,i,o,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Yd(e,t,n,r,i,o,s,a,l,c,u,d){return e=new Qd(e,t,n,s,a,l,c,d),t=1,!0===o&&(t|=24),o=Mr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ni()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Xd(e){return e?e=Or:Or}function Jd(e,t,n,r,i,o){i=Xd(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Mc(n,0,t),so(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Rr(e,67108864);null!==t&&Mc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=O.T;O.T=null;var o=D.p;try{D.p=2,oh(e,t,n,r)}finally{D.p=o,O.T=i}}function ih(e,t,n,r){var i=O.T;O.T=null;var o=D.p;try{D.p=8,oh(e,t,n,r)}finally{D.p=o,O.T=i}}function oh(e,t,n,r){if(nh){var i=sh(r);if(null===i)Uu(e,t,r,ah,n),vh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,i),!0;case"dragenter":return hh=bh(hh,e,t,n,r,i),!0;case"mouseover":return ph=bh(ph,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return fh.set(o,bh(fh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,mh.set(o,bh(mh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==i;){var o=Ue(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=ve(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-pe(s);a.entanglements[1]|=l,s&=~l}Su(o),0===(6&nc)&&(Sc=te()+500,ku(0,!1))}}break;case 13:null!==(a=Rr(o,2))&&Mc(a,0,2),Bc(),eh(o,2)}if(null===(o=sh(r))&&Uu(e,t,r,ah,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Uu(e,t,r,null,n)}}function sh(e){return lh(e=Rt(e))}var ah=null;function lh(e){if(ah=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ah=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,ph=null,fh=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ue(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,(function(){if(13===n.tag){var e=Oc();e=_e(e);var t=Rr(n,e);null!==t&&Mc(t,0,e),eh(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function Sh(e,t,n){xh(e)&&n.delete(t)}function kh(){uh=!1,null!==dh&&xh(dh)&&(dh=null),null!==hh&&xh(hh)&&(hh=null),null!==ph&&xh(ph)&&(ph=null),fh.forEach(Sh),mh.forEach(Sh)}function Ch(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kh)))}var Eh=null;function Ih(e){Eh!==e&&(Eh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var o=Ue(n);null!==o&&(e.splice(t,3),t-=3,Rs(o,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Th(e){function t(t){return Ch(t,e)}null!==dh&&Ch(dh,e),null!==hh&&Ch(hh,e),null!==ph&&Ch(ph,e),fh.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)wh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Ne]||null;if("function"===typeof o)s||Ih(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Ne]||null)a=s.formAction;else if(null!==lh(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Ih(n)}}}function _h(e){this._internalRoot=e}function Ah(e){this._internalRoot=e}Ah.prototype.render=_h.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jd(t.current,Oc(),e,t,null,null)},Ah.prototype.unmount=_h.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Bc(),t[Oe]=null}},Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&wh(e)}};var Ph=i.version;if("19.1.0"!==Ph)throw Error(s(527,Ph,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Rh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{ue=jh.inject(Rh),de=jh}catch(Nh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=va,o=ba,l=wa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,i,o,l,0,null),e[Oe]=t.current,$u(e),new _h(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=va,l=ba,c=wa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Xd(null),n=t.current,(i=io(r=_e(r=Oc()))).callback=null,oo(n,i,r),n=r,t.current.lanes=n,Ee(t,n),Su(t),e[Oe]=t.current,$u(e),new Ah(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},191:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler");Symbol.for("react.provider");var a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case u:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case a:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===s||e===o||e===u||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===l||e.$$typeof===a||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)}},219:(e,t,n)=>{var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var y=s[g];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!a||!a[y])){var v=h(n,y);try{c(t,y,v)}catch(KI){}}}}return t}},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function C(e,t,r,i,o,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(){}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return A((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+T(e,0):o,x(s)?(i="",null!=u&&(i=u.replace(I,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(E(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+u,s=C(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,f=""===o?".":o+":";if(x(e))for(var m=0;m<e.length;m++)u+=A(o=e[m],t,i,a=f+T(o,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=A(o=o.value,t,i,a=f+T(o,m++),s);else if("object"===a){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function N(){}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return C(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return C(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(N,j)}catch(o){j(o)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},763:(e,t,n)=>{e.exports=n(983)},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,C||(C=!0,k());else{var t=r(u);null!==t&&j(S,t.startTime-e)}}var k,C=!1,E=-1,I=5,T=-1;function _(){return!!y||!(t.unstable_now()-T<I)}function A(){if(y=!1,C){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),f=!0;var o=p;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&_());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&j(S,l.startTime-e),n=!1}}break e}finally{h=null,p=o,f=!1}n=void 0}}finally{n?k():C=!1}}}if("function"===typeof w)k=function(){w(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=A,k=function(){R.postMessage(null)}}else k=function(){v(A,0)};function j(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,j(S,o-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,C||(C=!0,k()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||x(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===a},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=x}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(KI){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),o=n.t(i,2),s=n(391),a=n(950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(KI){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,a=o.history,l=r.Pop,h=null,g=y();function y(){return(a.state||{idx:null}).idx}function v(){l=r.Pop;let e=y(),t=null==e?null:e-g;g=e,h&&h({action:l,location:w.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let w={get action(){return l},get location(){return e(o,a)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(u,v),h=e,()=>{o.removeEventListener(u,v),h=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=f(w.location,e,t);n&&n(i,e),g=y()+1;let c=p(i,g),u=w.createHref(i);try{a.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;o.location.assign(u)}s&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=f(w.location,e,t);n&&n(i,e),g=y();let o=p(i,g),c=w.createHref(i);a.replaceState(o,"",c),s&&h&&h({action:l,location:w.location,delta:0})},go:e=>a.go(e)};return w}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=O(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let o=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=N(i);s=R(o[a],e,r)}return s}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(d(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=z([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),x(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:P(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))i(e,t,r);else i(e,t)})),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=S(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const k=/^:[\w-]+$/,C=3,E=2,I=1,T=10,_=-2,A=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=_),t&&(r+=E),n.filter((e=>!A(e))).reduce(((e,t)=>e+(k.test(t)?C:""===t?I:T)),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:z([o,u.pathname]),pathnameBase:$(z([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=z([o,u.pathnameBase]))}return s}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=M(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:B(r),hash:U(i)}}(i,o),u=a&&"/"!==a&&a.endsWith("/"),h=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const z=e=>e.join("/").replace(/\/\/+/g,"/"),$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],H=(new Set(W),["get",...W]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(Y)}function ee(){return Z()||d(!1),i.useContext(Y).location}function te(e){i.useContext(Q).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=pe(de.UseNavigateStable),t=me(he.UseNavigateStable),n=i.useRef(!1);return te((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))}),[e,t])}():function(){Z()||d(!1);let e=i.useContext(K),{basename:t,future:n,navigator:r}=i.useContext(Q),{matches:o}=i.useContext(X),{pathname:s}=ee(),a=JSON.stringify(L(o,n.v7_relativeSplatPath)),l=i.useRef(!1);return te((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=F(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:z([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,a,s,e])}()}function re(){let{matches:e}=i.useContext(X),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Q),{matches:o}=i.useContext(X),{pathname:s}=ee(),a=JSON.stringify(L(o,r.v7_relativeSplatPath));return i.useMemo((()=>F(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function oe(e,t,n,o){Z()||d(!1);let{navigator:s,static:a}=i.useContext(Q),{matches:l}=i.useContext(X),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let p,f=ee();if(t){var m;let e="string"===typeof t?g(t):t;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||d(!1),p=e}else p=f;let y=p.pathname||"/",v=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!a&&n&&n.matches&&n.matches.length>0?n.matches:b(e,{pathname:v});let x=ue(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:z([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:z([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,o);return t&&x?i.createElement(Y.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:r.Pop}},x):x}function se(){let e=function(){var e;let t=i.useContext(J),n=fe(he.UseRouteError),r=me(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const ae=i.createElement(se,null);class le extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(K);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function ue(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,o)=>{let s,d=!1,h=null,p=null;var f;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ae,c&&(u<0&&0===o?(f="route-fallback",!1||ge[f]||(ge[f]=!0),d=!0,p=null):u===o&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,o+1)),g=()=>{let t;return t=s?h:d?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function pe(e){let t=i.useContext(K);return t||d(!1),t}function fe(e){let t=i.useContext(G);return t||d(!1),t}function me(e){let t=function(){let e=i.useContext(X);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const ge={};function ye(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ve(e){let{to:t,replace:n,state:r,relative:o}=e;Z()||d(!1);let{future:s,static:a}=i.useContext(Q),{matches:l}=i.useContext(X),{pathname:c}=ee(),u=ne(),h=F(t,L(l,s.v7_relativeSplatPath),c,"path"===o),p=JSON.stringify(h);return i.useEffect((()=>u(JSON.parse(p),{replace:n,state:r,relative:o})),[u,p,o,n,r]),null}function be(e){d(!1)}function we(e){let{basename:t="/",children:n=null,location:o,navigationType:s=r.Pop,navigator:a,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:u,navigator:a,static:l,future:q({v7_relativeSplatPath:!1},c)})),[u,c,a,l]);"string"===typeof o&&(o=g(o));let{pathname:p="/",search:f="",hash:m="",state:y=null,key:v="default"}=o,b=i.useMemo((()=>{let e=O(p,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:y,key:v},navigationType:s}}),[u,p,f,m,y,v,s]);return null==b?null:i.createElement(Q.Provider,{value:h},i.createElement(Y.Provider,{children:n,value:b}))}function xe(e){let{children:t,location:n}=e;return oe(Se(t),n)}new Promise((()=>{}));i.Component;function Se(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Se(e.props.children,o));e.type!==be&&d(!1),e.props.index&&e.props.children&&d(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Se(e.props.children,o)),n.push(s)})),n}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(KI){}new Map;const Ie=o.startTransition;l.flushSync,o.useId;function Te(e){let{basename:t,children:n,future:r,window:o}=e,s=i.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),y((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,a)));let l=s.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback((e=>{d&&Ie?Ie((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(h)),[l,h]),i.useEffect((()=>ye(r)),[r]),i.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=i.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:p}=e,f=Ce(e,Ee),{basename:g}=i.useContext(Q),y=!1;if("string"===typeof u&&Ae.test(u)&&(n=u,_e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(KI){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:r,navigator:o}=i.useContext(Q),{hash:s,pathname:a,search:l}=ie(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:z([r,a])),o.createHref({pathname:c,search:l,hash:s})}(u,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),d=ie(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,viewTransition:l})}}),[u,c,d,r,o,n,e,s,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:p});return i.createElement("a",ke({},f,{href:n||v,onClick:y||s?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Re,je;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(je||(je={}));const Ne=i.createContext(null);function Oe(){return i.useContext(Ne)}const De="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var Me=n(579);const Le=function(e){const{children:t,theme:n}=e,r=Oe(),o=i.useMemo((()=>{const e=null===r?{...n}:function(e,t){if("function"===typeof t)return t(e);return{...e,...t}}(r,n);return null!=e&&(e[De]=null!==r),e}),[n,r]);return(0,Me.jsx)(Ne.Provider,{value:o,children:t})};var Fe=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(KI){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),ze=Math.abs,$e=String.fromCharCode,Be=Object.assign;function Ue(e){return e.trim()}function Ve(e,t,n){return e.replace(t,n)}function We(e,t){return e.indexOf(t)}function He(e,t){return 0|e.charCodeAt(t)}function qe(e,t,n){return e.slice(t,n)}function Ke(e){return e.length}function Ge(e){return e.length}function Qe(e,t){return t.push(e),e}var Ye=1,Xe=1,Je=0,Ze=0,et=0,tt="";function nt(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Ye,column:Xe,length:s,return:""}}function rt(e,t){return Be(nt("",null,null,"",null,null,0),e,{length:-e.length},t)}function it(){return et=Ze>0?He(tt,--Ze):0,Xe--,10===et&&(Xe=1,Ye--),et}function ot(){return et=Ze<Je?He(tt,Ze++):0,Xe++,10===et&&(Xe=1,Ye++),et}function st(){return He(tt,Ze)}function at(){return Ze}function lt(e,t){return qe(tt,e,t)}function ct(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ut(e){return Ye=Xe=1,Je=Ke(tt=e),Ze=0,[]}function dt(e){return tt="",e}function ht(e){return Ue(lt(Ze-1,mt(91===e?e+2:40===e?e+1:e)))}function pt(e){for(;(et=st())&&et<33;)ot();return ct(e)>2||ct(et)>3?"":" "}function ft(e,t){for(;--t&&ot()&&!(et<48||et>102||et>57&&et<65||et>70&&et<97););return lt(e,at()+(t<6&&32==st()&&32==ot()))}function mt(e){for(;ot();)switch(et){case e:return Ze;case 34:case 39:34!==e&&39!==e&&mt(et);break;case 40:41===e&&mt(e);break;case 92:ot()}return Ze}function gt(e,t){for(;ot()&&e+et!==57&&(e+et!==84||47!==st()););return"/*"+lt(t,Ze-1)+"*"+$e(47===e?e:ot())}function yt(e){for(;!ct(st());)ot();return lt(e,Ze)}var vt="-ms-",bt="-moz-",wt="-webkit-",xt="comm",St="rule",kt="decl",Ct="@keyframes";function Et(e,t){for(var n="",r=Ge(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function It(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case kt:return e.return=e.return||e.value;case xt:return"";case Ct:return e.return=e.value+"{"+Et(e.children,r)+"}";case St:e.value=e.props.join(",")}return Ke(n=Et(e.children,r))?e.return=e.value+"{"+n+"}":""}function Tt(e){return dt(_t("",null,null,null,[""],e=ut(e),0,[0],e))}function _t(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,p=0,f=0,m=1,g=1,y=1,v=0,b="",w=i,x=o,S=r,k=b;g;)switch(f=v,v=ot()){case 40:if(108!=f&&58==He(k,d-1)){-1!=We(k+=Ve(ht(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:k+=ht(v);break;case 9:case 10:case 13:case 32:k+=pt(f);break;case 92:k+=ft(at()-1,7);continue;case 47:switch(st()){case 42:case 47:Qe(Pt(gt(ot(),at()),t,n),l);break;default:k+="/"}break;case 123*m:a[c++]=Ke(k)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(k=Ve(k,/\f/g,"")),p>0&&Ke(k)-d&&Qe(p>32?Rt(k+";",r,n,d-1):Rt(Ve(k," ","")+";",r,n,d-2),l);break;case 59:k+=";";default:if(Qe(S=At(k,t,n,c,u,i,a,b,w=[],x=[],d),o),123===v)if(0===u)_t(k,t,S,S,w,o,d,a,x);else switch(99===h&&110===He(k,3)?100:h){case 100:case 108:case 109:case 115:_t(e,S,S,r&&Qe(At(e,S,S,0,0,i,a,b,i,w=[],d),x),i,x,d,a,r?w:x);break;default:_t(k,S,S,S,[""],x,0,a,x)}}c=u=p=0,m=y=1,b=k="",d=s;break;case 58:d=1+Ke(k),p=f;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==it())continue;switch(k+=$e(v),v*m){case 38:y=u>0?1:(k+="\f",-1);break;case 44:a[c++]=(Ke(k)-1)*y,y=1;break;case 64:45===st()&&(k+=ht(ot())),h=st(),u=d=Ke(b=k+=yt(at())),v++;break;case 45:45===f&&2==Ke(k)&&(m=0)}}return o}function At(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,h=0===i?o:[""],p=Ge(h),f=0,m=0,g=0;f<r;++f)for(var y=0,v=qe(e,d+1,d=ze(m=s[f])),b=e;y<p;++y)(b=Ue(m>0?h[y]+" "+v:Ve(v,/&\f/g,h[y])))&&(l[g++]=b);return nt(e,t,n,0===i?St:a,l,c,u)}function Pt(e,t,n){return nt(e,t,n,xt,$e(et),qe(e,2,-2),0)}function Rt(e,t,n,r){return nt(e,t,n,kt,qe(e,0,r),qe(e,r+1,-1),r)}var jt=function(e,t,n){for(var r=0,i=0;r=i,i=st(),38===r&&12===i&&(t[n]=1),!ct(i);)ot();return lt(e,Ze)},Nt=function(e,t){return dt(function(e,t){var n=-1,r=44;do{switch(ct(r)){case 0:38===r&&12===st()&&(t[n]=1),e[n]+=jt(Ze-1,t,n);break;case 2:e[n]+=ht(r);break;case 4:if(44===r){e[++n]=58===st()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=$e(r)}}while(r=ot());return e}(ut(e),t))},Ot=new WeakMap,Dt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Ot.get(n))&&!r){Ot.set(e,!0);for(var i=[],o=Nt(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},Mt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Lt(e,t){switch(function(e,t){return 45^He(e,0)?(((t<<2^He(e,0))<<2^He(e,1))<<2^He(e,2))<<2^He(e,3):0}(e,t)){case 5103:return wt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return wt+e+bt+e+vt+e+e;case 6828:case 4268:return wt+e+vt+e+e;case 6165:return wt+e+vt+"flex-"+e+e;case 5187:return wt+e+Ve(e,/(\w+).+(:[^]+)/,wt+"box-$1$2"+vt+"flex-$1$2")+e;case 5443:return wt+e+vt+"flex-item-"+Ve(e,/flex-|-self/,"")+e;case 4675:return wt+e+vt+"flex-line-pack"+Ve(e,/align-content|flex-|-self/,"")+e;case 5548:return wt+e+vt+Ve(e,"shrink","negative")+e;case 5292:return wt+e+vt+Ve(e,"basis","preferred-size")+e;case 6060:return wt+"box-"+Ve(e,"-grow","")+wt+e+vt+Ve(e,"grow","positive")+e;case 4554:return wt+Ve(e,/([^-])(transform)/g,"$1"+wt+"$2")+e;case 6187:return Ve(Ve(Ve(e,/(zoom-|grab)/,wt+"$1"),/(image-set)/,wt+"$1"),e,"")+e;case 5495:case 3959:return Ve(e,/(image-set\([^]*)/,wt+"$1$`$1");case 4968:return Ve(Ve(e,/(.+:)(flex-)?(.*)/,wt+"box-pack:$3"+vt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+wt+e+e;case 4095:case 3583:case 4068:case 2532:return Ve(e,/(.+)-inline(.+)/,wt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ke(e)-1-t>6)switch(He(e,t+1)){case 109:if(45!==He(e,t+4))break;case 102:return Ve(e,/(.+:)(.+)-([^]+)/,"$1"+wt+"$2-$3$1"+bt+(108==He(e,t+3)?"$3":"$2-$3"))+e;case 115:return~We(e,"stretch")?Lt(Ve(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==He(e,t+1))break;case 6444:switch(He(e,Ke(e)-3-(~We(e,"!important")&&10))){case 107:return Ve(e,":",":"+wt)+e;case 101:return Ve(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wt+(45===He(e,14)?"inline-":"")+"box$3$1"+wt+"$2$3$1"+vt+"$2box$3")+e}break;case 5936:switch(He(e,t+11)){case 114:return wt+e+vt+Ve(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return wt+e+vt+Ve(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return wt+e+vt+Ve(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return wt+e+vt+e+e}return e}var Ft=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case kt:e.return=Lt(e.value,e.length);break;case Ct:return Et([rt(e,{value:Ve(e.value,"@","@"+wt)})],r);case St:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Et([rt(e,{props:[Ve(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Et([rt(e,{props:[Ve(t,/:(plac\w+)/,":"+wt+"input-$1")]}),rt(e,{props:[Ve(t,/:(plac\w+)/,":-moz-$1")]}),rt(e,{props:[Ve(t,/:(plac\w+)/,vt+"input-$1")]})],r)}return""}))}}],zt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||Ft,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l,c,u=[It,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=Ge(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([Dt,Mt].concat(o,u));i=function(e,t,n,r){l=n,function(e){Et(Tt(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Fe({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return h.sheet.hydrate(a),h};function $t(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var Bt=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Ut=function(e,t,n){Bt(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var Vt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Wt(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Ht=/[A-Z]|^ms/g,qt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Kt=function(e){return 45===e.charCodeAt(1)},Gt=function(e){return null!=e&&"boolean"!==typeof e},Qt=Wt((function(e){return Kt(e)?e:e.replace(Ht,"-$&").toLowerCase()})),Yt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(qt,(function(e,t,n){return Jt={name:t,styles:n,next:Jt},t}))}return 1===Vt[e]||Kt(e)||"number"!==typeof t||0===t?t:t+"px"};function Xt(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return Jt={name:i.name,styles:i.styles,next:Jt},i.name;var o=n;if(void 0!==o.styles){var s=o.next;if(void 0!==s)for(;void 0!==s;)Jt={name:s.name,styles:s.styles,next:Jt},s=s.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Xt(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s){var a=s;null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":Gt(a)&&(r+=Qt(o)+":"+Yt(o,a)+";")}else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=Xt(e,t,s);switch(o){case"animation":case"animationName":r+=Qt(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<s.length;c++)Gt(s[c])&&(r+=Qt(o)+":"+Yt(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=Jt,l=n(e);return Jt=a,Xt(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var Jt,Zt=/label:\s*([^\s;{]+)\s*(;|$)/g;function en(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Jt=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Xt(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++){if(i+=Xt(n,t,e[s]),r)i+=o[s]}Zt.lastIndex=0;for(var a,l="";null!==(a=Zt.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Jt}}var tn=!!o.useInsertionEffect&&o.useInsertionEffect,nn=tn||function(e){return e()},rn=tn||i.useLayoutEffect,on=i.createContext("undefined"!==typeof HTMLElement?zt({key:"css"}):null),sn=(on.Provider,function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(on);return e(t,r,n)}))}),an=i.createContext({});var ln={}.hasOwnProperty,cn="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",un=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Bt(t,n,r),nn((function(){return Ut(t,n,r)})),null},dn=sn((function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var o=e[cn],s=[r],a="";"string"===typeof e.className?a=$t(t.registered,s,e.className):null!=e.className&&(a=e.className+" ");var l=en(s,void 0,i.useContext(an));a+=t.key+"-"+l.name;var c={};for(var u in e)ln.call(e,u)&&"css"!==u&&u!==cn&&(c[u]=e[u]);return c.className=a,n&&(c.ref=n),i.createElement(i.Fragment,null,i.createElement(un,{cache:t,serialized:l,isStringTag:"string"===typeof o}),i.createElement(o,c))})),hn=dn;const pn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(an);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},fn=i.createContext();const mn=()=>i.useContext(fn)??!1,gn=function(e){let{value:t,...n}=e;return(0,Me.jsx)(fn.Provider,{value:t??!0,...n})};function yn(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)n[i]={...e[i],...n[i]};else if("componentsProps"===i||"slotProps"===i){const r=e[i],o=t[i];if(o)if(r){n[i]={...o};for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[i][t]=yn(r[t],o[t])}}else n[i]=o;else n[i]=r||{}}else void 0===n[i]&&(n[i]=e[i])}return n}const vn=i.createContext(void 0);function bn(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?yn(i.defaultProps,r):i.styleOverrides||i.variants?r:yn(i,r)}({props:t,name:n,theme:{components:i.useContext(vn)}})}const wn=function(e){let{value:t,children:n}=e;return(0,Me.jsx)(vn.Provider,{value:t,children:n})},xn={};function Sn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return i.useMemo((()=>{const i=e&&t[e]||t;if("function"===typeof n){const o=n(i),s=e?{...t,[e]:o}:o;return r?()=>s:s}return e?{...t,[e]:n}:{...t,...n}}),[e,t,n,r])}const kn=function(e){const{children:t,theme:n,themeId:r}=e,i=pn(xn),o=Oe()||xn,s=Sn(r,i,n),a=Sn(r,o,n,!0),l="rtl"===(r?s[r]:s).direction;return(0,Me.jsx)(Le,{theme:a,children:(0,Me.jsx)(an.Provider,{value:s,children:(0,Me.jsx)(gn,{value:l,children:(0,Me.jsx)(wn,{value:r?s[r].components:s.components,children:t})})})})},Cn="$$material";function En(e){let{theme:t,...n}=e;const r=Cn in t?t[Cn]:void 0;return(0,Me.jsx)(kn,{...n,themeId:r?Cn:void 0,theme:r||t})}function In(e){const t=new URL(`https://mui.com/production-error/?code=${e}`);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.searchParams.append("args[]",e))),`Minified MUI error #${e}; visit ${t} for the full message.`}function Tn(e){if("string"!==typeof e)throw new Error(In(7));return e.charAt(0).toUpperCase()+e.slice(1)}var _n=n(191);function An(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Pn(e){if(i.isValidElement(e)||(0,_n.Hy)(e)||!An(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=Pn(e[n])})),t}function Rn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?{...e}:e;return An(e)&&An(t)&&Object.keys(t).forEach((o=>{i.isValidElement(t[o])||(0,_n.Hy)(t[o])?r[o]=t[o]:An(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&An(e[o])?r[o]=Rn(e[o],t[o],n):n.clone?r[o]=An(t[o])?Pn(t[o]):t[o]:r[o]=t[o]})),r}const jn=function(e,t){return t?Rn(e,t,{clone:!1}):e};const Nn={xs:0,sm:600,md:900,lg:1200,xl:1536},On={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Nn[e]}px)`},Dn={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:Nn[t]||t;return"number"===typeof n&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Mn(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||On;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||On;return Object.keys(t).reduce(((i,o)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith(`@${e}`)))||!!t.match(/^@\d/))}(e.keys,o)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}(r.containerQueries?r:Dn,o);e&&(i[e]=n(t[o],o))}else if(Object.keys(e.values||Nn).includes(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function Ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.keys?.reduce(((t,n)=>(t[e.up(n)]={},t)),{});return t||{}}function Fn(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function zn(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function $n(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:zn(e,n)||i,t&&(r=t(r,i,e)),r}const Bn=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],s=zn(e.theme,r)||{};return Mn(e,o,(e=>{let r=$n(s,i,e);return e===r&&"string"===typeof e&&(r=$n(s,i,`${t}${"default"===e?"":Tn(e)}`,e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const Un={m:"margin",p:"padding"},Vn={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Wn={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Hn=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!Wn[e])return[e];e=Wn[e]}const[t,n]=e.split(""),r=Un[t],i=Vn[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),qn=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Kn=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Gn=[...qn,...Kn];function Qn(e,t,n,r){const i=zn(e,t,!0)??n;return"number"===typeof i||"string"===typeof i?e=>"string"===typeof e?e:"string"===typeof i?i.startsWith("var(")&&0===e?0:i.startsWith("var(")&&1===e?i:`calc(${e} * ${i})`:i*e:Array.isArray(i)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=i[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?`calc(-1 * ${n})`:`-${n}`}:"function"===typeof i?i:()=>{}}function Yn(e){return Qn(e,"spacing",8)}function Xn(e,t){return"string"===typeof t||null==t?t:e(t)}function Jn(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=Xn(t,n),e)),{})}(Hn(n),r);return Mn(e,e[n],i)}function Zn(e,t){const n=Yn(e.theme);return Object.keys(e).map((r=>Jn(e,t,r,n))).reduce(jn,{})}function er(e){return Zn(e,qn)}function tr(e){return Zn(e,Kn)}function nr(e){return Zn(e,Gn)}er.propTypes={},er.filterProps=qn,tr.propTypes={},tr.filterProps=Kn,nr.propTypes={},nr.filterProps=Gn;const rr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?jn(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function ir(e){return"number"!==typeof e?e:`${e}px solid`}function or(e,t){return Bn({prop:e,themeKey:"borders",transform:t})}const sr=or("border",ir),ar=or("borderTop",ir),lr=or("borderRight",ir),cr=or("borderBottom",ir),ur=or("borderLeft",ir),dr=or("borderColor"),hr=or("borderTopColor"),pr=or("borderRightColor"),fr=or("borderBottomColor"),mr=or("borderLeftColor"),gr=or("outline",ir),yr=or("outlineColor"),vr=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Qn(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:Xn(t,e)});return Mn(e,e.borderRadius,n)}return null};vr.propTypes={},vr.filterProps=["borderRadius"];rr(sr,ar,lr,cr,ur,dr,hr,pr,fr,mr,vr,gr,yr);const br=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Qn(e.theme,"spacing",8),n=e=>({gap:Xn(t,e)});return Mn(e,e.gap,n)}return null};br.propTypes={},br.filterProps=["gap"];const wr=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Qn(e.theme,"spacing",8),n=e=>({columnGap:Xn(t,e)});return Mn(e,e.columnGap,n)}return null};wr.propTypes={},wr.filterProps=["columnGap"];const xr=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Qn(e.theme,"spacing",8),n=e=>({rowGap:Xn(t,e)});return Mn(e,e.rowGap,n)}return null};xr.propTypes={},xr.filterProps=["rowGap"];rr(br,wr,xr,Bn({prop:"gridColumn"}),Bn({prop:"gridRow"}),Bn({prop:"gridAutoFlow"}),Bn({prop:"gridAutoColumns"}),Bn({prop:"gridAutoRows"}),Bn({prop:"gridTemplateColumns"}),Bn({prop:"gridTemplateRows"}),Bn({prop:"gridTemplateAreas"}),Bn({prop:"gridArea"}));function Sr(e,t){return"grey"===t?t:e}rr(Bn({prop:"color",themeKey:"palette",transform:Sr}),Bn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Sr}),Bn({prop:"backgroundColor",themeKey:"palette",transform:Sr}));function kr(e){return e<=1&&0!==e?100*e+"%":e}const Cr=Bn({prop:"width",transform:kr}),Er=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{const n=e.theme?.breakpoints?.values?.[t]||Nn[t];return n?"px"!==e.theme?.breakpoints?.unit?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:kr(t)}};return Mn(e,e.maxWidth,t)}return null};Er.filterProps=["maxWidth"];const Ir=Bn({prop:"minWidth",transform:kr}),Tr=Bn({prop:"height",transform:kr}),_r=Bn({prop:"maxHeight",transform:kr}),Ar=Bn({prop:"minHeight",transform:kr}),Pr=(Bn({prop:"size",cssProperty:"width",transform:kr}),Bn({prop:"size",cssProperty:"height",transform:kr}),rr(Cr,Er,Ir,Tr,_r,Ar,Bn({prop:"boxSizing"})),{border:{themeKey:"borders",transform:ir},borderTop:{themeKey:"borders",transform:ir},borderRight:{themeKey:"borders",transform:ir},borderBottom:{themeKey:"borders",transform:ir},borderLeft:{themeKey:"borders",transform:ir},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ir},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:vr},color:{themeKey:"palette",transform:Sr},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Sr},backgroundColor:{themeKey:"palette",transform:Sr},p:{style:tr},pt:{style:tr},pr:{style:tr},pb:{style:tr},pl:{style:tr},px:{style:tr},py:{style:tr},padding:{style:tr},paddingTop:{style:tr},paddingRight:{style:tr},paddingBottom:{style:tr},paddingLeft:{style:tr},paddingX:{style:tr},paddingY:{style:tr},paddingInline:{style:tr},paddingInlineStart:{style:tr},paddingInlineEnd:{style:tr},paddingBlock:{style:tr},paddingBlockStart:{style:tr},paddingBlockEnd:{style:tr},m:{style:er},mt:{style:er},mr:{style:er},mb:{style:er},ml:{style:er},mx:{style:er},my:{style:er},margin:{style:er},marginTop:{style:er},marginRight:{style:er},marginBottom:{style:er},marginLeft:{style:er},marginX:{style:er},marginY:{style:er},marginInline:{style:er},marginInlineStart:{style:er},marginInlineEnd:{style:er},marginBlock:{style:er},marginBlockStart:{style:er},marginBlockEnd:{style:er},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:br},rowGap:{style:xr},columnGap:{style:wr},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:kr},maxWidth:{style:Er},minWidth:{transform:kr},height:{transform:kr},maxHeight:{transform:kr},minHeight:{transform:kr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const Rr=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=zn(n,a)||{};if(c)return c(i);return Mn(i,t,(t=>{let n=$n(u,l,t);return t===n&&"string"===typeof t&&(n=$n(u,l,`${e}${"default"===t?"":Tn(t)}`,t)),!1===s?n:{[s]:n}}))}return function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??Pr;function s(n){let r=n;if("function"===typeof n)r=n(i);else if("object"!==typeof n)return n;if(!r)return null;const s=Ln(i.breakpoints),a=Object.keys(s);let l=s;return Object.keys(r).forEach((n=>{const s=function(e,t){return"function"===typeof e?e(t):e}(r[n],i);if(null!==s&&void 0!==s)if("object"===typeof s)if(o[n])l=jn(l,e(n,s,i,o));else{const e=Mn({theme:i},s,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,s)?l=jn(l,e):l[n]=t({sx:s,theme:i})}else l=jn(l,e(n,s,i,o))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{const n=/min-width:\s*([0-9.]+)/;return+(e.match(n)?.[1]||0)-+(t.match(n)?.[1]||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),{...t}):t}(i,Fn(a,l))}return Array.isArray(r)?r.map(s):s(r)}}();Rr.filterProps=["sx"];const jr=Rr;n(219);var Nr=function(e,t){var n=arguments;if(null==t||!ln.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=hn,o[1]=function(e,t){var n={};for(var r in t)ln.call(t,r)&&(n[r]=t[r]);return n[cn]=e,n}(e,t);for(var s=2;s<r;s++)o[s]=n[s];return i.createElement.apply(null,o)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(Nr||(Nr={}));var Or=sn((function(e,t){var n=en([e.styles],void 0,i.useContext(an)),r=i.useRef();return rn((function(){var e=t.key+"-global",i=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,s=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(i.before=t.sheet.tags[0]),null!==s&&(o=!0,s.setAttribute("data-emotion",e),i.hydrate([s])),r.current=[i,o],function(){i.flush()}}),[t]),rn((function(){var e=r.current,i=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&Ut(t,n.next,!0),i.tags.length){var o=i.tags[i.tags.length-1].nextElementSibling;i.before=o,i.flush()}t.insert("",n,i,!1)}}),[t,n.name]),null}));function Dr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return en(t)}function Mr(){var e=Dr.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Lr(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,Me.jsx)(Or,{styles:r})}const Fr="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,zr="mode",$r="color-scheme",Br="data-color-scheme";function Ur(){}const Vr=e=>{let{key:t,storageWindow:n}=e;return n||"undefined"===typeof window||(n=window),{get(e){if("undefined"===typeof window)return;if(!n)return e;let r;try{r=n.localStorage.getItem(t)}catch{}return r||e},set:e=>{if(n)try{n.localStorage.setItem(t,e)}catch{}},subscribe:e=>{if(!n)return Ur;const r=n=>{const r=n.newValue;n.key===t&&e(r)};return n.addEventListener("storage",r),()=>{n.removeEventListener("storage",r)}}}};function Wr(){}function Hr(e){if("undefined"!==typeof window&&"function"===typeof window.matchMedia&&"system"===e){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}}function qr(e,t){return"light"===e.mode||"system"===e.mode&&"light"===e.systemMode?t("light"):"dark"===e.mode||"system"===e.mode&&"dark"===e.systemMode?t("dark"):void 0}function Kr(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:o=[],modeStorageKey:s=zr,colorSchemeStorageKey:a=$r,storageWindow:l=("undefined"===typeof window?void 0:window),storageManager:c=Vr,noSsr:u=!1}=e,d=o.join(","),h=o.length>1,p=i.useMemo((()=>c?.({key:s,storageWindow:l})),[c,s,l]),f=i.useMemo((()=>c?.({key:`${a}-light`,storageWindow:l})),[c,a,l]),m=i.useMemo((()=>c?.({key:`${a}-dark`,storageWindow:l})),[c,a,l]),[g,y]=i.useState((()=>{const e=p?.get(t)||t,i=f?.get(n)||n,o=m?.get(r)||r;return{mode:e,systemMode:Hr(e),lightColorScheme:i,darkColorScheme:o}})),[v,b]=i.useState(u||!h);i.useEffect((()=>{b(!0)}),[]);const w=function(e){return qr(e,(t=>"light"===t?e.lightColorScheme:"dark"===t?e.darkColorScheme:void 0))}(g),x=i.useCallback((e=>{y((n=>{if(e===n.mode)return n;const r=e??t;return p?.set(r),{...n,mode:r,systemMode:Hr(r)}}))}),[p,t]),S=i.useCallback((e=>{e?"string"===typeof e?e&&!d.includes(e)?console.error(`\`${e}\` does not exist in \`theme.colorSchemes\`.`):y((t=>{const n={...t};return qr(t,(t=>{"light"===t&&(f?.set(e),n.lightColorScheme=e),"dark"===t&&(m?.set(e),n.darkColorScheme=e)})),n})):y((t=>{const i={...t},o=null===e.light?n:e.light,s=null===e.dark?r:e.dark;return o&&(d.includes(o)?(i.lightColorScheme=o,f?.set(o)):console.error(`\`${o}\` does not exist in \`theme.colorSchemes\`.`)),s&&(d.includes(s)?(i.darkColorScheme=s,m?.set(s)):console.error(`\`${s}\` does not exist in \`theme.colorSchemes\`.`)),i})):y((e=>(f?.set(n),m?.set(r),{...e,lightColorScheme:n,darkColorScheme:r})))}),[d,f,m,n,r]),k=i.useCallback((e=>{"system"===g.mode&&y((t=>{const n=e?.matches?"dark":"light";return t.systemMode===n?t:{...t,systemMode:n}}))}),[g.mode]),C=i.useRef(k);return C.current=k,i.useEffect((()=>{if("function"!==typeof window.matchMedia||!h)return;const e=function(){return C.current(...arguments)},t=window.matchMedia("(prefers-color-scheme: dark)");return t.addListener(e),e(t),()=>{t.removeListener(e)}}),[h]),i.useEffect((()=>{if(h){const e=p?.subscribe((e=>{e&&!["light","dark","system"].includes(e)||x(e||t)}))||Wr,n=f?.subscribe((e=>{e&&!d.match(e)||S({light:e})}))||Wr,r=m?.subscribe((e=>{e&&!d.match(e)||S({dark:e})}))||Wr;return()=>{e(),n(),r()}}}),[S,x,d,t,l,h,p,f,m]),{...g,mode:v?g.mode:void 0,systemMode:v?g.systemMode:void 0,colorScheme:v?w:void 0,setMode:x,setColorScheme:S}}const Gr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function Qr(e){return Gr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function Yr(e){if(e.type)return e;if("#"===e.charAt(0))return Yr(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(In(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(In(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const Xr=(e,t)=>{try{return(e=>{const t=Yr(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?`${e}%`:e)).join(" ")})(e)}catch(n){return e}};function Jr(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=t.includes("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function Zr(e){e=Yr(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),Jr({type:a,values:l})}function ei(e){let t="hsl"===(e=Yr(e)).type||"hsla"===e.type?Yr(Zr(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function ti(e,t){return e=Yr(e),t=Qr(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,Jr(e)}function ni(e,t,n){try{return ti(e,t)}catch(r){return e}}function ri(e,t){if(e=Yr(e),t=Qr(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Jr(e)}function ii(e,t,n){try{return ri(e,t)}catch(r){return e}}function oi(e,t){if(e=Yr(e),t=Qr(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Jr(e)}function si(e,t,n){try{return oi(e,t)}catch(r){return e}}function ai(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return ei(e)>.5?ri(e,t):oi(e,t)}function li(e,t,n){try{return ai(e,t)}catch(r){return e}}const ci={black:"#000",white:"#fff"},ui={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},di={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},hi={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},pi={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},fi={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},mi={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},gi={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function yi(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ci.white,default:ci.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const vi=yi();function bi(){return{text:{primary:ci.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ci.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const wi=bi();function xi(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=oi(e.main,i):"dark"===t&&(e.dark=ri(e.main,o)))}function Si(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:fi[200],light:fi[50],dark:fi[400]}:{main:fi[700],light:fi[400],dark:fi[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:di[200],light:di[50],dark:di[400]}:{main:di[500],light:di[300],dark:di[700]}}(t),a=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:hi[500],light:hi[300],dark:hi[700]}:{main:hi[700],light:hi[400],dark:hi[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:mi[400],light:mi[300],dark:mi[700]}:{main:mi[700],light:mi[500],dark:mi[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:gi[400],light:gi[300],dark:gi[700]}:{main:gi[800],light:gi[500],dark:gi[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pi[400],light:pi[300],dark:pi[700]}:{main:"#ed6c02",light:pi[500],dark:pi[900]}}(t);function d(e){const t=function(e,t){const n=ei(e),r=ei(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,wi.text.primary)>=n?wi.text.primary:vi.text.primary;return t}const h=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:s=700}=e;if(t={...t},!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(In(11,n?` (${n})`:"",i));if("string"!==typeof t.main)throw new Error(In(12,n?` (${n})`:"",JSON.stringify(t.main)));return xi(t,"light",o,r),xi(t,"dark",s,r),t.contrastText||(t.contrastText=d(t.main)),t};let p;"light"===t?p=yi():"dark"===t&&(p=bi());return Rn({common:{...ci},mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:ui,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...p},i)}function ki(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const o=r[0];return"string"!==typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${o}`:`, var(--${e?`${e}-`:""}${o}${t(...r.slice(1))})`}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return`var(--${e?`${e}-`:""}${n}${t(...i)})`}}function Ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yn({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}function Ei(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)})),t}const Ii=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach(((e,o)=>{o===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])}))};function Ti(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};var a,l;return a=(e,t,a)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r=`--${n?`${n}-`:""}${e.join("-")}`,l=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t)(e,t);Object.assign(i,{[r]:l}),Ii(o,e,`var(${r})`,a),Ii(s,e,`var(${r}, ${l})`,a)}},l=e=>"vars"===e[0],function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach((t=>{let[i,o]=t;(!l||l&&!l([...n,i]))&&void 0!==o&&null!==o&&("object"===typeof o&&Object.keys(o).length>0?e(o,[...n,i],Array.isArray(o)?[...r,i]:r):a([...n,i],o,r))}))}(e),{css:i,vars:o,varsWithDefaults:s}}const _i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=g,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=e,{vars:c,css:u,varsWithDefaults:d}=Ti(l,t);let h=d;const p={},{[a]:f,...m}=o;if(Object.entries(m||{}).forEach((e=>{let[n,r]=e;const{vars:i,css:o,varsWithDefaults:s}=Ti(r,t);h=Rn(h,s),p[n]={css:o,vars:i}})),f){const{css:e,vars:n,varsWithDefaults:r}=Ti(f,t);h=Rn(h,r),p[a]={css:e,vars:n}}function g(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(r=`[${i}="%s"]`),t){if("media"===r){if(e.defaultColorScheme===t)return":root";const r=o[t]?.palette?.mode||t;return{[`@media (prefers-color-scheme: ${r})`]:{":root":n}}}if(r)return e.defaultColorScheme===t?`:root, ${r.replace("%s",String(t))}`:r.replace("%s",String(t))}return":root"}return{vars:h,generateThemeVars:()=>{let e={...c};return Object.entries(p).forEach((t=>{let[,{vars:n}]=t;e=Rn(e,n)})),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function s(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:{...n}}:e)}s(n(void 0,{...u}),u);const{[i]:a,...l}=p;if(a){const{css:e}=a,t=o[i]?.palette?.mode,l=!r&&t?{colorScheme:t,...e}:{...e};s(n(i,{...l}),l)}return Object.entries(l).forEach((e=>{let[t,{css:i}]=e;const a=o[t]?.palette?.mode,l=!r&&a?{colorScheme:a,...i}:{...i};s(n(t,{...l}),l)})),t}}};function Ai(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,o=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>({...e,[t.key]:t.val})),{})})(t),s=Object.keys(o);function a(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function l(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-r/100}${n})`}function c(e,i){const o=s.indexOf(i);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"===typeof t[s[o]]?t[s[o]]:i)-r/100}${n})`}return{keys:s,values:o,up:a,down:l,between:c,only:function(e){return s.indexOf(e)+1<s.length?c(e,s[s.indexOf(e)+1]):a(e)},not:function(e){const t=s.indexOf(e);return 0===t?a(s[1]):t===s.length-1?l(s[t]):c(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n,...i}}const Pi={borderRadius:4};function Ri(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||"function"!==typeof n.getColorSchemeSelector)return{};let r=n.getColorSchemeSelector(e);return"&"===r?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return n.palette.mode===e?t:{}}const ji=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={},...o}=e;let s=Rn({breakpoints:Ai(t),direction:"ltr",components:{},palette:{mode:"light",...n},spacing:Ci(r),shape:{...Pi,...i}},o);s=function(e){const t=(e,t)=>e.replace("@media",t?`@container ${t}`:"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),{...e,containerQueries:i}}(s),s.applyStyles=Ri;for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];return s=l.reduce(((e,t)=>Rn(e,t)),s),s.unstable_sxConfig={...Pr,...o?.unstable_sxConfig},s.unstable_sx=function(e){return jr({sx:e,theme:this})},s};function Ni(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}const Oi={textTransform:"uppercase"},Di='"Roboto", "Helvetica", "Arial", sans-serif';function Mi(e,t){const{fontFamily:n=Di,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}="function"===typeof t?t(e):t;const h=r/14,p=u||(e=>e/l*h+"rem"),f=(e,t,r,i,o)=>{return{fontFamily:n,fontWeight:e,fontSize:p(t),lineHeight:r,...n===Di?{letterSpacing:(s=i/t,Math.round(1e5*s)/1e5)+"em"}:{},...o,...c};var s},m={h1:f(i,96,1.167,-1.5),h2:f(i,60,1.2,-.5),h3:f(o,48,1.167,0),h4:f(o,34,1.235,.25),h5:f(o,24,1.334,0),h6:f(s,20,1.6,.15),subtitle1:f(o,16,1.75,.15),subtitle2:f(s,14,1.57,.1),body1:f(o,16,1.5,.15),body2:f(o,14,1.43,.15),button:f(s,14,1.75,.4,Oi),caption:f(o,12,1.66,.4),overline:f(o,12,2.66,1,Oi),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Rn({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...m},d,{clone:!1})}function Li(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const Fi=["none",Li(0,2,1,-1,0,1,1,0,0,1,3,0),Li(0,3,1,-2,0,2,2,0,0,1,5,0),Li(0,3,3,-2,0,3,4,0,0,1,8,0),Li(0,2,4,-1,0,4,5,0,0,1,10,0),Li(0,3,5,-1,0,5,8,0,0,1,14,0),Li(0,3,5,-1,0,6,10,0,0,1,18,0),Li(0,4,5,-2,0,7,10,1,0,2,16,1),Li(0,5,5,-3,0,8,10,1,0,3,14,2),Li(0,5,6,-3,0,9,12,1,0,3,16,2),Li(0,6,6,-3,0,10,14,1,0,4,18,3),Li(0,6,7,-4,0,11,15,1,0,4,20,3),Li(0,7,8,-4,0,12,17,2,0,5,22,4),Li(0,7,8,-4,0,13,19,2,0,5,24,4),Li(0,7,9,-4,0,14,21,2,0,5,26,4),Li(0,8,9,-5,0,15,22,2,0,6,28,5),Li(0,8,10,-5,0,16,24,2,0,6,30,5),Li(0,8,11,-5,0,17,26,2,0,6,32,5),Li(0,9,11,-5,0,18,28,2,0,7,34,6),Li(0,9,12,-6,0,19,29,2,0,7,36,6),Li(0,10,13,-6,0,20,31,3,0,8,38,7),Li(0,10,13,-6,0,21,33,3,0,8,40,7),Li(0,10,14,-6,0,22,35,3,0,8,42,7),Li(0,11,14,-7,0,23,36,3,0,9,44,8),Li(0,11,15,-7,0,24,38,3,0,9,46,8)],zi={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$i={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Bi(e){return`${Math.round(e)}ms`}function Ui(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function Vi(e){const t={...zi,...e.easing},n={...$i,...e.duration};return{getAutoHeightDuration:Ui,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:s=0,...a}=r;return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof i?i:Bi(i)} ${o} ${"string"===typeof s?s:Bi(s)}`)).join(",")},...e,easing:t,duration:n}}const Wi={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Hi(){const e={...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[o,s]=n[i];!An(r=s)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||o.startsWith("unstable_")?delete t[o]:An(s)&&(t[o]={...s},e(t[o]))}var r}(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ${JSON.stringify(e,null,2)};\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;`}const qi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:s={},shape:a,...l}=e;if(e.vars&&void 0===e.generateThemeVars)throw new Error(In(20));const c=Si(i),u=ji(e);let d=Rn(u,{mixins:Ni(u.breakpoints,n),palette:c,shadows:Fi.slice(),typography:Mi(c,s),transitions:Vi(o),zIndex:{...Wi}});d=Rn(d,l);for(var h=arguments.length,p=new Array(h>1?h-1:0),f=1;f<h;f++)p[f-1]=arguments[f];return d=p.reduce(((e,t)=>Rn(e,t)),d),d.unstable_sxConfig={...Pr,...l?.unstable_sxConfig},d.unstable_sx=function(e){return jr({sx:e,theme:this})},d.toRuntimeSource=Hi,d};function Ki(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const Gi=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=Ki(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`}));function Qi(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function Yi(e){return"dark"===e?Gi:[]}function Xi(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const Ji=e=>[...[...Array(25)].map(((t,n)=>`--${e?`${e}-`:""}overlays-${n}`)),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Zi=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if("class"===i&&(o=".%s"),"data"===i&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),e.defaultColorScheme===t){if("dark"===t){const i={};return Ji(e.cssVarPrefix).forEach((e=>{i[e]=n[e],delete n[e]})),"media"===o?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:o?{[o.replace("%s",t)]:i,[`${r}, ${o.replace("%s",t)}`]:n}:{[r]:{...n,...i}}}if(o&&"media"!==o)return`${r}, ${o.replace("%s",String(t))}`}else if(t){if("media"===o)return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r};function eo(e,t,n){!e[t]&&n&&(e[t]=n)}function to(e){return"string"===typeof e&&e.startsWith("hsl")?Zr(e):e}function no(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Xr(to(e[t])))}const ro=e=>{try{return e()}catch(t){}};function io(e,t,n,r){if(!t)return;t=!0===t?{}:t;const i="dark"===r?"dark":"light";if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,o=Si(t);return{palette:o,opacity:{...Qi(o.mode),...n},overlays:r||Yi(o.mode),...i}}({...t,palette:{mode:i,...t?.palette}}));const{palette:o,...s}=qi({...n,palette:{mode:i,...t?.palette}});return e[r]={...t,palette:o,opacity:{...Qi(i),...t?.opacity},overlays:t?.overlays||Yi(i)},s}function oo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=Xi,colorSchemeSelector:s=(t.light&&t.dark?"media":void 0),rootSelector:a=":root",...l}=e,c=Object.keys(t)[0],u=n||(t.light&&"light"!==c?"light":c),d=function(){return ki(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[u]:h,light:p,dark:f,...m}=t,g={...m};let y=h;if(("dark"===u&&!("dark"in t)||"light"===u&&!("light"in t))&&(y=!0),!y)throw new Error(In(21,u));const v=io(g,y,l,u);p&&!g.light&&io(g,p,void 0,"light"),f&&!g.dark&&io(g,f,void 0,"dark");let b={defaultColorScheme:u,...v,cssVarPrefix:i,colorSchemeSelector:s,rootSelector:a,getCssVar:d,colorSchemes:g,font:{...Ei(v.typography),...v.font},spacing:(w=l.spacing,"number"===typeof w?`${w}px`:"string"===typeof w||"function"===typeof w||Array.isArray(w)?w:"8px")};var w;Object.keys(b.colorSchemes).forEach((e=>{const t=b.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return d(e,t[r][i])};var r;if("light"===t.mode&&(eo(t.common,"background","#fff"),eo(t.common,"onBackground","#000")),"dark"===t.mode&&(eo(t.common,"background","#000"),eo(t.common,"onBackground","#fff")),r=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach((e=>{r[e]||(r[e]={})})),"light"===t.mode){eo(t.Alert,"errorColor",ii(t.error.light,.6)),eo(t.Alert,"infoColor",ii(t.info.light,.6)),eo(t.Alert,"successColor",ii(t.success.light,.6)),eo(t.Alert,"warningColor",ii(t.warning.light,.6)),eo(t.Alert,"errorFilledBg",n("palette-error-main")),eo(t.Alert,"infoFilledBg",n("palette-info-main")),eo(t.Alert,"successFilledBg",n("palette-success-main")),eo(t.Alert,"warningFilledBg",n("palette-warning-main")),eo(t.Alert,"errorFilledColor",ro((()=>t.getContrastText(t.error.main)))),eo(t.Alert,"infoFilledColor",ro((()=>t.getContrastText(t.info.main)))),eo(t.Alert,"successFilledColor",ro((()=>t.getContrastText(t.success.main)))),eo(t.Alert,"warningFilledColor",ro((()=>t.getContrastText(t.warning.main)))),eo(t.Alert,"errorStandardBg",si(t.error.light,.9)),eo(t.Alert,"infoStandardBg",si(t.info.light,.9)),eo(t.Alert,"successStandardBg",si(t.success.light,.9)),eo(t.Alert,"warningStandardBg",si(t.warning.light,.9)),eo(t.Alert,"errorIconColor",n("palette-error-main")),eo(t.Alert,"infoIconColor",n("palette-info-main")),eo(t.Alert,"successIconColor",n("palette-success-main")),eo(t.Alert,"warningIconColor",n("palette-warning-main")),eo(t.AppBar,"defaultBg",n("palette-grey-100")),eo(t.Avatar,"defaultBg",n("palette-grey-400")),eo(t.Button,"inheritContainedBg",n("palette-grey-300")),eo(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),eo(t.Chip,"defaultBorder",n("palette-grey-400")),eo(t.Chip,"defaultAvatarColor",n("palette-grey-700")),eo(t.Chip,"defaultIconColor",n("palette-grey-700")),eo(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),eo(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),eo(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),eo(t.LinearProgress,"primaryBg",si(t.primary.main,.62)),eo(t.LinearProgress,"secondaryBg",si(t.secondary.main,.62)),eo(t.LinearProgress,"errorBg",si(t.error.main,.62)),eo(t.LinearProgress,"infoBg",si(t.info.main,.62)),eo(t.LinearProgress,"successBg",si(t.success.main,.62)),eo(t.LinearProgress,"warningBg",si(t.warning.main,.62)),eo(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.11)`),eo(t.Slider,"primaryTrack",si(t.primary.main,.62)),eo(t.Slider,"secondaryTrack",si(t.secondary.main,.62)),eo(t.Slider,"errorTrack",si(t.error.main,.62)),eo(t.Slider,"infoTrack",si(t.info.main,.62)),eo(t.Slider,"successTrack",si(t.success.main,.62)),eo(t.Slider,"warningTrack",si(t.warning.main,.62));const e=li(t.background.default,.8);eo(t.SnackbarContent,"bg",e),eo(t.SnackbarContent,"color",ro((()=>t.getContrastText(e)))),eo(t.SpeedDialAction,"fabHoverBg",li(t.background.paper,.15)),eo(t.StepConnector,"border",n("palette-grey-400")),eo(t.StepContent,"border",n("palette-grey-400")),eo(t.Switch,"defaultColor",n("palette-common-white")),eo(t.Switch,"defaultDisabledColor",n("palette-grey-100")),eo(t.Switch,"primaryDisabledColor",si(t.primary.main,.62)),eo(t.Switch,"secondaryDisabledColor",si(t.secondary.main,.62)),eo(t.Switch,"errorDisabledColor",si(t.error.main,.62)),eo(t.Switch,"infoDisabledColor",si(t.info.main,.62)),eo(t.Switch,"successDisabledColor",si(t.success.main,.62)),eo(t.Switch,"warningDisabledColor",si(t.warning.main,.62)),eo(t.TableCell,"border",si(ni(t.divider,1),.88)),eo(t.Tooltip,"bg",ni(t.grey[700],.92))}if("dark"===t.mode){eo(t.Alert,"errorColor",si(t.error.light,.6)),eo(t.Alert,"infoColor",si(t.info.light,.6)),eo(t.Alert,"successColor",si(t.success.light,.6)),eo(t.Alert,"warningColor",si(t.warning.light,.6)),eo(t.Alert,"errorFilledBg",n("palette-error-dark")),eo(t.Alert,"infoFilledBg",n("palette-info-dark")),eo(t.Alert,"successFilledBg",n("palette-success-dark")),eo(t.Alert,"warningFilledBg",n("palette-warning-dark")),eo(t.Alert,"errorFilledColor",ro((()=>t.getContrastText(t.error.dark)))),eo(t.Alert,"infoFilledColor",ro((()=>t.getContrastText(t.info.dark)))),eo(t.Alert,"successFilledColor",ro((()=>t.getContrastText(t.success.dark)))),eo(t.Alert,"warningFilledColor",ro((()=>t.getContrastText(t.warning.dark)))),eo(t.Alert,"errorStandardBg",ii(t.error.light,.9)),eo(t.Alert,"infoStandardBg",ii(t.info.light,.9)),eo(t.Alert,"successStandardBg",ii(t.success.light,.9)),eo(t.Alert,"warningStandardBg",ii(t.warning.light,.9)),eo(t.Alert,"errorIconColor",n("palette-error-main")),eo(t.Alert,"infoIconColor",n("palette-info-main")),eo(t.Alert,"successIconColor",n("palette-success-main")),eo(t.Alert,"warningIconColor",n("palette-warning-main")),eo(t.AppBar,"defaultBg",n("palette-grey-900")),eo(t.AppBar,"darkBg",n("palette-background-paper")),eo(t.AppBar,"darkColor",n("palette-text-primary")),eo(t.Avatar,"defaultBg",n("palette-grey-600")),eo(t.Button,"inheritContainedBg",n("palette-grey-800")),eo(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),eo(t.Chip,"defaultBorder",n("palette-grey-700")),eo(t.Chip,"defaultAvatarColor",n("palette-grey-300")),eo(t.Chip,"defaultIconColor",n("palette-grey-300")),eo(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),eo(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),eo(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),eo(t.LinearProgress,"primaryBg",ii(t.primary.main,.5)),eo(t.LinearProgress,"secondaryBg",ii(t.secondary.main,.5)),eo(t.LinearProgress,"errorBg",ii(t.error.main,.5)),eo(t.LinearProgress,"infoBg",ii(t.info.main,.5)),eo(t.LinearProgress,"successBg",ii(t.success.main,.5)),eo(t.LinearProgress,"warningBg",ii(t.warning.main,.5)),eo(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.13)`),eo(t.Slider,"primaryTrack",ii(t.primary.main,.5)),eo(t.Slider,"secondaryTrack",ii(t.secondary.main,.5)),eo(t.Slider,"errorTrack",ii(t.error.main,.5)),eo(t.Slider,"infoTrack",ii(t.info.main,.5)),eo(t.Slider,"successTrack",ii(t.success.main,.5)),eo(t.Slider,"warningTrack",ii(t.warning.main,.5));const e=li(t.background.default,.98);eo(t.SnackbarContent,"bg",e),eo(t.SnackbarContent,"color",ro((()=>t.getContrastText(e)))),eo(t.SpeedDialAction,"fabHoverBg",li(t.background.paper,.15)),eo(t.StepConnector,"border",n("palette-grey-600")),eo(t.StepContent,"border",n("palette-grey-600")),eo(t.Switch,"defaultColor",n("palette-grey-300")),eo(t.Switch,"defaultDisabledColor",n("palette-grey-600")),eo(t.Switch,"primaryDisabledColor",ii(t.primary.main,.55)),eo(t.Switch,"secondaryDisabledColor",ii(t.secondary.main,.55)),eo(t.Switch,"errorDisabledColor",ii(t.error.main,.55)),eo(t.Switch,"infoDisabledColor",ii(t.info.main,.55)),eo(t.Switch,"successDisabledColor",ii(t.success.main,.55)),eo(t.Switch,"warningDisabledColor",ii(t.warning.main,.55)),eo(t.TableCell,"border",ii(ni(t.divider,1),.68)),eo(t.Tooltip,"bg",ni(t.grey[700],.92))}no(t.background,"default"),no(t.background,"paper"),no(t.common,"background"),no(t.common,"onBackground"),no(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&eo(t[e],"mainChannel",Xr(to(n.main))),n.light&&eo(t[e],"lightChannel",Xr(to(n.light))),n.dark&&eo(t[e],"darkChannel",Xr(to(n.dark))),n.contrastText&&eo(t[e],"contrastTextChannel",Xr(to(n.contrastText))),"text"===e&&(no(t[e],"primary"),no(t[e],"secondary")),"action"===e&&(n.active&&no(t[e],"active"),n.selected&&no(t[e],"selected")))}))}));for(var x=arguments.length,S=new Array(x>1?x-1:0),k=1;k<x;k++)S[k-1]=arguments[k];b=S.reduce(((e,t)=>Rn(e,t)),b);const C={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:Zi(b)},{vars:E,generateThemeVars:I,generateStyleSheets:T}=_i(b,C);return b.vars=E,Object.entries(b.colorSchemes[b.defaultColorScheme]).forEach((e=>{let[t,n]=e;b[t]=n})),b.generateThemeVars=I,b.generateStyleSheets=T,b.generateSpacing=function(){return Ci(l.spacing,Yn(this))},b.getColorSchemeSelector=function(e){return function(t){return"media"===e?`@media (prefers-color-scheme: ${t})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${t}"] &`:"class"===e?`.${t} &`:"data"===e?`[data-${t}] &`:`${e.replace("%s",t)} &`:"&"}}(s),b.spacing=b.generateSpacing(),b.shouldSkipGeneratingVar=o,b.unstable_sxConfig={...Pr,...l?.unstable_sxConfig},b.unstable_sx=function(e){return jr({sx:e,theme:this})},b.toRuntimeSource=Hi,b}function so(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...!0!==n&&n,palette:Si({...!0===n?{}:n.palette,mode:t})})}function ao(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=t?.mode,...o}=e,s=i||"light",a=r?.[s],l={...r,...t?{[s]:{..."boolean"!==typeof a&&a,palette:t}}:void 0};for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];if(!1===n){if(!("colorSchemes"in e))return qi(e,...u);let n=t;"palette"in e||l[s]&&(!0!==l[s]?n=l[s].palette:"dark"===s&&(n={mode:"dark"}));const r=qi({...e,palette:n},...u);return r.defaultColorScheme=s,r.colorSchemes=l,"light"===r.palette.mode&&(r.colorSchemes.light={...!0!==l.light&&l.light,palette:r.palette},so(r,"dark",l.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark={...!0!==l.dark&&l.dark,palette:r.palette},so(r,"light",l.light)),r}return t||"light"in l||"light"!==s||(l.light=!0),oo({...o,colorSchemes:l,defaultColorScheme:s,..."boolean"!==typeof n&&n},...u)}const lo={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:co,useColorScheme:uo,getInitColorSchemeScript:ho}=function(e){const{themeId:t,theme:n={},modeStorageKey:r=zr,colorSchemeStorageKey:o=$r,disableTransitionOnChange:s=!1,defaultColorScheme:a,resolveTheme:l}=e,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=i.createContext(void 0),d={},h={},p="string"===typeof a?a:a.light,f="string"===typeof a?a:a.dark;return{CssVarsProvider:function(e){const{children:c,theme:p,modeStorageKey:f=r,colorSchemeStorageKey:m=o,disableTransitionOnChange:g=s,storageManager:y,storageWindow:v=("undefined"===typeof window?void 0:window),documentNode:b=("undefined"===typeof document?void 0:document),colorSchemeNode:w=("undefined"===typeof document?void 0:document.documentElement),disableNestedContext:x=!1,disableStyleSheetGeneration:S=!1,defaultMode:k="system",forceThemeRerender:C=!1,noSsr:E}=e,I=i.useRef(!1),T=Oe(),_=i.useContext(u),A=!!_&&!x,P=i.useMemo((()=>p||("function"===typeof n?n():n)),[p]),R=P[t],j=R||P,{colorSchemes:N=d,components:O=h,cssVarPrefix:D}=j,M=Object.keys(N).filter((e=>!!N[e])).join(","),L=i.useMemo((()=>M.split(",")),[M]),F="string"===typeof a?a:a.light,z="string"===typeof a?a:a.dark,$=N[F]&&N[z]?k:N[j.defaultColorScheme]?.palette?.mode||j.palette?.mode,{mode:B,setMode:U,systemMode:V,lightColorScheme:W,darkColorScheme:H,colorScheme:q,setColorScheme:K}=Kr({supportedColorSchemes:L,defaultLightColorScheme:F,defaultDarkColorScheme:z,modeStorageKey:f,colorSchemeStorageKey:m,defaultMode:$,storageManager:y,storageWindow:v,noSsr:E});let G=B,Q=q;A&&(G=_.mode,Q=_.colorScheme);let Y=Q||j.defaultColorScheme;j.vars&&!C&&(Y=j.defaultColorScheme);const X=i.useMemo((()=>{const e=j.generateThemeVars?.()||j.vars,t={...j,components:O,colorSchemes:N,cssVarPrefix:D,vars:e};if("function"===typeof t.generateSpacing&&(t.spacing=t.generateSpacing()),Y){const e=N[Y];e&&"object"===typeof e&&Object.keys(e).forEach((n=>{e[n]&&"object"===typeof e[n]?t[n]={...t[n],...e[n]}:t[n]=e[n]}))}return l?l(t):t}),[j,Y,O,N,D]),J=j.colorSchemeSelector;Fr((()=>{if(Q&&w&&J&&"media"!==J){const e=J;let t=J;if("class"===e&&(t=".%s"),"data"===e&&(t="[data-%s]"),e?.startsWith("data-")&&!e.includes("%s")&&(t=`[${e}="%s"]`),t.startsWith("."))w.classList.remove(...L.map((e=>t.substring(1).replace("%s",e)))),w.classList.add(t.substring(1).replace("%s",Q));else{const e=t.replace("%s",Q).match(/\[([^\]]+)\]/);if(e){const[t,n]=e[1].split("=");n||L.forEach((e=>{w.removeAttribute(t.replace(Q,e))})),w.setAttribute(t,n?n.replace(/"|'/g,""):"")}else w.setAttribute(t,Q)}}}),[Q,J,w,L]),i.useEffect((()=>{let e;if(g&&I.current&&b){const t=b.createElement("style");t.appendChild(b.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),b.head.appendChild(t),window.getComputedStyle(b.body),e=setTimeout((()=>{b.head.removeChild(t)}),1)}return()=>{clearTimeout(e)}}),[Q,g,b]),i.useEffect((()=>(I.current=!0,()=>{I.current=!1})),[]);const Z=i.useMemo((()=>({allColorSchemes:L,colorScheme:Q,darkColorScheme:H,lightColorScheme:W,mode:G,setColorScheme:K,setMode:U,systemMode:V})),[L,Q,H,W,G,K,U,V,X.colorSchemeSelector]);let ee=!0;(S||!1===j.cssVariables||A&&T?.cssVarPrefix===D)&&(ee=!1);const te=(0,Me.jsxs)(i.Fragment,{children:[(0,Me.jsx)(kn,{themeId:R?t:void 0,theme:X,children:c}),ee&&(0,Me.jsx)(Lr,{styles:X.generateStyleSheets?.()||[]})]});return A?te:(0,Me.jsx)(u.Provider,{value:Z,children:te})},useColorScheme:()=>i.useContext(u)||c,getInitColorSchemeScript:e=>function(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=zr,colorSchemeStorageKey:o=$r,attribute:s=Br,colorSchemeNode:a="document.documentElement",nonce:l}=e||{};let c="",u=s;if("class"===s&&(u=".%s"),"data"===s&&(u="[data-%s]"),u.startsWith(".")){const e=u.substring(1);c+=`${a}.classList.remove('${e}'.replace('%s', light), '${e}'.replace('%s', dark));\n      ${a}.classList.add('${e}'.replace('%s', colorScheme));`}const d=u.match(/\[([^\]]+)\]/);if(d){const[e,t]=d[1].split("=");t||(c+=`${a}.removeAttribute('${e}'.replace('%s', light));\n      ${a}.removeAttribute('${e}'.replace('%s', dark));`),c+=`\n      ${a}.setAttribute('${e}'.replace('%s', colorScheme), ${t?`${t}.replace('%s', colorScheme)`:'""'});`}else c+=`${a}.setAttribute('${u}', colorScheme);`;return(0,Me.jsx)("script",{suppressHydrationWarning:!0,nonce:"undefined"===typeof window?l:"",dangerouslySetInnerHTML:{__html:`(function() {\ntry {\n  let colorScheme = '';\n  const mode = localStorage.getItem('${i}') || '${t}';\n  const dark = localStorage.getItem('${o}-dark') || '${r}';\n  const light = localStorage.getItem('${o}-light') || '${n}';\n  if (mode === 'system') {\n    // handle system mode\n    const mql = window.matchMedia('(prefers-color-scheme: dark)');\n    if (mql.matches) {\n      colorScheme = dark\n    } else {\n      colorScheme = light\n    }\n  }\n  if (mode === 'light') {\n    colorScheme = light;\n  }\n  if (mode === 'dark') {\n    colorScheme = dark;\n  }\n  if (colorScheme) {\n    ${c}\n  }\n} catch(e){}})();`}},"mui-color-scheme-init")}({colorSchemeStorageKey:o,defaultLightColorScheme:p,defaultDarkColorScheme:f,modeStorageKey:r,...e})}}({themeId:Cn,theme:()=>ao({cssVariables:!0}),colorSchemeStorageKey:lo.colorSchemeStorageKey,modeStorageKey:lo.modeStorageKey,defaultColorScheme:{light:lo.defaultLightColorScheme,dark:lo.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:Mi(e.palette,e.typography)};return t.unstable_sx=function(e){return jr({sx:e,theme:this})},t}});const po=co;function fo(e){let{theme:t,...n}=e;if("function"===typeof t)return(0,Me.jsx)(En,{theme:t,...n});const r=Cn in t?t[Cn]:t;return"colorSchemes"in r?(0,Me.jsx)(po,{theme:t,...n}):"vars"in r?(0,Me.jsx)(En,{theme:t,...n}):(0,Me.jsx)(En,{theme:{...t,vars:null},...n})}function mo(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=(e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??Pr;return Object.keys(e).forEach((r=>{n[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]})),t})(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return An(e)?{...r,...e}:r}:{...r,...t},{...i,sx:o}}const go=ji();const yo=function(){return pn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:go)};const vo=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=yo(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,Me.jsx)(Lr,{styles:o})},bo=ao();const wo=function(e){return(0,Me.jsx)(vo,{...e,defaultTheme:bo,themeId:Cn})};function xo(e){return function(t){return(0,Me.jsx)(wo,{styles:"function"===typeof e?n=>e({theme:n,...t}):e})}}function So(e){return bn(e)}const ko="function"===typeof xo({}),Co=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),Eo=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),Io=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={};t&&e.colorSchemes&&"function"===typeof e.getColorSchemeSelector&&Object.entries(e.colorSchemes).forEach((t=>{let[r,i]=t;const o=e.getColorSchemeSelector(r);o.startsWith("@")?n[o]={":root":{colorScheme:i.palette?.mode}}:n[o.replace(/\s*&/,"")]={colorScheme:i.palette?.mode}}));let r={html:Co(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...Eo(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...n};const i=e.components?.MuiCssBaseline?.styleOverrides;return i&&(r=[r,i]),r},To="mui-ecs",_o=xo(ko?e=>{let{theme:t,enableColorScheme:n}=e;return Io(t,n)}:e=>{let{theme:t}=e;return(e=>{const t=Io(e,!1),n=Array.isArray(t)?t[0]:t;return!e.vars&&n&&(n.html[`:root:has(${To})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[r,i]=t;const o=e.getColorSchemeSelector(r);o.startsWith("@")?n[o]={[`:root:not(:has(.${To}))`]:{colorScheme:i.palette?.mode}}:n[o.replace(/\s*&/,"")]={[`&:not(:has(.${To}))`]:{colorScheme:i.palette?.mode}}})),t})(t)});const Ao=function(e){const t=So({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return(0,Me.jsxs)(i.Fragment,{children:[ko&&(0,Me.jsx)(_o,{enableColorScheme:r}),!ko&&!r&&(0,Me.jsx)("span",{className:To,style:{display:"none"}}),n]})};function Po(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Po(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Ro=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Po(e))&&(r&&(r+=" "),r+=t);return r},jo=e=>e,No=(()=>{let e=jo;return{configure(t){e=t},generate:t=>e(t),reset(){e=jo}}})(),Oo={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Do(e,t){const n=Oo[t];return n?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${n}`:`${No.generate(e)}-${t}`}function Mo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let e=0;e<o.length;e+=1){const r=o[e];r&&(s+=(!0===a?"":" ")+t(r),a=!1,n&&n[r]&&(s+=" "+n[r]))}r[i]=s}return r}function Lo(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?yn(t.components[n].defaultProps,r):r}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fo.apply(null,arguments)}var zo=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,$o=Wt((function(e){return zo.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Bo=function(e){return"theme"!==e},Uo=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?$o:Bo},Vo=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Wo=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Bt(t,n,r),nn((function(){return Ut(t,n,r)})),null},Ho=function e(t,n){var r,o,s=t.__emotion_real===t,a=s&&t.__emotion_base||t;void 0!==n&&(r=n.label,o=n.target);var l=Vo(t,n,s),c=l||Uo(a),u=!c("as");return function(){var d=arguments,h=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var p=d[0];h.push(p[0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],p[m])}var g=sn((function(e,t,n){var r=u&&e.as||a,s="",d=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=i.useContext(an)}"string"===typeof e.className?s=$t(t.registered,d,e.className):null!=e.className&&(s=e.className+" ");var m=en(h.concat(d),t.registered,p);s+=t.key+"-"+m.name,void 0!==o&&(s+=" "+o);var g=u&&void 0===l?Uo(r):c,y={};for(var v in e)u&&"as"===v||g(v)&&(y[v]=e[v]);return y.className=s,n&&(y.ref=n),i.createElement(i.Fragment,null,i.createElement(Wo,{cache:t,serialized:m,isStringTag:"string"===typeof r}),i.createElement(r,y))}));return g.displayName=void 0!==r?r:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,r){return e(t,Fo({},n,r,{shouldForwardProp:Vo(g,r,!0)})).apply(void 0,h)},g}}.bind(null);function qo(e,t){return Ho(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Ho[e]=Ho(e)}));const Ko=[];function Go(e){return Ko[0]=e,en(Ko)}function Qo(e){const{variants:t,...n}=e,r={variants:t,style:Go(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=Go(e.style))})),r}const Yo=ji();function Xo(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function Jo(e){return e?(t,n)=>n[e]:null}function Zo(e,t){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap((t=>Zo(e,t)));if(Array.isArray(n?.variants)){let t;if(n.isProcessed)t=n.style;else{const{variants:e,...r}=n;t=r}return es(e,n.variants,[t])}return n?.isProcessed?n.style:n}function es(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e:for(let i=0;i<t.length;i+=1){const o=t[i];if("function"===typeof o.props){if(n??={...e,...e.ownerState,ownerState:e.ownerState},!o.props(n))continue}else for(const t in o.props)if(e[t]!==o.props[t]&&e.ownerState?.[t]!==o.props[t])continue e;"function"===typeof o.style?(n??={...e,...e.ownerState,ownerState:e.ownerState},r.push(o.style(n))):r.push(o.style)}return r}function ts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Yo,rootShouldForwardProp:r=Xo,slotShouldForwardProp:i=Xo}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==jr))));const{name:n,slot:s,skipVariantsResolver:a,skipSx:l,overridesResolver:c=Jo(rs(s)),...u}=t,d=void 0!==a?a:s&&"Root"!==s&&"root"!==s||!1,h=l||!1;let p=Xo;"Root"===s||"root"===s?p=r:s?p=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(p=void 0);const f=qo(e,{shouldForwardProp:p,label:ns(n,s),...u}),m=e=>{if("function"===typeof e&&e.__emotion_real!==e)return function(t){return Zo(t,e)};if(An(e)){const t=Qo(e);return t.variants?function(e){return Zo(e,t)}:t.style}return e},g=function(){const t=[];for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=i.map(m),l=[];if(t.push(o),n&&c&&l.push((function(e){const t=e.theme,r=t.components?.[n]?.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=Zo(e,r[n]);return c(e,i)})),n&&!d&&l.push((function(e){const t=e.theme,r=t?.components?.[n]?.variants;return r?es(e,r):null})),h||l.push(jr),Array.isArray(a[0])){const e=a.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const u=[...t,...a,...l],p=f(...u);return e.muiName&&(p.muiName=e.muiName),p};return f.withConfig&&(g.withConfig=f.withConfig),g}}function ns(e,t){}function rs(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const is=ts(),os=ji(),ss=is("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Tn(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),as=e=>function(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=yo(r);return i&&(o=o[i]||o),Lo({theme:o,name:n,props:t})}({props:e,name:"MuiContainer",defaultTheme:os});const ls=Tn;const cs=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},us=e=>cs(e)&&"classes"!==e,ds=ts({themeId:Cn,defaultTheme:bo,rootShouldForwardProp:us}),hs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=ss,useThemeProps:n=as,componentName:r="MuiContainer"}=e,o=t((e=>{let{theme:t,ownerState:n}=e;return{width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}}}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:`${i}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return{..."xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},...n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`}}}})),s=i.forwardRef((function(e,t){const i=n(e),{className:s,component:a="div",disableGutters:l=!1,fixed:c=!1,maxWidth:u="lg",classes:d,...h}=i,p={...i,component:a,disableGutters:l,fixed:c,maxWidth:u},f=((e,t)=>{const{classes:n,fixed:r,disableGutters:i,maxWidth:o}=e;return Mo({root:["root",o&&`maxWidth${Tn(String(o))}`,r&&"fixed",i&&"disableGutters"]},(e=>Do(t,e)),n)})(p,r);return(0,Me.jsx)(o,{as:a,ownerState:p,className:Ro(f.root,s),ref:t,...h})}));return s}({createStyledComponent:ds("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${ls(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>So({props:e,name:"MuiContainer"})}),ps=hs,fs=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ms={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fs(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new gs;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class gs extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ys=function(e){return function(e){const t=fs(e);return ms.encodeByteArray(t,!0)}(e).replace(/\./g,"")},vs=function(e){try{return ms.decodeString(e,!0)}catch(KI){console.error("base64Decode failed: ",KI)}return null};const bs=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ws=()=>{try{return bs()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBI9pvyseKR-5dw3eXuZgTLnG3OcvNGbeI",REACT_APP_FIREBASE_APP_ID:"1:864667627333:web:1ec087179141d1e91a982c",REACT_APP_FIREBASE_AUTH_DOMAIN:"sideeye-bafda.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"864667627333",REACT_APP_FIREBASE_PROJECT_ID:"sideeye-bafda",REACT_APP_FIREBASE_STORAGE_BUCKET:"sideeye-bafda.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(KI){return}const t=e&&vs(e[1]);return t&&JSON.parse(t)})()}catch(KI){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${KI}`)}},xs=e=>{var t,n;return null===(n=null===(t=ws())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ss=e=>{const t=xs(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ks=()=>{var e;return null===(e=ws())||void 0===e?void 0:e.config},Cs=e=>{var t;return null===(t=ws())||void 0===t?void 0:t[`_${e}`]};class Es{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Is(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ys(JSON.stringify({alg:"none",type:"JWT"})),ys(JSON.stringify(o)),""].join(".")}function Ts(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _s(){return!function(){var e;const t=null===(e=ws())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(KI){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function As(){try{return"object"===typeof indexedDB}catch(KI){return!1}}class Ps extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rs.prototype.create)}}class Rs{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(js,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new Ps(n,o,t)}}const js=/\{\$([^}]+)}/g;function Ns(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Os(n)&&Os(o)){if(!Ns(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Os(e){return null!==e&&"object"===typeof e}function Ds(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ms(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ls(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Fs{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=zs),void 0===r.error&&(r.error=zs),void 0===r.complete&&(r.complete=zs);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(KI){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(KI){"undefined"!==typeof console&&console.error&&console.error(KI)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function zs(){}function $s(e){return e&&e._delegate?e._delegate:e}class Bs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Us="[DEFAULT]";class Vs{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Es;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(KI){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(KI){if(r)return null;throw KI}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch(KI){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(KI){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ws(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us;return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Ws(e){return e===Us?void 0:e}class Hs{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Vs(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const qs=[];var Ks;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ks||(Ks={}));const Gs={debug:Ks.DEBUG,verbose:Ks.VERBOSE,info:Ks.INFO,warn:Ks.WARN,error:Ks.ERROR,silent:Ks.SILENT},Qs=Ks.INFO,Ys={[Ks.DEBUG]:"log",[Ks.VERBOSE]:"log",[Ks.INFO]:"info",[Ks.WARN]:"warn",[Ks.ERROR]:"error"},Xs=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ys[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...o)};class Js{constructor(e){this.name=e,this._logLevel=Qs,this._logHandler=Xs,this._userLogHandler=null,qs.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ks))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Gs[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ks.DEBUG,...t),this._logHandler(this,Ks.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ks.VERBOSE,...t),this._logHandler(this,Ks.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ks.INFO,...t),this._logHandler(this,Ks.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ks.WARN,...t),this._logHandler(this,Ks.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ks.ERROR,...t),this._logHandler(this,Ks.ERROR,...t)}}let Zs,ea;const ta=new WeakMap,na=new WeakMap,ra=new WeakMap,ia=new WeakMap,oa=new WeakMap;let sa={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return na.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ra.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ca(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function aa(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ea||(ea=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ua(this),n),ca(ta.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ca(e.apply(ua(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(ua(this),t,...r);return ra.set(o,t.sort?t.sort():[t]),ca(o)}}function la(e){return"function"===typeof e?aa(e):(e instanceof IDBTransaction&&function(e){if(na.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));na.set(e,t)}(e),t=e,(Zs||(Zs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,sa):e);var t}function ca(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ca(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&ta.set(t,e)})).catch((()=>{})),oa.set(t,e),t}(e);if(ia.has(e))return ia.get(e);const t=la(e);return t!==e&&(ia.set(e,t),oa.set(t,e)),t}const ua=e=>oa.get(e);const da=["get","getKey","getAll","getAllKeys","count"],ha=["put","add","delete","clear"],pa=new Map;function fa(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(pa.get(t))return pa.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ha.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!da.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return pa.set(t,o),o}sa=(e=>({...e,get:(t,n,r)=>fa(t,n)||e.get(t,n,r),has:(t,n)=>!!fa(t,n)||e.has(t,n)}))(sa);class ma{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const ga="@firebase/app",ya="0.11.4",va=new Js("@firebase/app"),ba="@firebase/app-compat",wa="@firebase/analytics-compat",xa="@firebase/analytics",Sa="@firebase/app-check-compat",ka="@firebase/app-check",Ca="@firebase/auth",Ea="@firebase/auth-compat",Ia="@firebase/database",Ta="@firebase/data-connect",_a="@firebase/database-compat",Aa="@firebase/functions",Pa="@firebase/functions-compat",Ra="@firebase/installations",ja="@firebase/installations-compat",Na="@firebase/messaging",Oa="@firebase/messaging-compat",Da="@firebase/performance",Ma="@firebase/performance-compat",La="@firebase/remote-config",Fa="@firebase/remote-config-compat",za="@firebase/storage",$a="@firebase/storage-compat",Ba="@firebase/firestore",Ua="@firebase/vertexai",Va="@firebase/firestore-compat",Wa="firebase",Ha="[DEFAULT]",qa={[ga]:"fire-core",[ba]:"fire-core-compat",[xa]:"fire-analytics",[wa]:"fire-analytics-compat",[ka]:"fire-app-check",[Sa]:"fire-app-check-compat",[Ca]:"fire-auth",[Ea]:"fire-auth-compat",[Ia]:"fire-rtdb",[Ta]:"fire-data-connect",[_a]:"fire-rtdb-compat",[Aa]:"fire-fn",[Pa]:"fire-fn-compat",[Ra]:"fire-iid",[ja]:"fire-iid-compat",[Na]:"fire-fcm",[Oa]:"fire-fcm-compat",[Da]:"fire-perf",[Ma]:"fire-perf-compat",[La]:"fire-rc",[Fa]:"fire-rc-compat",[za]:"fire-gcs",[$a]:"fire-gcs-compat",[Ba]:"fire-fst",[Va]:"fire-fst-compat",[Ua]:"fire-vertex","fire-js":"fire-js",[Wa]:"fire-js-all"},Ka=new Map,Ga=new Map,Qa=new Map;function Ya(e,t){try{e.container.addComponent(t)}catch(KI){va.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,KI)}}function Xa(e){const t=e.name;if(Qa.has(t))return va.debug(`There were multiple attempts to register component ${t}.`),!1;Qa.set(t,e);for(const n of Ka.values())Ya(n,e);for(const n of Ga.values())Ya(n,e);return!0}function Ja(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Za(e){return null!==e&&void 0!==e&&void 0!==e.settings}const el=new Rs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class tl{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Bs("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw el.create("app-deleted",{appName:this._name})}}const nl="11.6.0";function rl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ha,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw el.create("bad-app-name",{appName:String(i)});if(n||(n=ks()),!n)throw el.create("no-options");const o=Ka.get(i);if(o){if(Ns(n,o.options)&&Ns(r,o.config))return o;throw el.create("duplicate-app",{appName:i})}const s=new Hs(i);for(const l of Qa.values())s.addComponent(l);const a=new tl(n,r,s);return Ka.set(i,a),a}function il(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ha;const t=Ka.get(e);if(!t&&e===Ha&&ks())return rl();if(!t)throw el.create("no-app",{appName:e});return t}function ol(e,t,n){var r;let i=null!==(r=qa[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void va.warn(e.join(" "))}Xa(new Bs(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const sl="firebase-heartbeat-store";let al=null;function ll(){return al||(al=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=ca(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(ca(s.result),e.oldVersion,e.newVersion,ca(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(sl)}catch(KI){console.warn(KI)}}}).catch((e=>{throw el.create("idb-open",{originalErrorMessage:e.message})}))),al}async function cl(e,t){try{const n=(await ll()).transaction(sl,"readwrite"),r=n.objectStore(sl);await r.put(t,ul(e)),await n.done}catch(KI){if(KI instanceof Ps)va.warn(KI.message);else{const t=el.create("idb-set",{originalErrorMessage:null===KI||void 0===KI?void 0:KI.message});va.warn(t.message)}}}function ul(e){return`${e.name}!${e.options.appId}`}class dl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pl(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hl();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(KI){va.warn(KI)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=hl(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),fl(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fl(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ys(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(KI){return va.warn(KI),""}}}function hl(){return(new Date).toISOString().substring(0,10)}class pl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!As()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ll()).transaction(sl),n=await t.objectStore(sl).get(ul(e));return await t.done,n}catch(KI){if(KI instanceof Ps)va.warn(KI.message);else{const t=el.create("idb-get",{originalErrorMessage:null===KI||void 0===KI?void 0:KI.message});va.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return cl(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return cl(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function fl(e){return ys(JSON.stringify({version:2,heartbeats:e})).length}var ml;ml="",Xa(new Bs("platform-logger",(e=>new ma(e)),"PRIVATE")),Xa(new Bs("heartbeat",(e=>new dl(e)),"PRIVATE")),ol(ga,ya,ml),ol(ga,ya,"esm2017"),ol("fire-js","");ol("firebase","11.6.0","app");function gl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function yl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vl=yl,bl=new Rs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wl=new Js("@firebase/auth");function xl(e){if(wl.logLevel<=Ks.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wl.error(`Auth (${nl}): ${e}`,...n)}}function Sl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Il(e,...n)}function kl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Il(e,...n)}function Cl(e,t,n){const r=Object.assign(Object.assign({},vl()),{[t]:n});return new Rs("auth","Firebase",r).create(t,{appName:e.name})}function El(e){return Cl(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Il(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return bl.create(e,...n)}function Tl(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Il(t,...r)}}function _l(e){const t="INTERNAL ASSERTION FAILED: "+e;throw xl(t),new Error(t)}function Al(e,t){e||_l(t)}function Pl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Rl(){return"http:"===jl()||"https:"===jl()}function jl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Nl(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Rl()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ol{constructor(e,t){this.shortDelay=e,this.longDelay=t,Al(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ts())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Nl()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dl(e,t){Al(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Ml{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void _l("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void _l("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void _l("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ll={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Fl=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zl=new Ol(3e4,6e4);function $l(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Bl(e,t,n,r){return Ul(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Ds(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Ml.fetch()(await Wl(e,e.config.apiHost,n,s),l)}))}async function Ul(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ll),t);try{const t=new ql(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Kl(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Kl(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Kl(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Kl(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Cl(e,a,s);Sl(e,a)}}catch(KI){if(KI instanceof Ps)throw KI;Sl(e,"network-request-failed",{message:String(KI)})}}async function Vl(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Bl(e,t,n,r,i);return"mfaPendingCredential"in o&&Sl(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function Wl(e,t,n,r){const i=`${t}${n}?${r}`,o=e,s=o.config.emulator?Dl(e.config,i):`${e.config.apiScheme}://${i}`;if(Fl.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function Hl(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ql{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(kl(this.auth,"network-request-failed"))),zl.get())}))}}function Kl(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kl(e,t,r);return i.customData._tokenResponse=n,i}function Gl(e){return void 0!==e&&void 0!==e.getResponse}function Ql(e){return void 0!==e&&void 0!==e.enterprise}class Yl{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Hl(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Xl(e,t){return Bl(e,"GET","/v2/recaptchaConfig",$l(e,t))}async function Jl(e,t){return Bl(e,"POST","/v1/accounts:lookup",t)}function Zl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(KI){}}function ec(e){return 1e3*Number(e)}function tc(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return xl("JWT malformed, contained fewer than 3 sections"),null;try{const e=vs(n);return e?JSON.parse(e):(xl("Failed to decode base64 JWT payload"),null)}catch(KI){return xl("Caught error parsing JWT payload as JSON",null===KI||void 0===KI?void 0:KI.toString()),null}}function nc(e){const t=tc(e);return Tl(t,"internal-error"),Tl("undefined"!==typeof t.exp,"internal-error"),Tl("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function rc(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(KI){throw KI instanceof Ps&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(KI)&&e.auth.currentUser===e&&await e.auth.signOut(),KI}}class ic{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(KI){return void("auth/network-request-failed"===(null===KI||void 0===KI?void 0:KI.code)&&this.schedule(!0))}this.schedule()}}class oc{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sc(e){var t;const n=e.auth,r=await e.getIdToken(),i=await rc(e,Jl(n,{idToken:r}));Tl(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?ac(o.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new oc(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function ac(e){return e.map((e=>{var{providerId:t}=e,n=gl(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tl(e.idToken,"internal-error"),Tl("undefined"!==typeof e.idToken,"internal-error"),Tl("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):nc(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Tl(0!==e.length,"internal-error");const t=nc(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Tl(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ul(e,{},(async()=>{const n=Ds({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await Wl(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Ml.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new lc;return n&&(Tl("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Tl("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Tl("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lc,this.toJSON())}_performRefresh(){return _l("not implemented")}}function cc(e,t){Tl("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class uc{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=gl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ic(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new oc(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await rc(this,this.stsTokenManager.getToken(this.auth,e));return Tl(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=$s(e),r=await n.getIdToken(t),i=tc(r);Tl(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Zl(ec(i.auth_time)),issuedAtTime:Zl(ec(i.iat)),expirationTime:Zl(ec(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=$s(e);await sc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Tl(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new uc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Tl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await sc(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Za(this.auth.app))return Promise.reject(El(this.auth));const e=await this.getIdToken();return await rc(this,async function(e,t){return Bl(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;Tl(v&&S,e,"internal-error");const k=lc.fromJSON(this.name,S);Tl("string"===typeof v,e,"internal-error"),cc(u,e.name),cc(d,e.name),Tl("boolean"===typeof b,e,"internal-error"),Tl("boolean"===typeof w,e,"internal-error"),cc(h,e.name),cc(p,e.name),cc(f,e.name),cc(m,e.name),cc(g,e.name),cc(y,e.name);const C=new uc({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(C.providerData=x.map((e=>Object.assign({},e)))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new lc;r.updateFromServerResponse(t);const i=new uc({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await sc(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Tl(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ac(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new lc;s.updateFromIdToken(n);const a=new uc({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new oc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const dc=new Map;function hc(e){Al(e instanceof Function,"Expected a class definition");let t=dc.get(e);return t?(Al(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,dc.set(e,t),t)}class pc{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pc.type="NONE";const fc=pc;function mc(e,t,n){return`firebase:${e}:${t}:${n}`}class gc{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=mc(this.userKey,r.apiKey,i),this.fullPersistenceKey=mc("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Jl(this.auth,{idToken:e}).catch((()=>{}));return t?uc._fromGetAccountInfoResponse(this.auth,t,e):null}return uc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new gc(hc(fc),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||hc(fc);const o=mc(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await Jl(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await uc._fromGetAccountInfoResponse(e,r,t)}else n=uc._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new gc(i,e,n)):new gc(i,e,n)}}function yc(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kc(t))return"Blackberry";if(Cc(t))return"Webos";if(bc(t))return"Safari";if((t.includes("chrome/")||wc(t))&&!t.includes("edge/"))return"Chrome";if(Sc(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function vc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/firefox\//i.test(e)}function bc(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/crios\//i.test(e)}function xc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/iemobile/i.test(e)}function Sc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/android/i.test(e)}function kc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/blackberry/i.test(e)}function Cc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/webos/i.test(e)}function Ec(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ic(){return function(){const e=Ts();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Tc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return Ec(e)||Sc(e)||Cc(e)||kc(e)||/windows phone/i.test(e)||xc(e)}function _c(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=yc(Ts());break;case"Worker":t=`${yc(Ts())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${nl}/${r}`}class Ac{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(KI){r(KI)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(KI){t.reverse();for(const n of t)try{n()}catch(PT){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===KI||void 0===KI?void 0:KI.message})}}}class Pc{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Rc{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nc(this),this.idTokenSubscription=new Nc(this),this.beforeStateQueue=new Ac(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hc(t)),this._initializationPromise=this.queue((async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await gc.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(KI){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Jl(this,{idToken:e}),n=await uc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Za(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(KI){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(KI)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tl(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(KI){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sc(e)}catch(KI){if("auth/network-request-failed"!==(null===KI||void 0===KI?void 0:KI.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Za(this.app))return Promise.reject(El(this));const t=e?$s(e):null;return t&&Tl(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Tl(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Za(this.app)?Promise.reject(El(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Za(this.app)?Promise.reject(El(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(hc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Bl(e,"GET","/v2/passwordPolicy",$l(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Pc(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rs("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Bl(e,"POST","/v2/accounts:revokeToken",$l(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hc(e)||this._popupRedirectResolver;Tl(t,this,"argument-error"),this.redirectPersistenceManager=await gc.create(this,[hc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tl(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tl(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_c(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Za(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(wl.logLevel<=Ks.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wl.warn(`Auth (${nl}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function jc(e){return $s(e)}class Nc{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Fs(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Tl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Oc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dc(e){return Oc.loadJS(e)}function Mc(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Lc=1e12;class Fc{constructor(e){this.auth=e,this.counter=Lc,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Bc(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Lc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Lc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Lc;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class zc{constructor(){this.enterprise=new $c}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $c{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Bc{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Tl(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(KI){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(KI){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Uc="NO_RECAPTCHA";class Vc{constructor(e){this.type="recaptcha-enterprise",this.auth=jc(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ql(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Uc)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new zc).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Xl(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Yl(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ql(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Oc.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Dc(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Wc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Vc(e);let s;if(i)s=Uc;else try{s=await o.verify(n)}catch(l){s=await o.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Hc(e,t,n,r,i){var o,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Wc(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Wc(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await Wc(e,t,n);return r(e,i).catch((async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Wc(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Wc(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function qc(e){const t=jc(e),n=await Xl(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Yl(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Vc(t).verify()}}function Kc(e,t,n){const r=jc(e);Tl(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Gc(t),{host:s,port:a}=function(e){const t=Gc(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Qc(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Qc(t)}}}(t),l={url:`${o}//${s}${null===a?"":`:${a}`}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Tl(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Tl(Ns(l,r.config.emulator)&&Ns(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Gc(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qc(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Yc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _l("not implemented")}_getIdTokenResponse(e){return _l("not implemented")}_linkToIdToken(e,t){return _l("not implemented")}_getReauthenticationResolver(e){return _l("not implemented")}}async function Xc(e,t){return Bl(e,"POST","/v1/accounts:signUp",t)}async function Jc(e,t){return Vl(e,"POST","/v1/accounts:signInWithPassword",$l(e,t))}async function Zc(e,t){return Bl(e,"POST","/v1/accounts:sendOobCode",$l(e,t))}async function eu(e,t){return Zc(e,t)}class tu extends Yc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new tu(e,t,"password")}static _fromEmailAndCode(e,t){return new tu(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Hc(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Jc,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Vl(e,"POST","/v1/accounts:signInWithEmailLink",$l(e,t))}(e,{email:this._email,oobCode:this._password});default:Sl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Hc(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xc,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Vl(e,"POST","/v1/accounts:signInWithEmailLink",$l(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Sl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function nu(e,t){return Vl(e,"POST","/v1/accounts:signInWithIdp",$l(e,t))}class ru extends Yc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ru(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=gl(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new ru(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return nu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,nu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nu(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ds(t)}return e}}async function iu(e,t){return Bl(e,"POST","/v1/accounts:sendVerificationCode",$l(e,t))}const ou={USER_NOT_FOUND:"user-not-found"};class su extends Yc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new su({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new su({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Vl(e,"POST","/v1/accounts:signInWithPhoneNumber",$l(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Vl(e,"POST","/v1/accounts:signInWithPhoneNumber",$l(e,t));if(n.temporaryProof)throw Kl(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Vl(e,"POST","/v1/accounts:signInWithPhoneNumber",$l(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ou)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new su({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class au{constructor(e){var t,n,r,i,o,s;const a=Ms(Ls(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Tl(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Ms(Ls(e)).link,n=t?Ms(Ls(t)).deep_link_id:null,r=Ms(Ls(e)).deep_link_id;return(r?Ms(Ls(r)).link:null)||r||n||t||e}(e);try{return new au(t)}catch(n){return null}}}class lu{constructor(){this.providerId=lu.PROVIDER_ID}static credential(e,t){return tu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=au.parseLink(t);return Tl(n,"argument-error"),tu._fromEmailAndCode(e,n.code,n.tenantId)}}lu.PROVIDER_ID="password",lu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uu extends cu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class du extends uu{constructor(){super("facebook.com")}static credential(e){return ru._fromParams({providerId:du.PROVIDER_ID,signInMethod:du.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return du.credentialFromTaggedObject(e)}static credentialFromError(e){return du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return du.credential(t.oauthAccessToken)}catch(n){return null}}}du.FACEBOOK_SIGN_IN_METHOD="facebook.com",du.PROVIDER_ID="facebook.com";class hu extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ru._fromParams({providerId:hu.PROVIDER_ID,signInMethod:hu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hu.credentialFromTaggedObject(e)}static credentialFromError(e){return hu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return hu.credential(n,r)}catch(i){return null}}}hu.GOOGLE_SIGN_IN_METHOD="google.com",hu.PROVIDER_ID="google.com";class pu extends uu{constructor(){super("github.com")}static credential(e){return ru._fromParams({providerId:pu.PROVIDER_ID,signInMethod:pu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pu.credentialFromTaggedObject(e)}static credentialFromError(e){return pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return pu.credential(t.oauthAccessToken)}catch(n){return null}}}pu.GITHUB_SIGN_IN_METHOD="github.com",pu.PROVIDER_ID="github.com";class fu extends uu{constructor(){super("twitter.com")}static credential(e,t){return ru._fromParams({providerId:fu.PROVIDER_ID,signInMethod:fu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fu.credentialFromTaggedObject(e)}static credentialFromError(e){return fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fu.credential(n,r)}catch(i){return null}}}async function mu(e,t){return Vl(e,"POST","/v1/accounts:signUp",$l(e,t))}fu.TWITTER_SIGN_IN_METHOD="twitter.com",fu.PROVIDER_ID="twitter.com";class gu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await uc._fromIdTokenResponse(e,n,r),o=yu(n);return new gu({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=yu(n);return new gu({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function yu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vu extends Ps{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vu.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vu(e,t,n,r)}}function bu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw vu._fromErrorAndOperation(e,n,t,r);throw n}))}async function wu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await rc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gu._forOperation(e,"link",r)}async function xu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Za(r.app))return Promise.reject(El(r));const i="reauthenticate";try{const o=await rc(e,bu(r,i,t,e),n);Tl(o.idToken,r,"internal-error");const s=tc(o.idToken);Tl(s,r,"internal-error");const{sub:a}=s;return Tl(e.uid===a,r,"user-mismatch"),gu._forOperation(e,i,o)}catch(KI){throw"auth/user-not-found"===(null===KI||void 0===KI?void 0:KI.code)&&Sl(r,"user-mismatch"),KI}}async function Su(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Za(e.app))return Promise.reject(El(e));const r="signIn",i=await bu(e,r,t),o=await gu._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function ku(e,t){return Su(jc(e),t)}class Cu{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Eu._fromServerResponse(e,t):"totpInfo"in t?Iu._fromServerResponse(e,t):Sl(e,"internal-error")}}class Eu extends Cu{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Eu(t)}}class Iu extends Cu{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Iu(t)}}function Tu(e,t,n){var r;Tl((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Tl("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Tl("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Tl(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Tl(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function _u(e){const t=jc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Au(e,t){await async function(e,t){return Bl(e,"POST","/v1/accounts:update",$l(e,t))}($s(e),{oobCode:t})}function Pu(e,t,n){return Za(e.app)?Promise.reject(El(e)):ku($s(e),lu.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&_u(e),t}))}async function Ru(e,t){const n=$s(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Tu(n.auth,r,t);const{email:i}=await async function(e,t){return Zc(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function ju(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=$s(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await rc(i,async function(e,t){return Bl(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function Nu(e,t,n,r){return $s(e).onAuthStateChanged(t,n,r)}class Ou{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Ou("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ou("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Ou._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Ou._fromIdtoken(e.multiFactorSession.idToken)}return null}}function Du(e,t){return Bl(e,"POST","/v2/accounts/mfaEnrollment:start",$l(e,t))}class Mu{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Cu._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Mu(e)}async getSession(){return Ou._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await rc(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await rc(this.user,function(e,t){return Bl(e,"POST","/v2/accounts/mfaEnrollment:withdraw",$l(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(KI){throw KI}}}const Lu=new WeakMap;function Fu(e){const t=$s(e);return Lu.has(t)||Lu.set(t,Mu._fromUser(t)),Lu.get(t)}const zu="__sak";class $u{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zu,"1"),this.storage.removeItem(zu),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Bu extends $u{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tc(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ic()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bu.type="LOCAL";const Uu=Bu;function Vu(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function Wu(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Hu{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Wu(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Vu(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Wu(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=Wu(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Vu(n);const i=setInterval((()=>{const e=Vu(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(i)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Hu.type="COOKIE";class qu extends $u{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qu.type="SESSION";const Ku=qu;class Gu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Gu(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Qu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Gu.receivers=[];class Yu{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Qu("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Xu(){return window}function Ju(){return"undefined"!==typeof Xu().WorkerGlobalScope&&"function"===typeof Xu().importScripts}const Zu="firebaseLocalStorageDb",ed="firebaseLocalStorage",td="fbase_key";class nd{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function rd(e,t){return e.transaction([ed],t?"readwrite":"readonly").objectStore(ed)}function id(){const e=indexedDB.open(Zu,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ed,{keyPath:td})}catch(KI){n(KI)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ed)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Zu);return new nd(e).toPromise()}(),t(await id()))}))}))}async function od(e,t,n){const r=rd(e,!0).put({[td]:t,value:n});return new nd(r).toPromise()}function sd(e,t){const n=rd(e,!0).delete(t);return new nd(n).toPromise()}class ad{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await id()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(KI){if(t++>3)throw KI;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ju()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gu._getInstance(Ju()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Yu(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await id();return await od(e,zu,"1"),await sd(e,zu),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>od(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=rd(e,!1).get(t),r=await new nd(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>sd(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=rd(e,!1).getAll();return new nd(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ad.type="LOCAL";const ld=ad;function cd(e,t){return Bl(e,"POST","/v2/accounts/mfaSignIn:start",$l(e,t))}const ud=Mc("rcb"),dd=new Ol(3e4,6e4);class hd{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Xu().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Tl(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Gl(Xu().grecaptcha)?Promise.resolve(Xu().grecaptcha):new Promise(((n,r)=>{const i=Xu().setTimeout((()=>{r(kl(e,"network-request-failed"))}),dd.get());Xu()[ud]=()=>{Xu().clearTimeout(i),delete Xu()[ud];const o=Xu().grecaptcha;if(!o||!Gl(o))return void r(kl(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};Dc(`${Oc.recaptchaV2Script}?${Ds({onload:ud,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(kl(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Xu().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pd{async load(e){return new Fc(e)}clearedOneInstance(){}}const fd="recaptcha",md={theme:"light",type:"image"};class gd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},md);this.parameters=n,this.type=fd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jc(e),this.isInvisible="invisible"===this.parameters.size,Tl("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Tl(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pd:new hd,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(KI){return Promise.reject(KI)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Tl(!this.parameters.sitekey,this.auth,"argument-error"),Tl(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Tl("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Xu()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Tl(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Tl(Rl()&&!Ju(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Bl(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Tl(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Tl(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}async function yd(e,t,n){var r;if(!e._getRecaptchaConfig())try{await qc(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Tl("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Hc(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Uc){Tl((null===n||void 0===n?void 0:n.type)===fd,e,"argument-error");return Du(e,await vd(e,t,n))}return Du(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Tl("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Tl(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Hc(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Uc){Tl((null===n||void 0===n?void 0:n.type)===fd,e,"argument-error");return cd(e,await vd(e,t,n))}return cd(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Hc(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Uc){Tl((null===n||void 0===n?void 0:n.type)===fd,e,"argument-error");return iu(e,await vd(e,t,n))}return iu(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function vd(e,t,n){Tl(n.type===fd,e,"argument-error");const r=await n.verify();Tl("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class bd{constructor(e){this.providerId=bd.PROVIDER_ID,this.auth=jc(e)}verifyPhoneNumber(e,t){return yd(this.auth,e,$s(t))}static credential(e,t){return su._fromVerification(e,t)}static credentialFromResult(e){const t=e;return bd.credentialFromTaggedObject(t)}static credentialFromError(e){return bd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?su._fromTokenResponse(n,r):null}}function wd(e,t){return t?hc(t):(Tl(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}bd.PROVIDER_ID="phone",bd.PHONE_SIGN_IN_METHOD="phone";class xd extends Yc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Sd(e){return Su(e.auth,new xd(e),e.bypassAuthState)}function kd(e){const{auth:t,user:n}=e;return Tl(n,t,"internal-error"),xu(n,new xd(e),e.bypassAuthState)}async function Cd(e){const{auth:t,user:n}=e;return Tl(n,t,"internal-error"),wu(n,new xd(e),e.bypassAuthState)}class Ed{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(KI){this.reject(KI)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(KI){this.reject(KI)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sd;case"linkViaPopup":case"linkViaRedirect":return Cd;case"reauthViaPopup":case"reauthViaRedirect":return kd;default:Sl(this.auth,"internal-error")}}resolve(e){Al(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Al(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Id=new Ol(2e3,1e4);class Td extends Ed{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Td.currentPopupAction&&Td.currentPopupAction.cancel(),Td.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tl(e,this.auth,"internal-error"),e}async onExecution(){Al(1===this.filter.length,"Popup operations only handle one event");const e=Qu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(kl(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(kl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Td.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(kl(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Id.get())};e()}}Td.currentPopupAction=null;const _d=new Map;class Ad extends Ed{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=jd(t),r=Rd(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(KI){e=()=>Promise.reject(KI)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Pd(e,t){_d.set(e._key(),t)}function Rd(e){return hc(e._redirectPersistence)}function jd(e){return mc("pendingRedirect",e.config.apiKey,e.name)}async function Nd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Za(e.app))return Promise.reject(El(e));const r=jc(e),i=wd(r,t),o=new Ad(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Od{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Md(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Md(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(kl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dd(e))}saveEventToCache(e){this.cachedEventUids.add(Dd(e)),this.lastProcessedEventTime=Date.now()}}function Dd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Md(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Ld=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fd=/^https?/;async function zd(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Bl(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if($d(r))return}catch(n){}Sl(e,"unauthorized-domain")}function $d(e){const t=Pl(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Fd.test(n))return!1;if(Ld.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Bd=new Ol(3e4,6e4);function Ud(){const e=Xu().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Vd(e){return new Promise(((t,n)=>{var r,i,o;function s(){Ud(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ud(),n(kl(e,"network-request-failed"))},timeout:Bd.get()})}if(null===(i=null===(r=Xu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Xu().gapi)||void 0===o?void 0:o.load)){const t=Mc("iframefcb");return Xu()[t]=()=>{gapi.load?s():n(kl(e,"network-request-failed"))},Dc(`${Oc.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Wd=null,e}))}let Wd=null;const Hd=new Ol(5e3,15e3),qd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gd(e){const t=e.config;Tl(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Dl(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:nl},i=Kd.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ds(r).slice(1)}`}async function Qd(e){const t=await function(e){return Wd=Wd||Vd(e),Wd}(e),n=Xu().gapi;return Tl(n,e,"internal-error"),t.open({where:document.body,url:Gd(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qd,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=kl(e,"network-request-failed"),o=Xu().setTimeout((()=>{r(i)}),Hd.get());function s(){Xu().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Yd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(KI){}}}function Jd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Yd),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Ts().toLowerCase();n&&(a=wc(c)?"_blank":n),vc(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Ec(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Xd(null);const d=window.open(t||"",a,u);Tl(d,e,"popup-blocked");try{d.focus()}catch(KI){}return new Xd(d)}const Zd="__/auth/handler",eh="emulator/auth/handler",th=encodeURIComponent("fac");async function nh(e,t,n,r,i,o){Tl(e.config.authDomain,e,"auth-domain-config-required"),Tl(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nl,eventId:i};if(t instanceof cu){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof uu){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${th}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Zd}`;return Dl(t,eh)}(e)}?${Ds(a).slice(1)}${c}`}const rh="webStorageSupport";const ih=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ku,this._completeRedirectFn=Nd,this._overrideRedirectResult=Pd}async _openPopup(e,t,n,r){var i;Al(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Jd(e,await nh(e,t,n,Pl(),r),Qu())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Xu().location.href=e}(await nh(e,t,n,Pl(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Al(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Qd(e),n=new Od(e);return t.register("authEvent",(t=>{Tl(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rh,{type:rh},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[rh];void 0!==i&&t(!!i),Sl(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zd(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tc()||bc()||Ec()}};class oh{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return _l("unexpected MultiFactorSessionType")}}}class sh extends oh{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new sh(e)}_finalizeEnroll(e,t,n){return function(e,t){return Bl(e,"POST","/v2/accounts/mfaEnrollment:finalize",$l(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Bl(e,"POST","/v2/accounts/mfaSignIn:finalize",$l(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ah{constructor(){}static assertion(e){return sh._fromCredential(e)}}ah.FACTOR_ID="phone";var lh="@firebase/auth",ch="1.10.0";class uh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Tl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const dh=Cs("authIdTokenMaxAge")||300;let hh=null;var ph;!function(e){Oc=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=kl("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),ph="Browser",Xa(new Bs("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Tl(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:ph,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_c(ph)},c=new Rc(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Xa(new Bs("auth-internal",(e=>(e=>new uh(e))(jc(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ol(lh,ch,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ph)),ol(lh,ch,"esm2017");var fh,mh,gh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},yh={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=p(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=s(n)).j(t);d(c)||0<c.l(e);)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=p(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=p(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,p=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=p*g,f(n,2*i+2*o),n[2*i+2*o+1]+=l*g,f(n,2*i+2*o+1),n[2*i+2*o+1]+=p*m,f(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,f(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,mh=yh.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},fh=yh.Integer=r}).apply("undefined"!==typeof gh?gh:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var vh,bh,wh,xh,Sh,kh,Ch,Eh,Ih="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Th={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ih&&Ih];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout((()=>{throw e}),0)}function C(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new I),(e=>e.reset()));class I{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,_=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(R)}};var R=()=>{for(var e;e=C();){try{e.h.call(e.g)}catch(ZI){k(ZI)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function j(){this.s=this.s,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(ZI){}return e}();function D(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(iT){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,N);var M={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function $(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function U(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&($(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=V(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new z(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function q(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,s(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new B(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,s(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(o=e.g[t],n,r,i))&&($(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])U(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(U(n,e),0==n.h&&(n.src=null,t[W]=null)):$(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){j.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;x(t=new N(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(s=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&U(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,j),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends j{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){j.call(this),this.h=e,this.g={}}d(le,j);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,pe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function fe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){N.call(this,"d")}function be(){N.call(this,"c")}d(ve,N),d(be,N);var we={},xe=null;function Se(){return xe=xe||new ne}function ke(e){N.call(this,we.La,e)}function Ce(e){const t=Se();re(t,new ke(t))}function Ee(e,t){N.call(this,we.STAT_EVENT,e),this.stat=t}function Ie(e){const t=Se();re(t,new Ee(t,e))}function Te(e,t){N.call(this,we.Ma,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(ke,N),we.STAT_EVENT="statevent",d(Ee,N),we.Ma="timingevent",d(Te,N),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Re,je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(Oe,fe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Re=new Oe;var Le={},Fe={};function ze(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,$e(e,null)}function $e(e,t){e.F=Date.now(),Ve(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var s=q(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ce(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ue(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||an(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(QI){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Qt(n)}nn(n),Ie(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=_e(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(QI){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&sn(n),!f(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(He(a),Ve(a)),r.g=s}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ce()}catch(QI){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=h||7==t||Ce(),He(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Ht(this.g);e="";var o=r.length,s=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),qe(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ie(12),Ke(this),qe(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ue(this,a),e==Fe){4==h&&(this.s=4,Ie(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ie(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ge(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Ie(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),rn(d),d.M=!0,Ie(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),qe(this)}else Pe(this.i,this.l,a,null),Ge(this,a);4==h&&Ke(this),this.o&&!this.J&&(4==h?an(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ie(12)):(this.s=0,Ie(13)),Ke(this),qe(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,Ke(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ce(),Ie(17)),Ke(this),this.s=2,qe(this)):We(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function st(e){return new ot(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Ct(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,vt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){xt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return xt(e),t=Et(e,t),e.g.has(t)}function Ct(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),h(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function It(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(iT){}}function Tt(){this.g=new pe}function _t(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;s(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(KI){throw t.push(r+"type="+encodeURIComponent("_badmap")),KI}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Nt(e)}function Nt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,kt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(At,fe),At.prototype.g=function(){return new Pt(this.l,this.j)},At.prototype.i=function(e){return function(){return e}}({}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Nt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nt(this)),this.g&&(this.readyState=3,Nt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):Nt(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Qa=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),Ut(e)}function $t(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!Lt.test(s?s.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",$t(e)}}finally{Ut(e)}}}function Ut(e,t){if(e.g){Vt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(KI){}}}function Vt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ah){return null}}function qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qt("baseRetryDelayMs",5e3,e),this.cb=qt("retryDelaySeedMs",1e4,e),this.Wa=qt("forwardChannelMaxRetries",2,e),this.wa=qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Yt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(rT){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}un(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Yt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||P(),_||(T(),_=!0),A.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function Zt(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{_t(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||P(),_||(T(),_=!0),A.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,$e(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function an(e,t){var n=null;if(e.g==t){sn(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Te(r,n)),Xt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=_e(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=u(It,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(It,n,"TestLoadImage: error",!1,t,r),r.onabort=u(It,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(It,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),It(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?It(0,0,!0,t):It(0,0,!1,t)})).catch((()=>{clearTimeout(r),It(0,0,!1,t)}))}(r.toString(),n)}else Ie(2);e.G=0,e.l&&e.l.sa(t),un(e),Yt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof ot?st(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new ot(null);r&&at(s,r),t&&(s.g=t),o&&lt(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new At({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function fn(){}function mn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?me(this.o):me(Re),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(iT){return void zt(this,iT)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(iT){zt(this,iT)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ut(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ut(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(YI){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(YI){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ie(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),x(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Ot(o)))+"&"+t:this.m&&Dt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,ze(i,n,null)):ze(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ie(10),Qt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),Ie(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Gt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,pn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Eh=Th.createWebChannelTransport=function(){return new fn},Ch=Th.getStatEventTarget=function(){return Se()},kh=Th.Event=we,Sh=Th.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,xh=Th.ErrorCode=je,Ne.COMPLETE="complete",wh=Th.EventType=Ne,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,bh=Th.WebChannel=ge,Th.FetchXmlHttpFactory=At,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,vh=Th.XhrIo=Mt}).apply("undefined"!==typeof Ih?Ih:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const _h="@firebase/firestore",Ah="4.7.10";class Ph{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ph.UNAUTHENTICATED=new Ph(null),Ph.GOOGLE_CREDENTIALS=new Ph("google-credentials-uid"),Ph.FIRST_PARTY=new Ph("first-party-uid"),Ph.MOCK_USER=new Ph("mock-user");let Rh="11.5.0";const jh=new Js("@firebase/firestore");function Nh(){return jh.logLevel}function Oh(e){if(jh.logLevel<=Ks.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Lh);jh.debug(`Firestore (${Rh}): ${e}`,...i)}}function Dh(e){if(jh.logLevel<=Ks.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Lh);jh.error(`Firestore (${Rh}): ${e}`,...i)}}function Mh(e){if(jh.logLevel<=Ks.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Lh);jh.warn(`Firestore (${Rh}): ${e}`,...i)}}function Lh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(GI){return e}}function Fh(){const e=`FIRESTORE (${Rh}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Dh(e),new Error(e)}function zh(e,t){e||Fh()}function $h(e,t){return e}const Bh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Uh extends Ps{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vh{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Wh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ph.UNAUTHENTICATED)))}shutdown(){}}class qh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Kh{constructor(e){this.t=e,this.currentUser=Ph.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){zh(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Vh;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vh,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Oh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Oh("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vh)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Oh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(zh("string"==typeof t.accessToken),new Wh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zh(null===e||"string"==typeof e),new Ph(e)}}class Gh{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ph.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Qh{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Gh(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ph.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xh{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Za(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){zh(void 0===this.o);const n=e=>{null!=e.error&&Oh("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Oh("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Oh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Oh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Yh(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(zh("string"==typeof e.token),this.R=e.token,new Yh(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Jh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Zh(){return new TextEncoder}class ep{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Jh(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function tp(e,t){return e<t?-1:e>t?1:0}function np(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return tp(r,i);{const o=Zh(),s=ip(o.encode(rp(e,n)),o.encode(rp(t,n)));return 0!==s?s:tp(r,i)}}n+=r>65535?2:1}return tp(e.length,t.length)}function rp(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ip(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return tp(e[n],t[n]);return tp(e.length,t.length)}function op(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function sp(e){return e+"\0"}const ap=-62135596800,lp=1e6;class cp{static now(){return cp.fromMillis(Date.now())}static fromDate(e){return cp.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*lp);return new cp(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Uh(Bh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Uh(Bh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ap)throw new Uh(Bh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Uh(Bh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lp}_compareTo(e){return this.seconds===e.seconds?tp(this.nanoseconds,e.nanoseconds):tp(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ap;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class up{static fromTimestamp(e){return new up(e)}static min(){return new up(new cp(0,0))}static max(){return new up(new cp(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const dp="__name__";class hp{constructor(e,t,n){void 0===t?t=0:t>e.length&&Fh(),void 0===n?n=e.length-t:n>e.length-t&&Fh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===hp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hp?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=hp.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return tp(e.length,t.length)}static compareSegments(e,t){const n=hp.isNumericId(e),r=hp.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?hp.extractNumericId(e).compare(hp.extractNumericId(t)):np(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fh.fromString(e.substring(4,e.length-2))}}class pp extends hp{construct(e,t,n){return new pp(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Uh(Bh.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new pp(e)}static emptyPath(){return new pp([])}}const fp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mp extends hp{construct(e,t,n){return new mp(e,t,n)}static isValidIdentifier(e){return fp.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mp.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===dp}static keyField(){return new mp([dp])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Uh(Bh.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Uh(Bh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Uh(Bh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Uh(Bh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mp(t)}static emptyPath(){return new mp([])}}class gp{constructor(e){this.path=e}static fromPath(e){return new gp(pp.fromString(e))}static fromName(e){return new gp(pp.fromString(e).popFirst(5))}static empty(){return new gp(pp.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pp.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pp.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gp(new pp(e.slice()))}}const yp=-1;class vp{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function bp(e){return e.fields.find((e=>2===e.kind))}function wp(e){return e.fields.filter((e=>2!==e.kind))}vp.UNKNOWN_ID=-1;class xp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Sp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Sp(0,Ep.min())}}function kp(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=up.fromTimestamp(1e9===r?new cp(n+1,0):new cp(n,r));return new Ep(i,gp.empty(),t)}function Cp(e){return new Ep(e.readTime,e.key,yp)}class Ep{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ep(up.min(),gp.empty(),yp)}static max(){return new Ep(up.max(),gp.empty(),yp)}}function Ip(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=gp.comparator(e.documentKey,t.documentKey),0!==n?n:tp(e.largestBatchId,t.largestBatchId))}const Tp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _p{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ap(e){if(e.code!==Bh.FAILED_PRECONDITION||e.message!==Tp)throw e;Oh("LocalStore","Unexpectedly lost primary lease")}class Pp{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pp(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Pp?t:Pp.resolve(t)}catch(e){return Pp.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Pp.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Pp.reject(t)}static resolve(e){return new Pp(((t,n)=>{t(e)}))}static reject(e){return new Pp(((t,n)=>{n(e)}))}static waitFor(e){return new Pp(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Pp.resolve(!1);for(const n of e)t=t.next((e=>e?Pp.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Pp(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Pp(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}const Rp="SimpleDb";class jp{static open(e,t,n,r){try{return new jp(t,e.transaction(r,n))}catch(e){throw new Mp(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Vh,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Mp(e,t.error)):this.m.resolve()},this.transaction.onerror=t=>{const n=Bp(t.target.error);this.m.reject(new Mp(e,n))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(Oh(Rp,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Fp(t)}}class Np{static delete(e){return Oh(Rp,"Removing database:",e),zp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!As())return!1;if(Np.v())return!0;const e=Ts(),t=Np.C(e),n=0<t&&t<10,r=Op(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static v(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.O=n,12.2===Np.C(Ts())&&Dh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(Oh(Rp,"Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Mp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Uh(Bh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Uh(Bh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Mp(e,r))},r.onupgradeneeded=e=>{Oh(Rp,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.O.B(t,r.transaction,e.oldVersion,this.version).next((()=>{Oh(Rp,"Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.N(e);const t=jp.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.S(),e))).catch((e=>(t.abort(e),Pp.reject(e)))).toPromise();return o.catch((()=>{})),await t.p,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Oh(Rp,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Op(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Dp{constructor(e){this.q=e,this.$=!1,this.U=null}get isDone(){return this.$}get K(){return this.U}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.U=e}delete(){return zp(this.q.delete())}}class Mp extends Uh{constructor(e,t){super(Bh.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Lp(e){return"IndexedDbTransactionError"===e.name}class Fp{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Oh(Rp,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(Oh(Rp,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zp(n)}add(e){return Oh(Rp,"ADD",this.store.name,e,e),zp(this.store.add(e))}get(e){return zp(this.store.get(e)).next((t=>(void 0===t&&(t=null),Oh(Rp,"GET",this.store.name,e,t),t)))}delete(e){return Oh(Rp,"DELETE",this.store.name,e),zp(this.store.delete(e))}count(){return Oh(Rp,"COUNT",this.store.name),zp(this.store.count())}G(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Pp(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.j(e,((e,n)=>{t.push(n)})).next((()=>t))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Pp(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){Oh(Rp,"DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.j(r,((e,t,n)=>n.delete()))}Z(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.j(r,t)}X(e){const t=this.cursor({});return new Pp(((n,r)=>{t.onerror=e=>{const t=Bp(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}j(e,t){const n=[];return new Pp(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Dp(i),s=t(i.primaryKey,i.value,o);if(s instanceof Pp){const e=s.catch((e=>(o.done(),Pp.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>Pp.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zp(e){return new Pp(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Bp(e.target.error);n(t)}}))}let $p=!1;function Bp(e){const t=Np.C(Ts());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Uh("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $p||($p=!0,setTimeout((()=>{throw e}),0)),e}}return e}const Up="IndexBackfiller";class Vp{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}te(e){Oh(Up,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const e=await this.ee.ne();Oh(Up,`Documents written: ${e}`)}catch(e){Lp(e)?Oh(Up,"Ignoring IndexedDB error during index backfill: ",e):await Ap(e)}await this.te(6e4)}))}}class Wp{constructor(e,t){this.localStore=e,this.persistence=t}async ne(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.re(t,e)))}re(e,t){const n=new Set;let r=t,i=!0;return Pp.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Oh(Up,`Processing collection: ${t}`),this.ie(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ie(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.se(r,n))).next((n=>(Oh(Up,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}se(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Cp(t);Ip(r,n)>0&&(n=r)})),new Ep(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Hp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Hp.ae=-1;const qp=-1;function Kp(e){return null==e}function Gp(e){return 0===e&&1/e==-1/0}function Qp(e){return"number"==typeof e&&Number.isInteger(e)&&!Gp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Yp="\x01";function Xp(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Zp(t)),t=Jp(e.get(n),t);return Zp(t)}function Jp(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Yp:n+="\x01\x11";break;default:n+=t}}return n}function Zp(e){return e+Yp+"\x01"}function ef(e){const t=e.length;if(zh(t>=2),2===t)return zh(e.charAt(0)===Yp&&"\x01"===e.charAt(1)),pp.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf(Yp,o);switch((t<0||t>n)&&Fh(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Fh()}o=t+2}return new pp(r)}const tf="remoteDocuments",nf="owner",rf="owner",of="mutationQueues",sf="mutations",af="batchId",lf="userMutationsIndex",cf=["userId","batchId"];function uf(e,t){return[e,Xp(t)]}function df(e,t,n){return[e,Xp(t),n]}const hf={},pf="documentMutations",ff="remoteDocumentsV14",mf=["prefixPath","collectionGroup","readTime","documentId"],gf="documentKeyIndex",yf=["prefixPath","collectionGroup","documentId"],vf="collectionGroupIndex",bf=["collectionGroup","readTime","prefixPath","documentId"],wf="remoteDocumentGlobal",xf="remoteDocumentGlobalKey",Sf="targets",kf="queryTargetsIndex",Cf=["canonicalId","targetId"],Ef="targetDocuments",If=["targetId","path"],Tf="documentTargetsIndex",_f=["path","targetId"],Af="targetGlobalKey",Pf="targetGlobal",Rf="collectionParents",jf=["collectionId","parent"],Nf="clientMetadata",Of="bundles",Df="namedQueries",Mf="indexConfiguration",Lf="collectionGroupIndex",Ff="indexState",zf=["indexId","uid"],$f="sequenceNumberIndex",Bf=["uid","sequenceNumber"],Uf="indexEntries",Vf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Wf="documentKeyIndex",Hf=["indexId","uid","orderedDocumentKey"],qf="documentOverlays",Kf=["userId","collectionPath","documentId"],Gf="collectionPathOverlayIndex",Qf=["userId","collectionPath","largestBatchId"],Yf="collectionGroupOverlayIndex",Xf=["userId","collectionGroup","largestBatchId"],Jf="globals",Zf=[of,sf,pf,tf,Sf,nf,Pf,Ef,Nf,wf,Rf,Of,Df],em=[...Zf,qf],tm=[of,sf,pf,ff,Sf,nf,Pf,Ef,Nf,wf,Rf,Of,Df,qf],nm=tm,rm=[...nm,Mf,Ff,Uf],im=rm,om=[...rm,Jf];class sm extends _p{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function am(e,t){const n=$h(e);return Np.M(n.ue,t)}function lm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function cm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function um(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class dm{constructor(e,t){this.comparator=e,this.root=t||pm.EMPTY}insert(e,t){return new dm(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pm.BLACK,null,null))}remove(e){return new dm(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pm.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hm(this.root,e,this.comparator,!1)}getReverseIterator(){return new hm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hm(this.root,e,this.comparator,!0)}}class hm{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pm{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:pm.RED,this.left=null!=r?r:pm.EMPTY,this.right=null!=i?i:pm.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new pm(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pm.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return pm.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pm.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pm.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fh();if(this.right.isRed())throw Fh();const e=this.left.check();if(e!==this.right.check())throw Fh();return e+(this.isRed()?0:1)}}pm.EMPTY=null,pm.RED=!0,pm.BLACK=!1,pm.EMPTY=new class{constructor(){this.size=0}get key(){throw Fh()}get value(){throw Fh()}get color(){throw Fh()}get left(){throw Fh()}get right(){throw Fh()}copy(e,t,n,r,i){return this}insert(e,t,n){return new pm(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fm{constructor(e){this.comparator=e,this.data=new dm(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mm(this.data.getIterator())}getIteratorFrom(e){return new mm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof fm))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new fm(this.comparator);return t.data=e,t}}class mm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gm(e){return e.hasNext()?e.getNext():void 0}class ym{constructor(e){this.fields=e,e.sort(mp.comparator)}static empty(){return new ym([])}unionWith(e){let t=new fm(mp.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ym(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return op(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class vm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new vm("Invalid base64 string: "+e):e}}(e);return new bm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new bm(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tp(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bm.EMPTY_BYTE_STRING=new bm("");const wm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xm(e){if(zh(!!e),"string"==typeof e){let t=0;const n=wm.exec(e);if(zh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Sm(e.seconds),nanos:Sm(e.nanos)}}function Sm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function km(e){return"string"==typeof e?bm.fromBase64String(e):bm.fromUint8Array(e)}const Cm="server_timestamp",Em="__type__",Im="__previous_value__",Tm="__local_write_time__";function _m(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Em])||void 0===n?void 0:n.stringValue)===Cm}function Am(e){const t=e.mapValue.fields[Im];return _m(t)?Am(t):t}function Pm(e){const t=xm(e.mapValue.fields[Tm].timestampValue);return new cp(t.seconds,t.nanos)}class Rm{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}const jm="(default)";class Nm{constructor(e,t){this.projectId=e,this.database=t||jm}static empty(){return new Nm("","")}get isDefaultDatabase(){return this.database===jm}isEqual(e){return e instanceof Nm&&e.projectId===this.projectId&&e.database===this.database}}const Om="__type__",Dm="__max__",Mm={mapValue:{fields:{__type__:{stringValue:Dm}}}},Lm="__vector__",Fm="value",zm={nullValue:"NULL_VALUE"};function $m(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_m(e)?4:rg(e)?9007199254740991:tg(e)?10:11:Fh()}function Bm(e,t){if(e===t)return!0;const n=$m(e);if(n!==$m(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pm(e).isEqual(Pm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=xm(e.timestampValue),r=xm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return km(e.bytesValue).isEqual(km(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Sm(e.geoPointValue.latitude)===Sm(t.geoPointValue.latitude)&&Sm(e.geoPointValue.longitude)===Sm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Sm(e.integerValue)===Sm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Sm(e.doubleValue),r=Sm(t.doubleValue);return n===r?Gp(n)===Gp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return op(e.arrayValue.values||[],t.arrayValue.values||[],Bm);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(lm(n)!==lm(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Bm(n[i],r[i])))return!1;return!0}(e,t);default:return Fh()}}function Um(e,t){return void 0!==(e.values||[]).find((e=>Bm(e,t)))}function Vm(e,t){if(e===t)return 0;const n=$m(e),r=$m(t);if(n!==r)return tp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tp(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Sm(e.integerValue||e.doubleValue),r=Sm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wm(e.timestampValue,t.timestampValue);case 4:return Wm(Pm(e),Pm(t));case 5:return np(e.stringValue,t.stringValue);case 6:return function(e,t){const n=km(e),r=km(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=tp(n[i],r[i]);if(0!==e)return e}return tp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=tp(Sm(e.latitude),Sm(t.latitude));return 0!==n?n:tp(Sm(e.longitude),Sm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Hm(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s[Fm])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Fm])||void 0===r?void 0:r.arrayValue,u=tp((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Hm(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Mm.mapValue&&t===Mm.mapValue)return 0;if(e===Mm.mapValue)return 1;if(t===Mm.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=np(r[s],o[s]);if(0!==e)return e;const t=Vm(n[r[s]],i[o[s]]);if(0!==t)return t}return tp(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Fh()}}function Wm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return tp(e,t);const n=xm(e),r=xm(t),i=tp(n.seconds,r.seconds);return 0!==i?i:tp(n.nanos,r.nanos)}function Hm(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Vm(n[i],r[i]);if(e)return e}return tp(n.length,r.length)}function qm(e){return Km(e)}function Km(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=xm(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return km(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return gp.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Km(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Km(e.fields[i])}`;return n+"}"}(e.mapValue):Fh()}function Gm(e){switch($m(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Am(e);return t?16+Gm(t):16;case 5:return 2*e.stringValue.length;case 6:return km(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Gm(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return cm(e.fields,((e,n)=>{t+=e.length+Gm(n)})),t}(e.mapValue);default:throw Fh()}}function Qm(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ym(e){return!!e&&"integerValue"in e}function Xm(e){return!!e&&"arrayValue"in e}function Jm(e){return!!e&&"nullValue"in e}function Zm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function eg(e){return!!e&&"mapValue"in e}function tg(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Om])||void 0===n?void 0:n.stringValue)===Lm}function ng(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return cm(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ng(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ng(e.arrayValue.values[n]);return t}return Object.assign({},e)}function rg(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Dm}const ig={mapValue:{fields:{[Om]:{stringValue:Lm},[Fm]:{arrayValue:{}}}}};function og(e){return"nullValue"in e?zm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Qm(Nm.empty(),gp.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?tg(e)?ig:{mapValue:{}}:Fh()}function sg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Qm(Nm.empty(),gp.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?ig:"mapValue"in e?tg(e)?{mapValue:{}}:Mm:Fh()}function ag(e,t){const n=Vm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function lg(e,t){const n=Vm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class cg{constructor(e){this.value=e}static empty(){return new cg({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!eg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ng(t)}setAll(e){let t=mp.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ng(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());eg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bm(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];eg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){cm(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new cg(ng(this.value))}}function ug(e){const t=[];return cm(e.fields,((e,n)=>{const r=new mp([e]);if(eg(n)){const e=ug(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ym(t)}class dg{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new dg(e,0,up.min(),up.min(),up.min(),cg.empty(),0)}static newFoundDocument(e,t,n,r){return new dg(e,1,t,up.min(),n,r,0)}static newNoDocument(e,t){return new dg(e,2,t,up.min(),up.min(),cg.empty(),0)}static newUnknownDocument(e,t){return new dg(e,3,t,up.min(),up.min(),cg.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(up.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cg.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cg.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=up.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dg&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dg(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hg{constructor(e,t){this.position=e,this.inclusive=t}}function pg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?gp.comparator(gp.fromName(s.referenceValue),n.key):Vm(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function fg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Bm(e.position[n],t.position[n]))return!1;return!0}class mg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function gg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class yg{}class vg extends yg{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new _g(e,t,n):"array-contains"===t?new jg(e,n):"in"===t?new Ng(e,n):"not-in"===t?new Og(e,n):"array-contains-any"===t?new Dg(e,n):new vg(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ag(e,n):new Pg(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vm(t,this.value)):null!==t&&$m(this.value)===$m(t)&&this.matchesComparison(Vm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bg extends yg{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new bg(e,t)}matches(e){return wg(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function wg(e){return"and"===e.op}function xg(e){return"or"===e.op}function Sg(e){return kg(e)&&wg(e)}function kg(e){for(const t of e.filters)if(t instanceof bg)return!1;return!0}function Cg(e){if(e instanceof vg)return e.field.canonicalString()+e.op.toString()+qm(e.value);if(Sg(e))return e.filters.map((e=>Cg(e))).join(",");{const t=e.filters.map((e=>Cg(e))).join(",");return`${e.op}(${t})`}}function Eg(e,t){return e instanceof vg?function(e,t){return t instanceof vg&&e.op===t.op&&e.field.isEqual(t.field)&&Bm(e.value,t.value)}(e,t):e instanceof bg?function(e,t){return t instanceof bg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Eg(n,t.filters[r])),!0)}(e,t):void Fh()}function Ig(e,t){const n=e.filters.concat(t);return bg.create(n,e.op)}function Tg(e){return e instanceof vg?function(e){return`${e.field.canonicalString()} ${e.op} ${qm(e.value)}`}(e):e instanceof bg?function(e){return e.op.toString()+" {"+e.getFilters().map(Tg).join(" ,")+"}"}(e):"Filter"}class _g extends vg{constructor(e,t,n){super(e,t,n),this.key=gp.fromName(n.referenceValue)}matches(e){const t=gp.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ag extends vg{constructor(e,t){super(e,"in",t),this.keys=Rg("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Pg extends vg{constructor(e,t){super(e,"not-in",t),this.keys=Rg("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Rg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>gp.fromName(e.referenceValue)))}class jg extends vg{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xm(t)&&Um(t.arrayValue,this.value)}}class Ng extends vg{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Um(this.value.arrayValue,t)}}class Og extends vg{constructor(e,t){super(e,"not-in",t)}matches(e){if(Um(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Um(this.value.arrayValue,t)}}class Dg extends vg{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Um(this.value.arrayValue,e)))}}class Mg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.le=null}}function Lg(e){return new Mg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Fg(e){const t=$h(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Cg(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Kp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>qm(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>qm(e))).join(",")),t.le=e}return t.le}function zg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!gg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Eg(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fg(e.startAt,t.startAt)&&fg(e.endAt,t.endAt)}function $g(e){return gp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Bg(e,t){return e.filters.filter((e=>e instanceof vg&&e.field.isEqual(t)))}function Ug(e,t,n){let r=zm,i=!0;for(const o of Bg(e,t)){let e=zm,t=!0;switch(o.op){case"<":case"<=":e=og(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=zm}ag({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];ag({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Vg(e,t,n){let r=Mm,i=!0;for(const o of Bg(e,t)){let e=Mm,t=!0;switch(o.op){case">=":case">":e=sg(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Mm}lg({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];lg({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Wg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Hg(e,t,n,r,i,o,s,a){return new Wg(e,t,n,r,i,o,s,a)}function qg(e){return new Wg(e)}function Kg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Gg(e){return null!==e.collectionGroup}function Qg(e){const t=$h(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new fm(mp.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new mg(r,n))})),e.has(mp.keyField().canonicalString())||t.he.push(new mg(mp.keyField(),n))}return t.he}function Yg(e){const t=$h(e);return t.Pe||(t.Pe=Xg(t,Qg(e))),t.Pe}function Xg(e,t){if("F"===e.limitType)return Lg(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new mg(e.field,t)}));const n=e.endAt?new hg(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new hg(e.startAt.position,e.startAt.inclusive):null;return Lg(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Jg(e,t){const n=e.filters.concat([t]);return new Wg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Zg(e,t,n){return new Wg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ey(e,t){return zg(Yg(e),Yg(t))&&e.limitType===t.limitType}function ty(e){return`${Fg(Yg(e))}|lt:${e.limitType}`}function ny(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Tg(e))).join(", ")}]`),Kp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>qm(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>qm(e))).join(",")),`Target(${t})`}(Yg(e))}; limitType=${e.limitType})`}function ry(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):gp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Qg(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=pg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Qg(e),t))&&!(e.endAt&&!function(e,t,n){const r=pg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Qg(e),t))}(e,t)}function iy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function oy(e){return(t,n)=>{let r=!1;for(const i of Qg(e)){const e=sy(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function sy(e,t,n){const r=e.field.isKeyField()?gp.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Vm(r,i):Fh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Fh()}}class ay{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){cm(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return um(this.inner)}size(){return this.innerSize}}const ly=new dm(gp.comparator);function cy(){return ly}const uy=new dm(gp.comparator);function dy(){let e=uy;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function hy(e){let t=uy;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function py(){return my()}function fy(){return my()}function my(){return new ay((e=>e.toString()),((e,t)=>e.isEqual(t)))}const gy=new dm(gp.comparator),yy=new fm(gp.comparator);function vy(){let e=yy;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const by=new fm(tp);function wy(){return by}function xy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gp(t)?"-0":t}}function Sy(e){return{integerValue:""+e}}function ky(e,t){return Qp(t)?Sy(t):xy(e,t)}class Cy{constructor(){this._=void 0}}function Ey(e,t,n){return e instanceof _y?function(e,t){const n={fields:{[Em]:{stringValue:Cm},[Tm]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&_m(t)&&(t=Am(t)),t&&(n.fields[Im]=t),{mapValue:n}}(n,t):e instanceof Ay?Py(e,t):e instanceof Ry?jy(e,t):function(e,t){const n=Ty(e,t),r=Oy(n)+Oy(e.Ie);return Ym(n)&&Ym(e.Ie)?Sy(r):xy(e.serializer,r)}(e,t)}function Iy(e,t,n){return e instanceof Ay?Py(e,t):e instanceof Ry?jy(e,t):n}function Ty(e,t){return e instanceof Ny?function(e){return Ym(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class _y extends Cy{}class Ay extends Cy{constructor(e){super(),this.elements=e}}function Py(e,t){const n=Dy(t);for(const r of e.elements)n.some((e=>Bm(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ry extends Cy{constructor(e){super(),this.elements=e}}function jy(e,t){let n=Dy(t);for(const r of e.elements)n=n.filter((e=>!Bm(e,r)));return{arrayValue:{values:n}}}class Ny extends Cy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Oy(e){return Sm(e.integerValue||e.doubleValue)}function Dy(e){return Xm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class My{constructor(e,t){this.field=e,this.transform=t}}class Ly{constructor(e,t){this.version=e,this.transformResults=t}}class Fy{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fy}static exists(e){return new Fy(void 0,e)}static updateTime(e){return new Fy(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class $y{}function By(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Xy(e.key,Fy.none()):new qy(e.key,e.data,Fy.none());{const n=e.data,r=cg.empty();let i=new fm(mp.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ky(e.key,r,new ym(i.toArray()),Fy.none())}}function Uy(e,t,n){e instanceof qy?function(e,t,n){const r=e.value.clone(),i=Qy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ky?function(e,t,n){if(!zy(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Qy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Gy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Vy(e,t,n,r){return e instanceof qy?function(e,t,n,r){if(!zy(e.precondition,t))return n;const i=e.value.clone(),o=Yy(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ky?function(e,t,n,r){if(!zy(e.precondition,t))return n;const i=Yy(e.fieldTransforms,r,t),o=t.data;return o.setAll(Gy(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return zy(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Wy(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ty(r.transform,e||null);null!=i&&(null===n&&(n=cg.empty()),n.set(r.field,i))}return n||null}function Hy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&op(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ay&&t instanceof Ay||e instanceof Ry&&t instanceof Ry?op(e.elements,t.elements,Bm):e instanceof Ny&&t instanceof Ny?Bm(e.Ie,t.Ie):e instanceof _y&&t instanceof _y}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qy extends $y{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ky extends $y{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Gy(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Qy(e,t,n){const r=new Map;zh(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Iy(s,a,n[i]))}return r}function Yy(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Ey(e,o,t))}return r}class Xy extends $y{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jy extends $y{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zy{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Uy(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Vy(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Vy(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=fy();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=By(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(up.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),vy())}isEqual(e){return this.batchId===e.batchId&&op(this.mutations,e.mutations,((e,t)=>Hy(e,t)))&&op(this.baseMutations,e.baseMutations,((e,t)=>Hy(e,t)))}}class ev{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){zh(e.mutations.length===n.length);let r=gy;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ev(e,t,n,r)}}class tv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nv{constructor(e,t){this.count=e,this.unchangedNames=t}}var rv,iv;function ov(e){switch(e){case Bh.OK:return Fh();case Bh.CANCELLED:case Bh.UNKNOWN:case Bh.DEADLINE_EXCEEDED:case Bh.RESOURCE_EXHAUSTED:case Bh.INTERNAL:case Bh.UNAVAILABLE:case Bh.UNAUTHENTICATED:return!1;case Bh.INVALID_ARGUMENT:case Bh.NOT_FOUND:case Bh.ALREADY_EXISTS:case Bh.PERMISSION_DENIED:case Bh.FAILED_PRECONDITION:case Bh.ABORTED:case Bh.OUT_OF_RANGE:case Bh.UNIMPLEMENTED:case Bh.DATA_LOSS:return!0;default:return Fh()}}function sv(e){if(void 0===e)return Dh("GRPC error has no .code"),Bh.UNKNOWN;switch(e){case rv.OK:return Bh.OK;case rv.CANCELLED:return Bh.CANCELLED;case rv.UNKNOWN:return Bh.UNKNOWN;case rv.DEADLINE_EXCEEDED:return Bh.DEADLINE_EXCEEDED;case rv.RESOURCE_EXHAUSTED:return Bh.RESOURCE_EXHAUSTED;case rv.INTERNAL:return Bh.INTERNAL;case rv.UNAVAILABLE:return Bh.UNAVAILABLE;case rv.UNAUTHENTICATED:return Bh.UNAUTHENTICATED;case rv.INVALID_ARGUMENT:return Bh.INVALID_ARGUMENT;case rv.NOT_FOUND:return Bh.NOT_FOUND;case rv.ALREADY_EXISTS:return Bh.ALREADY_EXISTS;case rv.PERMISSION_DENIED:return Bh.PERMISSION_DENIED;case rv.FAILED_PRECONDITION:return Bh.FAILED_PRECONDITION;case rv.ABORTED:return Bh.ABORTED;case rv.OUT_OF_RANGE:return Bh.OUT_OF_RANGE;case rv.UNIMPLEMENTED:return Bh.UNIMPLEMENTED;case rv.DATA_LOSS:return Bh.DATA_LOSS;default:return Fh()}}(iv=rv||(rv={}))[iv.OK=0]="OK",iv[iv.CANCELLED=1]="CANCELLED",iv[iv.UNKNOWN=2]="UNKNOWN",iv[iv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",iv[iv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",iv[iv.NOT_FOUND=5]="NOT_FOUND",iv[iv.ALREADY_EXISTS=6]="ALREADY_EXISTS",iv[iv.PERMISSION_DENIED=7]="PERMISSION_DENIED",iv[iv.UNAUTHENTICATED=16]="UNAUTHENTICATED",iv[iv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",iv[iv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",iv[iv.ABORTED=10]="ABORTED",iv[iv.OUT_OF_RANGE=11]="OUT_OF_RANGE",iv[iv.UNIMPLEMENTED=12]="UNIMPLEMENTED",iv[iv.INTERNAL=13]="INTERNAL",iv[iv.UNAVAILABLE=14]="UNAVAILABLE",iv[iv.DATA_LOSS=15]="DATA_LOSS";let av=null;const lv=new fh([4294967295,4294967295],0);function cv(e){const t=Zh().encode(e),n=new mh;return n.update(t),new Uint8Array(n.digest())}function uv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new fh([n,r],0),new fh([i,o],0)]}class dv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new hv(`Invalid padding: ${t}`);if(n<0)throw new hv(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new hv(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new hv(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=fh.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(fh.fromNumber(n)));return 1===r.compare(lv)&&(r=new fh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=cv(e),[n,r]=uv(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new dv(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ee)return;const t=cv(e),[n,r]=uv(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class hv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pv{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,fv.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new pv(up.min(),r,new dm(tp),cy(),vy())}}class fv{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new fv(n,t,vy(),vy(),vy())}}class mv{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class gv{constructor(e,t){this.targetId=e,this.ge=t}}class yv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bm.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class vv{constructor(){this.pe=0,this.ye=xv(),this.we=bm.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=vy(),t=vy(),n=vy();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Fh()}})),new fv(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=xv()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,zh(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class bv{constructor(e){this.ke=e,this.qe=new Map,this.Qe=cy(),this.$e=wv(),this.Ue=wv(),this.Ke=new dm(tp)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Fh()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if($g(i))if(0===n){const e=new gp(i.path);this.ze(t,e,dg.newNoDocument(e,up.min()))}else zh(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==av||av.rt(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=km(n).toUint8Array()}catch(e){if(e instanceof vm)return Mh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new dv(o,r,i)}catch(e){return Mh(e instanceof hv?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ee?null:s}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&$g(i.target)){const t=new gp(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,dg.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=vy();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new pv(e,t,this.Ke,this.Qe,n);return this.Qe=cy(),this.$e=wv(),this.Ue=wv(),this.Ke=new dm(tp),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new vv,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new fm(tp),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new fm(tp),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Oh("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new vv),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function wv(){return new dm(gp.comparator)}function xv(){return new dm(gp.comparator)}const Sv={asc:"ASCENDING",desc:"DESCENDING"},kv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cv={and:"AND",or:"OR"};class Ev{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Iv(e,t){return e.useProto3Json||Kp(t)?t:{value:t}}function Tv(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _v(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Av(e,t){return Tv(e,t.toTimestamp())}function Pv(e){return zh(!!e),up.fromTimestamp(function(e){const t=xm(e);return new cp(t.seconds,t.nanos)}(e))}function Rv(e,t){return jv(e,t).canonicalString()}function jv(e,t){const n=function(e){return new pp(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Nv(e){const t=pp.fromString(e);return zh(tb(t)),t}function Ov(e,t){return Rv(e.databaseId,t.path)}function Dv(e,t){const n=Nv(t);if(n.get(1)!==e.databaseId.projectId)throw new Uh(Bh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Uh(Bh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gp(zv(n))}function Mv(e,t){return Rv(e.databaseId,t)}function Lv(e){const t=Nv(e);return 4===t.length?pp.emptyPath():zv(t)}function Fv(e){return new pp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zv(e){return zh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function $v(e,t,n){return{name:Ov(e,t),fields:n.value.mapValue.fields}}function Bv(e,t,n){const r=Dv(e,t.name),i=Pv(t.updateTime),o=t.createTime?Pv(t.createTime):up.min(),s=new cg({mapValue:{fields:t.fields}}),a=dg.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Uv(e,t){let n;if(t instanceof qy)n={update:$v(e,t.key,t.value)};else if(t instanceof Xy)n={delete:Ov(e,t.key)};else if(t instanceof Ky)n={update:$v(e,t.key,t.data),updateMask:eb(t.fieldMask)};else{if(!(t instanceof Jy))return Fh();n={verify:Ov(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof _y)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ay)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ry)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ny)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Fh()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Av(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Fh()}(e,t.precondition)),n}function Vv(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Fy.updateTime(Pv(e.updateTime)):void 0!==e.exists?Fy.exists(e.exists):Fy.none()}(t.currentDocument):Fy.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)zh("REQUEST_TIME"===t.setToServerValue),n=new _y;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ay(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Ry(e)}else"increment"in t?n=new Ny(e,t.increment):Fh();const r=mp.fromServerFormat(t.fieldPath);return new My(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Dv(e,t.update.name),o=new cg({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new ym(t.map((e=>mp.fromServerFormat(e))))}(t.updateMask);return new Ky(i,o,e,n,r)}return new qy(i,o,n,r)}if(t.delete){const r=Dv(e,t.delete);return new Xy(r,n)}if(t.verify){const r=Dv(e,t.verify);return new Jy(r,n)}return Fh()}function Wv(e,t){return{documents:[Mv(e,t.path)]}}function Hv(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Mv(e,i);const o=function(e){if(0!==e.length)return Zv(bg.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Xv(e.field),direction:Gv(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Iv(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function qv(e){let t=Lv(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){zh(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Kv(e);return t instanceof bg&&Sg(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new mg(Jv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Kp(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new hg(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new hg(n,t)}(n.endAt)),Hg(t,i,s,o,a,"F",l,c)}function Kv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Jv(e.unaryFilter.field);return vg.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Jv(e.unaryFilter.field);return vg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Jv(e.unaryFilter.field);return vg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Jv(e.unaryFilter.field);return vg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fh()}}(e):void 0!==e.fieldFilter?function(e){return vg.create(Jv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return bg.create(e.compositeFilter.filters.map((e=>Kv(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Fh()}}(e.compositeFilter.op))}(e):Fh()}function Gv(e){return Sv[e]}function Qv(e){return kv[e]}function Yv(e){return Cv[e]}function Xv(e){return{fieldPath:e.canonicalString()}}function Jv(e){return mp.fromServerFormat(e.fieldPath)}function Zv(e){return e instanceof vg?function(e){if("=="===e.op){if(Zm(e.value))return{unaryFilter:{field:Xv(e.field),op:"IS_NAN"}};if(Jm(e.value))return{unaryFilter:{field:Xv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zm(e.value))return{unaryFilter:{field:Xv(e.field),op:"IS_NOT_NAN"}};if(Jm(e.value))return{unaryFilter:{field:Xv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xv(e.field),op:Qv(e.op),value:e.value}}}(e):e instanceof bg?function(e){const t=e.getFilters().map((e=>Zv(e)));return 1===t.length?t[0]:{compositeFilter:{op:Yv(e.op),filters:t}}}(e):Fh()}function eb(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function tb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class nb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:up.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:up.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:bm.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new nb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rb{constructor(e){this.Tt=e}}function ib(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ob(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ov(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Tv(e,t.version.toTimestamp()),createTime:Tv(e,t.createTime.toTimestamp())}}(e.Tt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:sb(t.version)};else{if(!t.isUnknownDocument())return Fh();r.unknownDocument={path:n.path.toArray(),version:sb(t.version)}}return r}function ob(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function sb(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ab(e){const t=new cp(e.seconds,e.nanoseconds);return up.fromTimestamp(t)}function lb(e,t){const n=(t.baseMutations||[]).map((t=>Vv(e.Tt,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Vv(e.Tt,t))),i=cp.fromMillis(t.localWriteTimeMs);return new Zy(t.batchId,i,n,r)}function cb(e){const t=ab(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ab(e.lastLimboFreeSnapshotVersion):up.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return zh(1===e.documents.length),Yg(qg(Lv(e.documents[0])))}(e.query):function(e){return Yg(qv(e))}(e.query),new nb(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,bm.fromBase64String(e.resumeToken))}function ub(e,t){const n=sb(t.snapshotVersion),r=sb(t.lastLimboFreeSnapshotVersion);let i;i=$g(t.target)?Wv(e.Tt,t.target):Hv(e.Tt,t.target).ht;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Fg(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function db(e){const t=qv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Zg(t,t.limit,"L"):t}function hb(e,t){return new tv(t.largestBatchId,Vv(e.Tt,t.overlayMutation))}function pb(e,t){const n=t.path.lastSegment();return[e,Xp(t.path.popLast()),n]}function fb(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:sb(r.readTime),documentKey:Xp(r.documentKey.path),largestBatchId:r.largestBatchId}}class mb{getBundleMetadata(e,t){return gb(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:ab(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return gb(e).put(function(e){return{bundleId:e.id,createTime:sb(Pv(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return yb(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:db(e.bundledQuery),readTime:ab(e.readTime)}}(e)}))}saveNamedQuery(e,t){return yb(e).put(function(e){return{name:e.name,readTime:sb(Pv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function gb(e){return am(e,Of)}function yb(e){return am(e,Df)}class vb{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const n=t.uid||"";return new vb(e,n)}getOverlay(e,t){return bb(e).get(pb(this.userId,t)).next((e=>e?hb(this.serializer,e):null))}getOverlays(e,t){const n=py();return Pp.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new tv(t,i);r.push(this.Et(e,o))})),Pp.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Xp(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(bb(e).J(Gf,r))})),Pp.waitFor(i)}getOverlaysForCollection(e,t,n){const r=py(),i=Xp(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return bb(e).G(Gf,o).next((e=>{for(const t of e){const e=hb(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=py();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bb(e).Z({index:Yf,range:s},((e,t,n)=>{const s=hb(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}Et(e,t){return bb(e).put(function(e,t,n){const[r,i,o]=pb(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Uv(e.Tt,n.mutation)}}(this.serializer,this.userId,t))}}function bb(e){return am(e,qf)}class wb{dt(e){return am(e,Jf)}getSessionToken(e){return this.dt(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?bm.fromUint8Array(t):bm.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class xb{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Sm(e.integerValue));else if("doubleValue"in e){const n=Sm(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),Gp(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=xm(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(km(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?rg(e)?this.ft(t,Number.MAX_SAFE_INTEGER):tg(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Fh()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const o=Fm,s=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(Sm(s)),this.wt(o,t),this.Rt(i[o],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),gp.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}xb.xt=new xb;const Sb=255;function kb(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function Cb(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=kb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class Eb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Nt(n.value),n=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.kt(n.value),n=t.next();this.qt()}Qt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Nt(e);else if(e<2048)this.Nt(960|e>>>6),this.Nt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Nt(480|e>>>12),this.Nt(128|63&e>>>6),this.Nt(128|63&e);else{const e=t.codePointAt(0);this.Nt(240|e>>>18),this.Nt(128|63&e>>>12),this.Nt(128|63&e>>>6),this.Nt(128|63&e)}}this.Bt()}$t(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.kt(e);else if(e<2048)this.kt(960|e>>>6),this.kt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.kt(480|e>>>12),this.kt(128|63&e>>>6),this.kt(128|63&e);else{const e=t.codePointAt(0);this.kt(240|e>>>18),this.kt(128|63&e>>>12),this.kt(128|63&e>>>6),this.kt(128|63&e)}}this.qt()}Ut(e){const t=this.Kt(e),n=Cb(t);this.Wt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Gt(e){const t=this.Kt(e),n=Cb(t);this.Wt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}zt(){this.jt(Sb),this.jt(255)}Ht(){this.Jt(Sb),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Kt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Nt(e){const t=255&e;0===t?(this.jt(0),this.jt(255)):t===Sb?(this.jt(Sb),this.jt(0)):this.jt(t)}kt(e){const t=255&e;0===t?(this.Jt(0),this.Jt(255)):t===Sb?(this.Jt(Sb),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Ib{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Ut(e)}Vt(){this.Zt.zt()}}class Tb{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class _b{constructor(){this.Zt=new Eb,this.Xt=new Ib(this.Zt),this.en=new Tb(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return 0===e?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}class Ab{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}nn(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Ab(this.indexId,this.documentKey,this.arrayValue,n)}}function Pb(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Rb(e.arrayValue,t.arrayValue),0!==n?n:(n=Rb(e.directionalValue,t.directionalValue),0!==n?n:gp.comparator(e.documentKey,t.documentKey)))}function Rb(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class jb{constructor(e){this.rn=new fm(((e,t)=>mp.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const e=t;e.isInequality()?this.rn=this.rn.add(e):this._n.push(e)}}get an(){return this.rn.size>1}un(e){if(zh(e.collectionGroup===this.collectionId),this.an)return!1;const t=bp(e);if(void 0!==t&&!this.cn(t))return!1;const n=wp(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.cn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.rn.size>0){const e=this.rn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.ln(e,t)||!this.hn(this.sn[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.sn.length||!this.hn(this.sn[o++],e))return!1}return!0}Pn(){if(this.an)return null;let e=new fm(mp.comparator);const t=[];for(const n of this._n)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new xp(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new xp(n.field,0))}for(const n of this.sn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new xp(n.field,"asc"===n.dir?0:1)));return new vp(vp.UNKNOWN_ID,this.collectionId,t,Sp.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Nb(e){var t,n;if(zh(e instanceof vg||e instanceof bg),e instanceof vg){if(e instanceof Ng){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>vg.create(e.field,"==",t))))||[];return bg.create(r,"or")}return e}const r=e.filters.map((e=>Nb(e)));return bg.create(r,e.op)}function Ob(e){if(0===e.getFilters().length)return[];const t=Fb(Nb(e));return zh(Lb(t)),Db(t)||Mb(t)?[t]:t.getFilters()}function Db(e){return e instanceof vg}function Mb(e){return e instanceof bg&&Sg(e)}function Lb(e){return Db(e)||Mb(e)||function(e){if(e instanceof bg&&xg(e)){for(const t of e.getFilters())if(!Db(t)&&!Mb(t))return!1;return!0}return!1}(e)}function Fb(e){if(zh(e instanceof vg||e instanceof bg),e instanceof vg)return e;if(1===e.filters.length)return Fb(e.filters[0]);const t=e.filters.map((e=>Fb(e)));let n=bg.create(t,e.op);return n=Bb(n),Lb(n)?n:(zh(n instanceof bg),zh(wg(n)),zh(n.filters.length>1),n.filters.reduce(((e,t)=>zb(e,t))))}function zb(e,t){let n;return zh(e instanceof vg||e instanceof bg),zh(t instanceof vg||t instanceof bg),n=e instanceof vg?t instanceof vg?function(e,t){return bg.create([e,t],"and")}(e,t):$b(e,t):t instanceof vg?$b(t,e):function(e,t){if(zh(e.filters.length>0&&t.filters.length>0),wg(e)&&wg(t))return Ig(e,t.getFilters());const n=xg(e)?e:t,r=xg(e)?t:e,i=n.filters.map((e=>zb(e,r)));return bg.create(i,"or")}(e,t),Bb(n)}function $b(e,t){if(wg(t))return Ig(t,e.getFilters());{const n=t.filters.map((t=>zb(e,t)));return bg.create(n,"or")}}function Bb(e){if(zh(e instanceof vg||e instanceof bg),e instanceof vg)return e;const t=e.getFilters();if(1===t.length)return Bb(t[0]);if(kg(e))return e;const n=t.map((e=>Bb(e))),r=[];return n.forEach((t=>{t instanceof vg?r.push(t):t instanceof bg&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:bg.create(r,e.op)}class Ub{constructor(){this.Tn=new Vb}addToCollectionParentIndex(e,t){return this.Tn.add(t),Pp.resolve()}getCollectionParents(e,t){return Pp.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Pp.resolve()}deleteFieldIndex(e,t){return Pp.resolve()}deleteAllFieldIndexes(e){return Pp.resolve()}createTargetIndexes(e,t){return Pp.resolve()}getDocumentsMatchingTarget(e,t){return Pp.resolve(null)}getIndexType(e,t){return Pp.resolve(0)}getFieldIndexes(e,t){return Pp.resolve([])}getNextCollectionGroupToUpdate(e){return Pp.resolve(null)}getMinOffset(e,t){return Pp.resolve(Ep.min())}getMinOffsetFromCollectionGroup(e,t){return Pp.resolve(Ep.min())}updateCollectionGroup(e,t,n){return Pp.resolve()}updateIndexEntries(e,t){return Pp.resolve()}}class Vb{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fm(pp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new fm(pp.comparator)).toArray()}}const Wb="IndexedDbIndexManager",Hb=new Uint8Array(0);class qb{constructor(e,t){this.databaseId=t,this.In=new Vb,this.En=new ay((e=>Fg(e)),((e,t)=>zg(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.In.add(t)}));const i={collectionId:n,parent:Xp(r)};return Kb(e).put(i)}return Pp.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[sp(t),""],!1,!0);return Kb(e).G(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ef(r.parent))}return n}))}addFieldIndex(e,t){const n=Qb(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Yb(e);return i.next((e=>{n.put(fb(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Qb(e),r=Yb(e),i=Gb(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Qb(e),n=Gb(e),r=Yb(e);return t.J().next((()=>n.J())).next((()=>r.J()))}createTargetIndexes(e,t){return Pp.forEach(this.dn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new jb(t).Pn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Gb(e);let r=!0;const i=new Map;return Pp.forEach(this.dn(t),(t=>this.An(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=vy();const r=[];return Pp.forEach(i,((i,o)=>{Oh(Wb,`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${Fg(t)}`);const s=function(e,t){const n=bp(t);if(void 0===n)return null;for(const r of Bg(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of wp(t))for(const t of Bg(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of wp(t)){const t=0===i.kind?Ug(e,i.fieldPath,e.startAt):Vg(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new hg(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of wp(t)){const t=0===i.kind?Vg(e,i.fieldPath,e.endAt):Ug(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new hg(n,r)}(o,i),u=this.Rn(i,o,l),d=this.Rn(i,o,c),h=this.Vn(i,o,a),p=this.mn(i.indexId,s,u,l.inclusive,d,c.inclusive,h);return Pp.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=gp.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Pp.resolve(null)}))}dn(e){let t=this.En.get(e);return t||(t=0===e.filters.length?[e]:Ob(bg.create(e.filters,"and")).map((t=>Lg(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.En.set(e,t),t)}mn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.fn(t[u/l]):Hb,d=this.gn(e,a,n[u%l],r),h=this.pn(e,a,i[u%l],o),p=s.map((t=>this.gn(e,a,t,!0)));c.push(...this.createRange(d,h,p))}return c}gn(e,t,n,r){const i=new Ab(e,gp.empty(),t,n);return r?i:i.nn()}pn(e,t,n,r){const i=new Ab(e,gp.empty(),t,n);return r?i.nn():i}An(e,t){const n=new jb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.un(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.dn(t);return Pp.forEach(r,(t=>this.An(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new fm(mp.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}yn(e,t){const n=new _b;for(const r of wp(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.tn(r.kind);xb.xt.At(e,i)}return n.Yt()}fn(e){const t=new _b;return xb.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const n=new _b;return xb.xt.At(Qm(this.databaseId,t),n.tn(function(e){const t=wp(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Yt()}Vn(e,t,n){if(null===n)return[];let r=[];r.push(new _b);let i=0;for(const o of wp(e)){const e=n[i++];for(const n of r)if(this.Sn(t,o.fieldPath)&&Xm(e))r=this.bn(r,o,e);else{const t=n.tn(o.kind);xb.xt.At(e,t)}}return this.Dn(r)}Rn(e,t,n){return this.Vn(e,t,n.position)}Dn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Yt();return t}bn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new _b;n.seed(e.Yt()),xb.xt.At(o,n.tn(t.kind)),i.push(n)}return i}Sn(e,t){return!!e.filters.find((e=>e instanceof vg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Qb(e),r=Yb(e);return(t?n.G(Lf,IDBKeyRange.bound(t,t)):n.G()).next((e=>{const t=[];return Pp.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Sp(t.sequenceNumber,new Ep(ab(t.readTime),new gp(ef(t.documentKey)),t.largestBatchId)):Sp.empty(),r=e.fields.map((e=>{let[t,n]=e;return new xp(mp.fromServerFormat(t),n)}));return new vp(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:tp(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Qb(e),i=Yb(e);return this.vn(e).next((e=>r.G(Lf,IDBKeyRange.bound(t,t)).next((t=>Pp.forEach(t,(t=>i.put(fb(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Pp.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Pp.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Pp.forEach(i,(n=>this.Cn(e,t,n).next((t=>{const i=this.Fn(r,n);return t.isEqual(i)?Pp.resolve():this.Mn(e,r,n,t,i)})))))))}))}xn(e,t,n,r){return Gb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.wn(n,t.key),documentKey:t.key.path.toArray()})}On(e,t,n,r){return Gb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.wn(n,t.key),t.key.path.toArray()])}Cn(e,t,n){const r=Gb(e);let i=new fm(Pb);return r.Z({index:Wf,range:IDBKeyRange.only([n.indexId,this.uid,this.wn(n,t)])},((e,r)=>{i=i.add(new Ab(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Fn(e,t){let n=new fm(Pb);const r=this.yn(t,e);if(null==r)return n;const i=bp(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Xm(o))for(const i of o.arrayValue.values||[])n=n.add(new Ab(t.indexId,e.key,this.fn(i),r))}else n=n.add(new Ab(t.indexId,e.key,Hb,r));return n}Mn(e,t,n,r,i){Oh(Wb,"Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=gm(o),l=gm(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=gm(s)):t?(i(a),a=gm(o)):(a=gm(o),l=gm(s))}}(r,i,Pb,(r=>{o.push(this.xn(e,t,n,r))}),(r=>{o.push(this.On(e,t,n,r))})),Pp.waitFor(o)}vn(e){let t=1;return Yb(e).Z({index:$f,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Pb(e,t))).filter(((e,t,n)=>!t||0!==Pb(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Pb(o,e),i=Pb(o,t);if(0===n)r[0]=e.nn();else if(n>0&&i<0)r.push(o),r.push(o.nn());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Nn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Hb,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Hb,[]];i.push(IDBKeyRange.bound(e,t))}return i}Nn(e,t){return Pb(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Xb)}getMinOffset(e,t){return Pp.mapArray(this.dn(t),(t=>this.An(e,t).next((e=>e||Fh())))).next(Xb)}}function Kb(e){return am(e,Rf)}function Gb(e){return am(e,Uf)}function Qb(e){return am(e,Mf)}function Yb(e){return am(e,Ff)}function Xb(e){zh(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Ip(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ep(t.readTime,t.documentKey,n)}const Jb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zb=41943040;class ew{static withCacheSize(e){return new ew(e,ew.DEFAULT_COLLECTION_PERCENTILE,ew.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function tw(e,t,n){const r=e.store(sf),i=e.store(pf),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{zh(1===a)})));const c=[];for(const u of n.mutations){const e=df(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Pp.waitFor(o).next((()=>c))}function nw(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Fh();t=e.noDocument}return JSON.stringify(t).length}ew.DEFAULT_COLLECTION_PERCENTILE=10,ew.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ew.DEFAULT=new ew(Zb,ew.DEFAULT_COLLECTION_PERCENTILE,ew.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ew.DISABLED=new ew(-1,0,0);class rw{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Bn={}}static It(e,t,n,r){zh(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new rw(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ow(e).Z({index:lf,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=sw(e),o=ow(e);return o.add({}).next((s=>{zh("number"==typeof s);const a=new Zy(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Uv(e.Tt,t))),i=n.mutations.map((t=>Uv(e.Tt,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new fm(((e,t)=>tp(e.canonicalString(),t.canonicalString())));for(const e of r){const t=df(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,hf))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Bn[s]=a.keys()})),Pp.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return ow(e).get(t).next((e=>e?(zh(e.userId===this.userId),lb(this.serializer,e)):null))}Ln(e,t){return this.Bn[t]?Pp.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Bn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return ow(e).Z({index:lf,range:r},((e,t,r)=>{t.userId===this.userId&&(zh(t.batchId>=n),i=lb(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=qp;return ow(e).Z({index:lf,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,qp],[this.userId,Number.POSITIVE_INFINITY]);return ow(e).G(lf,t).next((e=>e.map((e=>lb(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=uf(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return sw(e).Z({range:r},((n,r,o)=>{const[s,a,l]=n,c=ef(a);if(s===this.userId&&t.path.isEqual(c))return ow(e).get(l).next((e=>{if(!e)throw Fh();zh(e.userId===this.userId),i.push(lb(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new fm(tp);const r=[];return t.forEach((t=>{const i=uf(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=sw(e).Z({range:o},((e,r,i)=>{const[o,s,a]=e,l=ef(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),Pp.waitFor(r).next((()=>this.kn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=uf(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new fm(tp);return sw(e).Z({range:o},((e,t,i)=>{const[o,a,l]=e,c=ef(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.kn(e,s)))}kn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(ow(e).get(t).next((e=>{if(null===e)throw Fh();zh(e.userId===this.userId),n.push(lb(this.serializer,e))})))})),Pp.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return tw(e.ue,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.qn(t.batchId)})),Pp.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Pp.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return sw(e).Z({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=ef(e[1]);r.push(t)}else n.done()})).next((()=>{zh(0===r.length)}))}))}containsKey(e,t){return iw(e,this.userId,t)}Qn(e){return aw(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:qp,lastStreamToken:""}))}}function iw(e,t,n){const r=uf(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return sw(e).Z({range:o,Y:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function ow(e){return am(e,sf)}function sw(e){return am(e,pf)}function aw(e){return am(e,of)}class lw{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new lw(0)}static Kn(){return new lw(-1)}}class cw{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next((t=>{const n=new lw(t.highestTargetId);return t.highestTargetId=n.next(),this.Gn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Wn(e).next((e=>up.fromTimestamp(new cp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Wn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Wn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Gn(e,r))))}addTargetData(e,t){return this.zn(e,t).next((()=>this.Wn(e).next((n=>(n.targetCount+=1,this.jn(t,n),this.Gn(e,n))))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>uw(e).delete(t.targetId))).next((()=>this.Wn(e))).next((t=>(zh(t.targetCount>0),t.targetCount-=1,this.Gn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return uw(e).Z(((o,s)=>{const a=cb(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Pp.waitFor(i))).next((()=>r))}forEachTarget(e,t){return uw(e).Z(((e,n)=>{const r=cb(n);t(r)}))}Wn(e){return dw(e).get(Af).next((e=>(zh(null!==e),e)))}Gn(e,t){return dw(e).put(Af,t)}zn(e,t){return uw(e).put(ub(this.serializer,t))}jn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Wn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Fg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return uw(e).Z({range:r,index:kf},((e,n,r)=>{const o=cb(n);zg(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=hw(e);return t.forEach((t=>{const o=Xp(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Pp.waitFor(r)}removeMatchingKeys(e,t,n){const r=hw(e);return Pp.forEach(t,(t=>{const i=Xp(t.path);return Pp.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=hw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=hw(e);let i=vy();return r.Z({range:n,Y:!0},((e,t,n)=>{const r=ef(e[1]),o=new gp(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Xp(t.path),r=IDBKeyRange.bound([n],[sp(n)],!1,!0);let i=0;return hw(e).Z({index:Tf,Y:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}lt(e,t){return uw(e).get(t).next((e=>e?cb(e):null))}}function uw(e){return am(e,Sf)}function dw(e){return am(e,Pf)}function hw(e){return am(e,Ef)}const pw="LruGarbageCollector",fw=1048576;function mw(e,t){let[n,r]=e,[i,o]=t;const s=tp(n,i);return 0===s?tp(r,o):s}class gw{constructor(e){this.Hn=e,this.buffer=new fm(mw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();mw(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yw{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){Oh(pw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Lp(e)?Oh(pw,"Ignoring IndexedDB error during garbage collection: ",e):await Ap(e)}await this.er(3e5)}))}}class vw{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Pp.resolve(Hp.ae);const n=new gw(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oh("LruGarbageCollector","Garbage collection skipped; disabled"),Pp.resolve(Jb)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Oh("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jb):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Oh("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Nh()<=Ks.DEBUG&&Oh("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(s-o)+"ms\n"+`\tRemoved ${i} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),Pp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function bw(e,t){return new vw(e,t)}class ww{constructor(e,t){this.db=e,this.garbageCollector=bw(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,((e,n)=>t(n)))}addReference(e,t,n){return xw(e,n)}removeReference(e,t,n){return xw(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return xw(e,t)}ar(e,t){return function(e,t){let n=!1;return aw(e).X((r=>iw(e,r,t).next((e=>(e&&(n=!0),Pp.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this._r(e,((o,s)=>{if(s<=t){const t=this.ar(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,up.min()),hw(e).delete(function(e){return[0,Xp(e.path)]}(o)))))}));r.push(t)}})).next((()=>Pp.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return xw(e,t)}_r(e,t){const n=hw(e);let r,i=Hp.ae;return n.Z({index:Tf},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==Hp.ae&&t(new gp(ef(r)),i),i=l,r=a):i=Hp.ae})).next((()=>{i!==Hp.ae&&t(new gp(ef(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xw(e,t){return hw(e).put(function(e,t){return{targetId:0,path:Xp(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Sw{constructor(){this.changes=new ay((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dg.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Pp.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kw{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Tw(e).put(n)}removeEntry(e,t,n){return Tw(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ob(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.ur(e,n))))}getEntry(e,t){let n=dg.newInvalidDocument(t);return Tw(e).Z({index:gf,range:IDBKeyRange.only(_w(t))},((e,r)=>{n=this.cr(t,r)})).next((()=>n))}lr(e,t){let n={size:0,document:dg.newInvalidDocument(t)};return Tw(e).Z({index:gf,range:IDBKeyRange.only(_w(t))},((e,r)=>{n={document:this.cr(t,r),size:nw(r)}})).next((()=>n))}getEntries(e,t){let n=cy();return this.hr(e,t,((e,t)=>{const r=this.cr(e,t);n=n.insert(e,r)})).next((()=>n))}Pr(e,t){let n=cy(),r=new dm(gp.comparator);return this.hr(e,t,((e,t)=>{const i=this.cr(e,t);n=n.insert(e,i),r=r.insert(e,nw(t))})).next((()=>({documents:n,Tr:r})))}hr(e,t,n){if(t.isEmpty())return Pp.resolve();let r=new fm(Pw);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(_w(r.first()),_w(r.last())),o=r.getIterator();let s=o.getNext();return Tw(e).Z({index:gf,range:i},((e,t,r)=>{const i=gp.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Pw(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.W(_w(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),ob(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tw(e).G(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=cy();for(const i of e){const e=this.cr(gp.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(ry(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=cy();const o=Aw(t,n),s=Aw(t,Ep.max());return Tw(e).Z({index:vf,range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.cr(gp.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Ew(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Iw(e).get(xf).next((e=>(zh(!!e),e)))}ur(e,t){return Iw(e).put(xf,t)}cr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Bv(e.Tt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=gp.fromSegments(t.noDocument.path),r=ab(t.noDocument.readTime);n=dg.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Fh();{const e=gp.fromSegments(t.unknownDocument.path),r=ab(t.unknownDocument.version);n=dg.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new cp(e[0],e[1]);return up.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(up.min()))return e}return dg.newInvalidDocument(e)}}function Cw(e){return new kw(e)}class Ew extends Sw{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new ay((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new fm(((e,t)=>tp(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.Er.get(i);if(t.push(this.Ir.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=ib(this.Ir.serializer,o);r=r.add(i.path.popLast());const l=nw(a);n+=l-s.size,t.push(this.Ir.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=ib(this.Ir.serializer,o.convertToNoDocument(up.min()));t.push(this.Ir.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.Ir.updateMetadata(e,n)),Pp.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next((e=>(this.Er.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next((e=>{let{documents:t,Tr:n}=e;return n.forEach(((e,n)=>{this.Er.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Iw(e){return am(e,wf)}function Tw(e){return am(e,ff)}function _w(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Aw(e,t){const n=t.documentKey.path.toArray();return[e,ob(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Pw(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=tp(n[o],r[o]),i)return i;return i=tp(n.length,r.length),i||(i=tp(n[n.length-2],r[r.length-2]),i||tp(n[n.length-1],r[r.length-1]))}class Rw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jw{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Vy(n.mutation,e,ym.empty(),cp.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,vy()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vy();const r=py();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=dy();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=py();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,vy())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=cy();const o=my(),s=my();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Ky)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Vy(s.mutation,t,s.mutation.getFieldMask(),cp.now())):o.set(t.key,ym.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Rw(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=my();let r=new dm(((e,t)=>e-t)),i=vy();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||ym.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||vy()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=fy();l.forEach((e=>{if(!i.has(e)){const r=By(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Pp.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return gp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Pp.resolve(py());let s=yp,a=i;return o.next((t=>Pp.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Pp.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,vy()))).next((e=>({batchId:s,changes:hy(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gp(t)).next((e=>{let t=dy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=dy();return this.indexManager.getCollectionParents(e,i).next((s=>Pp.forEach(s,(s=>{const a=function(e,t){return new Wg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,dg.newInvalidDocument(r)))}));let n=dy();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Vy(o.mutation,r,ym.empty(),cp.now()),ry(t,r)&&(n=n.insert(e,r))})),n}))}}class Nw{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Pp.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Pv(e.createTime)}}(t)),Pp.resolve()}getNamedQuery(e,t){return Pp.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:db(e.bundledQuery),readTime:Pv(e.readTime)}}(t)),Pp.resolve()}}class Ow{constructor(){this.overlays=new dm(gp.comparator),this.Rr=new Map}getOverlay(e,t){return Pp.resolve(this.overlays.get(t))}getOverlays(e,t){const n=py();return Pp.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),Pp.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),Pp.resolve()}getOverlaysForCollection(e,t,n){const r=py(),i=t.length+1,o=new gp(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Pp.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new dm(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=py(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=py(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Pp.resolve(s)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new tv(t,n));let i=this.Rr.get(t);void 0===i&&(i=vy(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class Dw{constructor(){this.sessionToken=bm.EMPTY_BYTE_STRING}getSessionToken(e){return Pp.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Pp.resolve()}}class Mw{constructor(){this.Vr=new fm(Lw.mr),this.gr=new fm(Lw.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Lw(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Lw(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new gp(new pp([])),n=new Lw(t,e),r=new Lw(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new gp(new pp([])),n=new Lw(t,e),r=new Lw(t,e+1);let i=vy();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Lw(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Lw{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return gp.comparator(e.key,t.key)||tp(e.Cr,t.Cr)}static pr(e,t){return tp(e.Cr,t.Cr)||gp.comparator(e.key,t.key)}}class Fw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new fm(Lw.mr)}checkEmpty(e){return Pp.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Zy(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Mr=this.Mr.add(new Lw(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Pp.resolve(o)}lookupMutationBatch(e,t){return Pp.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return Pp.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Pp.resolve(0===this.mutationQueue.length?qp:this.Fr-1)}getAllMutationBatches(e){return Pp.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Lw(t,0),r=new Lw(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),Pp.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new fm(tp);return t.forEach((e=>{const t=new Lw(e,0),r=new Lw(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),Pp.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;gp.isDocumentKey(i)||(i=i.child(""));const o=new Lw(new gp(i),0);let s=new fm(tp);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Cr)),!0)}),o),Pp.resolve(this.Br(s))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){zh(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return Pp.forEach(t.mutations,(r=>{const i=new Lw(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new Lw(t,0),r=this.Mr.firstAfterOrEqual(n);return Pp.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pp.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zw{constructor(e){this.kr=e,this.docs=new dm(gp.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Pp.resolve(n?n.document.mutableCopy():dg.newInvalidDocument(t))}getEntries(e,t){let n=cy();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():dg.newInvalidDocument(e))})),Pp.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=cy();const o=t.path,s=new gp(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Ip(Cp(s),n)<=0||(r.has(s.key)||ry(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Pp.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Fh()}qr(e,t){return Pp.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new $w(this)}getSize(e){return Pp.resolve(this.size)}}class $w extends Sw{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),Pp.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class Bw{constructor(e){this.persistence=e,this.Qr=new ay((e=>Fg(e)),zg),this.lastRemoteSnapshotVersion=up.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Mw,this.targetCount=0,this.Kr=lw.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),Pp.resolve()}getLastRemoteSnapshotVersion(e){return Pp.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pp.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Pp.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Pp.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new lw(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Pp.resolve()}updateTargetData(e,t){return this.zn(t),Pp.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Pp.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Pp.waitFor(i).next((()=>r))}getTargetCount(e){return Pp.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Pp.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),Pp.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Pp.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Pp.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return Pp.resolve(n)}containsKey(e,t){return Pp.resolve(this.Ur.containsKey(t))}}class Uw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Hp(0),this.zr=!1,this.zr=!0,this.jr=new Dw,this.referenceDelegate=e(this),this.Hr=new Bw(this),this.indexManager=new Ub,this.remoteDocumentCache=function(e){return new zw(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new rb(t),this.Yr=new Nw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ow,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new Fw(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Oh("MemoryPersistence","Starting transaction:",e);const r=new Vw(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return Pp.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class Vw extends _p{constructor(e){super(),this.currentSequenceNumber=e}}class Ww{constructor(e){this.persistence=e,this.ti=new Mw,this.ni=null}static ri(e){return new Ww(e)}get ii(){if(this.ni)return this.ni;throw Fh()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Pp.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Pp.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Pp.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pp.forEach(this.ii,(n=>{const r=gp.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,up.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return Pp.or([()=>Pp.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Hw{constructor(e,t){this.persistence=e,this.oi=new ay((e=>Xp(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=bw(this,t)}static ri(e,t){return new Hw(e,t)}Zr(){}Xr(e){return Pp.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return Pp.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?Pp.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,up.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Pp.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Pp.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Pp.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Pp.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gm(e.data.value)),t}ar(e,t,n){return Pp.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return Pp.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qw{constructor(e){this.serializer=e}B(e,t,n,r){const i=new jp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(nf)}(e),function(e){e.createObjectStore(of,{keyPath:"userId"});e.createObjectStore(sf,{keyPath:af,autoIncrement:!0}).createIndex(lf,cf,{unique:!0}),e.createObjectStore(pf)}(e),Kw(e),function(e){e.createObjectStore(tf)}(e));let o=Pp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ef),e.deleteObjectStore(Sf),e.deleteObjectStore(Pf)}(e),Kw(e)),o=o.next((()=>function(e){const t=e.store(Pf),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:up.min().toTimestamp(),targetCount:0};return t.put(Af,n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store(sf).G().next((n=>{e.deleteObjectStore(sf),e.createObjectStore(sf,{keyPath:af,autoIncrement:!0}).createIndex(lf,cf,{unique:!0});const r=t.store(sf),i=n.map((e=>r.put(e)));return Pp.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore(Nf,{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this._i(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore(wf)}(e),this.ai(i))))),n<7&&r>=7&&(o=o.next((()=>this.ui(i)))),n<8&&r>=8&&(o=o.next((()=>this.ci(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.li(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore(Of,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(Df,{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore(qf,{keyPath:Kf});t.createIndex(Gf,Qf,{unique:!1}),t.createIndex(Yf,Xf,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore(ff,{keyPath:mf});t.createIndex(gf,yf),t.createIndex(vf,bf)}(e))).next((()=>this.hi(e,i))).next((()=>e.deleteObjectStore(tf)))),n<14&&r>=14&&(o=o.next((()=>this.Pi(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore(Mf,{keyPath:"indexId",autoIncrement:!0}).createIndex(Lf,"collectionGroup",{unique:!1});e.createObjectStore(Ff,{keyPath:zf}).createIndex($f,Bf,{unique:!1});e.createObjectStore(Uf,{keyPath:Vf}).createIndex(Wf,Hf,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore(Ff).clear()})).next((()=>{t.objectStore(Uf).clear()}))),n<17&&r>=17&&(o=o.next((()=>{!function(e){e.createObjectStore(Jf,{keyPath:"name"})}(e)}))),o}ai(e){let t=0;return e.store(tf).Z(((e,n)=>{t+=nw(n)})).next((()=>{const n={byteSize:t};return e.store(wf).put(xf,n)}))}_i(e){const t=e.store(of),n=e.store(sf);return t.G().next((t=>Pp.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,qp],[t.userId,t.lastAcknowledgedBatchId]);return n.G(lf,r).next((n=>Pp.forEach(n,(n=>{zh(n.userId===t.userId);const r=lb(this.serializer,n);return tw(e,t.userId,r).next((()=>{}))}))))}))))}ui(e){const t=e.store(Ef),n=e.store(tf);return e.store(Pf).get(Af).next((e=>{const r=[];return n.Z(((n,i)=>{const o=new pp(n),s=function(e){return[0,Xp(e)]}(o);r.push(t.get(s).next((n=>n?Pp.resolve():(n=>t.put({targetId:0,path:Xp(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Pp.waitFor(r)))}))}ci(e,t){e.createObjectStore(Rf,{keyPath:jf});const n=t.store(Rf),r=new Vb,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Xp(r)})}};return t.store(tf).Z({Y:!0},((e,t)=>{const n=new pp(e);return i(n.popLast())})).next((()=>t.store(pf).Z({Y:!0},((e,t)=>{let[n,r,o]=e;const s=ef(r);return i(s.popLast())}))))}li(e){const t=e.store(Sf);return t.Z(((e,n)=>{const r=cb(n),i=ub(this.serializer,r);return t.put(i)}))}hi(e,t){const n=t.store(tf),r=[];return n.Z(((e,n)=>{const i=t.store(ff),o=function(e){return e.document?new gp(pp.fromString(e.document.name).popFirst(5)):e.noDocument?gp.fromSegments(e.noDocument.path):e.unknownDocument?gp.fromSegments(e.unknownDocument.path):Fh()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Pp.waitFor(r)))}Pi(e,t){const n=t.store(sf),r=Cw(this.serializer),i=new Uw(Ww.ri,this.serializer.Tt);return n.G().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:vy();lb(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Pp.forEach(n,((e,n)=>{const o=new Ph(n),s=vb.It(this.serializer,o),a=i.getIndexManager(o),l=rw.It(o,this.serializer,a,i.referenceDelegate);return new jw(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new sm(t,Hp.ae),e).next()}))}))}}function Kw(e){e.createObjectStore(Ef,{keyPath:If}).createIndex(Tf,_f,{unique:!0}),e.createObjectStore(Sf,{keyPath:"targetId"}).createIndex(kf,Cf,{unique:!0}),e.createObjectStore(Pf)}const Gw="IndexedDbPersistence",Qw=18e5,Yw=5e3,Xw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Jw="main";class Zw{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Ti=i,this.window=o,this.document=s,this.Ii=l,this.Ei=c,this.di=u,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!Zw.D())throw new Uh(Bh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ww(this,r),this.gi=t+Jw,this.serializer=new rb(a),this.pi=new Np(this.gi,this.di,new qw(this.serializer)),this.jr=new wb,this.Hr=new cw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Cw(this.serializer),this.Yr=new mb,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,!1===c&&Dh(Gw,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Uh(Bh.FAILED_PRECONDITION,Xw);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Hr.getHighestSequenceNumber(e)))})).then((e=>{this.Gr=new Hp(e,this.Ii)})).then((()=>{this.zr=!0})).catch((e=>(this.pi&&this.pi.close(),Promise.reject(e))))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget((async()=>{this.started&&await this.wi()})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>tx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Fi(e).next((e=>{e||(this.isPrimary=!1,this.Ti.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Mi(e))).next((t=>this.isPrimary&&!t?this.xi(e).next((()=>!1)):!!t&&this.Oi(e).next((()=>!0)))))).catch((e=>{if(Lp(e))return Oh(Gw,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oh(Gw,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Fi(e){return ex(e).get(rf).next((e=>Pp.resolve(this.Ni(e))))}Bi(e){return tx(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,Qw)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=am(e,Nf);return t.G().next((e=>{const n=this.qi(e,Qw),r=e.filter((e=>-1===n.indexOf(e)));return Pp.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.wi().then((()=>this.Li())).then((()=>this.Di()))))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?Pp.resolve(!0):ex(e).get(rf).next((t=>{if(null!==t&&this.ki(t.leaseTimestampMs,Yw)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new Uh(Bh.FAILED_PRECONDITION,Xw);return!1}}return!(!this.networkEnabled||!this.inForeground)||tx(e).G().next((e=>void 0===this.qi(e,Yw).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Oh(Gw,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.zr=!1,this.Ui(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ki(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[nf,Nf],(e=>{const t=new sm(e,Hp.ae);return this.xi(t).next((()=>this.Bi(t)))})),this.pi.close(),this.Gi()}qi(e,t){return e.filter((e=>this.ki(e.updateTimeMs,t)&&!this.$i(e.clientId)))}zi(){return this.runTransaction("getActiveClients","readonly",(e=>tx(e).G().next((e=>this.qi(e,Qw).map((e=>e.clientId))))))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return rw.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qb(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return vb.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,n){Oh(Gw,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?om:16===e?im:15===e?rm:14===e?nm:13===e?tm:12===e?em:11===e?Zf:void Fh()}(this.di);let o;return this.pi.runTransaction(e,r,i,(r=>(o=new sm(r,this.Gr?this.Gr.next():Hp.ae),"readwrite-primary"===t?this.Fi(o).next((e=>!!e||this.Mi(o))).next((t=>{if(!t)throw Dh(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable((()=>this.fi(!1))),new Uh(Bh.FAILED_PRECONDITION,Tp);return n(o)})).next((e=>this.Oi(o).next((()=>e)))):this.ji(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}ji(e){return ex(e).get(rf).next((e=>{if(null!==e&&this.ki(e.leaseTimestampMs,Yw)&&!this.$i(e.ownerId)&&!this.Ni(e)&&!(this.Ei||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Uh(Bh.FAILED_PRECONDITION,Xw)}))}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ex(e).put(rf,t)}static D(){return Np.D()}xi(e){const t=ex(e);return t.get(rf).next((e=>this.Ni(e)?(Oh(Gw,"Releasing primary lease."),t.delete(rf)):Pp.resolve()))}ki(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Dh(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Si(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ri=()=>{this.Ti.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.wi())))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground="visible"===this.document.visibilityState)}Ki(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ai=()=>{this.Ui();const e=/(?:Version|Mobile)\/1[456]/;_s()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const n=null!==(null===(t=this.yi)||void 0===t?void 0:t.getItem(this.Qi(e)));return Oh(Gw,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Dh(Gw,"Failed to get zombied client id.",e),!1}}Ui(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(KI){Dh("Failed to set zombie client id.",KI)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch(KI){}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ex(e){return am(e,nf)}function tx(e){return am(e,Nf)}function nx(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class rx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=vy(),r=vy();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new rx(e,t.fromCache,n,r)}}class ix{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ox{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=_s()?8:Op(Ts())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ix;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(Nh()<=Ks.DEBUG&&Oh("QueryEngine","SDK will not create cache indexes for query:",ny(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Pp.resolve()):(Nh()<=Ks.DEBUG&&Oh("QueryEngine","Query:",ny(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(Nh()<=Ks.DEBUG&&Oh("QueryEngine","The SDK decides to create cache indexes for query:",ny(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yg(t))):Pp.resolve())}rs(e,t){if(Kg(t))return Pp.resolve(null);let n=Yg(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Zg(t,null,"F"),n=Yg(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=vy(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.cs(t,r);return this.ls(t,o,i,n.readTime)?this.rs(e,Zg(t,null,"F")):this.hs(e,o,t,n)}))))})))))}ss(e,t,n,r){return Kg(t)||r.isEqual(up.min())?Pp.resolve(null):this.ns.getDocuments(e,n).next((i=>{const o=this.cs(t,i);return this.ls(t,o,n,r)?Pp.resolve(null):(Nh()<=Ks.DEBUG&&Oh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ny(t)),this.hs(e,o,t,kp(r,yp)).next((e=>e)))}))}cs(e,t){let n=new fm(oy(e));return t.forEach(((t,r)=>{ry(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return Nh()<=Ks.DEBUG&&Oh("QueryEngine","Using full collection scan to execute query:",ny(t)),this.ns.getDocumentsMatchingQuery(e,t,Ep.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const sx="LocalStore";class ax{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new dm(tp),this.Is=new ay((e=>Fg(e)),zg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function lx(e,t,n,r){return new ax(e,t,n,r)}async function cx(e,t){const n=$h(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=vy();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function ux(e){const t=$h(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function dx(e,t,n){let r=vy(),i=vy();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=cy();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(up.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Oh(sx,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Vs:r,fs:i}}))}function hx(e,t){const n=$h(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=qp),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function px(e,t){const n=$h(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,Pp.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new nb(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function fx(e,t,n){const r=$h(e),i=r.Ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Lp(e))throw e;Oh(sx,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function mx(e,t,n){const r=$h(e);let i=up.min(),o=vy();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=$h(e),i=r.Is.get(n);return void 0!==i?Pp.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,Yg(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:up.min(),n?o:vy()))).next((e=>(gx(r,iy(t),e),{documents:e,gs:o})))))}function gx(e,t,n){let r=e.Es.get(t)||up.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class yx{constructor(){this.activeTargetIds=wy()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vx{constructor(){this.ho=new yx,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new yx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bx{To(e){}shutdown(){}}const wx="ConnectivityMonitor";class xx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Oh(wx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Oh(wx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Sx=null;function kx(){return null===Sx?Sx=268435456+Math.round(2147483648*Math.random()):Sx++,"0x"+Sx.toString(16)}const Cx="RestConnection",Ex={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ix{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===jm?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const o=kx(),s=this.bo(e,t.toUriEncodedString());Oh(Cx,`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(a,r,i),this.vo(e,s,a,n).then((t=>(Oh(Cx,`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Mh(Cx,`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Ex[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class Tx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const _x="WebChannelConnection";class Ax extends Ix{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=kx();return new Promise(((o,s)=>{const a=new vh;a.setWithCredentials(!0),a.listenOnce(wh.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case xh.NO_ERROR:const t=a.getResponseJson();Oh(_x,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case xh.TIMEOUT:Oh(_x,`RPC '${e}' ${i} timed out`),s(new Uh(Bh.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const n=a.getStatus();if(Oh(_x,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Bh).indexOf(t)>=0?t:Bh.UNKNOWN}(t.status);s(new Uh(e,t.message))}else s(new Uh(Bh.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Uh(Bh.UNAVAILABLE,"Connection failed."));break;default:Fh()}}finally{Oh(_x,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Oh(_x,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=kx(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Eh(),s=Ch(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Oh(_x,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const p=new Tx({Fo:t=>{h?Oh(_x,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Oh(_x,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Oh(_x,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,bh.EventType.OPEN,(()=>{h||(Oh(_x,`RPC '${e}' stream ${r} transport opened.`),p.Qo())})),f(u,bh.EventType.CLOSE,(()=>{h||(h=!0,Oh(_x,`RPC '${e}' stream ${r} transport closed`),p.Uo())})),f(u,bh.EventType.ERROR,(t=>{h||(h=!0,Mh(_x,`RPC '${e}' stream ${r} transport errored:`,t),p.Uo(new Uh(Bh.UNAVAILABLE,"The operation could not be completed")))})),f(u,bh.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];zh(!!i);const o=i,s=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Oh(_x,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=rv[e];if(void 0!==t)return sv(t)}(t),i=s.message;void 0===n&&(n=Bh.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,p.Uo(new Uh(n,i)),u.close()}else Oh(_x,`RPC '${e}' stream ${r} received:`,i),p.Ko(i)}})),f(s,kh.STAT_EVENT,(t=>{t.stat===Sh.PROXY?Oh(_x,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Sh.NOPROXY&&Oh(_x,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.$o()}),0),p}}function Px(){return"undefined"!=typeof window?window:null}function Rx(){return"undefined"!=typeof document?document:null}function jx(e){return new Ev(e,!0)}class Nx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&Oh("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const Ox="PersistentStream";class Dx{constructor(e,t,n,r,i,o,s,a){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Nx(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===Bh.RESOURCE_EXHAUSTED?(Dh(t.toString()),Dh("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Bh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new Uh(Bh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Oh(Ox,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Oh(Ox,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Mx extends Dx{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Fh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(zh(void 0===t||"string"==typeof t),bm.fromBase64String(t||"")):(zh(void 0===t||t instanceof Buffer||t instanceof Uint8Array),bm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Bh.UNKNOWN:sv(e.code);return new Uh(t,e.message||"")}(s);n=new yv(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dv(e,r.document.name),o=Pv(r.document.updateTime),s=r.document.createTime?Pv(r.document.createTime):up.min(),a=new cg({mapValue:{fields:r.document.fields}}),l=dg.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new mv(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Dv(e,r.document),o=r.readTime?Pv(r.readTime):up.min(),s=dg.newNoDocument(i,o),a=r.removedTargetIds||[];n=new mv([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Dv(e,r.document),o=r.removedTargetIds||[];n=new mv([],o,i,null)}else{if(!("filter"in t))return Fh();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new nv(r,i),s=e.targetId;n=new gv(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return up.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?up.min():t.readTime?Pv(t.readTime):up.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=Fv(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=$g(r)?{documents:Wv(e,r)}:{query:Hv(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=_v(e,t.resumeToken);const r=Iv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(up.min())>0){n.readTime=Tv(e,t.snapshotVersion.toTimestamp());const r=Iv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fh()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=Fv(this.serializer),t.removeTarget=e,this.I_(t)}}class Lx extends Dx{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return zh(!!e.streamToken),this.lastStreamToken=e.streamToken,zh(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){zh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(zh(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Pv(e.updateTime):Pv(t);return n.isEqual(up.min())&&(n=Pv(t)),new Ly(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Pv(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=Fv(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Uv(this.serializer,e)))};this.I_(t)}}class Fx{}class zx extends Fx{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Uh(Bh.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.So(e,jv(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Bh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Uh(Bh.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.Co(e,jv(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Bh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Uh(Bh.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class $x{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Dh(t),this.N_=!1):Oh("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Bx="RemoteStore";class Ux{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{Xx(this)&&(Oh(Bx,"Restarting streams for network reachability change."),await async function(e){const t=$h(e);t.W_.add(4),await Wx(t),t.j_.set("Unknown"),t.W_.delete(4),await Vx(t)}(this))}))})),this.j_=new $x(n,r)}}async function Vx(e){if(Xx(e))for(const t of e.G_)await t(!0)}async function Wx(e){for(const t of e.G_)await t(!1)}function Hx(e,t){const n=$h(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Yx(n)?Qx(n):gS(n).c_()&&Kx(n,t))}function qx(e,t){const n=$h(e),r=gS(n);n.K_.delete(t),r.c_()&&Gx(n,t),0===n.K_.size&&(r.c_()?r.P_():Xx(n)&&n.j_.set("Unknown"))}function Kx(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(up.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gS(e).y_(t)}function Gx(e,t){e.H_.Ne(t),gS(e).w_(t)}function Qx(e){e.H_=new bv({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),gS(e).start(),e.j_.B_()}function Yx(e){return Xx(e)&&!gS(e).u_()&&e.K_.size>0}function Xx(e){return 0===$h(e).W_.size}function Jx(e){e.H_=void 0}async function Zx(e){e.j_.set("Online")}async function eS(e){e.K_.forEach(((t,n)=>{Kx(e,t)}))}async function tS(e,t){Jx(e),Yx(e)?(e.j_.q_(t),Qx(e)):e.j_.set("Unknown")}async function nS(e,t,n){if(e.j_.set("Online"),t instanceof yv&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){Oh(Bx,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await rS(e,n)}else if(t instanceof mv?e.H_.We(t):t instanceof gv?e.H_.Ze(t):e.H_.je(t),!n.isEqual(up.min()))try{const t=await ux(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.K_.get(r);i&&e.K_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(bm.EMPTY_BYTE_STRING,r.snapshotVersion)),Gx(e,t);const i=new nb(r.target,t,n,r.sequenceNumber);Kx(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Oh(Bx,"Failed to raise snapshot:",t),await rS(e,t)}}async function rS(e,t,n){if(!Lp(t))throw t;e.W_.add(1),await Wx(e),e.j_.set("Offline"),n||(n=()=>ux(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Oh(Bx,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Vx(e)}))}function iS(e,t){return t().catch((n=>rS(e,n,t)))}async function oS(e){const t=$h(e),n=yS(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:qp;for(;sS(t);)try{const e=await hx(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,aS(t,e)}catch(e){await rS(t,e)}lS(t)&&cS(t)}function sS(e){return Xx(e)&&e.U_.length<10}function aS(e,t){e.U_.push(t);const n=yS(e);n.c_()&&n.S_&&n.b_(t.mutations)}function lS(e){return Xx(e)&&!yS(e).u_()&&e.U_.length>0}function cS(e){yS(e).start()}async function uS(e){yS(e).C_()}async function dS(e){const t=yS(e);for(const n of e.U_)t.b_(n.mutations)}async function hS(e,t,n){const r=e.U_.shift(),i=ev.from(r,t,n);await iS(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await oS(e)}async function pS(e,t){t&&yS(e).S_&&await async function(e,t){if(function(e){return ov(e)&&e!==Bh.ABORTED}(t.code)){const n=e.U_.shift();yS(e).h_(),await iS(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await oS(e)}}(e,t),lS(e)&&cS(e)}async function fS(e,t){const n=$h(e);n.asyncQueue.verifyOperationInProgress(),Oh(Bx,"RemoteStore received new credentials");const r=Xx(n);n.W_.add(3),await Wx(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Vx(n)}async function mS(e,t){const n=$h(e);t?(n.W_.delete(2),await Vx(n)):t||(n.W_.add(2),await Wx(n),n.j_.set("Unknown"))}function gS(e){return e.J_||(e.J_=function(e,t,n){const r=$h(e);return r.M_(),new Mx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:Zx.bind(null,e),No:eS.bind(null,e),Lo:tS.bind(null,e),p_:nS.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),Yx(e)?Qx(e):e.j_.set("Unknown")):(await e.J_.stop(),Jx(e))}))),e.J_}function yS(e){return e.Y_||(e.Y_=function(e,t,n){const r=$h(e);return r.M_(),new Lx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:uS.bind(null,e),Lo:pS.bind(null,e),D_:dS.bind(null,e),v_:hS.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await oS(e)):(await e.Y_.stop(),e.U_.length>0&&(Oh(Bx,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class vS{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Vh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new vS(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Uh(Bh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bS(e,t){if(Dh("AsyncQueue",`${t}: ${e}`),Lp(e))return new Uh(Bh.UNAVAILABLE,`${t}: ${e}`);throw e}class wS{static emptySet(e){return new wS(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||gp.comparator(t.key,n.key):(e,t)=>gp.comparator(e.key,t.key),this.keyedMap=dy(),this.sortedSet=new dm(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wS))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new wS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class xS{constructor(){this.Z_=new dm(gp.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Fh():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class SS{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new SS(e,t,wS.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ey(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class kS{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class CS{constructor(){this.queries=ES(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=$h(e),r=n.queries;n.queries=ES(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Uh(Bh.ABORTED,"Firestore shutting down"))}}function ES(){return new ay((e=>ty(e)),ey)}async function IS(e,t){const n=$h(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.na()&&t.ra()&&(r=2):(o=new kS,r=t.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=bS(e,`Initialization of query '${ny(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.ta.push(t),t.sa(n.onlineState),o.ea&&t.oa(o.ea)&&PS(n)}async function TS(e,t){const n=$h(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.ta.indexOf(t);e>=0&&(o.ta.splice(e,1),0===o.ta.length?i=t.ra()?0:1:!o.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _S(e,t){const n=$h(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&PS(n)}function AS(e,t,n){const r=$h(e),i=r.queries.get(t);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(t)}function PS(e){e.ia.forEach((e=>{e.next()}))}var RS,jS;(jS=RS||(RS={}))._a="default",jS.Cache="cache";class NS{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new SS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=SS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==RS.Cache}}class OS{constructor(e){this.key=e}}class DS{constructor(e){this.key=e}}class MS{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=vy(),this.mutatedKeys=vy(),this.ya=oy(e),this.wa=new wS(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new xS,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=ry(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.va(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.ya(u,a)>0||l&&this.ya(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:o,Da:n,ls:s,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fh()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const s=t&&!r?this.Fa():[],a=0===this.pa.size&&this.current&&!r?1:0,l=a!==this.ga;return this.ga=a,0!==o.length||l?{snapshot:new SS(this.query,e.wa,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:s}:{Ma:s}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new xS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=vy(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new DS(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new OS(n))})),t}Oa(e){this.fa=e.gs,this.pa=vy();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return SS.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const LS="SyncEngine";class FS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class zS{constructor(e){this.key=e,this.Ba=!1}}class $S{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new ay((e=>ty(e)),ey),this.qa=new Map,this.Qa=new Set,this.$a=new dm(gp.comparator),this.Ua=new Map,this.Ka=new Mw,this.Wa={},this.Ga=new Map,this.za=lw.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function BS(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=lk(e);let i;const o=r.ka.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await VS(r,t,n,!0),i}async function US(e,t){const n=lk(e);await VS(n,t,!0,!1)}async function VS(e,t,n,r){const i=await px(e.localStore,Yg(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await WS(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Hx(e.remoteStore,i),a}async function WS(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await mx(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return nk(e,t.targetId,a.Ma),a.snapshot}(e,t,n,r);const o=await mx(e.localStore,t,!0),s=new MS(t,o.gs),a=s.ba(o.documents),l=fv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);nk(e,n,c.Ma);const u=new FS(t,n,s);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function HS(e,t,n){const r=$h(e),i=r.ka.get(t),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter((e=>!ey(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fx(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qx(r.remoteStore,i.targetId),ek(r,i.targetId)})).catch(Ap)):(ek(r,i.targetId),await fx(r.localStore,i.targetId,!0))}async function qS(e,t){const n=$h(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qx(n.remoteStore,r.targetId))}async function KS(e,t){const n=$h(e);try{const e=await function(e,t){const n=$h(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Hr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Hr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(bm.EMPTY_BYTE_STRING,up.min()).withLastLimboFreeSnapshotVersion(up.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&s.push(n.Hr.updateTargetData(e,c))}));let a=cy(),l=vy();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(dx(e,o,t.documentUpdates).next((e=>{a=e.Vs,l=e.fs}))),!r.isEqual(up.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Pp.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ua.get(t);r&&(zh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?zh(r.Ba):e.removedDocuments.size>0&&(zh(r.Ba),r.Ba=!1))})),await ok(n,e,t)}catch(e){await Ap(e)}}function GS(e,t,n){const r=$h(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=$h(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&PS(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function QS(e,t,n){const r=$h(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),o=i&&i.key;if(o){let e=new dm(gp.comparator);e=e.insert(o,dg.newNoDocument(o,up.min()));const n=vy().add(o),i=new pv(up.min(),new Map,new dm(tp),e,n);await KS(r,i),r.$a=r.$a.remove(o),r.Ua.delete(t),ik(r)}else await fx(r.localStore,t,!1).then((()=>ek(r,t,n))).catch(Ap)}async function YS(e,t){const n=$h(e),r=t.batch.batchId;try{const e=await function(e,t){const n=$h(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Pp.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);zh(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=vy();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);ZS(n,r,null),JS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ok(n,e)}catch(e){await Ap(e)}}async function XS(e,t,n){const r=$h(e);try{const e=await function(e,t){const n=$h(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(zh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);ZS(r,t,n),JS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ok(r,e)}catch(n){await Ap(n)}}function JS(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function ZS(e,t,n){const r=$h(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function ek(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||tk(e,t)}))}function tk(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(qx(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),ik(e))}function nk(e,t,n){for(const r of n)r instanceof OS?(e.Ka.addReference(r.key,t),rk(e,r)):r instanceof DS?(Oh(LS,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||tk(e,r.key)):Fh()}function rk(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Oh(LS,"New document in limbo: "+n),e.Qa.add(r),ik(e))}function ik(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new gp(pp.fromString(t)),r=e.za.next();e.Ua.set(r,new zS(n)),e.$a=e.$a.insert(n,r),Hx(e.remoteStore,new nb(Yg(qg(n.path)),r,"TargetPurposeLimboResolution",Hp.ae))}}async function ok(e,t,n){const r=$h(e),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach(((e,a)=>{s.push(r.Ha(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=rx.Yi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.La.p_(i),await async function(e,t){const n=$h(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Pp.forEach(t,(t=>Pp.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Pp.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Lp(e))throw e;Oh(sx,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,o))}async function sk(e,t){const n=$h(e);if(!n.currentUser.isEqual(t)){Oh(LS,"User change. New user:",t.toKey());const e=await cx(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new Uh(Bh.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ok(n,e.Rs)}}function ak(e,t){const n=$h(e),r=n.Ua.get(t);if(r&&r.Ba)return vy().add(r.key);{let e=vy();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function lk(e){const t=$h(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=KS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ak.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QS.bind(null,t),t.La.p_=_S.bind(null,t.eventManager),t.La.Ja=AS.bind(null,t.eventManager),t}function ck(e){const t=$h(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=YS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XS.bind(null,t),t}class uk{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jx(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return lx(this.persistence,new ox,e.initialUser,this.serializer)}Xa(e){return new Uw(Ww.ri,this.serializer)}Za(e){return new vx}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uk.provider={build:()=>new uk};class dk extends uk{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){zh(this.persistence.referenceDelegate instanceof Hw);const n=this.persistence.referenceDelegate.garbageCollector;return new yw(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?ew.withCacheSize(this.cacheSizeBytes):ew.DEFAULT;return new Uw((e=>Hw.ri(e,t)),this.serializer)}}class hk extends uk{constructor(e,t,n){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await ck(this.ru.syncEngine),await oS(this.ru.remoteStore),await this.persistence.Ci((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}eu(e){return lx(this.persistence,new ox,e.initialUser,this.serializer)}tu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new yw(n,e.asyncQueue,t)}nu(e,t){const n=new Wp(t,this.persistence);return new Vp(e.asyncQueue,n)}Xa(e){const t=nx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ew.withCacheSize(this.cacheSizeBytes):ew.DEFAULT;return new Zw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Px(),Rx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new vx}}class pk{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>GS(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=sk.bind(null,this.syncEngine),await mS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new CS}createDatastore(e){const t=jx(e.databaseInfo.databaseId),n=function(e){return new Ax(e)}(e.databaseInfo);return function(e,t,n,r){return new zx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ux(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>GS(this.syncEngine,e,0)),xx.D()?new xx:new bx)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new $S(e,t,n,r,i,o);return s&&(a.ja=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=$h(e);Oh(Bx,"RemoteStore shutting down."),t.W_.add(5),await Wx(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}pk.provider={build:()=>new pk};class fk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Dh("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class mk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Uh(Bh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=$h(e),r={documents:t.map((e=>Ov(n.serializer,e)))},i=await n.Co("BatchGetDocuments",n.serializer.databaseId,pp.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){zh(!!t.found),t.found.name,t.found.updateTime;const n=Dv(e,t.found.name),r=Pv(t.found.updateTime),i=t.found.createTime?Pv(t.found.createTime):up.min(),o=new cg({mapValue:{fields:t.found.fields}});return dg.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){zh(!!t.missing),zh(!!t.readTime);const n=Dv(e,t.missing),r=Pv(t.readTime);return dg.newNoDocument(n,r)}(e,t):Fh()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());zh(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Xy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=gp.fromPath(t);this.mutations.push(new Jy(n,this.precondition(n)))})),await async function(e,t){const n=$h(e),r={writes:t.map((e=>Uv(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,pp.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fh();t=up.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Uh(Bh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(up.min())?Fy.exists(!1):Fy.updateTime(t):Fy.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(up.min()))throw new Uh(Bh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fy.updateTime(t)}return Fy.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gk{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Tu=n.maxAttempts,this.a_=new Nx(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo((async()=>{const e=new mk(this.datastore),t=this.du(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Au(e)}))))})).catch((e=>{this.Au(e)}))}))}du(e){try{const t=this.updateFunction(e);return!Kp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Eu(),Promise.resolve())))):this.deferred.reject(e)}Ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ov(t)}return!1}}const yk="FirestoreClient";class vk{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ph.UNAUTHENTICATED,this.clientId=ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Oh(yk,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Oh(yk,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(GI){const n=bS(GI,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function bk(e,t){e.asyncQueue.verifyOperationInProgress(),Oh(yk,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await cx(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function wk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await xk(e);Oh(yk,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>fS(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>fS(t.remoteStore,n))),e._onlineComponents=t}async function xk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Oh(yk,"Using user provided OfflineComponentProvider");try{await bk(e,e._uninitializedComponentsProvider._offline)}catch(GI){const n=GI;if(!function(e){return"FirebaseError"===e.name?e.code===Bh.FAILED_PRECONDITION||e.code===Bh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Mh("Error using user provided cache. Falling back to memory cache: "+n),await bk(e,new uk)}}else Oh(yk,"Using default OfflineComponentProvider"),await bk(e,new dk(void 0));return e._offlineComponents}async function Sk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Oh(yk,"Using user provided OnlineComponentProvider"),await wk(e,e._uninitializedComponentsProvider._online)):(Oh(yk,"Using default OnlineComponentProvider"),await wk(e,new pk))),e._onlineComponents}function kk(e){return Sk(e).then((e=>e.syncEngine))}function Ck(e){return Sk(e).then((e=>e.datastore))}async function Ek(e){const t=await Sk(e),n=t.eventManager;return n.onListen=BS.bind(null,t.syncEngine),n.onUnlisten=HS.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=US.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=qS.bind(null,t.syncEngine),n}function Ik(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Vh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new fk({next:a=>{o.su(),t.enqueueAndForget((()=>TS(e,s)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new Uh(Bh.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new Uh(Bh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new NS(qg(n.path),o,{includeMetadataChanges:!0,Ta:!0});return IS(e,s)}(await Ek(e),e.asyncQueue,t,n,r))),r.promise}function Tk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Vh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new fk({next:n=>{o.su(),t.enqueueAndForget((()=>TS(e,s))),n.fromCache&&"server"===r.source?i.reject(new Uh(Bh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new NS(n,o,{includeMetadataChanges:!0,Ta:!0});return IS(e,s)}(await Ek(e),e.asyncQueue,t,n,r))),r.promise}function _k(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ak=new Map;function Pk(e,t,n){if(!n)throw new Uh(Bh.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Rk(e){if(!gp.isDocumentKey(e))throw new Uh(Bh.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jk(e){if(gp.isDocumentKey(e))throw new Uh(Bh.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Nk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Fh()}function Ok(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Uh(Bh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nk(e);throw new Uh(Bh.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Dk(e,t){if(t<=0)throw new Uh(Bh.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}const Mk="firestore.googleapis.com",Lk=!0;class Fk{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Uh(Bh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mk,this.ssl=Lk}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Lk;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Zb;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<fw)throw new Uh(Bh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Uh(Bh.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_k(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Uh(Bh.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Uh(Bh.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Uh(Bh.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zk{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Uh(Bh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Uh(Bh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fk(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Hh;switch(e.type){case"firstParty":return new Qh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Uh(Bh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ak.get(e);t&&(Oh("ComponentProvider","Removing Datastore"),Ak.delete(e),t.terminate())}(this),Promise.resolve()}}class $k{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new $k(this.firestore,e,this._query)}}class Bk{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uk(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bk(this.firestore,e,this._key)}}class Uk extends $k{constructor(e,t,n){super(e,t,qg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bk(this.firestore,null,new gp(e))}withConverter(e){return new Uk(this.firestore,e,this._path)}}function Vk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=$s(e),Pk("collection","path",t),e instanceof zk){const n=pp.fromString(t,...r);return jk(n),new Uk(e,null,n)}{if(!(e instanceof Bk||e instanceof Uk))throw new Uh(Bh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(pp.fromString(t,...r));return jk(n),new Uk(e.firestore,null,n)}}function Wk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=$s(e),1===arguments.length&&(t=ep.newId()),Pk("doc","path",t),e instanceof zk){const n=pp.fromString(t,...r);return Rk(n),new Bk(e,null,new gp(n))}{if(!(e instanceof Bk||e instanceof Uk))throw new Uh(Bh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(pp.fromString(t,...r));return Rk(n),new Bk(e.firestore,e instanceof Uk?e.converter:null,new gp(n))}}const Hk="AsyncQueue";class qk{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Nx(this,"async_queue_retry"),this.Su=()=>{const e=Rx();e&&Oh(Hk,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=Rx();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Rx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new Vh;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(KI){if(!Lp(KI))throw KI;Oh(Hk,"Operation failed with retryable error: "+KI)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Dh("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=vS.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Fh()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Kk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Gk extends zk{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new qk,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qk(e),this._firestoreClient=void 0,await e}}}function Qk(e){if(e._terminated)throw new Uh(Bh.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Yk(e),e._firestoreClient}function Yk(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Rm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_k(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new vk(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function Xk(e,t,n){if((e=Ok(e,Gk))._firestoreClient||e._terminated)throw new Uh(Bh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new Uh(Bh.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},Yk(e)}class Jk{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jk(bm.fromBase64String(e))}catch(e){throw new Uh(Bh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Jk(bm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zk{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Uh(Bh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mp(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class eC{constructor(e){this._methodName=e}}class tC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Uh(Bh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Uh(Bh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tp(this._lat,e._lat)||tp(this._long,e._long)}}class nC{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const rC=/^__.*__$/;class iC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ky(e,this.data,this.fieldMask,t,this.fieldTransforms):new qy(e,this.data,t,this.fieldTransforms)}}class oC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ky(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fh()}}class aC{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new aC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return TC(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(sC(this.Lu)&&rC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class lC{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||jx(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new aC({Lu:e,methodName:t,zu:n,path:mp.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cC(e){const t=e._freezeSettings(),n=jx(e._databaseId);return new lC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uC(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ju(o.merge||o.mergeFields?2:0,t,n,i);kC("Data must be an object, but it was:",s,r);const a=xC(r,s);let l,c;if(o.merge)l=new ym(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=CC(t,r,n);if(!s.contains(i))throw new Uh(Bh.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);_C(e,i)||e.push(i)}l=new ym(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new iC(new cg(a),l,c)}class dC extends eC{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dC}}function hC(e,t,n){return new aC({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class pC extends eC{_toFieldTransform(e){return new My(e.path,new _y)}isEqual(e){return e instanceof pC}}class fC extends eC{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=hC(this,e,!0),n=this.Hu.map((e=>wC(e,t))),r=new Ay(n);return new My(e.path,r)}isEqual(e){return e instanceof fC&&Ns(this.Hu,e.Hu)}}class mC extends eC{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=hC(this,e,!0),n=this.Hu.map((e=>wC(e,t))),r=new Ry(n);return new My(e.path,r)}isEqual(e){return e instanceof mC&&Ns(this.Hu,e.Hu)}}class gC extends eC{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Ny(e.serializer,ky(e.serializer,this.Ju));return new My(e.path,t)}isEqual(e){return e instanceof gC&&this.Ju===e.Ju}}function yC(e,t,n,r){const i=e.ju(1,t,n);kC("Data must be an object, but it was:",i,r);const o=[],s=cg.empty();cm(r,((e,r)=>{const a=IC(t,e,n);r=$s(r);const l=i.Uu(a);if(r instanceof dC)o.push(a);else{const e=wC(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new ym(o);return new oC(s,a,i.fieldTransforms)}function vC(e,t,n,r,i,o){const s=e.ju(1,t,n),a=[CC(t,r,n)],l=[i];if(o.length%2!=0)throw new Uh(Bh.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(CC(t,o[h])),l.push(o[h+1]);const c=[],u=cg.empty();for(let h=a.length-1;h>=0;--h)if(!_C(c,a[h])){const e=a[h];let t=l[h];t=$s(t);const n=s.Uu(e);if(t instanceof dC)c.push(e);else{const r=wC(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ym(c);return new oC(u,d,s.fieldTransforms)}function bC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wC(n,e.ju(r?4:3,t))}function wC(e,t){if(SC(e=$s(e)))return kC("Unsupported field value:",t,e),xC(e,t);if(e instanceof eC)return function(e,t){if(!sC(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=wC(i,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=$s(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ky(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=cp.fromDate(e);return{timestampValue:Tv(t.serializer,n)}}if(e instanceof cp){const n=new cp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tv(t.serializer,n)}}if(e instanceof tC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Jk)return{bytesValue:_v(t.serializer,e._byteString)};if(e instanceof Bk){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Rv(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof nC)return function(e,t){return{mapValue:{fields:{[Om]:{stringValue:Lm},[Fm]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return xy(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${Nk(e)}`)}(e,t)}function xC(e,t){const n={};return um(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cm(e,((e,r)=>{const i=wC(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function SC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof cp||e instanceof tC||e instanceof Jk||e instanceof Bk||e instanceof eC||e instanceof nC)}function kC(e,t,n){if(!SC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Nk(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function CC(e,t,n){if((t=$s(t))instanceof Zk)return t._internalPath;if("string"==typeof t)return IC(e,t);throw TC("Field path arguments must be of type string or ",e,!1,void 0,n)}const EC=new RegExp("[~\\*/\\[\\]]");function IC(e,t,n){if(t.search(EC)>=0)throw TC(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Zk(...t.split("."))._internalPath}catch(Po){throw TC(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function TC(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Uh(Bh.INVALID_ARGUMENT,a+e+l)}function _C(e,t){return e.some((e=>e.isEqual(t)))}class AC{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Bk(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new PC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(RC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class PC extends AC{data(){return super.data()}}function RC(e,t){return"string"==typeof t?IC(e,t):t instanceof Zk?t._internalPath:t._delegate._internalPath}function jC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Uh(Bh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NC{}class OC extends NC{}function DC(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof NC&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof FC)).length,n=e.filter((e=>e instanceof MC)).length;if(t>1||t>0&&n>0)throw new Uh(Bh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class MC extends OC{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new MC(e,t,n)}_apply(e){const t=this._parse(e);return HC(e._query,t),new $k(e.firestore,e.converter,Jg(e._query,t))}_parse(e){const t=cC(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Uh(Bh.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){WC(s,o);const t=[];for(const n of s)t.push(VC(r,e,n));a={arrayValue:{values:t}}}else a=VC(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||WC(s,o),a=bC(n,t,s,"in"===o||"not-in"===o);return vg.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function LC(e,t,n){const r=t,i=RC("where",e);return MC._create(i,r,n)}class FC extends NC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new FC(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:bg.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)HC(n,i),n=Jg(n,i)}(e._query,t),new $k(e.firestore,e.converter,Jg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zC extends OC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zC(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Uh(Bh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Uh(Bh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mg(t,n)}(e._query,this._field,this._direction);return new $k(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Wg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function $C(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=RC("orderBy",e);return zC._create(n,t)}class BC extends OC{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new BC(e,t,n)}_apply(e){return new $k(e.firestore,e.converter,Zg(e._query,this._limit,this._limitType))}}function UC(e){return Dk("limit",e),BC._create("limit",e,"F")}function VC(e,t,n){if("string"==typeof(n=$s(n))){if(""===n)throw new Uh(Bh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gg(t)&&-1!==n.indexOf("/"))throw new Uh(Bh.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(pp.fromString(n));if(!gp.isDocumentKey(r))throw new Uh(Bh.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qm(e,new gp(r))}if(n instanceof Bk)return Qm(e,n._key);throw new Uh(Bh.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nk(n)}.`)}function WC(e,t){if(!Array.isArray(e)||0===e.length)throw new Uh(Bh.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function HC(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Uh(Bh.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Uh(Bh.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class qC{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($m(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(km(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fh()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return cm(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Fm].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Sm(e.doubleValue)));return new nC(i)}convertGeoPoint(e){return new tC(Sm(e.latitude),Sm(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Am(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pm(e));default:return null}}convertTimestamp(e){const t=xm(e);return new cp(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=pp.fromString(e);zh(tb(n));const r=new Nm(n.get(1),n.get(3)),i=new gp(n.popFirst(5));return r.isEqual(t)||Dh(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function KC(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class GC extends qC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jk(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bk(this.firestore,null,t)}}class QC{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YC extends AC{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new XC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(RC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class XC extends YC{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class JC{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new QC(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new XC(this._firestore,this._userDataWriter,n.key,n,new QC(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Uh(Bh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new XC(e._firestore,e._userDataWriter,n.doc.key,n.doc,new QC(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new XC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new QC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:ZC(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ZC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fh()}}function eE(e){e=Ok(e,Bk);const t=Ok(e.firestore,Gk);return Ik(Qk(t),e._key).then((n=>cE(t,e,n)))}class tE extends qC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jk(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bk(this.firestore,null,t)}}function nE(e){e=Ok(e,$k);const t=Ok(e.firestore,Gk),n=Qk(t),r=new tE(t);return jC(e._query),Tk(n,e._query).then((n=>new JC(t,r,e,n)))}function rE(e,t,n){e=Ok(e,Bk);const r=Ok(e.firestore,Gk),i=KC(e.converter,t,n);return lE(r,[uC(cC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Fy.none())])}function iE(e,t,n){e=Ok(e,Bk);const r=Ok(e.firestore,Gk),i=cC(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=$s(t))||t instanceof Zk?vC(i,"updateDoc",e._key,t,n,a):yC(i,"updateDoc",e._key,t),lE(r,[o.toMutation(e._key,Fy.exists(!0))])}function oE(e){return lE(Ok(e.firestore,Gk),[new Xy(e._key,Fy.none())])}function sE(e,t){const n=Ok(e.firestore,Gk),r=Wk(e),i=KC(e.converter,t);return lE(n,[uC(cC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Fy.exists(!1))]).then((()=>r))}function aE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=$s(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Kk(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Kk(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof Bk)d=Ok(e.firestore,Gk),h=qg(e._key.path),u={next:t=>{n[l]&&n[l](cE(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Ok(e,$k);d=Ok(t.firestore,Gk),h=t._query;const r=new tE(d);u={next:e=>{n[l]&&n[l](new JC(d,r,t,e))},error:n[l+1],complete:n[l+2]},jC(e._query)}return function(e,t,n,r){const i=new fk(r),o=new NS(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>IS(await Ek(e),o))),()=>{i.su(),e.asyncQueue.enqueueAndForget((async()=>TS(await Ek(e),o)))}}(Qk(d),h,c,u)}function lE(e,t){return function(e,t){const n=new Vh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ck(e);try{const e=await function(e,t){const n=$h(e),r=cp.now(),i=t.reduce(((e,t)=>e.add(t.key)),vy());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=cy(),l=vy();return n.ds.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Wy(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Ky(e.key,t,ug(t.value.mapValue),Fy.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:hy(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new dm(tp)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await ok(r,e.changes),await oS(r.remoteStore)}catch(e){const t=bS(e,"Failed to persist write");n.reject(t)}}(await kk(e),t,n))),n.promise}(Qk(e),t)}function cE(e,t,n){const r=n.docs.get(t._key),i=new tE(e);return new YC(e,i,t._key,r,new QC(n.hasPendingWrites,n.fromCache),t.converter)}const uE={maxAttempts:5};class dE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cC(e)}set(e,t,n){this._verifyNotCommitted();const r=hE(e,this._firestore),i=KC(r.converter,t,n),o=uC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Fy.none())),this}update(e,t,n){this._verifyNotCommitted();const r=hE(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=$s(t))||t instanceof Zk?vC(this._dataReader,"WriteBatch.update",r._key,t,n,s):yC(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Fy.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hE(e,this._firestore);return this._mutations=this._mutations.concat(new Xy(t._key,Fy.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Uh(Bh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hE(e,t){if((e=$s(e)).firestore!==t)throw new Uh(Bh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class pE{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=cC(e)}get(e){const t=hE(e,this._firestore),n=new GC(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Fh();const r=e[0];if(r.isFoundDocument())return new AC(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new AC(this._firestore,n,t._key,null,t.converter);throw Fh()}))}set(e,t,n){const r=hE(e,this._firestore),i=KC(r.converter,t,n),o=uC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=hE(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=$s(t))||t instanceof Zk?vC(this._dataReader,"Transaction.update",r._key,t,n,s):yC(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=hE(e,this._firestore);return this._transaction.delete(t._key),this}}class fE extends pE{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=hE(e,this._firestore),n=new tE(this._firestore);return super.get(e).then((e=>new YC(this._firestore,n,t._key,e._document,new QC(!1,!1),t.converter)))}}function mE(e,t,n){e=Ok(e,Gk);const r=Object.assign(Object.assign({},uE),n);return function(e){if(e.maxAttempts<1)throw new Uh(Bh.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Vh;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Ck(e);new gk(e.asyncQueue,i,n,t,r).Iu()})),r.promise}(Qk(e),(n=>t(new fE(e,n))),r)}function gE(){return new pC("serverTimestamp")}function yE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new fC("arrayUnion",t)}function vE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mC("arrayRemove",t)}function bE(e){return new gC("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Rh=e}(nl),Xa(new Bs("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Gk(new Kh(e.getProvider("auth-internal")),new Xh(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Uh(Bh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nm(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),ol(_h,Ah,e),ol(_h,Ah,"esm2017")}();const wE="firebasestorage.googleapis.com",xE="storageBucket";class SE extends Ps{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(EE(e),`Firebase Storage: ${t} (${EE(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,SE.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return EE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var kE,CE;function EE(e){return"storage/"+e}function IE(){return new SE(kE.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function TE(){return new SE(kE.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _E(){return new SE(kE.CANCELED,"User canceled the upload/download.")}function AE(){return new SE(kE.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function PE(e){return new SE(kE.INVALID_ARGUMENT,e)}function RE(){return new SE(kE.APP_DELETED,"The Firebase app was deleted.")}function jE(e,t){return new SE(kE.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function NE(e){throw new SE(kE.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(kE||(kE={}));class OE{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=OE.makeFromUrl(e,t)}catch(KI){return new OE(e,"")}if(""===n.path)return n;throw r=e,new SE(kE.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===wE?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new OE(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new SE(kE.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class DE{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function ME(e){return"string"===typeof e||e instanceof String}function LE(e){return FE()&&e instanceof Blob}function FE(){return"undefined"!==typeof Blob}function zE(e,t,n,r){if(r<t)throw PE(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw PE(`Invalid value for '${e}'. Expected ${n} or less.`)}function $E(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function BE(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function UE(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(CE||(CE={}));class VE{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new WE(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===CE.NO_ERROR,i=n.getStatus();if(!t||UE(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===CE.ABORT;return void e(!1,new WE(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new WE(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(KI){r(KI)}else if(null!==i){const e=IE();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?RE():_E())}else{r(TE())}};this.canceled_?t(0,new WE(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(p,l())}),t)}function h(){o&&clearTimeout(o)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class WE{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function HE(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function qE(){const e=HE();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(FE())return new Blob(n);throw new SE(kE.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function KE(e){if("undefined"===typeof atob)throw t="base-64",new SE(kE.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const GE="raw",QE="base64",YE="base64url",XE="data_url";class JE{constructor(e,t){this.data=e,this.contentType=t||null}}function ZE(e,t){switch(e){case GE:return new JE(eI(t));case QE:case YE:return new JE(tI(e,t));case XE:return new JE(function(e){const t=new nI(e);return t.base64?tI(QE,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(KI){throw jE(XE,"Malformed data URL.")}return eI(t)}(t.rest)}(t),new nI(t).contentType)}throw IE()}function eI(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function tI(e,t){switch(e){case QE:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw jE(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case YE:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw jE(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=KE(t)}catch(KI){if(KI.message.includes("polyfill"))throw KI;throw jE(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class nI{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw jE(XE,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class rI{constructor(e,t){let n=0,r="";LE(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(LE(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new rI(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new rI(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(FE()){const e=t.map((e=>e instanceof rI?e.data_:e));return new rI(qE.apply(null,e))}{const e=t.map((e=>ME(e)?ZE(GE,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new rI(r,!0)}}uploadData(){return this.data_}}function iI(e){let t;try{t=JSON.parse(e)}catch(KI){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function oI(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function sI(e,t){return t}class aI{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||sI}}let lI=null;function cI(){if(lI)return lI;const e=[];e.push(new aI("bucket")),e.push(new aI("generation")),e.push(new aI("metageneration")),e.push(new aI("name","fullPath",!0));const t=new aI("name");t.xform=function(e,t){return function(e){return!ME(e)||e.length<2?e:oI(e)}(t)},e.push(t);const n=new aI("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new aI("timeCreated")),e.push(new aI("updated")),e.push(new aI("md5Hash",null,!0)),e.push(new aI("cacheControl",null,!0)),e.push(new aI("contentDisposition",null,!0)),e.push(new aI("contentEncoding",null,!0)),e.push(new aI("contentLanguage",null,!0)),e.push(new aI("contentType",null,!0)),e.push(new aI("metadata","customMetadata",!0)),lI=e,lI}function uI(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new OE(n,r);return t._makeStorageReference(i)}})}(r,e),r}function dI(e,t,n){const r=iI(t);if(null===r)return null;return uI(e,r,n)}function hI(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class pI{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fI(e){if(!e)throw IE()}function mI(e,t){return function(n,r){const i=dI(e,r,t);return fI(null!==i),i}}function gI(e,t){return function(n,r){const i=dI(e,r,t);return fI(null!==i),function(e,t,n,r){const i=iI(t);if(null===i)return null;if(!ME(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent,a=o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return $E("/b/"+s(i)+"/o/"+s(o),n,r)+BE({alt:"media",token:t})}));return a[0]}(i,r,e.host,e._protocol)}}function yI(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new SE(kE.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new SE(kE.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new SE(kE.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new SE(kE.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function vI(e){const t=yI(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new SE(kE.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function bI(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function wI(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=bI(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+hI(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=rI.getBlob(c,r,u);if(null===d)throw AE();const h={name:l.fullPath},p=$E(o,e.host,e._protocol),f=e.maxUploadRetryTime,m=new pI(p,"POST",mI(e,n),f);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=yI(t),m}class xI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=CE.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=CE.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=CE.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw NE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw NE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw NE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(KI){return-1}}getResponse(){if(!this.sent_)throw NE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw NE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class SI extends xI{initXhr(){this.xhr_.responseType="text"}}function kI(){return new SI}class CI{constructor(e,t){this._service=e,this._location=t instanceof OE?t:OE.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new CI(e,t)}get root(){const e=new OE(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oI(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new OE(this._location.bucket,e);return new CI(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new SE(kE.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function EI(e,t,n){e._throwIfRoot("uploadBytes");const r=wI(e.storage,e._location,cI(),new rI(t,!0),n);return e.storage.makeRequestWithTokens(r,kI).then((t=>({metadata:t,ref:e})))}function II(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=$E(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new pI(r,"GET",gI(e,n),i);return o.errorHandler=vI(t),o}(e.storage,e._location,cI());return e.storage.makeRequestWithTokens(t,kI).then((e=>{if(null===e)throw new SE(kE.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function TI(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=$E(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new pI(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=vI(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,kI)}function _I(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new OE(e._location.bucket,n);return new CI(e.storage,r)}function AI(e,t){if(e instanceof jI){const n=e;if(null==n._bucket)throw new SE(kE.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xE+"' property when initializing the app?");const r=new CI(n,n._bucket);return null!=t?AI(r,t):r}return void 0!==t?_I(e,t):e}function PI(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof jI)return new CI(e,t);throw PE("To use ref(service, url), the first argument must be a Storage instance.")}return AI(e,t)}function RI(e,t){const n=null===t||void 0===t?void 0:t[xE];return null==n?null:OE.makeFromBucketSpec(n,e)}class jI{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=wE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?OE.makeFromBucketSpec(r,this._host):RI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=OE.makeFromBucketSpec(this._url,e):this._bucket=RI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Za(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new CI(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new DE(RE());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=BE(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new VE(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const NI="@firebase/storage",OI="0.13.7",DI="storage";function MI(e,t,n){return EI(e=$s(e),t,n)}function LI(e){return II(e=$s(e))}function FI(e,t){return PI(e=$s(e),t)}function zI(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new jI(r,i,o,n,nl)}Xa(new Bs(DI,zI,"PUBLIC").setMultipleInstances(!0)),ol(NI,OI,""),ol(NI,OI,"esm2017");const $I=rl({apiKey:"AIzaSyBI9pvyseKR-5dw3eXuZgTLnG3OcvNGbeI",authDomain:"sideeye-bafda.firebaseapp.com",projectId:"sideeye-bafda",storageBucket:"sideeye-bafda.firebasestorage.app",messagingSenderId:"864667627333",appId:"1:864667627333:web:1ec087179141d1e91a982c"}),BI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:il();const t=Ja(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ja(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ns(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Sl(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ih,persistence:[ld,Uu,Ku]}),r=Cs("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>dh)return;const r=null===t||void 0===t?void 0:t.token;hh!==r&&(hh=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){$s(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){$s(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=xs("auth");return o&&Kc(n,`http://${o}`),n}($I),UI=function(e,t){const n="object"==typeof e?e:il(),r="string"==typeof e?e:t||jm,i=Ja(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=Ss("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Ok(e,zk))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),a=`${t}:${n}`;o.host!==Mk&&o.host!==a&&Mh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!Ns(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ph.MOCK_USER;else{t=Is(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Uh(Bh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ph(o)}e._authCredentials=new qh(new Wh(t,n))}}(i,...e)}return i}($I),VI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:il(),t=arguments.length>1?arguments[1]:void 0;e=$s(e);const n=Ja(e,DI).getImmediate({identifier:t}),r=Ss("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Is(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}($I);(function(e,t){Mh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return Xk(e,pk.provider,{build:e=>new hk(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()})(UI).catch((e=>{"failed-precondition"===e.code?console.log("Persistence failed: Multiple tabs open"):"unimplemented"===e.code&&console.log("Persistence not supported by browser")}));const WI=(0,i.createContext)({currentUser:null,user:null,userProfile:null,loading:!0,error:null,login:async()=>{},register:async()=>{},logout:async()=>{},resetPassword:async()=>{},updateProfile:async()=>{},sendEmailVerification:async()=>{},verifyEmail:async()=>{},setupTwoFactorAuth:async()=>{},verifyTwoFactorAuth:async()=>{},setUserProfile:()=>{}}),HI=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null);(0,i.useEffect)((()=>BI.onAuthStateChanged((async e=>{if(r(e),e){const t=await eE(Wk(UI,"users",e.uid));t.exists()&&s(t.data())}else s(null);l(!1)}))),[]);const d={currentUser:n,user:n,userProfile:o,loading:a,error:c,login:async(e,t)=>{try{l(!0),await Pu(BI,e,t)}catch(c){throw u(c.message),c}finally{l(!1)}},register:async(e,t,n)=>{try{l(!0);const r=await async function(e,t,n){if(Za(e.app))return Promise.reject(El(e));const r=jc(e),i=Hc(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mu,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&_u(e),t})),s=await gu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(BI,e,t);await rE(Wk(UI,"users",r.user.uid),{username:n,email:e,name:n,bio:"",profilePic:null,createdAt:new Date,isVerified:!1,has2FA:!1,connections:[],followers:[],following:[]}),await Ru(r.user)}catch(c){throw u(c.message),c}finally{l(!1)}},logout:async()=>{try{await function(e){return $s(e).signOut()}(BI)}catch(c){throw u(c.message),c}},resetPassword:async e=>{try{await async function(e,t,n){const r=jc(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Tu(r,i,n),await Hc(r,i,"getOobCode",eu,"EMAIL_PASSWORD_PROVIDER")}(BI,e)}catch(c){throw u(c.message),c}},updateProfile:async e=>{if(!n)throw new Error("No user logged in");try{await ju(n,e),e.displayName&&await rE(Wk(UI,"users",n.uid),{name:e.displayName},{merge:!0})}catch(c){throw u(c.message),c}},sendEmailVerification:async()=>{if(!n)throw new Error("No user logged in");try{await Ru(n)}catch(c){throw u(c.message),c}},verifyEmail:async()=>{},setupTwoFactorAuth:async()=>{},verifyTwoFactorAuth:async()=>{},setUserProfile:s};return(0,Me.jsx)(WI.Provider,{value:d,children:t})},qI=()=>(0,i.useContext)(WI);let KI={data:""},GI=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||KI,QI=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,YI=/\/\*[^]*?\*\/|  +/g,XI=/\n+/g,JI=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+s+";":r+="f"==o[1]?JI(s,o):o+"{"+JI(s,"k"==o[1]?"":t)+"}":"object"==typeof s?r+=JI(s,t?t.replace(/([^,])+/g,(e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):o):null!=s&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=JI.p?JI.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ZI={},eT=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+eT(e[n]);return t}return e},tT=(e,t,n,r,i)=>{let o=eT(e),s=ZI[o]||(ZI[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!ZI[s]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=QI.exec(e.replace(YI,""));)t[4]?r.shift():t[3]?(n=t[3].replace(XI," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(XI," ").trim();return r[0]})(e);ZI[s]=JI(i?{["@keyframes "+s]:t}:t,n?"":"."+s)}let a=n&&ZI.g?ZI.g:null;return n&&(ZI.g=ZI[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(ZI[s],t,r,a),s};function nT(e){let t=this||{},n=e.call?e(t.p):e;return tT(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":JI(e,""):!1===e?"":e}return e+r+(null==o?"":o)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,GI(t.target),t.g,t.o,t.k)}nT.bind({g:1});let rT,iT,oT,sT=nT.bind({k:1});function aT(e,t){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:iT&&iT()},a),n.o=/ *go\d+/.test(l),a.className=nT.apply(n,r)+(l?" "+l:""),t&&(a.ref=s);let c=e;return e[0]&&(c=a.as||e,delete a.as),oT&&c[0]&&oT(a),rT(c,a)}return t?t(i):i}}var lT=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,cT=(()=>{let e=0;return()=>(++e).toString()})(),uT=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),dT=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return dT(e,{type:e.toasts.find((e=>e.id===n.id))?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},hT=[],pT={toasts:[],pausedAt:void 0},fT=e=>{pT=dT(pT,e),hT.forEach((e=>{e(pT)}))},mT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},gT=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||cT()}}(t,e,n);return fT({type:2,toast:r}),r.id},yT=(e,t)=>gT("blank")(e,t);yT.error=gT("error"),yT.success=gT("success"),yT.loading=gT("loading"),yT.custom=gT("custom"),yT.dismiss=e=>{fT({type:3,toastId:e})},yT.remove=e=>fT({type:4,toastId:e}),yT.promise=(e,t,n)=>{let r=yT.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let i=t.success?lT(t.success,e):void 0;return i?yT.success(i,{id:r,...n,...null==n?void 0:n.success}):yT.dismiss(r),e})).catch((e=>{let i=t.error?lT(t.error,e):void 0;i?yT.error(i,{id:r,...n,...null==n?void 0:n.error}):yT.dismiss(r)})),e};var vT=(e,t)=>{fT({type:1,toast:{id:e,height:t}})},bT=()=>{fT({type:5,time:Date.now()})},wT=new Map,xT=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,i.useState)(pT),r=(0,i.useRef)(pT);(0,i.useEffect)((()=>(r.current!==pT&&n(pT),hT.push(n),()=>{let e=hT.indexOf(n);e>-1&&hT.splice(e,1)})),[]);let o=t.toasts.map((t=>{var n,r,i;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||mT[t.type],style:{...e.style,...null==(i=e[t.type])?void 0:i.style,...t.style}}}));return{...t,toasts:o}}(e);(0,i.useEffect)((()=>{if(n)return;let e=Date.now(),r=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>yT.dismiss(t.id)),n);t.visible&&yT.dismiss(t.id)}));return()=>{r.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let r=(0,i.useCallback)((()=>{n&&fT({type:6,time:Date.now()})}),[n]),o=(0,i.useCallback)(((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=n||{},s=t.filter((t=>(t.position||o)===(e.position||o)&&t.height)),a=s.findIndex((t=>t.id===e.id)),l=s.filter(((e,t)=>t<a&&e.visible)).length;return s.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[t]);return(0,i.useEffect)((()=>{t.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(wT.has(e))return;let n=setTimeout((()=>{wT.delete(e),fT({type:4,toastId:e})}),t);wT.set(e,n)}(e.id,e.removeDelay);else{let t=wT.get(e.id);t&&(clearTimeout(t),wT.delete(e.id))}}))}),[t]),{toasts:t,handlers:{updateHeight:vT,startPause:bT,endPause:r,calculateOffset:o}}},ST=sT`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kT=sT`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CT=sT`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ET=aT("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ST} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${CT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,IT=sT`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,TT=aT("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${IT} 1s linear infinite;
`,_T=sT`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,AT=sT`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,PT=aT("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_T} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${AT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,RT=aT("div")`
  position: absolute;
`,jT=aT("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,NT=sT`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,OT=aT("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${NT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,DT=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:o}=t;return void 0!==n?"string"==typeof n?i.createElement(OT,null,n):n:"blank"===r?null:i.createElement(jT,null,i.createElement(TT,{...o}),"loading"!==r&&i.createElement(RT,null,"error"===r?i.createElement(ET,{...o}):i.createElement(PT,{...o})))},MT=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,LT=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,FT=aT("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,zT=aT("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$T=i.memo((e=>{let{toast:t,position:n,style:r,children:o}=e,s=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=uT()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[MT(n),LT(n)];return{animation:t?`${sT(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${sT(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||n||"top-center",t.visible):{opacity:0},a=i.createElement(DT,{toast:t}),l=i.createElement(zT,{...t.ariaProps},lT(t.message,t));return i.createElement(FT,{className:t.className,style:{...s,...r,...t.style}},"function"==typeof o?o({icon:a,message:l}):i.createElement(i.Fragment,null,a,l))}));!function(e,t,n,r){JI.p=t,rT=e,iT=n,oT=r}(i.createElement);var BT=e=>{let{id:t,className:n,style:r,onHeightUpdate:o,children:s}=e,a=i.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;o(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,o]);return i.createElement("div",{ref:a,className:n,style:r},s)},UT=nT`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,VT=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:o,children:s,containerStyle:a,containerClassName:l}=e,{toasts:c,handlers:u}=xT(r);return i.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((e=>{let r=e.position||n,a=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:uT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}})(r,u.calculateOffset(e,{reverseOrder:t,gutter:o,defaultPosition:n}));return i.createElement(BT,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?UT:"",style:a},"custom"===e.type?lT(e.message,e):s?s(e):i.createElement($T,{toast:e,position:r}))})))};const WT=ao({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"},background:{default:"#f5f5f5",paper:"#ffffff"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500},h3:{fontSize:"1.75rem",fontWeight:500},h4:{fontSize:"1.5rem",fontWeight:500},h5:{fontSize:"1.25rem",fontWeight:500},h6:{fontSize:"1rem",fontWeight:500}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none"}}},MuiPaper:{styleOverrides:{root:{borderRadius:12}}}}});function HT(){return HT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HT.apply(null,arguments)}var qT=["shift","alt","meta","mod","ctrl"],KT={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function GT(e){return(e&&KT[e]||e||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function QT(e,t){return void 0===t&&(t=","),e.split(t)}function YT(e,t,n){void 0===t&&(t="+");var r=e.toLocaleLowerCase().split(t).map((function(e){return GT(e)})),i={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},o=r.filter((function(e){return!qT.includes(e)}));return HT({},i,{keys:o,description:n,hotkey:e})}"undefined"!==typeof document&&(document.addEventListener("keydown",(function(e){void 0!==e.key&&ZT([GT(e.key),GT(e.code)])})),document.addEventListener("keyup",(function(e){void 0!==e.key&&e_([GT(e.key),GT(e.code)])}))),"undefined"!==typeof window&&window.addEventListener("blur",(function(){XT.clear()}));var XT=new Set;function JT(e){return Array.isArray(e)}function ZT(e){var t=Array.isArray(e)?e:[e];XT.has("meta")&&XT.forEach((function(e){return!function(e){return qT.includes(e)}(e)&&XT.delete(e.toLowerCase())})),t.forEach((function(e){return XT.add(e.toLowerCase())}))}function e_(e){var t=Array.isArray(e)?e:[e];"meta"===e?XT.clear():t.forEach((function(e){return XT.delete(e.toLowerCase())}))}function t_(e,t){void 0===t&&(t=!1);var n,r=e.target,i=e.composed,o=null;return o=(n=r).tagName&&!n.tagName.startsWith("-")&&n.tagName.includes("-")&&i?e.composedPath()[0]&&e.composedPath()[0].tagName:r&&r.tagName,JT(t)?Boolean(o&&t&&t.some((function(e){var t;return e.toLowerCase()===(null==(t=o)?void 0:t.toLowerCase())}))):Boolean(o&&t&&t)}var n_=function(e,t,n){void 0===n&&(n=!1);var r,i,o=t.alt,s=t.meta,a=t.mod,l=t.shift,c=t.ctrl,u=t.keys,d=e.key,h=e.code,p=e.ctrlKey,f=e.metaKey,m=e.shiftKey,g=e.altKey,y=GT(h),v=d.toLowerCase();if((null==u||!u.includes(y))&&(null==u||!u.includes(v))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(y))return!1;if(!n){if(o===!g&&"alt"!==v)return!1;if(l===!m&&"shift"!==v)return!1;if(a){if(!f&&!p)return!1}else{if(s===!f&&"meta"!==v&&"os"!==v)return!1;if(c===!p&&"ctrl"!==v&&"control"!==v)return!1}}return!(!u||1!==u.length||!u.includes(v)&&!u.includes(y))||(u?(void 0===i&&(i=","),(JT(r=u)?r:r.split(i)).every((function(e){return XT.has(e.trim().toLowerCase())}))):!u)},r_=(0,i.createContext)(void 0);function i_(e,t){return e&&t&&"object"===typeof e&&"object"===typeof t?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((function(n,r){return n&&i_(e[r],t[r])}),!0):e===t}var o_=(0,i.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}});var s_=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},a_="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function l_(e,t,n,r){var o=(0,i.useState)(null),s=o[0],a=o[1],l=(0,i.useRef)(!1),c=n instanceof Array?r instanceof Array?void 0:r:n,u=JT(e)?e.join(null==c?void 0:c.splitKey):e,d=n instanceof Array?n:r instanceof Array?r:void 0,h=(0,i.useCallback)(t,null!=d?d:[]),p=(0,i.useRef)(h);p.current=d?h:t;var f=function(e){var t=(0,i.useRef)(void 0);return i_(t.current,e)||(t.current=e),t.current}(c),m=(0,i.useContext)(o_).enabledScopes,g=(0,i.useContext)(r_);return a_((function(){if(!1!==(null==f?void 0:f.enabled)&&(e=m,t=null==f?void 0:f.scopes,0===e.length&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),1):!t||e.some((function(e){return t.includes(e)}))||e.includes("*"))){var e,t,n=function(e,t){var n;if(void 0===t&&(t=!1),!t_(e,["input","textarea","select"])||t_(e,null==f?void 0:f.enableOnFormTags)){if(null!==s){var r=s.getRootNode();if((r instanceof Document||r instanceof ShadowRoot)&&r.activeElement!==s&&!s.contains(r.activeElement))return void s_(e)}(null==(n=e.target)||!n.isContentEditable||null!=f&&f.enableOnContentEditable)&&QT(u,null==f?void 0:f.splitKey).forEach((function(n){var r,i=YT(n,null==f?void 0:f.combinationKey);if(n_(e,i,null==f?void 0:f.ignoreModifiers)||null!=(r=i.keys)&&r.includes("*")){if(null!=f&&null!=f.ignoreEventWhen&&f.ignoreEventWhen(e))return;if(t&&l.current)return;if(function(e,t,n){("function"===typeof n&&n(e,t)||!0===n)&&e.preventDefault()}(e,i,null==f?void 0:f.preventDefault),!function(e,t,n){return"function"===typeof n?n(e,t):!0===n||void 0===n}(e,i,null==f?void 0:f.enabled))return void s_(e);p.current(e,i),t||(l.current=!0)}}))}},r=function(e){void 0!==e.key&&(ZT(GT(e.code)),(void 0===(null==f?void 0:f.keydown)&&!0!==(null==f?void 0:f.keyup)||null!=f&&f.keydown)&&n(e))},i=function(e){void 0!==e.key&&(e_(GT(e.code)),l.current=!1,null!=f&&f.keyup&&n(e,!0))},o=s||(null==c?void 0:c.document)||document;return o.addEventListener("keyup",i),o.addEventListener("keydown",r),g&&QT(u,null==f?void 0:f.splitKey).forEach((function(e){return g.addHotkey(YT(e,null==f?void 0:f.combinationKey,null==f?void 0:f.description))})),function(){o.removeEventListener("keyup",i),o.removeEventListener("keydown",r),g&&QT(u,null==f?void 0:f.splitKey).forEach((function(e){return g.removeHotkey(YT(e,null==f?void 0:f.combinationKey,null==f?void 0:f.description))}))}}}),[s,u,f,m]),a}function c_(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(KI){o(KI)}}function a(e){try{l(r.throw(e))}catch(KI){o(KI)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function u_(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(KI){o=[6,KI],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d_=function(){return d_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d_.apply(this,arguments)},h_=function(e){return{loading:void 0===e||null===e,value:e}},p_=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return d_(d_({},e),{error:t.error,loading:!1,value:void 0});case"reset":return h_(t.defaultValue);case"value":return d_(d_({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),h_(t)),r=n[0],o=n[1],s=(0,i.useCallback)((function(){var t=e?e():void 0;o({type:"reset",defaultValue:t})}),[e]),a=(0,i.useCallback)((function(e){o({type:"error",error:e})}),[]),l=(0,i.useCallback)((function(e){o({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:s,setError:a,setValue:l,value:r.value}}),[r.error,r.loading,s,a,l,r.value])},f_=function(e,t){var n=p_((function(){return e.currentUser})),r=n.error,o=n.loading,s=n.setError,a=n.setValue,l=n.value;return(0,i.useEffect)((function(){var n=Nu(e,(function(e){return c_(void 0,void 0,void 0,(function(){var n;return u_(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),s(n),[3,4];case 4:return a(e),[2]}}))}))}),s);return function(){n()}}),[e]),[l,o,r]};function m_(){const e=yo(bo);return e[Cn]||e}function g_(e,t,n,r,o){const[s,a]=i.useState((()=>o&&n?n(e).matches:r?r(e).matches:t));return Fr((()=>{if(!n)return;const t=n(e),r=()=>{a(t.matches)};return r(),t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}}),[e,n]),s}const y_={...o}.useSyncExternalStore;function v_(e,t,n,r,o){const s=i.useCallback((()=>t),[t]),a=i.useMemo((()=>{if(o&&n)return()=>n(e).matches;if(null!==r){const{matches:t}=r(e);return()=>t}return s}),[s,e,r,o,n]),[l,c]=i.useMemo((()=>{if(null===n)return[s,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addEventListener("change",e),()=>{t.removeEventListener("change",e)})]}),[s,n,e]);return y_(c,l,a)}function b_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t}=e;return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=pn();r&&t&&(r=r[t]||r);const i="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:o=!1,matchMedia:s=(i?window.matchMedia:null),ssrMatchMedia:a=null,noSsr:l=!1}=Lo({name:"MuiUseMediaQuery",props:n,theme:r});let c="function"===typeof e?e(r):e;c=c.replace(/^@media( ?)/m,"");return(void 0!==y_?v_:g_)(c,o,s,a,l)}}b_();const w_=b_({themeId:Cn}),x_={theme:void 0};const S_=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(x_.theme=r.theme,i=Qo(e(x_)),t=i,n=r.theme),i}};function k_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function C_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=Do(e,t,n)})),r}function E_(e){return Do("MuiPaper",e)}C_("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const I_=ds("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})(S_((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}}))),T_=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiPaper"}),r=m_(),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation",...c}=n,u={...n,component:o,elevation:s,square:a,variant:l},d=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return Mo({root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]},E_,i)})(u);return(0,Me.jsx)(I_,{as:o,ownerState:u,className:Ro(d.root,i),ref:t,...c,style:{..."elevation"===l&&{"--Paper-shadow":(r.vars||r).shadows[s],...r.vars&&{"--Paper-overlay":r.vars.overlays?.[s]},...!r.vars&&"dark"===r.palette.mode&&{"--Paper-overlay":`linear-gradient(${ti("#fff",Ki(s))}, ${ti("#fff",Ki(s))})`}},...c.style}})})),__=T_;function A_(e){return Do("MuiAppBar",e)}C_("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const P_=(e,t)=>e?`${e?.replace(")","")}, ${t})`:t,R_=ds(__,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${ls(n.position)}`],t[`color${ls(n.color)}`]]}})(S_((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(k_(["contrastText"])).map((e=>{let[n]=e;return{props:{color:n},style:{"--AppBar-background":(t.vars??t).palette[n].main,"--AppBar-color":(t.vars??t).palette[n].contrastText}}})),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?P_(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?P_(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}}))),j_=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:o=!1,position:s="fixed",...a}=n,l={...n,color:i,position:s,enableColorOnDark:o},c=(e=>{const{color:t,position:n,classes:r}=e;return Mo({root:["root",`color${ls(t)}`,`position${ls(n)}`]},A_,r)})(l);return(0,Me.jsx)(R_,{square:!0,component:"header",ownerState:l,elevation:4,className:Ro(c.root,r,"fixed"===s&&"mui-fixed"),ref:t,...a})})),N_=j_;function O_(e){return Do("MuiToolbar",e)}C_("MuiToolbar",["root","gutters","regular","dense"]);const D_=ds("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(S_((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}}))),M_=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:o=!1,variant:s="regular",...a}=n,l={...n,component:i,disableGutters:o,variant:s},c=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return Mo({root:["root",!n&&"gutters",r]},O_,t)})(l);return(0,Me.jsx)(D_,{as:i,className:Ro(c.root,r),ref:t,ownerState:l,...a})})),L_=M_;const F_=C_("MuiBox",["root"]),z_=ao(),$_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,s=qo("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(jr),a=i.forwardRef((function(e,i){const a=yo(n),{className:l,component:c="div",...u}=mo(e);return(0,Me.jsx)(s,{as:c,ref:i,className:Ro(l,o?o(r):r),theme:t&&a[t]||a,...u})}));return a}({themeId:Cn,defaultTheme:z_,defaultClassName:F_.root,generateClassName:No.generate}),B_=$_;function U_(e){return Do("MuiSvgIcon",e)}C_("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const V_=ds("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${ls(n.color)}`],t[`fontSize${ls(n.fontSize)}`]]}})(S_((e=>{let{theme:t}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars??t).palette?.[n]?.main}}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),W_=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=n,f=i.isValidElement(r)&&"svg"===r.type,m={...n,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f},g={};u||(g.viewBox=h);const y=(e=>{const{color:t,fontSize:n,classes:r}=e;return Mo({root:["root","inherit"!==t&&`color${ls(t)}`,`fontSize${ls(n)}`]},U_,r)})(m);return(0,Me.jsxs)(V_,{as:a,className:Ro(y.root,o),focusable:"false",color:c,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t,...g,...p,...f&&r.props,ownerState:m,children:[f?r.props.children:r,d?(0,Me.jsx)("title",{children:d}):null]})}));W_.muiName="SvgIcon";const H_=W_;function q_(e,t){function n(t,n){return(0,Me.jsx)(H_,{"data-testid":void 0,ref:n,...t,children:e})}return n.muiName=H_.muiName,i.memo(i.forwardRef(n))}const K_=q_((0,Me.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function G_(e){return Do("MuiAvatar",e)}C_("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);function Q_(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Y_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{Q_(t,e)}))}),t)}const X_=function(e){return"string"===typeof e};const J_=function(e,t,n){return void 0===e||X_(e)?t:{...t,ownerState:{...t.ownerState,...n}}};const Z_=function(e,t,n){return"function"===typeof e?e(t,n):e};const eA=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const tA=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const nA=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=Ro(n?.className,o,i?.className,r?.className),t={...n?.style,...i?.style,...r?.style},s={...n,...i,...r};return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=eA({...i,...r}),a=tA(r),l=tA(i),c=t(s),u=Ro(c?.className,n?.className,o,i?.className,r?.className),d={...c?.style,...n?.style,...i?.style,...r?.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}};function rA(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=t,{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...h}=o,p=u[e]||r,f=Z_(d[e],i),{props:{component:m,...g},internalRef:y}=nA({className:n,...l,externalForwardedProps:"root"===e?h:void 0,externalSlotProps:f}),v=Y_(y,f?.ref,t.ref),b="root"===e?m||c:m;return[p,J_(p,{..."root"===e&&!c&&!u[e]&&s,..."root"!==e&&!u[e]&&s,...g,...b&&!a&&{as:b},...b&&a&&{component:b},ref:v},i)]}const iA=ds("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(S_((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}}))),oA=ds("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),sA=ds(K_,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const aA=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiAvatar"}),{alt:r,children:o,className:s,component:a="div",slots:l={},slotProps:c={},imgProps:u,sizes:d,src:h,srcSet:p,variant:f="circular",...m}=n;let g=null;const y={...n,component:a,variant:f},v=function(e){let{crossOrigin:t,referrerPolicy:n,src:r,srcSet:o}=e;const[s,a]=i.useState(!1);return i.useEffect((()=>{if(!r&&!o)return;a(!1);let e=!0;const i=new Image;return i.onload=()=>{e&&a("loaded")},i.onerror=()=>{e&&a("error")},i.crossOrigin=t,i.referrerPolicy=n,i.src=r,o&&(i.srcset=o),()=>{e=!1}}),[t,n,r,o]),s}({...u,..."function"===typeof c.img?c.img(y):c.img,src:h,srcSet:p}),b=h||p,w=b&&"error"!==v;y.colorDefault=!w,delete y.ownerState;const x=(e=>{const{classes:t,variant:n,colorDefault:r}=e;return Mo({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},G_,t)})(y),[S,k]=rA("img",{className:x.img,elementType:oA,externalForwardedProps:{slots:l,slotProps:{img:{...u,...c.img}}},additionalProps:{alt:r,src:h,srcSet:p,sizes:d},ownerState:y});return g=w?(0,Me.jsx)(S,{...k}):o||0===o?o:b&&r?r[0]:(0,Me.jsx)(sA,{ownerState:y,className:x.fallback}),(0,Me.jsx)(iA,{as:a,className:Ro(x.root,s),ref:t,...m,ownerState:y,children:g})})),lA=aA;function cA(e){return Do("MuiTypography",e)}const uA=C_("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),dA={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},hA=mo,pA=ds("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${ls(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(S_((e=>{let{theme:t}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter((e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n})).map((e=>{let[t,n]=e;return{props:{variant:t},style:n}})),...Object.entries(t.palette).filter(k_()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette?.text||{}).filter((e=>{let[,t]=e;return"string"===typeof t})).map((e=>{let[n]=e;return{props:{color:`text${ls(n)}`},style:{color:(t.vars||t).palette.text[n]}}})),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}}))),fA={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},mA=i.forwardRef((function(e,t){const{color:n,...r}=So({props:e,name:"MuiTypography"}),i=hA({...r,...!dA[n]&&{color:n}}),{align:o="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=fA,...p}=i,f={...i,align:o,color:n,className:s,component:a,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h},m=a||(u?"p":h[d]||fA[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e;return Mo({root:["root",o,"inherit"!==e.align&&`align${ls(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},cA,s)})(f);return(0,Me.jsx)(pA,{as:m,ref:t,className:Ro(g.root,s),...p,ownerState:f,style:{..."inherit"!==o&&{"--Typography-textAlign":o},...p.style}})})),gA=mA;let yA=0;const vA={...o}.useId;function bA(e){if(void 0!==vA){const t=vA();return e??t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(yA+=1,n(`mui-${yA}`))}),[t]),r}(e)}function wA(e){return e&&e.ownerDocument||document}function xA(e){return wA(e).defaultView||window}const SA=function(e){const t=i.useRef(e);return Fr((()=>{t.current=e})),i.useRef((function(){return(0,t.current)(...arguments)})).current};function kA(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}function CA(e){return parseInt(e,10)||0}const EA={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function IA(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const TA=i.forwardRef((function(e,t){const{onChange:n,maxRows:r,minRows:o=1,style:s,value:a,...l}=e,{current:c}=i.useRef(null!=a),u=i.useRef(null),d=Y_(t,u),h=i.useRef(null),p=i.useRef(null),f=i.useCallback((()=>{const t=u.current,n=p.current;if(!t||!n)return;const i=xA(t).getComputedStyle(t);if("0px"===i.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=i.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const s=i.boxSizing,a=CA(i.paddingBottom)+CA(i.paddingTop),l=CA(i.borderBottomWidth)+CA(i.borderTopWidth),c=n.scrollHeight;n.value="x";const d=n.scrollHeight;let h=c;o&&(h=Math.max(Number(o)*d,h)),r&&(h=Math.min(Number(r)*d,h)),h=Math.max(h,d);return{outerHeightStyle:h+("border-box"===s?a+l:0),overflowing:Math.abs(h-c)<=1}}),[r,o,e.placeholder]),m=SA((()=>{const e=u.current,t=f();if(!e||!t||IA(t))return!1;const n=t.outerHeightStyle;return null!=h.current&&h.current!==n})),g=i.useCallback((()=>{const e=u.current,t=f();if(!e||!t||IA(t))return;const n=t.outerHeightStyle;h.current!==n&&(h.current=n,e.style.height=`${n}px`),e.style.overflow=t.overflowing?"hidden":""}),[f]),y=i.useRef(-1);Fr((()=>{const e=kA(g),t=u?.current;if(!t)return;const n=xA(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver((()=>{m()&&(r.unobserve(t),cancelAnimationFrame(y.current),g(),y.current=requestAnimationFrame((()=>{r.observe(t)})))})),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(y.current),n.removeEventListener("resize",e),r&&r.disconnect()}}),[f,g,m]),Fr((()=>{g()}));return(0,Me.jsxs)(i.Fragment,{children:[(0,Me.jsx)("textarea",{value:a,onChange:e=>{c||g(),n&&n(e)},ref:d,rows:o,style:s,...l}),(0,Me.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...EA,...s,paddingTop:0,paddingBottom:0}})]})})),_A=TA;const AA=function(e){return"string"===typeof e};function PA(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const RA=i.createContext(void 0);function jA(){return i.useContext(RA)}const NA=Y_,OA=Fr;function DA(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function MA(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(DA(e.value)&&""!==e.value||t&&DA(e.defaultValue)&&""!==e.defaultValue)}function LA(e){return Do("MuiInputBase",e)}const FA=C_("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var zA;const $A=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${ls(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},BA=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},UA=ds("div",{name:"MuiInputBase",slot:"Root",overridesResolver:$A})(S_((e=>{let{theme:t}=e;return{...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${FA.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"4px 0 5px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"100%"}}]}}))),VA=ds("input",{name:"MuiInputBase",slot:"Input",overridesResolver:BA})(S_((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${FA.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${FA.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}}))),WA=xo({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),HA=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:o,autoFocus:s,className:a,color:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,error:m,fullWidth:g=!1,id:y,inputComponent:v="input",inputProps:b={},inputRef:w,margin:x,maxRows:S,minRows:k,multiline:C=!1,name:E,onBlur:I,onChange:T,onClick:_,onFocus:A,onKeyDown:P,onKeyUp:R,placeholder:j,readOnly:N,renderSuffix:O,rows:D,size:M,slotProps:L={},slots:F={},startAdornment:z,type:$="text",value:B,...U}=n,V=null!=b.value?b.value:B,{current:W}=i.useRef(null!=V),H=i.useRef(),q=i.useCallback((e=>{0}),[]),K=NA(H,w,b.ref,q),[G,Q]=i.useState(!1),Y=jA();const X=PA({props:n,muiFormControl:Y,states:["color","disabled","error","hiddenLabel","size","required","filled"]});X.focused=Y?Y.focused:G,i.useEffect((()=>{!Y&&h&&G&&(Q(!1),I&&I())}),[Y,h,G,I]);const J=Y&&Y.onFilled,Z=Y&&Y.onEmpty,ee=i.useCallback((e=>{MA(e)?J&&J():Z&&Z()}),[J,Z]);OA((()=>{W&&ee({value:V})}),[V,ee,W]);i.useEffect((()=>{ee(H.current)}),[]);let te=v,ne=b;C&&"input"===te&&(ne=D?{type:void 0,minRows:D,maxRows:D,...ne}:{type:void 0,maxRows:S,minRows:k,...ne},te=_A);i.useEffect((()=>{Y&&Y.setAdornedStart(Boolean(z))}),[Y,z]);const re={...n,color:X.color||"primary",disabled:X.disabled,endAdornment:f,error:X.error,focused:X.focused,formControl:Y,fullWidth:g,hiddenLabel:X.hiddenLabel,multiline:C,size:X.size,startAdornment:z,type:$},ie=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e;return Mo({root:["root",`color${ls(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&`size${ls(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]},LA,t)})(re),oe=F.root||c.Root||UA,se=L.root||u.root||{},ae=F.input||c.Input||VA;return ne={...ne,...L.input??u.input},(0,Me.jsxs)(i.Fragment,{children:[!p&&"function"===typeof WA&&(zA||(zA=(0,Me.jsx)(WA,{}))),(0,Me.jsxs)(oe,{...se,ref:t,onClick:e=>{H.current&&e.currentTarget===e.target&&H.current.focus(),_&&_(e)},...U,...!AA(oe)&&{ownerState:{...re,...se.ownerState}},className:Ro(ie.root,se.className,a,N&&"MuiInputBase-readOnly"),children:[z,(0,Me.jsx)(RA.Provider,{value:null,children:(0,Me.jsx)(ae,{"aria-invalid":X.error,"aria-describedby":r,autoComplete:o,autoFocus:s,defaultValue:d,disabled:X.disabled,id:y,onAnimationStart:e=>{ee("mui-auto-fill-cancel"===e.animationName?H.current:{value:"x"})},name:E,placeholder:j,readOnly:N,required:X.required,rows:D,value:V,onKeyDown:P,onKeyUp:R,type:$,...ne,...!AA(ae)&&{as:te,ownerState:{...re,...ne.ownerState}},ref:K,className:Ro(ie.input,ne.className,N&&"MuiInputBase-readOnly"),onBlur:e=>{I&&I(e),b.onBlur&&b.onBlur(e),Y&&Y.onBlur?Y.onBlur(e):Q(!1)},onChange:function(e){if(!W){const t=e.target||H.current;if(null==t)throw new Error(In(1));ee({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];b.onChange&&b.onChange(e,...n),T&&T(e,...n)},onFocus:e=>{A&&A(e),b.onFocus&&b.onFocus(e),Y&&Y.onFocus?Y.onFocus(e):Q(!0)}})}),f,O?O({...X,startAdornment:z}):null]})]})})),qA=HA;function KA(e){return Do("MuiInput",e)}const GA={...FA,...C_("MuiInput",["root","underline","input"])},QA=ds(UA,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...$A(e,t),!n.disableUnderline&&t.underline]}})(S_((e=>{let{theme:t}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{"label + &":{marginTop:16}}},{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${GA.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${GA.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${GA.disabled}, .${GA.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${GA.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(k_()).map((e=>{let[n]=e;return{props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}}))]}}))),YA=ds(VA,{name:"MuiInput",slot:"Input",overridesResolver:BA})({}),XA=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:i={},componentsProps:o,fullWidth:s=!1,inputComponent:a="input",multiline:l=!1,slotProps:c,slots:u={},type:d="text",...h}=n,p=(e=>{const{classes:t,disableUnderline:n}=e,r=Mo({root:["root",!n&&"underline"],input:["input"]},KA,t);return{...t,...r}})(n),f={root:{ownerState:{disableUnderline:r}}},m=c??o?Rn(c??o,f):f,g=u.root??i.Root??QA,y=u.input??i.Input??YA;return(0,Me.jsx)(qA,{slots:{root:g,input:y},slotProps:m,fullWidth:s,inputComponent:a,multiline:l,ref:t,type:d,...h,classes:p})}));XA.muiName="Input";const JA=XA;function ZA(e){return Do("MuiFilledInput",e)}const eP={...FA,...C_("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},tP=ds(UA,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...$A(e,t),!n.disableUnderline&&t.underline]}})(S_((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${eP.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${eP.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${eP.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${eP.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${eP.disabled}, .${eP.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${eP.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(k_()).map((e=>{let[n]=e;return{props:{disableUnderline:!1,color:n},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n]?.main}`}}}})),{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:12}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:12}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"25px 12px 8px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}}]}}))),nP=ds(VA,{name:"MuiFilledInput",slot:"Input",overridesResolver:BA})(S_((e=>{let{theme:t}=e;return{paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}}))),rP=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:i={},componentsProps:o,fullWidth:s=!1,hiddenLabel:a,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:d={},type:h="text",...p}=n,f={...n,disableUnderline:r,fullWidth:s,inputComponent:l,multiline:c,type:h},m=(e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=e,l=Mo({root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd","small"===o&&`size${ls(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},ZA,t);return{...t,...l}})(n),g={root:{ownerState:f},input:{ownerState:f}},y=u??o?Rn(g,u??o):g,v=d.root??i.Root??tP,b=d.input??i.Input??nP;return(0,Me.jsx)(qA,{slots:{root:v,input:b},slotProps:y,fullWidth:s,inputComponent:l,multiline:c,ref:t,type:h,...p,classes:m})}));rP.muiName="Input";const iP=rP;var oP;const sP=ds("fieldset",{shouldForwardProp:us})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),aP=ds("legend",{shouldForwardProp:us})(S_((e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:e=>{let{ownerState:t}=e;return!t.withLabel},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:e=>{let{ownerState:t}=e;return t.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:e=>{let{ownerState:t}=e;return t.withLabel&&t.notched},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}})));function lP(e){return Do("MuiOutlinedInput",e)}const cP={...FA,...C_("MuiOutlinedInput",["root","notchedOutline","input"])},uP=ds(UA,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:$A})(S_((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${cP.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${cP.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${cP.focused} .${cP.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(k_()).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${cP.focused} .${cP.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}}})),{props:{},style:{[`&.${cP.error} .${cP.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${cP.disabled} .${cP.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:14}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:14}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"16.5px 14px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{padding:"8.5px 14px"}}]}}))),dP=ds((function(e){const{children:t,classes:n,className:r,label:i,notched:o,...s}=e,a=null!=i&&""!==i,l={...e,notched:o,withLabel:a};return(0,Me.jsx)(sP,{"aria-hidden":!0,className:r,ownerState:l,...s,children:(0,Me.jsx)(aP,{ownerState:l,children:a?(0,Me.jsx)("span",{children:i}):oP||(oP=(0,Me.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"}))})})}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(S_((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}))),hP=ds(VA,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:BA})(S_((e=>{let{theme:t}=e;return{padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:0}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}}]}}))),pP=i.forwardRef((function(e,t){var n;const r=So({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:d={},type:h="text",...p}=r,f=(e=>{const{classes:t}=e,n=Mo({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},lP,t);return{...t,...n}})(r),m=jA(),g=PA({props:r,muiFormControl:m,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),y={...r,color:g.color||"primary",disabled:g.disabled,error:g.error,focused:g.focused,formControl:m,fullWidth:s,hiddenLabel:g.hiddenLabel,multiline:c,size:g.size,type:h},v=d.root??o.Root??uP,b=d.input??o.Input??hP;return(0,Me.jsx)(qA,{slots:{root:v,input:b},renderSuffix:e=>(0,Me.jsx)(dP,{ownerState:y,className:f.notchedOutline,label:null!=l&&""!==l&&g.required?n||(n=(0,Me.jsxs)(i.Fragment,{children:[l,"\u2009","*"]})):l,notched:"undefined"!==typeof u?u:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:s,inputComponent:a,multiline:c,ref:t,type:h,...p,classes:{...f,notchedOutline:null}})}));pP.muiName="Input";const fP=pP;function mP(e){return Do("MuiFormLabel",e)}const gP=C_("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),yP=ds("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled]}})(S_((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(k_()).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${gP.focused}`]:{color:(t.vars||t).palette[n].main}}}})),{props:{},style:{[`&.${gP.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${gP.error}`]:{color:(t.vars||t).palette.error.main}}}]}}))),vP=ds("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(S_((e=>{let{theme:t}=e;return{[`&.${gP.error}`]:{color:(t.vars||t).palette.error.main}}}))),bP=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiFormLabel"}),{children:r,className:i,color:o,component:s="label",disabled:a,error:l,filled:c,focused:u,required:d,...h}=n,p=PA({props:n,muiFormControl:jA(),states:["color","required","focused","disabled","error","filled"]}),f={...n,color:p.color||"primary",component:s,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required},m=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e;return Mo({root:["root",`color${ls(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]},mP,t)})(f);return(0,Me.jsxs)(yP,{as:s,ownerState:f,className:Ro(m.root,i),ref:t,...h,children:[r,p.required&&(0,Me.jsxs)(vP,{ownerState:f,"aria-hidden":!0,className:m.asterisk,children:["\u2009","*"]})]})})),wP=bP;function xP(e){return Do("MuiInputLabel",e)}C_("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const SP=ds(wP,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${gP.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(S_((e=>{let{theme:t}=e;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:e=>{let{ownerState:t}=e;return t.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:e=>{let{ownerState:t}=e;return!t.disableAnimation},style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"filled"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:e=>{let{variant:t,ownerState:n,size:r}=e;return"filled"===t&&n.shrink&&"small"===r},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"outlined"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}}))),kP=i.forwardRef((function(e,t){const n=So({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:i,shrink:o,variant:s,className:a,...l}=n,c=jA();let u=o;"undefined"===typeof u&&c&&(u=c.filled||c.focused||c.adornedStart);const d=PA({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),h={...n,disableAnimation:r,formControl:c,shrink:u,size:d.size,variant:d.variant,required:d.required,focused:d.focused},p=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,l=Mo({root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"medium"!==r&&`size${ls(r)}`,s],asterisk:[a&&"asterisk"]},xP,t);return{...t,...l}})(h);return(0,Me.jsx)(SP,{"data-shrink":u,ref:t,className:Ro(p.root,a),...l,ownerState:h,classes:p})})),CP=kP;const EP=function(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)};function IP(e){return Do("MuiFormControl",e)}C_("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const TP=ds("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${ls(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),_P=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiFormControl"}),{children:r,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:m="medium",variant:g="outlined",...y}=n,v={...n,color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:m,variant:g},b=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return Mo({root:["root","none"!==n&&`margin${ls(n)}`,r&&"fullWidth"]},IP,t)})(v),[w,x]=i.useState((()=>{let e=!1;return r&&i.Children.forEach(r,(t=>{if(!EP(t,["Input","Select"]))return;const n=EP(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[S,k]=i.useState((()=>{let e=!1;return r&&i.Children.forEach(r,(t=>{EP(t,["Input","Select"])&&(MA(t.props,!0)||MA(t.props.inputProps,!0))&&(e=!0)})),e})),[C,E]=i.useState(!1);l&&C&&E(!1);const I=void 0===u||l?C:u;let T;i.useRef(!1);const _=i.useCallback((()=>{k(!0)}),[]),A=i.useCallback((()=>{k(!1)}),[]),P=i.useMemo((()=>({adornedStart:w,setAdornedStart:x,color:s,disabled:l,error:c,filled:S,focused:I,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{E(!1)},onFocus:()=>{E(!0)},onEmpty:A,onFilled:_,registerEffect:T,required:f,variant:g})),[w,s,l,c,S,I,d,h,T,A,_,f,m,g]);return(0,Me.jsx)(RA.Provider,{value:P,children:(0,Me.jsx)(TP,{as:a,ownerState:v,className:Ro(b.root,o),ref:t,...y,children:r})})})),AP=_P;function PP(e){return Do("MuiFormHelperText",e)}const RP=C_("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var jP;const NP=ds("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${ls(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(S_((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${RP.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${RP.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:e=>{let{ownerState:t}=e;return t.contained},style:{marginLeft:14,marginRight:14}}]}}))),OP=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p",disabled:s,error:a,filled:l,focused:c,margin:u,required:d,variant:h,...p}=n,f=PA({props:n,muiFormControl:jA(),states:["variant","size","disabled","error","filled","focused","required"]}),m={...n,component:o,contained:"filled"===f.variant||"outlined"===f.variant,variant:f.variant,size:f.size,disabled:f.disabled,error:f.error,filled:f.filled,focused:f.focused,required:f.required};delete m.ownerState;const g=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e;return Mo({root:["root",i&&"disabled",o&&"error",r&&`size${ls(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]},PP,t)})(m);return(0,Me.jsx)(NP,{as:o,className:Ro(g.root,i),ref:t,...p,ownerState:m,children:" "===r?jP||(jP=(0,Me.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):r})})),DP=OP;function MP(e){return parseInt(i.version,10)>=19?e?.props?.ref||null:e?.ref||null}const LP=wA;const FP=function(e){const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=e,s=i?{}:Z_(n,r),{props:a,internalRef:l}=nA({...o,externalSlotProps:s}),c=Y_(l,s?.ref,e.additionalProps?.ref);return J_(t,{...a,ref:c},r)};const zP=i.createContext({});function $P(e){return Do("MuiList",e)}C_("MuiList",["root","padding","dense","subheader"]);const BP=ds("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),UP=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiList"}),{children:r,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=n,d=i.useMemo((()=>({dense:a})),[a]),h={...n,component:s,dense:a,disablePadding:l},p=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return Mo({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},$P,t)})(h);return(0,Me.jsx)(zP.Provider,{value:d,children:(0,Me.jsxs)(BP,{as:s,className:Ro(p.root,o),ref:t,ownerState:h,...u,children:[c,r]})})})),VP=UP;function WP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}const HP=WP,qP=xA;function KP(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function GP(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function QP(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function YP(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&QP(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const XP=i.forwardRef((function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu",...h}=e,p=i.useRef(null),f=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});OA((()=>{r&&p.current.focus()}),[r]),i.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&r){const t=`${HP(qP(e))}px`;p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width=`calc(100% + ${t})`}return p.current}})),[]);const m=NA(p,t);let g=-1;i.Children.forEach(s,((e,t)=>{i.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=t),g===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=s.length&&(g=-1))):g===t&&(g+=1,g>=s.length&&(g=-1))}));const y=i.Children.map(s,((e,t)=>{if(t===g){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),i.cloneElement(e,t)}return e}));return(0,Me.jsx)(VP,{role:"menu",ref:m,className:a,onKeyDown:e=>{const t=p.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(u&&u(e));const r=LP(t).activeElement;if("ArrowDown"===n)e.preventDefault(),YP(t,r,c,l,KP);else if("ArrowUp"===n)e.preventDefault(),YP(t,r,c,l,GP);else if("Home"===n)e.preventDefault(),YP(t,null,c,l,KP);else if("End"===n)e.preventDefault(),YP(t,null,c,l,GP);else if(1===n.length){const i=f.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&QP(r,i);i.previousKeyMatched&&(a||YP(t,r,!1,l,KP,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1,...h,children:y})})),JP=XP,ZP=kA,eR={};function tR(e,t){const n=i.useRef(eR);return n.current===eR&&(n.current=e(t)),n}const nR=[];class rR{static create(){return new rR}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function iR(){const e=tR(rR.create).current;var t;return t=e.disposeEffect,i.useEffect(t,nR),e}function oR(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function sR(e,t){return sR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sR(e,t)}function aR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,sR(e,t)}const lR=!1,cR=i.createContext(null);var uR="unmounted",dR="exited",hR="entering",pR="entered",fR="exiting",mR=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=dR,r.appearStatus=hR):i=pR:i=t.unmountOnExit||t.mountOnEnter?uR:dR,r.state={status:i},r.nextCallback=null,r}aR(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===uR?{status:dR}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==hR&&n!==pR&&(t=hR):n!==hR&&n!==pR||(t=fR)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===hR){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===dR&&this.setState({status:uR})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],s=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||lR?this.safeSetState({status:pR},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:hR},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:pR},(function(){t.props.onEntered(o,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!lR?(this.props.onExit(r),this.safeSetState({status:fR},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:dR},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:dR},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===uR)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,oR(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(cR.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function gR(){}mR.contextType=cR,mR.propTypes={},mR.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gR,onEntering:gR,onEntered:gR,onExit:gR,onExiting:gR,onExited:gR},mR.UNMOUNTED=uR,mR.EXITED=dR,mR.ENTERING=hR,mR.ENTERED=pR,mR.EXITING=fR;const yR=mR,vR=e=>e.scrollTop;function bR(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??("number"===typeof n?n:n[t.mode]||0),easing:i.transitionTimingFunction??("object"===typeof r?r[t.mode]:r),delay:i.transitionDelay}}function wR(e){return`scale(${e}, ${e**2})`}const xR={entering:{opacity:1,transform:wR(1)},entered:{opacity:1,transform:"none"}},SR="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),kR=i.forwardRef((function(e,t){const{addEndListener:n,appear:r=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:g=yR,...y}=e,v=iR(),b=i.useRef(),w=m_(),x=i.useRef(null),S=NA(x,MP(o),t),k=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},C=k(u),E=k(((e,t)=>{vR(e);const{duration:n,delay:r,easing:i}=bR({style:f,timeout:m,easing:s},{mode:"enter"});let o;"auto"===m?(o=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=n,e.style.transition=[w.transitions.create("opacity",{duration:o,delay:r}),w.transitions.create("transform",{duration:SR?o:.666*o,delay:r,easing:i})].join(","),l&&l(e,t)})),I=k(c),T=k(p),_=k((e=>{const{duration:t,delay:n,easing:r}=bR({style:f,timeout:m,easing:s},{mode:"exit"});let i;"auto"===m?(i=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=t,e.style.transition=[w.transitions.create("opacity",{duration:i,delay:n}),w.transitions.create("transform",{duration:SR?i:.666*i,delay:SR?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=wR(.75),d&&d(e)})),A=k(h);return(0,Me.jsx)(g,{appear:r,in:a,nodeRef:x,onEnter:E,onEntered:I,onEntering:C,onExit:_,onExited:A,onExiting:T,addEndListener:e=>{"auto"===m&&v.start(b.current||0,e),n&&n(x.current,e)},timeout:"auto"===m?null:m,...y,children:(e,t)=>{let{ownerState:n,...r}=t;return i.cloneElement(o,{style:{opacity:0,transform:wR(.75),visibility:"exited"!==e||a?void 0:"hidden",...xR[e],...f,...o.props.style},ref:S,...r})}})}));kR&&(kR.muiSupportAuto=!0);const CR=kR,ER=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function IR(e){const t=[],n=[];return Array.from(e.querySelectorAll(ER)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function TR(){return!0}const _R=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:s=IR,isEnabled:a=TR,open:l}=e,c=i.useRef(!1),u=i.useRef(null),d=i.useRef(null),h=i.useRef(null),p=i.useRef(null),f=i.useRef(!1),m=i.useRef(null),g=Y_(MP(t),m),y=i.useRef(null);i.useEffect((()=>{l&&m.current&&(f.current=!n)}),[n,l]),i.useEffect((()=>{if(!l||!m.current)return;const e=wA(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),i.useEffect((()=>{if(!l||!m.current)return;const e=wA(m.current),t=t=>{y.current=t,!r&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){const e=Boolean(y.current?.shiftKey&&"Tab"===y.current?.key),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,o,a,l,s]);const v=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,Me.jsxs)(i.Fragment,{children:[(0,Me.jsx)("div",{tabIndex:l?0:-1,onFocus:v,ref:u,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,Me.jsx)("div",{tabIndex:l?0:-1,onFocus:v,ref:d,"data-testid":"sentinelEnd"})]})};const AR=i.forwardRef((function(e,t){const{children:n,container:r,disablePortal:o=!1}=e,[s,l]=i.useState(null),c=Y_(i.isValidElement(n)?MP(n):null,t);if(Fr((()=>{o||l(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),Fr((()=>{if(s&&!o)return Q_(t,s),()=>{Q_(t,null)}}),[t,s,o]),o){if(i.isValidElement(n)){const e={ref:c};return i.cloneElement(n,e)}return n}return s?a.createPortal(n,s):s})),PR={entering:{opacity:1},entered:{opacity:1}},RR=i.forwardRef((function(e,t){const n=m_(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:y=r,TransitionComponent:v=yR,...b}=e,w=i.useRef(null),x=NA(w,MP(a),t),S=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},k=S(h),C=S(((e,t)=>{vR(e);const r=bR({style:g,timeout:y,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),E=S(d),I=S(m),T=S((e=>{const t=bR({style:g,timeout:y,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),_=S(f);return(0,Me.jsx)(v,{appear:s,in:c,nodeRef:w,onEnter:C,onEntered:E,onEntering:k,onExit:T,onExited:_,onExiting:I,addEndListener:e=>{o&&o(w.current,e)},timeout:y,...b,children:(e,t)=>{let{ownerState:n,...r}=t;return i.cloneElement(a,{style:{opacity:0,visibility:"exited"!==e||c?void 0:"hidden",...PR[e],...g,...a.props.style},ref:x,...r})}})})),jR=RR;function NR(e){return Do("MuiBackdrop",e)}C_("MuiBackdrop",["root","invisible"]);const OR=ds("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),DR=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiBackdrop"}),{children:r,className:i,component:o="div",invisible:s=!1,open:a,components:l={},componentsProps:c={},slotProps:u={},slots:d={},TransitionComponent:h,transitionDuration:p,...f}=n,m={...n,component:o,invisible:s},g=(e=>{const{classes:t,invisible:n}=e;return Mo({root:["root",n&&"invisible"]},NR,t)})(m),y={slots:{transition:h,root:l.Root,...d},slotProps:{...c,...u}},[v,b]=rA("root",{elementType:OR,externalForwardedProps:y,className:Ro(g.root,i),ownerState:m}),[w,x]=rA("transition",{elementType:jR,externalForwardedProps:y,ownerState:m});return(0,Me.jsx)(w,{in:a,timeout:p,...f,...x,children:(0,Me.jsx)(v,{"aria-hidden":!0,...b,classes:g,ref:t,children:r})})})),MR=DR;function LR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function FR(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function zR(e){return parseInt(xA(e).getComputedStyle(e).paddingRight,10)||0}function $R(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=!o.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&FR(e,i)}))}function BR(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function UR(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=wA(e);return t.body===e?xA(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=WP(xA(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${zR(r)+e}px`;const t=wA(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${zR(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=wA(r).body;else{const t=r.parentElement,n=xA(r);e="HTML"===t?.nodeName&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const VR=()=>{},WR=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&FR(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);$R(t,e.mount,e.modalRef,r,!0);const i=BR(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=BR(this.containers,(t=>t.modals.includes(e))),r=this.containers[n];r.restore||(r.restore=UR(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=BR(this.containers,(t=>t.modals.includes(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&FR(e.modalRef,t),$R(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&FR(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const HR=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=e,h=i.useRef({}),p=i.useRef(null),f=i.useRef(null),m=Y_(f,d),[g,y]=i.useState(!u),v=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let b=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(b=!1);const w=()=>(h.current.modalRef=f.current,h.current.mount=p.current,h.current),x=()=>{WR.mount(w(),{disableScrollLock:r}),f.current&&(f.current.scrollTop=0)},S=SA((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||wA(p.current).body;WR.add(w(),e),f.current&&x()})),k=()=>WR.isTopModal(w()),C=SA((e=>{p.current=e,e&&(u&&k()?x():f.current&&FR(f.current,b))})),E=i.useCallback((()=>{WR.remove(w(),b)}),[b]);i.useEffect((()=>()=>{E()}),[E]),i.useEffect((()=>{u?S():v&&o||E()}),[u,E,v,o,S]);const I=e=>t=>{e.onKeyDown?.(t),"Escape"===t.key&&229!==t.which&&k()&&(n||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},T=e=>t=>{e.onClick?.(t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=eA(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r={...n,...t};return{role:"presentation",...r,onKeyDown:I(r),ref:m}},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"aria-hidden":!0,...e,onClick:T(e),open:u}},getTransitionProps:()=>({onEnter:LR((()=>{y(!1),s&&s()}),l?.props.onEnter??VR),onExited:LR((()=>{y(!0),a&&a(),o&&E()}),l?.props.onExited??VR)}),rootRef:m,portalRef:C,isTopModal:k,exited:g,hasTransition:v}};function qR(e){return Do("MuiModal",e)}C_("MuiModal",["root","hidden","backdrop"]);const KR=ds("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(S_((e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}}))),GR=ds(MR,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),QR=i.forwardRef((function(e,t){const n=So({name:"MuiModal",props:e}),{BackdropComponent:r=GR,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:c,container:u,component:d,components:h={},componentsProps:p={},disableAutoFocus:f=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:g=!1,disablePortal:y=!1,disableRestoreFocus:v=!1,disableScrollLock:b=!1,hideBackdrop:w=!1,keepMounted:x=!1,onClose:S,onTransitionEnter:k,onTransitionExited:C,open:E,slotProps:I={},slots:T={},theme:_,...A}=n,P={...n,closeAfterTransition:l,disableAutoFocus:f,disableEnforceFocus:m,disableEscapeKeyDown:g,disablePortal:y,disableRestoreFocus:v,disableScrollLock:b,hideBackdrop:w,keepMounted:x},{getRootProps:R,getBackdropProps:j,getTransitionProps:N,portalRef:O,isTopModal:D,exited:M,hasTransition:L}=HR({...P,rootRef:t}),F={...P,exited:M},z=(e=>{const{open:t,exited:n,classes:r}=e;return Mo({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},qR,r)})(F),$={};if(void 0===c.props.tabIndex&&($.tabIndex="-1"),L){const{onEnter:e,onExited:t}=N();$.onEnter=e,$.onExited=t}const B={slots:{root:h.Root,backdrop:h.Backdrop,...T},slotProps:{...p,...I}},[U,V]=rA("root",{ref:t,elementType:KR,externalForwardedProps:{...B,...A,component:d},getSlotProps:R,ownerState:F,className:Ro(a,z?.root,!F.open&&F.exited&&z?.hidden)}),[W,H]=rA("backdrop",{ref:o?.ref,elementType:r,externalForwardedProps:B,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:e=>j({...e,onClick:t=>{e?.onClick&&e.onClick(t)}}),className:Ro(o?.className,z?.backdrop),ownerState:F});return x||E||L&&!M?(0,Me.jsx)(AR,{ref:O,container:u,disablePortal:y,children:(0,Me.jsxs)(U,{...V,children:[!w&&r?(0,Me.jsx)(W,{...H}):null,(0,Me.jsx)(_R,{disableEnforceFocus:m,disableAutoFocus:f,disableRestoreFocus:v,isEnabled:D,open:E,children:i.cloneElement(c,$)})]})}):null})),YR=QR;function XR(e){return Do("MuiPopover",e)}C_("MuiPopover",["root","paper"]);function JR(e,t){if(!e)return t;function n(e,t){const n={};return Object.keys(t).forEach((r=>{(function(e,t){const n=e.charCodeAt(2);return"o"===e[0]&&"n"===e[1]&&n>=65&&n<=90&&"function"===typeof t})(r,t[r])&&"function"===typeof e[r]&&(n[r]=function(){e[r](...arguments),t[r](...arguments)})})),n}if("function"===typeof e||"function"===typeof t)return r=>{const i="function"===typeof t?t(r):t,o="function"===typeof e?e({...r,...i}):e,s=Ro(r?.className,i?.className,o?.className),a=n(o,i);return{...i,...o,...a,...!!s&&{className:s},...i?.style&&o?.style&&{style:{...i.style,...o.style}},...i?.sx&&o?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};const r=t,i=n(e,r),o=Ro(r?.className,e?.className);return{...t,...e,...i,...!!o&&{className:o},...r?.style&&e?.style&&{style:{...r.style,...e.style}},...r?.sx&&e?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function ZR(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function ej(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function tj(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function nj(e){return"function"===typeof e?e():e}const rj=ds(YR,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ij=ds(__,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),oj=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiPopover"}),{action:r,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:h=8,marginThreshold:p=16,open:f,PaperProps:m={},slots:g={},slotProps:y={},transformOrigin:v={vertical:"top",horizontal:"left"},TransitionComponent:b,transitionDuration:w="auto",TransitionProps:x={},disableScrollLock:S=!1,...k}=n,C=i.useRef(),E={...n,anchorOrigin:s,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:v,TransitionComponent:b,transitionDuration:w,TransitionProps:x},I=(e=>{const{classes:t}=e;return Mo({root:["root"],paper:["paper"]},XR,t)})(E),T=i.useCallback((()=>{if("anchorPosition"===l)return a;const e=nj(o),t=(e&&1===e.nodeType?e:LP(C.current).body).getBoundingClientRect();return{top:t.top+ZR(t,s.vertical),left:t.left+ej(t,s.horizontal)}}),[o,s.horizontal,s.vertical,a,l]),_=i.useCallback((e=>({vertical:ZR(e,v.vertical),horizontal:ej(e,v.horizontal)})),[v.horizontal,v.vertical]),A=i.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=_(t);if("none"===l)return{top:null,left:null,transformOrigin:tj(n)};const r=T();let i=r.top-n.vertical,s=r.left-n.horizontal;const a=i+t.height,c=s+t.width,u=qP(nj(o)),d=u.innerHeight-p,h=u.innerWidth-p;if(null!==p&&i<p){const e=i-p;i-=e,n.vertical+=e}else if(null!==p&&a>d){const e=a-d;i-=e,n.vertical+=e}if(null!==p&&s<p){const e=s-p;s-=e,n.horizontal+=e}else if(c>h){const e=c-h;s-=e,n.horizontal+=e}return{top:`${Math.round(i)}px`,left:`${Math.round(s)}px`,transformOrigin:tj(n)}}),[o,l,T,_,p]),[P,R]=i.useState(f),j=i.useCallback((()=>{const e=C.current;if(!e)return;const t=A(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,R(!0)}),[A]);i.useEffect((()=>(S&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j))),[o,S,j]);i.useEffect((()=>{f&&j()})),i.useImperativeHandle(r,(()=>f?{updatePosition:()=>{j()}}:null),[f,j]),i.useEffect((()=>{if(!f)return;const e=ZP((()=>{j()})),t=qP(nj(o));return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[o,f,j]);let N=w;const O={slots:{transition:b,...g},slotProps:{transition:x,paper:m,...y}},[D,M]=rA("transition",{elementType:CR,externalForwardedProps:O,ownerState:E,getSlotProps:e=>({...e,onEntering:(t,n)=>{e.onEntering?.(t,n),j()},onExited:t=>{e.onExited?.(t),R(!1)}}),additionalProps:{appear:!0,in:f}});"auto"!==w||D.muiSupportAuto||(N=void 0);const L=d||(o?LP(nj(o)).body:void 0),[F,{slots:z,slotProps:$,...B}]=rA("root",{ref:t,elementType:rj,externalForwardedProps:{...O,...k},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:g.backdrop},slotProps:{backdrop:JR("function"===typeof y.backdrop?y.backdrop(E):y.backdrop,{invisible:!0})},container:L,open:f},ownerState:E,className:Ro(I.root,u)}),[U,V]=rA("paper",{ref:C,className:I.paper,elementType:ij,externalForwardedProps:O,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:P?void 0:{opacity:0}},ownerState:E});return(0,Me.jsx)(F,{...B,...!AA(F)&&{slots:z,slotProps:$,disableScrollLock:S},children:(0,Me.jsx)(D,{...M,timeout:N,children:(0,Me.jsx)(U,{...V,children:c})})})})),sj=oj;function aj(e){return Do("MuiMenu",e)}C_("MuiMenu",["root","paper","list"]);const lj={vertical:"top",horizontal:"right"},cj={vertical:"top",horizontal:"left"},uj=ds(sj,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),dj=ds(ij,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),hj=ds(JP,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),pj=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:d={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:f,...m}={},variant:g="selectedMenu",slots:y={},slotProps:v={},...b}=n,w=mn(),x={...n,autoFocus:r,disableAutoFocusItem:a,MenuListProps:l,onEntering:f,PaperProps:d,transitionDuration:p,TransitionProps:m,variant:g},S=(e=>{const{classes:t}=e;return Mo({root:["root"],paper:["paper"],list:["list"]},aj,t)})(x),k=r&&!a&&u,C=i.useRef(null);let E=-1;i.Children.map(o,((e,t)=>{i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===E)&&(E=t))}));const I={slots:y,slotProps:{list:l,transition:m,paper:d,...v}},T=FP({elementType:y.root,externalSlotProps:v.root,ownerState:x,className:[S.root,s]}),[_,A]=rA("paper",{className:S.paper,elementType:dj,externalForwardedProps:I,shouldForwardComponentProp:!0,ownerState:x}),[P,R]=rA("list",{className:Ro(S.list,l.className),elementType:hj,shouldForwardComponentProp:!0,externalForwardedProps:I,getSlotProps:e=>({...e,onKeyDown:t=>{(e=>{"Tab"===e.key&&(e.preventDefault(),c&&c(e,"tabKeyDown"))})(t),e.onKeyDown?.(t)}}),ownerState:x}),j="function"===typeof I.slotProps.transition?I.slotProps.transition(x):I.slotProps.transition;return(0,Me.jsx)(uj,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?lj:cj,slots:{root:y.root,paper:_,backdrop:y.backdrop,...y.transition&&{transition:y.transition}},slotProps:{root:T,paper:A,backdrop:"function"===typeof v.backdrop?v.backdrop(x):v.backdrop,transition:{...j,onEntering:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];((e,t)=>{C.current&&C.current.adjustStyleForScrollbar(e,{direction:w?"rtl":"ltr"}),f&&f(e,t)})(...t),j?.onEntering?.(...t)}}},open:u,ref:t,transitionDuration:p,ownerState:x,...b,classes:h,children:(0,Me.jsx)(P,{actions:C,autoFocus:r&&(-1===E||a),autoFocusItem:k,variant:g,...R,children:o})})})),fj=pj;function mj(e){return Do("MuiNativeSelect",e)}const gj=C_("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),yj=ds("select")((e=>{let{theme:t}=e;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${gj.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:e=>{let{ownerState:t}=e;return"filled"!==t.variant&&"outlined"!==t.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]}})),vj=ds(yj,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:us,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${gj.multiple}`]:t.multiple}]}})({}),bj=ds("svg")((e=>{let{theme:t}=e;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${gj.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:e=>{let{ownerState:t}=e;return t.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}})),wj=ds(bj,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ls(n.variant)}`],n.open&&t.iconOpen]}})({}),xj=i.forwardRef((function(e,t){const{className:n,disabled:r,error:o,IconComponent:s,inputRef:a,variant:l="standard",...c}=e,u={...e,disabled:r,variant:l,error:o},d=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e;return Mo({select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ls(n)}`,o&&"iconOpen",r&&"disabled"]},mj,t)})(u);return(0,Me.jsxs)(i.Fragment,{children:[(0,Me.jsx)(vj,{ownerState:u,className:Ro(d.select,n),disabled:r,ref:a||t,...c}),e.multiple?null:(0,Me.jsx)(wj,{as:s,ownerState:u,className:d.icon})]})})),Sj=xj;const kj=function(e){let{controlled:t,default:n,name:r,state:o="value"}=e;const{current:s}=i.useRef(void 0!==t),[a,l]=i.useState(n);return[s?t:a,i.useCallback((e=>{s||l(e)}),[])]};function Cj(e){return Do("MuiSelect",e)}const Ej=C_("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Ij;const Tj=ds(yj,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Ej.select}`]:t.select},{[`&.${Ej.select}`]:t[n.variant]},{[`&.${Ej.error}`]:t.error},{[`&.${Ej.multiple}`]:t.multiple}]}})({[`&.${Ej.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),_j=ds(bj,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ls(n.variant)}`],n.open&&t.iconOpen]}})({}),Aj=ds("input",{shouldForwardProp:e=>cs(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Pj(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Rj(e){return null==e||"string"===typeof e&&!e.trim()}const jj=i.forwardRef((function(e,t){const{"aria-describedby":n,"aria-label":r,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:h,error:p=!1,IconComponent:f,inputRef:m,labelId:g,MenuProps:y={},multiple:v,name:b,onBlur:w,onChange:x,onClose:S,onFocus:k,onOpen:C,open:E,readOnly:I,renderValue:T,required:_,SelectDisplayProps:A={},tabIndex:P,type:R,value:j,variant:N="standard",...O}=e,[D,M]=kj({controlled:j,default:u,name:"Select"}),[L,F]=kj({controlled:E,default:c,name:"Select"}),z=i.useRef(null),$=i.useRef(null),[B,U]=i.useState(null),{current:V}=i.useRef(null!=E),[W,H]=i.useState(),q=NA(t,m),K=i.useCallback((e=>{$.current=e,e&&U(e)}),[]),G=B?.parentNode;i.useImperativeHandle(q,(()=>({focus:()=>{$.current.focus()},node:z.current,value:D})),[D]),i.useEffect((()=>{c&&L&&B&&!V&&(H(s?null:G.clientWidth),$.current.focus())}),[B,s]),i.useEffect((()=>{o&&$.current.focus()}),[o]),i.useEffect((()=>{if(!g)return;const e=LP($.current).getElementById(g);if(e){const t=()=>{getSelection().isCollapsed&&$.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[g]);const Q=(e,t)=>{e?C&&C(t):S&&S(t),V||(H(s?null:G.clientWidth),F(e))},Y=i.Children.toArray(a),X=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(v){n=Array.isArray(D)?D.slice():[];const t=D.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),D!==n&&(M(n),x)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:b}}),x(i,e)}v||Q(!1,t)}},J=null!==B&&L;let Z,ee;delete O["aria-invalid"];const te=[];let ne=!1,re=!1;(MA({value:D})||h)&&(T?Z=T(D):ne=!0);const ie=Y.map((e=>{if(!i.isValidElement(e))return null;let t;if(v){if(!Array.isArray(D))throw new Error(In(2));t=D.some((t=>Pj(t,e.props.value))),t&&ne&&te.push(e.props.children)}else t=Pj(D,e.props.value),t&&ne&&(ee=e.props.children);return t&&(re=!0),i.cloneElement(e,{"aria-selected":t?"true":"false",onClick:X(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ne&&(Z=v?0===te.length?null:te.reduce(((e,t,n)=>(e.push(t),n<te.length-1&&e.push(", "),e)),[]):ee);let oe,se=W;!s&&V&&B&&(se=G.clientWidth),oe="undefined"!==typeof P?P:d?null:0;const ae=A.id||(b?`mui-component-select-${b}`:void 0),le={...e,variant:N,value:D,open:J,error:p},ce=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e;return Mo({select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${ls(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},Cj,t)})(le),ue={...y.PaperProps,...y.slotProps?.paper},de=bA();return(0,Me.jsxs)(i.Fragment,{children:[(0,Me.jsx)(Tj,{as:"div",ref:K,tabIndex:oe,role:"combobox","aria-controls":J?de:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":J?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[g,ae].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":_?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:e=>{if(!I){[" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),Q(!0,e))}},onMouseDown:d||I?null:e=>{0===e.button&&(e.preventDefault(),$.current.focus(),Q(!0,e))},onBlur:e=>{!J&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:D,name:b}}),w(e))},onFocus:k,...A,ownerState:le,className:Ro(A.className,ce.select,l),id:ae,children:Rj(Z)?Ij||(Ij=(0,Me.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):Z}),(0,Me.jsx)(Aj,{"aria-invalid":p,value:Array.isArray(D)?D.join(","):D,name:b,ref:z,"aria-hidden":!0,onChange:e=>{const t=Y.find((t=>t.props.value===e.target.value));void 0!==t&&(M(t.props.value),x&&x(e,t))},tabIndex:-1,disabled:d,className:ce.nativeInput,autoFocus:o,required:_,...O,ownerState:le}),(0,Me.jsx)(_j,{as:f,className:ce.icon,ownerState:le}),(0,Me.jsx)(fj,{id:`menu-${b||""}`,anchorEl:G,open:J,onClose:e=>{Q(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...y,slotProps:{...y.slotProps,list:{"aria-labelledby":g,role:"listbox","aria-multiselectable":v?"true":void 0,disableListWrap:!0,id:de,...y.MenuListProps},paper:{...ue,style:{minWidth:se,...null!=ue?ue.style:null}}},children:ie})]})})),Nj=jj,Oj=q_((0,Me.jsx)("path",{d:"M7 10l5 5 5-5z"})),Dj={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>us(e)&&"variant"!==e,slot:"Root"},Mj=ds(JA,Dj)(""),Lj=ds(fP,Dj)(""),Fj=ds(iP,Dj)(""),zj=i.forwardRef((function(e,t){const n=So({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=Oj,id:d,input:h,inputProps:p,label:f,labelId:m,MenuProps:g,multiple:y=!1,native:v=!1,onClose:b,onOpen:w,open:x,renderValue:S,SelectDisplayProps:k,variant:C="outlined",...E}=n,I=v?Sj:Nj,T=PA({props:n,muiFormControl:jA(),states:["variant","error"]}),_=T.variant||C,A={...n,variant:_,classes:s},P=(e=>{const{classes:t}=e,n=Mo({root:["root"]},Cj,t);return{...t,...n}})(A),{root:R,...j}=P,N=h||{standard:(0,Me.jsx)(Mj,{ownerState:A}),outlined:(0,Me.jsx)(Lj,{label:f,ownerState:A}),filled:(0,Me.jsx)(Fj,{ownerState:A})}[_],O=NA(t,MP(N));return(0,Me.jsx)(i.Fragment,{children:i.cloneElement(N,{inputComponent:I,inputProps:{children:o,error:T.error,IconComponent:u,variant:_,type:void 0,multiple:y,...v?{id:d}:{autoWidth:r,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:b,onOpen:w,open:x,renderValue:S,SelectDisplayProps:{id:d,...k}},...p,classes:p?Rn(j,p.classes):j,...h?h.props.inputProps:{}},...(y&&v||c)&&"outlined"===_?{notched:!0}:{},ref:O,className:Ro(N.props.className,a,P.root),...!h&&{variant:_},...E})})}));zj.muiName="Select";const $j=zj;function Bj(e){return Do("MuiTextField",e)}C_("MuiTextField",["root"]);const Uj={standard:JA,filled:iP,outlined:fP},Vj=ds(AP,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Wj=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:s,color:a="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:p,id:f,InputLabelProps:m,inputProps:g,InputProps:y,inputRef:v,label:b,maxRows:w,minRows:x,multiline:S=!1,name:k,onBlur:C,onChange:E,onFocus:I,placeholder:T,required:_=!1,rows:A,select:P=!1,SelectProps:R,slots:j={},slotProps:N={},type:O,value:D,variant:M="outlined",...L}=n,F={...n,autoFocus:i,color:a,disabled:c,error:u,fullWidth:h,multiline:S,required:_,select:P,variant:M},z=(e=>{const{classes:t}=e;return Mo({root:["root"]},Bj,t)})(F);const $=bA(f),B=p&&$?`${$}-helper-text`:void 0,U=b&&$?`${$}-label`:void 0,V=Uj[M],W={slots:j,slotProps:{input:y,inputLabel:m,htmlInput:g,formHelperText:d,select:R,...N}},H={},q=W.slotProps.inputLabel;"outlined"===M&&(q&&"undefined"!==typeof q.shrink&&(H.notched=q.shrink),H.label=b),P&&(R&&R.native||(H.id=void 0),H["aria-describedby"]=void 0);const[K,G]=rA("root",{elementType:Vj,shouldForwardComponentProp:!0,externalForwardedProps:{...W,...L},ownerState:F,className:Ro(z.root,s),ref:t,additionalProps:{disabled:c,error:u,fullWidth:h,required:_,color:a,variant:M}}),[Q,Y]=rA("input",{elementType:V,externalForwardedProps:W,additionalProps:H,ownerState:F}),[X,J]=rA("inputLabel",{elementType:CP,externalForwardedProps:W,ownerState:F}),[Z,ee]=rA("htmlInput",{elementType:"input",externalForwardedProps:W,ownerState:F}),[te,ne]=rA("formHelperText",{elementType:DP,externalForwardedProps:W,ownerState:F}),[re,ie]=rA("select",{elementType:$j,externalForwardedProps:W,ownerState:F}),oe=(0,Me.jsx)(Q,{"aria-describedby":B,autoComplete:r,autoFocus:i,defaultValue:l,fullWidth:h,multiline:S,name:k,rows:A,maxRows:w,minRows:x,type:O,value:D,id:$,inputRef:v,onBlur:C,onChange:E,onFocus:I,placeholder:T,inputProps:ee,slots:{input:j.htmlInput?Z:void 0},...Y});return(0,Me.jsxs)(K,{...G,children:[null!=b&&""!==b&&(0,Me.jsx)(X,{htmlFor:$,id:U,...J,children:b}),P?(0,Me.jsx)(re,{"aria-describedby":B,id:$,labelId:U,value:D,input:oe,...ie,children:o}):oe,p&&(0,Me.jsx)(te,{id:B,...ne,children:p})]})})),Hj=Wj;function qj(e){return Do("MuiInputAdornment",e)}const Kj=C_("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Gj;const Qj=ds("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${ls(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(S_((e=>{let{theme:t}=e;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${Kj.positionStart}&:not(.${Kj.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}}))),Yj=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiInputAdornment"}),{children:r,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u,...d}=n,h=jA()||{};let p=u;u&&h.variant,h&&!p&&(p=h.variant);const f={...n,hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:c,variant:p},m=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e;return Mo({root:["root",n&&"disablePointerEvents",i&&`position${ls(i)}`,s,r&&"hiddenLabel",o&&`size${ls(o)}`]},qj,t)})(f);return(0,Me.jsx)(RA.Provider,{value:null,children:(0,Me.jsx)(Qj,{as:s,ownerState:f,className:Ro(m.root,o),ref:t,...d,children:"string"!==typeof r||l?(0,Me.jsxs)(i.Fragment,{children:["start"===c?Gj||(Gj=(0,Me.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):null,r]}):(0,Me.jsx)(gA,{color:"textSecondary",children:r})})})})),Xj=Yj,Jj=bA;function Zj(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}const eN=SA;class tN{static create(){return new tN}static use(){const e=tR(tN.create).current,[t,n]=i.useState(!1);return e.shouldMount=t,e.setShouldMount=n,i.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())};start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.start(...t)))}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.stop(...t)))}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.pulsate(...t)))}}function nN(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function rN(e,t,n){return null!=n[t]?n[t]:e.props[t]}function iN(e,t,n){var r=nN(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(t,r);return Object.keys(o).forEach((function(s){var a=o[s];if((0,i.isValidElement)(a)){var l=s in t,c=s in r,u=t[s],d=(0,i.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,i.isValidElement)(u)&&(o[s]=(0,i.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:rN(a,"exit",e),enter:rN(a,"enter",e)})):o[s]=(0,i.cloneElement)(a,{in:!1}):o[s]=(0,i.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:rN(a,"exit",e),enter:rN(a,"enter",e)})}})),o}var oN=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},sN=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}aR(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,s=t.handleExited;return{children:t.firstRender?(n=e,r=s,nN(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:rN(e,"appear",n),enter:rN(e,"enter",n),exit:rN(e,"exit",n)})}))):iN(e,o,s),firstRender:!1}},n.handleExited=function(e,t){var n=nN(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Fo({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=oR(e,["component","childFactory"]),o=this.state.contextValue,s=oN(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(cR.Provider,{value:o},s):i.createElement(cR.Provider,{value:o},i.createElement(t,r,s))},t}(i.Component);sN.propTypes={},sN.defaultProps={component:"div",childFactory:function(e){return e}};const aN=sN;const lN=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=i.useState(!1),p=Ro(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:a,height:a,top:-a/2+s,left:-a/2+o},m=Ro(n.child,d&&n.childLeaving,r&&n.childPulsate);return l||d||h(!0),i.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,Me.jsx)("span",{className:p,style:f,children:(0,Me.jsx)("span",{className:m})})};const cN=C_("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),uN=Mr`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,dN=Mr`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,hN=Mr`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,pN=ds("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),fN=ds(lN,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${cN.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${uN};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  &.${cN.ripplePulsate} {
    animation-duration: ${e=>{let{theme:t}=e;return t.transitions.duration.shorter}}ms;
  }

  & .${cN.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${cN.childLeaving} {
    opacity: 0;
    animation-name: ${dN};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  & .${cN.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${hN};
    animation-duration: 2500ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,mN=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:s,...a}=n,[l,c]=i.useState([]),u=i.useRef(0),d=i.useRef(null);i.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=i.useRef(!1),p=iR(),f=i.useRef(null),m=i.useRef(null),g=i.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;c((e=>[...e,(0,Me.jsx)(fN,{classes:{ripple:Ro(o.ripple,cN.ripple),rippleVisible:Ro(o.rippleVisible,cN.rippleVisible),ripplePulsate:Ro(o.ripplePulsate,cN.ripplePulsate),child:Ro(o.child,cN.child),childLeaving:Ro(o.childLeaving,cN.childLeaving),childPulsate:Ro(o.childPulsate,cN.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,d.current=s}),[o]),y=i.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:o=r||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===e?.type&&h.current)return void(h.current=!1);"touchstart"===e?.type&&(h.current=!0);const a=s?null:m.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}e?.touches?null===f.current&&(f.current=()=>{g({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})},p.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):g({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[r,g,p]),v=i.useCallback((()=>{y({},{pulsate:!0})}),[y]),b=i.useCallback(((e,t)=>{if(p.clear(),"touchend"===e?.type&&f.current)return f.current(),f.current=null,void p.start(0,(()=>{b(e,t)}));f.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[p]);return i.useImperativeHandle(t,(()=>({pulsate:v,start:y,stop:b})),[v,y,b]),(0,Me.jsx)(pN,{className:Ro(cN.root,o.root,s),ref:m,...a,children:(0,Me.jsx)(aN,{component:null,exit:!0,children:l})})})),gN=mN;function yN(e){return Do("MuiButtonBase",e)}const vN=C_("MuiButtonBase",["root","disabled","focusVisible"]),bN=ds("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${vN.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),wN=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:f="a",onBlur:m,onClick:g,onContextMenu:y,onDragLeave:v,onFocus:b,onFocusVisible:w,onKeyDown:x,onKeyUp:S,onMouseDown:k,onMouseLeave:C,onMouseUp:E,onTouchEnd:I,onTouchMove:T,onTouchStart:_,tabIndex:A=0,TouchRippleProps:P,touchRippleRef:R,type:j,...N}=n,O=i.useRef(null),D=tN.use(),M=NA(D.ref,R),[L,F]=i.useState(!1);c&&L&&F(!1),i.useImperativeHandle(r,(()=>({focusVisible:()=>{F(!0),O.current.focus()}})),[]);const z=D.shouldMount&&!u&&!c;i.useEffect((()=>{L&&h&&!u&&D.pulsate()}),[u,h,L,D]);const $=xN(D,"start",k,d),B=xN(D,"stop",y,d),U=xN(D,"stop",v,d),V=xN(D,"stop",E,d),W=xN(D,"stop",(e=>{L&&e.preventDefault(),C&&C(e)}),d),H=xN(D,"start",_,d),q=xN(D,"stop",I,d),K=xN(D,"stop",T,d),G=xN(D,"stop",(e=>{Zj(e.target)||F(!1),m&&m(e)}),!1),Q=eN((e=>{O.current||(O.current=e.currentTarget),Zj(e.target)&&(F(!0),w&&w(e)),b&&b(e)})),Y=()=>{const e=O.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},X=eN((e=>{h&&!e.repeat&&L&&" "===e.key&&D.stop(e,(()=>{D.start(e)})),e.target===e.currentTarget&&Y()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&Y()&&"Enter"===e.key&&!c&&(e.preventDefault(),g&&g(e))})),J=eN((e=>{h&&" "===e.key&&L&&!e.defaultPrevented&&D.stop(e,(()=>{D.pulsate(e)})),S&&S(e),g&&e.target===e.currentTarget&&Y()&&" "===e.key&&!e.defaultPrevented&&g(e)}));let Z=l;"button"===Z&&(N.href||N.to)&&(Z=f);const ee={};"button"===Z?(ee.type=void 0===j?"button":j,ee.disabled=c):(N.href||N.to||(ee.role="button"),c&&(ee["aria-disabled"]=c));const te=NA(t,O),ne={...n,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:A,focusVisible:L},re=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=Mo({root:["root",t&&"disabled",n&&"focusVisible"]},yN,i);return n&&r&&(o.root+=` ${r}`),o})(ne);return(0,Me.jsxs)(bN,{as:Z,className:Ro(re.root,a),ownerState:ne,onBlur:G,onClick:g,onContextMenu:B,onFocus:Q,onKeyDown:X,onKeyUp:J,onMouseDown:$,onMouseLeave:W,onMouseUp:V,onDragLeave:U,onTouchEnd:q,onTouchMove:K,onTouchStart:H,ref:te,tabIndex:c?-1:A,type:j,...ee,...N,children:[s,z?(0,Me.jsx)(gN,{ref:M,center:o,...P}):null]})}));function xN(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return eN((i=>(n&&n(i),r||e[t](i),!0)))}const SN=wN;function kN(e){return Do("MuiCircularProgress",e)}C_("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const CN=44,EN=Mr`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,IN=Mr`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,TN="string"!==typeof EN?Dr`
        animation: ${EN} 1.4s linear infinite;
      `:null,_N="string"!==typeof IN?Dr`
        animation: ${IN} 1.4s ease-in-out infinite;
      `:null,AN=ds("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${ls(n.color)}`]]}})(S_((e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:TN||{animation:`${EN} 1.4s linear infinite`}},...Object.entries(t.palette).filter(k_()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}))]}}))),PN=ds("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),RN=ds("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${ls(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(S_((e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:_N||{animation:`${IN} 1.4s ease-in-out infinite`}}]}}))),jN=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:s=40,style:a,thickness:l=3.6,value:c=0,variant:u="indeterminate",...d}=n,h={...n,color:i,disableShrink:o,size:s,thickness:l,value:c,variant:u},p=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e;return Mo({root:["root",n,`color${ls(r)}`],svg:["svg"],circle:["circle",`circle${ls(n)}`,i&&"circleDisableShrink"]},kN,t)})(h),f={},m={},g={};if("determinate"===u){const e=2*Math.PI*((CN-l)/2);f.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(c),f.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,Me.jsx)(AN,{className:Ro(p.root,r),style:{width:s,height:s,...m,...a},ownerState:h,ref:t,role:"progressbar",...g,...d,children:(0,Me.jsx)(PN,{className:p.svg,ownerState:h,viewBox:"22 22 44 44",children:(0,Me.jsx)(RN,{className:p.circle,style:f,ownerState:h,cx:CN,cy:CN,r:(CN-l)/2,fill:"none",strokeWidth:l})})})})),NN=jN;function ON(e){return Do("MuiIconButton",e)}const DN=C_("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),MN=ds(SN,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,"default"!==n.color&&t[`color${ls(n.color)}`],n.edge&&t[`edge${ls(n.edge)}`],t[`size${ls(n.size)}`]]}})(S_((e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}})),S_((e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(k_()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette).filter(k_()).map((e=>{let[n]=e;return{props:{color:n},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ti((t.vars||t).palette[n].main,t.palette.action.hoverOpacity)}}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${DN.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${DN.loading}`]:{color:"transparent"}}}))),LN=ds("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})((e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}})),FN=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium",id:u,loading:d=null,loadingIndicator:h,...p}=n,f=Jj(u),m=h??(0,Me.jsx)(NN,{"aria-labelledby":f,color:"inherit",size:16}),g={...n,edge:r,color:s,disabled:a,disableFocusRipple:l,loading:d,loadingIndicator:m,size:c},y=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o,loading:s}=e;return Mo({root:["root",s&&"loading",n&&"disabled","default"!==r&&`color${ls(r)}`,i&&`edge${ls(i)}`,`size${ls(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},ON,t)})(g);return(0,Me.jsxs)(MN,{id:d?f:u,className:Ro(y.root,o),centerRipple:!0,focusRipple:!l,disabled:a||d,ref:t,...p,ownerState:g,children:["boolean"===typeof d&&(0,Me.jsx)("span",{className:y.loadingWrapper,style:{display:"contents"},children:(0,Me.jsx)(LN,{className:y.loadingIndicator,ownerState:g,children:d&&m})}),i]})})),zN=FN;function $N(e){return Do("MuiButton",e)}const BN=C_("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const UN=i.createContext({});const VN=i.createContext(void 0),WN=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],HN=ds(SN,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ls(n.color)}`],t[`size${ls(n.size)}`],t[`${n.variant}Size${ls(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(S_((e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${BN.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${BN.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${BN.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${BN.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(k_()).map((e=>{let[n]=e;return{props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.5)`:ti(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette[n].main,t.palette.action.hoverOpacity)}}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${BN.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${BN.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${BN.loading}`]:{color:"transparent"}}}]}}))),qN=ds("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${ls(n.size)}`]]}})((e=>{let{theme:t}=e;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...WN]}})),KN=ds("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${ls(n.size)}`]]}})((e=>{let{theme:t}=e;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...WN]}})),GN=ds("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})((e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}})),QN=ds("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),YN=i.forwardRef((function(e,t){const n=i.useContext(UN),r=i.useContext(VN),o=So({props:yn(n,e),name:"MuiButton"}),{children:s,color:a="primary",component:l="button",className:c,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:p,focusVisibleClassName:f,fullWidth:m=!1,id:g,loading:y=null,loadingIndicator:v,loadingPosition:b="center",size:w="medium",startIcon:x,type:S,variant:k="text",...C}=o,E=Jj(g),I=v??(0,Me.jsx)(NN,{"aria-labelledby":E,color:"inherit",size:16}),T={...o,color:a,component:l,disabled:u,disableElevation:d,disableFocusRipple:h,fullWidth:m,loading:y,loadingIndicator:I,loadingPosition:b,size:w,type:S,variant:k},_=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=e,c=Mo({root:["root",s&&"loading",o,`${o}${ls(t)}`,`size${ls(i)}`,`${o}Size${ls(i)}`,`color${ls(t)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${ls(a)}`],startIcon:["icon","startIcon",`iconSize${ls(i)}`],endIcon:["icon","endIcon",`iconSize${ls(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},$N,l);return{...l,...c}})(T),A=(x||y&&"start"===b)&&(0,Me.jsx)(qN,{className:_.startIcon,ownerState:T,children:x||(0,Me.jsx)(QN,{className:_.loadingIconPlaceholder,ownerState:T})}),P=(p||y&&"end"===b)&&(0,Me.jsx)(KN,{className:_.endIcon,ownerState:T,children:p||(0,Me.jsx)(QN,{className:_.loadingIconPlaceholder,ownerState:T})}),R=r||"",j="boolean"===typeof y?(0,Me.jsx)("span",{className:_.loadingWrapper,style:{display:"contents"},children:y&&(0,Me.jsx)(GN,{className:_.loadingIndicator,ownerState:T,children:I})}):null;return(0,Me.jsxs)(HN,{ownerState:T,className:Ro(n.className,_.root,c,R),component:l,disabled:u||y,focusRipple:!h,focusVisibleClassName:Ro(_.focusVisible,f),ref:t,type:S,id:y?E:g,...C,classes:_,children:[A,"end"!==b&&j,s,"end"===b&&j,P]})})),XN=YN;function JN(e){return Do("MuiDivider",e)}const ZN=C_("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function eO(e){return Do("MuiListItemIcon",e)}const tO=C_("MuiListItemIcon",["root","alignItemsFlexStart"]);function nO(e){return Do("MuiListItemText",e)}const rO=C_("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function iO(e){return Do("MuiMenuItem",e)}const oO=C_("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),sO=ds(SN,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(S_((e=>{let{theme:t}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${oO.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ti(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${oO.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ti(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${oO.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ti(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ti(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${oO.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${oO.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${ZN.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${ZN.inset}`]:{marginLeft:52},[`& .${rO.root}`]:{marginTop:0,marginBottom:0},[`& .${rO.inset}`]:{paddingLeft:36},[`& .${tO.root}`]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${tO.root} svg`]:{fontSize:"1.25rem"}}}]}}))),aO=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h,...p}=n,f=i.useContext(zP),m=i.useMemo((()=>({dense:s||f.dense||!1,disableGutters:l})),[f.dense,s,l]),g=i.useRef(null);OA((()=>{r&&g.current&&g.current.focus()}),[r]);const y={...n,dense:m.dense,divider:a,disableGutters:l},v=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,a=Mo({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},iO,s);return{...s,...a}})(n),b=NA(g,t);let w;return n.disabled||(w=void 0!==d?d:-1),(0,Me.jsx)(zP.Provider,{value:m,children:(0,Me.jsx)(sO,{ref:b,role:u,tabIndex:w,component:o,focusVisibleClassName:Ro(v.focusVisible,c),className:Ro(v.root,h),...p,ownerState:y,classes:v})})})),lO=aO,cO=ds("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(S_((e=>{let{theme:t}=e;return{minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}}))),uO=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiListItemIcon"}),{className:r,...o}=n,s=i.useContext(zP),a={...n,alignItems:s.alignItems},l=(e=>{const{alignItems:t,classes:n}=e;return Mo({root:["root","flex-start"===t&&"alignItemsFlexStart"]},eO,n)})(a);return(0,Me.jsx)(cO,{className:Ro(l.root,r),ownerState:a,ref:t,...o})})),dO=uO,hO=ds("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${rO.primary}`]:t.primary},{[`& .${rO.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${uA.root}:where(& .${rO.primary})`]:{display:"block"},[`.${uA.root}:where(& .${rO.secondary})`]:{display:"block"},variants:[{props:e=>{let{ownerState:t}=e;return t.primary&&t.secondary},style:{marginTop:6,marginBottom:6}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:56}}]}),pO=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiListItemText"}),{children:r,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d,slots:h={},slotProps:p={},...f}=n,{dense:m}=i.useContext(zP);let g=null!=l?l:r,y=u;const v={...n,disableTypography:s,inset:a,primary:!!g,secondary:!!y,dense:m},b=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return Mo({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},nO,t)})(v),w={slots:h,slotProps:{primary:c,secondary:d,...p}},[x,S]=rA("root",{className:Ro(b.root,o),elementType:hO,externalForwardedProps:{...w,...f},ownerState:v,ref:t}),[k,C]=rA("primary",{className:b.primary,elementType:gA,externalForwardedProps:w,ownerState:v}),[E,I]=rA("secondary",{className:b.secondary,elementType:gA,externalForwardedProps:w,ownerState:v});return null==g||g.type===gA||s||(g=(0,Me.jsx)(k,{variant:m?"body2":"body1",component:C?.variant?void 0:"span",...C,children:g})),null==y||y.type===gA||s||(y=(0,Me.jsx)(E,{variant:"body2",color:"textSecondary",...I,children:y})),(0,Me.jsxs)(x,{...S,children:[g,y]})})),fO=pO,mO=ds("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(S_((e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:ti(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}}))),gO=ds("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(S_((e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}}))),yO=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:o,orientation:s="horizontal",component:a=(i||"vertical"===s?"div":"hr"),flexItem:l=!1,light:c=!1,role:u=("hr"!==a?"separator":void 0),textAlign:d="center",variant:h="fullWidth",...p}=n,f={...n,absolute:r,component:a,flexItem:l,light:c,orientation:s,role:u,textAlign:d,variant:h},m=(e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=e;return Mo({root:["root",t&&"absolute",l,o&&"light","vertical"===s&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]},JN,r)})(f);return(0,Me.jsx)(mO,{as:a,className:Ro(m.root,o),role:u,ref:t,ownerState:f,"aria-orientation":"separator"!==u||"hr"===a&&"vertical"!==s?void 0:s,...p,children:i?(0,Me.jsx)(gO,{className:m.wrapper,ownerState:f,children:i}):null})}));yO&&(yO.muiSkipListHighlight=!0);const vO=yO,bO=q_((0,Me.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),wO=q_((0,Me.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),xO=q_((0,Me.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),SO=q_((0,Me.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),kO=q_((0,Me.jsx)("path",{d:"M20 3H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2c1.11 0 2-.9 2-2V5c0-1.11-.89-2-2-2m0 5h-2V5h2zM4 19h16v2H4z"})),CO=q_((0,Me.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"})),EO=q_((0,Me.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"})),IO=q_((0,Me.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),TO=q_([(0,Me.jsx)("path",{d:"m21 5-9-4-9 4v6c0 5.55 3.84 10.74 9 12 2.3-.56 4.33-1.9 5.88-3.71l-3.12-3.12c-1.94 1.29-4.58 1.07-6.29-.64-1.95-1.95-1.95-5.12 0-7.07s5.12-1.95 7.07 0c1.71 1.71 1.92 4.35.64 6.29l2.9 2.9C20.29 15.69 21 13.38 21 11z"},"0"),(0,Me.jsx)("circle",{cx:"12",cy:"12",r:"3"},"1")]),_O=q_((0,Me.jsx)("path",{d:"M21.95 10.99c-1.79-.03-3.7-1.95-2.68-4.22-2.98 1-5.77-1.59-5.19-4.56C6.95.71 2 6.58 2 12c0 5.52 4.48 10 10 10 5.89 0 10.54-5.08 9.95-11.01M8.5 15c-.83 0-1.5-.67-1.5-1.5S7.67 12 8.5 12s1.5.67 1.5 1.5S9.33 15 8.5 15m2-5C9.67 10 9 9.33 9 8.5S9.67 7 10.5 7s1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 6c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"})),AO=q_((0,Me.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),PO=()=>{const e=ne(),t=m_(),[n]=(w_(t.breakpoints.down("sm")),f_(BI)),[r]=function(e){var t=(0,i.useState)(),n=t[0],r=t[1],o=(0,i.useState)(!1),s=o[0],a=o[1],l=(0,i.useCallback)((function(){return c_(void 0,void 0,void 0,(function(){var t;return u_(this,(function(n){switch(n.label){case 0:a(!0),r(void 0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,e.signOut()];case 2:return n.sent(),[2,!0];case 3:return t=n.sent(),r(t),[2,!1];case 4:return a(!1),[7];case 5:return[2]}}))}))}),[e]);return[l,s,n]}(BI),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(-1),[y,v]=(0,i.useState)(!1),[b,w]=(0,i.useState)("all"),[x,S]=(0,i.useState)("all"),k=((0,i.useRef)(null),(0,i.useRef)(null)),{currentUser:C}=qI(),E=()=>{s(null)};(0,i.useEffect)((()=>{const t=t=>{if("Enter"===t.key&&c.length>0&&a){(t=>{switch(f(!1),l(""),t.type){case"user":e(`/profile/${t.id}`);break;case"post":e(`/post/${t.id}`);break;case"forum":e(`/forum/${t.id}`);break;case"sideRoom":e(`/side-room/${t.id}`)}})(c[0])}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)}),[c,a]),l_("up",(()=>{p&&c.length>0&&g((e=>e<=0?c.length-1:e-1))}),{enableOnFormTags:!0}),l_("down",(()=>{p&&c.length>0&&g((e=>e>=c.length-1?0:e+1))}),{enableOnFormTags:!0}),l_("esc",(()=>{f(!1)}),{enableOnFormTags:!0}),(0,i.useEffect)((()=>{const e=e=>{k.current&&!k.current.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const I=t=>{e(t),E()};return(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsx)(N_,{position:"static",elevation:0,sx:{backgroundColor:"transparent",backgroundImage:"none",boxShadow:"none",borderBottom:"none",padding:"0 24px"},children:(0,Me.jsxs)(L_,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 0",minHeight:"auto"},disableGutters:!0,children:[(0,Me.jsxs)(B_,{sx:{display:"flex",alignItems:"center",gap:3},children:[(0,Me.jsx)(lA,{src:"/logo.png",alt:"Side Eye",sx:{width:40,height:40,cursor:"pointer","&:hover":{opacity:.8}},onClick:()=>e("/")}),(0,Me.jsx)(gA,{variant:"h5",component:"div",sx:{fontWeight:"bold",cursor:"pointer",color:"primary.main","&:hover":{opacity:.8}},onClick:()=>e("/"),children:"SideEye"})]}),(0,Me.jsx)(B_,{sx:{flexGrow:1,position:"relative",maxWidth:600,mx:4},children:(0,Me.jsx)(Hj,{fullWidth:!0,size:"small",placeholder:"Search users, posts, forums...",value:a,onChange:e=>l(e.target.value),onKeyPress:t=>{"Enter"===t.key&&(async t=>{t.trim()?e(`/search?q=${encodeURIComponent(t)}`):u([])})(a)},InputProps:{startAdornment:(0,Me.jsx)(Xj,{position:"start",children:(0,Me.jsx)(bO,{})})}})}),(0,Me.jsx)(B_,{sx:{display:"flex",alignItems:"center",gap:2},children:n?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(zN,{color:"inherit",onClick:()=>e("/"),sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,Me.jsx)(wO,{})}),(0,Me.jsx)(zN,{color:"inherit",sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,Me.jsx)(xO,{})}),(0,Me.jsx)(zN,{color:"inherit",onClick:e=>{s(e.currentTarget)},sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,Me.jsx)(SO,{})})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(XN,{color:"inherit",onClick:()=>e("/login"),sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:"Login"}),(0,Me.jsx)(XN,{color:"inherit",onClick:()=>e("/register"),sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:"Register"})]})}),(0,Me.jsxs)(fj,{anchorEl:o,open:Boolean(o),onClose:E,sx:{"& .MuiPaper-root":{borderRadius:2,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",minWidth:200,border:"none"}},children:[(0,Me.jsxs)(lO,{onClick:()=>I("/side-rooms"),children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(kO,{})}),(0,Me.jsx)(fO,{primary:"Side Rooms"})]}),(0,Me.jsxs)(lO,{onClick:()=>I("/forums"),children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(CO,{})}),(0,Me.jsx)(fO,{primary:"Forums"})]}),(0,Me.jsxs)(lO,{onClick:()=>I("/safety"),children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(EO,{})}),(0,Me.jsx)(fO,{primary:"Safety"})]}),(0,Me.jsxs)(lO,{onClick:()=>I("/about"),children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(IO,{})}),(0,Me.jsx)(fO,{children:"About"})]}),(0,Me.jsxs)(lO,{onClick:()=>I("/privacy-policy"),children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(TO,{})}),(0,Me.jsx)(fO,{children:"Privacy Policy"})]}),(0,Me.jsxs)(lO,{onClick:()=>I("/terms"),children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(TO,{})}),(0,Me.jsx)(fO,{children:"Terms of Service"})]}),(0,Me.jsxs)(lO,{onClick:()=>I("/cookies"),children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(_O,{})}),(0,Me.jsx)(fO,{children:"Cookie Policy"})]}),n&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(vO,{}),(0,Me.jsxs)(lO,{onClick:()=>I("/profile"),children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(AO,{})}),(0,Me.jsx)(fO,{children:"Profile"})]}),(0,Me.jsxs)(lO,{onClick:async()=>{await r(),E()},children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(AO,{})}),(0,Me.jsx)(fO,{children:"Logout"})]})]})]})]})})})},RO=q_((0,Me.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function jO(e){return Do("MuiChip",e)}const NO=C_("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),OO=ds("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${NO.avatar}`]:t.avatar},{[`& .${NO.avatar}`]:t[`avatar${ls(a)}`]},{[`& .${NO.avatar}`]:t[`avatarColor${ls(r)}`]},{[`& .${NO.icon}`]:t.icon},{[`& .${NO.icon}`]:t[`icon${ls(a)}`]},{[`& .${NO.icon}`]:t[`iconColor${ls(i)}`]},{[`& .${NO.deleteIcon}`]:t.deleteIcon},{[`& .${NO.deleteIcon}`]:t[`deleteIcon${ls(a)}`]},{[`& .${NO.deleteIcon}`]:t[`deleteIconColor${ls(r)}`]},{[`& .${NO.deleteIcon}`]:t[`deleteIcon${ls(l)}Color${ls(r)}`]},t.root,t[`size${ls(a)}`],t[`color${ls(r)}`],o&&t.clickable,o&&"default"!==r&&t[`clickableColor${ls(r)})`],s&&t.deletable,s&&"default"!==r&&t[`deletableColor${ls(r)}`],t[l],t[`${l}${ls(r)}`]]}})(S_((e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${NO.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${NO.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${NO.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${NO.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${NO.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${NO.icon}`]:{marginLeft:5,marginRight:-6},[`& .${NO.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:ti(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:ti(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${NO.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${NO.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(k_(["contrastText"])).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${NO.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:ti(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}}})),{props:e=>e.iconColor===e.color,style:{[`& .${NO.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:n}}},{props:e=>e.iconColor===e.color&&"default"!==e.color,style:{[`& .${NO.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${NO.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ti(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(k_(["dark"])).map((e=>{let[n]=e;return{props:{color:n,onDelete:!0},style:{[`&.${NO.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ti(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${NO.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ti(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(k_(["dark"])).map((e=>{let[n]=e;return{props:{color:n,clickable:!0},style:{[`&:hover, &.${NO.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${NO.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${NO.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${NO.avatar}`]:{marginLeft:4},[`& .${NO.avatarSmall}`]:{marginLeft:2},[`& .${NO.icon}`]:{marginLeft:4},[`& .${NO.iconSmall}`]:{marginLeft:2},[`& .${NO.deleteIcon}`]:{marginRight:5},[`& .${NO.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(k_()).map((e=>{let[n]=e;return{props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:ti(t.palette[n].main,.7)}`,[`&.${NO.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${NO.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:ti(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${NO.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:ti(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}}))]}}))),DO=ds("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${ls(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function MO(e){return"Backspace"===e.key||"Delete"===e.key}const LO=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiChip"}),{avatar:r,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:p,onDelete:f,onKeyDown:m,onKeyUp:g,size:y="medium",variant:v="filled",tabIndex:b,skipFocusWhenDisabled:w=!1,...x}=n,S=i.useRef(null),k=NA(S,t),C=e=>{e.stopPropagation(),f&&f(e)},E=!(!1===s||!p)||s,I=E||f?SN:l||"div",T={...n,component:I,disabled:u,size:y,color:a,iconColor:i.isValidElement(d)&&d.props.color||a,onDelete:!!f,clickable:E,variant:v},_=(e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=e;return Mo({root:["root",l,n&&"disabled",`size${ls(r)}`,`color${ls(i)}`,a&&"clickable",a&&`clickableColor${ls(i)}`,s&&"deletable",s&&`deletableColor${ls(i)}`,`${l}${ls(i)}`],label:["label",`label${ls(r)}`],avatar:["avatar",`avatar${ls(r)}`,`avatarColor${ls(i)}`],icon:["icon",`icon${ls(r)}`,`iconColor${ls(o)}`],deleteIcon:["deleteIcon",`deleteIcon${ls(r)}`,`deleteIconColor${ls(i)}`,`deleteIcon${ls(l)}Color${ls(i)}`]},jO,t)})(T),A=I===SN?{component:l||"div",focusVisibleClassName:_.focusVisible,...f&&{disableRipple:!0}}:{};let P=null;f&&(P=c&&i.isValidElement(c)?i.cloneElement(c,{className:Ro(c.props.className,_.deleteIcon),onClick:C}):(0,Me.jsx)(RO,{className:Ro(_.deleteIcon),onClick:C}));let R=null;r&&i.isValidElement(r)&&(R=i.cloneElement(r,{className:Ro(_.avatar,r.props.className)}));let j=null;return d&&i.isValidElement(d)&&(j=i.cloneElement(d,{className:Ro(_.icon,d.props.className)})),(0,Me.jsxs)(OO,{as:I,className:Ro(_.root,o),disabled:!(!E||!u)||void 0,onClick:p,onKeyDown:e=>{e.currentTarget===e.target&&MO(e)&&e.preventDefault(),m&&m(e)},onKeyUp:e=>{e.currentTarget===e.target&&f&&MO(e)&&f(e),g&&g(e)},ref:k,tabIndex:w&&u?-1:b,ownerState:T,...A,...x,children:[R||j,(0,Me.jsx)(DO,{className:Ro(_.label),ownerState:T,children:h}),P]})})),FO=LO;function zO(e){return Do("MuiDialog",e)}const $O=C_("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const BO=i.createContext({}),UO=ds(MR,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),VO=ds(YR,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),WO=ds("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${ls(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),HO=ds(__,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${ls(n.scroll)}`],t[`paperWidth${ls(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(S_((e=>{let{theme:t}=e;return{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:e=>{let{ownerState:t}=e;return!t.maxWidth},style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${$O.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter((e=>"xs"!==e)).map((e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${$O.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}}))),{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"calc(100% - 64px)"}},{props:e=>{let{ownerState:t}=e;return t.fullScreen},style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${$O.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}}))),qO=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiDialog"}),r=m_(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:d,className:h,disableEscapeKeyDown:p=!1,fullScreen:f=!1,fullWidth:m=!1,maxWidth:g="sm",onClick:y,onClose:v,open:b,PaperComponent:w=__,PaperProps:x={},scroll:S="paper",slots:k={},slotProps:C={},TransitionComponent:E=jR,transitionDuration:I=o,TransitionProps:T,..._}=n,A={...n,disableEscapeKeyDown:p,fullScreen:f,fullWidth:m,maxWidth:g,scroll:S},P=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e;return Mo({root:["root"],container:["container",`scroll${ls(n)}`],paper:["paper",`paperScroll${ls(n)}`,`paperWidth${ls(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]},zO,t)})(A),R=i.useRef(),j=bA(a),N=i.useMemo((()=>({titleId:j})),[j]),O={slots:{transition:E,...k},slotProps:{transition:T,paper:x,backdrop:u,...C}},[D,M]=rA("root",{elementType:VO,shouldForwardComponentProp:!0,externalForwardedProps:O,ownerState:A,className:Ro(P.root,h),ref:t}),[L,F]=rA("backdrop",{elementType:UO,shouldForwardComponentProp:!0,externalForwardedProps:O,ownerState:A}),[z,$]=rA("paper",{elementType:HO,shouldForwardComponentProp:!0,externalForwardedProps:O,ownerState:A,className:Ro(P.paper,x.className)}),[B,U]=rA("container",{elementType:WO,externalForwardedProps:O,ownerState:A,className:Ro(P.container)}),[V,W]=rA("transition",{elementType:jR,externalForwardedProps:O,ownerState:A,additionalProps:{appear:!0,in:b,timeout:I,role:"presentation"}});return(0,Me.jsx)(D,{closeAfterTransition:!0,slots:{backdrop:L},slotProps:{backdrop:{transitionDuration:I,as:c,...F}},disableEscapeKeyDown:p,onClose:v,open:b,onClick:e=>{y&&y(e),R.current&&(R.current=null,v&&v(e,"backdropClick"))},...M,..._,children:(0,Me.jsx)(V,{...W,children:(0,Me.jsx)(B,{onMouseDown:e=>{R.current=e.target===e.currentTarget},...U,children:(0,Me.jsx)(z,{as:w,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":j,"aria-modal":l,...$,children:(0,Me.jsx)(BO.Provider,{value:N,children:d})})})})})})),KO=qO;function GO(e){return Do("MuiDialogTitle",e)}const QO=C_("MuiDialogTitle",["root"]),YO=ds(gA,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),XO=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiDialogTitle"}),{className:r,id:o,...s}=n,a=n,l=(e=>{const{classes:t}=e;return Mo({root:["root"]},GO,t)})(a),{titleId:c=o}=i.useContext(BO);return(0,Me.jsx)(YO,{component:"h2",className:Ro(l.root,r),ownerState:a,ref:t,variant:"h6",id:o??c,...s})})),JO=XO;function ZO(e){return Do("MuiDialogContent",e)}C_("MuiDialogContent",["root","dividers"]);const eD=ds("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(S_((e=>{let{theme:t}=e;return{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:e=>{let{ownerState:t}=e;return t.dividers},style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:e=>{let{ownerState:t}=e;return!t.dividers},style:{[`.${QO.root} + &`]:{paddingTop:0}}}]}}))),tD=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiDialogContent"}),{className:r,dividers:i=!1,...o}=n,s={...n,dividers:i},a=(e=>{const{classes:t,dividers:n}=e;return Mo({root:["root",n&&"dividers"]},ZO,t)})(s);return(0,Me.jsx)(eD,{className:Ro(a.root,r),ownerState:s,ref:t,...o})})),nD=tD;function rD(e){return Do("MuiDialogActions",e)}C_("MuiDialogActions",["root","spacing"]);const iD=ds("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),oD=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1,...o}=n,s={...n,disableSpacing:i},a=(e=>{const{classes:t,disableSpacing:n}=e;return Mo({root:["root",!n&&"spacing"]},rD,t)})(s);return(0,Me.jsx)(iD,{className:Ro(a.root,r),ownerState:s,ref:t,...o})})),sD=oD;const aD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:o,resumeHideDuration:s}=e,a=iR();i.useEffect((()=>{if(o)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"===e.key&&r?.(e,"escapeKeyDown")}}),[o,r]);const l=SA(((e,t)=>{r?.(e,t)})),c=SA((e=>{r&&null!=e&&a.start(e,(()=>{l(null,"timeout")}))}));i.useEffect((()=>(o&&c(t),a.clear)),[o,t,c,a]);const u=a.clear,d=i.useCallback((()=>{null!=t&&c(null!=s?s:.5*t)}),[t,s,c]),h=e=>t=>{const n=e.onFocus;n?.(t),u()},p=e=>t=>{const n=e.onMouseEnter;n?.(t),u()},f=e=>t=>{const n=e.onMouseLeave;n?.(t),d()};return i.useEffect((()=>{if(!n&&o)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}}),[n,o,d,u]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={...eA(e),...eA(t)};return{role:"presentation",...t,...n,onBlur:(r=n,e=>{const t=r.onBlur;t?.(e),d()}),onFocus:h(n),onMouseEnter:p(n),onMouseLeave:f(n)};var r},onClickAway:e=>{r?.(e,"clickaway")}}};function lD(e){return e.substring(2).toLowerCase()}function cD(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:s="onTouchEnd"}=e,a=i.useRef(!1),l=i.useRef(null),c=i.useRef(!1),u=i.useRef(!1);i.useEffect((()=>(setTimeout((()=>{c.current=!0}),0),()=>{c.current=!1})),[]);const d=Y_(MP(t),l),h=SA((e=>{const t=u.current;u.current=!1;const r=wA(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(a.current)return void(a.current=!1);let i;i=e.composedPath?e.composedPath().includes(l.current):!r.documentElement.contains(e.target)||l.current.contains(e.target),i||!n&&t||o(e)})),p=e=>n=>{u.current=!0;const r=t.props[e];r&&r(n)},f={ref:d};return!1!==s&&(f[s]=p(s)),i.useEffect((()=>{if(!1!==s){const e=lD(s),t=wA(l.current),n=()=>{a.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}}),[h,s]),!1!==r&&(f[r]=p(r)),i.useEffect((()=>{if(!1!==r){const e=lD(r),t=wA(l.current);return t.addEventListener(e,h),()=>{t.removeEventListener(e,h)}}}),[h,r]),i.cloneElement(t,f)}function uD(e){return Do("MuiSnackbarContent",e)}C_("MuiSnackbarContent",["root","message","action"]);const dD=ds(__,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(S_((e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98,r=ai(t.palette.background.default,n);return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}}))),hD=ds("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),pD=ds("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),fD=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiSnackbarContent"}),{action:r,className:i,message:o,role:s="alert",...a}=n,l=n,c=(e=>{const{classes:t}=e;return Mo({root:["root"],action:["action"],message:["message"]},uD,t)})(l);return(0,Me.jsxs)(dD,{role:s,square:!0,elevation:6,className:Ro(c.root,i),ownerState:l,ref:t,...a,children:[(0,Me.jsx)(hD,{className:c.message,ownerState:l,children:o}),r?(0,Me.jsx)(pD,{className:c.action,ownerState:l,children:r}):null]})})),mD=fD;function gD(e){return Do("MuiSnackbar",e)}C_("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const yD=ds("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${ls(n.anchorOrigin.vertical)}${ls(n.anchorOrigin.horizontal)}`]]}})(S_((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical},style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:e=>{let{ownerState:t}=e;return"top"!==t.anchorOrigin.vertical},style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:e=>{let{ownerState:t}=e;return"left"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:e=>{let{ownerState:t}=e;return"center"===t.anchorOrigin.horizontal},style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}}))),vD=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiSnackbar"}),r=m_(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:h,ContentProps:p,disableWindowBlurListener:f=!1,message:m,onBlur:g,onClose:y,onFocus:v,onMouseEnter:b,onMouseLeave:w,open:x,resumeHideDuration:S,slots:k={},slotProps:C={},TransitionComponent:E,transitionDuration:I=o,TransitionProps:{onEnter:T,onExited:_,...A}={},...P}=n,R={...n,anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:f,TransitionComponent:E,transitionDuration:I},j=(e=>{const{classes:t,anchorOrigin:n}=e;return Mo({root:["root",`anchorOrigin${ls(n.vertical)}${ls(n.horizontal)}`]},gD,t)})(R),{getRootProps:N,onClickAway:O}=aD({...R}),[D,M]=i.useState(!0),L={slots:{transition:E,...k},slotProps:{content:p,clickAwayListener:h,transition:A,...C}},[F,z]=rA("root",{ref:t,className:[j.root,d],elementType:yD,getSlotProps:N,externalForwardedProps:{...L,...P},ownerState:R}),[$,{ownerState:B,...U}]=rA("clickAwayListener",{elementType:cD,externalForwardedProps:L,getSlotProps:e=>({onClickAway:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.onClickAway?.(...n),O(...n)}}),ownerState:R}),[V,W]=rA("content",{elementType:mD,shouldForwardComponentProp:!0,externalForwardedProps:L,additionalProps:{message:m,action:s},ownerState:R}),[H,q]=rA("transition",{elementType:CR,externalForwardedProps:L,getSlotProps:e=>({onEnter:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.onEnter?.(...n),((e,t)=>{M(!1),T&&T(e,t)})(...n)},onExited:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.onExited?.(...n),(e=>{M(!0),_&&_(e)})(...n)}}),additionalProps:{appear:!0,in:x,timeout:I,direction:"top"===a?"down":"up"},ownerState:R});return!x&&D?null:(0,Me.jsx)($,{...U,...k.clickAwayListener&&{ownerState:B},children:(0,Me.jsx)(F,{...z,children:(0,Me.jsx)(H,{...q,children:u||(0,Me.jsx)(V,{...W})})})})})),bD=vD;function wD(e){return Do("MuiAlert",e)}const xD=C_("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),SD=q_((0,Me.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),kD=q_((0,Me.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),CD=q_((0,Me.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),ED=q_((0,Me.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),ID=q_((0,Me.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),TD=ds(__,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ls(n.color||n.severity)}`]]}})(S_((e=>{let{theme:t}=e;const n="light"===t.palette.mode?ri:oi,r="light"===t.palette.mode?oi:ri;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(k_(["light"])).map((e=>{let[i]=e;return{props:{colorSeverity:i,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${xD.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}}}})),...Object.entries(t.palette).filter(k_(["light"])).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:n(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${xD.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter(k_(["dark"])).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}}}}))]}}))),_D=ds("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),AD=ds("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),PD=ds("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),RD={success:(0,Me.jsx)(SD,{fontSize:"inherit"}),warning:(0,Me.jsx)(kD,{fontSize:"inherit"}),error:(0,Me.jsx)(CD,{fontSize:"inherit"}),info:(0,Me.jsx)(ED,{fontSize:"inherit"})},jD=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiAlert"}),{action:r,children:i,className:o,closeText:s="Close",color:a,components:l={},componentsProps:c={},icon:u,iconMapping:d=RD,onClose:h,role:p="alert",severity:f="success",slotProps:m={},slots:g={},variant:y="standard",...v}=n,b={...n,color:a,severity:f,variant:y,colorSeverity:a||f},w=(e=>{const{variant:t,color:n,severity:r,classes:i}=e;return Mo({root:["root",`color${ls(n||r)}`,`${t}${ls(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]},wD,i)})(b),x={slots:{closeButton:l.CloseButton,closeIcon:l.CloseIcon,...g},slotProps:{...c,...m}},[S,k]=rA("root",{ref:t,shouldForwardComponentProp:!0,className:Ro(w.root,o),elementType:TD,externalForwardedProps:{...x,...v},ownerState:b,additionalProps:{role:p,elevation:0}}),[C,E]=rA("icon",{className:w.icon,elementType:_D,externalForwardedProps:x,ownerState:b}),[I,T]=rA("message",{className:w.message,elementType:AD,externalForwardedProps:x,ownerState:b}),[_,A]=rA("action",{className:w.action,elementType:PD,externalForwardedProps:x,ownerState:b}),[P,R]=rA("closeButton",{elementType:zN,externalForwardedProps:x,ownerState:b}),[j,N]=rA("closeIcon",{elementType:ID,externalForwardedProps:x,ownerState:b});return(0,Me.jsxs)(S,{...k,children:[!1!==u?(0,Me.jsx)(C,{...E,children:u||d[f]||RD[f]}):null,(0,Me.jsx)(I,{...T,children:i}),null!=r?(0,Me.jsx)(_,{...A,children:r}):null,null==r&&h?(0,Me.jsx)(_,{...A,children:(0,Me.jsx)(P,{size:"small","aria-label":s,title:s,color:"inherit",onClick:h,...R,children:(0,Me.jsx)(j,{fontSize:"small",...N})})}):null]})})),ND=jD;function OD(e){return Do("MuiCard",e)}C_("MuiCard",["root"]);const DD=ds(__,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),MD=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiCard"}),{className:r,raised:i=!1,...o}=n,s={...n,raised:i},a=(e=>{const{classes:t}=e;return Mo({root:["root"]},OD,t)})(s);return(0,Me.jsx)(DD,{className:Ro(a.root,r),elevation:i?8:void 0,ref:t,ownerState:s,...o})})),LD=MD;function FD(e){return Do("MuiCardContent",e)}C_("MuiCardContent",["root"]);const zD=ds("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),$D=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiCardContent"}),{className:r,component:i="div",...o}=n,s={...n,component:i},a=(e=>{const{classes:t}=e;return Mo({root:["root"]},FD,t)})(s);return(0,Me.jsx)(zD,{as:i,className:Ro(a.root,r),ownerState:s,ref:t,...o})})),BD=$D;function UD(e){return Do("MuiCardMedia",e)}C_("MuiCardMedia",["root","media","img"]);const VD=ds("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:i}=n;return[t.root,r&&t.media,i&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),WD=["video","audio","picture","iframe","img"],HD=["picture","img"],qD=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiCardMedia"}),{children:r,className:i,component:o="div",image:s,src:a,style:l,...c}=n,u=WD.includes(o),d=!u&&s?{backgroundImage:`url("${s}")`,...l}:l,h={...n,component:o,isMediaComponent:u,isImageComponent:HD.includes(o)},p=(e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e;return Mo({root:["root",n&&"media",r&&"img"]},UD,t)})(h);return(0,Me.jsx)(VD,{className:Ro(p.root,i),as:o,role:!u&&s?"img":void 0,ref:t,style:d,ownerState:h,src:u?s||a:void 0,...c,children:r})})),KD=qD;function GD(e){return Do("MuiCollapse",e)}C_("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const QD=ds("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})(S_((e=>{let{theme:t}=e;return{height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"exited"===t.state&&!t.in&&"0px"===t.collapsedSize},style:{visibility:"hidden"}}]}}))),YD=ds("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),XD=ds("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),JD=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiCollapse"}),{addEndListener:r,children:o,className:s,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:h,onEntering:p,onExit:f,onExited:m,onExiting:g,orientation:y="vertical",style:v,timeout:b=$i.standard,TransitionComponent:w=yR,...x}=n,S={...n,orientation:y,collapsedSize:a},k=(e=>{const{orientation:t,classes:n}=e;return Mo({root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]},GD,n)})(S),C=m_(),E=iR(),I=i.useRef(null),T=i.useRef(),_="number"===typeof a?`${a}px`:a,A="horizontal"===y,P=A?"width":"height",R=i.useRef(null),j=NA(t,R),N=e=>t=>{if(e){const n=R.current;void 0===t?e(n):e(n,t)}},O=()=>I.current?I.current[A?"clientWidth":"clientHeight"]:0,D=N(((e,t)=>{I.current&&A&&(I.current.style.position="absolute"),e.style[P]=_,d&&d(e,t)})),M=N(((e,t)=>{const n=O();I.current&&A&&(I.current.style.position="");const{duration:r,easing:i}=bR({style:v,timeout:b,easing:c},{mode:"enter"});if("auto"===b){const t=C.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,T.current=t}else e.style.transitionDuration="string"===typeof r?r:`${r}ms`;e.style[P]=`${n}px`,e.style.transitionTimingFunction=i,p&&p(e,t)})),L=N(((e,t)=>{e.style[P]="auto",h&&h(e,t)})),F=N((e=>{e.style[P]=`${O()}px`,f&&f(e)})),z=N(m),$=N((e=>{const t=O(),{duration:n,easing:r}=bR({style:v,timeout:b,easing:c},{mode:"exit"});if("auto"===b){const n=C.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,T.current=n}else e.style.transitionDuration="string"===typeof n?n:`${n}ms`;e.style[P]=_,e.style.transitionTimingFunction=r,g&&g(e)}));return(0,Me.jsx)(w,{in:u,onEnter:D,onEntered:L,onEntering:M,onExit:F,onExited:z,onExiting:$,addEndListener:e=>{"auto"===b&&E.start(T.current||0,e),r&&r(R.current,e)},nodeRef:R,timeout:"auto"===b?null:b,...x,children:(e,t)=>{let{ownerState:n,...r}=t;return(0,Me.jsx)(QD,{as:l,className:Ro(k.root,s,{entered:k.entered,exited:!u&&"0px"===_&&k.hidden}[e]),style:{[A?"minWidth":"minHeight"]:_,...v},ref:j,ownerState:{...S,state:e},...r,children:(0,Me.jsx)(YD,{ownerState:{...S,state:e},className:k.wrapper,ref:I,children:(0,Me.jsx)(XD,{ownerState:{...S,state:e},className:k.wrapperInner,children:o})})})}})}));JD&&(JD.muiSupportAuto=!0);const ZD=JD,eM=q_((0,Me.jsx)("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2z"})),tM=q_((0,Me.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),nM=q_((0,Me.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})),rM=q_((0,Me.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"})),iM=q_((0,Me.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"})),oM=q_((0,Me.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),sM=q_((0,Me.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),aM=q_((0,Me.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),lM=q_((0,Me.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}));var cM={};function uM(){return cM}function dM(e){return dM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dM(e)}function hM(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function pM(e){hM(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===dM(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function fM(e,t){hM(2,arguments);var n=pM(e),r=pM(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function mM(e){hM(1,arguments);var t=pM(e);return function(e){hM(1,arguments);var t=pM(e);return t.setHours(23,59,59,999),t}(t).getTime()===function(e){hM(1,arguments);var t=pM(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(t).getTime()}function gM(e,t){hM(2,arguments);var n,r=pM(e),i=pM(t),o=fM(r,i),s=Math.abs(function(e,t){hM(2,arguments);var n=pM(e),r=pM(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,i));if(s<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*s);var a=fM(r,i)===-o;mM(pM(e))&&1===s&&1===fM(e,i)&&(a=!1),n=o*(s-Number(a))}return 0===n?0:n}var yM={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function vM(e,t,n){hM(2,arguments);var r,i=function(e,t){return hM(2,arguments),pM(e).getTime()-pM(t).getTime()}(e,t)/1e3;return((r=null===n||void 0===n?void 0:n.roundingMethod)?yM[r]:yM.trunc)(i)}var bM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const wM=function(e,t,n){var r,i=bM[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function xM(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var SM={date:xM({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:xM({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:xM({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var kM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const CM=function(e,t,n,r){return kM[e]};function EM(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function IM(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(a)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}var TM;const _M={code:"en-US",formatDistance:wM,formatLong:SM,formatRelative:CM,localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:EM({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:EM({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:EM({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:EM({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:EM({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(TM={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(TM.matchPattern);if(!n)return null;var r=n[0],i=e.match(TM.parsePattern);if(!i)return null;var o=TM.valueCallback?TM.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:IM({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:IM({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:IM({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:IM({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:IM({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function AM(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function PM(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var RM=43200;function jM(e,t,n){var r,i;hM(2,arguments);var o=uM(),s=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:o.locale)&&void 0!==r?r:_M;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=fM(e,t);if(isNaN(a))throw new RangeError("Invalid time value");var l,c,u=AM(AM({},n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:a});a>0?(l=pM(t),c=pM(e)):(l=pM(e),c=pM(t));var d,h=vM(c,l),p=(PM(c)-PM(l))/1e3,f=Math.round((h-p)/60);if(f<2)return null!==n&&void 0!==n&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,u):h<10?s.formatDistance("lessThanXSeconds",10,u):h<20?s.formatDistance("lessThanXSeconds",20,u):h<40?s.formatDistance("halfAMinute",0,u):h<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):0===f?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",f,u);if(f<45)return s.formatDistance("xMinutes",f,u);if(f<90)return s.formatDistance("aboutXHours",1,u);if(f<1440){var m=Math.round(f/60);return s.formatDistance("aboutXHours",m,u)}if(f<2520)return s.formatDistance("xDays",1,u);if(f<RM){var g=Math.round(f/1440);return s.formatDistance("xDays",g,u)}if(f<86400)return d=Math.round(f/RM),s.formatDistance("aboutXMonths",d,u);if((d=gM(c,l))<12){var y=Math.round(f/RM);return s.formatDistance("xMonths",y,u)}var v=d%12,b=Math.floor(d/12);return v<3?s.formatDistance("aboutXYears",b,u):v<9?s.formatDistance("overXYears",b,u):s.formatDistance("almostXYears",b+1,u)}function NM(e,t){return hM(1,arguments),jM(e,Date.now(),t)}const OM=e=>e?e instanceof Date?e:e.toDate?e.toDate():"number"===typeof e||"string"===typeof e?new Date(e):new Date:new Date,DM=e=>{try{const t=OM(e);return isNaN(t.getTime())?(console.error("Invalid date:",e),"Just now"):NM(t,{addSuffix:!0})}catch(t){return console.error("Error formatting date:",t),"Just now"}},MM=(e,t)=>{try{const n=OM(e),r=OM(t);return n.getTime()===r.getTime()}catch(n){return console.error("Error comparing timestamps:",n),!1}},LM=e=>{let{id:t,authorId:n,authorName:r,authorAvatar:o,content:s,imageUrl:a,timestamp:l,likes:c,likedBy:u,comments:d,isOwnPost:h,onDelete:p,onEdit:f,onLike:m,onComment:g,onShare:y,originalPostId:v,originalAuthor:b,tags:w}=e;const[x,S]=(0,i.useState)(!1),[k,C]=(0,i.useState)(!1),[E,I]=(0,i.useState)(!1),[T,_]=(0,i.useState)(s),[A,P]=(0,i.useState)(!1),[R,j]=(0,i.useState)(""),[N,O]=(0,i.useState)(!1),[D,M]=(0,i.useState)(!1),[L,F]=(0,i.useState)(!1),[z,$]=(0,i.useState)(!1),[B,U]=(0,i.useState)(null),[V,W]=(0,i.useState)(""),[H,q]=(0,i.useState)(d),[K,G]=(0,i.useState)(null),[Q,Y]=(0,i.useState)(""),[X,J]=(0,i.useState)(!1),Z=ne(),{currentUser:ee}=qI(),te=e=>{Z(`/profile/${e}`)};return(0,Me.jsx)(LD,{sx:{mb:3,borderRadius:2},children:(0,Me.jsxs)(BD,{children:[v&&b&&(0,Me.jsxs)(B_,{sx:{display:"flex",alignItems:"center",mb:1,color:"text.secondary"},children:[(0,Me.jsx)(eM,{sx:{fontSize:16,mr:1}}),(0,Me.jsxs)(gA,{variant:"caption",children:[b.name," reposted"]})]}),(0,Me.jsxs)(B_,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,Me.jsxs)(B_,{sx:{display:"flex",alignItems:"center"},children:[(0,Me.jsx)(lA,{src:o,alt:r,sx:{mr:2,cursor:"pointer"},onClick:()=>te(n),children:r?r.charAt(0):"A"}),(0,Me.jsxs)(B_,{children:[(0,Me.jsx)(gA,{variant:"subtitle1",fontWeight:"bold",onClick:()=>te(n),sx:{cursor:"pointer"},children:r||"Anonymous"}),(0,Me.jsx)(gA,{variant:"caption",color:"text.secondary",children:DM(l)})]})]}),h&&(0,Me.jsx)(zN,{onClick:async()=>{if(ee&&!k){C(!0);try{await p(t)}catch(e){console.error("Error deleting post:",e)}finally{C(!1)}}},disabled:k,"aria-label":"Delete post",children:k?(0,Me.jsx)(NN,{size:24}):(0,Me.jsx)(tM,{})})]}),(0,Me.jsx)(gA,{variant:"body1",sx:{mb:2},children:s}),w&&w.length>0&&(0,Me.jsx)(B_,{sx:{mb:2,display:"flex",flexWrap:"wrap",gap:1},children:w.map((e=>(0,Me.jsx)(FO,{label:`#${e}`,size:"small",sx:{borderRadius:1}},e)))}),a&&(0,Me.jsx)(KD,{component:"img",image:a,alt:"Post image",sx:{borderRadius:1,mb:2}}),(0,Me.jsxs)(B_,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Me.jsxs)(B_,{sx:{display:"flex",alignItems:"center"},children:[(0,Me.jsx)(zN,{onClick:async()=>{if(ee&&!x){S(!0);try{m&&await m(t)}catch(e){console.error("Error updating like:",e)}finally{S(!1)}}},color:null!==u&&void 0!==u&&u.includes((null===ee||void 0===ee?void 0:ee.uid)||"")?"primary":"default",disabled:k||N,"aria-label":null!==u&&void 0!==u&&u.includes((null===ee||void 0===ee?void 0:ee.uid)||"")?"Unlike post":"Like post",children:x?(0,Me.jsx)(NN,{size:24}):null!==u&&void 0!==u&&u.includes((null===ee||void 0===ee?void 0:ee.uid)||"")?(0,Me.jsx)(nM,{}):(0,Me.jsx)(rM,{})}),(0,Me.jsx)(gA,{variant:"body2",color:"text.secondary",children:c})]}),(0,Me.jsxs)(B_,{sx:{display:"flex",alignItems:"center"},children:[(0,Me.jsx)(zN,{onClick:()=>P(!A),disabled:k||N,"aria-label":"Toggle comments",children:(0,Me.jsx)(iM,{})}),(0,Me.jsx)(gA,{variant:"body2",color:"text.secondary",children:(null===H||void 0===H?void 0:H.length)||0})]}),(0,Me.jsx)(zN,{onClick:async()=>{if(ee&&!N)try{y&&await y(t)}catch(e){console.error("Error sharing post:",e)}},disabled:k||N,"aria-label":"Share post",children:(0,Me.jsx)(oM,{})})]}),H&&H.length>0&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(vO,{sx:{my:2}}),(0,Me.jsxs)(B_,{children:[(0,Me.jsxs)(B_,{sx:{display:"flex",alignItems:"center",cursor:"pointer",color:"text.secondary",mb:1},onClick:()=>P(!A),children:[(0,Me.jsx)(gA,{variant:"caption",children:A?"Hide comments":`Show ${H.length} comments`}),A?(0,Me.jsx)(sM,{}):(0,Me.jsx)(aM,{})]}),(0,Me.jsx)(ZD,{in:A,timeout:"auto",unmountOnExit:!0,children:(0,Me.jsx)(VP,{children:H.map(((e,n)=>{var r;return(0,Me.jsxs)(B_,{sx:{display:"flex",alignItems:"flex-start",mb:1},children:[(0,Me.jsx)(lA,{src:e.authorAvatar,alt:e.authorName,sx:{width:24,height:24,mr:1}}),(0,Me.jsxs)(B_,{children:[(0,Me.jsxs)(B_,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Me.jsx)(gA,{variant:"subtitle2",children:e.authorName}),(0,Me.jsx)(gA,{variant:"caption",color:"text.secondary",children:DM(e.timestamp)})]}),B===`${e.authorId}_${OM(e.timestamp).getTime()}`?(0,Me.jsxs)(B_,{sx:{mt:1},children:[(0,Me.jsx)(Hj,{fullWidth:!0,multiline:!0,size:"small",value:V,onChange:e=>W(e.target.value),disabled:z}),(0,Me.jsxs)(B_,{sx:{mt:1,display:"flex",gap:1},children:[(0,Me.jsx)(XN,{size:"small",variant:"contained",onClick:()=>(async e=>{if(ee&&!z&&V.trim()){$(!0);try{const n=Wk(UI,"posts",t),r=await eE(n);if(!r.exists())return;const i=r.data(),o=i.comments.findIndex((t=>MM(t.timestamp,e.timestamp)&&t.authorId===e.authorId));if(-1===o)return;const s=[...i.comments];s[o]={...s[o],content:V.trim(),isEdited:!0,lastEdited:new Date},await iE(n,{comments:s}),q(s),U(null),W("")}catch(n){console.error("Error editing comment:",n)}finally{$(!1)}}})(e),disabled:z||!V.trim(),children:"Save"}),(0,Me.jsx)(XN,{size:"small",onClick:()=>{U(null),W("")},disabled:z,children:"Cancel"})]})]}):(0,Me.jsx)(gA,{variant:"body2",children:e.content}),(0,Me.jsxs)(B_,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:[(0,Me.jsx)(zN,{size:"small",onClick:()=>(async e=>{if(ee&&!D){M(!0);try{var n;const i=Wk(UI,"posts",t),o=await eE(i);if(!o.exists())return;const s=o.data(),a=s.comments.findIndex((t=>MM(t.timestamp,e.timestamp)&&t.authorId===e.authorId));if(-1===a)return;const l=(null===(n=e.likedBy)||void 0===n?void 0:n.includes(ee.uid))||!1,c=[...s.comments];var r;c[a]=l?{...c[a],likes:(c[a].likes||0)-1,likedBy:(null===(r=c[a].likedBy)||void 0===r?void 0:r.filter((e=>e!==ee.uid)))||[]}:{...c[a],likes:(c[a].likes||0)+1,likedBy:[...c[a].likedBy||[],ee.uid]},await iE(i,{comments:c}),q(c)}catch(i){console.error("Error updating comment like:",i)}finally{M(!1)}}})(e),disabled:D,children:D?(0,Me.jsx)(NN,{size:20}):null!==(r=e.likedBy)&&void 0!==r&&r.includes((null===ee||void 0===ee?void 0:ee.uid)||"")?(0,Me.jsx)(nM,{fontSize:"small",color:"error"}):(0,Me.jsx)(rM,{fontSize:"small"})}),(0,Me.jsx)(gA,{variant:"caption",children:e.likes||0}),((null===ee||void 0===ee?void 0:ee.uid)===e.authorId||h)&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(zN,{size:"small",onClick:()=>{U(`${e.authorId}_${OM(e.timestamp).getTime()}`),W(e.content)},disabled:z||L,children:(0,Me.jsx)(lM,{fontSize:"small"})}),(0,Me.jsx)(zN,{size:"small",onClick:()=>(async e=>{if(ee&&!L){F(!0);try{const n=Wk(UI,"posts",t),r=await eE(n);if(!r.exists())return;const i=r.data().comments.filter((t=>!(MM(t.timestamp,e.timestamp)&&t.authorId===e.authorId)));await iE(n,{comments:i}),q(i)}catch(n){console.error("Error deleting comment:",n)}finally{F(!1)}}})(e),disabled:L||z,children:L?(0,Me.jsx)(NN,{size:20}):(0,Me.jsx)(tM,{fontSize:"small"})})]})]})]})]},n)}))})})]})]}),ee&&(0,Me.jsxs)(B_,{sx:{mt:2},children:[(0,Me.jsx)(Hj,{fullWidth:!0,multiline:!0,placeholder:"Write a comment...",size:"small",value:R,onChange:e=>j(e.target.value),disabled:N}),(0,Me.jsx)(B_,{sx:{mt:1,display:"flex",justifyContent:"flex-end"},children:(0,Me.jsx)(XN,{variant:"contained",onClick:async()=>{if(ee&&R.trim()&&!N){O(!0);try{g&&(await g(t,R.trim()),j(""))}catch(e){console.error("Error adding comment:",e)}finally{O(!1)}}},disabled:N||!R.trim(),children:N?"Posting...":"Post"})})]})]})})},FM=q_([(0,Me.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,Me.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]),zM=q_((0,Me.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M8.5 8c.83 0 1.5.67 1.5 1.5S9.33 11 8.5 11 7 10.33 7 9.5 7.67 8 8.5 8M12 18c-2.28 0-4.22-1.66-5-4h10c-.78 2.34-2.72 4-5 4m3.5-7c-.83 0-1.5-.67-1.5-1.5S14.67 8 15.5 8s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),$M=["\ud83d\ude00","\ud83d\ude03","\ud83d\ude04","\ud83d\ude01","\ud83d\ude06","\ud83d\ude05","\ud83d\ude02","\ud83e\udd23","\ud83d\ude0a","\ud83d\ude07","\ud83d\ude42","\ud83d\ude43","\ud83d\ude09","\ud83d\ude0c","\ud83d\ude0d","\ud83e\udd70","\ud83d\ude18","\ud83d\ude17","\ud83d\ude19","\ud83d\ude1a","\ud83d\ude0b","\ud83d\ude1b","\ud83d\ude1d","\ud83d\ude1c","\ud83e\udd2a","\ud83e\udd28","\ud83e\uddd0","\ud83e\udd13","\ud83d\ude0e","\ud83e\udd29","\ud83e\udd73","\ud83d\ude0f","\ud83d\ude12","\ud83d\ude1e","\ud83d\ude14","\ud83d\ude1f","\ud83d\ude15","\ud83d\ude41","\u2639\ufe0f","\ud83d\ude23"],BM=e=>{var t;let{onSubmit:n,user:r}=e;const[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null),y=(0,i.useRef)(null);return(0,Me.jsx)(LD,{sx:{mb:2,borderRadius:2},children:(0,Me.jsxs)(BD,{children:[(0,Me.jsxs)(B_,{sx:{display:"flex",gap:2},children:[(0,Me.jsx)(lA,{src:null===r||void 0===r?void 0:r.avatar,alt:(null===r||void 0===r?void 0:r.name)||"User",sx:{width:40,height:40},children:(null===r||void 0===r||null===(t=r.name)||void 0===t?void 0:t.charAt(0))||"U"}),(0,Me.jsx)(B_,{sx:{flex:1},children:(0,Me.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o.trim()||a)try{await n(o,a||void 0),s(""),l(null),u(null)}catch(m){console.error("Error submitting post:",m)}},style:{flex:1},children:[(0,Me.jsx)(Hj,{fullWidth:!0,multiline:!0,rows:3,placeholder:"What's on your mind?",value:o,onChange:e=>s(e.target.value),variant:"outlined",sx:{mb:2}}),c&&(0,Me.jsxs)(B_,{sx:{position:"relative",mb:2},children:[(0,Me.jsx)("img",{src:c,alt:"Preview",style:{maxWidth:"100%",maxHeight:"400px",borderRadius:"8px",objectFit:"contain"}}),(0,Me.jsx)(zN,{onClick:()=>{l(null),u(null),y.current&&(y.current.value="")},sx:{position:"absolute",top:8,right:8,backgroundColor:"rgba(0,0,0,0.5)","&:hover":{backgroundColor:"rgba(0,0,0,0.7)"}},children:(0,Me.jsx)(tM,{sx:{color:"white"}})})]}),(0,Me.jsxs)(B_,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Me.jsxs)(B_,{children:[(0,Me.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];if(t.size>5242880)return void g("Image size should be less than 5MB");l(t),u(URL.createObjectURL(t))}},style:{display:"none"},ref:y}),(0,Me.jsx)(zN,{onClick:()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.click()},children:(0,Me.jsx)(FM,{})}),(0,Me.jsx)(zN,{onClick:e=>{h(e.currentTarget)},children:(0,Me.jsx)(zM,{})})]}),(0,Me.jsx)(XN,{variant:"contained",type:"submit",disabled:!o.trim()&&!a||p,children:p?(0,Me.jsx)(NN,{size:24}):"Post"})]})]})})]}),m&&(0,Me.jsx)(ND,{severity:"error",sx:{mt:2},children:m}),(0,Me.jsx)(sj,{open:Boolean(d),anchorEl:d,onClose:()=>{h(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,Me.jsx)(B_,{sx:{p:2,maxWidth:300},children:(0,Me.jsx)(B_,{sx:{display:"grid",gridTemplateColumns:"repeat(8, 1fr)",gap:1},children:$M.map(((e,t)=>(0,Me.jsx)(zN,{onClick:()=>(e=>{s((t=>t+e)),h(null)})(e),sx:{fontSize:"1.5rem"},children:e},t)))})})})]})})},UM=q_((0,Me.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),VM=()=>{const{currentUser:e}=qI(),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!1),[s,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)([]),[h,p]=(0,i.useState)(null),f=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(!e)return;(async()=>{try{const t=await eE(Wk(UI,"users",e.uid));t.exists()&&p(t.data())}catch(t){console.error("Error fetching user profile:",t)}})()}),[e]);return(0,Me.jsxs)(B_,{sx:{display:"flex",gap:2,overflowX:"auto",py:2,px:1},children:[(0,Me.jsxs)(B_,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Me.jsx)(zN,{onClick:()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.click()},sx:{width:64,height:64,border:"2px dashed #ccc","&:hover":{borderColor:"primary.main"}},children:(0,Me.jsx)(UM,{})}),(0,Me.jsx)(gA,{variant:"caption",sx:{mt:1},children:"Create Story"}),(0,Me.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];a(t),c(URL.createObjectURL(t)),o(!0)}},style:{display:"none"},ref:f})]}),t.map((e=>(0,Me.jsxs)(B_,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Me.jsx)(lA,{src:e.author.avatar,sx:{width:64,height:64,border:"2px solid #1976d2"}}),(0,Me.jsx)(gA,{variant:"caption",sx:{mt:1},children:e.author.name})]},e.id))),(0,Me.jsxs)(KO,{open:r,onClose:()=>o(!1),maxWidth:"md",fullWidth:!0,children:[(0,Me.jsx)(JO,{children:"Create Story"}),(0,Me.jsxs)(nD,{children:[l&&(0,Me.jsxs)(B_,{sx:{position:"relative",mb:2},children:[(0,Me.jsx)("img",{src:l,alt:"Preview",style:{width:"100%",borderRadius:"8px"}}),u.map(((e,t)=>(0,Me.jsx)("img",{src:e.url,alt:e.name,style:{position:"absolute",width:"50px",height:"50px",top:50*Math.random()+"%",left:50*Math.random()+"%"}},t)))]}),(0,Me.jsx)(gA,{variant:"h6",sx:{mb:2},children:"Add Stickers"}),(0,Me.jsx)(B_,{sx:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:2},children:[{id:"1",url:"/stickers/heart.png",name:"Heart",isCustom:!1},{id:"2",url:"/stickers/star.png",name:"Star",isCustom:!1},{id:"3",url:"/stickers/fire.png",name:"Fire",isCustom:!1},{id:"4",url:"/stickers/cool.png",name:"Cool",isCustom:!1}].map((e=>(0,Me.jsxs)(B_,{onClick:()=>(e=>{d((t=>[...t,e]))})(e),sx:{cursor:"pointer",p:1,border:"1px solid #ccc",borderRadius:1,"&:hover":{borderColor:"primary.main"}},children:[(0,Me.jsx)("img",{src:e.url,alt:e.name,style:{width:"100%",height:"auto"}}),(0,Me.jsx)(gA,{variant:"caption",display:"block",textAlign:"center",children:e.name})]},e.id)))})]}),(0,Me.jsxs)(sD,{children:[(0,Me.jsx)(XN,{onClick:()=>o(!1),children:"Cancel"}),(0,Me.jsx)(XN,{onClick:async()=>{if(s&&e)try{var t;const n=FI(VI,`stories/${Date.now()}_${s.name}`);await MI(n,s);const r={imageUrl:await LI(n),author:{name:e.displayName||"Anonymous",avatar:(null===h||void 0===h?void 0:h.profilePic)||e.photoURL||"",username:(null===(t=e.email)||void 0===t?void 0:t.split("@")[0])||"anonymous"},timestamp:gE(),stickers:u};await sE(Vk(UI,"stories"),r),o(!1),a(null),c(null),d([])}catch(n){console.error("Error creating story:",n)}},variant:"contained",children:"Create Story"})]})]})]})},WM=q_((0,Me.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),HM=()=>{var e;const{currentUser:t}=qI(),[n,r]=(0,i.useState)([]),[o,s]=(0,i.useState)([]),[a,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(null),[p,f]=(0,i.useState)(""),[m,g]=(0,i.useState)(null),[y,v]=(0,i.useState)(""),[b,w]=(0,i.useState)(null),[x,S]=(0,i.useState)(null),[k,C]=(0,i.useState)(!1),[E,I]=(0,i.useState)(null),[T,_]=(0,i.useState)(null),[A,P]=(0,i.useState)(null),[R,j]=(0,i.useState)(!1),[N,O]=(ne(),(0,i.useState)(!1));(0,i.useEffect)((()=>{const e=Nu(BI,(async e=>{if(e){console.log("Auth state changed - User logged in:",e);const n=await eE(Wk(UI,"users",e.uid));if(n.exists()){const e=n.data();console.log("User profile loaded:",e),g(e)}else{var t;const n={uid:e.uid,email:e.email||"",name:e.displayName||"",username:(null===(t=e.displayName)||void 0===t?void 0:t.toLowerCase().replace(/\s+/g,""))||"",avatar:e.photoURL||"",profilePic:e.photoURL||"",bio:"",isVerified:!1,followers:[],following:0,posts:0,createdAt:new Date};await rE(Wk(UI,"users",e.uid),n),console.log("Created new user profile:",n),g(n)}}else console.log("Auth state changed - No user"),g(null)}));return()=>e()}),[]);const D=(0,i.useCallback)((()=>{if(!t)return()=>{};const e=aE(Wk(UI,"users",t.uid),(e=>{if(e.exists()){const t=e.data();console.log("User profile updated:",t),g(t)}})),n=aE(DC(Vk(UI,"posts"),$C("timestamp","desc")),(async e=>{const t=await Promise.all(e.docs.map((async e=>{var t;const n=e.data(),r=Wk(UI,"users",n.authorId),i=await eE(r),o=i.exists()?i.data():null;return{id:e.id,content:n.content||"",authorId:n.authorId||"",authorName:(null===o||void 0===o?void 0:o.name)||"Anonymous",authorAvatar:(null===o||void 0===o?void 0:o.profilePic)||"",username:(null===o||void 0===o?void 0:o.username)||"anonymous",timestamp:(null===(t=n.timestamp)||void 0===t?void 0:t.toDate())||new Date,likes:n.likes||[],likedBy:n.likedBy||[],comments:(n.comments||[]).map((e=>{var t;return{...e,timestamp:(null===(t=e.timestamp)||void 0===t?void 0:t.toDate())||new Date}})),commentCount:n.commentCount||0,imageUrl:n.imageUrl||"",userId:n.userId||"",tags:n.tags||[],isPrivate:n.isPrivate||!1,isPinned:n.isPinned||!1,isEdited:n.isEdited||!1,reposts:n.reposts||0,views:n.views||0,isArchived:n.isArchived||!1}})));r(t),l(!1)})),i=aE(DC(Vk(UI,"trending"),$C("count","desc"),UC(5)),(async e=>{const t=await Promise.all(e.docs.map((async e=>{const t=e.data(),n=Array.isArray(t.posts)?t.posts:[],r=await Promise.all(n.map((async e=>{var t;if(!e.authorId)return null;const n=Wk(UI,"users",e.authorId),r=await eE(n),i=r.exists()?r.data():null;return{id:e.id||"",content:e.content||"",authorId:e.authorId||"",authorName:(null===i||void 0===i?void 0:i.name)||"Anonymous",authorAvatar:(null===i||void 0===i?void 0:i.profilePic)||"",username:(null===i||void 0===i?void 0:i.username)||"anonymous",timestamp:(null===(t=e.timestamp)||void 0===t?void 0:t.toDate())||new Date,likes:e.likes||0,likedBy:e.likedBy||[],comments:e.comments||[],commentCount:e.commentCount||0,imageUrl:e.imageUrl||"",userId:e.userId||"",tags:e.tags||[],isPrivate:e.isPrivate||!1,isPinned:e.isPinned||!1,isEdited:e.isEdited||!1,reposts:e.reposts||0,views:e.views||0,isArchived:e.isArchived||!1}})));return{tag:e.id,count:t.count||0,posts:r.filter(Boolean)}})));s(t)}));return()=>{e(),n(),i()}}),[t]);(0,i.useEffect)((()=>D()),[D]);const M=async e=>{if(t)try{var n;const r=Wk(UI,"posts",e),i=await eE(r);if(!i.exists())throw new Error("Post not found");const o=i.data();(null===(n=o.likedBy)||void 0===n?void 0:n.includes(t.uid))||!1?await iE(r,{likes:bE(-1),likedBy:vE(t.uid)}):await iE(r,{likes:bE(1),likedBy:yE(t.uid)})}catch(E){console.error("Error updating like:",E)}},L=async(e,n)=>{if(t&&m)try{const i=Wk(UI,"posts",e);if(!(await eE(i)).exists())return void console.error("Post not found");const o={id:Date.now().toString(),content:n,authorId:t.uid,authorName:m.name||t.displayName||"Anonymous",authorAvatar:m.profilePic||t.photoURL||"",timestamp:new Date,likes:0,likedBy:[],isEdited:!1};await iE(i,{comments:yE(o)}),r((t=>t.map((t=>{if(t.id===e){return{...t,comments:[...t.comments,o]}}return t}))))}catch(E){console.error("Error adding comment:",E)}},F=async e=>{if(t&&m)try{const i=n.find((t=>t.id===e));if(!i)throw new Error("Post not found");const o=DC(Vk(UI,"reposts"),LC("originalPostId","==",e),LC("reposterId","==",t.uid));if(!(await nE(o)).empty)throw new Error("You have already reposted this post");const s={originalPostId:e,reposterId:t.uid,reposterName:m.name,reposterUsername:m.username,reposterAvatar:m.profilePic,timestamp:gE()};await sE(Vk(UI,"reposts"),s);const a=Wk(UI,"posts",e);if(await iE(a,{reposts:bE(1)}),i.userId!==t.uid){const t=Wk(UI,"notifications",`${i.userId}_${e}_repost`);await rE(t,{type:"repost",postId:e,fromUser:{name:m.name,username:m.username,avatar:m.profilePic},timestamp:gE(),read:!1})}r((t=>t.map((t=>t.id===e?{...t,reposts:(t.reposts||0)+1}:t)))),console.log("Post reposted successfully")}catch(E){console.error("Error sharing post:",E)}else console.error("User not authenticated or profile not loaded")},z=async e=>{if(t)try{var n;const i=Wk(UI,"posts",e),o=await eE(i);if(!o.exists())throw new Error("Post not found");const s=o.data();if(s.userId!==t.uid)throw new Error("You can only delete your own posts");const a=Wk(UI,"deleted_posts",e),l={id:e,content:s.content||"",authorId:s.authorId||"",authorName:s.authorName||"Anonymous",authorAvatar:s.authorAvatar||"",timestamp:s.timestamp||gE(),likes:s.likes||0,likedBy:s.likedBy||[],comments:s.comments||[],commentCount:(null===(n=s.comments)||void 0===n?void 0:n.length)||0,imageUrl:s.imageUrl||null,userId:s.userId||t.uid,tags:s.tags||[],location:s.location||null,isPrivate:s.isPrivate||!1,isPinned:s.isPinned||!1,isEdited:s.isEdited||!1,lastEdited:s.lastEdited||null,reposts:s.reposts||0,views:s.views||0,isArchived:s.isArchived||!1,isDeleted:!0,deletedAt:gE(),scheduledForDeletion:new Date(Date.now()+864e5)};if(await rE(a,l),await oE(i),s.imageUrl){const e=FI(VI,s.imageUrl);await function(e){return TI(e=$s(e))}(e).catch((e=>{console.error("Error deleting image:",e)}))}const c=Wk(UI,"users",t.uid);await iE(c,{postCount:bE(-1)}),r((t=>t.filter((t=>t.id!==e)))),console.log("Post moved to trash. It will be permanently deleted after 24 hours.")}catch(E){console.error("Error deleting post:",E)}else console.error("User not authenticated")},$=async()=>{if(t)try{const e=DC(Vk(UI,"posts"),LC("userId","==",t.uid),$C("timestamp","desc")),n=await nE(e),r=[];n.forEach((e=>{const t=e.data().timestamp.toDate(),n=new Date;Math.floor((n.getTime()-t.getTime())/864e5)>30&&r.push(e.id)}));const i=function(e){return Qk(e=Ok(e,Gk)),new dE(e,(t=>lE(e,t)))}(UI);for(const t of r){const e=Wk(UI,"posts",t);i.delete(e)}r.length>0&&(await i.commit(),console.log(`Successfully deleted ${r.length} old posts`))}catch(E){console.error("Error cleaning up old posts:",E)}};return(0,i.useEffect)((()=>{(async()=>{if(t)try{l(!0),I(null),await $();const e=DC(Vk(UI,"posts"),LC("userId","==",t.uid),UC(50)),n=await nE(e),i=[];for(const t of n.docs){const e=t.data(),n=Wk(UI,"users",e.userId),r=(await eE(n)).data();r&&i.push({id:t.id,content:e.content,authorId:e.userId,authorName:r.name||"Unknown User",authorAvatar:r.avatar||"",username:r.username||"anonymous",timestamp:e.timestamp,likes:e.likes||0,likedBy:e.likedBy||[],comments:e.comments||[],commentCount:e.commentCount||0,imageUrl:e.imageUrl||null,userId:e.userId,tags:e.tags||[],location:e.location||null,isPrivate:e.isPrivate||!1,isPinned:e.isPinned||!1,isEdited:e.isEdited||!1,lastEdited:e.lastEdited||null,reposts:e.reposts||0,views:e.views||0,isArchived:e.isArchived||!1})}i.sort(((e,t)=>{var n,r,i,o;const s=(null===(n=e.timestamp)||void 0===n||null===(r=n.toDate)||void 0===r?void 0:r.call(n))||new Date(0);return((null===(i=t.timestamp)||void 0===i||null===(o=i.toDate)||void 0===o?void 0:o.call(i))||new Date(0)).getTime()-s.getTime()})),r(i)}catch(e){console.error("Error fetching posts:",e),I("Failed to load posts. Please try again later.")}finally{l(!1)}else l(!1)})()}),[t]),t?(0,Me.jsx)(ps,{maxWidth:"md",children:(0,Me.jsxs)(B_,{sx:{py:4},children:[(0,Me.jsx)(VM,{}),t&&m&&(0,Me.jsx)(BM,{user:{name:(null===m||void 0===m?void 0:m.name)||(null===t||void 0===t?void 0:t.displayName)||"Anonymous",avatar:(null===m||void 0===m?void 0:m.profilePic)||(null===t||void 0===t?void 0:t.photoURL)||"",username:(null===m||void 0===m?void 0:m.username)||(null===t||void 0===t||null===(e=t.email)||void 0===e?void 0:e.split("@")[0])||"anonymous",isVerified:(null===m||void 0===m?void 0:m.isVerified)||!1},onSubmit:async(e,n)=>{if(t&&m)try{var i;let o="";if(n){const e=FI(VI,`posts/${t.uid}/${Date.now()}_${n.name}`);await MI(e,n),o=await LI(e)}const s=(null===(i=e.match(/#[a-zA-Z0-9_]+/g))||void 0===i?void 0:i.map((e=>e.slice(1))))||[],a={authorId:t.uid,authorName:(null===m||void 0===m?void 0:m.name)||(null===t||void 0===t?void 0:t.displayName)||"Anonymous",authorAvatar:(null===m||void 0===m?void 0:m.profilePic)||(null===t||void 0===t?void 0:t.photoURL)||"https://ui-avatars.com/api/?name=Anonymous&background=random",username:(null===m||void 0===m?void 0:m.username)||"anonymous",content:e,timestamp:new Date,likes:0,likedBy:[],comments:[],commentCount:0,tags:s,reposts:0,userId:t.uid,isPrivate:!1,isPinned:!1,isEdited:!1,views:0,isArchived:!1};o&&(a.imageUrl=o);const l=await sE(Vk(UI,"posts"),{...a,timestamp:gE()});r((e=>[{...a,id:l.id,timestamp:new Date},...e])),await iE(Wk(UI,"users",t.uid),{postCount:bE(1)}),console.log("Post created successfully")}catch(E){console.error("Error creating post:",E)}else console.error("User not authenticated or profile not loaded")}}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[o.length>0&&(0,Me.jsxs)(__,{sx:{p:2,mb:3,borderRadius:2},children:[(0,Me.jsx)(gA,{variant:"h6",sx:{mb:2},children:"Trending Topics"}),(0,Me.jsx)(B_,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:o.map((e=>(0,Me.jsx)(FO,{label:`#${e.tag} (${e.count})`,onClick:()=>{if(Array.isArray(e.posts)){const t=e.posts.map((e=>({...e,content:String(e.content||""),authorName:String(e.authorName||"Anonymous"),authorAvatar:String(e.authorAvatar||""),username:String(e.username||"anonymous"),imageUrl:String(e.imageUrl||""),userId:String(e.userId||""),authorId:String(e.authorId||""),id:String(e.id||""),tags:Array.isArray(e.tags)?e.tags.map(String):[]})));r(t)}else console.error("Invalid posts data:",e.posts),I("Error loading posts for this topic")},sx:{m:.5,backgroundColor:"#f5f5f5","&:hover":{backgroundColor:"#e0e0e0"}}},e.tag)))})]}),a?(0,Me.jsx)(B_,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(NN,{})}):0===n.length?(0,Me.jsx)(gA,{children:"No posts yet. Be the first to post!"}):n.map((e=>(0,Me.jsx)(LM,{id:e.id,authorId:e.authorId,authorName:e.authorName||"Anonymous",authorAvatar:e.authorAvatar||"",content:e.content,timestamp:e.timestamp,likes:e.likes,likedBy:e.likedBy,comments:e.comments,commentCount:e.comments.length,imageUrl:e.imageUrl,tags:e.tags||[],isOwnPost:e.authorId===(null===t||void 0===t?void 0:t.uid),onLike:M,onComment:L,onShare:F,onDelete:z},e.id)))]}),(0,Me.jsxs)(KO,{open:c,onClose:()=>{u(!1),f("")},maxWidth:"sm",fullWidth:!0,children:[(0,Me.jsx)(JO,{children:"Add Comment"}),(0,Me.jsx)(nD,{children:(0,Me.jsx)(Hj,{autoFocus:!0,margin:"dense",label:"Your comment",type:"text",fullWidth:!0,multiline:!0,rows:4,value:p,onChange:e=>f(e.target.value)})}),(0,Me.jsxs)(sD,{children:[(0,Me.jsx)(XN,{onClick:()=>{u(!1),f("")},children:"Cancel"}),(0,Me.jsx)(XN,{onClick:async()=>{if(t&&d&&p.trim())try{const e=Wk(UI,"posts",d),n=await eE(e);if(!n.exists())return void I("Post not found");const i=n.data(),o={id:Date.now().toString(),content:p.trim(),authorId:t.uid,authorName:(null===m||void 0===m?void 0:m.name)||t.displayName||"Anonymous",authorAvatar:(null===m||void 0===m?void 0:m.profilePic)||t.photoURL||"",timestamp:new Date,likes:0,likedBy:[],isEdited:!1};await iE(e,{comments:yE(o)}),i.userId!==t.uid&&await sE(Vk(UI,"notifications"),{type:"comment",senderId:t.uid,receiverId:i.userId,postId:d,content:`${t.displayName||"Someone"} commented on your post`,timestamp:gE(),read:!1}),r((e=>e.map((e=>e.id===d?{...e,comments:[...e.comments,o]}:e)))),f(""),u(!1),_("Comment added successfully")}catch(E){console.error("Error adding comment:",E),I("Failed to add comment")}else I("Please enter a comment")},variant:"contained",disabled:!p.trim(),startIcon:(0,Me.jsx)(WM,{}),children:"Comment"})]})]}),(0,Me.jsx)(bD,{open:!!E,autoHideDuration:6e3,onClose:()=>I(null),children:(0,Me.jsx)(ND,{severity:"error",children:E})}),(0,Me.jsx)(bD,{open:!!T,autoHideDuration:6e3,onClose:()=>_(null),children:(0,Me.jsx)(ND,{severity:"success",children:T})})]})}):(0,Me.jsx)(ps,{maxWidth:"md",children:(0,Me.jsx)(B_,{sx:{mt:4,textAlign:"center"},children:(0,Me.jsx)(gA,{variant:"h5",children:"Please sign in to view the feed"})})})},qM=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),a=ne();return(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsxs)(B_,{sx:{mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Me.jsx)(gA,{component:"h1",variant:"h5",children:"Login to Side Eye"}),(0,Me.jsxs)(B_,{component:"form",onSubmit:async t=>{t.preventDefault();try{await Pu(BI,e,n),a("/")}catch(o){s("Invalid email or password")}},sx:{mt:1},children:[(0,Me.jsx)(Hj,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:e,onChange:e=>t(e.target.value)}),(0,Me.jsx)(Hj,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:n,onChange:e=>r(e.target.value)}),o&&(0,Me.jsx)(gA,{color:"error",sx:{mt:2},children:o}),(0,Me.jsx)(XN,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"})]})]})})},KM=q_((0,Me.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),GM=q_((0,Me.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),QM=()=>{const[e,t]=(0,i.useState)({username:"",email:"",password:"",confirmPassword:""}),[n,r]=(0,i.useState)({}),[o,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),d=ne(),{register:h}=qI(),p=e=>{const{name:i,value:o}=e.target;t((e=>({...e,[i]:o}))),n[i]&&r((e=>({...e,[i]:void 0})))};return o?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(B_,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(NN,{})})}):(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(B_,{sx:{mt:8},children:(0,Me.jsxs)(__,{elevation:0,sx:{p:4},children:[(0,Me.jsx)(gA,{variant:"h4",gutterBottom:!0,align:"center",children:"Create Account"}),(0,Me.jsx)(gA,{variant:"body1",color:"text.secondary",paragraph:!0,align:"center",children:"Join SideEye and start sharing your thoughts with the community"}),c&&(0,Me.jsx)(ND,{severity:"error",sx:{mb:2},children:c}),(0,Me.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),u(null),(()=>{const t={};return e.username.trim()?e.username.length<3&&(t.username="Username must be at least 3 characters"):t.username="Username is required",e.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password?e.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",e.password!==e.confirmPassword&&(t.confirmPassword="Passwords do not match"),r(t),0===Object.keys(t).length})())try{s(!0),await h(e.email,e.password,e.username),d("/verify-email")}catch(c){console.error("Registration error:",c),"auth/email-already-in-use"===c.code?u("Email is already in use"):"auth/weak-password"===c.code?u("Password is too weak"):u("Error creating account. Please try again.")}finally{s(!1)}},children:[(0,Me.jsx)(Hj,{fullWidth:!0,label:"Username",name:"username",value:e.username,onChange:p,margin:"normal",required:!0,error:!!n.username,helperText:n.username}),(0,Me.jsx)(Hj,{fullWidth:!0,label:"Email",name:"email",type:"email",value:e.email,onChange:p,margin:"normal",required:!0,error:!!n.email,helperText:n.email}),(0,Me.jsx)(Hj,{fullWidth:!0,label:"Password",name:"password",type:a?"text":"password",value:e.password,onChange:p,margin:"normal",required:!0,error:!!n.password,helperText:n.password,InputProps:{endAdornment:(0,Me.jsx)(Xj,{position:"end",children:(0,Me.jsx)(zN,{onClick:()=>l(!a),edge:"end",children:a?(0,Me.jsx)(KM,{}):(0,Me.jsx)(GM,{})})})}}),(0,Me.jsx)(Hj,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:a?"text":"password",value:e.confirmPassword,onChange:p,margin:"normal",required:!0,error:!!n.confirmPassword,helperText:n.confirmPassword}),(0,Me.jsx)(XN,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},disabled:o,children:"Create Account"})]})]})})})},YM=e=>{const t=i.useRef({});return i.useEffect((()=>{t.current=e})),t.current};const XM=function(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=YM({badgeContent:t,max:r});let s=n;!1!==n||0!==t||i||(s=!0);const{badgeContent:a,max:l=r}=s?o:e;return{badgeContent:a,invisible:s,max:l,displayValue:a&&Number(a)>l?`${l}+`:a}};function JM(e){return Do("MuiBadge",e)}const ZM=C_("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),eL=ds("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),tL=ds("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${ls(n.anchorOrigin.vertical)}${ls(n.anchorOrigin.horizontal)}${ls(n.overlap)}`],"default"!==n.color&&t[`color${ls(n.color)}`],n.invisible&&t.invisible]}})(S_((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(k_(["contrastText"])).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}}})),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ZM.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ZM.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ZM.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ZM.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ZM.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ZM.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ZM.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ZM.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}})));function nL(e){return{vertical:e?.vertical??"top",horizontal:e?.horizontal??"right"}}const rL=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiBadge"}),{anchorOrigin:r,className:i,classes:o,component:s,components:a={},componentsProps:l={},children:c,overlap:u="rectangular",color:d="default",invisible:h=!1,max:p=99,badgeContent:f,slots:m,slotProps:g,showZero:y=!1,variant:v="standard",...b}=n,{badgeContent:w,invisible:x,max:S,displayValue:k}=XM({max:p,invisible:h,badgeContent:f,showZero:y}),C=YM({anchorOrigin:nL(r),color:d,overlap:u,variant:v,badgeContent:f}),E=x||null==w&&"dot"!==v,{color:I=d,overlap:T=u,anchorOrigin:_,variant:A=v}=E?C:n,P=nL(_),R="dot"!==A?k:void 0,j={...n,badgeContent:w,invisible:E,max:S,displayValue:R,showZero:y,anchorOrigin:P,color:I,overlap:T,variant:A},N=(e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=e;return Mo({root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${ls(n.vertical)}${ls(n.horizontal)}`,`anchorOrigin${ls(n.vertical)}${ls(n.horizontal)}${ls(i)}`,`overlap${ls(i)}`,"default"!==t&&`color${ls(t)}`]},JM,s)})(j),O=m?.root??a.Root??eL,D=m?.badge??a.Badge??tL,M=g?.root??l.root,L=g?.badge??l.badge,F=FP({elementType:O,externalSlotProps:M,externalForwardedProps:b,additionalProps:{ref:t,as:s},ownerState:j,className:Ro(M?.className,N.root,i)}),z=FP({elementType:D,externalSlotProps:L,ownerState:j,className:Ro(N.badge,L?.className)});return(0,Me.jsxs)(O,{...F,children:[c,(0,Me.jsx)(D,{...z,children:R})]})})),iL=rL;function oL(e){return Do("MuiListItem",e)}C_("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function sL(e){return Do("MuiListItemButton",e)}const aL=C_("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function lL(e){return Do("MuiListItemSecondaryAction",e)}C_("MuiListItemSecondaryAction",["root","disableGutters"]);const cL=ds("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:e=>{let{ownerState:t}=e;return t.disableGutters},style:{right:0}}]}),uL=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...o}=n,s=i.useContext(zP),a={...n,disableGutters:s.disableGutters},l=(e=>{const{disableGutters:t,classes:n}=e;return Mo({root:["root",t&&"disableGutters"]},lL,n)})(a);return(0,Me.jsx)(cL,{className:Ro(l.root,r),ownerState:a,ref:t,...o})}));uL.muiName="ListItemSecondaryAction";const dL=uL,hL=ds("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]}})(S_((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&t.dense},style:{paddingTop:4,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!!t.secondaryAction},style:{paddingRight:48}},{props:e=>{let{ownerState:t}=e;return!!t.secondaryAction},style:{[`& > .${aL.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return t.button},style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:e=>{let{ownerState:t}=e;return t.hasSecondaryAction},style:{paddingRight:48}}]}}))),pL=ds("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),fL=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiListItem"}),{alignItems:r="center",children:o,className:s,component:a,components:l={},componentsProps:c={},ContainerComponent:u="li",ContainerProps:{className:d,...h}={},dense:p=!1,disableGutters:f=!1,disablePadding:m=!1,divider:g=!1,secondaryAction:y,slotProps:v={},slots:b={},...w}=n,x=i.useContext(zP),S=i.useMemo((()=>({dense:p||x.dense||!1,alignItems:r,disableGutters:f})),[r,x.dense,p,f]),k=i.useRef(null),C=i.Children.toArray(o),E=C.length&&EP(C[C.length-1],["ListItemSecondaryAction"]),I={...n,alignItems:r,dense:S.dense,disableGutters:f,disablePadding:m,divider:g,hasSecondaryAction:E},T=(e=>{const{alignItems:t,classes:n,dense:r,disableGutters:i,disablePadding:o,divider:s,hasSecondaryAction:a}=e;return Mo({root:["root",r&&"dense",!i&&"gutters",!o&&"padding",s&&"divider","flex-start"===t&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},oL,n)})(I),_=NA(k,t),A=b.root||l.Root||hL,P=v.root||c.root||{},R={className:Ro(T.root,P.className,s),...w};let j=a||"li";return E?(j=R.component||a?j:"div","li"===u&&("li"===j?j="div":"li"===R.component&&(R.component="div")),(0,Me.jsx)(zP.Provider,{value:S,children:(0,Me.jsxs)(pL,{as:u,className:Ro(T.container,d),ref:_,ownerState:I,...h,children:[(0,Me.jsx)(A,{...P,...!AA(A)&&{as:j,ownerState:{...I,...P.ownerState}},...R,children:C}),C.pop()]})})):(0,Me.jsx)(zP.Provider,{value:S,children:(0,Me.jsxs)(A,{...P,as:j,ref:_,...!AA(A)&&{ownerState:{...I,...P.ownerState}},...R,children:[C,y&&(0,Me.jsx)(dL,{children:y})]})})})),mL=fL;function gL(e){return Do("MuiListItemAvatar",e)}C_("MuiListItemAvatar",["root","alignItemsFlexStart"]);const yL=ds("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),vL=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiListItemAvatar"}),{className:r,...o}=n,s=i.useContext(zP),a={...n,alignItems:s.alignItems},l=(e=>{const{alignItems:t,classes:n}=e;return Mo({root:["root","flex-start"===t&&"alignItemsFlexStart"]},gL,n)})(a);return(0,Me.jsx)(yL,{className:Ro(l.root,r),ownerState:a,ref:t,...o})})),bL=vL;function wL(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const xL={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const SL=q_((0,Me.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),kL=q_((0,Me.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function CL(e){return Do("MuiTabScrollButton",e)}const EL=C_("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),IL=ds(SN,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${EL.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),TL=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiTabScrollButton"}),{className:r,slots:i={},slotProps:o={},direction:s,orientation:a,disabled:l,...c}=n,u=mn(),d={isRtl:u,...n},h=(e=>{const{classes:t,orientation:n,disabled:r}=e;return Mo({root:["root",n,r&&"disabled"]},CL,t)})(d),p=i.StartScrollButtonIcon??SL,f=i.EndScrollButtonIcon??kL,m=FP({elementType:p,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d}),g=FP({elementType:f,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d});return(0,Me.jsx)(IL,{component:"div",className:Ro(h.root,r),ref:t,role:null,ownerState:d,tabIndex:null,...c,style:{...c.style,..."vertical"===a&&{"--TabScrollButton-svgRotate":`rotate(${u?-90:90}deg)`}},children:"left"===s?(0,Me.jsx)(p,{...m}):(0,Me.jsx)(f,{...g})})})),_L=TL;function AL(e){return Do("MuiTabs",e)}const PL=C_("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),RL=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,jL=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,NL=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const t=i.disabled||"true"===i.getAttribute("aria-disabled");if(i.hasAttribute("tabindex")&&!t)return void i.focus();i=n(e,i)}},OL=ds("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${PL.scrollButtons}`]:t.scrollButtons},{[`& .${PL.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(S_((e=>{let{theme:t}=e;return{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.scrollButtonsHideMobile},style:{[`& .${PL.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}}))),DL=ds("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:e=>{let{ownerState:t}=e;return t.fixed},style:{overflowX:"hidden",width:"100%"}},{props:e=>{let{ownerState:t}=e;return t.hideScrollbar},style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:e=>{let{ownerState:t}=e;return t.scrollableX},style:{overflowX:"auto",overflowY:"hidden"}},{props:e=>{let{ownerState:t}=e;return t.scrollableY},style:{overflowY:"auto",overflowX:"hidden"}}]}),ML=ds("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.centered},style:{justifyContent:"center"}}]}),LL=ds("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(S_((e=>{let{theme:t}=e;return{position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:e=>{let{ownerState:t}=e;return t.vertical},style:{height:"100%",width:2,right:0}}]}}))),FL=ds((function(e){const{onChange:t,...n}=e,r=i.useRef(),o=i.useRef(null),s=()=>{r.current=o.current.offsetHeight-o.current.clientHeight};return OA((()=>{const e=ZP((()=>{const e=r.current;s(),e!==r.current&&t(r.current)})),n=qP(o.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}}),[t]),i.useEffect((()=>{s(),t(r.current)}),[t]),(0,Me.jsx)("div",{style:xL,...n,ref:o})}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),zL={};const $L=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiTabs"}),r=m_(),o=mn(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:f="primary",onChange:m,orientation:g="horizontal",ScrollButtonComponent:y,scrollButtons:v="auto",selectionFollowsFocus:b,slots:w={},slotProps:x={},TabIndicatorProps:S={},TabScrollButtonProps:k={},textColor:C="primary",value:E,variant:I="standard",visibleScrollbar:T=!1,..._}=n,A="scrollable"===I,P="vertical"===g,R=P?"scrollTop":"scrollLeft",j=P?"top":"left",N=P?"bottom":"right",O=P?"clientHeight":"clientWidth",D=P?"height":"width",M={...n,component:h,allowScrollButtonsMobile:p,indicatorColor:f,orientation:g,vertical:P,scrollButtons:v,textColor:C,variant:I,visibleScrollbar:T,fixed:!A,hideScrollbar:A&&!T,scrollableX:A&&!P,scrollableY:A&&P,centered:c&&!A,scrollButtonsHideMobile:!p},L=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=e;return Mo({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},AL,l)})(M),F=FP({elementType:w.StartScrollButtonIcon,externalSlotProps:x.startScrollButtonIcon,ownerState:M}),z=FP({elementType:w.EndScrollButtonIcon,externalSlotProps:x.endScrollButtonIcon,ownerState:M});const[$,B]=i.useState(!1),[U,V]=i.useState(zL),[W,H]=i.useState(!1),[q,K]=i.useState(!1),[G,Q]=i.useState(!1),[Y,X]=i.useState({overflow:"hidden",scrollbarWidth:0}),J=new Map,Z=i.useRef(null),ee=i.useRef(null),te={slots:w,slotProps:{indicator:S,scrollButton:k,...x}},ne=()=>{const e=Z.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==E){const e=ee.current.children;if(e.length>0){const t=e[J.get(E)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},re=eN((()=>{const{tabsMeta:e,tabMeta:t}=ne();let n,r=0;P?(n="top",t&&e&&(r=t.top-e.top+e.scrollTop)):(n=o?"right":"left",t&&e&&(r=(o?-1:1)*(t[n]-e[n]+e.scrollLeft)));const i={[n]:r,[D]:t?t[D]:0};if("number"!==typeof U[n]||"number"!==typeof U[D])V(i);else{const e=Math.abs(U[n]-i[n]),t=Math.abs(U[D]-i[D]);(e>=1||t>=1)&&V(i)}})),ie=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:o=wL,duration:s=300}=r;let a=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=r=>{if(c)return void i(new Error("Animation cancelled"));null===a&&(a=r);const u=Math.min(1,(r-a)/s);t[e]=o(u)*(n-l)+l,u>=1?requestAnimationFrame((()=>{i(null)})):requestAnimationFrame(d)};l===n?i(new Error("Element already at target position")):requestAnimationFrame(d)}(R,Z.current,e,{duration:r.transitions.duration.standard}):Z.current[R]=e},oe=e=>{let t=Z.current[R];t+=P?e:e*(o?-1:1),ie(t)},se=()=>{const e=Z.current[O];let t=0;const n=Array.from(ee.current.children);for(let r=0;r<n.length;r+=1){const i=n[r];if(t+i[O]>e){0===r&&(t=e);break}t+=i[O]}return t},ae=()=>{oe(-1*se())},le=()=>{oe(se())},[ce,{onChange:ue,...de}]=rA("scrollbar",{className:Ro(L.scrollableX,L.hideScrollbar),elementType:FL,shouldForwardComponentProp:!0,externalForwardedProps:te,ownerState:M}),he=i.useCallback((e=>{ue?.(e),X({overflow:null,scrollbarWidth:e})}),[ue]),[pe,fe]=rA("scrollButtons",{className:Ro(L.scrollButtons,k.className),elementType:_L,externalForwardedProps:te,ownerState:M,additionalProps:{orientation:g,slots:{StartScrollButtonIcon:w.startScrollButtonIcon||w.StartScrollButtonIcon,EndScrollButtonIcon:w.endScrollButtonIcon||w.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:F,endScrollButtonIcon:z}}}),me=eN((e=>{const{tabsMeta:t,tabMeta:n}=ne();if(n&&t)if(n[j]<t[j]){const r=t[R]+(n[j]-t[j]);ie(r,{animation:e})}else if(n[N]>t[N]){const r=t[R]+(n[N]-t[N]);ie(r,{animation:e})}})),ge=eN((()=>{A&&!1!==v&&Q(!G)}));i.useEffect((()=>{const e=ZP((()=>{Z.current&&re()}));let t;const n=n=>{n.forEach((e=>{e.removedNodes.forEach((e=>{t?.unobserve(e)})),e.addedNodes.forEach((e=>{t?.observe(e)}))})),e(),ge()},r=qP(Z.current);let i;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(ee.current.children).forEach((e=>{t.observe(e)}))),"undefined"!==typeof MutationObserver&&(i=new MutationObserver(n),i.observe(ee.current,{childList:!0})),()=>{e.clear(),r.removeEventListener("resize",e),i?.disconnect(),t?.disconnect()}}),[re,ge]),i.useEffect((()=>{const e=Array.from(ee.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&A&&!1!==v){const n=e[0],r=e[t-1],i={root:Z.current,threshold:.99},o=new IntersectionObserver((e=>{H(!e[0].isIntersecting)}),i);o.observe(n);const s=new IntersectionObserver((e=>{K(!e[0].isIntersecting)}),i);return s.observe(r),()=>{o.disconnect(),s.disconnect()}}}),[A,v,G,u?.length]),i.useEffect((()=>{B(!0)}),[]),i.useEffect((()=>{re()})),i.useEffect((()=>{me(zL!==U)}),[me,U]),i.useImperativeHandle(l,(()=>({updateIndicator:re,updateScrollButtons:ge})),[re,ge]);const[ye,ve]=rA("indicator",{className:Ro(L.indicator,S.className),elementType:LL,externalForwardedProps:te,ownerState:M,additionalProps:{style:U}}),be=(0,Me.jsx)(ye,{...ve});let we=0;const xe=i.Children.map(u,(e=>{if(!i.isValidElement(e))return null;const t=void 0===e.props.value?we:e.props.value;J.set(t,we);const n=t===E;return we+=1,i.cloneElement(e,{fullWidth:"fullWidth"===I,indicator:n&&!$&&be,selected:n,selectionFollowsFocus:b,onChange:m,textColor:C,value:t,...1!==we||!1!==E||e.props.tabIndex?{}:{tabIndex:0}})})),Se=(()=>{const e={};e.scrollbarSizeListener=A?(0,Me.jsx)(ce,{...de,onChange:he}):null;const t=A&&("auto"===v&&(W||q)||!0===v);return e.scrollButtonStart=t?(0,Me.jsx)(pe,{direction:o?"right":"left",onClick:ae,disabled:!W,...fe}):null,e.scrollButtonEnd=t?(0,Me.jsx)(pe,{direction:o?"left":"right",onClick:le,disabled:!q,...fe}):null,e})(),[ke,Ce]=rA("root",{ref:t,className:Ro(L.root,d),elementType:OL,externalForwardedProps:{...te,..._,component:h},ownerState:M}),[Ee,Ie]=rA("scroller",{ref:Z,className:L.scroller,elementType:DL,externalForwardedProps:te,ownerState:M,additionalProps:{style:{overflow:Y.overflow,[P?"margin"+(o?"Left":"Right"):"marginBottom"]:T?void 0:-Y.scrollbarWidth}}}),[Te,_e]=rA("list",{ref:ee,className:Ro(L.list,L.flexContainer),elementType:ML,externalForwardedProps:te,ownerState:M,getSlotProps:e=>({...e,onKeyDown:t=>{(e=>{if(e.altKey||e.shiftKey||e.ctrlKey||e.metaKey)return;const t=ee.current,n=LP(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===g?"ArrowLeft":"ArrowUp",i="horizontal"===g?"ArrowRight":"ArrowDown";switch("horizontal"===g&&o&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:e.preventDefault(),NL(t,n,jL);break;case i:e.preventDefault(),NL(t,n,RL);break;case"Home":e.preventDefault(),NL(t,null,RL);break;case"End":e.preventDefault(),NL(t,null,jL)}})(t),e.onKeyDown?.(t)}})});return(0,Me.jsxs)(ke,{...Ce,children:[Se.scrollButtonStart,Se.scrollbarSizeListener,(0,Me.jsxs)(Ee,{...Ie,children:[(0,Me.jsx)(Te,{"aria-label":s,"aria-labelledby":a,"aria-orientation":"vertical"===g?"vertical":null,role:"tablist",..._e,children:xe}),$&&be]}),Se.scrollButtonEnd]})})),BL=$L;function UL(e){return Do("MuiTab",e)}const VL=C_("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),WL=ds(SN,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${ls(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${VL.iconWrapper}`]:t.iconWrapper},{[`& .${VL.icon}`]:t.icon}]}})(S_((e=>{let{theme:t}=e;return{...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:e=>{let{ownerState:t}=e;return t.label&&("top"===t.iconPosition||"bottom"===t.iconPosition)},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.label&&"top"!==t.iconPosition&&"bottom"!==t.iconPosition},style:{flexDirection:"row"}},{props:e=>{let{ownerState:t}=e;return t.icon&&t.label},style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"top"===n},style:{[`& > .${VL.icon}`]:{marginBottom:6}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"bottom"===n},style:{[`& > .${VL.icon}`]:{marginTop:6}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"start"===n},style:{[`& > .${VL.icon}`]:{marginRight:t.spacing(1)}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"end"===n},style:{[`& > .${VL.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${VL.selected}`]:{opacity:1},[`&.${VL.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${VL.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${VL.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${VL.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${VL.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:e=>{let{ownerState:t}=e;return t.wrapped},style:{fontSize:t.typography.pxToRem(12)}}]}}))),HL=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiTab"}),{className:r,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:h,onClick:p,onFocus:f,selected:m,selectionFollowsFocus:g,textColor:y="inherit",value:v,wrapped:b=!1,...w}=n,x={...n,disabled:o,disableFocusRipple:s,selected:m,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:y,wrapped:b},S=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=e;return Mo({root:["root",o&&s&&"labelIcon",`textColor${ls(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]},UL,t)})(x),k=l&&d&&i.isValidElement(l)?i.cloneElement(l,{className:Ro(S.icon,l.props.className)}):l;return(0,Me.jsxs)(WL,{focusRipple:!s,className:Ro(S.root,r),ref:t,role:"tab","aria-selected":m,disabled:o,onClick:e=>{!m&&h&&h(e,v),p&&p(e)},onFocus:e=>{g&&!m&&h&&h(e,v),f&&f(e)},ownerState:x,tabIndex:m?0:-1,...w,children:["top"===c||"start"===c?(0,Me.jsxs)(i.Fragment,{children:[k,d]}):(0,Me.jsxs)(i.Fragment,{children:[d,k]}),u]})})),qL=HL,KL=q_((0,Me.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 12H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"})),GL=q_((0,Me.jsx)("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"})),QL=q_((0,Me.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),YL=q_((0,Me.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}));function XL(e){const{children:t,value:n,index:r,...i}=e;return(0,Me.jsx)("div",{role:"tabpanel",hidden:n!==r,id:`profile-tabpanel-${r}`,"aria-labelledby":`profile-tab-${r}`,...i,children:n===r&&(0,Me.jsx)(B_,{sx:{p:3},children:t})})}const JL=()=>{var e;const t=m_(),n=w_(t.breakpoints.down("sm")),{userId:r}=re(),{currentUser:o,userProfile:s,loading:a,setUserProfile:l}=qI(),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[p,f]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),[y,v]=(0,i.useState)(!1),[b,w]=(0,i.useState)(0),[x,S]=(0,i.useState)([]),[k,C]=(0,i.useState)([]),[E,I]=(0,i.useState)([]),[T,_]=(0,i.useState)([]),[A,P]=(0,i.useState)(!0),[R,j]=(0,i.useState)(null),[N,O]=(0,i.useState)([]),[D,M]=(0,i.useState)([]),[L,F]=(0,i.useState)(!1),[z,$]=(0,i.useState)(null),[B,U]=(0,i.useState)(!1),[V,W]=(0,i.useState)([]),[H,q]=(0,i.useState)(""),[K,G]=(0,i.useState)(0),[Q,Y]=(0,i.useState)([]),[X,J]=(0,i.useState)(!1),Z=(0,i.useRef)(null),[ee,te]=(0,i.useState)([]),[ne,ie]=(0,i.useState)([]),[oe,se]=(0,i.useState)(!1),[ae,le]=(0,i.useState)(""),[ce,ue]=(0,i.useState)(""),[de,he]=(0,i.useState)(""),pe=r||(null===o||void 0===o?void 0:o.uid)||"",fe=(0,i.useCallback)((async()=>{if(!pe)return j("No user ID provided"),void P(!1);try{if(P(!0),j(null),pe===(null===o||void 0===o?void 0:o.uid)&&s)u(s.username||""),h(s.name||""),f(s.email||""),g(s.bio||""),$(s.profilePic||null),O(s.connections||[]),M(s.followers||[]);else{const e=await eE(Wk(UI,"users",pe));if(e.exists()){const t=e.data();u(t.username||""),h(t.name||""),f(t.email||""),g(t.bio||""),$(t.profilePic||null),O(t.connections||[]),M(t.followers||[])}else j("User not found")}const e=aE(DC(Vk(UI,"posts"),LC("authorId","==",pe)),(e=>{const t=e.docs.map((e=>{var t;const n=e.data();return{id:String(e.id),content:String(n.content||""),authorId:String(n.authorId||""),timestamp:(null===(t=n.timestamp)||void 0===t?void 0:t.toDate())||new Date,likes:Array.isArray(n.likes)?n.likes:[],comments:Number(n.comments||0)}}));S(t)}),(e=>{console.error("Error fetching posts:",e),j("Error loading posts. Please try again later.")})),t=aE(DC(Vk(UI,"forums"),LC("members","array-contains",pe)),(e=>{const t=e.docs.map((e=>{const t=e.data();return{id:String(e.id),title:String(t.title||""),description:String(t.description||""),members:Array.isArray(t.members)?t.members:[],memberCount:Number(t.memberCount||0),ownerId:String(t.ownerId||"")}}));C(t)}),(e=>{console.error("Error fetching forums:",e),j("Error loading forums. Please try again later.")})),n=aE(DC(Vk(UI,"sideRooms"),LC("members","array-contains",pe)),(e=>{const t=e.docs.map((e=>{var t;const n=e.data();return{id:String(e.id),name:String(n.name||""),description:String(n.description||""),ownerId:String(n.ownerId||""),members:Array.isArray(n.members)?n.members:[],memberCount:Number(n.memberCount||0),createdAt:(null===(t=n.createdAt)||void 0===t?void 0:t.toDate())||new Date,isPrivate:Boolean(n.isPrivate),isLive:Boolean(n.isLive),liveParticipants:Array.isArray(n.liveParticipants)?n.liveParticipants:[],category:String(n.category||""),scheduledReveals:Array.isArray(n.scheduledReveals)?n.scheduledReveals:[],activeUsers:Number(n.activeUsers||0)}}));I(t)}),(e=>{console.error("Error fetching side rooms:",e),j("Error loading side rooms. Please try again later.")})),r=aE(DC(Vk(UI,"posts"),LC("likes","array-contains",pe)),(e=>{const t=e.docs.map((e=>{var t;const n=e.data();return{id:String(e.id),content:String(n.content||""),authorId:String(n.authorId||""),timestamp:(null===(t=n.timestamp)||void 0===t?void 0:t.toDate())||new Date,likes:Array.isArray(n.likes)?n.likes:[],comments:Number(n.comments||0)}}));_(t)}),(e=>{console.error("Error fetching liked posts:",e),j("Error loading liked posts. Please try again later.")})),i=aE(DC(Vk(UI,"deleted_items"),LC("userId","==",pe)),(e=>{Y(e.docs.map((e=>({id:e.id,type:e.data().type||"",content:e.data().content||{},deletedAt:e.data().deletedAt||new Date}))))}));return J(!0),()=>{e(),t(),n(),r(),i(),J(!1)}}catch(e){console.error("Error fetching user data:",e),j("Failed to load profile data")}finally{P(!1)}}),[pe,o,s]);(0,i.useEffect)((()=>{fe()}),[fe]),(0,i.useEffect)((()=>{(async()=>{if(pe)try{const e=D.map((async e=>{const t=await eE(Wk(UI,"users",e));return t.exists()?t.data():null})),t=await Promise.all(e);te(t.filter(Boolean));const n=N.map((async e=>{const t=await eE(Wk(UI,"users",e));return t.exists()?t.data():null})),r=await Promise.all(n);ie(r.filter(Boolean))}catch(R){console.error("Error fetching user lists:",R)}})()}),[pe,D,N]),(0,i.useEffect)((()=>{s&&(le(s.name||""),ue(s.bio||""),he(s.username||""))}),[s]);const me=!(null===o||void 0===o||!o.uid)&&(null===s||void 0===s||null===(e=s.connections)||void 0===e?void 0:e.includes(pe)),ge=async()=>{if(o&&pe)try{P(!0);const e=Wk(UI,"users",o.uid),t=Wk(UI,"users",pe);await iE(e,{connections:yE(pe)}),await iE(t,{followers:yE(o.uid)}),s&&l({...s,connections:[...s.connections||[],pe]});const n=await eE(Wk(UI,"users",pe));if(n.exists()){const e=n.data();O(e.connections||[]),M(e.followers||[])}}catch(R){console.error("Error following user:",R),j("Failed to follow user")}finally{P(!1)}},ye=()=>pe?(0,Me.jsx)(zN,{color:"primary",onClick:()=>{U(!0),V.forEach((e=>{e.read||be(e.id)}))},sx:{border:"1px solid",borderColor:"primary.main","&:hover":{backgroundColor:"primary.light",opacity:.8},width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Me.jsx)(iL,{badgeContent:K,color:"error",children:(0,Me.jsx)(KL,{})})}):null,ve=async()=>{if(o&&pe&&H.trim()&&!oe)try{se(!0);const e={senderId:o.uid,receiverId:pe,content:H.trim(),timestamp:gE(),read:!1,senderName:o.displayName||"Anonymous",senderAvatar:(null===s||void 0===s?void 0:s.profilePic)||null};await sE(Vk(UI,"messages"),e),q("")}catch(R){console.error("Error sending message:",R),j("Failed to send message")}finally{se(!1)}},be=async e=>{if(o)try{const t=Wk(UI,"messages",e);await iE(t,{read:!0})}catch(R){console.error("Error marking message as read:",R)}};(0,i.useEffect)((()=>{if(B){const e=(async()=>{if(BI.currentUser&&pe)try{const e=aE(DC(Vk(UI,"messages"),LC("receiverId","==",BI.currentUser.uid),$C("timestamp","desc")),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));W(t),G(t.filter((e=>!e.read)).length)}));return e}catch(R){console.error("Error fetching messages:",R)}})();return()=>{e&&e.then((e=>null===e||void 0===e?void 0:e()))}}}),[B]);return a||A?(0,Me.jsx)(ps,{maxWidth:"lg",children:(0,Me.jsx)(B_,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(NN,{})})}):R?(0,Me.jsx)(ps,{maxWidth:"lg",children:(0,Me.jsx)(B_,{sx:{mt:4},children:(0,Me.jsx)(ND,{severity:"error",children:R})})}):(0,Me.jsxs)(ps,{maxWidth:"lg",children:[(0,Me.jsx)(B_,{sx:{mt:4},children:(0,Me.jsxs)(B_,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 2fr"},gap:4},children:[(0,Me.jsx)(B_,{children:(0,Me.jsx)(__,{elevation:0,sx:{p:3,textAlign:"center"},children:(0,Me.jsxs)(B_,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[(0,Me.jsxs)(B_,{sx:{position:"relative"},children:[(0,Me.jsx)(iL,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(null===o||void 0===o?void 0:o.uid)===pe&&(0,Me.jsx)(zN,{size:"small",onClick:()=>{var e;return null===(e=Z.current)||void 0===e?void 0:e.click()},sx:{bgcolor:"background.paper","&:hover":{bgcolor:"background.paper"}},children:(0,Me.jsx)(FM,{fontSize:"small"})}),children:(0,Me.jsx)(lA,{src:z||void 0,sx:{width:100,height:100}})}),(0,Me.jsx)("input",{type:"file",accept:"image/*",ref:Z,style:{display:"none"},onChange:async e=>{if(o&&e.target.files&&e.target.files[0])try{P(!0),j(null);const t=e.target.files[0];if(!t.type.startsWith("image/"))return void j("Please upload an image file");if(t.size>5242880)return void j("Image size should be less than 5MB");const n=Date.now(),r=`profile_${n}.${t.name.split(".").pop()}`,i=FI(VI,`profile_pictures/${o.uid}/${r}`),a=await MI(i,t),c=await LI(a.ref),u=Wk(UI,"users",o.uid);await iE(u,{profilePic:c,updatedAt:gE()}),$(c),s&&l({...s,profilePic:c}),Z.current&&(Z.current.value="")}catch(R){console.error("Error updating profile picture:",R),j("Failed to update profile picture. Please try again.")}finally{P(!1)}}})]}),(0,Me.jsxs)(B_,{sx:{flex:1},children:[(0,Me.jsx)(gA,{variant:"h4",component:"h1",children:d}),(0,Me.jsxs)(gA,{variant:"subtitle1",color:"text.secondary",children:["@",c]}),(0,Me.jsxs)(B_,{sx:{display:"flex",gap:2,mb:2,mt:2},children:[(0,Me.jsxs)(XN,{variant:"outlined",component:Pe,to:`/profile/${pe}/followers`,children:[D.length," Followers"]}),(0,Me.jsxs)(XN,{variant:"outlined",component:Pe,to:`/profile/${pe}/following`,children:[N.length," Following"]})]}),(0,Me.jsx)(gA,{variant:"body1",sx:{mt:1,mb:2},children:m}),(0,Me.jsx)(B_,{sx:{display:"flex",gap:2,alignItems:"center"},children:(null===o||void 0===o?void 0:o.uid)===pe?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(XN,{variant:"outlined",startIcon:(0,Me.jsx)(lM,{}),onClick:()=>v(!0),sx:{minWidth:"120px",borderColor:"primary.main",color:"primary.main","&:hover":{borderColor:"primary.dark",color:"primary.dark"}},children:"Edit Profile"}),ye(),(0,Me.jsx)(zN,{component:Pe,to:"/trash",color:"error",sx:{border:"1px solid",borderColor:"error.main","&:hover":{backgroundColor:"error.light",opacity:.8}},children:(0,Me.jsx)(tM,{})})]}):(0,Me.jsxs)(Me.Fragment,{children:[(null===o||void 0===o?void 0:o.uid)!==pe&&pe?(0,Me.jsx)(XN,{variant:me?"outlined":"contained",color:me?"error":"primary",startIcon:me?(0,Me.jsx)(GL,{}):(0,Me.jsx)(QL,{}),onClick:me?()=>(async e=>{if(!o||!pe)return;const t=e||pe;try{P(!0);const e=Wk(UI,"users",o.uid),n=Wk(UI,"users",t);await iE(e,{connections:vE(t)}),await iE(n,{followers:vE(o.uid)}),s&&l({...s,connections:(s.connections||[]).filter((e=>e!==t))});const r=await eE(Wk(UI,"users",pe));if(r.exists()){const e=r.data();O(e.connections||[]),M(e.followers||[])}}catch(R){console.error("Error unfollowing user:",R),j("Failed to unfollow user")}finally{P(!1)}})(pe):ge,disabled:A,children:A?"Loading...":me?"Unfollow":"Follow"}):null,ye()]})})]})]})})}),(0,Me.jsxs)(KO,{open:y,onClose:()=>v(!1),maxWidth:"sm",fullWidth:!0,children:[(0,Me.jsx)(JO,{children:"Edit Profile"}),(0,Me.jsx)(nD,{children:(0,Me.jsxs)(B_,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[(0,Me.jsx)(Hj,{label:"Name",value:ae,onChange:e=>le(e.target.value),fullWidth:!0,variant:"outlined"}),(0,Me.jsx)(Hj,{label:"Username",value:de,onChange:e=>he(e.target.value),fullWidth:!0,variant:"outlined",helperText:"This will be your unique identifier on the platform"}),(0,Me.jsx)(Hj,{label:"Bio",value:ce,onChange:e=>ue(e.target.value),multiline:!0,rows:4,fullWidth:!0,variant:"outlined",helperText:"Tell others about yourself (You can use emojis!)",InputProps:{endAdornment:(0,Me.jsx)(zN,{onClick:()=>{const e=window.prompt("Enter an emoji:");e&&ue((t=>t+e))},sx:{color:"primary.main","&:hover":{color:"primary.dark"}},children:(0,Me.jsx)("span",{role:"img","aria-label":"emoji",children:"\ud83d\ude0a"})})}})]})}),(0,Me.jsxs)(sD,{sx:{p:3},children:[(0,Me.jsx)(XN,{variant:"outlined",onClick:()=>v(!1),sx:{minWidth:"120px",borderColor:"text.secondary",color:"text.secondary","&:hover":{borderColor:"text.primary",color:"text.primary"}},children:"Cancel"}),(0,Me.jsx)(XN,{variant:"contained",onClick:async()=>{if(o)try{P(!0);const e=Wk(UI,"users",o.uid);await iE(e,{name:ae,bio:ce,username:de,updatedAt:gE()}),v(!1),s&&l({...s,name:ae,bio:ce,username:de})}catch(R){console.error("Error updating profile:",R),j("Failed to update profile")}finally{P(!1)}},disabled:A,sx:{minWidth:"120px",bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:A?"Saving...":"Save Changes"})]})]}),(0,Me.jsx)(B_,{children:(0,Me.jsxs)(__,{elevation:0,children:[(0,Me.jsxs)(BL,{value:b,onChange:(e,t)=>{w(t)},variant:n?"fullWidth":"standard",sx:{borderBottom:1,borderColor:"divider"},children:[(0,Me.jsx)(qL,{label:"Posts"}),(0,Me.jsx)(qL,{label:"Forums"}),(0,Me.jsx)(qL,{label:"Side Rooms"}),(0,Me.jsx)(qL,{label:"Liked Posts"}),(null===o||void 0===o?void 0:o.uid)===pe&&(0,Me.jsx)(qL,{label:"Deleted Items"})]}),(0,Me.jsx)(XL,{value:b,index:0,children:0===x.length?(0,Me.jsx)(gA,{children:"No posts yet"}):(0,Me.jsx)(VP,{children:x.map((e=>{var t,n;return(0,Me.jsxs)(mL,{divider:!0,children:[(0,Me.jsx)(fO,{primary:e.content,secondary:`Posted ${NM(e.timestamp instanceof Date?e.timestamp:(null===(t=e.timestamp)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||new Date)} ago`}),(0,Me.jsxs)(dL,{children:[(0,Me.jsxs)(zN,{edge:"end","aria-label":"likes",children:[(0,Me.jsx)(nM,{}),(0,Me.jsx)(gA,{variant:"body2",sx:{ml:1},children:e.likes.length})]}),(0,Me.jsxs)(zN,{edge:"end","aria-label":"comments",children:[(0,Me.jsx)(YL,{}),(0,Me.jsx)(gA,{variant:"body2",sx:{ml:1},children:e.comments})]})]})]},e.id)}))})}),(0,Me.jsx)(XL,{value:b,index:1,children:0===k.length?(0,Me.jsx)(gA,{children:"Not a member of any forums yet"}):(0,Me.jsx)(B_,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2},children:k.map((e=>(0,Me.jsx)(B_,{children:(0,Me.jsx)(LD,{children:(0,Me.jsxs)(BD,{children:[(0,Me.jsx)(gA,{variant:"h6",children:e.title}),(0,Me.jsx)(gA,{variant:"body2",color:"text.secondary",children:e.description}),(0,Me.jsx)(FO,{size:"small",label:`${e.memberCount} members`,sx:{mt:1}})]})})},e.id)))})}),(0,Me.jsx)(XL,{value:b,index:2,children:0===E.length?(0,Me.jsx)(gA,{children:"Not a member of any side rooms yet"}):(0,Me.jsx)(B_,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2},children:E.map((e=>(0,Me.jsx)(B_,{children:(0,Me.jsx)(LD,{children:(0,Me.jsxs)(BD,{children:[(0,Me.jsx)(gA,{variant:"h6",children:e.name}),(0,Me.jsx)(gA,{variant:"body2",color:"text.secondary",children:e.description}),(0,Me.jsx)(FO,{size:"small",label:`${e.memberCount} members`,sx:{mt:1}})]})})},e.id)))})}),(0,Me.jsx)(XL,{value:b,index:3,children:0===T.length?(0,Me.jsx)(gA,{children:"No liked posts yet"}):(0,Me.jsx)(VP,{children:T.map((e=>{var t,n;return(0,Me.jsxs)(mL,{divider:!0,children:[(0,Me.jsx)(fO,{primary:e.content,secondary:`Posted ${NM(e.timestamp instanceof Date?e.timestamp:(null===(t=e.timestamp)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||new Date)} ago`}),(0,Me.jsx)(dL,{children:(0,Me.jsxs)(zN,{edge:"end","aria-label":"likes",children:[(0,Me.jsx)(nM,{}),(0,Me.jsx)(gA,{variant:"body2",sx:{ml:1},children:e.likes.length})]})})]},e.id)}))})}),(null===o||void 0===o?void 0:o.uid)===pe&&(0,Me.jsx)(XL,{value:b,index:4,children:0===Q.length?(0,Me.jsx)(gA,{children:"No deleted items"}):(0,Me.jsx)(VP,{children:Q.map((e=>(0,Me.jsxs)(mL,{divider:!0,children:[(0,Me.jsx)(fO,{primary:(0,Me.jsxs)(B_,{children:[(0,Me.jsx)(gA,{variant:"subtitle1",children:"post"===e.type?"Post":"room"===e.type?"Side Room":"Forum"}),(0,Me.jsx)(gA,{variant:"body1",children:"post"===e.type?e.content.content:e.content.name})]}),secondary:`Deleted ${NM(e.deletedAt.toDate())} ago`}),(0,Me.jsxs)(dL,{children:[(0,Me.jsx)(XN,{variant:"outlined",onClick:()=>(async(e,t)=>{try{const n=Wk(UI,"deleted_items",e),r=await eE(n);if(!r.exists())return void j("Item not found in trash");const i=r.data(),o="post"===t?"posts":"room"===t?"sideRooms":"forums";await rE(Wk(UI,o,e),{...i.content,deletedAt:null,scheduledForPermanentDeletion:null}),await oE(n),Y((t=>t.filter((t=>t.id!==e)))),j("Item restored successfully")}catch(R){console.error("Error restoring item:",R),j("Failed to restore item")}})(e.id,e.type),children:"Restore"}),(0,Me.jsx)(XN,{variant:"outlined",color:"error",onClick:()=>(async e=>{try{await oE(Wk(UI,"deleted_items",e)),Y((t=>t.filter((t=>t.id!==e)))),j("Item permanently deleted")}catch(R){console.error("Error permanently deleting item:",R),j("Failed to delete item permanently")}})(e.id),sx:{ml:1},children:"Delete Permanently"})]})]},e.id)))})})]})})]})}),(0,Me.jsxs)(KO,{open:B,onClose:()=>U(!1),maxWidth:"sm",fullWidth:!0,children:[(0,Me.jsx)(JO,{children:(null===o||void 0===o?void 0:o.uid)===pe?"Your Messages":`Message ${c}`}),(0,Me.jsx)(nD,{children:(null===o||void 0===o?void 0:o.uid)===pe?(0,Me.jsx)(VP,{children:V.map((e=>{var t;return(0,Me.jsxs)(mL,{divider:!0,children:[(0,Me.jsx)(bL,{children:(0,Me.jsx)(lA,{src:e.senderAvatar||void 0})}),(0,Me.jsx)(fO,{primary:e.senderName,secondary:e.content}),(0,Me.jsx)(dL,{children:(0,Me.jsx)(gA,{variant:"caption",color:"text.secondary",children:null===(t=e.timestamp)||void 0===t?void 0:t.toDate().toLocaleString()})})]},e.id)}))}):(0,Me.jsxs)(B_,{sx:{mt:2},children:[(0,Me.jsx)(Hj,{fullWidth:!0,multiline:!0,rows:4,label:"Your message",value:H,onChange:e=>q(e.target.value),variant:"outlined",sx:{mb:2}}),(0,Me.jsx)(B_,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,Me.jsx)(XN,{variant:"contained",onClick:ve,disabled:!H.trim()||oe,sx:{minWidth:"100px","@media (max-width: 600px)":{width:"100%"}},children:oe?"Sending...":"Send"})})]})}),(0,Me.jsx)(sD,{children:(0,Me.jsx)(XN,{onClick:()=>U(!1),children:"Close"})})]})]})},ZL=()=>{const[e]=f_(BI),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(""),[s,a]=(0,i.useState)(null);(0,i.useEffect)((()=>{if(!e)return;const t=aE(DC(Vk(UI,"messages"),LC("participants","array-contains",e.uid),$C("timestamp","desc")),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));n(t)}));return()=>t()}),[e]);return(0,Me.jsx)(ps,{maxWidth:"lg",children:(0,Me.jsxs)(B_,{sx:{mt:4,display:"flex",height:"80vh"},children:[(0,Me.jsx)(__,{sx:{width:"30%",mr:2,overflow:"auto"},children:(0,Me.jsx)(VP,{children:t.map((t=>(0,Me.jsxs)(mL,{sx:{cursor:"pointer",backgroundColor:s===(t.senderId===(null===e||void 0===e?void 0:e.uid)?t.receiverId:t.senderId)?"action.selected":"background.paper"},onClick:()=>a(t.senderId===(null===e||void 0===e?void 0:e.uid)?t.receiverId:t.senderId),children:[(0,Me.jsx)(bL,{children:(0,Me.jsx)(lA,{children:t.senderName[0]})}),(0,Me.jsx)(fO,{primary:t.senderName,secondary:t.text})]},t.id)))})}),(0,Me.jsxs)(__,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[(0,Me.jsx)(B_,{sx:{p:2,flex:1,overflow:"auto"},children:s&&t.filter((t=>t.senderId===(null===e||void 0===e?void 0:e.uid)&&t.receiverId===s||t.receiverId===(null===e||void 0===e?void 0:e.uid)&&t.senderId===s)).map((t=>{var n;return(0,Me.jsx)(B_,{sx:{display:"flex",justifyContent:t.senderId===(null===e||void 0===e?void 0:e.uid)?"flex-end":"flex-start",mb:2},children:(0,Me.jsxs)(B_,{sx:{maxWidth:"70%",p:2,borderRadius:2,bgcolor:t.senderId===(null===e||void 0===e?void 0:e.uid)?"primary.main":"grey.100",color:t.senderId===(null===e||void 0===e?void 0:e.uid)?"white":"text.primary"},children:[(0,Me.jsx)(gA,{children:t.text}),(0,Me.jsx)(gA,{variant:"caption",sx:{display:"block",mt:1},children:new Date(null===(n=t.timestamp)||void 0===n?void 0:n.toDate()).toLocaleTimeString()})]})},t.id)}))}),(0,Me.jsx)(B_,{sx:{p:2,borderTop:1,borderColor:"divider"},children:(0,Me.jsxs)(B_,{sx:{display:"flex",gap:1},children:[(0,Me.jsx)(Hj,{fullWidth:!0,placeholder:"Type a message...",value:r,onChange:e=>o(e.target.value),disabled:!s}),(0,Me.jsx)(XN,{variant:"contained",onClick:async()=>{if(e&&s&&r.trim())try{await sE(Vk(UI,"messages"),{text:r,senderId:e.uid,receiverId:s,timestamp:gE(),senderName:e.displayName||"Anonymous",participants:[e.uid,s]}),o("")}catch(t){console.error("Error sending message:",t)}},disabled:!s||!r.trim(),children:"Send"})]})})]})]})})};function eF(e){const{children:t,value:n,index:r}=e;return(0,Me.jsx)("div",{hidden:n!==r,children:n===r&&(0,Me.jsx)(B_,{sx:{p:3},children:t})})}const tF=()=>{const[e,t]=(0,i.useState)(0),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)([]),[a]=f_(BI),[l,c]=(0,i.useState)(null),u=ne(),[d,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(""),[m,g]=(0,i.useState)("");(0,i.useEffect)((()=>{if(a){(async()=>{const e=await eE(Wk(UI,"users",a.uid));e.exists()&&c(e.data())})()}}),[a]);return i.useEffect((()=>{const e=aE(DC(Vk(UI,"posts"),$C("timestamp","desc")),(async e=>{const t=await Promise.all(e.docs.map((async e=>{var t;const n=e.data(),r=Wk(UI,"users",n.authorId),i=await eE(r),o=i.exists()?i.data():null;return{id:String(e.id),content:String(n.content||""),authorId:String(n.authorId||""),authorName:String((null===o||void 0===o?void 0:o.name)||"Anonymous"),authorAvatar:String((null===o||void 0===o?void 0:o.profilePic)||""),username:String((null===o||void 0===o?void 0:o.username)||"anonymous"),timestamp:(null===(t=n.timestamp)||void 0===t?void 0:t.toDate())||new Date,likes:Array.isArray(n.likes)?n.likes:[],comments:Number(n.comments||0)}})));s(t)}));return()=>e()}),[]),(0,Me.jsx)(ps,{maxWidth:"md",children:(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h4",gutterBottom:!0,children:"Forums"}),(0,Me.jsxs)(BL,{value:e,onChange:(e,n)=>{t(n)},centered:!0,children:[(0,Me.jsx)(qL,{label:"For You"}),(0,Me.jsx)(qL,{label:"Following"}),(0,Me.jsx)(qL,{label:"Popular"})]}),(0,Me.jsxs)(eF,{value:e,index:0,children:[a&&(0,Me.jsx)(LD,{sx:{mb:3},children:(0,Me.jsxs)(BD,{children:[(0,Me.jsxs)(B_,{sx:{display:"flex",gap:2},children:[(0,Me.jsx)(lA,{src:(null===l||void 0===l?void 0:l.profilePic)||void 0,onClick:()=>u(`/profile/${a.uid}`),sx:{cursor:"pointer"}}),(0,Me.jsx)(Hj,{fullWidth:!0,multiline:!0,rows:3,placeholder:"What's happening?",value:n,onChange:e=>r(e.target.value)})]}),(0,Me.jsx)(B_,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:(0,Me.jsx)(XN,{variant:"contained",onClick:async()=>{if(a&&n.trim())try{await sE(Vk(UI,"posts"),{content:n.trim(),authorId:a.uid,timestamp:new Date,likes:[],comments:0}),r("")}catch(e){console.error("Error creating post:",e)}},children:"Post"})})]})}),o.map((e=>(0,Me.jsx)(LD,{sx:{mb:3},children:(0,Me.jsxs)(BD,{children:[(0,Me.jsxs)(B_,{sx:{display:"flex",gap:2,mb:2},children:[(0,Me.jsx)(lA,{src:e.authorAvatar,onClick:()=>u(`/profile/${e.authorId}`),sx:{cursor:"pointer"}}),(0,Me.jsxs)(B_,{children:[(0,Me.jsx)(gA,{variant:"subtitle1",fontWeight:"bold",children:e.authorName}),(0,Me.jsxs)(gA,{variant:"body2",color:"text.secondary",children:["@",e.username]}),(0,Me.jsx)(gA,{variant:"body2",color:"text.secondary",children:new Date(e.timestamp).toLocaleDateString()})]})]}),(0,Me.jsx)(gA,{children:e.content}),(0,Me.jsxs)(B_,{sx:{display:"flex",gap:2,mt:2},children:[(0,Me.jsxs)(zN,{size:"small",children:[(0,Me.jsx)(nM,{}),(0,Me.jsx)(gA,{variant:"body2",sx:{ml:1},children:e.likes.length})]}),(0,Me.jsxs)(zN,{size:"small",children:[(0,Me.jsx)(YL,{}),(0,Me.jsx)(gA,{variant:"body2",sx:{ml:1},children:e.comments})]}),(0,Me.jsx)(zN,{size:"small",children:(0,Me.jsx)(oM,{})})]})]})},e.id)))]}),(0,Me.jsx)(eF,{value:e,index:1,children:(0,Me.jsx)(gA,{children:"Following content will appear here"})}),(0,Me.jsx)(eF,{value:e,index:2,children:(0,Me.jsx)(gA,{children:"Popular content will appear here"})}),(0,Me.jsxs)(KO,{open:d,onClose:()=>h(!1),children:[(0,Me.jsx)(JO,{children:"Create New Forum"}),(0,Me.jsxs)(nD,{children:[(0,Me.jsx)(Hj,{autoFocus:!0,margin:"dense",label:"Forum Title",fullWidth:!0,value:p,onChange:e=>f(e.target.value)}),(0,Me.jsx)(Hj,{margin:"dense",label:"Description",fullWidth:!0,multiline:!0,rows:4,value:m,onChange:e=>g(e.target.value)})]}),(0,Me.jsxs)(sD,{children:[(0,Me.jsx)(XN,{onClick:()=>h(!1),children:"Cancel"}),(0,Me.jsx)(XN,{onClick:async()=>{if(a&&p.trim()&&m.trim())try{await sE(Vk(UI,"forums"),{title:p.trim(),description:m.trim(),creatorId:a.uid,createdAt:new Date,members:[a.uid],posts:0}),h(!1),f(""),g("")}catch(e){console.error("Error creating forum:",e)}},variant:"contained",children:"Create"})]})]})]})})};function nF(e){return Do("MuiCardActions",e)}C_("MuiCardActions",["root","spacing"]);const rF=ds("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),iF=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:i,...o}=n,s={...n,disableSpacing:r},a=(e=>{const{classes:t,disableSpacing:n}=e;return Mo({root:["root",!n&&"spacing"]},nF,t)})(s);return(0,Me.jsx)(rF,{className:Ro(a.root,i),ownerState:s,ref:t,...o})})),oF=iF,sF=q_([(0,Me.jsx)("path",{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07z"},"0"),(0,Me.jsx)("path",{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52"},"1")]),aF=q_((0,Me.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),lF=q_((0,Me.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}));function cF(e){return Do("MuiFormControlLabel",e)}const uF=C_("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),dF=ds("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${uF.label}`]:t.label},t.root,t[`labelPlacement${ls(n.labelPlacement)}`]]}})(S_((e=>{let{theme:t}=e;return{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${uF.disabled}`]:{cursor:"default"},[`& .${uF.label}`]:{[`&.${uF.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:e=>{let{labelPlacement:t}=e;return"start"===t||"top"===t||"bottom"===t},style:{marginLeft:16}}]}}))),hF=ds("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(S_((e=>{let{theme:t}=e;return{[`&.${uF.error}`]:{color:(t.vars||t).palette.error.main}}}))),pF=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiFormControlLabel"}),{checked:r,className:o,componentsProps:s={},control:a,disabled:l,disableTypography:c,inputRef:u,label:d,labelPlacement:h="end",name:p,onChange:f,required:m,slots:g={},slotProps:y={},value:v,...b}=n,w=jA(),x=l??a.props.disabled??w?.disabled,S=m??a.props.required,k={disabled:x,required:S};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof a.props[e]&&"undefined"!==typeof n[e]&&(k[e]=n[e])}));const C=PA({props:n,muiFormControl:w,states:["error"]}),E={...n,disabled:x,labelPlacement:h,required:S,error:C.error},I=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e;return Mo({root:["root",n&&"disabled",`labelPlacement${ls(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]},cF,t)})(E),T={slots:g,slotProps:{...s,...y}},[_,A]=rA("typography",{elementType:gA,externalForwardedProps:T,ownerState:E});let P=d;return null==P||P.type===gA||c||(P=(0,Me.jsx)(_,{component:"span",...A,className:Ro(I.label,A?.className),children:P})),(0,Me.jsxs)(dF,{className:Ro(I.root,o),ownerState:E,ref:t,...b,children:[i.cloneElement(a,k),S?(0,Me.jsxs)("div",{children:[P,(0,Me.jsxs)(hF,{ownerState:E,"aria-hidden":!0,className:I.asterisk,children:["\u2009","*"]})]}):P]})})),fF=pF;function mF(e){return Do("PrivateSwitchBase",e)}C_("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const gF=ds(SN)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"start"===t&&"small"!==n.size},style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"end"===t&&"small"!==n.size},style:{marginRight:-12}}]}),yF=ds("input",{shouldForwardProp:us})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),vF=i.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:i,defaultChecked:o,disabled:s,disableFocusRipple:a=!1,edge:l=!1,icon:c,id:u,inputProps:d,inputRef:h,name:p,onBlur:f,onChange:m,onFocus:g,readOnly:y,required:v=!1,tabIndex:b,type:w,value:x,slots:S={},slotProps:k={},...C}=e,[E,I]=kj({controlled:r,default:Boolean(o),name:"SwitchBase",state:"checked"}),T=jA();let _=s;T&&"undefined"===typeof _&&(_=T.disabled);const A="checkbox"===w||"radio"===w,P={...e,checked:E,disabled:_,disableFocusRipple:a,edge:l},R=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e;return Mo({root:["root",n&&"checked",r&&"disabled",i&&`edge${ls(i)}`],input:["input"]},mF,t)})(P),j={slots:S,slotProps:{input:d,...k}},[N,O]=rA("root",{ref:t,elementType:gF,className:R.root,shouldForwardComponentProp:!0,externalForwardedProps:{...j,component:"span",...C},getSlotProps:e=>({...e,onFocus:t=>{e.onFocus?.(t),(e=>{g&&g(e),T&&T.onFocus&&T.onFocus(e)})(t)},onBlur:t=>{e.onBlur?.(t),(e=>{f&&f(e),T&&T.onBlur&&T.onBlur(e)})(t)}}),ownerState:P,additionalProps:{centerRipple:!0,focusRipple:!a,disabled:_,role:void 0,tabIndex:null}}),[D,M]=rA("input",{ref:h,elementType:yF,className:R.input,externalForwardedProps:j,getSlotProps:e=>({...e,onChange:t=>{e.onChange?.(t),(e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;I(t),m&&m(e,t)})(t)}}),ownerState:P,additionalProps:{autoFocus:n,checked:r,defaultChecked:o,disabled:_,id:A?u:void 0,name:p,readOnly:y,required:v,tabIndex:b,type:w,..."checkbox"===w&&void 0===x?{}:{value:x}}});return(0,Me.jsxs)(N,{...O,children:[(0,Me.jsx)(D,{...M}),E?i:c]})})),bF=vF;function wF(e){return Do("MuiSwitch",e)}const xF=C_("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),SF=ds("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${ls(n.edge)}`],t[`size${ls(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${xF.thumb}`]:{width:16,height:16},[`& .${xF.switchBase}`]:{padding:4,[`&.${xF.checked}`]:{transform:"translateX(16px)"}}}}]}),kF=ds(bF,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${xF.input}`]:t.input},"default"!==n.color&&t[`color${ls(n.color)}`]]}})(S_((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${"light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${xF.checked}`]:{transform:"translateX(20px)"},[`&.${xF.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${xF.checked} + .${xF.track}`]:{opacity:.5},[`&.${xF.disabled} + .${xF.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:""+("light"===t.palette.mode?.12:.2)},[`& .${xF.input}`]:{left:"-100%",width:"300%"}}})),S_((e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(k_(["light"])).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${xF.checked}`]:{color:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ti(t.palette[n].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xF.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${n}DisabledColor`]:`${"light"===t.palette.mode?oi(t.palette[n].main,.62):ri(t.palette[n].main,.55)}`}},[`&.${xF.checked} + .${xF.track}`]:{backgroundColor:(t.vars||t).palette[n].main}}}}))]}}))),CF=ds("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(S_((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${"light"===t.palette.mode?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:""+("light"===t.palette.mode?.38:.3)}}))),EF=ds("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(S_((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}}))),IF=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiSwitch"}),{className:r,color:i="primary",edge:o=!1,size:s="medium",sx:a,slots:l={},slotProps:c={},...u}=n,d={...n,color:i,edge:o,size:s},h=(e=>{const{classes:t,edge:n,size:r,color:i,checked:o,disabled:s}=e,a=Mo({root:["root",n&&`edge${ls(n)}`,`size${ls(r)}`],switchBase:["switchBase",`color${ls(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},wF,t);return{...t,...a}})(d),p={slots:l,slotProps:c},[f,m]=rA("root",{className:Ro(h.root,r),elementType:SF,externalForwardedProps:p,ownerState:d,additionalProps:{sx:a}}),[g,y]=rA("thumb",{className:h.thumb,elementType:EF,externalForwardedProps:p,ownerState:d}),v=(0,Me.jsx)(g,{...y}),[b,w]=rA("track",{className:h.track,elementType:CF,externalForwardedProps:p,ownerState:d});return(0,Me.jsxs)(f,{...m,children:[(0,Me.jsx)(kF,{type:"checkbox",icon:v,checkedIcon:v,ref:t,ownerState:d,...u,classes:{...h,root:h.switchBase},slots:{...l.switchBase&&{root:l.switchBase},...l.input&&{input:l.input}},slotProps:{...c.switchBase&&{root:"function"===typeof c.switchBase?c.switchBase(d):c.switchBase},...c.input&&{input:"function"===typeof c.input?c.input(d):c.input}}}),(0,Me.jsx)(b,{...w})]})})),TF=IF,_F=e=>{let{open:t,onClose:n}=e;const{currentUser:r}=qI(),o=ne(),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[f,m]=(0,i.useState)(!1),[g,y]=(0,i.useState)(""),[v,b]=(0,i.useState)([]),[w,x]=(0,i.useState)(""),[S,k]=(0,i.useState)(""),[C,E]=(0,i.useState)(50),[I,T]=(0,i.useState)([]),[_,A]=(0,i.useState)(""),[P,R]=(0,i.useState)(!1),[j,N]=(0,i.useState)(4),[O,D]=(0,i.useState)(!1),[M,L]=(0,i.useState)(2),F=()=>{w.trim()&&!v.includes(w.trim())&&(b([...v,w.trim()]),x(""))},z=()=>{_.trim()&&!I.includes(_.trim())&&(T([...I,_.trim()]),A(""))};return(0,Me.jsxs)(KO,{open:t,onClose:n,maxWidth:"sm",fullWidth:!0,children:[(0,Me.jsx)(JO,{children:"Create Side Room"}),(0,Me.jsxs)(nD,{children:[l&&(0,Me.jsx)(ND,{severity:"error",sx:{mb:2},children:l}),(0,Me.jsx)(Hj,{autoFocus:!0,margin:"dense",label:"Room Name",type:"text",fullWidth:!0,value:u,onChange:e=>d(e.target.value),required:!0}),(0,Me.jsx)(Hj,{margin:"dense",label:"Description",type:"text",fullWidth:!0,multiline:!0,rows:3,value:h,onChange:e=>p(e.target.value)}),(0,Me.jsxs)(AP,{fullWidth:!0,margin:"dense",children:[(0,Me.jsx)(CP,{children:"Category"}),(0,Me.jsxs)($j,{value:S,onChange:e=>k(e.target.value),label:"Category",children:[(0,Me.jsx)(lO,{value:"general",children:"General"}),(0,Me.jsx)(lO,{value:"gaming",children:"Gaming"}),(0,Me.jsx)(lO,{value:"music",children:"Music"}),(0,Me.jsx)(lO,{value:"movies",children:"Movies & TV"}),(0,Me.jsx)(lO,{value:"sports",children:"Sports"}),(0,Me.jsx)(lO,{value:"tech",children:"Technology"}),(0,Me.jsx)(lO,{value:"art",children:"Art & Design"}),(0,Me.jsx)(lO,{value:"education",children:"Education"}),(0,Me.jsx)(lO,{value:"other",children:"Other"})]})]}),(0,Me.jsxs)(B_,{sx:{mt:2},children:[(0,Me.jsx)(gA,{variant:"subtitle2",children:"Tags"}),(0,Me.jsx)(B_,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:1},children:v.map((e=>(0,Me.jsx)(FO,{label:e,onDelete:()=>{return t=e,void b(v.filter((e=>e!==t)));var t}},e)))}),(0,Me.jsxs)(B_,{sx:{display:"flex",gap:1},children:[(0,Me.jsx)(Hj,{size:"small",value:w,onChange:e=>x(e.target.value),placeholder:"Add tag",onKeyPress:e=>"Enter"===e.key&&F()}),(0,Me.jsx)(zN,{onClick:F,size:"small",children:(0,Me.jsx)(UM,{})})]})]}),(0,Me.jsxs)(B_,{sx:{mt:2},children:[(0,Me.jsx)(gA,{variant:"subtitle2",children:"Rules"}),(0,Me.jsx)(B_,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:1},children:I.map((e=>(0,Me.jsx)(FO,{label:e,onDelete:()=>{return t=e,void T(I.filter((e=>e!==t)));var t}},e)))}),(0,Me.jsxs)(B_,{sx:{display:"flex",gap:1},children:[(0,Me.jsx)(Hj,{size:"small",value:_,onChange:e=>A(e.target.value),placeholder:"Add rule",onKeyPress:e=>"Enter"===e.key&&z()}),(0,Me.jsx)(zN,{onClick:z,size:"small",children:(0,Me.jsx)(UM,{})})]})]}),(0,Me.jsx)(fF,{control:(0,Me.jsx)(TF,{checked:f,onChange:e=>m(e.target.checked)}),label:"Private Room"}),f&&(0,Me.jsx)(Hj,{margin:"dense",label:"Password",type:"password",fullWidth:!0,value:g,onChange:e=>y(e.target.value),required:!0}),(0,Me.jsx)(Hj,{margin:"dense",label:"Maximum Participants",type:"number",fullWidth:!0,value:C,onChange:e=>E(Number(e.target.value)),inputProps:{min:2,max:100}}),(0,Me.jsx)(vO,{sx:{my:2}}),(0,Me.jsx)(gA,{variant:"h6",sx:{mb:2},children:"Live Session Settings"}),(0,Me.jsx)(fF,{control:(0,Me.jsx)(TF,{checked:P,onChange:e=>R(e.target.checked)}),label:"Enable Live Sessions"}),P&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Hj,{margin:"dense",label:"Maximum Live Participants",type:"number",fullWidth:!0,value:j,onChange:e=>N(Number(e.target.value)),inputProps:{min:1,max:10},helperText:"Maximum number of people who can join the live session"}),(0,Me.jsx)(fF,{control:(0,Me.jsx)(TF,{checked:O,onChange:e=>D(e.target.checked)}),label:"Allow Guest Speakers"}),O&&(0,Me.jsx)(Hj,{margin:"dense",label:"Guest Speaker Limit",type:"number",fullWidth:!0,value:M,onChange:e=>L(Number(e.target.value)),inputProps:{min:1,max:5},helperText:"Maximum number of guest speakers allowed in a session"})]})]}),(0,Me.jsxs)(sD,{children:[(0,Me.jsx)(XN,{onClick:n,children:"Cancel"}),(0,Me.jsx)(XN,{onClick:async()=>{if(r)if(u.trim())if(!f||g.trim()){a(!0),c("");try{const e=await eE(Wk(UI,"users",r.uid));if(!e.exists())throw new Error("User data not found");const t=e.data(),i={userId:r.uid,username:t.username||r.displayName||"Unknown User",displayName:t.displayName||t.username||r.displayName||"Unknown User",avatar:t.avatar||t.photoURL||r.photoURL||""},s=new Date,a={name:u.trim(),description:h.trim(),owner:i,members:[{...i,role:"owner",joinedAt:s}],memberCount:1,createdAt:s,isPrivate:f,password:f?g.trim():null,tags:v,category:S,maxParticipants:C,rules:I,isLive:!1,liveParticipants:[],activeUsers:0,bannedUsers:[],enableLiveSessions:P,maxLiveParticipants:j,allowGuestSpeakers:O,guestSpeakerLimit:M,liveSettings:{audioEnabled:!0,videoEnabled:!1,screenSharingEnabled:!1,raiseHandEnabled:!0,chatEnabled:!0,reactionsEnabled:!0}},l=await sE(Vk(UI,"sideRooms"),a),c=Wk(UI,"users",r.uid);await iE(c,{sideRooms:yE(l.id)}),n(),o(`/side-room/${l.id}`)}catch(e){console.error("Error creating room:",e),c("Failed to create room. Please try again.")}finally{a(!1)}}else c("Password is required for private rooms");else c("Room name is required");else c("You must be logged in to create a room")},variant:"contained",disabled:s,children:s?"Creating...":"Create Room"})]})]})},AF=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(""),d=ne(),{currentUser:h}=qI();(0,i.useEffect)((()=>{const e=aE(DC(Vk(UI,"sideRooms"),$C("createdAt","desc")),(e=>{const n=e.docs.map((e=>({id:e.id,...e.data()})));t(n)}));return()=>e()}),[]);return(0,Me.jsxs)(B_,{sx:{p:3},children:[(0,Me.jsxs)(B_,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,Me.jsx)(gA,{variant:"h4",component:"h1",children:"Side Rooms \ud83c\udfad"}),(0,Me.jsx)(XN,{variant:"contained",color:"primary",startIcon:(0,Me.jsx)(UM,{}),onClick:()=>r(!0),children:"Create Room"})]}),n&&(0,Me.jsx)(_F,{open:n,onClose:()=>r(!1)}),(0,Me.jsx)(B_,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},gap:3},children:e.map((e=>{var t;const n=null===(t=e.members)||void 0===t?void 0:t.find((e=>"owner"===e.role));return(0,Me.jsxs)(LD,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,Me.jsxs)(BD,{sx:{flexGrow:1},children:[(0,Me.jsxs)(B_,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Me.jsx)(lA,{src:null===n||void 0===n?void 0:n.avatar,alt:null===n||void 0===n?void 0:n.username,sx:{mr:1}}),(0,Me.jsxs)(B_,{children:[(0,Me.jsx)(gA,{variant:"h6",children:e.name}),(0,Me.jsxs)(gA,{variant:"body2",color:"text.secondary",children:["by ",(null===n||void 0===n?void 0:n.username)||"Anonymous"]})]})]}),(0,Me.jsx)(gA,{variant:"body2",sx:{mb:2},children:e.description}),(0,Me.jsxs)(B_,{sx:{display:"flex",gap:1,mb:2,flexWrap:"wrap"},children:[(0,Me.jsx)(FO,{icon:(0,Me.jsx)(sF,{}),label:e.isLive?"Live":"Offline",color:e.isLive?"error":"success",size:"small"}),(0,Me.jsx)(FO,{icon:(0,Me.jsx)(aF,{}),label:`${e.memberCount||0} members`,size:"small"}),e.isPrivate&&(0,Me.jsx)(FO,{icon:(0,Me.jsx)(lF,{}),label:"Private",color:"default",size:"small"})]})]}),(0,Me.jsx)(oF,{children:(0,Me.jsx)(XN,{fullWidth:!0,variant:"contained",onClick:()=>(e=>{e.isPrivate?(l(e),s(!0)):d(`/side-room/${e.id}`)})(e),children:e.isPrivate?"Join Private Room":"Join Room"})})]},e.id)}))}),(0,Me.jsxs)(KO,{open:o,onClose:()=>s(!1),children:[(0,Me.jsx)(JO,{children:"Enter Room Password"}),(0,Me.jsx)(nD,{children:(0,Me.jsx)(Hj,{autoFocus:!0,margin:"dense",label:"Password",type:"password",fullWidth:!0,value:c,onChange:e=>u(e.target.value)})}),(0,Me.jsxs)(sD,{children:[(0,Me.jsx)(XN,{onClick:()=>s(!1),children:"Cancel"}),(0,Me.jsx)(XN,{onClick:()=>{a&&c===a.password?(d(`/side-room/${a.id}`),s(!1),u(""),l(null)):yT.error("Incorrect password")},variant:"contained",children:"Join"})]})]})]})},PF=q_((0,Me.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),RF=()=>{var e,t;const{roomId:n}=re(),r=ne(),{currentUser:o}=qI(),[s,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(!0),[u,d]=(0,i.useState)(null),[h,p]=(0,i.useState)(!1),[f,m]=(0,i.useState)(""),[g,y]=(0,i.useState)(!1),v=(0,i.useRef)(!0),b=(0,i.useRef)(null);(0,i.useEffect)((()=>()=>{v.current=!1,b.current&&b.current()}),[]);const w=(0,i.useCallback)(((e,t)=>{console.error(t,e),v.current&&(e instanceof Uh?d(`Firestore error: ${e.message}`):e instanceof Error?d(e.message):d(t))}),[]);(0,i.useEffect)((()=>{if(!n)return d("Room ID is required"),void c(!1);const e=aE(Wk(UI,"sideRooms",n),(e=>{if(v.current){if(e.exists()){var t;const n={...e.data(),id:e.id};a(n);!(null===(t=n.members)||void 0===t?void 0:t.some((e=>e.userId===(null===o||void 0===o?void 0:o.uid))))&&n.isPrivate&&p(!0)}else d("Room not found");c(!1)}}),(e=>{w(e,"Failed to fetch room data"),c(!1)}));return b.current=e,()=>{e()}}),[n,o,w]);const x=(0,i.useCallback)((async()=>{if(s&&o&&n&&!g)try{y(!0);const e=Wk(UI,"sideRooms",n);await mE(UI,(async t=>{const n=await t.get(e);if(!n.exists())throw new Error("Room not found");const r=n.data(),i={userId:o.uid,username:o.displayName||"Anonymous",avatar:o.photoURL||"",role:"member",joinedAt:new Date};t.update(e,{members:yE(i),memberCount:(r.memberCount||0)+1})})),v.current&&(yT.success("Joined room successfully"),p(!1))}catch(e){w(e,"Failed to join room")}finally{v.current&&y(!1)}}),[s,o,n,g,w]),S=(0,i.useCallback)((async()=>{if(s&&o&&n&&!g)try{y(!0);const e=Wk(UI,"sideRooms",n);await mE(UI,(async t=>{const n=await t.get(e);if(!n.exists())throw new Error("Room not found");const r=n.data(),i={userId:o.uid,username:o.displayName||"Anonymous",avatar:o.photoURL||"",role:"member",joinedAt:new Date};t.update(e,{members:vE(i),memberCount:Math.max(0,(r.memberCount||0)-1)})})),v.current&&(yT.success("Left room successfully"),setTimeout((()=>{v.current&&r("/side-rooms")}),100))}catch(e){w(e,"Failed to leave room")}finally{v.current&&y(!1)}}),[s,o,n,g,r,w]),k=(0,i.useCallback)((()=>{s&&f===s.password?x():yT.error("Incorrect password")}),[s,f,x]);if(l)return(0,Me.jsx)(B_,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,Me.jsx)(NN,{})});if(u)return(0,Me.jsxs)(B_,{sx:{p:3},children:[(0,Me.jsx)(ND,{severity:"error",sx:{mb:2},children:u}),(0,Me.jsx)(XN,{onClick:()=>r("/side-rooms"),children:"Back to Rooms"})]});if(!s)return null;const C=null===(e=s.members)||void 0===e?void 0:e.some((e=>e.userId===(null===o||void 0===o?void 0:o.uid))),E=null===(t=s.members)||void 0===t?void 0:t.find((e=>"owner"===e.role));return(0,Me.jsxs)(B_,{sx:{p:3},children:[(0,Me.jsxs)(B_,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,Me.jsxs)(B_,{children:[(0,Me.jsx)(gA,{variant:"h4",component:"h1",children:s.name}),(0,Me.jsxs)(gA,{variant:"subtitle1",color:"text.secondary",children:["Created by ",(null===E||void 0===E?void 0:E.username)||"Anonymous"]})]}),C&&(0,Me.jsx)(XN,{variant:"outlined",color:"error",startIcon:(0,Me.jsx)(PF,{}),onClick:S,disabled:g,children:g?"Leaving...":"Leave Room"})]}),(0,Me.jsxs)(B_,{sx:{mb:3},children:[(0,Me.jsx)(gA,{variant:"body1",sx:{mb:2},children:s.description}),(0,Me.jsxs)(B_,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(0,Me.jsx)(FO,{icon:(0,Me.jsx)(sF,{}),label:s.isLive?"Live":"Offline",color:s.isLive?"error":"success"}),(0,Me.jsx)(FO,{icon:(0,Me.jsx)(aF,{}),label:`${s.memberCount||0} members`}),s.isPrivate&&(0,Me.jsx)(FO,{icon:(0,Me.jsx)(lF,{}),label:"Private",color:"default"})]})]}),(0,Me.jsxs)(KO,{open:h,onClose:()=>!g&&p(!1),disableEscapeKeyDown:g,children:[(0,Me.jsx)(JO,{children:"Enter Room Password"}),(0,Me.jsx)(nD,{children:(0,Me.jsx)(Hj,{autoFocus:!0,margin:"dense",label:"Password",type:"password",fullWidth:!0,value:f,onChange:e=>m(e.target.value),disabled:g})}),(0,Me.jsxs)(sD,{children:[(0,Me.jsx)(XN,{onClick:()=>p(!1),disabled:g,children:"Cancel"}),(0,Me.jsx)(XN,{onClick:k,variant:"contained",disabled:g,children:g?"Joining...":"Join"})]})]})]})},jF=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)("");(0,i.useEffect)((()=>{const e=aE(DC(Vk(UI,"messages"),$C("timestamp","asc")),(e=>{const n=e.docs.map((e=>{var t;return{id:e.id,...e.data(),timestamp:null===(t=e.data().timestamp)||void 0===t?void 0:t.toDate()}}));t(n)}));return()=>e()}),[]);return(0,Me.jsx)(ps,{maxWidth:"md",children:(0,Me.jsxs)(B_,{sx:{mt:4,mb:4},children:[(0,Me.jsx)(gA,{variant:"h4",component:"h1",gutterBottom:!0,children:"Chat Room"}),(0,Me.jsx)(VP,{sx:{maxHeight:"60vh",overflow:"auto",bgcolor:"background.paper",borderRadius:1},children:e.map((e=>{var t;return(0,Me.jsxs)(mL,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,Me.jsx)(gA,{variant:"subtitle2",color:"primary",children:e.username}),(0,Me.jsx)(gA,{variant:"body1",children:e.text}),(0,Me.jsx)(gA,{variant:"caption",color:"text.secondary",children:null===(t=e.timestamp)||void 0===t?void 0:t.toLocaleTimeString()})]},e.id)}))}),(0,Me.jsxs)(B_,{component:"form",onSubmit:async e=>{if(e.preventDefault(),""!==n.trim())try{var t;await sE(Vk(UI,"messages"),{text:n,userId:null===(t=BI.currentUser)||void 0===t?void 0:t.uid,username:o||"Anonymous",timestamp:new Date}),r("")}catch(i){console.error("Error sending message:",i)}},sx:{mt:2},children:[(0,Me.jsx)(Hj,{fullWidth:!0,variant:"outlined",placeholder:"Type your message...",value:n,onChange:e=>r(e.target.value),sx:{mb:2}}),(0,Me.jsx)(XN,{type:"submit",variant:"contained",color:"primary",children:"Send"})]})]})})};const NF=i.createContext({});function OF(e){return Do("MuiAccordion",e)}const DF=C_("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),MF=ds(__,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${DF.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(S_((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],n),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],n)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${DF.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${DF.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),S_((e=>{let{theme:t}=e;return{variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${DF.expanded}`]:{margin:"16px 0"}}}]}}))),LF=ds("h3",{name:"MuiAccordion",slot:"Heading",overridesResolver:(e,t)=>t.heading})({all:"unset"}),FF=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiAccordion"}),{children:r,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,slots:h={},slotProps:p={},TransitionComponent:f,TransitionProps:m,...g}=n,[y,v]=kj({controlled:c,default:s,name:"Accordion",state:"expanded"}),b=i.useCallback((e=>{v(!y),u&&u(e,!y)}),[y,u,v]),[w,...x]=i.Children.toArray(r),S=i.useMemo((()=>({expanded:y,disabled:a,disableGutters:l,toggle:b})),[y,a,l,b]),k={...n,square:d,disabled:a,disableGutters:l,expanded:y},C=(e=>{const{classes:t,square:n,expanded:r,disabled:i,disableGutters:o}=e;return Mo({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],heading:["heading"],region:["region"]},OF,t)})(k),E={slots:{transition:f,...h},slotProps:{transition:m,...p}},[I,T]=rA("root",{elementType:MF,externalForwardedProps:{...E,...g},className:Ro(C.root,o),shouldForwardComponentProp:!0,ownerState:k,ref:t,additionalProps:{square:d}}),[_,A]=rA("heading",{elementType:LF,externalForwardedProps:E,className:C.heading,ownerState:k}),[P,R]=rA("transition",{elementType:ZD,externalForwardedProps:E,ownerState:k});return(0,Me.jsxs)(I,{...T,children:[(0,Me.jsx)(_,{...A,children:(0,Me.jsx)(NF.Provider,{value:S,children:w})}),(0,Me.jsx)(P,{in:y,timeout:"auto",...R,children:(0,Me.jsx)("div",{"aria-labelledby":w.props.id,id:w.props["aria-controls"],role:"region",className:C.region,children:x})})]})})),zF=FF;function $F(e){return Do("MuiAccordionSummary",e)}const BF=C_("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),UF=ds(SN,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(S_((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],n),[`&.${BF.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${BF.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${BF.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${BF.expanded}`]:{minHeight:64}}}]}}))),VF=ds("span",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(S_((e=>{let{theme:t}=e;return{display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${BF.expanded}`]:{margin:"20px 0"}}}]}}))),WF=ds("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(S_((e=>{let{theme:t}=e;return{display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${BF.expanded}`]:{transform:"rotate(180deg)"}}}))),HF=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiAccordionSummary"}),{children:r,className:o,expandIcon:s,focusVisibleClassName:a,onClick:l,slots:c,slotProps:u,...d}=n,{disabled:h=!1,disableGutters:p,expanded:f,toggle:m}=i.useContext(NF),g={...n,expanded:f,disabled:h,disableGutters:p},y=(e=>{const{classes:t,expanded:n,disabled:r,disableGutters:i}=e;return Mo({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},$F,t)})(g),v={slots:c,slotProps:u},[b,w]=rA("root",{ref:t,shouldForwardComponentProp:!0,className:Ro(y.root,o),elementType:UF,externalForwardedProps:{...v,...d},ownerState:g,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:h,"aria-expanded":f,focusVisibleClassName:Ro(y.focusVisible,a)},getSlotProps:e=>({...e,onClick:t=>{e.onClick?.(t),(e=>{m&&m(e),l&&l(e)})(t)}})}),[x,S]=rA("content",{className:y.content,elementType:VF,externalForwardedProps:v,ownerState:g}),[k,C]=rA("expandIconWrapper",{className:y.expandIconWrapper,elementType:WF,externalForwardedProps:v,ownerState:g});return(0,Me.jsxs)(b,{...w,children:[(0,Me.jsx)(x,{...S,children:r}),s&&(0,Me.jsx)(k,{...C,children:s})]})})),qF=HF;function KF(e){return Do("MuiAccordionDetails",e)}C_("MuiAccordionDetails",["root"]);const GF=ds("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(S_((e=>{let{theme:t}=e;return{padding:t.spacing(1,2,2)}}))),QF=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiAccordionDetails"}),{className:r,...i}=n,o=n,s=(e=>{const{classes:t}=e;return Mo({root:["root"]},KF,t)})(o);return(0,Me.jsx)(GF,{className:Ro(s.root,r),ref:t,ownerState:o,...i})})),YF=QF,XF=q_((0,Me.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),JF=q_((0,Me.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12m8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8"})),ZF=q_((0,Me.jsx)("path",{d:"m5.2494 8.0688 2.83-2.8269 14.1343 14.15-2.83 2.8269zm4.2363-4.2415 2.828-2.8289 5.6577 5.656-2.828 2.8289zM.9989 12.3147l2.8284-2.8285 5.6569 5.6569-2.8285 2.8284zM1 21h12v2H1z"})),ez=q_((0,Me.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"})),tz=q_((0,Me.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"})),nz=q_((0,Me.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3s.58-1.3 1.3-1.3 1.3.58 1.3 1.3-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"})),rz=q_((0,Me.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"})),iz=()=>(0,Me.jsxs)(B_,{sx:{maxWidth:800,mx:"auto",p:3},children:[(0,Me.jsx)(gA,{variant:"h4",gutterBottom:!0,children:"Community Guidelines & Safety"}),(0,Me.jsxs)(zF,{children:[(0,Me.jsx)(qF,{expandIcon:(0,Me.jsx)(EO,{}),children:(0,Me.jsx)(gA,{children:"Our Commitment to Safety"})}),(0,Me.jsx)(YF,{children:(0,Me.jsx)(gA,{children:"We are committed to maintaining a safe and respectful environment for all users. Our platform encourages healthy banter and shade while strictly prohibiting harassment, bullying, harmful content, misinformation, fraud, and cybercrime."})})]}),(0,Me.jsxs)(zF,{children:[(0,Me.jsx)(qF,{expandIcon:(0,Me.jsx)(XF,{}),children:(0,Me.jsx)(gA,{children:"Prohibited Content"})}),(0,Me.jsx)(YF,{children:(0,Me.jsxs)(VP,{children:[(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(JF,{})}),(0,Me.jsx)(fO,{primary:"Harassment & Bullying",secondary:"Targeted attacks, threats, or persistent harassment of any kind"})]}),(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(JF,{})}),(0,Me.jsx)(fO,{primary:"Hate Speech",secondary:"Content that attacks or incites violence against individuals or groups"})]}),(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(JF,{})}),(0,Me.jsx)(fO,{primary:"Misinformation",secondary:"Spreading false or misleading information about health, science, or current events"})]}),(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(JF,{})}),(0,Me.jsx)(fO,{primary:"Fraud & Scams",secondary:"Financial scams, phishing attempts, or deceptive business practices"})]}),(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(JF,{})}),(0,Me.jsx)(fO,{primary:"Cybercrime",secondary:"Hacking attempts, malware distribution, or other illegal online activities"})]})]})})]}),(0,Me.jsxs)(zF,{children:[(0,Me.jsx)(qF,{expandIcon:(0,Me.jsx)(ZF,{}),children:(0,Me.jsx)(gA,{children:"Content Moderation"})}),(0,Me.jsx)(YF,{children:(0,Me.jsxs)(VP,{children:[(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(ez,{})}),(0,Me.jsx)(fO,{primary:"AI-Powered Detection",secondary:"Advanced algorithms detect harmful content, misinformation, and suspicious activities"})]}),(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(tz,{})}),(0,Me.jsx)(fO,{primary:"Automated Checks",secondary:"Real-time scanning for fraud, cybercrime, and policy violations"})]}),(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(nz,{})}),(0,Me.jsx)(fO,{primary:"User Reports",secondary:"Community-driven reporting system for suspicious content"})]})]})})]}),(0,Me.jsxs)(zF,{children:[(0,Me.jsx)(qF,{expandIcon:(0,Me.jsx)(nz,{}),children:(0,Me.jsx)(gA,{children:"Reporting & Moderation"})}),(0,Me.jsx)(YF,{children:(0,Me.jsxs)(VP,{children:[(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(nz,{})}),(0,Me.jsx)(fO,{primary:"How to Report",secondary:"Click the report button on any content that violates our guidelines"})]}),(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(nz,{})}),(0,Me.jsx)(fO,{primary:"Moderation Process",secondary:"Reports are reviewed by our team and appropriate action is taken"})]}),(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(nz,{})}),(0,Me.jsx)(fO,{primary:"Appeals Process",secondary:"Users can appeal moderation decisions through our support system"})]})]})})]}),(0,Me.jsxs)(zF,{children:[(0,Me.jsx)(qF,{expandIcon:(0,Me.jsx)(rz,{}),children:(0,Me.jsx)(gA,{children:"Getting Help"})}),(0,Me.jsx)(YF,{children:(0,Me.jsxs)(VP,{children:[(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(rz,{})}),(0,Me.jsx)(fO,{primary:"Support Resources",secondary:"Access to mental health resources and support services"})]}),(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(rz,{})}),(0,Me.jsx)(fO,{primary:"Safety Tips",secondary:"Guidelines for staying safe online and protecting your account"})]}),(0,Me.jsxs)(mL,{children:[(0,Me.jsx)(dO,{children:(0,Me.jsx)(rz,{})}),(0,Me.jsx)(fO,{primary:"Contact Us",secondary:"Reach out to our support team for assistance"})]})]})})]})]}),oz=()=>(0,Me.jsx)(ps,{maxWidth:"lg",children:(0,Me.jsx)(iz,{})}),sz=()=>(0,Me.jsx)(ps,{maxWidth:"md",sx:{py:4},children:(0,Me.jsxs)(__,{elevation:3,sx:{p:4},children:[(0,Me.jsx)(gA,{variant:"h4",component:"h1",gutterBottom:!0,children:"Privacy Policy"}),(0,Me.jsxs)(gA,{variant:"body1",paragraph:!0,children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"1. Information We Collect"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"We collect information that you provide directly to us, including:"}),(0,Me.jsxs)("ul",{children:[(0,Me.jsx)("li",{children:"Account information (username, email, display name)"}),(0,Me.jsx)("li",{children:"Profile information (bio, profile picture)"}),(0,Me.jsx)("li",{children:"Content you post (comments, posts, messages)"}),(0,Me.jsx)("li",{children:"Communication preferences"})]})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"2. How We Use Your Information"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"We use the information we collect to:"}),(0,Me.jsxs)("ul",{children:[(0,Me.jsx)("li",{children:"Provide and maintain our services"}),(0,Me.jsx)("li",{children:"Improve and personalize your experience"}),(0,Me.jsx)("li",{children:"Communicate with you about updates and changes"}),(0,Me.jsx)("li",{children:"Ensure platform safety and security"}),(0,Me.jsx)("li",{children:"Comply with legal obligations"})]})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"3. Data Security"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"We implement appropriate security measures to protect your personal information. However, no method of transmission over the internet is 100% secure."})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"4. Your Rights"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"You have the right to:"}),(0,Me.jsxs)("ul",{children:[(0,Me.jsx)("li",{children:"Access your personal information"}),(0,Me.jsx)("li",{children:"Correct inaccurate information"}),(0,Me.jsx)("li",{children:"Request deletion of your information"}),(0,Me.jsx)("li",{children:"Opt-out of marketing communications"})]})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"5. Cookies and Tracking"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"We use cookies and similar tracking technologies to improve your experience and analyze usage patterns."})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"6. Contact Us"}),(0,Me.jsxs)(gA,{variant:"body1",paragraph:!0,children:["If you have any questions about this Privacy Policy, please contact us at:",(0,Me.jsx)("br",{}),"Email: privacy@sideeye.com"]})]})]})}),az=()=>(0,Me.jsxs)(ps,{maxWidth:"lg",sx:{py:12},children:[(0,Me.jsx)(gA,{variant:"h1",component:"h1",sx:{textAlign:"center",fontWeight:"bold",mb:12,fontSize:{xs:"3rem",md:"4rem"},color:"primary.main",textTransform:"uppercase",letterSpacing:2},children:"About SideEye"}),(0,Me.jsxs)(B_,{sx:{mb:12},children:[(0,Me.jsx)(gA,{variant:"h2",sx:{fontWeight:"medium",mb:6,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary"},children:"Our Mission"}),(0,Me.jsx)(gA,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"SideEye is a platform dedicated to creating a safe and engaging space for users to share their thoughts, connect with others, and express themselves through various forms of content. We believe in fostering meaningful conversations while maintaining a respectful and inclusive environment."})]}),(0,Me.jsxs)(B_,{children:[(0,Me.jsx)(gA,{variant:"h2",sx:{fontWeight:"medium",mb:8,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary"},children:"Features"}),(0,Me.jsxs)(B_,{sx:{display:"flex",flexDirection:"column",gap:8},children:[(0,Me.jsxs)(B_,{children:[(0,Me.jsx)(gA,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Tea Rooms"}),(0,Me.jsx)(gA,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Join themed discussion rooms to connect with like-minded individuals and share your thoughts."})]}),(0,Me.jsxs)(B_,{children:[(0,Me.jsx)(gA,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Shade Meter"}),(0,Me.jsx)(gA,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Our unique content moderation system helps maintain a positive community atmosphere."})]}),(0,Me.jsxs)(B_,{children:[(0,Me.jsx)(gA,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Achievements"}),(0,Me.jsx)(gA,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Earn badges and recognition for your contributions to the community."})]}),(0,Me.jsxs)(B_,{children:[(0,Me.jsx)(gA,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Leaderboard"}),(0,Me.jsx)(gA,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Compete and climb the ranks based on your positive contributions."})]})]})]})]}),lz=()=>(0,Me.jsx)(ps,{maxWidth:"md",sx:{py:4},children:(0,Me.jsxs)(__,{elevation:3,sx:{p:4},children:[(0,Me.jsx)(gA,{variant:"h4",component:"h1",gutterBottom:!0,children:"Terms of Service"}),(0,Me.jsxs)(gA,{variant:"body1",paragraph:!0,children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"1. Acceptance of Terms"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"By accessing or using SideEye, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing this site."})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"2. User Accounts"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"To use certain features of SideEye, you must create an account. You are responsible for:"}),(0,Me.jsxs)("ul",{children:[(0,Me.jsx)("li",{children:"Maintaining the confidentiality of your account information"}),(0,Me.jsx)("li",{children:"All activities that occur under your account"}),(0,Me.jsx)("li",{children:"Providing accurate and complete information"}),(0,Me.jsx)("li",{children:"Notifying us immediately of any unauthorized use"})]})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"3. User Conduct"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"You agree not to:"}),(0,Me.jsxs)("ul",{children:[(0,Me.jsx)("li",{children:"Post or transmit any content that is unlawful, harmful, or offensive"}),(0,Me.jsx)("li",{children:"Impersonate any person or entity"}),(0,Me.jsx)("li",{children:"Interfere with the proper functioning of the service"}),(0,Me.jsx)("li",{children:"Attempt to gain unauthorized access to any portion of the service"}),(0,Me.jsx)("li",{children:"Use the service for any illegal purpose"})]})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"4. Content Ownership"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"You retain ownership of any content you post on SideEye. By posting content, you grant us a worldwide, non-exclusive, royalty-free license to use, reproduce, modify, and distribute your content."})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"5. Termination"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"We reserve the right to terminate or suspend your account and access to the service at our sole discretion, without notice, for conduct that we believe violates these Terms or is harmful to other users, us, or third parties."})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"6. Disclaimer"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:'The service is provided "as is" without any warranties, express or implied. We do not guarantee that the service will be uninterrupted, timely, secure, or error-free.'})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"7. Limitation of Liability"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"In no event shall SideEye be liable for any indirect, incidental, special, consequential, or punitive damages arising out of or related to your use of the service."})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"8. Changes to Terms"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:'We reserve the right to modify these Terms at any time. We will notify users of any material changes by posting the new Terms on the service and updating the "Last updated" date.'})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"9. Contact Information"}),(0,Me.jsxs)(gA,{variant:"body1",paragraph:!0,children:["If you have any questions about these Terms, please contact us at:",(0,Me.jsx)("br",{}),"Email: legal@sideeye.com"]})]})]})}),cz=()=>(0,Me.jsx)(ps,{maxWidth:"md",sx:{py:4},children:(0,Me.jsxs)(__,{elevation:3,sx:{p:4},children:[(0,Me.jsx)(gA,{variant:"h4",component:"h1",gutterBottom:!0,children:"Cookie Policy"}),(0,Me.jsxs)(gA,{variant:"body1",paragraph:!0,children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"What Are Cookies"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"Cookies are small text files that are placed on your computer or mobile device when you visit a website. They are widely used to make websites work more efficiently and provide useful information to website owners."})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"How We Use Cookies"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"We use cookies for the following purposes:"}),(0,Me.jsxs)("ul",{children:[(0,Me.jsx)("li",{children:"Essential cookies: Required for the website to function properly"}),(0,Me.jsx)("li",{children:"Authentication cookies: To keep you logged in"}),(0,Me.jsx)("li",{children:"Preference cookies: To remember your settings and preferences"}),(0,Me.jsx)("li",{children:"Analytics cookies: To understand how visitors use our website"}),(0,Me.jsx)("li",{children:"Marketing cookies: To deliver relevant advertisements"})]})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"Types of Cookies We Use"}),(0,Me.jsxs)(gA,{variant:"body1",paragraph:!0,children:[(0,Me.jsx)("strong",{children:"1. Essential Cookies"}),(0,Me.jsx)("br",{}),"These cookies are necessary for the website to function and cannot be switched off. They are usually only set in response to actions made by you, such as setting your privacy preferences or filling in forms."]}),(0,Me.jsxs)(gA,{variant:"body1",paragraph:!0,children:[(0,Me.jsx)("strong",{children:"2. Performance Cookies"}),(0,Me.jsx)("br",{}),"These cookies allow us to count visits and traffic sources so we can measure and improve the performance of our site."]}),(0,Me.jsxs)(gA,{variant:"body1",paragraph:!0,children:[(0,Me.jsx)("strong",{children:"3. Functionality Cookies"}),(0,Me.jsx)("br",{}),"These cookies enable the website to provide enhanced functionality and personalization."]}),(0,Me.jsxs)(gA,{variant:"body1",paragraph:!0,children:[(0,Me.jsx)("strong",{children:"4. Targeting Cookies"}),(0,Me.jsx)("br",{}),"These cookies may be set through our site by our advertising partners to build a profile of your interests."]})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"Managing Cookies"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"You can control and/or delete cookies as you wish. You can delete all cookies that are already on your computer and you can set most browsers to prevent them from being placed. If you do this, however, you may have to manually adjust some preferences every time you visit a site and some services and functionalities may not work."})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"Third-Party Cookies"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:"Some cookies are placed by third-party services that appear on our pages. We have no control over these cookies and they are subject to the privacy policies of the respective third parties."})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"Updates to This Policy"}),(0,Me.jsx)(gA,{variant:"body1",paragraph:!0,children:'We may update this Cookie Policy from time to time. We will notify you of any changes by posting the new Cookie Policy on this page and updating the "Last updated" date.'})]}),(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"Contact Us"}),(0,Me.jsxs)(gA,{variant:"body1",paragraph:!0,children:["If you have any questions about our use of cookies, please contact us at:",(0,Me.jsx)("br",{}),"Email: privacy@sideeye.com"]})]})]})}),uz=()=>{const e=ne(),t=ee(),[n,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{const n=new URLSearchParams(t.search).get("oobCode");if(n)try{r(!0),await Au(BI,n),l(!0),setTimeout((()=>{e("/login")}),3e3)}catch(o){s("Invalid or expired verification link")}finally{r(!1)}})()}),[t,e]);return n?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(B_,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(NN,{})})}):(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(B_,{sx:{mt:8,textAlign:"center"},children:a?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(gA,{variant:"h4",gutterBottom:!0,children:"Email Verified!"}),(0,Me.jsx)(gA,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Your email has been successfully verified. You will be redirected to the login page."})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(gA,{variant:"h4",gutterBottom:!0,children:"Verify Your Email"}),(0,Me.jsx)(gA,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Please check your email for a verification link. If you haven't received it, you can request a new one."}),o&&(0,Me.jsx)(ND,{severity:"error",sx:{mb:2},children:o}),c&&(0,Me.jsx)(ND,{severity:"success",sx:{mb:2},children:"Verification email sent! Please check your inbox."}),(0,Me.jsx)(XN,{variant:"contained",onClick:async()=>{if(BI.currentUser)try{r(!0),await Ru(BI.currentUser),u(!0)}catch(o){s("Failed to send verification email. Please try again.")}finally{r(!1)}else s("No user found. Please log in again.")},disabled:n||c,sx:{mt:2},children:"Resend Verification Email"})]})})})},dz=()=>{const e=ne(),[t,n]=(0,i.useState)(""),[r,o]=(0,i.useState)(""),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(null),[h,p]=(0,i.useState)(!1);(0,i.useEffect)((()=>(window.recaptchaVerifier=new gd(BI,"recaptcha-container",{size:"invisible",callback:()=>{}}),()=>{window.recaptchaVerifier&&window.recaptchaVerifier.clear()})),[]);return s?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(B_,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(NN,{})})}):(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(B_,{sx:{mt:8},children:(0,Me.jsxs)(__,{elevation:0,sx:{p:4},children:[(0,Me.jsx)(gA,{variant:"h4",gutterBottom:!0,align:"center",children:"Two-Factor Authentication"}),h?(0,Me.jsx)(ND,{severity:"success",sx:{mb:2},children:"2FA has been successfully set up! You will be redirected to your profile."}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(gA,{variant:"body1",color:"text.secondary",paragraph:!0,align:"center",children:"Add an extra layer of security to your account by enabling two-factor authentication."}),l&&(0,Me.jsx)(ND,{severity:"error",sx:{mb:2},children:l}),u?(0,Me.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),BI.currentUser&&u)try{a(!0),c(null);const t=bd.credential(u,r),n=ah.assertion(t);await Fu(BI.currentUser).enroll(n,"Phone Number"),p(!0),setTimeout((()=>{e("/profile")}),3e3)}catch(l){c("Invalid verification code. Please try again.")}finally{a(!1)}else c("Invalid verification state. Please try again.")},children:[(0,Me.jsx)(Hj,{fullWidth:!0,label:"Verification Code",value:r,onChange:e=>o(e.target.value),margin:"normal",required:!0}),(0,Me.jsx)(XN,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},disabled:s,children:"Verify Code"})]}):(0,Me.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),BI.currentUser)try{a(!0),c(null);const e=await Fu(BI.currentUser).getSession(),n={phoneNumber:t,session:e},r=new bd(BI),i=await r.verifyPhoneNumber(n,window.recaptchaVerifier);d(i)}catch(l){c("Failed to send verification code. Please try again.")}finally{a(!1)}else c("No user found. Please log in again.")},children:[(0,Me.jsx)(Hj,{fullWidth:!0,label:"Phone Number",value:t,onChange:e=>n(e.target.value),margin:"normal",required:!0,placeholder:"+1234567890"}),(0,Me.jsx)("div",{id:"recaptcha-container"}),(0,Me.jsx)(XN,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},disabled:s,children:"Send Verification Code"})]})]})]})})})},hz=ds(SN,{shouldForwardProp:e=>us(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(S_((e=>{let{theme:t}=e;return{display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${aL.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ti(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${aL.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ti(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${aL.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ti(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ti(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${aL.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${aL.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{paddingTop:4,paddingBottom:4}}]}}))),pz=i.forwardRef((function(e,t){const n=So({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:o=!1,component:s="div",children:a,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:h=!1,className:p,...f}=n,m=i.useContext(zP),g=i.useMemo((()=>({dense:l||m.dense||!1,alignItems:r,disableGutters:c})),[r,m.dense,l,c]),y=i.useRef(null);OA((()=>{o&&y.current&&y.current.focus()}),[o]);const v={...n,alignItems:r,dense:g.dense,disableGutters:c,divider:u,selected:h},b=(e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=e,l=Mo({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled","flex-start"===t&&"alignItemsFlexStart",a&&"selected"]},sL,n);return{...n,...l}})(v),w=NA(y,t);return(0,Me.jsx)(zP.Provider,{value:g,children:(0,Me.jsx)(hz,{ref:w,href:f.href||f.to,component:(f.href||f.to)&&"div"===s?"button":s,focusVisibleClassName:Ro(b.focusVisible,d),ownerState:v,className:Ro(b.root,p),...f,classes:b,children:a})})})),fz=pz,mz=q_((0,Me.jsx)("path",{d:"M20 10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4zm-6 4h-4v-4h4z"})),gz=()=>{const e=ee(),t=ne(),n=m_(),r=w_(n.breakpoints.down("sm")),[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)([]),[c,u]=(0,i.useState)(!0),[d,h]=(0,i.useState)(0);(0,i.useEffect)((()=>{const t=new URLSearchParams(e.search).get("q");t&&(s(t),p(t))}),[e]);const p=async e=>{if(!e.trim())return l([]),void u(!1);u(!0);try{const t=[],n=DC(Vk(UI,"users"),LC("username",">=",e.toLowerCase()),LC("username","<=",e.toLowerCase()+"\uf8ff"),UC(20));(await nE(n)).forEach((e=>{const n=e.data();t.push({id:e.id,type:"user",title:n.username,subtitle:n.name||"No name set",data:n})}));const r=DC(Vk(UI,"posts"),LC("content",">=",e.toLowerCase()),LC("content","<=",e.toLowerCase()+"\uf8ff"),$C("content"),UC(20)),i=await nE(r);for(const e of i.docs){const n=e.data(),r=(await eE(Wk(UI,"users",n.authorId))).data();t.push({id:e.id,type:"post",title:n.content.substring(0,50)+"...",subtitle:`by ${(null===r||void 0===r?void 0:r.name)||(null===r||void 0===r?void 0:r.username)||"Unknown"}`,data:n})}const o=DC(Vk(UI,"forums"),LC("title",">=",e.toLowerCase()),LC("title","<=",e.toLowerCase()+"\uf8ff"),UC(20));(await nE(o)).forEach((e=>{const n=e.data();t.push({id:e.id,type:"forum",title:n.title,subtitle:n.description,data:n})}));const s=DC(Vk(UI,"sideRooms"),LC("name",">=",e.toLowerCase()),LC("name","<=",e.toLowerCase()+"\uf8ff"),UC(20));(await nE(s)).forEach((e=>{const n=e.data();t.push({id:e.id,type:"sideRoom",title:n.name,subtitle:n.description,data:{id:e.id,...n}})})),l(t)}catch(t){console.error("Error searching:",t)}finally{u(!1)}},f=a.filter((e=>{switch(d){case 0:return"user"===e.type;case 1:return"post"===e.type;case 2:return"forum"===e.type;case 3:return"sideRoom"===e.type;default:return!0}}));return(0,Me.jsx)(ps,{maxWidth:"lg",children:(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsxs)(gA,{variant:"h4",gutterBottom:!0,children:['Search Results for "',o,'"']}),(0,Me.jsx)(__,{sx:{mb:4},children:(0,Me.jsxs)(BL,{value:d,onChange:(e,t)=>{h(t)},variant:r?"fullWidth":"standard",sx:{borderBottom:1,borderColor:"divider"},children:[(0,Me.jsx)(qL,{label:"Users"}),(0,Me.jsx)(qL,{label:"Posts"}),(0,Me.jsx)(qL,{label:"Forums"}),(0,Me.jsx)(qL,{label:"Side Rooms"})]})}),c?(0,Me.jsx)(B_,{sx:{display:"flex",justifyContent:"center",p:4},children:(0,Me.jsx)(NN,{})}):f.length>0?(0,Me.jsx)(VP,{children:f.map(((e,n)=>(0,Me.jsxs)(i.Fragment,{children:[(0,Me.jsxs)(fz,{onClick:()=>(e=>{switch(e.type){case"user":t(`/profile/${e.id}`);break;case"post":t(`/post/${e.id}`);break;case"forum":t(`/forum/${e.id}`);break;case"sideRoom":t(`/side-room/${e.id}`)}})(e),sx:{"&:hover":{backgroundColor:"action.hover"}},children:[(0,Me.jsx)(bL,{children:"user"===e.type?(0,Me.jsx)(lA,{src:e.data.profilePic}):(0,Me.jsx)(lA,{children:"post"===e.type?(0,Me.jsx)(mz,{}):"forum"===e.type?(0,Me.jsx)(CO,{}):(0,Me.jsx)(kO,{})})}),(0,Me.jsx)(fO,{primary:e.title,secondary:e.subtitle})]}),n<f.length-1&&(0,Me.jsx)(vO,{})]},e.id)))}):(0,Me.jsx)(B_,{sx:{p:4,textAlign:"center"},children:(0,Me.jsx)(gA,{color:"text.secondary",children:"No results found"})})]})})},yz=q_((0,Me.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),vz=q_((0,Me.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),bz=()=>{const{currentUser:e}=qI(),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[s,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(null);(0,i.useEffect)((()=>{(async()=>{if(e)try{const t=DC(Vk(UI,"deleted_posts"),LC("userId","==",e.uid)),r=(await nE(t)).docs.map((e=>{var t,n;return{id:e.id,...e.data(),deletedAt:null===(t=e.data().deletedAt)||void 0===t?void 0:t.toDate(),scheduledForDeletion:null===(n=e.data().scheduledForDeletion)||void 0===n?void 0:n.toDate()}}));n(r)}catch(t){console.error("Error fetching deleted posts:",t)}finally{o(!1)}})()}),[e]);return r?(0,Me.jsx)(B_,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(NN,{})}):0===t.length?(0,Me.jsx)(gA,{sx:{mt:4,textAlign:"center"},children:"No deleted posts found"}):(0,Me.jsx)(B_,{sx:{mt:4},children:t.map((t=>(0,Me.jsxs)(__,{sx:{p:2,mb:2,borderRadius:2},children:[(0,Me.jsxs)(B_,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Me.jsx)(lA,{src:t.authorAvatar,alt:t.authorName||"Anonymous",sx:{mr:2},children:t.authorName?t.authorName.charAt(0):"A"}),(0,Me.jsxs)(B_,{children:[(0,Me.jsx)(gA,{variant:"subtitle1",fontWeight:"bold",children:t.authorName||"Anonymous"}),(0,Me.jsxs)(gA,{variant:"caption",color:"text.secondary",children:["Deleted ",NM(t.deletedAt)," ago"]})]})]}),(0,Me.jsx)(gA,{sx:{mb:2},children:t.content}),t.imageUrl&&(0,Me.jsx)(B_,{component:"img",src:t.imageUrl,alt:"Post content",sx:{maxWidth:"100%",maxHeight:300,borderRadius:1,mb:2}}),t.tags&&t.tags.length>0&&(0,Me.jsx)(B_,{sx:{mb:2},children:t.tags.map((e=>(0,Me.jsx)(FO,{label:`#${e}`,size:"small",sx:{mr:1,mb:1}},e)))}),(0,Me.jsxs)(B_,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[(0,Me.jsx)(XN,{variant:"outlined",startIcon:(0,Me.jsx)(yz,{}),onClick:()=>(async t=>{if(e){a(t);try{const r=Wk(UI,"deleted_posts",t),i=(await eE(r)).data();if(!i)throw new Error("Post not found");const o=Wk(UI,"posts",t);await iE(o,{...i,deletedAt:null,scheduledForDeletion:null}),await oE(r),n((e=>e.filter((e=>e.id!==t)))),await iE(Wk(UI,"users",e.uid),{postCount:bE(1)})}catch(r){console.error("Error restoring post:",r)}finally{a(null)}}})(t.id),disabled:!!s,children:s===t.id?(0,Me.jsx)(NN,{size:24}):"Restore"}),(0,Me.jsx)(XN,{variant:"outlined",color:"error",startIcon:(0,Me.jsx)(vz,{}),onClick:()=>(async t=>{if(e){c(t);try{const e=Wk(UI,"deleted_posts",t);await oE(e),n((e=>e.filter((e=>e.id!==t))))}catch(r){console.error("Error permanently deleting post:",r)}finally{c(null)}}})(t.id),disabled:!!l,children:l===t.id?(0,Me.jsx)(NN,{size:24}):"Delete Forever"})]})]},t.id)))})},wz=()=>(0,Me.jsx)(ps,{maxWidth:"md",children:(0,Me.jsxs)(B_,{sx:{py:4},children:[(0,Me.jsx)(gA,{variant:"h4",sx:{mb:4},children:"Trash"}),(0,Me.jsx)(gA,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Posts in the trash will be automatically deleted after 24 hours. You can restore them before then."}),(0,Me.jsx)(bz,{})]})}),xz=()=>{const{userId:e}=re(),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[s,a]=(0,i.useState)(null);return(0,i.useEffect)((()=>{(async()=>{try{const t=await eE(Wk(UI,"users",e));if(t.exists()){const e=t.data(),r=(e.followers||[]).map((async e=>{const t=await eE(Wk(UI,"users",e));if(t.exists()){return{...t.data(),uid:e}}return null})),i=await Promise.all(r);n(i.filter(Boolean))}}catch(t){a("Failed to load followers"),console.error("Error fetching followers:",t)}finally{o(!1)}})()}),[e]),r?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(B_,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(NN,{})})}):s?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(B_,{sx:{mt:4,textAlign:"center"},children:(0,Me.jsx)(gA,{color:"error",children:s})})}):(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"Followers"}),(0,Me.jsxs)(VP,{children:[t.map((e=>(0,Me.jsxs)(mL,{component:Pe,to:`/profile/${e.uid}`,sx:{textDecoration:"none",color:"inherit","&:hover":{backgroundColor:"action.hover"}},children:[(0,Me.jsx)(bL,{children:(0,Me.jsx)(lA,{src:e.profilePic||void 0})}),(0,Me.jsx)(fO,{primary:e.name,secondary:e.username})]},e.uid))),0===t.length&&(0,Me.jsx)(gA,{variant:"body1",sx:{mt:2,textAlign:"center"},children:"No followers yet"})]})]})})},Sz=()=>{const{userId:e}=re(),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[s,a]=(0,i.useState)(null);return(0,i.useEffect)((()=>{(async()=>{try{const t=await eE(Wk(UI,"users",e));if(t.exists()){const e=t.data(),r=(e.connections||[]).map((async e=>{const t=await eE(Wk(UI,"users",e));if(t.exists()){return{...t.data(),uid:e}}return null})),i=await Promise.all(r);n(i.filter(Boolean))}}catch(t){a("Failed to load following"),console.error("Error fetching following:",t)}finally{o(!1)}})()}),[e]),r?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(B_,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Me.jsx)(NN,{})})}):s?(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsx)(B_,{sx:{mt:4,textAlign:"center"},children:(0,Me.jsx)(gA,{color:"error",children:s})})}):(0,Me.jsx)(ps,{maxWidth:"sm",children:(0,Me.jsxs)(B_,{sx:{mt:4},children:[(0,Me.jsx)(gA,{variant:"h5",gutterBottom:!0,children:"Following"}),(0,Me.jsxs)(VP,{children:[t.map((e=>(0,Me.jsxs)(mL,{component:Pe,to:`/profile/${e.uid}`,sx:{textDecoration:"none",color:"inherit","&:hover":{backgroundColor:"action.hover"}},children:[(0,Me.jsx)(bL,{children:(0,Me.jsx)(lA,{src:e.profilePic||void 0})}),(0,Me.jsx)(fO,{primary:e.name,secondary:e.username})]},e.uid))),0===t.length&&(0,Me.jsx)(gA,{variant:"body1",sx:{mt:2,textAlign:"center"},children:"Not following anyone yet"})]})]})})},kz=e=>{let{message:t="Loading..."}=e;return(0,Me.jsxs)(B_,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,textAlign:"center"},children:[(0,Me.jsx)(NN,{size:60,thickness:4}),(0,Me.jsx)(gA,{variant:"h6",sx:{mt:2},children:t})]})},Cz=e=>{let{children:t,requireAuth:n=!0,requireEmailVerification:r=!1,require2FA:i=!1}=e;const{user:o,loading:s,userProfile:a}=qI();return s?(0,Me.jsx)(kz,{message:"Checking authentication..."}):n&&!o?(0,Me.jsx)(ve,{to:"/login",replace:!0}):r&&o&&!o.emailVerified?(0,Me.jsx)(ve,{to:"/verify-email",replace:!0}):i&&a&&!a.isVerified?(0,Me.jsx)(ve,{to:"/2fa",replace:!0}):(0,Me.jsx)(Me.Fragment,{children:t})};class Ez extends i.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null},this.handleRetry=()=>{this.setState({hasError:!1,error:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){var e;return this.state.hasError?(0,Me.jsxs)(B_,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,textAlign:"center"},children:[(0,Me.jsx)(gA,{variant:"h4",gutterBottom:!0,children:"Oops! Something went wrong"}),(0,Me.jsx)(gA,{variant:"body1",color:"text.secondary",paragraph:!0,children:(null===(e=this.state.error)||void 0===e?void 0:e.message)||"An unexpected error occurred"}),(0,Me.jsx)(XN,{variant:"contained",color:"primary",onClick:this.handleRetry,sx:{mt:2},children:"Try Again"})]}):this.props.children}}const Iz=Ez,Tz=e=>{let{children:t,maxRequests:n=10,timeWindow:r=6e4}=e;const[o,s]=(0,i.useState)(null),a=(0,i.useRef)(0),l=(0,i.useRef)(Date.now()),c=(0,i.useCallback)((()=>{const e=Date.now();return e-l.current>=r&&(a.current=0,l.current=e),a.current>=n?(s(`Rate limit exceeded. Please try again in ${Math.ceil((r-(e-l.current))/1e3)} seconds.`),!1):(a.current++,!0)}),[n,r]),u=()=>{s(null)};return(0,Me.jsxs)(Me.Fragment,{children:[i.Children.map(t,(e=>i.isValidElement(e)?i.cloneElement(e,{checkRateLimit:c}):e)),(0,Me.jsx)(bD,{open:!!o,autoHideDuration:6e3,onClose:u,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,Me.jsx)(ND,{onClose:u,severity:"error",sx:{width:"100%"},children:o})})]})},_z=()=>(0,Me.jsxs)(fo,{theme:WT,children:[(0,Me.jsx)(Ao,{}),(0,Me.jsx)(HI,{children:(0,Me.jsx)(Iz,{children:(0,Me.jsxs)(Tz,{children:[(0,Me.jsx)(VT,{position:"top-right"}),(0,Me.jsx)(PO,{}),(0,Me.jsx)(ps,{children:(0,Me.jsxs)(xe,{children:[(0,Me.jsx)(be,{path:"/",element:(0,Me.jsx)(HM,{})}),(0,Me.jsx)(be,{path:"/login",element:(0,Me.jsx)(qM,{})}),(0,Me.jsx)(be,{path:"/register",element:(0,Me.jsx)(QM,{})}),(0,Me.jsx)(be,{path:"/profile",element:(0,Me.jsx)(Cz,{children:(0,Me.jsx)(JL,{})})}),(0,Me.jsx)(be,{path:"/profile/:userId",element:(0,Me.jsx)(JL,{})}),(0,Me.jsx)(be,{path:"/profile/:userId/followers",element:(0,Me.jsx)(xz,{})}),(0,Me.jsx)(be,{path:"/profile/:userId/following",element:(0,Me.jsx)(Sz,{})}),(0,Me.jsx)(be,{path:"/search",element:(0,Me.jsx)(gz,{})}),(0,Me.jsx)(be,{path:"/forums",element:(0,Me.jsx)(Cz,{children:(0,Me.jsx)(tF,{})})}),(0,Me.jsx)(be,{path:"/side-rooms",element:(0,Me.jsx)(Cz,{children:(0,Me.jsx)(AF,{})})}),(0,Me.jsx)(be,{path:"/side-room/:roomId",element:(0,Me.jsx)(Cz,{children:(0,Me.jsx)(RF,{})})}),(0,Me.jsx)(be,{path:"/messages",element:(0,Me.jsx)(Cz,{children:(0,Me.jsx)(ZL,{})})}),(0,Me.jsx)(be,{path:"/chat",element:(0,Me.jsx)(Cz,{children:(0,Me.jsx)(jF,{})})}),(0,Me.jsx)(be,{path:"/safety",element:(0,Me.jsx)(oz,{})}),(0,Me.jsx)(be,{path:"/privacy-policy",element:(0,Me.jsx)(sz,{})}),(0,Me.jsx)(be,{path:"/about",element:(0,Me.jsx)(az,{})}),(0,Me.jsx)(be,{path:"/terms",element:(0,Me.jsx)(lz,{})}),(0,Me.jsx)(be,{path:"/cookies",element:(0,Me.jsx)(cz,{})}),(0,Me.jsx)(be,{path:"/verify-email",element:(0,Me.jsx)(uz,{})}),(0,Me.jsx)(be,{path:"/2fa",element:(0,Me.jsx)(dz,{})}),(0,Me.jsx)(be,{path:"/trash",element:(0,Me.jsx)(Cz,{children:(0,Me.jsx)(wz,{})})}),(0,Me.jsx)(be,{path:"*",element:(0,Me.jsx)(HM,{})})]})})]})})})]});s.createRoot(document.getElementById("root")).render((0,Me.jsx)(i.StrictMode,{children:(0,Me.jsx)(Te,{children:(0,Me.jsx)(_z,{})})}))})();
//# sourceMappingURL=main.b3f70240.js.map