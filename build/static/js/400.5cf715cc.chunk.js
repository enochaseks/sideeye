"use strict";(self.webpackChunkside_eye=self.webpackChunkside_eye||[]).push([[400],{1227:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(3235),i=t(4414);const a=(0,n.A)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},6117:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(3235),i=t(4414);const a=(0,n.A)((0,i.jsx)("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1M9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m11 15H4v-2h16zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20z"}),"CardGiftcard")},6400:(e,s,t)=>{t.r(s),t.d(s,{default:()=>C});var n=t(9950),i=t(9808),a=t(6639),r=t(2053),c=t(3174),l=t(226),o=t(2235),d=t(470),x=t(704),h=t(6491),m=t(4745),y=t(5277),u=t(8692),p=t(1227),j=t(3235),A=t(4414);const f=(0,j.A)((0,A.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt");var v=t(6117),b=t(8429),g=t(2074),w=t(5887);const C=()=>{const e=(0,b.Zp)(),[s]=(0,g.ok)(),[t,j]=(0,n.useState)(!0),[C,L]=(0,n.useState)(null),[k,z]=(0,n.useState)(null);(0,n.useEffect)((()=>{const e=s.get("session_id");if(!e)return z("No payment session found"),void j(!1);(async()=>{try{const s="https://sideeye-backend-production.up.railway.app",t=await fetch("".concat(s,"/api/payment-success/").concat(e));if(!t.ok)throw new Error("Failed to fetch payment details");const n=await t.json();L(n),w.oR.success("Payment completed successfully! \ud83c\udf89",{duration:5e3,position:"top-center"})}catch(k){console.error("Error fetching payment details:",k),z(k.message||"Failed to load payment details")}finally{j(!1)}})()}),[s]);return t?(0,A.jsxs)(i.A,{maxWidth:"sm",sx:{mt:8,textAlign:"center"},children:[(0,A.jsx)(a.A,{size:60}),(0,A.jsx)(r.A,{variant:"h6",sx:{mt:2},children:"Processing your payment..."})]}):k?(0,A.jsxs)(i.A,{maxWidth:"sm",sx:{mt:8},children:[(0,A.jsx)(c.A,{severity:"error",sx:{mb:3},children:k}),(0,A.jsx)(l.A,{variant:"contained",onClick:()=>e("/"),startIcon:(0,A.jsx)(u.A,{}),children:"Return Home"})]}):(0,A.jsx)(i.A,{maxWidth:"sm",sx:{mt:4,mb:4},children:(0,A.jsxs)(o.A,{elevation:3,sx:{p:4,textAlign:"center"},children:[(0,A.jsx)(p.A,{sx:{fontSize:80,color:"success.main",mb:2}}),(0,A.jsx)(r.A,{variant:"h4",gutterBottom:!0,color:"success.main",fontWeight:"bold",children:"Payment Successful!"}),(0,A.jsx)(r.A,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Your gift has been sent successfully. The recipient will receive SideCoins in their wallet."}),C&&(0,A.jsx)(d.A,{sx:{mb:3,textAlign:"left"},children:(0,A.jsxs)(x.A,{children:[(0,A.jsxs)(h.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,A.jsx)(f,{sx:{mr:1,color:"primary.main"}}),(0,A.jsx)(r.A,{variant:"h6",fontWeight:"bold",children:"Payment Receipt"})]}),(0,A.jsx)(m.A,{sx:{mb:2}}),(0,A.jsxs)(h.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,A.jsx)(r.A,{variant:"body2",color:"text.secondary",children:"Payment ID:"}),(0,A.jsx)(r.A,{variant:"body2",fontFamily:"monospace",children:C.paymentId})]}),(0,A.jsxs)(h.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,A.jsx)(r.A,{variant:"body2",color:"text.secondary",children:"Amount Paid:"}),(0,A.jsx)(r.A,{variant:"body2",fontWeight:"bold",children:(H=C.amount,S=C.currency,new Intl.NumberFormat("en-GB",{style:"currency",currency:S}).format(H))})]}),(0,A.jsxs)(h.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,A.jsx)(r.A,{variant:"body2",color:"text.secondary",children:"Status:"}),(0,A.jsx)(y.A,{label:"complete"===C.status?"Completed":C.status,color:"success",size:"small"})]}),(0,A.jsx)(m.A,{sx:{my:2}}),(0,A.jsx)(c.A,{severity:"info",sx:{mt:2},children:(0,A.jsxs)(r.A,{variant:"body2",children:[(0,A.jsx)("strong",{children:"Host Earnings:"})," The recipient will receive approximately"," ",(0,A.jsxs)("strong",{children:[(.8*C.amount/.005).toFixed(2)," SideCoins"]})," ","(80% of gift value) in their wallet."]})})]})}),(0,A.jsxs)(h.A,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[(0,A.jsx)(l.A,{variant:"contained",onClick:()=>e("/"),startIcon:(0,A.jsx)(u.A,{}),size:"large",children:"Return Home"}),(0,A.jsx)(l.A,{variant:"outlined",onClick:()=>e("/wallet"),startIcon:(0,A.jsx)(v.A,{}),size:"large",children:"View Wallet"})]}),(0,A.jsx)(r.A,{variant:"caption",color:"text.secondary",sx:{mt:3,display:"block"},children:"A receipt has been sent to your email address. Thank you for using SideEye!"})]})});var H,S}},8692:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(3235),i=t(4414);const a=(0,n.A)((0,i.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home")}}]);