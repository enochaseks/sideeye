/*! For license information please see main.8c77ff91.js.LICENSE.txt */
(()=>{var e={86:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},116:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>A.A,StyledEngineProvider:()=>x,ThemeContext:()=>o.T,css:()=>v.AH,default:()=>_,internal_processStyles:()=>S,keyframes:()=>v.i7});var r=n(8168),o=n(7370),i=n(9015),s=n(6477),a=n(1783),l=n(9950),c=n(7923),u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d=(0,c.A)((function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),h=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:h},f=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,a.SF)(t,n,r),(0,s.s)((function(){return(0,a.sk)(t,n,r)})),null},g=function e(t,n){var s,c,u=t.__emotion_real===t,d=u&&t.__emotion_base||t;void 0!==n&&(s=n.label,c=n.target);var h=f(t,n,u),g=h||p(d),v=!g("as");return function(){var y=arguments,b=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==s&&b.push("label:"+s+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{var w=y[0];b.push(w[0]);for(var x=y.length,A=1;A<x;A++)b.push(y[A],w[A])}var _=(0,o.w)((function(e,t,n){var r=v&&e.as||d,s="",u=[],f=e;if(null==e.theme){for(var y in f={},e)f[y]=e[y];f.theme=l.useContext(o.T)}"string"===typeof e.className?s=(0,a.Rk)(t.registered,u,e.className):null!=e.className&&(s=e.className+" ");var w=(0,i.J)(b.concat(u),t.registered,f);s+=t.key+"-"+w.name,void 0!==c&&(s+=" "+c);var x=v&&void 0===h?p(r):g,A={};for(var _ in e)v&&"as"===_||x(_)&&(A[_]=e[_]);return A.className=s,n&&(A.ref=n),l.createElement(l.Fragment,null,l.createElement(m,{cache:t,serialized:w,isStringTag:"string"===typeof r}),l.createElement(r,A))}));return _.displayName=void 0!==s?s:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=d,_.__emotion_styles=b,_.__emotion_forwardProp=h,Object.defineProperty(_,"toString",{value:function(){return"."+c}}),_.withComponent=function(t,o){return e(t,(0,r.A)({},n,o,{shouldForwardProp:f(_,o,!0)})).apply(void 0,b)},_}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){g[e]=g(e)}));var v=n(8283),y=n(8603),b=n(4414);let w;function x(e){const{injectFirst:t,children:n}=e;return t&&w?(0,b.jsx)(o.C,{value:w,children:n}):n}"object"===typeof document&&(w=(0,y.A)({key:"css",prepend:!0}));var A=n(3158);function _(e,t){return g(e,t)}const S=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},195:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(4436).A)()},237:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(8587),i=n(7483),s=n(8076);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,n=(0,o.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,i.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},304:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(5501)},403:e=>{e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!a(c))return!1;var u=e[c],d=t[c];if(!1===(o=n?n.call(r,u,d,c):void 0)||void 0===o&&u!==d)return!1}return!0}},423:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i});var r=n(4501);const o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i=o[t];return i?`${n}-${i}`:`${r.A.generate(e)}-${t}`}},505:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(5501),o=n(6206),i=n(2703),s=n(8286),a=n(8076);function l(){function e(e,t,n,o){const a={[e]:t,theme:n},l=o[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,i.Yn)(n,u)||{};if(h)return h(a);return(0,s.NI)(a,t,(t=>{let n=(0,i.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,i.BO)(p,d,`${e}${"default"===t?"":(0,r.A)(t)}`,t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:i,theme:l={}}=n||{};if(!i)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.A;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const i=(0,s.EU)(l.breakpoints),a=Object.keys(i);let u=i;return Object.keys(r).forEach((n=>{const i=(a=r[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==i&&void 0!==i)if("object"===typeof i)if(c[n])u=(0,o.A)(u,e(n,i,l,c));else{const e=(0,s.NI)({theme:l},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),o=new Set(r);return t.every((e=>o.size===Object.keys(e).length))}(e,i)?u=(0,o.A)(u,e):u[n]=t({sx:i,theme:l})}else u=(0,o.A)(u,e(n,i,l,c))})),(0,s.vf)(a,u)}return Array.isArray(i)?i.map(u):u(i)}}const c=l();c.filterProps=["sx"];const u=c},630:(e,t,n)=>{"use strict";e.exports=n(2138)},827:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(8635).A},949:e=>{"use strict";e.exports=function(e,t,n,r,o,i,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,s,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},1014:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3539).A},1209:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1927).A},1352:(e,t,n)=>{"use strict";var r=n(7119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},1397:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,d=128,h=256,p=1/0,f=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",h]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",x="[object Date]",A="[object Error]",_="[object Function]",S="[object GeneratorFunction]",C="[object Map]",k="[object Number]",T="[object Object]",E="[object Promise]",I="[object RegExp]",R="[object Set]",P="[object String]",j="[object Symbol]",D="[object WeakMap]",N="[object ArrayBuffer]",M="[object DataView]",O="[object Float32Array]",L="[object Float64Array]",F="[object Int8Array]",U="[object Int16Array]",$="[object Int32Array]",z="[object Uint8Array]",B="[object Uint8ClampedArray]",V="[object Uint16Array]",W="[object Uint32Array]",H=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Q=RegExp(K.source),X=RegExp(Y.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),se=/^\s+/,ae=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ae=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",Re="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['\u2019]",je="["+Se+"]",De="["+Re+"]",Ne="["+Ce+"]",Me="\\d+",Oe="["+ke+"]",Le="["+Te+"]",Fe="[^"+Se+Re+Me+ke+Te+Ee+"]",Ue="\\ud83c[\\udffb-\\udfff]",$e="[^"+Se+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Ee+"]",We="\\u200d",He="(?:"+Le+"|"+Fe+")",qe="(?:"+Ve+"|"+Fe+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ke="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Ne+"|"+Ue+")"+"?",Qe="["+Ie+"]?",Xe=Qe+Ye+("(?:"+We+"(?:"+[$e,ze,Be].join("|")+")"+Qe+Ye+")*"),Je="(?:"+[Oe,ze,Be].join("|")+")"+Xe,Ze="(?:"+[$e+Ne+"?",Ne,ze,Be,je].join("|")+")",et=RegExp(Pe,"g"),tt=RegExp(Ne,"g"),nt=RegExp(Ue+"(?="+Ue+")|"+Ze+Xe,"g"),rt=RegExp([Ve+"?"+Le+"+"+Ge+"(?="+[De,Ve,"$"].join("|")+")",qe+"+"+Ke+"(?="+[De,Ve+He,"$"].join("|")+")",Ve+"?"+He+"+"+Ge,Ve+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Je].join("|"),"g"),ot=RegExp("["+We+Se+Ce+Ie+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,lt={};lt[O]=lt[L]=lt[F]=lt[U]=lt[$]=lt[z]=lt[B]=lt[V]=lt[W]=!0,lt[y]=lt[b]=lt[N]=lt[w]=lt[M]=lt[x]=lt[A]=lt[_]=lt[C]=lt[k]=lt[T]=lt[I]=lt[R]=lt[P]=lt[D]=!1;var ct={};ct[y]=ct[b]=ct[N]=ct[M]=ct[w]=ct[x]=ct[O]=ct[L]=ct[F]=ct[U]=ct[$]=ct[C]=ct[k]=ct[T]=ct[I]=ct[R]=ct[P]=ct[j]=ct[z]=ct[B]=ct[V]=ct[W]=!0,ct[A]=ct[_]=ct[D]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ht=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ft="object"==typeof self&&self&&self.Object===Object&&self,mt=pt||ft||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===gt,bt=yt&&pt.process,wt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),xt=wt&&wt.isArrayBuffer,At=wt&&wt.isDate,_t=wt&&wt.isMap,St=wt&&wt.isRegExp,Ct=wt&&wt.isSet,kt=wt&&wt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function jt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}function Dt(e,t){return!!(null==e?0:e.length)&&Vt(e,t,0)>-1}function Nt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Ot(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Lt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ft(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var $t=Gt("length");function zt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Bt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Vt(e,t,n){return t===t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Bt(e,Ht,n)}function Wt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Ht(e){return e!==e}function qt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:m}function Gt(e){return function(t){return null==t?o:t[e]}}function Kt(e){return function(t){return null==e?o:e[t]}}function Yt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Qt(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==o&&(n=n===o?s:n+s)}return n}function Xt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,gn(e)+1).replace(se,""):e}function Zt(e){return function(t){return e(t)}}function en(e,t){return Mt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Vt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Vt(t,e[n],0)>-1;);return n}var on=Kt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sn=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function ln(e){return ot.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,i[o++]=n)}return i}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function fn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):$t(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var vn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?mt:yn.defaults(mt.Object(),t,yn.pick(mt,st))).Array,r=t.Date,ae=t.Error,Se=t.Function,Ce=t.Math,ke=t.Object,Te=t.RegExp,Ee=t.String,Ie=t.TypeError,Re=n.prototype,Pe=Se.prototype,je=ke.prototype,De=t["__core-js_shared__"],Ne=Pe.toString,Me=je.hasOwnProperty,Oe=0,Le=function(){var e=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=je.toString,Ue=Ne.call(ke),$e=mt._,ze=Te("^"+Ne.call(Me).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=yt?t.Buffer:o,Ve=t.Symbol,We=t.Uint8Array,He=Be?Be.allocUnsafe:o,qe=un(ke.getPrototypeOf,ke),Ge=ke.create,Ke=je.propertyIsEnumerable,Ye=Re.splice,Qe=Ve?Ve.isConcatSpreadable:o,Xe=Ve?Ve.iterator:o,Je=Ve?Ve.toStringTag:o,Ze=function(){try{var e=hi(ke,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,ot=r&&r.now!==mt.Date.now&&r.now,ut=t.setTimeout!==mt.setTimeout&&t.setTimeout,pt=Ce.ceil,ft=Ce.floor,gt=ke.getOwnPropertySymbols,vt=Be?Be.isBuffer:o,bt=t.isFinite,wt=Re.join,$t=un(ke.keys,ke),Kt=Ce.max,bn=Ce.min,wn=r.now,xn=t.parseInt,An=Ce.random,_n=Re.reverse,Sn=hi(t,"DataView"),Cn=hi(t,"Map"),kn=hi(t,"Promise"),Tn=hi(t,"Set"),En=hi(t,"WeakMap"),In=hi(ke,"create"),Rn=En&&new En,Pn={},jn=Fi(Sn),Dn=Fi(Cn),Nn=Fi(kn),Mn=Fi(Tn),On=Fi(En),Ln=Ve?Ve.prototype:o,Fn=Ln?Ln.valueOf:o,Un=Ln?Ln.toString:o;function $n(e){if(ta(e)&&!Ws(e)&&!(e instanceof Wn)){if(e instanceof Vn)return e;if(Me.call(e,"__wrapped__"))return Ui(e)}return new Vn(e)}var zn=function(){function e(){}return function(t){if(!ea(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Bn(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new qn(e);this.size=t.size}function Qn(e,t){var n=Ws(e),r=!n&&Vs(e),o=!n&&!r&&Ks(e),i=!n&&!r&&!o&&ca(e),s=n||r||o||i,a=s?Xt(e.length,Ee):[],l=a.length;for(var c in e)!t&&!Me.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bi(c,l))||a.push(c);return a}function Xn(e){var t=e.length;return t?e[Kr(0,t-1)]:o}function Jn(e,t){return Mi(Ro(e),ar(t,0,e.length))}function Zn(e){return Mi(Ro(e))}function er(e,t,n){(n!==o&&!$s(e[t],n)||n===o&&!(t in e))&&ir(e,t,n)}function tr(e,t,n){var r=e[t];Me.call(e,t)&&$s(r,n)&&(n!==o||t in e)||ir(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if($s(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function or(e,t){return e&&Po(t,Pa(t),e)}function ir(e,t,n){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,i=t.length,s=n(i),a=null==e;++r<i;)s[r]=a?o:ka(e,t[r]);return s}function ar(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function lr(e,t,n,r,i,s){var a,l=1&t,c=2&t,u=4&t;if(n&&(a=i?n(e,r,i,s):n(e)),a!==o)return a;if(!ea(e))return e;var d=Ws(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ro(e,a)}else{var h=mi(e),p=h==_||h==S;if(Ks(e))return So(e,l);if(h==T||h==y||p&&!i){if(a=c||p?{}:vi(e),!l)return c?function(e,t){return Po(e,fi(e),t)}(e,function(e,t){return e&&Po(t,ja(t),e)}(a,e)):function(e,t){return Po(e,pi(e),t)}(e,or(a,e))}else{if(!ct[h])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case N:return Co(e);case w:case x:return new r(+e);case M:return function(e,t){var n=t?Co(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case O:case L:case F:case U:case $:case z:case B:case V:case W:return ko(e,n);case C:return new r;case k:case P:return new r(e);case I:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new r;case j:return o=e,Fn?ke(Fn.call(o)):{}}var o}(e,h,l)}}s||(s=new Yn);var f=s.get(e);if(f)return f;s.set(e,a),sa(e)?e.forEach((function(r){a.add(lr(r,t,n,r,e,s))})):na(e)&&e.forEach((function(r,o){a.set(o,lr(r,t,n,o,e,s))}));var m=d?o:(u?c?ii:oi:c?ja:Pa)(e);return It(m||e,(function(r,o){m&&(r=e[o=r]),tr(a,o,lr(r,t,n,o,e,s))})),a}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=ke(e);r--;){var i=n[r],s=t[i],a=e[i];if(a===o&&!(i in e)||!s(a))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new Ie(i);return Pi((function(){e.apply(o,n)}),t)}function dr(e,t,n,r){var o=-1,i=Dt,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=Mt(t,Zt(n))),r?(i=Nt,s=!1):t.length>=200&&(i=tn,s=!1,t=new Kn(t));e:for(;++o<a;){var u=e[o],d=null==n?u:n(u);if(u=r||0!==u?u:0,s&&d===d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else i(t,d,r)||l.push(u)}return l}$n.templateSettings={escape:J,evaluate:Z,interpolate:ee,variable:"",imports:{_:$n}},$n.prototype=Bn.prototype,$n.prototype.constructor=$n,Vn.prototype=zn(Bn.prototype),Vn.prototype.constructor=Vn,Wn.prototype=zn(Bn.prototype),Wn.prototype.constructor=Wn,Hn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(In){var n=t[e];return n===s?o:n}return Me.call(t,e)?t[e]:o},Hn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==o:Me.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===o?s:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},qn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?o:t[n][1]},qn.prototype.has=function(e){return nr(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Cn||qn),string:new Hn}},Gn.prototype.delete=function(e){var t=ui(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return ui(this,e).get(e)},Gn.prototype.has=function(e){return ui(this,e).has(e)},Gn.prototype.set=function(e,t){var n=ui(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,s),this},Kn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new qn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var hr=No(wr),pr=No(xr,!0);function fr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function mr(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],a=t(s);if(null!=a&&(l===o?a===a&&!la(a):n(a,l)))var l=a,c=s}return c}function gr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function vr(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=yi),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?vr(a,t-1,n,r,o):Ot(o,a):r||(o[o.length]=a)}return o}var yr=Mo(),br=Mo(!0);function wr(e,t){return e&&yr(e,t,Pa)}function xr(e,t){return e&&br(e,t,Pa)}function Ar(e,t){return jt(t,(function(t){return Xs(e[t])}))}function _r(e,t){for(var n=0,r=(t=wo(t,e)).length;null!=e&&n<r;)e=e[Li(t[n++])];return n&&n==r?e:o}function Sr(e,t,n){var r=t(e);return Ws(e)?r:Ot(r,n(e))}function Cr(e){return null==e?e===o?"[object Undefined]":"[object Null]":Je&&Je in ke(e)?function(e){var t=Me.call(e,Je),n=e[Je];try{e[Je]=o;var r=!0}catch(s){}var i=Fe.call(e);r&&(t?e[Je]=n:delete e[Je]);return i}(e):function(e){return Fe.call(e)}(e)}function kr(e,t){return e>t}function Tr(e,t){return null!=e&&Me.call(e,t)}function Er(e,t){return null!=e&&t in ke(e)}function Ir(e,t,r){for(var i=r?Nt:Dt,s=e[0].length,a=e.length,l=a,c=n(a),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=Mt(h,Zt(t))),u=bn(h.length,u),c[l]=!r&&(t||s>=120&&h.length>=120)?new Kn(l&&h):o}h=e[0];var p=-1,f=c[0];e:for(;++p<s&&d.length<u;){var m=h[p],g=t?t(m):m;if(m=r||0!==m?m:0,!(f?tn(f,g):i(d,g,r))){for(l=a;--l;){var v=c[l];if(!(v?tn(v,g):i(e[l],g,r)))continue e}f&&f.push(g),d.push(m)}}return d}function Rr(e,t,n){var r=null==(e=Ei(e,t=wo(t,e)))?e:e[Li(Qi(t))];return null==r?o:Tt(r,e,n)}function Pr(e){return ta(e)&&Cr(e)==y}function jr(e,t,n,r,i){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!==e&&t!==t:function(e,t,n,r,i,s){var a=Ws(e),l=Ws(t),c=a?b:mi(e),u=l?b:mi(t),d=(c=c==y?T:c)==T,h=(u=u==y?T:u)==T,p=c==u;if(p&&Ks(e)){if(!Ks(t))return!1;a=!0,d=!1}if(p&&!d)return s||(s=new Yn),a||ca(e)?ni(e,t,n,r,i,s):function(e,t,n,r,o,i,s){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!i(new We(e),new We(t)));case w:case x:case k:return $s(+e,+t);case A:return e.name==t.name&&e.message==t.message;case I:case P:return e==t+"";case C:var a=cn;case R:var l=1&r;if(a||(a=hn),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=ni(a(e),a(t),r,o,i,s);return s.delete(e),u;case j:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,c,n,r,i,s);if(!(1&n)){var f=d&&Me.call(e,"__wrapped__"),m=h&&Me.call(t,"__wrapped__");if(f||m){var g=f?e.value():e,v=m?t.value():t;return s||(s=new Yn),i(g,v,n,r,s)}}if(!p)return!1;return s||(s=new Yn),function(e,t,n,r,i,s){var a=1&n,l=oi(e),c=l.length,u=oi(t),d=u.length;if(c!=d&&!a)return!1;var h=c;for(;h--;){var p=l[h];if(!(a?p in t:Me.call(t,p)))return!1}var f=s.get(e),m=s.get(t);if(f&&m)return f==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);var v=a;for(;++h<c;){var y=e[p=l[h]],b=t[p];if(r)var w=a?r(b,y,p,t,e,s):r(y,b,p,e,t,s);if(!(w===o?y===b||i(y,b,n,r,s):w)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var x=e.constructor,A=t.constructor;x==A||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof A&&A instanceof A||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,r,i,s)}(e,t,n,r,jr,i))}function Dr(e,t,n,r){var i=n.length,s=i,a=!r;if(null==e)return!s;for(e=ke(e);i--;){var l=n[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){var c=(l=n[i])[0],u=e[c],d=l[1];if(a&&l[2]){if(u===o&&!(c in e))return!1}else{var h=new Yn;if(r)var p=r(u,d,c,e,t,h);if(!(p===o?jr(d,u,3,r,h):p))return!1}}return!0}function Nr(e){return!(!ea(e)||(t=e,Le&&Le in t))&&(Xs(e)?ze:ye).test(Fi(e));var t}function Mr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Ws(e)?zr(e[0],e[1]):$r(e):hl(e)}function Or(e){if(!Si(e))return $t(e);var t=[];for(var n in ke(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var n in ke(e))t.push(n);return t}(e);var t=Si(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function Ur(e,t){var r=-1,o=qs(e)?n(e.length):[];return hr(e,(function(e,n,i){o[++r]=t(e,n,i)})),o}function $r(e){var t=di(e);return 1==t.length&&t[0][2]?ki(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function zr(e,t){return xi(e)&&Ci(t)?ki(Li(e),t):function(n){var r=ka(n,e);return r===o&&r===t?Ta(n,e):jr(t,r,3)}}function Br(e,t,n,r,i){e!==t&&yr(t,(function(s,a){if(i||(i=new Yn),ea(s))!function(e,t,n,r,i,s,a){var l=Ii(e,n),c=Ii(t,n),u=a.get(c);if(u)return void er(e,n,u);var d=s?s(l,c,n+"",e,t,a):o,h=d===o;if(h){var p=Ws(c),f=!p&&Ks(c),m=!p&&!f&&ca(c);d=c,p||f||m?Ws(l)?d=l:Gs(l)?d=Ro(l):f?(h=!1,d=So(c,!0)):m?(h=!1,d=ko(c,!0)):d=[]:oa(c)||Vs(c)?(d=l,Vs(l)?d=va(l):ea(l)&&!Xs(l)||(d=vi(c))):h=!1}h&&(a.set(c,d),i(d,c,r,s,a),a.delete(c));er(e,n,d)}(e,t,a,n,Br,r,i);else{var l=r?r(Ii(e,a),s,a+"",e,t,i):o;l===o&&(l=s),er(e,a,l)}}),ja)}function Vr(e,t){var n=e.length;if(n)return bi(t+=t<0?n:0,n)?e[t]:o}function Wr(e,t,n){t=t.length?Mt(t,(function(e){return Ws(e)?function(t){return _r(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=Mt(t,Zt(ci()));var o=Ur(e,(function(e,n,o){var i=Mt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;for(;++r<s;){var l=To(o[r],i[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=_r(e,s);n(a,s)&&Zr(i,wo(s,e),a)}return i}function qr(e,t,n,r){var o=r?Wt:Vt,i=-1,s=t.length,a=e;for(e===t&&(t=Ro(t)),n&&(a=Mt(e,Zt(n)));++i<s;)for(var l=0,c=t[i],u=n?n(c):c;(l=o(a,u,l,r))>-1;)a!==e&&Ye.call(a,l,1),Ye.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;bi(o)?Ye.call(e,o,1):ho(e,o)}}return e}function Kr(e,t){return e+ft(An()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=ft(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return ji(Ti(e,t,rl),e+"")}function Xr(e){return Xn($a(e))}function Jr(e,t){var n=$a(e);return Mi(n,ar(t,0,n.length))}function Zr(e,t,n,r){if(!ea(e))return e;for(var i=-1,s=(t=wo(t,e)).length,a=s-1,l=e;null!=l&&++i<s;){var c=Li(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var d=l[c];(u=r?r(d,c,l):o)===o&&(u=ea(d)?d:bi(t[i+1])?[]:{})}tr(l,c,u),l=l[c]}return e}var eo=Rn?function(e,t){return Rn.set(e,t),e}:rl,to=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function no(e){return Mi($a(e))}function ro(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=n(i);++o<i;)s[o]=e[o+t];return s}function oo(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function io(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=e[i];null!==s&&!la(s)&&(n?s<=t:s<t)?r=i+1:o=i}return o}return so(e,t,rl,n)}function so(e,t,n,r){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!==t,l=null===t,c=la(t),u=t===o;i<s;){var d=ft((i+s)/2),h=n(e[d]),p=h!==o,f=null===h,m=h===h,g=la(h);if(a)var v=r||m;else v=u?m&&(r||p):l?m&&p&&(r||!f):c?m&&p&&!f&&(r||!g):!f&&!g&&(r?h<=t:h<t);v?i=d+1:s=d}return bn(s,4294967294)}function ao(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!$s(a,l)){var l=a;i[o++]=0===s?0:s}}return i}function lo(e){return"number"==typeof e?e:la(e)?m:+e}function co(e){if("string"==typeof e)return e;if(Ws(e))return Mt(e,co)+"";if(la(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function uo(e,t,n){var r=-1,o=Dt,i=e.length,s=!0,a=[],l=a;if(n)s=!1,o=Nt;else if(i>=200){var c=t?null:Qo(e);if(c)return hn(c);s=!1,o=tn,l=new Kn}else l=t?[]:a;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else o(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function ho(e,t){return null==(e=Ei(e,t=wo(t,e)))||delete e[Li(Qi(t))]}function po(e,t,n,r){return Zr(e,t,n(_r(e,t)),r)}function fo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?ro(e,r?0:i,r?i+1:o):ro(e,r?i+1:0,r?o:i)}function mo(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Ot([e],t.args))}),n)}function go(e,t,r){var o=e.length;if(o<2)return o?uo(e[0]):[];for(var i=-1,s=n(o);++i<o;)for(var a=e[i],l=-1;++l<o;)l!=i&&(s[i]=dr(s[i]||a,e[l],t,r));return uo(vr(s,1),t,r)}function vo(e,t,n){for(var r=-1,i=e.length,s=t.length,a={};++r<i;){var l=r<s?t[r]:o;n(a,e[r],l)}return a}function yo(e){return Gs(e)?e:[]}function bo(e){return"function"==typeof e?e:rl}function wo(e,t){return Ws(e)?e:xi(e,t)?[e]:Oi(ya(e))}var xo=Qr;function Ao(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:ro(e,t,n)}var _o=nt||function(e){return mt.clearTimeout(e)};function So(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Co(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function ko(e,t){var n=t?Co(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function To(e,t){if(e!==t){var n=e!==o,r=null===e,i=e===e,s=la(e),a=t!==o,l=null===t,c=t===t,u=la(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||l&&n&&i||!a&&i||!c)return-1}return 0}function Eo(e,t,r,o){for(var i=-1,s=e.length,a=r.length,l=-1,c=t.length,u=Kt(s-a,0),d=n(c+u),h=!o;++l<c;)d[l]=t[l];for(;++i<a;)(h||i<s)&&(d[r[i]]=e[i]);for(;u--;)d[l++]=e[i++];return d}function Io(e,t,r,o){for(var i=-1,s=e.length,a=-1,l=r.length,c=-1,u=t.length,d=Kt(s-l,0),h=n(d+u),p=!o;++i<d;)h[i]=e[i];for(var f=i;++c<u;)h[f+c]=t[c];for(;++a<l;)(p||i<s)&&(h[f+r[a]]=e[i++]);return h}function Ro(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function Po(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=r?r(n[l],e[l],l,n,e):o;c===o&&(c=e[l]),i?ir(n,l,c):tr(n,l,c)}return n}function jo(e,t){return function(n,r){var o=Ws(n)?Et:rr,i=t?t():{};return o(n,e,ci(r,2),i)}}function Do(e){return Qr((function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=e.length>3&&"function"==typeof s?(i--,s):o,a&&wi(n[0],n[1],a)&&(s=i<3?o:s,i=1),t=ke(t);++r<i;){var l=n[r];l&&e(t,l,r,s)}return t}))}function No(e,t){return function(n,r){if(null==n)return n;if(!qs(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=ke(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function Mo(e){return function(t,n,r){for(var o=-1,i=ke(t),s=r(t),a=s.length;a--;){var l=s[e?a:++o];if(!1===n(i[l],l,i))break}return t}}function Oo(e){return function(t){var n=ln(t=ya(t))?mn(t):o,r=n?n[0]:t.charAt(0),i=n?Ao(n,1).join(""):t.slice(1);return r[e]()+i}}function Lo(e){return function(t){return Lt(Xa(Va(t).replace(et,"")),e,"")}}function Fo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return ea(r)?r:n}}function Uo(e){return function(t,n,r){var i=ke(t);if(!qs(t)){var s=ci(n,3);t=Pa(t),n=function(e){return s(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[s?t[a]:a]:o}}function $o(e){return ri((function(t){var n=t.length,r=n,s=Vn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ie(i);if(s&&!l&&"wrapper"==ai(a))var l=new Vn([],!0)}for(r=l?r:n;++r<n;){var c=ai(a=t[r]),u="wrapper"==c?si(a):o;l=u&&Ai(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[ai(u[0])].apply(l,u[3]):1==a.length&&Ai(a)?l[c]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Ws(r))return l.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function zo(e,t,r,i,s,a,l,c,u,h){var p=t&d,f=1&t,m=2&t,g=24&t,v=512&t,y=m?o:Fo(e);return function d(){for(var b=arguments.length,w=n(b),x=b;x--;)w[x]=arguments[x];if(g)var A=li(d),_=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,A);if(i&&(w=Eo(w,i,s,g)),a&&(w=Io(w,a,l,g)),b-=_,g&&b<h){var S=dn(w,A);return Ko(e,t,zo,d.placeholder,r,w,S,c,u,h-b)}var C=f?r:this,k=m?C[e]:e;return b=w.length,c?w=function(e,t){var n=e.length,r=bn(t.length,n),i=Ro(e);for(;r--;){var s=t[r];e[r]=bi(s,n)?i[s]:o}return e}(w,c):v&&b>1&&w.reverse(),p&&u<b&&(w.length=u),this&&this!==mt&&this instanceof d&&(k=y||Fo(k)),k.apply(C,w)}}function Bo(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Vo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=co(n),r=co(r)):(n=lo(n),r=lo(r)),i=e(n,r)}return i}}function Wo(e){return ri((function(t){return t=Mt(t,Zt(ci())),Qr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Ho(e,t){var n=(t=t===o?" ":co(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,pt(e/fn(t)));return ln(t)?Ao(mn(r),0,e).join(""):r.slice(0,e)}function qo(e){return function(t,r,i){return i&&"number"!=typeof i&&wi(t,r,i)&&(r=i=o),t=pa(t),r===o?(r=t,t=0):r=pa(r),function(e,t,r,o){for(var i=-1,s=Kt(pt((t-e)/(r||1)),0),a=n(s);s--;)a[o?s:++i]=e,e+=r;return a}(t,r,i=i===o?t<r?1:-1:pa(i),e)}}function Go(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ga(t),n=ga(n)),e(t,n)}}function Ko(e,t,n,r,i,s,a,l,d,h){var p=8&t;t|=p?c:u,4&(t&=~(p?u:c))||(t&=-4);var f=[e,t,i,p?s:o,p?a:o,p?o:s,p?o:a,l,d,h],m=n.apply(o,f);return Ai(e)&&Ri(m,f),m.placeholder=r,Di(m,e,t)}function Yo(e){var t=Ce[e];return function(e,n){if(e=ga(e),(n=null==n?0:bn(fa(n),292))&&bt(e)){var r=(ya(e)+"e").split("e");return+((r=(ya(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qo=Tn&&1/hn(new Tn([,-0]))[1]==p?function(e){return new Tn(e)}:ll;function Xo(e){return function(t){var n=mi(t);return n==C?cn(t):n==R?pn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Jo(e,t,r,s,p,f,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Ie(i);var y=s?s.length:0;if(y||(t&=-97,s=p=o),m=m===o?m:Kt(fa(m),0),g=g===o?g:fa(g),y-=p?p.length:0,t&u){var b=s,w=p;s=p=o}var x=v?o:si(e),A=[e,t,r,s,p,b,w,f,m,g];if(x&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,s=r==d&&8==n||r==d&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!s)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Eo(c,l,t[4]):l,e[4]=c?dn(e[3],a):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Io(c,l,t[6]):l,e[6]=c?dn(e[5],a):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(A,x),e=A[0],t=A[1],r=A[2],s=A[3],p=A[4],!(g=A[9]=A[9]===o?v?0:e.length:Kt(A[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||t==l?function(e,t,r){var i=Fo(e);return function s(){for(var a=arguments.length,l=n(a),c=a,u=li(s);c--;)l[c]=arguments[c];var d=a<3&&l[0]!==u&&l[a-1]!==u?[]:dn(l,u);return(a-=d.length)<r?Ko(e,t,zo,s.placeholder,o,l,d,o,o,r-a):Tt(this&&this!==mt&&this instanceof s?i:e,this,l)}}(e,t,g):t!=c&&33!=t||p.length?zo.apply(o,A):function(e,t,r,o){var i=1&t,s=Fo(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=o.length,d=n(u+l),h=this&&this!==mt&&this instanceof t?s:e;++c<u;)d[c]=o[c];for(;l--;)d[c++]=arguments[++a];return Tt(h,i?r:this,d)}}(e,t,r,s);else var _=function(e,t,n){var r=1&t,o=Fo(e);return function t(){return(this&&this!==mt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,r);return Di((x?eo:Ri)(_,A),e,t)}function Zo(e,t,n,r){return e===o||$s(e,je[n])&&!Me.call(r,n)?t:e}function ei(e,t,n,r,i,s){return ea(e)&&ea(t)&&(s.set(t,e),Br(e,t,o,ei,s),s.delete(t)),e}function ti(e){return oa(e)?o:e}function ni(e,t,n,r,i,s){var a=1&n,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var h=-1,p=!0,f=2&n?new Kn:o;for(s.set(e,t),s.set(t,e);++h<l;){var m=e[h],g=t[h];if(r)var v=a?r(g,m,h,t,e,s):r(m,g,h,e,t,s);if(v!==o){if(v)continue;p=!1;break}if(f){if(!Ut(t,(function(e,t){if(!tn(f,t)&&(m===e||i(m,e,n,r,s)))return f.push(t)}))){p=!1;break}}else if(m!==g&&!i(m,g,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function ri(e){return ji(Ti(e,o,Hi),e+"")}function oi(e){return Sr(e,Pa,pi)}function ii(e){return Sr(e,ja,fi)}var si=Rn?function(e){return Rn.get(e)}:ll;function ai(e){for(var t=e.name+"",n=Pn[t],r=Me.call(Pn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function li(e){return(Me.call($n,"placeholder")?$n:e).placeholder}function ci(){var e=$n.iteratee||ol;return e=e===ol?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function ui(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function di(e){for(var t=Pa(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ci(o)]}return t}function hi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Nr(n)?n:o}var pi=gt?function(e){return null==e?[]:(e=ke(e),jt(gt(e),(function(t){return Ke.call(e,t)})))}:ml,fi=gt?function(e){for(var t=[];e;)Ot(t,pi(e)),e=qe(e);return t}:ml,mi=Cr;function gi(e,t,n){for(var r=-1,o=(t=wo(t,e)).length,i=!1;++r<o;){var s=Li(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Zs(o)&&bi(s,o)&&(Ws(e)||Vs(e))}function vi(e){return"function"!=typeof e.constructor||Si(e)?{}:zn(qe(e))}function yi(e){return Ws(e)||Vs(e)||!!(Qe&&e&&e[Qe])}function bi(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function wi(e,t,n){if(!ea(n))return!1;var r=typeof t;return!!("number"==r?qs(n)&&bi(t,n.length):"string"==r&&t in n)&&$s(n[t],e)}function xi(e,t){if(Ws(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!la(e))||(ne.test(e)||!te.test(e)||null!=t&&e in ke(t))}function Ai(e){var t=ai(e),n=$n[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(Sn&&mi(new Sn(new ArrayBuffer(1)))!=M||Cn&&mi(new Cn)!=C||kn&&mi(kn.resolve())!=E||Tn&&mi(new Tn)!=R||En&&mi(new En)!=D)&&(mi=function(e){var t=Cr(e),n=t==T?e.constructor:o,r=n?Fi(n):"";if(r)switch(r){case jn:return M;case Dn:return C;case Nn:return E;case Mn:return R;case On:return D}return t});var _i=De?Xs:gl;function Si(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||je)}function Ci(e){return e===e&&!ea(e)}function ki(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in ke(n)))}}function Ti(e,t,r){return t=Kt(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=Kt(o.length-t,0),a=n(s);++i<s;)a[i]=o[t+i];i=-1;for(var l=n(t+1);++i<t;)l[i]=o[i];return l[t]=r(a),Tt(e,this,l)}}function Ei(e,t){return t.length<2?e:_r(e,ro(t,0,-1))}function Ii(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ri=Ni(eo),Pi=ut||function(e,t){return mt.setTimeout(e,t)},ji=Ni(to);function Di(e,t,n){var r=t+"";return ji(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return It(v,(function(n){var r="_."+n[0];t&n[1]&&!Dt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function Ni(e){var t=0,n=0;return function(){var r=wn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Mi(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var s=Kr(n,i),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Oi=function(e){var t=Ns(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(pe,"$1"):n||e)})),t}));function Li(e){if("string"==typeof e||la(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fi(e){if(null!=e){try{return Ne.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ui(e){if(e instanceof Wn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=Ro(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $i=Qr((function(e,t){return Gs(e)?dr(e,vr(t,1,Gs,!0)):[]})),zi=Qr((function(e,t){var n=Qi(t);return Gs(n)&&(n=o),Gs(e)?dr(e,vr(t,1,Gs,!0),ci(n,2)):[]})),Bi=Qr((function(e,t){var n=Qi(t);return Gs(n)&&(n=o),Gs(e)?dr(e,vr(t,1,Gs,!0),o,n):[]}));function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:fa(n);return o<0&&(o=Kt(r+o,0)),Bt(e,ci(t,3),o)}function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=fa(n),i=n<0?Kt(r+i,0):bn(i,r-1)),Bt(e,ci(t,3),i,!0)}function Hi(e){return(null==e?0:e.length)?vr(e,1):[]}function qi(e){return e&&e.length?e[0]:o}var Gi=Qr((function(e){var t=Mt(e,yo);return t.length&&t[0]===e[0]?Ir(t):[]})),Ki=Qr((function(e){var t=Qi(e),n=Mt(e,yo);return t===Qi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Ir(n,ci(t,2)):[]})),Yi=Qr((function(e){var t=Qi(e),n=Mt(e,yo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Ir(n,o,t):[]}));function Qi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Xi=Qr(Ji);function Ji(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var Zi=ri((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Gr(e,Mt(t,(function(e){return bi(e,n)?+e:e})).sort(To)),r}));function es(e){return null==e?e:_n.call(e)}var ts=Qr((function(e){return uo(vr(e,1,Gs,!0))})),ns=Qr((function(e){var t=Qi(e);return Gs(t)&&(t=o),uo(vr(e,1,Gs,!0),ci(t,2))})),rs=Qr((function(e){var t=Qi(e);return t="function"==typeof t?t:o,uo(vr(e,1,Gs,!0),o,t)}));function os(e){if(!e||!e.length)return[];var t=0;return e=jt(e,(function(e){if(Gs(e))return t=Kt(e.length,t),!0})),Xt(t,(function(t){return Mt(e,Gt(t))}))}function is(e,t){if(!e||!e.length)return[];var n=os(e);return null==t?n:Mt(n,(function(e){return Tt(t,o,e)}))}var ss=Qr((function(e,t){return Gs(e)?dr(e,t):[]})),as=Qr((function(e){return go(jt(e,Gs))})),ls=Qr((function(e){var t=Qi(e);return Gs(t)&&(t=o),go(jt(e,Gs),ci(t,2))})),cs=Qr((function(e){var t=Qi(e);return t="function"==typeof t?t:o,go(jt(e,Gs),o,t)})),us=Qr(os);var ds=Qr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,is(e,n)}));function hs(e){var t=$n(e);return t.__chain__=!0,t}function ps(e,t){return t(e)}var fs=ri((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&bi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ps,args:[i],thisArg:o}),new Vn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ms=jo((function(e,t,n){Me.call(e,n)?++e[n]:ir(e,n,1)}));var gs=Uo(Vi),vs=Uo(Wi);function ys(e,t){return(Ws(e)?It:hr)(e,ci(t,3))}function bs(e,t){return(Ws(e)?Rt:pr)(e,ci(t,3))}var ws=jo((function(e,t,n){Me.call(e,n)?e[n].push(t):ir(e,n,[t])}));var xs=Qr((function(e,t,r){var o=-1,i="function"==typeof t,s=qs(e)?n(e.length):[];return hr(e,(function(e){s[++o]=i?Tt(t,e,r):Rr(e,t,r)})),s})),As=jo((function(e,t,n){ir(e,n,t)}));function _s(e,t){return(Ws(e)?Mt:Ur)(e,ci(t,3))}var Ss=jo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Cs=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wi(e,t[0],t[1])?t=[]:n>2&&wi(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,vr(t,1),[])})),ks=ot||function(){return mt.Date.now()};function Ts(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Jo(e,d,o,o,o,o,t)}function Es(e,t){var n;if("function"!=typeof t)throw new Ie(i);return e=fa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Is=Qr((function(e,t,n){var r=1;if(n.length){var o=dn(n,li(Is));r|=c}return Jo(e,r,t,n,o)})),Rs=Qr((function(e,t,n){var r=3;if(n.length){var o=dn(n,li(Rs));r|=c}return Jo(t,r,e,n,o)}));function Ps(e,t,n){var r,s,a,l,c,u,d=0,h=!1,p=!1,f=!0;if("function"!=typeof e)throw new Ie(i);function m(t){var n=r,i=s;return r=s=o,d=t,l=e.apply(i,n)}function g(e){var n=e-u;return u===o||n>=t||n<0||p&&e-d>=a}function v(){var e=ks();if(g(e))return y(e);c=Pi(v,function(e){var n=t-(e-u);return p?bn(n,a-(e-d)):n}(e))}function y(e){return c=o,f&&r?m(e):(r=s=o,l)}function b(){var e=ks(),n=g(e);if(r=arguments,s=this,u=e,n){if(c===o)return function(e){return d=e,c=Pi(v,t),h?m(e):l}(u);if(p)return _o(c),c=Pi(v,t),m(u)}return c===o&&(c=Pi(v,t)),l}return t=ga(t)||0,ea(n)&&(h=!!n.leading,a=(p="maxWait"in n)?Kt(ga(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),b.cancel=function(){c!==o&&_o(c),d=0,r=u=s=c=o},b.flush=function(){return c===o?l:y(ks())},b}var js=Qr((function(e,t){return ur(e,1,t)})),Ds=Qr((function(e,t,n){return ur(e,ga(t)||0,n)}));function Ns(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(Ns.Cache||Gn),n}function Ms(e){if("function"!=typeof e)throw new Ie(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ns.Cache=Gn;var Os=xo((function(e,t){var n=(t=1==t.length&&Ws(t[0])?Mt(t[0],Zt(ci())):Mt(vr(t,1),Zt(ci()))).length;return Qr((function(r){for(var o=-1,i=bn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Tt(e,this,r)}))})),Ls=Qr((function(e,t){var n=dn(t,li(Ls));return Jo(e,c,o,t,n)})),Fs=Qr((function(e,t){var n=dn(t,li(Fs));return Jo(e,u,o,t,n)})),Us=ri((function(e,t){return Jo(e,h,o,o,o,t)}));function $s(e,t){return e===t||e!==e&&t!==t}var zs=Go(kr),Bs=Go((function(e,t){return e>=t})),Vs=Pr(function(){return arguments}())?Pr:function(e){return ta(e)&&Me.call(e,"callee")&&!Ke.call(e,"callee")},Ws=n.isArray,Hs=xt?Zt(xt):function(e){return ta(e)&&Cr(e)==N};function qs(e){return null!=e&&Zs(e.length)&&!Xs(e)}function Gs(e){return ta(e)&&qs(e)}var Ks=vt||gl,Ys=At?Zt(At):function(e){return ta(e)&&Cr(e)==x};function Qs(e){if(!ta(e))return!1;var t=Cr(e);return t==A||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oa(e)}function Xs(e){if(!ea(e))return!1;var t=Cr(e);return t==_||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Js(e){return"number"==typeof e&&e==fa(e)}function Zs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var na=_t?Zt(_t):function(e){return ta(e)&&mi(e)==C};function ra(e){return"number"==typeof e||ta(e)&&Cr(e)==k}function oa(e){if(!ta(e)||Cr(e)!=T)return!1;var t=qe(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==Ue}var ia=St?Zt(St):function(e){return ta(e)&&Cr(e)==I};var sa=Ct?Zt(Ct):function(e){return ta(e)&&mi(e)==R};function aa(e){return"string"==typeof e||!Ws(e)&&ta(e)&&Cr(e)==P}function la(e){return"symbol"==typeof e||ta(e)&&Cr(e)==j}var ca=kt?Zt(kt):function(e){return ta(e)&&Zs(e.length)&&!!lt[Cr(e)]};var ua=Go(Fr),da=Go((function(e,t){return e<=t}));function ha(e){if(!e)return[];if(qs(e))return aa(e)?mn(e):Ro(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=mi(e);return(t==C?cn:t==R?hn:$a)(e)}function pa(e){return e?(e=ga(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function fa(e){var t=pa(e),n=t%1;return t===t?n?t-n:t:0}function ma(e){return e?ar(fa(e),0,g):0}function ga(e){if("number"==typeof e)return e;if(la(e))return m;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=ve.test(e);return n||be.test(e)?ht(e.slice(2),n?2:8):ge.test(e)?m:+e}function va(e){return Po(e,ja(e))}function ya(e){return null==e?"":co(e)}var ba=Do((function(e,t){if(Si(t)||qs(t))Po(t,Pa(t),e);else for(var n in t)Me.call(t,n)&&tr(e,n,t[n])})),wa=Do((function(e,t){Po(t,ja(t),e)})),xa=Do((function(e,t,n,r){Po(t,ja(t),e,r)})),Aa=Do((function(e,t,n,r){Po(t,Pa(t),e,r)})),_a=ri(sr);var Sa=Qr((function(e,t){e=ke(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&wi(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],a=ja(s),l=-1,c=a.length;++l<c;){var u=a[l],d=e[u];(d===o||$s(d,je[u])&&!Me.call(e,u))&&(e[u]=s[u])}return e})),Ca=Qr((function(e){return e.push(o,ei),Tt(Na,o,e)}));function ka(e,t,n){var r=null==e?o:_r(e,t);return r===o?n:r}function Ta(e,t){return null!=e&&gi(e,t,Er)}var Ea=Bo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),el(rl)),Ia=Bo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),ci),Ra=Qr(Rr);function Pa(e){return qs(e)?Qn(e):Or(e)}function ja(e){return qs(e)?Qn(e,!0):Lr(e)}var Da=Do((function(e,t,n){Br(e,t,n)})),Na=Do((function(e,t,n,r){Br(e,t,n,r)})),Ma=ri((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=wo(t,e),r||(r=t.length>1),t})),Po(e,ii(e),n),r&&(n=lr(n,7,ti));for(var o=t.length;o--;)ho(n,t[o]);return n}));var Oa=ri((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Ta(e,n)}))}(e,t)}));function La(e,t){if(null==e)return{};var n=Mt(ii(e),(function(e){return[e]}));return t=ci(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Fa=Xo(Pa),Ua=Xo(ja);function $a(e){return null==e?[]:en(e,Pa(e))}var za=Lo((function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)}));function Ba(e){return Qa(ya(e).toLowerCase())}function Va(e){return(e=ya(e))&&e.replace(xe,on).replace(tt,"")}var Wa=Lo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ha=Lo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qa=Oo("toLowerCase");var Ga=Lo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ka=Lo((function(e,t,n){return e+(n?" ":"")+Qa(t)}));var Ya=Lo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qa=Oo("toUpperCase");function Xa(e,t,n){return e=ya(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Ja=Qr((function(e,t){try{return Tt(e,o,t)}catch(n){return Qs(n)?n:new ae(n)}})),Za=ri((function(e,t){return It(t,(function(t){t=Li(t),ir(e,t,Is(e[t],e))})),e}));function el(e){return function(){return e}}var tl=$o(),nl=$o(!0);function rl(e){return e}function ol(e){return Mr("function"==typeof e?e:lr(e,1))}var il=Qr((function(e,t){return function(n){return Rr(n,e,t)}})),sl=Qr((function(e,t){return function(n){return Rr(e,n,t)}}));function al(e,t,n){var r=Pa(t),o=Ar(t,r);null!=n||ea(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Ar(t,Pa(t)));var i=!(ea(n)&&"chain"in n)||!!n.chain,s=Xs(e);return It(o,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Ro(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ot([this.value()],arguments))})})),e}function ll(){}var cl=Wo(Mt),ul=Wo(Pt),dl=Wo(Ut);function hl(e){return xi(e)?Gt(Li(e)):function(e){return function(t){return _r(t,e)}}(e)}var pl=qo(),fl=qo(!0);function ml(){return[]}function gl(){return!1}var vl=Vo((function(e,t){return e+t}),0),yl=Yo("ceil"),bl=Vo((function(e,t){return e/t}),1),wl=Yo("floor");var xl=Vo((function(e,t){return e*t}),1),Al=Yo("round"),_l=Vo((function(e,t){return e-t}),0);return $n.after=function(e,t){if("function"!=typeof t)throw new Ie(i);return e=fa(e),function(){if(--e<1)return t.apply(this,arguments)}},$n.ary=Ts,$n.assign=ba,$n.assignIn=wa,$n.assignInWith=xa,$n.assignWith=Aa,$n.at=_a,$n.before=Es,$n.bind=Is,$n.bindAll=Za,$n.bindKey=Rs,$n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ws(e)?e:[e]},$n.chain=hs,$n.chunk=function(e,t,r){t=(r?wi(e,t,r):t===o)?1:Kt(fa(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,a=0,l=n(pt(i/t));s<i;)l[a++]=ro(e,s,s+=t);return l},$n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},$n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Ot(Ws(r)?Ro(r):[r],vr(t,1))},$n.cond=function(e){var t=null==e?0:e.length,n=ci();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Ie(i);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var o=e[r];if(Tt(o[0],this,n))return Tt(o[1],this,n)}}))},$n.conforms=function(e){return function(e){var t=Pa(e);return function(n){return cr(n,e,t)}}(lr(e,1))},$n.constant=el,$n.countBy=ms,$n.create=function(e,t){var n=zn(e);return null==t?n:or(n,t)},$n.curry=function e(t,n,r){var i=Jo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.curryRight=function e(t,n,r){var i=Jo(t,l,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.debounce=Ps,$n.defaults=Sa,$n.defaultsDeep=Ca,$n.defer=js,$n.delay=Ds,$n.difference=$i,$n.differenceBy=zi,$n.differenceWith=Bi,$n.drop=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,(t=n||t===o?1:fa(t))<0?0:t,r):[]},$n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,0,(t=r-(t=n||t===o?1:fa(t)))<0?0:t):[]},$n.dropRightWhile=function(e,t){return e&&e.length?fo(e,ci(t,3),!0,!0):[]},$n.dropWhile=function(e,t){return e&&e.length?fo(e,ci(t,3),!0):[]},$n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&wi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=fa(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:fa(r))<0&&(r+=i),r=n>r?0:ma(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},$n.filter=function(e,t){return(Ws(e)?jt:gr)(e,ci(t,3))},$n.flatMap=function(e,t){return vr(_s(e,t),1)},$n.flatMapDeep=function(e,t){return vr(_s(e,t),p)},$n.flatMapDepth=function(e,t,n){return n=n===o?1:fa(n),vr(_s(e,t),n)},$n.flatten=Hi,$n.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,p):[]},$n.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===o?1:fa(t)):[]},$n.flip=function(e){return Jo(e,512)},$n.flow=tl,$n.flowRight=nl,$n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},$n.functions=function(e){return null==e?[]:Ar(e,Pa(e))},$n.functionsIn=function(e){return null==e?[]:Ar(e,ja(e))},$n.groupBy=ws,$n.initial=function(e){return(null==e?0:e.length)?ro(e,0,-1):[]},$n.intersection=Gi,$n.intersectionBy=Ki,$n.intersectionWith=Yi,$n.invert=Ea,$n.invertBy=Ia,$n.invokeMap=xs,$n.iteratee=ol,$n.keyBy=As,$n.keys=Pa,$n.keysIn=ja,$n.map=_s,$n.mapKeys=function(e,t){var n={};return t=ci(t,3),wr(e,(function(e,r,o){ir(n,t(e,r,o),e)})),n},$n.mapValues=function(e,t){var n={};return t=ci(t,3),wr(e,(function(e,r,o){ir(n,r,t(e,r,o))})),n},$n.matches=function(e){return $r(lr(e,1))},$n.matchesProperty=function(e,t){return zr(e,lr(t,1))},$n.memoize=Ns,$n.merge=Da,$n.mergeWith=Na,$n.method=il,$n.methodOf=sl,$n.mixin=al,$n.negate=Ms,$n.nthArg=function(e){return e=fa(e),Qr((function(t){return Vr(t,e)}))},$n.omit=Ma,$n.omitBy=function(e,t){return La(e,Ms(ci(t)))},$n.once=function(e){return Es(2,e)},$n.orderBy=function(e,t,n,r){return null==e?[]:(Ws(t)||(t=null==t?[]:[t]),Ws(n=r?o:n)||(n=null==n?[]:[n]),Wr(e,t,n))},$n.over=cl,$n.overArgs=Os,$n.overEvery=ul,$n.overSome=dl,$n.partial=Ls,$n.partialRight=Fs,$n.partition=Ss,$n.pick=Oa,$n.pickBy=La,$n.property=hl,$n.propertyOf=function(e){return function(t){return null==e?o:_r(e,t)}},$n.pull=Xi,$n.pullAll=Ji,$n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,ci(n,2)):e},$n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,o,n):e},$n.pullAt=Zi,$n.range=pl,$n.rangeRight=fl,$n.rearg=Us,$n.reject=function(e,t){return(Ws(e)?jt:gr)(e,Ms(ci(t,3)))},$n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ci(t,3);++r<i;){var s=e[r];t(s,r,e)&&(n.push(s),o.push(r))}return Gr(e,o),n},$n.rest=function(e,t){if("function"!=typeof e)throw new Ie(i);return Qr(e,t=t===o?t:fa(t))},$n.reverse=es,$n.sampleSize=function(e,t,n){return t=(n?wi(e,t,n):t===o)?1:fa(t),(Ws(e)?Jn:Jr)(e,t)},$n.set=function(e,t,n){return null==e?e:Zr(e,t,n)},$n.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Zr(e,t,n,r)},$n.shuffle=function(e){return(Ws(e)?Zn:no)(e)},$n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wi(e,t,n)?(t=0,n=r):(t=null==t?0:fa(t),n=n===o?r:fa(n)),ro(e,t,n)):[]},$n.sortBy=Cs,$n.sortedUniq=function(e){return e&&e.length?ao(e):[]},$n.sortedUniqBy=function(e,t){return e&&e.length?ao(e,ci(t,2)):[]},$n.split=function(e,t,n){return n&&"number"!=typeof n&&wi(e,t,n)&&(t=n=o),(n=n===o?g:n>>>0)?(e=ya(e))&&("string"==typeof t||null!=t&&!ia(t))&&!(t=co(t))&&ln(e)?Ao(mn(e),0,n):e.split(t,n):[]},$n.spread=function(e,t){if("function"!=typeof e)throw new Ie(i);return t=null==t?0:Kt(fa(t),0),Qr((function(n){var r=n[t],o=Ao(n,0,t);return r&&Ot(o,r),Tt(e,this,o)}))},$n.tail=function(e){var t=null==e?0:e.length;return t?ro(e,1,t):[]},$n.take=function(e,t,n){return e&&e.length?ro(e,0,(t=n||t===o?1:fa(t))<0?0:t):[]},$n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,(t=r-(t=n||t===o?1:fa(t)))<0?0:t,r):[]},$n.takeRightWhile=function(e,t){return e&&e.length?fo(e,ci(t,3),!1,!0):[]},$n.takeWhile=function(e,t){return e&&e.length?fo(e,ci(t,3)):[]},$n.tap=function(e,t){return t(e),e},$n.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Ie(i);return ea(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ps(e,t,{leading:r,maxWait:t,trailing:o})},$n.thru=ps,$n.toArray=ha,$n.toPairs=Fa,$n.toPairsIn=Ua,$n.toPath=function(e){return Ws(e)?Mt(e,Li):la(e)?[e]:Ro(Oi(ya(e)))},$n.toPlainObject=va,$n.transform=function(e,t,n){var r=Ws(e),o=r||Ks(e)||ca(e);if(t=ci(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ea(e)&&Xs(i)?zn(qe(e)):{}}return(o?It:wr)(e,(function(e,r,o){return t(n,e,r,o)})),n},$n.unary=function(e){return Ts(e,1)},$n.union=ts,$n.unionBy=ns,$n.unionWith=rs,$n.uniq=function(e){return e&&e.length?uo(e):[]},$n.uniqBy=function(e,t){return e&&e.length?uo(e,ci(t,2)):[]},$n.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?uo(e,o,t):[]},$n.unset=function(e,t){return null==e||ho(e,t)},$n.unzip=os,$n.unzipWith=is,$n.update=function(e,t,n){return null==e?e:po(e,t,bo(n))},$n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:po(e,t,bo(n),r)},$n.values=$a,$n.valuesIn=function(e){return null==e?[]:en(e,ja(e))},$n.without=ss,$n.words=Xa,$n.wrap=function(e,t){return Ls(bo(t),e)},$n.xor=as,$n.xorBy=ls,$n.xorWith=cs,$n.zip=us,$n.zipObject=function(e,t){return vo(e||[],t||[],tr)},$n.zipObjectDeep=function(e,t){return vo(e||[],t||[],Zr)},$n.zipWith=ds,$n.entries=Fa,$n.entriesIn=Ua,$n.extend=wa,$n.extendWith=xa,al($n,$n),$n.add=vl,$n.attempt=Ja,$n.camelCase=za,$n.capitalize=Ba,$n.ceil=yl,$n.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ga(n))===n?n:0),t!==o&&(t=(t=ga(t))===t?t:0),ar(ga(e),t,n)},$n.clone=function(e){return lr(e,4)},$n.cloneDeep=function(e){return lr(e,5)},$n.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:o)},$n.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:o)},$n.conformsTo=function(e,t){return null==t||cr(e,t,Pa(t))},$n.deburr=Va,$n.defaultTo=function(e,t){return null==e||e!==e?t:e},$n.divide=bl,$n.endsWith=function(e,t,n){e=ya(e),t=co(t);var r=e.length,i=n=n===o?r:ar(fa(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},$n.eq=$s,$n.escape=function(e){return(e=ya(e))&&X.test(e)?e.replace(Y,sn):e},$n.escapeRegExp=function(e){return(e=ya(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},$n.every=function(e,t,n){var r=Ws(e)?Pt:fr;return n&&wi(e,t,n)&&(t=o),r(e,ci(t,3))},$n.find=gs,$n.findIndex=Vi,$n.findKey=function(e,t){return zt(e,ci(t,3),wr)},$n.findLast=vs,$n.findLastIndex=Wi,$n.findLastKey=function(e,t){return zt(e,ci(t,3),xr)},$n.floor=wl,$n.forEach=ys,$n.forEachRight=bs,$n.forIn=function(e,t){return null==e?e:yr(e,ci(t,3),ja)},$n.forInRight=function(e,t){return null==e?e:br(e,ci(t,3),ja)},$n.forOwn=function(e,t){return e&&wr(e,ci(t,3))},$n.forOwnRight=function(e,t){return e&&xr(e,ci(t,3))},$n.get=ka,$n.gt=zs,$n.gte=Bs,$n.has=function(e,t){return null!=e&&gi(e,t,Tr)},$n.hasIn=Ta,$n.head=qi,$n.identity=rl,$n.includes=function(e,t,n,r){e=qs(e)?e:$a(e),n=n&&!r?fa(n):0;var o=e.length;return n<0&&(n=Kt(o+n,0)),aa(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Vt(e,t,n)>-1},$n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:fa(n);return o<0&&(o=Kt(r+o,0)),Vt(e,t,o)},$n.inRange=function(e,t,n){return t=pa(t),n===o?(n=t,t=0):n=pa(n),function(e,t,n){return e>=bn(t,n)&&e<Kt(t,n)}(e=ga(e),t,n)},$n.invoke=Ra,$n.isArguments=Vs,$n.isArray=Ws,$n.isArrayBuffer=Hs,$n.isArrayLike=qs,$n.isArrayLikeObject=Gs,$n.isBoolean=function(e){return!0===e||!1===e||ta(e)&&Cr(e)==w},$n.isBuffer=Ks,$n.isDate=Ys,$n.isElement=function(e){return ta(e)&&1===e.nodeType&&!oa(e)},$n.isEmpty=function(e){if(null==e)return!0;if(qs(e)&&(Ws(e)||"string"==typeof e||"function"==typeof e.splice||Ks(e)||ca(e)||Vs(e)))return!e.length;var t=mi(e);if(t==C||t==R)return!e.size;if(Si(e))return!Or(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},$n.isEqual=function(e,t){return jr(e,t)},$n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?jr(e,t,o,n):!!r},$n.isError=Qs,$n.isFinite=function(e){return"number"==typeof e&&bt(e)},$n.isFunction=Xs,$n.isInteger=Js,$n.isLength=Zs,$n.isMap=na,$n.isMatch=function(e,t){return e===t||Dr(e,t,di(t))},$n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Dr(e,t,di(t),n)},$n.isNaN=function(e){return ra(e)&&e!=+e},$n.isNative=function(e){if(_i(e))throw new ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},$n.isNil=function(e){return null==e},$n.isNull=function(e){return null===e},$n.isNumber=ra,$n.isObject=ea,$n.isObjectLike=ta,$n.isPlainObject=oa,$n.isRegExp=ia,$n.isSafeInteger=function(e){return Js(e)&&e>=-9007199254740991&&e<=f},$n.isSet=sa,$n.isString=aa,$n.isSymbol=la,$n.isTypedArray=ca,$n.isUndefined=function(e){return e===o},$n.isWeakMap=function(e){return ta(e)&&mi(e)==D},$n.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==Cr(e)},$n.join=function(e,t){return null==e?"":wt.call(e,t)},$n.kebabCase=Wa,$n.last=Qi,$n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=fa(n))<0?Kt(r+i,0):bn(i,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Bt(e,Ht,i,!0)},$n.lowerCase=Ha,$n.lowerFirst=qa,$n.lt=ua,$n.lte=da,$n.max=function(e){return e&&e.length?mr(e,rl,kr):o},$n.maxBy=function(e,t){return e&&e.length?mr(e,ci(t,2),kr):o},$n.mean=function(e){return qt(e,rl)},$n.meanBy=function(e,t){return qt(e,ci(t,2))},$n.min=function(e){return e&&e.length?mr(e,rl,Fr):o},$n.minBy=function(e,t){return e&&e.length?mr(e,ci(t,2),Fr):o},$n.stubArray=ml,$n.stubFalse=gl,$n.stubObject=function(){return{}},$n.stubString=function(){return""},$n.stubTrue=function(){return!0},$n.multiply=xl,$n.nth=function(e,t){return e&&e.length?Vr(e,fa(t)):o},$n.noConflict=function(){return mt._===this&&(mt._=$e),this},$n.noop=ll,$n.now=ks,$n.pad=function(e,t,n){e=ya(e);var r=(t=fa(t))?fn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Ho(ft(o),n)+e+Ho(pt(o),n)},$n.padEnd=function(e,t,n){e=ya(e);var r=(t=fa(t))?fn(e):0;return t&&r<t?e+Ho(t-r,n):e},$n.padStart=function(e,t,n){e=ya(e);var r=(t=fa(t))?fn(e):0;return t&&r<t?Ho(t-r,n)+e:e},$n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(ya(e).replace(se,""),t||0)},$n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=pa(e),t===o?(t=e,e=0):t=pa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=An();return bn(e+i*(t-e+dt("1e-"+((i+"").length-1))),t)}return Kr(e,t)},$n.reduce=function(e,t,n){var r=Ws(e)?Lt:Yt,o=arguments.length<3;return r(e,ci(t,4),n,o,hr)},$n.reduceRight=function(e,t,n){var r=Ws(e)?Ft:Yt,o=arguments.length<3;return r(e,ci(t,4),n,o,pr)},$n.repeat=function(e,t,n){return t=(n?wi(e,t,n):t===o)?1:fa(t),Yr(ya(e),t)},$n.replace=function(){var e=arguments,t=ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},$n.result=function(e,t,n){var r=-1,i=(t=wo(t,e)).length;for(i||(i=1,e=o);++r<i;){var s=null==e?o:e[Li(t[r])];s===o&&(r=i,s=n),e=Xs(s)?s.call(e):s}return e},$n.round=Al,$n.runInContext=e,$n.sample=function(e){return(Ws(e)?Xn:Xr)(e)},$n.size=function(e){if(null==e)return 0;if(qs(e))return aa(e)?fn(e):e.length;var t=mi(e);return t==C||t==R?e.size:Or(e).length},$n.snakeCase=Ga,$n.some=function(e,t,n){var r=Ws(e)?Ut:oo;return n&&wi(e,t,n)&&(t=o),r(e,ci(t,3))},$n.sortedIndex=function(e,t){return io(e,t)},$n.sortedIndexBy=function(e,t,n){return so(e,t,ci(n,2))},$n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=io(e,t);if(r<n&&$s(e[r],t))return r}return-1},$n.sortedLastIndex=function(e,t){return io(e,t,!0)},$n.sortedLastIndexBy=function(e,t,n){return so(e,t,ci(n,2),!0)},$n.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=io(e,t,!0)-1;if($s(e[n],t))return n}return-1},$n.startCase=Ka,$n.startsWith=function(e,t,n){return e=ya(e),n=null==n?0:ar(fa(n),0,e.length),t=co(t),e.slice(n,n+t.length)==t},$n.subtract=_l,$n.sum=function(e){return e&&e.length?Qt(e,rl):0},$n.sumBy=function(e,t){return e&&e.length?Qt(e,ci(t,2)):0},$n.template=function(e,t,n){var r=$n.templateSettings;n&&wi(e,t,n)&&(t=o),e=ya(e),t=xa({},t,r,Zo);var i,s,a=xa({},t.imports,r.imports,Zo),l=Pa(a),c=en(a,l),u=0,d=t.interpolate||Ae,h="__p += '",p=Te((t.escape||Ae).source+"|"+d.source+"|"+(d===ee?fe:Ae).source+"|"+(t.evaluate||Ae).source+"|$","g"),f="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(p,(function(t,n,r,o,a,l){return r||(r=o),h+=e.slice(u,l).replace(_e,an),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var m=Me.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new ae("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(H,""):h).replace(q,"$1").replace(G,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Ja((function(){return Se(l,f+"return "+h).apply(o,c)}));if(g.source=h,Qs(g))throw g;return g},$n.times=function(e,t){if((e=fa(e))<1||e>f)return[];var n=g,r=bn(e,g);t=ci(t),e-=g;for(var o=Xt(r,t);++n<e;)t(n);return o},$n.toFinite=pa,$n.toInteger=fa,$n.toLength=ma,$n.toLower=function(e){return ya(e).toLowerCase()},$n.toNumber=ga,$n.toSafeInteger=function(e){return e?ar(fa(e),-9007199254740991,f):0===e?e:0},$n.toString=ya,$n.toUpper=function(e){return ya(e).toUpperCase()},$n.trim=function(e,t,n){if((e=ya(e))&&(n||t===o))return Jt(e);if(!e||!(t=co(t)))return e;var r=mn(e),i=mn(t);return Ao(r,nn(r,i),rn(r,i)+1).join("")},$n.trimEnd=function(e,t,n){if((e=ya(e))&&(n||t===o))return e.slice(0,gn(e)+1);if(!e||!(t=co(t)))return e;var r=mn(e);return Ao(r,0,rn(r,mn(t))+1).join("")},$n.trimStart=function(e,t,n){if((e=ya(e))&&(n||t===o))return e.replace(se,"");if(!e||!(t=co(t)))return e;var r=mn(e);return Ao(r,nn(r,mn(t))).join("")},$n.truncate=function(e,t){var n=30,r="...";if(ea(t)){var i="separator"in t?t.separator:i;n="length"in t?fa(t.length):n,r="omission"in t?co(t.omission):r}var s=(e=ya(e)).length;if(ln(e)){var a=mn(e);s=a.length}if(n>=s)return e;var l=n-fn(r);if(l<1)return r;var c=a?Ao(a,0,l).join(""):e.slice(0,l);if(i===o)return c+r;if(a&&(l+=c.length-l),ia(i)){if(e.slice(l).search(i)){var u,d=c;for(i.global||(i=Te(i.source,ya(me.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var h=u.index;c=c.slice(0,h===o?l:h)}}else if(e.indexOf(co(i),l)!=l){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r},$n.unescape=function(e){return(e=ya(e))&&Q.test(e)?e.replace(K,vn):e},$n.uniqueId=function(e){var t=++Oe;return ya(e)+t},$n.upperCase=Ya,$n.upperFirst=Qa,$n.each=ys,$n.eachRight=bs,$n.first=qi,al($n,function(){var e={};return wr($n,(function(t,n){Me.call($n.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),$n.VERSION="4.17.21",It(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){$n[e].placeholder=$n})),It(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===o?1:Kt(fa(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),It(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ci(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),It(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),It(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(rl)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Rr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Ms(ci(e)))},Wn.prototype.slice=function(e,t){e=fa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=fa(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(g)},wr(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=$n[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&($n.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Wn,c=a[0],u=l||Ws(t),d=function(e){var t=i.apply($n,Ot([e],a));return r&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,p=!!this.__actions__.length,f=s&&!h,m=l&&!p;if(!s&&u){t=m?t:new Wn(this);var g=e.apply(t,a);return g.__actions__.push({func:ps,args:[d],thisArg:o}),new Vn(g,h)}return f&&m?e.apply(this,a):(g=this.thru(d),f?r?g.value()[0]:g.value():g)})})),It(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Re[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);$n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ws(o)?o:[],e)}return this[n]((function(n){return t.apply(Ws(n)?n:[],e)}))}})),wr(Wn.prototype,(function(e,t){var n=$n[t];if(n){var r=n.name+"";Me.call(Pn,r)||(Pn[r]=[]),Pn[r].push({name:t,func:n})}})),Pn[zo(o,2).name]=[{name:"wrapper",func:o}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ro(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ro(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ro(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ws(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=bn(t,e+s);break;case"takeRight":e=Kt(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=i.start,a=i.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,d=u.length,h=0,p=bn(l,this.__takeCount__);if(!n||!r&&o==l&&p==l)return mo(e,this.__actions__);var f=[];e:for(;l--&&h<p;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}f[h++]=g}return f},$n.prototype.at=fs,$n.prototype.chain=function(){return hs(this)},$n.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},$n.prototype.next=function(){this.__values__===o&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},$n.prototype.plant=function(e){for(var t,n=this;n instanceof Bn;){var r=Ui(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},$n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ps,args:[es],thisArg:o}),new Vn(t,this.__chain__)}return this.thru(es)},$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},$n.prototype.first=$n.prototype.head,Xe&&($n.prototype[Xe]=function(){return this}),$n}();mt._=yn,(r=function(){return yn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},1399:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9950);const o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},1506:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5393).A},1676:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5501).A},1761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,D(A);else{var t=r(u);null!==t&&N(x,t.startTime-e)}}function A(e,n){m=!1,g&&(g=!1,y(k),k=-1),f=!0;var i=p;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&o(c),w(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&N(x,d.startTime-n),l=!1}return l}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,C=null,k=-1,T=5,E=-1;function I(){return!(t.unstable_now()-E<T)}function R(){if(null!==C){var e=t.unstable_now();E=e;var n=!0;try{n=C(!0,e)}finally{n?_():(S=!1,C=null)}}else S=!1}if("function"===typeof b)_=function(){b(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,j=P.port2;P.port1.onmessage=R,_=function(){j.postMessage(null)}}else _=function(){v(R,0)};function D(e){C=e,S||(S=!0,_())}function N(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,D(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,N(x,i-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,D(A))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},1763:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(423);function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o={};return t.forEach((t=>{o[t]=(0,r.Ay)(e,t,n)})),o}},1783:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>o,sk:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},1824:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,A:()=>a});var r=n(9950);const o={};const i=[];class s{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new s}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function a(){const e=function(e,t){const n=r.useRef(o);return n.current===o&&(n.current=e(t)),n}(s.create).current;var t;return t=e.disposeEffect,r.useEffect(t,i),e}},1927:(e,t,n)=>{"use strict";function r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((()=>{e.apply(this,o)}),n)}return r.clear=()=>{clearTimeout(t)},r}n.d(t,{A:()=>r})},1942:(e,t,n)=>{e.exports=n(3488)()},1960:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},1976:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(2529).A},2004:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}n.d(t,{A:()=>o});const o=function(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}},2049:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,A=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)A.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:_.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+E(l,0):i,x(s)?(o="",null!=e&&(o=e.replace(T,"$&/")+"/"),I(s,t,o,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+E(a=e[c],c);l+=I(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,o,u=i+E(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],o=0;return I(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},D={transition:null},N={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)A.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},2138:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case o:return t}}}function A(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return A(e)||x(e)===u},t.isConcurrentMode=A,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===a},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x},2529:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9950),o=n(1399);const i=function(e){const t=r.useRef(e);return(0,o.A)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},2654:(e,t,n)=>{"use strict";var r=n(9950),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},2703:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>i});var r=n(5501),o=n(8286);function i(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:i(e,n)||o,t&&(r=t(r,o,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=i(e.theme,a)||{};return(0,o.NI)(e,c,(e=>{let o=s(u,l,e);return e===o&&"string"===typeof e&&(o=s(u,l,`${t}${"default"===e?"":(0,r.A)(e)}`,e)),!1===n?o:{[n]:o}}))};return c.propTypes={},c.filterProps=[t],c}},2860:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),o=n(8587),i=n(7483),s=n(3628);const a={borderRadius:4};var l=n(7937);var c=n(505),u=n(8076),d=n(86);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,m=(0,o.A)(e,h),g=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}(p);let y=(0,i.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},a,f)},m);y.applyStyles=d.A;for(var b=arguments.length,w=new Array(b>1?b-1:0),x=1;x<b;x++)w[x-1]=arguments[x];return y=w.reduce(((e,t)=>(0,i.A)(e,t)),y),y.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},2937:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(9950),o=n(1824);let i=!0,s=!1;const a=new o.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function u(){i=!1}function d(){"hidden"===this.visibilityState&&s&&(i=!0)}function h(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return i||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const p=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",d,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!h(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(s=!0,a.start(100,(()=>{s=!1})),t.current=!1,!0)},ref:e}}},3158:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(9950);var r=n(8283),o=n(4414);function i(e){const{styles:t,defaultTheme:n={}}=e,i="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,o.jsx)(r.mL,{styles:i})}},3235:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(8168),o=n(9950),i=n(8587),s=n(2004),a=n(8465),l=n(1676),c=n(8463),u=n(9254),d=n(1763),h=n(423);function p(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=n(4414);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,u.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,l.A)(n.color)}`],t[`fontSize${(0,l.A)(n.fontSize)}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r,o,i,s,a,l,c,u,d,h,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(o=r.create)?void 0:o.call(r,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),v=o.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiSvgIcon"}),{children:u,className:d,color:h="inherit",component:v="svg",fontSize:y="medium",htmlColor:b,inheritViewBox:w=!1,titleAccess:x,viewBox:A="0 0 24 24"}=n,_=(0,i.A)(n,m),S=o.isValidElement(u)&&"svg"===u.type,C=(0,r.A)({},n,{color:h,component:v,fontSize:y,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:A,hasSvgAsChild:S}),k={};w||(k.viewBox=A);const T=(e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root","inherit"!==t&&`color${(0,l.A)(t)}`,`fontSize${(0,l.A)(n)}`]};return(0,a.A)(o,p,r)})(C);return(0,f.jsxs)(g,(0,r.A)({as:v,className:(0,s.A)(T.root,d),focusable:"false",color:b,"aria-hidden":!x||void 0,role:x?"img":void 0,ref:t},k,_,S&&u.props,{ownerState:C,children:[S?u.props.children:u,x?(0,f.jsx)("title",{children:x}):null]}))}));v.muiName="SvgIcon";const y=v;function b(e,t){function n(n,o){return(0,f.jsx)(y,(0,r.A)({"data-testid":`${t}Icon`,ref:o},n,{children:e}))}return n.muiName=y.muiName,o.memo(o.forwardRef(n))}},3488:(e,t,n)=>{"use strict";var r=n(3959);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},3539:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>a});var o=n(9950);let i=0;const s=(r||(r=n.t(o,2)))["useId".toString()];function a(e){if(void 0!==s){const t=s();return null!=e?e:t}return function(e){const[t,n]=o.useState(e),r=e||t;return o.useEffect((()=>{null==t&&(i+=1,n(`mui-${i}`))}),[t]),r}(e)}},3628:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),o=n(8168);const i=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,o.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,i),c=s(t),u=Object.keys(c);function d(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function h(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-a/100}${n})`}function p(e,r){const o=u.indexOf(r);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"===typeof t[u[o]]?t[u[o]]:r)-a/100}${n})`}return(0,o.A)({keys:u,values:c,up:d,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},3828:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9950);const o=function(e,t){var n,o;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)}},3876:(e,t,n)=>{"use strict";var r=n(630),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},3931:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9950);function o(e){let{controlled:t,default:n,name:o,state:i="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[s?t:a,r.useCallback((e=>{s||l(e)}),[])]}},3959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4414:(e,t,n)=>{"use strict";e.exports=n(2654)},4436:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var r=n(8168),o=n(8587),i=n(8099),s=n(7483),a=n(8076),l=n(505),c=n(2860);var u=n(9269);const d={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},x={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function A(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,u.a)(e.main,o):"dark"===t&&(e.dark=(0,u.e$)(e.main,i)))}function _(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2}=e,l=(0,o.A)(e,b),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(t),_=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[200],light:p[50],dark:p[400]}:{main:p[500],light:p[300],dark:p[700]}}(t),S=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[500],light:f[300],dark:f[700]}:{main:f[700],light:f[400],dark:f[800]}}(t),C=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(t),k=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(t),T=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function E(e){return(0,u.eM)(e,x.text.primary)>=n?x.text.primary:w.text.primary}const I=e=>{let{color:t,name:n,mainShade:o=500,lightShade:s=300,darkShade:l=700}=e;if(t=(0,r.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,i.A)(11,n?` (${n})`:"",o));if("string"!==typeof t.main)throw new Error((0,i.A)(12,n?` (${n})`:"",JSON.stringify(t.main)));return A(t,"light",s,a),A(t,"dark",l,a),t.contrastText||(t.contrastText=E(t.main)),t},R={dark:x,light:w};return(0,s.A)((0,r.A)({common:(0,r.A)({},d),mode:t,primary:I({color:c,name:"primary"}),secondary:I({color:_,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:I({color:S,name:"error"}),warning:I({color:T,name:"warning"}),info:I({color:C,name:"info"}),success:I({color:k,name:"success"}),grey:h,contrastThreshold:n,getContrastText:E,augmentColor:I,tonalOffset:a},R[t]),l)}const S=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const C={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){const n="function"===typeof t?t(e):t,{fontFamily:i=k,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:p,pxToRem:f}=n,m=(0,o.A)(n,S);const g=a/14,v=f||(e=>e/h*g+"rem"),y=(e,t,n,o,s)=>{return(0,r.A)({fontFamily:i,fontWeight:e,fontSize:v(t),lineHeight:n},i===k?{letterSpacing:(a=o/t,Math.round(1e5*a)/1e5)+"em"}:{},s,p);var a},b={h1:y(l,96,1.167,-1.5),h2:y(l,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(u,14,1.75,.4,C),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,C),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,s.A)((0,r.A)({htmlFontSize:h,pxToRem:v,fontFamily:i,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},b),m,{clone:!1})}function E(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const I=["none",E(0,2,1,-1,0,1,1,0,0,1,3,0),E(0,3,1,-2,0,2,2,0,0,1,5,0),E(0,3,3,-2,0,3,4,0,0,1,8,0),E(0,2,4,-1,0,4,5,0,0,1,10,0),E(0,3,5,-1,0,5,8,0,0,1,14,0),E(0,3,5,-1,0,6,10,0,0,1,18,0),E(0,4,5,-2,0,7,10,1,0,2,16,1),E(0,5,5,-3,0,8,10,1,0,3,14,2),E(0,5,6,-3,0,9,12,1,0,3,16,2),E(0,6,6,-3,0,10,14,1,0,4,18,3),E(0,6,7,-4,0,11,15,1,0,4,20,3),E(0,7,8,-4,0,12,17,2,0,5,22,4),E(0,7,8,-4,0,13,19,2,0,5,24,4),E(0,7,9,-4,0,14,21,2,0,5,26,4),E(0,8,9,-5,0,15,22,2,0,6,28,5),E(0,8,10,-5,0,16,24,2,0,6,30,5),E(0,8,11,-5,0,17,26,2,0,6,32,5),E(0,9,11,-5,0,18,28,2,0,7,34,6),E(0,9,12,-6,0,19,29,2,0,7,36,6),E(0,10,13,-6,0,20,31,3,0,8,38,7),E(0,10,13,-6,0,21,33,3,0,8,40,7),E(0,10,14,-6,0,22,35,3,0,8,42,7),E(0,11,14,-7,0,23,36,3,0,9,44,8),E(0,11,15,-7,0,24,38,3,0,9,46,8)];var R=n(5361);const P={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},j=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:u={},typography:d={}}=e,h=(0,o.A)(e,j);if(e.vars&&void 0===e.generateCssVars)throw new Error((0,i.A)(18));const p=_(n),f=(0,c.A)(e);let m=(0,s.A)(f,{mixins:(g=f.breakpoints,v=t,(0,r.A)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},v)),palette:p,shadows:I.slice(),typography:T(p,d),transitions:(0,R.Ay)(u),zIndex:(0,r.A)({},P)});var g,v;m=(0,s.A)(m,h);for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];return m=b.reduce(((e,t)=>(0,s.A)(e,t)),m),m.unstable_sxConfig=(0,r.A)({},a.A,null==h?void 0:h.unstable_sxConfig),m.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},m}const N=D},4501:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const r=e=>e,o=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},o={p:r,P:function(e,t){var o,i=e.match(/(P+)(p+)?/)||[],s=i[1],a=i[2];if(!a)return n(e,t);switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",n(s,t)).replace("{{time}}",r(a,t))}};t.default=o,e.exports=t.default},4901:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,o="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(l=a;0!==l--;)if(!i(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!i(l.value[1],s.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(l=a;0!==l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof s.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof s.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!i(e[c[l]],s[c[l]]))return!1;return!0}return e!==e&&s!==s}e.exports=function(e,t){try{return i(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5329:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(9950)),o=n(116);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(o.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},5340:(e,t,n)=>{"use strict";e.exports=n(1761)},5361:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>u,p0:()=>a});var r=n(8587),o=n(8168);const i=["duration","easing","delay"],s={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l(e){return`${Math.round(e)}ms`}function c(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function u(e){const t=(0,o.A)({},s,e.easing),n=(0,o.A)({},a,e.duration);return(0,o.A)({getAutoHeightDuration:c,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:s=n.standard,easing:a=t.easeInOut,delay:c=0}=o;(0,r.A)(o,i);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof s?s:l(s)} ${a} ${"string"===typeof c?c:l(c)}`)).join(",")}},e,{easing:t,duration:n})}},5393:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9950),o=n(5587);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,o.A)(t,e)}))}),t)}},5501:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8099);function o(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},5511:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{A:()=>r})},5537:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8168);function o(e,t){const n=(0,r.A)({},t);return Object.keys(e).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=(0,r.A)({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const s=e[i]||{},a=t[i];n[i]={},a&&Object.keys(a)?s&&Object.keys(s)?(n[i]=(0,r.A)({},a),Object.keys(s).forEach((e=>{n[i][e]=o(s[e],a[e])}))):n[i]=a:n[i]=s}else void 0===n[i]&&(n[i]=e[i])})),n}},5587:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},6171:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,b:()=>a});var r=n(9950),o=n(5537),i=n(4414);const s=r.createContext(void 0);function a(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?(0,o.A)(i.defaultProps,r):i.styleOverrides||i.variants?r:(0,o.A)(i,r)}({props:t,name:n,theme:{components:r.useContext(s)}})}const l=function(e){let{value:t,children:n}=e;return(0,i.jsx)(s.Provider,{value:t,children:n})}},6206:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7483);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},6319:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(9526)),i=n(4414);t.A=(0,o.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},6477:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var o=n(9950),i=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,s=i||function(e){return e()},a=i||o.useLayoutEffect},6747:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},6879:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler");Symbol.for("react.provider");var a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case s:case i:case u:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case a:return e;default:return t}}case r:return t}}}t.vM=c,t.lD=h},6907:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},7034:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>o.A,createChainedFunction:()=>i,createSvgIcon:()=>s.A,debounce:()=>a.A,deprecatedPropType:()=>l,isMuiElement:()=>c.A,ownerDocument:()=>u.A,ownerWindow:()=>d.A,requirePropFactory:()=>h,setRef:()=>p,unstable_ClassNameGenerator:()=>x,unstable_useEnhancedEffect:()=>f.A,unstable_useId:()=>m.A,unsupportedProp:()=>g,useControlled:()=>v.A,useEventCallback:()=>y.A,useForkRef:()=>b.A,useIsFocusVisible:()=>w.A});var r=n(4501),o=n(1676);const i=n(5511).A;var s=n(3235),a=n(1209);const l=function(e,t){return()=>null};var c=n(3828),u=n(7402),d=n(827);const h=function(e,t){return()=>null};const p=n(5587).A;var f=n(9044),m=n(1014);const g=function(e,t,n,r,o){return null};var v=n(8733),y=n(1976),b=n(1506),w=n(2937);const x={configure:e=>{r.A.configure(e)}}},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},7295:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,u=e=>(0,c.default)((0,o.default)({},e,{theme:v((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:p,skipVariantsResolver:m,skipSx:w,overridesResolver:x=y(g(p))}=c,A=(0,i.default)(c,h),_=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,S=w||!1;let C=f;"Root"===p||"root"===p?C=r:p?C=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(C=void 0);const k=(0,s.default)(e,(0,o.default)({shouldForwardProp:C,label:undefined},A)),T=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>b(e,(0,o.default)({},r,{theme:v({theme:r.theme,defaultTheme:n,themeId:t})})):e,E=function(r){let i=T(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(T):[];d&&x&&c.push((e=>{const r=v((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,s={};return Object.entries(i).forEach((t=>{let[n,i]=t;s[n]=b(i,(0,o.default)({},e,{theme:r}))})),x(e,s)})),d&&!_&&c.push((e=>{var r;const i=v((0,o.default)({},e,{defaultTheme:n,themeId:t}));return b({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,o.default)({},e,{theme:i}))})),S||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const p=k(i,...c);return e.muiName&&(p.muiName=e.muiName),p};return k.withConfig&&(E.withConfig=k.withConfig),E}};var o=r(n(4634)),i=r(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(116)),a=n(7785),l=(r(n(304)),r(n(8399)),r(n(9904))),c=r(n(8807));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function y(e){return e?(t,n)=>n[e]:null}function b(e,t){let{ownerState:n}=t,r=(0,i.default)(t,u);const s="function"===typeof e?e((0,o.default)({ownerState:n},r)):e;if(Array.isArray(s))return s.flatMap((e=>b(e,(0,o.default)({ownerState:n},r))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,i.default)(s,d);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,o.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,o.default)({ownerState:n},r,n)):e.style))})),t}return s}},7370:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,E:()=>g,T:()=>d,c:()=>f,h:()=>h,w:()=>u});var r=n(9950),o=n(8603),i=n(1783),s=n(9015),a=n(6477),l=r.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null),c=l.Provider,u=function(e){return(0,r.forwardRef)((function(t,n){var o=(0,r.useContext)(l);return e(t,o,n)}))},d=r.createContext({});var h={}.hasOwnProperty,p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var n={};for(var r in t)h.call(t,r)&&(n[r]=t[r]);return n[p]=e,n},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,i.SF)(t,n,r),(0,a.s)((function(){return(0,i.sk)(t,n,r)})),null},g=u((function(e,t,n){var o=e.css;"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var a=e[p],l=[o],c="";"string"===typeof e.className?c=(0,i.Rk)(t.registered,l,e.className):null!=e.className&&(c=e.className+" ");var u=(0,s.J)(l,void 0,r.useContext(d));c+=t.key+"-"+u.name;var f={};for(var g in e)h.call(e,g)&&"css"!==g&&g!==p&&(f[g]=e[g]);return f.className=c,n&&(f.ref=n),r.createElement(r.Fragment,null,r.createElement(m,{cache:t,serialized:u,isStringTag:"string"===typeof a}),r.createElement(a,f))}))},7402:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6907).A},7483:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Q:()=>i});var r=n(8168),o=n(9950);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function s(e){if(o.isValidElement(e)||!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=s(e[n])})),t}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const l=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{o.isValidElement(t[r])?l[r]=t[r]:i(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&i(e[r])?l[r]=a(e[r],t[r],n):n.clone?l[r]=i(t[r])?s(t[r]):t[r]:l[r]=t[r]})),l}},7550:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="$$material"},7785:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(7483)},7923:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},7937:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>m,Lc:()=>y,Ms:()=>b});var r=n(8286),o=n(2703),i=n(6206);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],o=a[n]||"";return Array.isArray(o)?o.map((e=>r+e)):[r+o]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function p(e,t,n,r){var i;const s=null!=(i=(0,o.Yn)(e,t,!1))?i:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function f(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:`-${n}`}function g(e,t,n,o){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),o),s=e[n];return(0,r.NI)(e,s,i)}function v(e,t){const n=f(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(i.A,{})}function y(e){return v(e,u)}function b(e){return v(e,d)}function w(e){return v(e,h)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,w.propTypes={},w.filterProps=h},8076:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var r=n(7937),o=n(2703),i=n(6206);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),o=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,i.A)(t,r[n](e)):t),{});return o.propTypes={},o.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),o};var a=n(8286);function l(e){return"number"!==typeof e?e:`${e}px solid`}function c(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),w=c("outline",l),x=c("outlineColor"),A=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};A.propTypes={},A.filterProps=["borderRadius"];s(u,d,h,p,f,m,g,v,y,b,A,w,x);const _=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};_.propTypes={},_.filterProps=["gap"];const S=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};S.propTypes={},S.filterProps=["columnGap"];const C=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};C.propTypes={},C.filterProps=["rowGap"];s(_,S,C,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function k(e,t){return"grey"===t?t:e}s((0,o.Ay)({prop:"color",themeKey:"palette",transform:k}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:k}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:k}));function T(e){return e<=1&&0!==e?100*e+"%":e}const E=(0,o.Ay)({prop:"width",transform:T}),I=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:T(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};I.filterProps=["maxWidth"];const R=(0,o.Ay)({prop:"minWidth",transform:T}),P=(0,o.Ay)({prop:"height",transform:T}),j=(0,o.Ay)({prop:"maxHeight",transform:T}),D=(0,o.Ay)({prop:"minHeight",transform:T}),N=((0,o.Ay)({prop:"size",cssProperty:"width",transform:T}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:T}),s(E,I,R,P,j,D,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:A},color:{themeKey:"palette",transform:k},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:k},backgroundColor:{themeKey:"palette",transform:k},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:_},rowGap:{style:C},columnGap:{style:S},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:I},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8099:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8283:(e,t,n)=>{"use strict";n.d(t,{AH:()=>u,i7:()=>d,mL:()=>c});var r=n(7370),o=n(9950),i=n(1783),s=n(6477),a=n(9015),l=(n(8603),n(3876),function(e,t){var n=arguments;if(null==t||!r.h.call(t,"css"))return o.createElement.apply(void 0,n);var i=n.length,s=new Array(i);s[0]=r.E,s[1]=(0,r.c)(e,t);for(var a=2;a<i;a++)s[a]=n[a];return o.createElement.apply(null,s)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(l||(l={}));var c=(0,r.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,o.useContext(r.T)),c=o.useRef();return(0,s.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),c.current=[n,r],function(){n.flush()}}),[t]),(0,s.i)((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,i.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null}));function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}function d(){var e=u.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},8286:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>o});var r=n(7483);const o={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${o[e]}px)`};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||i;return t.reduce(((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r)),{})}if("object"===typeof t){const e=r.breakpoints||i;return Object.keys(t).reduce(((r,i)=>{if(-1!==Object.keys(e.values||o).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){const t=a(e);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];const s=[t,...o].reduce(((e,t)=>(0,r.A)(e,t)),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const o=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),i=Object.keys(o);if(0===i.length)return t;let s;return i.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}},8345:(e,t,n)=>{"use strict";var r=n(9950),o=n(5340);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),A=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var O,L=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var U=!1;function $(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case A:return"Portal";case C:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,_e=null,Se=null;function Ce(e){if(e=wo(e)){if("function"!==typeof Ae)throw Error(i(280));var t=e.stateNode;t&&(t=Ao(t),Ae(e.stateNode,e.type,t))}}function ke(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ee(e,t){return e(t)}function Ie(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ee(e,t,n)}finally{Re=!1,(null!==_e||null!==Se)&&(Ie(),Te())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=Ao(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var De=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){De=!1}function Me(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Le=null,Fe=!1,Ue=null,$e={onError:function(e){Oe=!0,Le=e}};function ze(e,t,n,r,o,i,s,a,l){Oe=!1,Le=null,Me.apply($e,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return We(o),e;if(s===r)return We(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Qe=o.unstable_requestPaint,Xe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,At,_t,St,Ct,kt=!1,Tt=[],Et=null,It=null,Rt=null,Pt=new Map,jt=new Map,Dt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Ot(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=bo(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ct(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function $t(){kt=!1,null!==Et&&Ft(Et)&&(Et=null),null!==It&&Ft(It)&&(It=null),null!==Rt&&Ft(Rt)&&(Rt=null),Pt.forEach(Ut),jt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,$t)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&zt(Et,e),null!==It&&zt(It,e),null!==Rt&&zt(Rt,e),Pt.forEach(t),jt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Dt.shift()}var Vt=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var o=bt,i=Vt.transition;Vt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=o,Vt.transition=i}}function qt(e,t,n,r){var o=bt,i=Vt.transition;Vt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=o,Vt.transition=i}}function Gt(e,t,n,r){if(Wt){var o=Yt(e,t,n,r);if(null===o)Wr(e,t,r,Kt,n),Mt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Et=Ot(Et,e,t,n,r,o),!0;case"dragenter":return It=Ot(It,e,t,n,r,o),!0;case"mouseover":return Rt=Ot(Rt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Pt.set(i,Ot(Pt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,jt.set(i,Ot(jt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&xt(i),null===(i=Yt(e,t,n,r))&&Wr(e,t,r,Kt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=bo(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),mn=on(L({},pn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),vn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return Sn}var kn=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(kn),En=on(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=on(Pn),Dn=[9,13,27,32],Nn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var On=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Nn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function $n(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function Kn(e){Fr(e,0)}function Yn(e){if(G(xo(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,xe(e)),Pe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ir(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},Sr={};function Cr(e){if(_r[e])return _r[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var kr=Cr("animationend"),Tr=Cr("animationiteration"),Er=Cr("animationstart"),Ir=Cr("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Rr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Nr=Pr[Dr];jr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}jr(kr,"onAnimationEnd"),jr(Tr,"onAnimationIteration"),jr(Er,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,c){if(ze.apply(this,arguments),Oe){if(!Oe)throw Error(i(198));var u=Le;Oe=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,a,c),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,a,c),i=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||$r(t,!1,e),$r(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,$r("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Qt(t)){case 1:var o=Ht;break;case 4:o=qt;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=i,o=xe(n),s=[];e:{var a=Rr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case kr:case Tr:case Er:l=vn;break;case Ir:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=je(f,h))&&u.push(Hr(f,m,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:xo(l),p=null==c?a:xo(c),(a=new u(m,f+"leave",l,n,o)).target=d,a.relatedTarget=p,m=null,bo(o)===r&&((u=new u(h,f+"enter",c,n,o)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Gr(p))f++;for(p=0,m=h;m;m=Gr(m))p++;for(;0<f-p;)u=Gr(u),f--;for(;0<p-f;)h=Gr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Kr(s,a,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(a=r?xo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(Wn(a))if(Xn)g=sr;else{g=or;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(s,g,n,o):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?xo(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,o)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?$n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Xt=o)?Xt.value:Xt.textContent,Bn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,o),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Nn&&$n(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=y))}Fr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=je(e,n))&&r.unshift(Hr(e,i,o)),null!=(i=je(e,t))&&r.push(Hr(e,i,o))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=je(n,i))&&s.unshift(Hr(n,l,a)):o||null!=(l=je(n,i))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Bt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Ao(e){return e[fo]||null}var _o=[],So=-1;function Co(e){return{current:e}}function ko(e){0>So||(e.current=_o[So],_o[So]=null,So--)}function To(e,t){So++,_o[So]=e.current,e.current=t}var Eo={},Io=Co(Eo),Ro=Co(!1),Po=Eo;function jo(e,t){var n=e.type.contextTypes;if(!n)return Eo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Do(e){return null!==(e=e.childContextTypes)&&void 0!==e}function No(){ko(Ro),ko(Io)}function Mo(e,t,n){if(Io.current!==Eo)throw Error(i(168));To(Io,t),To(Ro,n)}function Oo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,V(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eo,Po=Io.current,To(Io,e),To(Ro,Ro.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Oo(e,t,Po),r.__reactInternalMemoizedMergedChildContext=e,ko(Ro),ko(Io),To(Io,e)):ko(Ro),To(Ro,n)}var Uo=null,$o=!1,zo=!1;function Bo(e){null===Uo?Uo=[e]:Uo.push(e)}function Vo(){if(!zo&&null!==Uo){zo=!0;var e=0,t=bt;try{var n=Uo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Uo=null,$o=!1}catch(o){throw null!==Uo&&(Uo=Uo.slice(e+1)),Ge(Ze,Vo),o}finally{bt=t,zo=!1}}return null}var Wo=[],Ho=0,qo=null,Go=0,Ko=[],Yo=0,Qo=null,Xo=1,Jo="";function Zo(e,t){Wo[Ho++]=Go,Wo[Ho++]=qo,qo=e,Go=t}function ei(e,t,n){Ko[Yo++]=Xo,Ko[Yo++]=Jo,Ko[Yo++]=Qo,Qo=e;var r=Xo;e=Jo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Xo=1<<32-st(t)+o|n<<o|r,Jo=i+e}else Xo=1<<i|n<<o|r,Jo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===qo;)qo=Wo[--Ho],Wo[Ho]=null,Go=Wo[--Ho],Wo[Ho]=null;for(;e===Qo;)Qo=Ko[--Yo],Ko[Yo]=null,Jo=Ko[--Yo],Ko[Yo]=null,Xo=Ko[--Yo],Ko[Yo]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qo?{id:Xo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw pi(),Error(i(418));for(;t;)ai(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=co(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=w.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===j&&bi(i)===t.type)?((r=o(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=Nc(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Nc(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case A:return(t=Fc(t,e.mode,n)).return=e,t;case j:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?c(e,t,n,r):null;case A:return n.key===o?u(e,t,n,r):null;case j:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||M(n))return null!==o?null:d(e,t,n,r,null);yi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case A:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case j:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,o,null);yi(t,r)}return null}function m(o,i,a,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(o,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=s(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(o,d),ii&&Zo(o,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(o,a[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Zo(o,m),c}for(d=r(o,d);m<a.length;m++)null!==(g=f(d,o,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Zo(o,m),c}function g(o,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),ii&&Zo(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return ii&&Zo(o,g),u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=f(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),ii&&Zo(o,g),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===_&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===_){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&bi(c)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=vi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===_?((i=Mc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Nc(s.type,s.key,s.props,null,r.mode,l)).ref=vi(r,i,s),l.return=r,r=l)}return a(r);case A:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(s,r.mode,l)).return=r,r=i}return a(r);case j:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(M(s))return g(r,i,s,l);yi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Lc(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var xi=wi(!0),Ai=wi(!1),_i=Co(null),Si=null,Ci=null,ki=null;function Ti(){ki=Ci=Si=null}function Ei(e){var t=_i.current;ko(_i),e._currentValue=t}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ri(e,t){Si=e,ki=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===Si)throw Error(i(308));Ci=e,Si.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var ji=null;function Di(e){null===ji?ji=[e]:ji.push(e)}function Ni(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Di(t)):(n.next=o.next,o.next=n),t.interleaved=n,Mi(e,r)}function Mi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Mi(e,n)}return null===(o=r.interleaved)?(t.next=t,Di(r)):(t.next=o.next,o.next=t),r.interleaved=t,Mi(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var o=e.updateQueue;Oi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=L({},d,h);break e;case 2:Oi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ol|=s,e.lanes=s,e.memoizedState=d}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Hi={},qi=Co(Hi),Gi=Co(Hi),Ki=Co(Hi);function Yi(e){if(e===Hi)throw Error(i(174));return e}function Qi(e,t){switch(To(Ki,t),To(Gi,e),To(qi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ko(qi),To(qi,t)}function Xi(){ko(qi),ko(Gi),ko(Ki)}function Ji(e){Yi(Ki.current);var t=Yi(qi.current),n=le(t,e.type);t!==n&&(To(Gi,e),To(qi,n))}function Zi(e){Gi.current===e&&(ko(qi),ko(Gi))}var es=Co(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=w.ReactCurrentDispatcher,is=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,ps=0;function fs(){throw Error(i(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,o),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(i(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ta,e=n(r,o)}while(ds)}if(os.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(i(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function ws(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ls,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Ol|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Ol|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function As(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function _s(){}function Ss(e,t){var n=as,r=bs(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,ba=!0),r=r.queue,Os(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ps(9,ks.bind(null,n,r,o,t),void 0,null),null===Il)throw Error(i(349));0!==(30&ss)||Cs(n,t,o)}return o}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ks(e,t,n,r){t.value=n,t.getSnapshot=r,Es(t)&&Is(e)}function Ts(e,t,n){return n((function(){Es(t)&&Is(e)}))}function Es(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Is(e){var t=Mi(e,1);null!==t&&nc(t,e,1,-1)}function Rs(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,as,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function js(){return bs().memoizedState}function Ds(e,t,n,r){var o=ys();as.flags|=e,o.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Ns(e,t,n,r){var o=bs();r=void 0===r?null:r;var i=void 0;if(null!==ls){var s=ls.memoizedState;if(i=s.destroy,null!==r&&ms(r,s.deps))return void(o.memoizedState=Ps(t,n,i,r))}as.flags|=e,o.memoizedState=Ps(1|t,n,i,r)}function Ms(e,t){return Ds(8390656,8,e,t)}function Os(e,t){return Ns(2048,8,e,t)}function Ls(e,t){return Ns(4,2,e,t)}function Fs(e,t){return Ns(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $s(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ns(4,4,Us.bind(null,t,e),n)}function zs(){}function Bs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ol|=n,e.baseState=!0),t)}function Hs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=r}}function qs(){return bs().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Qs(t,n);else if(null!==(n=Ni(e,t,n,r))){nc(n,e,r,ec()),Xs(n,t,r)}}function Ks(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Qs(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Di(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Ni(e,t,o,r))&&(nc(n,e,r,o=ec()),Xs(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Qs(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Pi,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Pi,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Ms,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Rs,useDebugValue:zs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,o=ys();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Il)throw Error(i(349));0!==(30&ss)||Cs(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Ms(Ts.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,ks.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Il.identifierPrefix;if(ii){var n=Jo;t=":"+t+"R"+(n=(Xo&~(1<<32-st(Xo)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Pi,useCallback:Bs,useContext:Pi,useEffect:Os,useImperativeHandle:$s,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:Vs,useReducer:xs,useRef:js,useState:function(){return xs(ws)},useDebugValue:zs,useDeferredValue:function(e){return Ws(bs(),ls.memoizedState,e)},useTransition:function(){return[xs(ws)[0],bs().memoizedState]},useMutableSource:_s,useSyncExternalStore:Ss,useId:qs,unstable_isNewReconciler:!1},ta={readContext:Pi,useCallback:Bs,useContext:Pi,useEffect:Os,useImperativeHandle:$s,useInsertionEffect:Ls,useLayoutEffect:Fs,useMemo:Vs,useReducer:As,useRef:js,useState:function(){return As(ws)},useDebugValue:zs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[As(ws)[0],bs().memoizedState]},useMutableSource:_s,useSyncExternalStore:Ss,useId:qs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Ui(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,o))&&(nc(t,e,o,r),zi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Ui(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,o))&&(nc(t,e,o,r),zi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=Ui(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=$i(e,o,r))&&(nc(t,e,r,n),zi(t,e,r))}};function ia(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function sa(e,t,n){var r=!1,o=Eo,i=t.contextType;return"object"===typeof i&&null!==i?i=Pi(i):(o=Do(t)?Po:Io.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?jo(e,o):Eo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Pi(i):(i=Do(t)?Po:Io.current,o.context=jo(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),Vi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ui(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),da(0,t)},n}function fa(e,t,n){(n=Ui(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ui(-1,1)).tag=2,$i(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?Ai(t,null,n,r):xi(t,e.child,n,r)}function xa(e,t,n,r,o){n=n.render;var i=t.ref;return Ri(t,o),r=gs(e,t,n,r,i,o),n=vs(),null===e||ba?(ii&&n&&ti(t),t.flags|=1,wa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Aa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||jc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,_a(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,o)}return t.flags|=1,(e=Dc(i,r)).ref=t.ref,e.return=t,t.child=e}function _a(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Wa(e,t,o);0!==(131072&e.flags)&&(ba=!0)}}return ka(e,t,n,r,o)}function Sa(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},To(Dl,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,To(Dl,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,To(Dl,jl),jl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,To(Dl,jl),jl|=r;return wa(e,t,o,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,o){var i=Do(n)?Po:Io.current;return i=jo(t,i),Ri(t,o),n=gs(e,t,n,r,i,o),r=vs(),null===e||ba?(ii&&r&&ti(t),t.flags|=1,wa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wa(e,t,o))}function Ta(e,t,n,r,o){if(Do(n)){var i=!0;Lo(t)}else i=!1;if(Ri(t,o),null===t.stateNode)Va(e,t),sa(t,n,r),la(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Pi(c):c=jo(t,c=Do(n)?Po:Io.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Oi=!1;var h=t.memoizedState;s.state=h,Vi(t,r,s,o),l=t.memoizedState,a!==r||h!==l||Ro.current||Oi?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Oi||ia(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fi(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Pi(l):l=jo(t,l=Do(n)?Po:Io.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Oi=!1,h=t.memoizedState,s.state=h,Vi(t,r,s,o);var f=t.memoizedState;a!==d||h!==f||Ro.current||Oi?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(c=Oi||ia(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ea(e,t,n,r,i,o)}function Ea(e,t,n,r,o,i){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&Fo(t,n,!1),Wa(e,t,i);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,a,i)):wa(e,t,a,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Mo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mo(0,t.context,!1),Qi(e,t.containerInfo)}function Ra(e,t,n,r,o){return fi(),mi(o),t.flags|=256,wa(e,t,n,r),t.child}var Pa,ja,Da,Na,Ma={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,o=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),To(es,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Oc(l,o,0,null),e=Mc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(n),t.memoizedState=Ma,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Oc({mode:"visible",children:r.children},o,0,null),(s=Mc(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&xi(t,e.child,null,a),t.child.memoizedState=Oa(a),t.memoizedState=Ma,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ua(s=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Il)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Mi(e,o),nc(r,e,o,-1))}return mc(),Ua(e,t,a,r=ua(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Ko[Yo++]=Xo,Ko[Yo++]=Jo,Ko[Yo++]=Qo,Xo=e.id,Jo=e.overflow,Qo=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Dc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Oa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,o}return e=(a=e.child).sibling,o=Dc(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fa(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mi(r),xi(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $a(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function za(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ba(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n,t);else if(19===e.tag)$a(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(To(es,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),za(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}za(t,!0,n,null,i);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Do(t.type)&&No(),qa(t),null;case 3:return r=t.stateNode,Xi(),ko(Ro),ko(Io),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(sc(si),si=null))),ja(e,t),qa(t),null;case 5:Zi(t);var o=Yi(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qa(t),null}if(e=Yi(qi.current),hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[po]=t,r[fo]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(o=0;o<Mr.length;o++)Ur(Mr[o],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":oe(r,s),Ur("invalid",r)}for(var l in ye(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":q(r),Z(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[fo]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),o=r;break;case"iframe":case"object":case"embed":Ur("load",e),o=r;break;case"video":case"audio":for(o=0;o<Mr.length;o++)Ur(Mr[o],e);o=r;break;case"source":Ur("error",e),o=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),o=r;break;case"details":Ur("toggle",e),o=r;break;case"input":Q(e,r),o=Y(e,r),Ur("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Ur("invalid",e)}for(s in ye(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)Na(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Yi(Ki.current),Yi(qi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return qa(t),null;case 13:if(ko(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[po]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),s=!1}else null!==si&&(sc(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Nl&&(Nl=3):mc())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return Xi(),ja(e,t),null===e&&Br(t.stateNode.containerInfo),qa(t),null;case 10:return Ei(t.type._context),qa(t),null;case 19:if(ko(es),null===(s=t.memoizedState))return qa(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return To(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Bl&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return qa(t),null}else 2*Xe()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=es.current,To(es,r?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ka(e,t){switch(ni(t),t.tag){case 1:return Do(t.type)&&No(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),ko(Ro),ko(Io),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(ko(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ko(es),null;case 4:return Xi(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ja=function(){},Da=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Yi(qi.current);var i,s=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),s=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Na=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Qa=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Qa||Za(n,t);case 6:var r=ul,o=dl;ul=null,hl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Bt(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),o=o.next}while(o!==r)}hl(e,t,n);break;case 1:if(!Qa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,hl(e,t,n),Qa=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(s,a,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){Sc(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(o,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(l){case"input":J(o,s);break;case"textarea":ie(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(o,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[fo]=s}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(zl=Xe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(u=Qa)||d,ml(t,e),Qa=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(f=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Ja=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),cl(e,al(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(i(161))}}catch(a){Sc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var o=Ja,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Ya;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ya;var c=Qa;if(Ya=s,(Qa=l)&&!c)for(Ja=o;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Al(o):null!==l?(l.return=s,Ja=l):Al(o);for(;null!==i;)Ja=i,bl(i,t,n),i=i.sibling;Ja=o,Ya=a,Qa=c}wl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Ja=i):wl(e)}}function wl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(i(163))}Qa||512&t.flags&&ol(t)}catch(p){Sc(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Al(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Sc(t,o,l)}}var i=t.return;try{ol(t)}catch(l){Sc(t,i,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Sc(t,s,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var _l,Sl=Math.ceil,Cl=w.ReactCurrentDispatcher,kl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,El=0,Il=null,Rl=null,Pl=0,jl=0,Dl=Co(0),Nl=0,Ml=null,Ol=0,Ll=0,Fl=0,Ul=null,$l=null,zl=0,Bl=1/0,Vl=null,Wl=!1,Hl=null,ql=null,Gl=!1,Kl=null,Yl=0,Ql=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&El)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Pl?Pl&-Pl:null!==gi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Xl=null,Error(i(185));vt(e,n,r),0!==(2&El)&&e===Il||(e===Il&&(0===(2&El)&&(Ll|=n),4===Nl&&ac(e,Pl)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Bl=Xe()+500,$o&&Vo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===Il?Pl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){$o=!0,Bo(e)}(lc.bind(null,e)):Bo(lc.bind(null,e)),so((function(){0===(6&El)&&Vo()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,Zl=0,0!==(6&El))throw Error(i(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=El;El|=2;var s=fc();for(Il===e&&Pl===t||(Vl=null,Bl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Ti(),Cl.current=s,El=o,null!==Rl?t=0:(Il=null,Pl=0,t=Nl)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=ic(e,o))),1===t)throw n=Ml,hc(e,0),ac(e,r),rc(e,Xe()),n;if(6===t)ac(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=ic(e,s))),1===t))throw n=Ml,hc(e,0),ac(e,r),rc(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,$l,Vl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(xc.bind(null,e,$l,Vl),t);break}xc(e,$l,Vl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ro(xc.bind(null,e,$l,Vl),r);break}xc(e,$l,Vl);break;default:throw Error(i(329))}}}return rc(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=$l,$l=n,null!==t&&sc(t)),e}function sc(e){null===$l?$l=e:$l.push.apply($l,e)}function ac(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(i(327));Ac();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ml,hc(e,0),ac(e,t),rc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,$l,Vl),rc(e,Xe()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Bl=Xe()+500,$o&&Vo())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&Ac();var t=El;El|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(El=t))&&Vo()}}function dc(){jl=Dl.current,ko(Dl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&No();break;case 3:Xi(),ko(Ro),ko(Io),rs();break;case 5:Zi(r);break;case 4:Xi();break;case 13:case 19:ko(es);break;case 10:Ei(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,Rl=e=Dc(e.current,null),Pl=jl=t,Nl=0,Ml=null,Fl=Ll=Ol=0,$l=Ul=null,null!==ji){for(t=0;t<ji.length;t++)if(null!==(r=(n=ji[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}ji=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(Ti(),os.current=Js,us){for(var r=as.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,kl.current=null,null===n||null===n.return){Nl=1,Ml=t,Rl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ma(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mi(ca(c,l));break e}}s=c=ca(c,l),4!==Nl&&(Nl=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bi(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Bi(s,fa(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function fc(){var e=Cl.current;return Cl.current=Js,null===e?Js:e}function mc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Il||0===(268435455&Ol)&&0===(268435455&Ll)||ac(Il,Pl)}function gc(e,t){var n=El;El|=2;var r=fc();for(Il===e&&Pl===t||(Vl=null,hc(e,t));;)try{vc();break}catch(o){pc(e,o)}if(Ti(),El=n,Cl.current=r,null!==Rl)throw Error(i(261));return Il=null,Pl=0,Nl}function vc(){for(;null!==Rl;)bc(Rl)}function yc(){for(;null!==Rl&&!Ye();)bc(Rl)}function bc(e){var t=_l(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?wc(e):Rl=t,kl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,jl)))return void(Rl=n)}else{if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Nl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Nl&&(Nl=5)}function xc(e,t,n){var r=bt,o=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Ac()}while(null!==Kl);if(0!==(6&El))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Il&&(Rl=Il=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ic(tt,(function(){return Ac(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=El;El|=4,kl.current=null,function(e,t){if(eo=Wt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(l=a),p===s&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(x){Sc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(to),Wt=!!eo,to=eo=null,e.current=n,yl(n,e,o),Qe(),El=l,bt=a,Tl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Yl=o),s=e.pendingLanes,0===s&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&Ac(),s=e.pendingLanes,0!==(1&s)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Vo()}(e,t,n,r)}finally{Tl.transition=o,bt=r}return null}function Ac(){if(null!==Kl){var e=wt(Yl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&El))throw Error(i(331));var o=El;for(El|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var p=(d=Ja).sibling,f=d.return;if(il(d),d===u){Ja=null;break}if(null!==p){p.return=f,Ja=p;break}Ja=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(A){Sc(l,l.return,A)}if(l===a){Ja=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ja=x;break e}Ja=l.return}}if(El=o,Vo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(A){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function _c(e,t,n){e=$i(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=$i(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Pl&n)===n&&(4===Nl||3===Nl&&(130023424&Pl)===Pl&&500>Xe()-zl?hc(e,0):Fl|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Mi(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),kc(e,n)}function Ic(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nc(e,t,n,r,o,s){var a=2;if(r=e,"function"===typeof e)jc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case _:return Mc(n.children,o,s,t);case S:a=8,o|=8;break;case C:return(e=Pc(12,n,t,2|o)).elementType=C,e.lanes=s,e;case I:return(e=Pc(13,n,t,o)).elementType=I,e.lanes=s,e;case R:return(e=Pc(19,n,t,o)).elementType=R,e.lanes=s,e;case D:return Oc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case T:a=9;break e;case E:a=11;break e;case P:a=14;break e;case j:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,o,i,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function zc(e){if(!e)return Eo;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Do(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Do(n))return Oo(e,n,t)}return t}function Bc(e,t,n,r,o,i,s,a,l){return(e=$c(n,r,!0,e,0,i,0,a,l)).context=zc(null),n=e.current,(i=Ui(r=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,$i(n,i,o),e.current.lanes=o,vt(e,o,r),rc(e,r),e}function Vc(e,t,n,r){var o=t.current,i=ec(),s=tc(o);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ui(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$i(o,t,s))&&(nc(e,o,s,i),zi(e,o,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ro.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),fi();break;case 5:Ji(t);break;case 1:Do(t.type)&&Lo(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;To(_i,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(To(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(To(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);To(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),To(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,ii&&0!==(1048576&t.flags)&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var o=jo(t,Io.current);Ri(t,n),o=gs(null,t,r,e,o,n);var s=vs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Do(r)?(s=!0,Lo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Li(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,r,e,n),t=Ea(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),wa(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),o){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=Aa(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,ka(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ta(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(Ia(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Fi(e,t),Vi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,r,n,o=ca(Error(i(423)),t));break e}if(r!==o){t=Ra(e,t,r,n,o=ca(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=Ai(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=Wa(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Ca(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&ui(t),null;case 13:return La(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,To(_i,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!Ro.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Ui(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ii(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ii(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ri(t,n),r=r(o=Pi(o)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),Aa(e,t,r,o=na(r.type,o),n);case 15:return _a(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),Va(e,t),t.tag=1,Do(r)?(e=!0,Lo(t)):e=!1,Ri(t,n),sa(t,r,o),la(t,r,o,n),Ea(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return Sa(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var a=o;o=function(){var e=Wc(s);a.call(e)}}Vc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Wc(s);i.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[mo]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mo]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){Vc(t,l,n,r)})),l}(n,t,e,o,r);return Wc(s)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Vc(null,e,null,null)})),t[mo]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&El)&&(Bl=Xe()+500,Vo()))}break;case 13:uc((function(){var t=Mi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},At=function(e){if(13===e.tag){var t=Mi(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Mi(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ae=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ao(r);if(!o)throw Error(i(90));G(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[wo,xo,Ao,ke,Te,cc]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var n=!1,r="",o=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Br(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,Br(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},8399:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>i});var r=n(6879);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t=`${e}`.match(o);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||i(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?`${n}(${r})`:n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.vM:return a(e,e.render,"ForwardRef");case r.lD:return a(e,e.type,"memo");default:return}}}},8463:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});n(9950);var r=n(6171);n(4414);function o(e){return(0,r.b)(e)}},8465:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((o=>{r[o]=e[o].reduce(((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},8603:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,i=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,b=0,w="";function x(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:m,column:g,length:s,return:""}}function A(e,t){return s(x("",null,null,"",null,null,0),e,{length:-e.length},t)}function _(){return b=y>0?u(w,--y):0,g--,10===b&&(g=1,m--),b}function S(){return b=y<v?u(w,y++):0,g++,10===b&&(g=1,m++),b}function C(){return u(w,y)}function k(){return y}function T(e,t){return d(w,e,t)}function E(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function I(e){return m=g=1,v=h(w=e),y=0,[]}function R(e){return w="",e}function P(e){return a(T(y-1,N(91===e?e+2:40===e?e+1:e)))}function j(e){for(;(b=C())&&b<33;)S();return E(e)>2||E(b)>3?"":" "}function D(e,t){for(;--t&&S()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return T(e,k()+(t<6&&32==C()&&32==S()))}function N(e){for(;S();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&N(b);break;case 40:41===e&&N(e);break;case 92:S()}return y}function M(e,t){for(;S()&&e+b!==57&&(e+b!==84||47!==C()););return"/*"+T(t,y-1)+"*"+i(47===e?e:S())}function O(e){for(;!E(C());)S();return T(e,y)}var L="-ms-",F="-moz-",U="-webkit-",$="comm",z="rule",B="decl",V="@keyframes";function W(e,t){for(var n="",r=p(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case B:return e.return=e.return||e.value;case $:return"";case V:return e.return=e.value+"{"+W(e.children,r)+"}";case z:e.value=e.props.join(",")}return h(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function q(e){return R(G("",null,null,null,[""],e=I(e),0,[0],e))}function G(e,t,n,r,o,s,a,d,p){for(var m=0,g=0,v=a,y=0,b=0,w=0,x=1,A=1,T=1,E=0,I="",R=o,N=s,L=r,F=I;A;)switch(w=E,E=S()){case 40:if(108!=w&&58==u(F,v-1)){-1!=c(F+=l(P(E),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:F+=P(E);break;case 9:case 10:case 13:case 32:F+=j(w);break;case 92:F+=D(k()-1,7);continue;case 47:switch(C()){case 42:case 47:f(Y(M(S(),k()),t,n),p);break;default:F+="/"}break;case 123*x:d[m++]=h(F)*T;case 125*x:case 59:case 0:switch(E){case 0:case 125:A=0;case 59+g:-1==T&&(F=l(F,/\f/g,"")),b>0&&h(F)-v&&f(b>32?Q(F+";",r,n,v-1):Q(l(F," ","")+";",r,n,v-2),p);break;case 59:F+=";";default:if(f(L=K(F,t,n,m,g,o,d,I,R=[],N=[],v),s),123===E)if(0===g)G(F,t,L,L,R,s,v,d,N);else switch(99===y&&110===u(F,3)?100:y){case 100:case 108:case 109:case 115:G(e,L,L,r&&f(K(e,L,L,0,0,o,d,I,o,R=[],v),N),o,N,v,d,r?R:N);break;default:G(F,L,L,L,[""],N,0,d,N)}}m=g=b=0,x=T=1,I=F="",v=a;break;case 58:v=1+h(F),b=w;default:if(x<1)if(123==E)--x;else if(125==E&&0==x++&&125==_())continue;switch(F+=i(E),E*x){case 38:T=g>0?1:(F+="\f",-1);break;case 44:d[m++]=(h(F)-1)*T,T=1;break;case 64:45===C()&&(F+=P(S())),y=C(),g=v=h(I=F+=O(k())),E++;break;case 45:45===w&&2==h(F)&&(x=0)}}return s}function K(e,t,n,r,i,s,c,u,h,f,m){for(var g=i-1,v=0===i?s:[""],y=p(v),b=0,w=0,A=0;b<r;++b)for(var _=0,S=d(e,g+1,g=o(w=c[b])),C=e;_<y;++_)(C=a(w>0?v[_]+" "+S:l(S,/&\f/g,v[_])))&&(h[A++]=C);return x(e,t,n,0===i?z:u,h,f,m)}function Y(e,t,n){return x(e,t,n,$,i(b),d(e,2,-2),0)}function Q(e,t,n,r){return x(e,t,n,B,d(e,0,r),d(e,r+1,-1),r)}var X=function(e,t,n){for(var r=0,o=0;r=o,o=C(),38===r&&12===o&&(t[n]=1),!E(o);)S();return T(e,y)},J=function(e,t){return R(function(e,t){var n=-1,r=44;do{switch(E(r)){case 0:38===r&&12===C()&&(t[n]=1),e[n]+=X(y-1,t,n);break;case 2:e[n]+=P(r);break;case 4:if(44===r){e[++n]=58===C()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=S());return e}(I(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var o=[],i=J(t,o),s=n.props,a=0,l=0;a<i.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=o[a]?i[a].replace(/&\f/g,s[c]):s[c]+" "+i[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return U+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return U+e+F+e+L+e+e;case 6828:case 4268:return U+e+L+e+e;case 6165:return U+e+L+"flex-"+e+e;case 5187:return U+e+l(e,/(\w+).+(:[^]+)/,U+"box-$1$2"+L+"flex-$1$2")+e;case 5443:return U+e+L+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return U+e+L+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return U+e+L+l(e,"shrink","negative")+e;case 5292:return U+e+L+l(e,"basis","preferred-size")+e;case 6060:return U+"box-"+l(e,"-grow","")+U+e+L+l(e,"grow","positive")+e;case 4554:return U+l(e,/([^-])(transform)/g,"$1"+U+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,U+"$1"),/(image-set)/,U+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,U+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,U+"box-pack:$3"+L+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,U+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+U+"$2-$3$1"+F+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+U)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+U+(45===u(e,14)?"inline-":"")+"box$3$1"+U+"$2$3$1"+L+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return U+e+L+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return U+e+L+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return U+e+L+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return U+e+L+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case B:e.return=ne(e.value,e.length);break;case V:return W([A(e,{value:l(e.value,"@","@"+U)})],r);case z:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([A(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([A(e,{props:[l(t,/:(plac\w+)/,":"+U+"input-$1")]}),A(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),A(e,{props:[l(t,/:(plac\w+)/,L+"input-$1")]})],r)}return""}))}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,i,s=e.stylisPlugins||re,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d=[H,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=p(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}([ee,te].concat(s,d));i=function(e,t,n,r){c=n,W(q(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return f.sheet.hydrate(l),f}},8635:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6907);function o(e){return(0,r.A)(e).defaultView||window}},8733:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3931).A},8807:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>i.A});var r=n(505),o=n(237),i=n(8076)},9015:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(7923),i=!1,s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},u=(0,o.A)((function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},h="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function p(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return f={name:o.name,styles:o.styles,next:f},o.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)f={name:a.name,styles:a.styles,next:f},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=p(e,t,n[o])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?r+=s+"{"+t[l]+"}":c(l)&&(r+=u(s)+":"+d(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&i)throw new Error(h);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var f=p(e,t,a);switch(s){case"animation":case"animationName":r+=u(s)+":"+f+";";break;default:r+=s+"{"+f+"}"}}else for(var m=0;m<a.length;m++)c(a[m])&&(r+=u(s)+":"+d(s,a[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=f,m=n(e);return f=l,p(e,t,m)}}var g=n;if(null==t)return g;var v=t[g];return void 0!==v?v:g}var f,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";f=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=p(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++){if(o+=p(n,t,e[s]),r)o+=i[s]}m.lastIndex=0;for(var a,l="";null!==(a=m.exec(o));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:f}}},9044:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1399).A},9223:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(9526)),i=n(4414);t.A=(0,o.default)((0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},9234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(8099)},9254:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a});var r=n(7295),o=n(195),i=n(7550),s=n(9608);const a=(0,r.Ay)({themeId:i.A,defaultTheme:o.A,rootShouldForwardProp:s.A})},9269:(e,t,n)=>{"use strict";var r=n(4994);t.X4=p,t.e$=f,t.tL=g,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var o=r(n(9234)),i=r(n(9344));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,o.default)(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?f(e,t):m(e,t)}},9344:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(6747)},9526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(7034)},9608:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1960);const o=e=>(0,r.A)(e)&&"classes"!==e},9825:()=>{},9904:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>i.A});var r=n(2860),o=n(3628),i=n(86)},9950:(e,t,n)=>{"use strict";e.exports=n(2049)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{Decoder:()=>bk,Encoder:()=>vk,PacketType:()=>gk,protocol:()=>mk});var t,r=n(9950),o=n.t(r,2),i=n(1352);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const a="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(L_){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,n,r,o){void 0===o&&(o={});let{window:i=document.defaultView,v5Compat:c=!1}=o,p=i.history,f=t.Pop,m=null,g=v();function v(){return(p.state||{idx:null}).idx}function y(){f=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:f,location:w.location,delta:n})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,p.replaceState(s({},p.state,{idx:g}),""));let w={get action(){return f},get location(){return e(i,p)},listen(e){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(a,y),m=e,()=>{i.removeEventListener(a,y),m=null}},createHref:e=>n(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;let o=d(w.location,e,n);r&&r(o,e),g=v()+1;let s=u(o,g),a=w.createHref(o);try{p.pushState(s,"",a)}catch(vb){if(vb instanceof DOMException&&"DataCloneError"===vb.name)throw vb;i.location.assign(a)}c&&m&&m({action:f,location:w.location,delta:1})},replace:function(e,n){f=t.Replace;let o=d(w.location,e,n);r&&r(o,e),g=v();let i=u(o,g),s=w.createHref(o);p.replaceState(i,"",s),c&&m&&m({action:f,location:w.location,delta:0})},go:e=>p.go(e)};return w}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let o=P(("string"===typeof t?p(t):t).pathname||"/",n);if(null==o)return null;let i=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=R(o);s=E(i[a],e,r)}return s}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};s.relativePath.startsWith("/")&&(l(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=O([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),y(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:T(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))o(e,t,r);else o(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let s=b(r.join("/")),a=[];return a.push(...s.map((e=>""===e?i:[i,e].join("/")))),o&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,x=3,A=2,_=1,S=10,C=-2,k=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=C),t&&(r+=A),n.filter((e=>!k(e))).reduce(((e,t)=>e+(w.test(t)?x:""===t?_:S)),r)}function E(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,o={},i="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:O([i,u.pathname]),pathnameBase:L(O([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=O([i,u.pathnameBase]))}return s}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=a[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(vb){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+vb+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function N(e,t){let n=D(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let o;void 0===r&&(r=!1),"string"===typeof e?o=p(e):(o=s({},e),l(!o.pathname||!o.pathname.includes("?"),j("?","pathname","search",o)),l(!o.pathname||!o.pathname.includes("#"),j("#","pathname","hash",o)),l(!o.search||!o.search.includes("#"),j("#","search","hash",o)));let i,a=""===e||""===o.pathname,c=a?"/":o.pathname;if(null==c)i=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"===typeof e?p(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:F(r),hash:U(o)}}(o,i),d=c&&"/"!==c&&c.endsWith("/"),h=(a||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const O=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],B=(new Set(z),["get",...z]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const W=r.createContext(null);const H=r.createContext(null);const q=r.createContext(null);const G=r.createContext(null);const K=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=r.createContext(null);function Q(){return null!=r.useContext(G)}function X(){return Q()||l(!1),r.useContext(G).location}function J(e){r.useContext(q).static||r.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=r.useContext(K);return e?function(){let{router:e}=ue(le.UseNavigateStable),t=he(ce.UseNavigateStable),n=r.useRef(!1);return J((()=>{n.current=!0})),r.useCallback((function(r,o){void 0===o&&(o={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,V({fromRouteId:t},o)))}),[e,t])}():function(){Q()||l(!1);let e=r.useContext(W),{basename:t,future:n,navigator:o}=r.useContext(q),{matches:i}=r.useContext(K),{pathname:s}=X(),a=JSON.stringify(N(i,n.v7_relativeSplatPath)),c=r.useRef(!1);return J((()=>{c.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void o.go(n);let i=M(n,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:O([t,i.pathname])),(r.replace?o.replace:o.push)(i,r.state,r)}),[t,o,a,s,e])}()}function ee(){let{matches:e}=r.useContext(K),t=e[e.length-1];return t?t.params:{}}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:o}=r.useContext(q),{matches:i}=r.useContext(K),{pathname:s}=X(),a=JSON.stringify(N(i,o.v7_relativeSplatPath));return r.useMemo((()=>M(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function ne(e,n,o,i){Q()||l(!1);let{navigator:s,static:a}=r.useContext(q),{matches:c}=r.useContext(K),u=c[c.length-1],d=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let f,m=X();if(n){var v;let e="string"===typeof n?p(n):n;"/"===h||(null==(v=e.pathname)?void 0:v.startsWith(h))||l(!1),f=e}else f=m;let y=f.pathname||"/",b=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!a&&o&&o.matches&&o.matches.length>0?o.matches:g(e,{pathname:b});let x=ae(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:O([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:O([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,o,i);return n&&x?r.createElement(G.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:t.Pop}},x):x}function re(){let e=function(){var e;let t=r.useContext(Y),n=de(ce.UseRouteError),o=he(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[o]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,null)}const oe=r.createElement(re,null);class ie extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(K.Provider,{value:this.props.routeContext},r.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:o}=e,i=r.useContext(W);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(K.Provider,{value:t},o)}function ae(e,t,n,o){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===o&&(o=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=o)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,c=null==(i=n)?void 0:i.errors;if(null!=c){let e=a.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||l(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,d=-1;if(n&&o&&o.v7_partialHydration)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){u=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight(((e,o,i)=>{let s,l=!1,h=null,p=null;var f;n&&(s=c&&o.route.id?c[o.route.id]:void 0,h=o.route.errorElement||oe,u&&(d<0&&0===i?(f="route-fallback",!1||pe[f]||(pe[f]=!0),l=!0,p=null):d===i&&(l=!0,p=o.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),g=()=>{let t;return t=s?h:l?p:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(se,{match:o,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===i)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let t=r.useContext(W);return t||l(!1),t}function de(e){let t=r.useContext(H);return t||l(!1),t}function he(e){let t=function(){let e=r.useContext(K);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const pe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function me(e){let{to:t,replace:n,state:o,relative:i}=e;Q()||l(!1);let{future:s,static:a}=r.useContext(q),{matches:c}=r.useContext(K),{pathname:u}=X(),d=Z(),h=M(t,N(c,s.v7_relativeSplatPath),u,"path"===i),p=JSON.stringify(h);return r.useEffect((()=>d(JSON.parse(p),{replace:n,state:o,relative:i})),[d,p,i,n,o]),null}function ge(e){l(!1)}function ve(e){let{basename:n="/",children:o=null,location:i,navigationType:s=t.Pop,navigator:a,static:c=!1,future:u}=e;Q()&&l(!1);let d=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:d,navigator:a,static:c,future:V({v7_relativeSplatPath:!1},u)})),[d,u,a,c]);"string"===typeof i&&(i=p(i));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=i,b=r.useMemo((()=>{let e=P(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:s}}),[d,f,m,g,v,y,s]);return null==b?null:r.createElement(q.Provider,{value:h},r.createElement(G.Provider,{children:o,value:b}))}function ye(e){let{children:t,location:n}=e;return ne(be(t),n)}new Promise((()=>{}));r.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,o)=>{if(!r.isValidElement(e))return;let i=[...t,o];if(e.type===r.Fragment)return void n.push.apply(n,be(e.props.children,i));e.type!==ge&&l(!1),e.props.index&&e.props.children&&l(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=be(e.props.children,i)),n.push(s)})),n}var we=n(7119),xe=n.t(we,2);function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(L_){}new Map;const Ce=o.startTransition;xe.flushSync,o.useId;function ke(e){let{basename:t,children:n,future:o,window:i}=e,s=r.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),f((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return d("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,a)));let l=s.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:p}=o||{},m=r.useCallback((e=>{p&&Ce?Ce((()=>u(e))):u(e)}),[u,p]);return r.useLayoutEffect((()=>l.listen(m)),[l,m]),r.useEffect((()=>fe(o)),[o]),r.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:o})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=r.forwardRef((function(e,t){let n,{onClick:o,relative:i,reloadDocument:s,replace:a,state:c,target:u,to:d,preventScrollReset:p,viewTransition:f}=e,m=_e(e,Se),{basename:g}=r.useContext(q),v=!1;if("string"===typeof d&&Ee.test(d)&&(n=d,Te))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(L_){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Q()||l(!1);let{basename:o,navigator:i}=r.useContext(q),{hash:s,pathname:a,search:c}=te(e,{relative:n}),u=a;return"/"!==o&&(u="/"===a?o:O([o,a])),i.createHref({pathname:u,search:c,hash:s})}(d,{relative:i}),b=function(e,t){let{target:n,replace:o,state:i,preventScrollReset:s,relative:a,viewTransition:l}=void 0===t?{}:t,c=Z(),u=X(),d=te(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==o?o:h(u)===h(d);c(e,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l})}}),[u,c,d,o,i,n,e,s,a,l])}(d,{replace:a,state:c,target:u,preventScrollReset:p,relative:i,viewTransition:f});return r.createElement("a",Ae({},m,{href:n||y,onClick:v||s?o:function(e){o&&o(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Re,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));var je=n(8168),De=n(8587),Ne=n(2004),Me=n(116),Oe=n(505),Le=n(237),Fe=n(2860),Ue=n(7370);const $e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(Ue.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},ze=(0,Fe.A)();const Be=function(){return $e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze)};var Ve=n(4414);const We=["className","component"];var He=n(4501),qe=n(4436),Ge=n(7550),Ke=n(1763);const Ye=(0,Ke.A)("MuiBox",["root"]),Qe=(0,qe.A)(),Xe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:o="MuiBox-root",generateClassName:i}=e,s=(0,Me.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Oe.A),a=r.forwardRef((function(e,r){const a=Be(n),l=(0,Le.A)(e),{className:c,component:u="div"}=l,d=(0,De.A)(l,We);return(0,Ve.jsx)(s,(0,je.A)({as:u,ref:r,className:(0,Ne.A)(c,i?i(o):o),theme:t&&a[t]||a},d))}));return a}({themeId:Ge.A,defaultTheme:Qe,defaultClassName:Ye.root,generateClassName:He.A.generate}),Je=Xe;var Ze=n(8463),et=n(3158);const tt=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const o=Be(r),i="function"===typeof t?t(n&&o[n]||o):t;return(0,Ve.jsx)(et.A,{styles:i})};var nt=n(195);const rt=function(e){return(0,Ve.jsx)(tt,(0,je.A)({},e,{defaultTheme:nt.A,themeId:Ge.A}))},ot=(e,t)=>(0,je.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),it=e=>(0,je.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const st=function(e){const t=(0,Ze.b)({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:o=!1}=t;return(0,Ve.jsxs)(r.Fragment,{children:[(0,Ve.jsx)(rt,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[n,o]=t;var i;r[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(i=o.palette)?void 0:i.mode}}));let o=(0,je.A)({html:ot(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,je.A)({margin:0},it(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const i=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return i&&(o=[o,i]),o}(e,o)}),n]})},at=!1,lt=!1,ct="${JSCORE_VERSION}",ut=function(e,t){if(!e)throw dt(t)},dt=function(e){return new Error("Firebase Database ("+ct+") INTERNAL ASSERT FAILED: "+e)},ht=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},pt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,s=i?e[o+1]:0,a=o+2<e.length,l=a?e[o+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ht(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const s=o<e.length?n[e.charAt(o)]:64;++o;const a=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==s||null==a)throw new ft;const l=t<<2|i>>4;if(r.push(l),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ft extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mt=function(e){const t=ht(e);return pt.encodeByteArray(t,!0)},gt=function(e){return mt(e).replace(/\./g,"")},vt=function(e){try{return pt.decodeString(e,!0)}catch(L_){console.error("base64Decode failed: ",L_)}return null};function yt(e){return bt(void 0,e)}function bt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=bt(e[n],t[n]));return e}function wt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const xt=()=>{try{return wt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALGOLIA_API_KEY:"b94f7163a6855940c1a0d94e635a307c",REACT_APP_ALGOLIA_APP_ID:"7PVTC2J64R",REACT_APP_ALGOLIA_INDEX_NAME:"searches",REACT_APP_API_URL:"https://sideeye-backend-production.up.railway.app",REACT_APP_FIREBASE_API_KEY:"AIzaSyBI9pvyseKR-5dw3eXuZgTLnG3OcvNGbeI",REACT_APP_FIREBASE_APP_ID:"1:864667627333:web:1ec087179141d1e91a982c",REACT_APP_FIREBASE_AUTH_DOMAIN:"sideeye.uk",REACT_APP_FIREBASE_DATABASE_URL:"https://sideeye-bafda-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"864667627333",REACT_APP_FIREBASE_PROJECT_ID:"sideeye-bafda",REACT_APP_FIREBASE_STORAGE_BUCKET:"sideeye-bafda.firebasestorage.app",REACT_APP_SHOTSTACK_API_KEY:"c0Bpc85oj7cHuDdfhz54eQJmmoEI1qauJyodpw9d",REACT_APP_SOCKET_SERVER_URL:"wss://sideeye-backend-production.up.railway.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(L_){return}const t=e&&vt(e[1]);return t&&JSON.parse(t)})()}catch(L_){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${L_}`)}},At=e=>{var t,n;return null===(n=null===(t=xt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},_t=e=>{const t=At(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},St=()=>{var e;return null===(e=xt())||void 0===e?void 0:e.config},Ct=e=>{var t;return null===(t=xt())||void 0===t?void 0:t[`_${e}`]};class kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Tt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gt(JSON.stringify({alg:"none",type:"JWT"})),gt(JSON.stringify(i)),""].join(".")}function Et(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function It(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function Rt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Pt(){return!0===at||!0===lt}function jt(){return!function(){var e;const t=null===(e=xt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(L_){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dt(){try{return"object"===typeof indexedDB}catch(L_){return!1}}class Nt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],o=r?function(e,t){return e.replace(Ot,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",i=`${this.serviceName}: ${o} (${n}).`;return new Nt(n,i,t)}}const Ot=/\{\$([^}]+)}/g;function Lt(e){return JSON.parse(e)}function Ft(e){return JSON.stringify(e)}const Ut=function(e){let t={},n={},r={},o="";try{const i=e.split(".");t=Lt(vt(i[0])||""),n=Lt(vt(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(L_){}return{header:t,claims:n,data:r,signature:o}};function $t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function zt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Bt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Vt(e,t,n){const r={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}function Wt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(Ht(n)&&Ht(i)){if(!Wt(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Ht(e){return null!==e&&"object"===typeof e}function qt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Gt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Kt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Yt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,o,i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),o=1518500249):(r=s^a^l,o=1859775393):u<60?(r=s&a|l&(s|a),o=2400959708):(r=s^a^l,o=3395469782);const e=(i<<5|i>>>27)+r+c+o+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=i,i=e}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const o=this.buf_;let i=this.inbuf_;for(;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++i,++r,i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++i,++r,i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class Qt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Xt),void 0===r.error&&(r.error=Xt),void 0===r.complete&&(r.complete=Xt);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(L_){}})),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(L_){"undefined"!==typeof console&&console.error&&console.error(L_)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Xt(){}function Jt(e,t){return`${e} failed: ${t} argument `}const Zt=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function en(e){return e&&e._delegate?e._delegate:e}class tn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const nn="[DEFAULT]";class rn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new kt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(L_){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(L_){if(r)return null;throw L_}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:nn})}catch(L_){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(L_){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:on(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;return this.component?this.component.multipleInstances?e:nn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function on(e){return e===nn?void 0:e}class sn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const an=[];var ln;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ln||(ln={}));const cn={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},un=ln.INFO,dn={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},hn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=dn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var o=arguments.length,i=new Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...i)};class pn{constructor(e){this.name=e,this._logLevel=un,this._logHandler=hn,this._userLogHandler=null,an.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?cn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}let fn,mn;const gn=new WeakMap,vn=new WeakMap,yn=new WeakMap,bn=new WeakMap,wn=new WeakMap;let xn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||yn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function An(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mn||(mn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Cn(this),n),Sn(gn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Sn(e.apply(Cn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(Cn(this),t,...r);return yn.set(i,t.sort?t.sort():[t]),Sn(i)}}function _n(e){return"function"===typeof e?An(e):(e instanceof IDBTransaction&&function(e){if(vn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));vn.set(e,t)}(e),t=e,(fn||(fn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,xn):e);var t}function Sn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(Sn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&gn.set(t,e)})).catch((()=>{})),wn.set(t,e),t}(e);if(bn.has(e))return bn.get(e);const t=_n(e);return t!==e&&(bn.set(e,t),wn.set(t,e)),t}const Cn=e=>wn.get(e);const kn=["get","getKey","getAll","getAllKeys","count"],Tn=["put","add","delete","clear"],En=new Map;function In(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(En.get(t))return En.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Tn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!kn.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),o&&t.done]))[0]};return En.set(t,i),i}xn=(e=>({...e,get:(t,n,r)=>In(t,n)||e.get(t,n,r),has:(t,n)=>!!In(t,n)||e.has(t,n)}))(xn);class Rn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Pn="@firebase/app",jn="0.11.5",Dn=new pn("@firebase/app"),Nn="@firebase/app-compat",Mn="@firebase/analytics-compat",On="@firebase/analytics",Ln="@firebase/app-check-compat",Fn="@firebase/app-check",Un="@firebase/auth",$n="@firebase/auth-compat",zn="@firebase/database",Bn="@firebase/data-connect",Vn="@firebase/database-compat",Wn="@firebase/functions",Hn="@firebase/functions-compat",qn="@firebase/installations",Gn="@firebase/installations-compat",Kn="@firebase/messaging",Yn="@firebase/messaging-compat",Qn="@firebase/performance",Xn="@firebase/performance-compat",Jn="@firebase/remote-config",Zn="@firebase/remote-config-compat",er="@firebase/storage",tr="@firebase/storage-compat",nr="@firebase/firestore",rr="@firebase/vertexai",or="@firebase/firestore-compat",ir="firebase",sr="[DEFAULT]",ar={[Pn]:"fire-core",[Nn]:"fire-core-compat",[On]:"fire-analytics",[Mn]:"fire-analytics-compat",[Fn]:"fire-app-check",[Ln]:"fire-app-check-compat",[Un]:"fire-auth",[$n]:"fire-auth-compat",[zn]:"fire-rtdb",[Bn]:"fire-data-connect",[Vn]:"fire-rtdb-compat",[Wn]:"fire-fn",[Hn]:"fire-fn-compat",[qn]:"fire-iid",[Gn]:"fire-iid-compat",[Kn]:"fire-fcm",[Yn]:"fire-fcm-compat",[Qn]:"fire-perf",[Xn]:"fire-perf-compat",[Jn]:"fire-rc",[Zn]:"fire-rc-compat",[er]:"fire-gcs",[tr]:"fire-gcs-compat",[nr]:"fire-fst",[or]:"fire-fst-compat",[rr]:"fire-vertex","fire-js":"fire-js",[ir]:"fire-js-all"},lr=new Map,cr=new Map,ur=new Map;function dr(e,t){try{e.container.addComponent(t)}catch(L_){Dn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,L_)}}function hr(e){const t=e.name;if(ur.has(t))return Dn.debug(`There were multiple attempts to register component ${t}.`),!1;ur.set(t,e);for(const n of lr.values())dr(n,e);for(const n of cr.values())dr(n,e);return!0}function pr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const mr=new Mt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class gr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const vr="11.6.1";function yr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:sr,automaticDataCollectionEnabled:!1},t),o=r.name;if("string"!==typeof o||!o)throw mr.create("bad-app-name",{appName:String(o)});if(n||(n=St()),!n)throw mr.create("no-options");const i=lr.get(o);if(i){if(Wt(n,i.options)&&Wt(r,i.config))return i;throw mr.create("duplicate-app",{appName:o})}const s=new sn(o);for(const l of ur.values())s.addComponent(l);const a=new gr(n,r,s);return lr.set(o,a),a}function br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr;const t=lr.get(e);if(!t&&e===sr&&St())return yr();if(!t)throw mr.create("no-app",{appName:e});return t}function wr(e,t,n){var r;let o=null!==(r=ar[e])&&void 0!==r?r:e;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${o}" with version "${t}":`];return i&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Dn.warn(e.join(" "))}hr(new tn(`${o}-version`,(()=>({library:o,version:t})),"VERSION"))}const xr="firebase-heartbeat-store";let Ar=null;function _r(){return Ar||(Ar=function(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Sn(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Sn(s.result),e.oldVersion,e.newVersion,Sn(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(xr)}catch(L_){console.warn(L_)}}}).catch((e=>{throw mr.create("idb-open",{originalErrorMessage:e.message})}))),Ar}async function Sr(e,t){try{const n=(await _r()).transaction(xr,"readwrite"),r=n.objectStore(xr);await r.put(t,Cr(e)),await n.done}catch(L_){if(L_ instanceof Nt)Dn.warn(L_.message);else{const t=mr.create("idb-set",{originalErrorMessage:null===L_||void 0===L_?void 0:L_.message});Dn.warn(t.message)}}}function Cr(e){return`${e.name}!${e.options.appId}`}class kr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Er(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Tr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(L_){Dn.warn(L_)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Tr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),Ir(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ir(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=gt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(L_){return Dn.warn(L_),""}}}function Tr(){return(new Date).toISOString().substring(0,10)}class Er{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Dt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(vb){t(vb)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await _r()).transaction(xr),n=await t.objectStore(xr).get(Cr(e));return await t.done,n}catch(L_){if(L_ instanceof Nt)Dn.warn(L_.message);else{const t=mr.create("idb-get",{originalErrorMessage:null===L_||void 0===L_?void 0:L_.message});Dn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ir(e){return gt(JSON.stringify({version:2,heartbeats:e})).length}var Rr;Rr="",hr(new tn("platform-logger",(e=>new Rn(e)),"PRIVATE")),hr(new tn("heartbeat",(e=>new kr(e)),"PRIVATE")),wr(Pn,jn,Rr),wr(Pn,jn,"esm2017"),wr("fire-js","");wr("firebase","11.6.1","app");function Pr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function jr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dr=jr,Nr=new Mt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mr=new pn("@firebase/auth");function Or(e){if(Mr.logLevel<=ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mr.error(`Auth (${vr}): ${e}`,...n)}}function Lr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw zr(e,...n)}function Fr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zr(e,...n)}function Ur(e,t,n){const r=Object.assign(Object.assign({},Dr()),{[t]:n});return new Mt("auth","Firebase",r).create(t,{appName:e.name})}function $r(e){return Ur(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Nr.create(e,...n)}function Br(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw zr(t,...r)}}function Vr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Or(t),new Error(t)}function Wr(e,t){e||Vr(t)}function Hr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function qr(){return"http:"===Gr()||"https:"===Gr()}function Gr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Kr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(qr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Yr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wr(t>e,"Short delay should be less than long delay!"),this.isMobile=It()||Rt()}get(){return Kr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qr(e,t){Wr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Xr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zr=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eo=new Yr(3e4,6e4);function to(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function no(e,t,n,r){return ro(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const s=qt(Object.assign({key:e.config.apiKey},i)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},o);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Xr.fetch()(await io(e,e.config.apiHost,n,s),l)}))}async function ro(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jr),t);try{const t=new ao(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw lo(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw lo(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw lo(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw lo(e,"user-disabled",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Ur(e,a,s);Lr(e,a)}}catch(L_){if(L_ instanceof Nt)throw L_;Lr(e,"network-request-failed",{message:String(L_)})}}async function oo(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await no(e,t,n,r,o);return"mfaPendingCredential"in i&&Lr(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function io(e,t,n,r){const o=`${t}${n}?${r}`,i=e,s=i.config.emulator?Qr(e.config,o):`${e.config.apiScheme}://${o}`;if(Zr.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function so(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ao{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Fr(this.auth,"network-request-failed"))),eo.get())}))}}function lo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Fr(e,t,r);return o.customData._tokenResponse=n,o}function co(e){return void 0!==e&&void 0!==e.enterprise}class uo{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return so(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ho(e,t){return no(e,"GET","/v2/recaptchaConfig",to(e,t))}async function po(e,t){return no(e,"POST","/v1/accounts:lookup",t)}function fo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(L_){}}function mo(e){return 1e3*Number(e)}function go(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Or("JWT malformed, contained fewer than 3 sections"),null;try{const e=vt(n);return e?JSON.parse(e):(Or("Failed to decode base64 JWT payload"),null)}catch(L_){return Or("Caught error parsing JWT payload as JSON",null===L_||void 0===L_?void 0:L_.toString()),null}}function vo(e){const t=go(e);return Br(t,"internal-error"),Br("undefined"!==typeof t.exp,"internal-error"),Br("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function yo(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(L_){throw L_ instanceof Nt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(L_)&&e.auth.currentUser===e&&await e.auth.signOut(),L_}}class bo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(L_){return void("auth/network-request-failed"===(null===L_||void 0===L_?void 0:L_.code)&&this.schedule(!0))}this.schedule()}}class wo{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fo(this.lastLoginAt),this.creationTime=fo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xo(e){var t;const n=e.auth,r=await e.getIdToken(),o=await yo(e,po(n,{idToken:r}));Br(null===o||void 0===o?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const s=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?Ao(i.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new wo(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function Ao(e){return e.map((e=>{var{providerId:t}=e,n=Pr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Br(e.idToken,"internal-error"),Br("undefined"!==typeof e.idToken,"internal-error"),Br("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):vo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Br(0!==e.length,"internal-error");const t=vo(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Br(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await ro(e,{},(async()=>{const n=qt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=await io(e,r,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Xr.fetch()(i,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new _o;return n&&(Br("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Br("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(Br("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return Vr("not implemented")}}function So(e,t){Br("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Co{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,o=Pr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wo(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await yo(this,this.stsTokenManager.getToken(this.auth,e));return Br(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=en(e),r=await n.getIdToken(t),o=go(r);Br(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,s=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:fo(mo(o.auth_time)),issuedAtTime:fo(mo(o.iat)),expirationTime:fo(mo(o.exp)),signInProvider:s||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=en(e);await xo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Br(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Co(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Br(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await xo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await yo(this,async function(e,t){return no(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,i,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(i=t.photoURL)&&void 0!==i?i:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:A}=t;Br(y&&A,e,"internal-error");const _=_o.fromJSON(this.name,A);Br("string"===typeof y,e,"internal-error"),So(u,e.name),So(d,e.name),Br("boolean"===typeof b,e,"internal-error"),Br("boolean"===typeof w,e,"internal-error"),So(h,e.name),So(p,e.name),So(f,e.name),So(m,e.name),So(g,e.name),So(v,e.name);const S=new Co({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:_,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(S.providerData=x.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new _o;r.updateFromServerResponse(t);const o=new Co({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await xo(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Br(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?Ao(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===o||void 0===o?void 0:o.length),s=new _o;s.updateFromIdToken(n);const a=new Co({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new wo(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===o||void 0===o?void 0:o.length)};return Object.assign(a,l),a}}const ko=new Map;function To(e){Wr(e instanceof Function,"Expected a class definition");let t=ko.get(e);return t?(Wr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ko.set(e,t),t)}class Eo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Eo.type="NONE";const Io=Eo;function Ro(e,t,n){return`firebase:${e}:${t}:${n}`}class Po{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=Ro(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ro("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await po(this.auth,{idToken:e}).catch((()=>{}));return t?Co._fromGetAccountInfoResponse(this.auth,t,e):null}return Co._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Po(To(Io),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let o=r[0]||To(Io);const i=Ro(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await po(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await Co._fromGetAccountInfoResponse(e,r,t)}else n=Co._fromJSON(e,t);c!==o&&(s=n),o=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return o._shouldAllowMigration&&a.length?(o=a[0],s&&await o._set(i,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==o)try{await e._remove(i)}catch(l){}}))),new Po(o,e,n)):new Po(o,e,n)}}function jo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Oo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Do(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Fo(t))return"Blackberry";if(Uo(t))return"Webos";if(No(t))return"Safari";if((t.includes("chrome/")||Mo(t))&&!t.includes("edge/"))return"Chrome";if(Lo(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Do(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/firefox\//i.test(e)}function No(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/crios\//i.test(e)}function Oo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/iemobile/i.test(e)}function Lo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/android/i.test(e)}function Fo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/blackberry/i.test(e)}function Uo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/webos/i.test(e)}function $o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function zo(){return function(){const e=Et();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Bo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return $o(e)||Lo(e)||Uo(e)||Fo(e)||/windows phone/i.test(e)||Oo(e)}function Vo(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=jo(Et());break;case"Worker":t=`${jo(Et())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${vr}/${r}`}class Wo{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(L_){r(L_)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(L_){t.reverse();for(const n of t)try{n()}catch(wS){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===L_||void 0===L_?void 0:L_.message})}}}class Ho{constructor(e){var t,n,r,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,o,i,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(o=a.containsUppercaseLetter)||void 0===o||o),a.isValid&&(a.isValid=null===(i=a.containsNumericCharacter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class qo{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ko(this),this.idTokenSubscription=new Ko(this),this.beforeStateQueue=new Wo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=To(t)),this._initializationPromise=this.queue((async()=>{var n,r,o;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(L_){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(o=this.currentUser)||void 0===o?void 0:o.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await po(this,{idToken:e}),n=await Co._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==i||!(null===s||void 0===s?void 0:s.user)||(r=s.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(L_){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(L_)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Br(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(L_){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xo(e)}catch(L_){if("auth/network-request-failed"!==(null===L_||void 0===L_?void 0:L_.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject($r(this));const t=e?en(e):null;return t&&Br(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Br(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return fr(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject($r(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(To(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return no(e,"GET","/v2/passwordPolicy",to(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ho(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return no(e,"POST","/v2/accounts:revokeToken",to(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&To(e)||this._popupRedirectResolver;Br(t,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[To(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Br(s,this,"internal-error"),s.then((()=>{i||o(this.currentUser)})),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Br(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Mr.logLevel<=ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mr.warn(`Auth (${vr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Go(e){return en(e)}class Ko{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Qt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Br(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qo(e){return Yo.loadJS(e)}function Xo(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Jo{constructor(){this.enterprise=new Zo}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Zo{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ei="NO_RECAPTCHA";class ti{constructor(e){this.type="recaptcha-enterprise",this.auth=Go(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;co(o)?o.enterprise.ready((()=>{o.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(ei)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Jo).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ho(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new uo(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((o=>{if(!t&&co(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Yo.recaptchaEnterpriseScript;0!==t.length&&(t+=o),Qo(t).then((()=>{n(o,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ni(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new ti(e);let s;if(o)s=ei;else try{s=await i.verify(n)}catch(vb){s=await i.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ri(e,t,n,r,o){var i,s;if("EMAIL_PASSWORD_PROVIDER"===o){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ni(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch((async o=>{if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ni(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)}))}if("PHONE_PROVIDER"===o){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const o=await ni(e,t,n);return r(e,o).catch((async o=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===o.code||"auth/invalid-app-credential"===o.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const o=await ni(e,t,n,!1,!0);return r(e,o)}return Promise.reject(o)}))}{const o=await ni(e,t,n,!1,!0);return r(e,o)}}return Promise.reject(o+" provider is not supported.")}async function oi(e){const t=Go(e),n=await ho(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new uo(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new ti(t).verify()}}function ii(e,t,n){const r=Go(e);Br(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(null===n||void 0===n?void 0:n.disableWarnings),i=si(t),{host:s,port:a}=function(e){const t=si(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:ai(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ai(t)}}}(t),l={url:`${i}//${s}${null===a?"":`:${a}`}/`},c=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator)return Br(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Br(Wt(l,r.config.emulator)&&Wt(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function si(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ai(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class li{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,t){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}async function ci(e,t){return no(e,"POST","/v1/accounts:signUp",t)}async function ui(e,t){return oo(e,"POST","/v1/accounts:signInWithPassword",to(e,t))}async function di(e,t){return no(e,"POST","/v1/accounts:sendOobCode",to(e,t))}async function hi(e,t){return di(e,t)}class pi extends li{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new pi(e,t,"password")}static _fromEmailAndCode(e,t){return new pi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ri(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ui,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return oo(e,"POST","/v1/accounts:signInWithEmailLink",to(e,t))}(e,{email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ri(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ci,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return oo(e,"POST","/v1/accounts:signInWithEmailLink",to(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function fi(e,t){return oo(e,"POST","/v1/accounts:signInWithIdp",to(e,t))}class mi extends li{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=Pr(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new mi(n,r);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){return fi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,fi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qt(t)}return e}}async function gi(e,t){return no(e,"POST","/v1/accounts:sendVerificationCode",to(e,t))}const vi={USER_NOT_FOUND:"user-not-found"};class yi extends li{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new yi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new yi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return oo(e,"POST","/v1/accounts:signInWithPhoneNumber",to(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await oo(e,"POST","/v1/accounts:signInWithPhoneNumber",to(e,t));if(n.temporaryProof)throw lo(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return oo(e,"POST","/v1/accounts:signInWithPhoneNumber",to(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),vi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new yi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class bi{constructor(e){var t,n,r,o,i,s;const a=Gt(Kt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Br(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(o=a.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=a.lang)&&void 0!==i?i:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Gt(Kt(e)).link,n=t?Gt(Kt(t)).deep_link_id:null,r=Gt(Kt(e)).deep_link_id;return(r?Gt(Kt(r)).link:null)||r||n||t||e}(e);try{return new bi(t)}catch(n){return null}}}class wi{constructor(){this.providerId=wi.PROVIDER_ID}static credential(e,t){return pi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=bi.parseLink(t);return Br(n,"argument-error"),pi._fromEmailAndCode(e,n.code,n.tenantId)}}wi.PROVIDER_ID="password",wi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",wi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ai extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _i extends Ai{constructor(){super("facebook.com")}static credential(e){return mi._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch(n){return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com",_i.PROVIDER_ID="facebook.com";class Si extends Ai{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mi._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Si.credential(n,r)}catch(o){return null}}}Si.GOOGLE_SIGN_IN_METHOD="google.com",Si.PROVIDER_ID="google.com";class Ci extends Ai{constructor(){super("github.com")}static credential(e){return mi._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ci.credential(t.oauthAccessToken)}catch(n){return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com",Ci.PROVIDER_ID="github.com";class ki extends Ai{constructor(){super("twitter.com")}static credential(e,t){return mi._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ki.credential(n,r)}catch(o){return null}}}async function Ti(e,t){return oo(e,"POST","/v1/accounts:signUp",to(e,t))}ki.TWITTER_SIGN_IN_METHOD="twitter.com",ki.PROVIDER_ID="twitter.com";class Ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await Co._fromIdTokenResponse(e,n,r),i=Ii(n);return new Ei({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ii(n);return new Ei({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ii(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ri extends Nt{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ri.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ri(e,t,n,r)}}function Pi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ri._fromErrorAndOperation(e,n,t,r);throw n}))}async function ji(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await yo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ei._forOperation(e,"link",r)}async function Di(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(fr(r.app))return Promise.reject($r(r));const o="reauthenticate";try{const i=await yo(e,Pi(r,o,t,e),n);Br(i.idToken,r,"internal-error");const s=go(i.idToken);Br(s,r,"internal-error");const{sub:a}=s;return Br(e.uid===a,r,"user-mismatch"),Ei._forOperation(e,o,i)}catch(L_){throw"auth/user-not-found"===(null===L_||void 0===L_?void 0:L_.code)&&Lr(r,"user-mismatch"),L_}}async function Ni(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(fr(e.app))return Promise.reject($r(e));const r="signIn",o=await Pi(e,r,t),i=await Ei._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}async function Mi(e,t){return Ni(Go(e),t)}async function Oi(e,t){return Di(en(e),t)}function Li(e,t,n){var r;Br((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Br("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Br("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Br(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Br(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Fi(e){const t=Go(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ui(e,t){const n=en(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Li(n.auth,r,t);const{email:o}=await async function(e,t){return di(e,t)}(n.auth,r);o!==e.email&&await e.reload()}async function $i(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const o=en(e),i={idToken:await o.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await yo(o,async function(e,t){return no(e,"POST","/v1/accounts:update",t)}(o.auth,i));o.displayName=s.displayName||null,o.photoURL=s.photoUrl||null;const a=o.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=o.displayName,a.photoURL=o.photoURL),await o._updateTokensIfNecessary(s)}function zi(e,t,n,r){return en(e).onAuthStateChanged(t,n,r)}function Bi(e){return en(e).signOut()}function Vi(e,t){return no(e,"POST","/v2/accounts/mfaEnrollment:start",to(e,t))}new WeakMap;const Wi="__sak";class Hi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wi,"1"),this.storage.removeItem(Wi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class qi extends Hi{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bo(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);zo()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qi.type="LOCAL";const Gi=qi;function Ki(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),o=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(o))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function Yi(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Qi{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Yi(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Ki(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Yi(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=Yi(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Ki(n);const o=setInterval((()=>{const e=Ki(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(o)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Qi.type="COOKIE";class Xi extends Hi{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Xi.type="SESSION";const Ji=Xi;class Zi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Zi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map((async e=>e(t.origin,o))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zi.receivers=[];class ts{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise(((s,a)=>{const l=es("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),s(t.data.response);break;default:clearTimeout(c),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function ns(){return window}function rs(){return"undefined"!==typeof ns().WorkerGlobalScope&&"function"===typeof ns().importScripts}const os="firebaseLocalStorageDb",is="firebaseLocalStorage",ss="fbase_key";class as{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ls(e,t){return e.transaction([is],t?"readwrite":"readonly").objectStore(is)}function cs(){const e=indexedDB.open(os,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(is,{keyPath:ss})}catch(L_){n(L_)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(is)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(os);return new as(e).toPromise()}(),t(await cs()))}))}))}async function us(e,t,n){const r=ls(e,!0).put({[ss]:t,value:n});return new as(r).toPromise()}function ds(e,t){const n=ls(e,!0).delete(t);return new as(n).toPromise()}class hs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await cs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(L_){if(t++>3)throw L_;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zi._getInstance(rs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ts(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cs();return await us(e,Wi,"1"),await ds(e,Wi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>us(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ls(e,!1).get(t),r=await new as(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ds(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ls(e,!1).getAll();return new as(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}hs.type="LOCAL";const ps=hs;function fs(e,t){return no(e,"POST","/v2/accounts/mfaSignIn:start",to(e,t))}Xo("rcb"),new Yr(3e4,6e4);const ms="recaptcha";async function gs(e,t,n){var r;if(!e._getRecaptchaConfig())try{await oi(e)}catch(vb){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Br("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=ri(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ei){Br((null===n||void 0===n?void 0:n.type)===ms,e,"argument-error");return Vi(e,await vs(e,t,n))}return Vi(e,t)}),"PHONE_PROVIDER"),s=await i.catch((e=>Promise.reject(e)));return s.phoneSessionInfo.sessionInfo}{Br("signin"===t.type,e,"internal-error");const i=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Br(i,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=ri(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ei){Br((null===n||void 0===n?void 0:n.type)===ms,e,"argument-error");return fs(e,await vs(e,t,n))}return fs(e,t)}),"PHONE_PROVIDER"),l=await a.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=ri(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===ei){Br((null===n||void 0===n?void 0:n.type)===ms,e,"argument-error");return gi(e,await vs(e,t,n))}return gi(e,t)}),"PHONE_PROVIDER"),i=await r.catch((e=>Promise.reject(e)));return i.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function vs(e,t,n){Br(n.type===ms,e,"argument-error");const r=await n.verify();Br("string"===typeof r,e,"argument-error");const o=Object.assign({},t);if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.captchaResponse,n=o.phoneEnrollmentInfo.clientType,i=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),o}if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.captchaResponse,t=o.phoneSignInInfo.clientType,n=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),o}return Object.assign(o,{recaptchaToken:r}),o}class ys{constructor(e){this.providerId=ys.PROVIDER_ID,this.auth=Go(e)}verifyPhoneNumber(e,t){return gs(this.auth,e,en(t))}static credential(e,t){return yi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ys.credentialFromTaggedObject(t)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?yi._fromTokenResponse(n,r):null}}function bs(e,t){return t?To(t):(Br(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ys.PROVIDER_ID="phone",ys.PHONE_SIGN_IN_METHOD="phone";class ws extends li{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xs(e){return Ni(e.auth,new ws(e),e.bypassAuthState)}function As(e){const{auth:t,user:n}=e;return Br(n,t,"internal-error"),Di(n,new ws(e),e.bypassAuthState)}async function _s(e){const{auth:t,user:n}=e;return Br(n,t,"internal-error"),ji(n,new ws(e),e.bypassAuthState)}class Ss{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(L_){this.reject(L_)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:s}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(L_){this.reject(L_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xs;case"linkViaPopup":case"linkViaRedirect":return _s;case"reauthViaPopup":case"reauthViaRedirect":return As;default:Lr(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cs=new Yr(2e3,1e4);class ks extends Ss{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Br(e,this.auth,"internal-error"),e}async onExecution(){Wr(1===this.filter.length,"Popup operations only handle one event");const e=es();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Fr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Cs.get())};e()}}ks.currentPopupAction=null;const Ts=new Map;class Es extends Ss{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ts.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ps(t),r=Rs(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(L_){e=()=>Promise.reject(L_)}Ts.set(this.auth._key(),e)}return this.bypassAuthState||Ts.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Is(e,t){Ts.set(e._key(),t)}function Rs(e){return To(e._redirectPersistence)}function Ps(e){return Ro("pendingRedirect",e.config.apiKey,e.name)}async function js(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(fr(e.app))return Promise.reject($r(e));const r=Go(e),o=bs(r,t),i=new Es(r,o,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Ds{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ms(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ms(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Fr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ns(e))}saveEventToCache(e){this.cachedEventUids.add(Ns(e)),this.lastProcessedEventTime=Date.now()}}function Ns(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ms(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Os=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ls=/^https?/;async function Fs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return no(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Us(r))return}catch(n){}Lr(e,"unauthorized-domain")}function Us(e){const t=Hr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Ls.test(n))return!1;if(Os.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const $s=new Yr(3e4,6e4);function zs(){const e=ns().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Bs(e){return new Promise(((t,n)=>{var r,o,i;function s(){zs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zs(),n(Fr(e,"network-request-failed"))},timeout:$s.get()})}if(null===(o=null===(r=ns().gapi)||void 0===r?void 0:r.iframes)||void 0===o?void 0:o.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=ns().gapi)||void 0===i?void 0:i.load)){const t=Xo("iframefcb");return ns()[t]=()=>{gapi.load?s():n(Fr(e,"network-request-failed"))},Qo(`${Yo.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Vs=null,e}))}let Vs=null;const Ws=new Yr(5e3,15e3),Hs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gs(e){const t=e.config;Br(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:vr},o=qs.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${qt(r).slice(1)}`}async function Ks(e){const t=await function(e){return Vs=Vs||Bs(e),Vs}(e),n=ns().gapi;return Br(n,e,"internal-error"),t.open({where:document.body,url:Gs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hs,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=Fr(e,"network-request-failed"),i=ns().setTimeout((()=>{r(o)}),Ws.get());function s(){ns().clearTimeout(i),n(t)}t.ping(s).then(s,(()=>{r(o)}))}))))}const Ys={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(L_){}}}function Xs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ys),{width:r.toString(),height:o.toString(),top:i,left:s}),c=Et().toLowerCase();n&&(a=Mo(c)?"_blank":n),Do(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return $o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Qs(null);const d=window.open(t||"",a,u);Br(d,e,"popup-blocked");try{d.focus()}catch(L_){}return new Qs(d)}const Js="__/auth/handler",Zs="emulator/auth/handler",ea=encodeURIComponent("fac");async function ta(e,t,n,r,o,i){Br(e.config.authDomain,e,"auth-domain-config-required"),Br(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vr,eventId:o};if(t instanceof xi){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Bt(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof Ai){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${ea}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Js}`;return Qr(t,Zs)}(e)}?${qt(a).slice(1)}${c}`}const na="webStorageSupport";const ra=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ji,this._completeRedirectFn=js,this._overrideRedirectResult=Is}async _openPopup(e,t,n,r){var o;Wr(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return Xs(e,await ta(e,t,n,Hr(),r),es())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ns().location.href=e}(await ta(e,t,n,Hr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Wr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ks(e),n=new Ds(e);return t.register("authEvent",(t=>{Br(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(na,{type:na},(n=>{var r;const o=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[na];void 0!==o&&t(!!o),Lr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Fs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Bo()||No()||$o()}};var oa="@firebase/auth",ia="1.10.1";class sa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Br(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const aa=Ct("authIdTokenMaxAge")||300;let la=null;function ca(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();const t=pr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=pr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Wt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Lr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ra,persistence:[ps,Gi,Ji]}),r=Ct("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aa)return;const o=null===n||void 0===n?void 0:n.token;la!==o&&(la=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))})(e.toString());!function(e,t,n){en(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){en(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}const o=At("auth");return o&&ii(n,`http://${o}`),n}var ua;!function(e){Yo=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Fr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),ua="Browser",hr(new tn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Br(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:ua,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vo(ua)},c=new qo(r,o,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(To);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),hr(new tn("auth-internal",(e=>(e=>new sa(e))(Go(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),wr(oa,ia,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ua)),wr(oa,ia,"esm2017");var da,ha,pa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},fa={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var o=0;16>o;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var i=e.g[3],s=t+(i^n&(o^i))+r[0]+3614090360&4294967295;s=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=(n=(o=(i=(t=n+(s<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^n&(o^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^t&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^o&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^i&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(o^i&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=o+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^t&(o^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^o^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^o^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(t^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(o^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(o^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=o+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(t=n+((s=t+(o^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(t|~o))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((o=i+((s=o+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,o=e.length-1;0<=o;o--){var i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,o=this.B,i=this.h,s=0;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(o[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,o),i=0;break}}else for(;s<t;)if(o[i++]=e[s++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var o={};function i(e){return-128<=e&&128>e?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,o=0;e>=n;o++)t[o]=e/n|0,n*=4294967296;return new r(t,0)}var a=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],o=0;o<t;o++)n[o]=~e.g[o];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var o=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(o=o.add(n),i=c),r=y(r,1),n=y(n,1)}return t=p(e,o.j(t)),new m(o,t)}for(o=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=s(n)).j(t);d(c)||0<c.l(e);)c=(i=s(n-=r)).j(t);u(i)&&(i=l),o=o.add(i),e=p(e,c)}return new m(o,e)}function v(e){for(var t=e.g.length+1,n=[],o=0;o<t;o++)n[o]=e.i(o)<<1|e.i(o-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var o=e.g.length-n,i=[],s=0;s<o;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var o=g(n,t).g,i=((0<(n=p(n,o.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=o))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0,i=0;i<=t;i++){var s=o+(65535&this.i(i))+(65535&e.i(i)),a=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);o=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],o=0;o<2*t;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var i=0;i<e.g.length;i++){var l=this.i(o)>>>16,p=65535&this.i(o),m=e.i(i)>>>16,g=65535&e.i(i);n[2*o+2*i]+=p*g,f(n,2*o+2*i),n[2*o+2*i+1]+=l*g,f(n,2*o+2*i+1),n[2*o+2*i+1]+=p*m,f(n,2*o+2*i+1),n[2*o+2*i+2]+=l*m,f(n,2*o+2*i+2)}for(o=0;o<t;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=t;o<2*t;o++)n[o]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)&e.i(o);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)|e.i(o);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],o=0;o<t;o++)n[o]=this.i(o)^e.i(o);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ha=fa.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),o=a,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=s(Math.pow(n,l)),o=o.j(l).add(s(c))):o=(o=o.j(r)).add(s(c))}return o},da=fa.Integer=r}).apply("undefined"!==typeof pa?pa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ma,ga,va,ya,ba,wa,xa,Aa,_a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Sa={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof _a&&_a];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in o))break e;o=o[s]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,(function(e,t){return t}))}}));var r=r||{},o=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function A(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){o.setTimeout((()=>{throw e}),0)}function S(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new k),(e=>e.reset()));class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,E=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=o.Promise.resolve(void 0);T=()=>{e.then(P)}};var P=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(V_){_(V_)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}E=!1};function j(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(V_){}return e}();function M(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var o=!0;break e}catch(K_){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,D);var O={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++F,this.da=this.fa=!1}function $(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&($(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}z.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=V(e,t,r,o);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new U(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function q(e,t,n,r,o){if(r&&r.once)return K(e,t,n,r,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)q(e,t[i],n,r,o);return null}return n=te(n),e&&e[L]?e.K(t,n,s(r)?!!r.capture:!!r,o):G(e,t,n,!1,r,o)}function G(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var a=s(o)?!!o.capture:!!o,l=Z(e);if(l||(e[W]=l=new z(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)N||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,o){if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,o);return null}return n=te(n),e&&e[L]?e.L(t,n,s(r)?!!r.capture:!!r,o):G(e,t,n,!0,r,o)}function Y(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],n,r,o);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(i=e.g[t],n,r,o))&&($(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,o)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):$(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){j.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var o=t;x(t=new D(r,e),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];o=oe(s,r,!0,t)&&o}if(o=oe(s=t.g=e,r,!0,t)&&o,o=oe(s,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=oe(s=t.g=n[i],r,!1,t)&&o}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&B(e.i,s),o=!1!==a.call(l,r)&&o}}return o&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function se(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,j),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends j{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){j.call(this),this.h=e,this.g={}}d(le,j);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=o.JSON.stringify,he=o.JSON.parse,pe=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function fe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){D.call(this,"d")}function be(){D.call(this,"c")}d(ye,D),d(be,D);var we={},xe=null;function Ae(){return xe=xe||new ne}function _e(e){D.call(this,we.La,e)}function Se(e){const t=Ae();re(t,new _e(t))}function Ce(e,t){D.call(this,we.STAT_EVENT,e),this.stat=t}function ke(e){const t=Ae();re(t,new Ce(t,e))}function Te(e,t){D.call(this,we.Ma,e),this.size=t}function Ee(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<o.length;s++)o[s]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(_e,D),we.STAT_EVENT="statevent",d(Ce,D),we.Ma="timingevent",d(Te,D),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Pe,je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ne(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}d(Ne,fe),Ne.prototype.g=function(){return new XMLHttpRequest},Ne.prototype.i=function(){return{}},Pe=new Ne;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,$e(e,null)}function $e(e,t){e.F=Date.now(),Ve(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var o="readystatechange";Array.isArray(o)||(o&&(ce[0]=o.toString()),o=ce);for(var i=0;i<o.length;i++){var s=q(n,o[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,o,i){e.info((function(){if(e.g)if(i)for(var s="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ee(c(e.ba,e),t)}function He(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||an(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(U_){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Yt(n)}nn(n),ke(18)}}else n.za=o[1],0<n.za-n.T&&37500>o[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ee(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(U_){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&sn(n),!f(t))for(o=n.Da.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const o=c[4];null!=o&&(n.Aa=o,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(He(a),Ve(a)),r.g=s}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Kt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(U_){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=h||7==t||Se(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Ht(this.g);e="";var i=r.length,s=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),qe(this);var a="";break t}this.h.i=new o.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,o,i,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,ke(12),Ge(this),qe(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Fe){4==h&&(this.s=4,ke(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,ke(15),Re(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),Ke(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),rn(d),d.M=!0,ke(11))}}else Re(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),qe(this)}else Re(this.i,this.l,a,null),Ke(this,a);4==h&&Ge(this),this.o&&!this.J&&(4==h?an(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=A(e[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),Ge(this),qe(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,Ge(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),ke(17)),Ge(this),this.s=2,qe(this)):We(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,o.PerformanceNavigationTiming?e=0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),o=r.length,s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function st(e){return new it(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(At(this,t),St(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,yt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?vt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,vt=/[#\?]/g,yt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function At(e,t){xt(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return xt(e),t=Ct(e,t),e.g.has(t)}function St(e,t,n){At(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(K_){}}function Tt(){this.g=new pe}function Et(e,t,n){const r=n||"";try{rt(e,(function(e,n){let o=e;s(e)&&(o=de(e)),t.push(r+n+"="+encodeURIComponent(o))}))}catch(L_){throw t.push(r+"type="+encodeURIComponent("_badmap")),L_}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Rt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ot(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const o=e[r];for(let e=0;e<o.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)_t(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,_t(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var o=i;""!==s[r]&&(o+="="+encodeURIComponent(String(s[r]))),e.push(o)}}return this.i=e.join("&")},d(It,fe),It.prototype.g=function(){return new Rt(this.l,this.j)},It.prototype.i=function(e){return function(){return e}}({}),d(Rt,ne),(e=Rt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):Dt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Qa=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ot,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),Bt(e)}function $t(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var s=String(e.D).match(ot)[1]||null;!s&&o.self&&o.self.location&&(s=o.self.location.protocol.slice(0,-1)),i=!Lt.test(s?s.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",$t(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){Vt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(L_){}}}function Vt(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qt("baseRetryDelayMs",5e3,e),this.cb=qt("retryDelaySeedMs",1e4,e),this.Wa=qt("forwardChannelMaxRetries",2,e),this.wa=qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kt(e){if(Qt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch(G_){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}un(e)}function Yt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Qt(e){Yt(e),e.u&&(o.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&o.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||R(),E||(T(),E=!0),I.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=o[a].g;const l=o[a].map;if(n-=t,0>n)t=Math.max(0,o[a].g-100),s=!1;else try{Et(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||R(),E||(T(),E=!0),I.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ee(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,$e(n,e)}function sn(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function an(e,t){var n=null;if(e.g==t){sn(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var o=e.B;re(r=Ae(),new Te(r,n)),Xt(e)}else tn(e);else if(3==(o=t.s)||0==o&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ee(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),o){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ie;if(o.Image){const r=new Image;r.onload=u(kt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(kt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(kt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(kt,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),kt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)})).catch((()=>{clearTimeout(r),kt(0,0,!1,t)}))}(r.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),un(e),Qt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof it?st(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new it(null);r&&at(s,r),t&&(s.g=t),i&&lt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ot(new It({eb:n})):new Ot(e.pa)).Ha(e.J),t}function pn(){}function fn(){}function mn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yn(this)}function gn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function yn(e){this.g=e}(e=Ot.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(K_){return void Ut(this,K_)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(K_){Ut(this,K_)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Ot.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch($_){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch($_){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){ke(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const o=new Me(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),x(i,this.S)):i=this.S),null!==this.m||this.O||(o.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,o,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Nt(i)))+"&"+t:this.m&&Mt(n,this.m,i)),et(this.h,o),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),o.T=!0,Ue(o,n,null)):Ue(o,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ee(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Yt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),nn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Kt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ye),d(vn,be),d(yn,pn),yn.prototype.ua=function(){re(this.g,"a")},yn.prototype.ta=function(e){re(this.g,new gn(e))},yn.prototype.sa=function(e){re(this.g,new vn)},yn.prototype.ra=function(){re(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Aa=Sa.createWebChannelTransport=function(){return new fn},xa=Sa.getStatEventTarget=function(){return Ae()},wa=Sa.Event=we,ba=Sa.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,ya=Sa.ErrorCode=je,De.COMPLETE="complete",va=Sa.EventType=De,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ga=Sa.WebChannel=ge,Sa.FetchXmlHttpFactory=It,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,ma=Sa.XhrIo=Ot}).apply("undefined"!==typeof _a?_a:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ca="@firebase/firestore",ka="4.7.11";class Ta{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ta.UNAUTHENTICATED=new Ta(null),Ta.GOOGLE_CREDENTIALS=new Ta("google-credentials-uid"),Ta.FIRST_PARTY=new Ta("first-party-uid"),Ta.MOCK_USER=new Ta("mock-user");let Ea="11.6.1";const Ia=new pn("@firebase/firestore");function Ra(){return Ia.logLevel}function Pa(e){if(Ia.logLevel<=ln.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(Na);Ia.debug(`Firestore (${Ea}): ${e}`,...o)}}function ja(e){if(Ia.logLevel<=ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(Na);Ia.error(`Firestore (${Ea}): ${e}`,...o)}}function Da(e){if(Ia.logLevel<=ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(Na);Ia.warn(`Firestore (${Ea}): ${e}`,...o)}}function Na(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(F_){return e}}function Ma(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Oa(e,r,n)}function Oa(e,t,n){let r=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ja(r),new Error(r)}function La(e,t,n,r){let o="Unexpected state";"string"==typeof n?o=n:r=n,e||Oa(t,o,r)}function Fa(e,t){return e}const Ua={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $a extends Nt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class za{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ba{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Va{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ta.UNAUTHENTICATED)))}shutdown(){}}class Wa{constructor(e){this.t=e,this.currentUser=Ta.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){La(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new za;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new za,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=o;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Pa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Pa("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new za)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Pa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(La("string"==typeof t.accessToken,31837,{l:t}),new Ba(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return La(null===e||"string"==typeof e,2055,{h:e}),new Ta(e)}}class Ha{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ta.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qa{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Ha(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ta.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ga{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ka{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){La(void 0===this.o,3512);const n=e=>{null!=e.error&&Pa("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,Pa("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Pa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Pa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ga(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(La("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ga(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ya(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Qa(){return new TextEncoder}class Xa{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ya(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Ja(e,t){return e<t?-1:e>t?1:0}function Za(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),o=t.codePointAt(n);if(r!==o){if(r<128&&o<128)return Ja(r,o);{const i=Qa(),s=tl(i.encode(el(e,n)),i.encode(el(t,n)));return 0!==s?s:Ja(r,o)}}n+=r>65535?2:1}return Ja(e.length,t.length)}function el(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function tl(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Ja(e[n],t[n]);return Ja(e.length,t.length)}function nl(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const rl=-62135596800,ol=1e6;class il{static now(){return il.fromMillis(Date.now())}static fromDate(e){return il.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ol);return new il(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $a(Ua.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $a(Ua.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rl)throw new $a(Ua.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $a(Ua.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ol}_compareTo(e){return this.seconds===e.seconds?Ja(this.nanoseconds,e.nanoseconds):Ja(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-rl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class sl{static fromTimestamp(e){return new sl(e)}static min(){return new sl(new il(0,0))}static max(){return new sl(new il(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const al="__name__";class ll{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ma(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Ma(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ll.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ll?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ll.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Ja(e.length,t.length)}static compareSegments(e,t){const n=ll.isNumericId(e),r=ll.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ll.extractNumericId(e).compare(ll.extractNumericId(t)):Za(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class cl extends ll{construct(e,t,n){return new cl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new $a(Ua.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);e.push(...o.split("/").filter((e=>e.length>0)))}return new cl(e)}static emptyPath(){return new cl([])}}const ul=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dl extends ll{construct(e,t,n){return new dl(e,t,n)}static isValidIdentifier(e){return ul.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dl.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===al}static keyField(){return new dl([al])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new $a(Ua.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new $a(Ua.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new $a(Ua.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new $a(Ua.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dl(t)}static emptyPath(){return new dl([])}}class hl{constructor(e){this.path=e}static fromPath(e){return new hl(cl.fromString(e))}static fromName(e){return new hl(cl.fromString(e).popFirst(5))}static empty(){return new hl(cl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new hl(new cl(e.slice()))}}const pl=-1;class fl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}fl.UNKNOWN_ID=-1;function ml(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=sl.fromTimestamp(1e9===r?new il(n+1,0):new il(n,r));return new vl(o,hl.empty(),t)}function gl(e){return new vl(e.readTime,e.key,pl)}class vl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new vl(sl.min(),hl.empty(),pl)}static max(){return new vl(sl.max(),hl.empty(),pl)}}function yl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=hl.comparator(e.documentKey,t.documentKey),0!==n?n:Ja(e.largestBatchId,t.largestBatchId))}const bl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xl(e){if(e.code!==Ua.FAILED_PRECONDITION||e.message!==bl)throw e;Pa("LocalStore","Unexpectedly lost primary lease")}class Al{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ma(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Al(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Al?t:Al.resolve(t)}catch(e){return Al.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Al.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Al.reject(t)}static resolve(e){return new Al(((t,n)=>{t(e)}))}static reject(e){return new Al(((t,n)=>{n(e)}))}static waitFor(e){return new Al(((t,n)=>{let r=0,o=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++o,i&&o===r&&t()}),(e=>n(e)))})),i=!0,o===r&&t()}))}static or(e){let t=Al.resolve(!1);for(const n of e)t=t.next((e=>e?Al.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Al(((n,r)=>{const o=e.length,i=new Array(o);let s=0;for(let a=0;a<o;a++){const l=a;t(e[l]).next((e=>{i[l]=e,++s,s===o&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new Al(((n,r)=>{const o=()=>{!0===e()?t().next((()=>{o()}),r):n()};o()}))}}function _l(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sl(e){return"IndexedDbTransactionError"===e.name}class Cl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Cl.le=-1;const kl=-1;function Tl(e){return null==e}function El(e){return 0===e&&1/e==-1/0}function Il(e){return"number"==typeof e&&Number.isInteger(e)&&!El(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Rl="\x01";function Pl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Dl(t)),t=jl(e.get(n),t);return Dl(t)}function jl(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const t=e.charAt(o);switch(t){case"\0":n+="\x01\x10";break;case Rl:n+="\x01\x11";break;default:n+=t}}return n}function Dl(e){return e+Rl+"\x01"}const Nl="remoteDocuments",Ml="owner",Ol="mutationQueues",Ll="mutations";const Fl="documentMutations",Ul="remoteDocumentsV14",$l="remoteDocumentGlobal",zl="targets",Bl="targetDocuments",Vl="targetGlobal",Wl="collectionParents",Hl="clientMetadata",ql="bundles",Gl="namedQueries",Kl="indexConfiguration",Yl="indexState",Ql="indexEntries",Xl="documentOverlays",Jl="globals",Zl=[Ol,Ll,Fl,Nl,zl,Ml,Vl,Bl,Hl,$l,Wl,ql,Gl],ec=[Ol,Ll,Fl,Ul,zl,Ml,Vl,Bl,Hl,$l,Wl,ql,Gl,Xl],tc=ec,nc=[...tc,Kl,Yl,Ql];function rc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function oc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ic(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class sc{constructor(e,t){this.comparator=e,this.root=t||lc.EMPTY}insert(e,t){return new sc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lc.BLACK,null,null))}remove(e){return new sc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lc{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:lc.RED,this.left=null!=r?r:lc.EMPTY,this.right=null!=o?o:lc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new lc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return lc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return lc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ma(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ma(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ma(27949);return e+(this.isRed()?0:1)}}lc.EMPTY=null,lc.RED=!0,lc.BLACK=!1,lc.EMPTY=new class{constructor(){this.size=0}get key(){throw Ma(57766)}get value(){throw Ma(16141)}get color(){throw Ma(16727)}get left(){throw Ma(29726)}get right(){throw Ma(36894)}copy(e,t,n,r,o){return this}insert(e,t,n){return new lc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cc{constructor(e){this.comparator=e,this.data=new sc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uc(this.data.getIterator())}getIteratorFrom(e){return new uc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof cc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new cc(this.comparator);return t.data=e,t}}class uc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class dc{constructor(e){this.fields=e,e.sort(dl.comparator)}static empty(){return new dc([])}unionWith(e){let t=new cc(dl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new dc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class hc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new hc("Invalid base64 string: "+e):e}}(e);return new pc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new pc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ja(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pc.EMPTY_BYTE_STRING=new pc("");const fc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mc(e){if(La(!!e,39018),"string"==typeof e){let t=0;const n=fc.exec(e);if(La(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:gc(e.seconds),nanos:gc(e.nanos)}}function gc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vc(e){return"string"==typeof e?pc.fromBase64String(e):pc.fromUint8Array(e)}const yc="server_timestamp",bc="__type__",wc="__previous_value__",xc="__local_write_time__";function Ac(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[bc])||void 0===n?void 0:n.stringValue)===yc}function _c(e){const t=e.mapValue.fields[wc];return Ac(t)?_c(t):t}function Sc(e){const t=mc(e.mapValue.fields[xc].timestampValue);return new il(t.seconds,t.nanos)}class Cc{constructor(e,t,n,r,o,i,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}const kc="(default)";class Tc{constructor(e,t){this.projectId=e,this.database=t||kc}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===kc}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}const Ec="__type__",Ic="__max__",Rc={mapValue:{fields:{__type__:{stringValue:Ic}}}},Pc="__vector__",jc="value";function Dc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ac(e)?4:Qc(e)?9007199254740991:Kc(e)?10:11:Ma(28295,{value:e})}function Nc(e,t){if(e===t)return!0;const n=Dc(e);if(n!==Dc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sc(e).isEqual(Sc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=mc(e.timestampValue),r=mc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vc(e.bytesValue).isEqual(vc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return gc(e.geoPointValue.latitude)===gc(t.geoPointValue.latitude)&&gc(e.geoPointValue.longitude)===gc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return gc(e.integerValue)===gc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=gc(e.doubleValue),r=gc(t.doubleValue);return n===r?El(n)===El(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return nl(e.arrayValue.values||[],t.arrayValue.values||[],Nc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rc(n)!==rc(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!Nc(n[o],r[o])))return!1;return!0}(e,t);default:return Ma(52216,{left:e})}}function Mc(e,t){return void 0!==(e.values||[]).find((e=>Nc(e,t)))}function Oc(e,t){if(e===t)return 0;const n=Dc(e),r=Dc(t);if(n!==r)return Ja(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ja(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=gc(e.integerValue||e.doubleValue),r=gc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Lc(e.timestampValue,t.timestampValue);case 4:return Lc(Sc(e),Sc(t));case 5:return Za(e.stringValue,t.stringValue);case 6:return function(e,t){const n=vc(e),r=vc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let o=0;o<n.length&&o<r.length;o++){const e=Ja(n[o],r[o]);if(0!==e)return e}return Ja(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ja(gc(e.latitude),gc(t.latitude));return 0!==n?n:Ja(gc(e.longitude),gc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Fc(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,o,i;const s=e.fields||{},a=t.fields||{},l=null===(n=s[jc])||void 0===n?void 0:n.arrayValue,c=null===(r=a[jc])||void 0===r?void 0:r.arrayValue,u=Ja((null===(o=null==l?void 0:l.values)||void 0===o?void 0:o.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Fc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Rc.mapValue&&t===Rc.mapValue)return 0;if(e===Rc.mapValue)return 1;if(t===Rc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=Za(r[s],i[s]);if(0!==e)return e;const t=Oc(n[r[s]],o[i[s]]);if(0!==t)return t}return Ja(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Ma(23264,{Pe:n})}}function Lc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ja(e,t);const n=mc(e),r=mc(t),o=Ja(n.seconds,r.seconds);return 0!==o?o:Ja(n.nanos,r.nanos)}function Fc(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const e=Oc(n[o],r[o]);if(e)return e}return Ja(n.length,r.length)}function Uc(e){return $c(e)}function $c(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=mc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return vc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return hl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=$c(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+=`${o}:${$c(e.fields[o])}`;return n+"}"}(e.mapValue):Ma(61005,{value:e})}function zc(e){switch(Dc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_c(e);return t?16+zc(t):16;case 5:return 2*e.stringValue.length;case 6:return vc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+zc(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return oc(e.fields,((e,n)=>{t+=e.length+zc(n)})),t}(e.mapValue);default:throw Ma(13486,{value:e})}}function Bc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Vc(e){return!!e&&"integerValue"in e}function Wc(e){return!!e&&"arrayValue"in e}function Hc(e){return!!e&&"nullValue"in e}function qc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gc(e){return!!e&&"mapValue"in e}function Kc(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Ec])||void 0===n?void 0:n.stringValue)===Pc}function Yc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return oc(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Yc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Yc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Qc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ic}class Xc{constructor(e){this.value=e}static empty(){return new Xc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Gc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(t)}setAll(e){let t=dl.emptyPath(),n={},r=[];e.forEach(((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=Yc(e):r.push(o.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());Gc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Gc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){oc(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Xc(Yc(this.value))}}function Jc(e){const t=[];return oc(e.fields,((e,n)=>{const r=new dl([e]);if(Gc(n)){const e=Jc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new dc(t)}class Zc{constructor(e,t,n,r,o,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Zc(e,0,sl.min(),sl.min(),sl.min(),Xc.empty(),0)}static newFoundDocument(e,t,n,r){return new Zc(e,1,t,sl.min(),n,r,0)}static newNoDocument(e,t){return new Zc(e,2,t,sl.min(),sl.min(),Xc.empty(),0)}static newUnknownDocument(e,t){return new Zc(e,3,t,sl.min(),sl.min(),Xc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(sl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eu{constructor(e,t){this.position=e,this.inclusive=t}}function tu(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],s=e.position[o];if(r=i.field.isKeyField()?hl.comparator(hl.fromName(s.referenceValue),n.key):Oc(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function nu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nc(e.position[n],t.position[n]))return!1;return!0}class ru{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ou(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class iu{}class su extends iu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new fu(e,t,n):"array-contains"===t?new yu(e,n):"in"===t?new bu(e,n):"not-in"===t?new wu(e,n):"array-contains-any"===t?new xu(e,n):new su(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new mu(e,n):new gu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Oc(t,this.value)):null!==t&&Dc(this.value)===Dc(t)&&this.matchesComparison(Oc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ma(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class au extends iu{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new au(e,t)}matches(e){return lu(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function lu(e){return"and"===e.op}function cu(e){return uu(e)&&lu(e)}function uu(e){for(const t of e.filters)if(t instanceof au)return!1;return!0}function du(e){if(e instanceof su)return e.field.canonicalString()+e.op.toString()+Uc(e.value);if(cu(e))return e.filters.map((e=>du(e))).join(",");{const t=e.filters.map((e=>du(e))).join(",");return`${e.op}(${t})`}}function hu(e,t){return e instanceof su?function(e,t){return t instanceof su&&e.op===t.op&&e.field.isEqual(t.field)&&Nc(e.value,t.value)}(e,t):e instanceof au?function(e,t){return t instanceof au&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&hu(n,t.filters[r])),!0)}(e,t):void Ma(19439)}function pu(e){return e instanceof su?function(e){return`${e.field.canonicalString()} ${e.op} ${Uc(e.value)}`}(e):e instanceof au?function(e){return e.op.toString()+" {"+e.getFilters().map(pu).join(" ,")+"}"}(e):"Filter"}class fu extends su{constructor(e,t,n){super(e,t,n),this.key=hl.fromName(n.referenceValue)}matches(e){const t=hl.comparator(e.key,this.key);return this.matchesComparison(t)}}class mu extends su{constructor(e,t){super(e,"in",t),this.keys=vu("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class gu extends su{constructor(e,t){super(e,"not-in",t),this.keys=vu("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function vu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>hl.fromName(e.referenceValue)))}class yu extends su{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wc(t)&&Mc(t.arrayValue,this.value)}}class bu extends su{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Mc(this.value.arrayValue,t)}}class wu extends su{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Mc(this.value.arrayValue,t)}}class xu extends su{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Mc(this.value.arrayValue,e)))}}class Au{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.Ie=null}}function _u(e){return new Au(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Su(e){const t=Fa(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>du(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Tl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Uc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Uc(e))).join(",")),t.Ie=e}return t.Ie}function Cu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ou(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!hu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nu(e.startAt,t.startAt)&&nu(e.endAt,t.endAt)}function ku(e){return hl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Tu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Eu(e,t,n,r,o,i,s,a){return new Tu(e,t,n,r,o,i,s,a)}function Iu(e){return new Tu(e)}function Ru(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Pu(e){return null!==e.collectionGroup}function ju(e){const t=Fa(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ee.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new cc(dl.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new ru(r,n))})),e.has(dl.keyField().canonicalString())||t.Ee.push(new ru(dl.keyField(),n))}return t.Ee}function Du(e){const t=Fa(e);return t.de||(t.de=Nu(t,ju(e))),t.de}function Nu(e,t){if("F"===e.limitType)return _u(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ru(e.field,t)}));const n=e.endAt?new eu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new eu(e.startAt.position,e.startAt.inclusive):null;return _u(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Mu(e,t){const n=e.filters.concat([t]);return new Tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ou(e,t,n){return new Tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Lu(e,t){return Cu(Du(e),Du(t))&&e.limitType===t.limitType}function Fu(e){return`${Su(Du(e))}|lt:${e.limitType}`}function Uu(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>pu(e))).join(", ")}]`),Tl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Uc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Uc(e))).join(",")),`Target(${t})`}(Du(e))}; limitType=${e.limitType})`}function $u(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):hl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ju(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=tu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ju(e),t))&&!(e.endAt&&!function(e,t,n){const r=tu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ju(e),t))}(e,t)}function zu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Bu(e){return(t,n)=>{let r=!1;for(const o of ju(e)){const e=Vu(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function Vu(e,t,n){const r=e.field.isKeyField()?hl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?Oc(r,o):Ma(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ma(19790,{direction:e.dir})}}class Wu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){oc(this.inner,((t,n)=>{for(const[r,o]of n)e(r,o)}))}isEmpty(){return ic(this.inner)}size(){return this.innerSize}}const Hu=new sc(hl.comparator);function qu(){return Hu}const Gu=new sc(hl.comparator);function Ku(){let e=Gu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.insert(o.key,o);return e}function Yu(e){let t=Gu;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Qu(){return Ju()}function Xu(){return Ju()}function Ju(){return new Wu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Zu=new sc(hl.comparator),ed=new cc(hl.comparator);function td(){let e=ed;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.add(o);return e}const nd=new cc(Ja);function rd(){return nd}function od(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:El(t)?"-0":t}}function id(e){return{integerValue:""+e}}function sd(e,t){return Il(t)?id(t):od(e,t)}class ad{constructor(){this._=void 0}}function ld(e,t,n){return e instanceof dd?function(e,t){const n={fields:{[bc]:{stringValue:yc},[xc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ac(t)&&(t=_c(t)),t&&(n.fields[wc]=t),{mapValue:n}}(n,t):e instanceof hd?pd(e,t):e instanceof fd?md(e,t):function(e,t){const n=ud(e,t),r=vd(n)+vd(e.Re);return Vc(n)&&Vc(e.Re)?id(r):od(e.serializer,r)}(e,t)}function cd(e,t,n){return e instanceof hd?pd(e,t):e instanceof fd?md(e,t):n}function ud(e,t){return e instanceof gd?function(e){return Vc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class dd extends ad{}class hd extends ad{constructor(e){super(),this.elements=e}}function pd(e,t){const n=yd(t);for(const r of e.elements)n.some((e=>Nc(e,r)))||n.push(r);return{arrayValue:{values:n}}}class fd extends ad{constructor(e){super(),this.elements=e}}function md(e,t){let n=yd(t);for(const r of e.elements)n=n.filter((e=>!Nc(e,r)));return{arrayValue:{values:n}}}class gd extends ad{constructor(e,t){super(),this.serializer=e,this.Re=t}}function vd(e){return gc(e.integerValue||e.doubleValue)}function yd(e){return Wc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class bd{constructor(e,t){this.field=e,this.transform=t}}class wd{constructor(e,t){this.version=e,this.transformResults=t}}class xd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xd}static exists(e){return new xd(void 0,e)}static updateTime(e){return new xd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class _d{}function Sd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Nd(e.key,xd.none()):new Id(e.key,e.data,xd.none());{const n=e.data,r=Xc.empty();let o=new cc(dl.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new Rd(e.key,r,new dc(o.toArray()),xd.none())}}function Cd(e,t,n){e instanceof Id?function(e,t,n){const r=e.value.clone(),o=jd(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Rd?function(e,t,n){if(!Ad(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=jd(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(Pd(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kd(e,t,n,r){return e instanceof Id?function(e,t,n,r){if(!Ad(e.precondition,t))return n;const o=e.value.clone(),i=Dd(e.fieldTransforms,r,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof Rd?function(e,t,n,r){if(!Ad(e.precondition,t))return n;const o=Dd(e.fieldTransforms,r,t),i=t.data;return i.setAll(Pd(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ad(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Td(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),o=ud(r.transform,e||null);null!=o&&(null===n&&(n=Xc.empty()),n.set(r.field,o))}return n||null}function Ed(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&nl(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof hd&&t instanceof hd||e instanceof fd&&t instanceof fd?nl(e.elements,t.elements,Nc):e instanceof gd&&t instanceof gd?Nc(e.Re,t.Re):e instanceof dd&&t instanceof dd}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Id extends _d{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Rd extends _d{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Pd(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function jd(e,t,n){const r=new Map;La(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let o=0;o<n.length;o++){const i=e[o],s=i.transform,a=t.data.field(i.field);r.set(i.field,cd(s,a,n[o]))}return r}function Dd(e,t,n){const r=new Map;for(const o of e){const e=o.transform,i=n.data.field(o.field);r.set(o.field,ld(e,i,t))}return r}class Nd extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Md extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Od{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Cd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=kd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=kd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Xu();return this.mutations.forEach((r=>{const o=e.get(r.key),i=o.overlayedDocument;let s=this.applyToLocalView(i,o.mutatedFields);s=t.has(r.key)?null:s;const a=Sd(i,s);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument(sl.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),td())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,((e,t)=>Ed(e,t)))&&nl(this.baseMutations,e.baseMutations,((e,t)=>Ed(e,t)))}}class Ld{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){La(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=Zu;const o=e.mutations;for(let i=0;i<o.length;i++)r=r.insert(o[i].key,n[i].version);return new Ld(e,t,n,r)}}class Fd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ud{constructor(e,t){this.count=e,this.unchangedNames=t}}var $d,zd;function Bd(e){switch(e){case Ua.OK:return Ma(64938);case Ua.CANCELLED:case Ua.UNKNOWN:case Ua.DEADLINE_EXCEEDED:case Ua.RESOURCE_EXHAUSTED:case Ua.INTERNAL:case Ua.UNAVAILABLE:case Ua.UNAUTHENTICATED:return!1;case Ua.INVALID_ARGUMENT:case Ua.NOT_FOUND:case Ua.ALREADY_EXISTS:case Ua.PERMISSION_DENIED:case Ua.FAILED_PRECONDITION:case Ua.ABORTED:case Ua.OUT_OF_RANGE:case Ua.UNIMPLEMENTED:case Ua.DATA_LOSS:return!0;default:return Ma(15467,{code:e})}}function Vd(e){if(void 0===e)return ja("GRPC error has no .code"),Ua.UNKNOWN;switch(e){case $d.OK:return Ua.OK;case $d.CANCELLED:return Ua.CANCELLED;case $d.UNKNOWN:return Ua.UNKNOWN;case $d.DEADLINE_EXCEEDED:return Ua.DEADLINE_EXCEEDED;case $d.RESOURCE_EXHAUSTED:return Ua.RESOURCE_EXHAUSTED;case $d.INTERNAL:return Ua.INTERNAL;case $d.UNAVAILABLE:return Ua.UNAVAILABLE;case $d.UNAUTHENTICATED:return Ua.UNAUTHENTICATED;case $d.INVALID_ARGUMENT:return Ua.INVALID_ARGUMENT;case $d.NOT_FOUND:return Ua.NOT_FOUND;case $d.ALREADY_EXISTS:return Ua.ALREADY_EXISTS;case $d.PERMISSION_DENIED:return Ua.PERMISSION_DENIED;case $d.FAILED_PRECONDITION:return Ua.FAILED_PRECONDITION;case $d.ABORTED:return Ua.ABORTED;case $d.OUT_OF_RANGE:return Ua.OUT_OF_RANGE;case $d.UNIMPLEMENTED:return Ua.UNIMPLEMENTED;case $d.DATA_LOSS:return Ua.DATA_LOSS;default:return Ma(39323,{code:e})}}(zd=$d||($d={}))[zd.OK=0]="OK",zd[zd.CANCELLED=1]="CANCELLED",zd[zd.UNKNOWN=2]="UNKNOWN",zd[zd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zd[zd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zd[zd.NOT_FOUND=5]="NOT_FOUND",zd[zd.ALREADY_EXISTS=6]="ALREADY_EXISTS",zd[zd.PERMISSION_DENIED=7]="PERMISSION_DENIED",zd[zd.UNAUTHENTICATED=16]="UNAUTHENTICATED",zd[zd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zd[zd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zd[zd.ABORTED=10]="ABORTED",zd[zd.OUT_OF_RANGE=11]="OUT_OF_RANGE",zd[zd.UNIMPLEMENTED=12]="UNIMPLEMENTED",zd[zd.INTERNAL=13]="INTERNAL",zd[zd.UNAVAILABLE=14]="UNAVAILABLE",zd[zd.DATA_LOSS=15]="DATA_LOSS";let Wd=null;const Hd=new da([4294967295,4294967295],0);function qd(e){const t=Qa().encode(e),n=new ha;return n.update(t),new Uint8Array(n.digest())}function Gd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new da([n,r],0),new da([o,i],0)]}class Kd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Yd(`Invalid padding: ${t}`);if(n<0)throw new Yd(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Yd(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Yd(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=da.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(da.fromNumber(n)));return 1===r.compare(Hd)&&(r=new da([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=qd(e),[n,r]=Gd(t);for(let o=0;o<this.hashCount;o++){const e=this.we(n,r,o);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Kd(o,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.pe)return;const t=qd(e),[n,r]=Gd(t);for(let o=0;o<this.hashCount;o++){const e=this.we(n,r,o);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qd{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Xd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Qd(sl.min(),r,new sc(Ja),qu(),td())}}class Xd{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Xd(n,t,td(),td(),td())}}class Jd{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class Zd{constructor(e,t){this.targetId=e,this.Ce=t}}class eh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class th{constructor(){this.Fe=0,this.Me=oh(),this.xe=pc.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=td(),t=td(),n=td();return this.Me.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ma(38017,{changeType:o})}})),new Xd(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=oh()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,La(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class nh{constructor(e){this.ze=e,this.je=new Map,this.He=qu(),this.Je=rh(),this.Ye=rh(),this.Ze=new sc(Ja)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Ma(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const o=r.target;if(ku(o))if(0===n){const e=new hl(o.path);this.tt(t,e,Zc.newNoDocument(e,sl.min()))}else La(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),o=n?this.lt(n,e,r):1;if(0!==o){this.st(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==Wd||Wd.ht(function(e,t,n,r,o){var i,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===o,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,o))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let i,s;try{i=vc(n).toUint8Array()}catch(e){if(e instanceof hc)return Da("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Kd(i,r,o)}catch(e){return Da(e instanceof Yd?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.pe?null:s}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const o=this.ze.Pt(),i=`projects/${o.projectId}/databases/${o.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const o=this._t(r);if(o){if(n.current&&ku(o.target)){const t=new hl(o.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Zc.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=td();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new Qd(e,t,this.Ze,this.He,n);return this.He=qu(),this.Je=rh(),this.Ye=rh(),this.Ze=new sc(Ja),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new th,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new cc(Ja),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new cc(Ja),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||Pa("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new th),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function rh(){return new sc(hl.comparator)}function oh(){return new sc(hl.comparator)}const ih={asc:"ASCENDING",desc:"DESCENDING"},sh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ah={and:"AND",or:"OR"};class lh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ch(e,t){return e.useProto3Json||Tl(t)?t:{value:t}}function uh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hh(e,t){return uh(e,t.toTimestamp())}function ph(e){return La(!!e,49232),sl.fromTimestamp(function(e){const t=mc(e);return new il(t.seconds,t.nanos)}(e))}function fh(e,t){return mh(e,t).canonicalString()}function mh(e,t){const n=function(e){return new cl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function gh(e){const t=cl.fromString(e);return La(Oh(t),10190,{key:t.toString()}),t}function vh(e,t){return fh(e.databaseId,t.path)}function yh(e,t){const n=gh(t);if(n.get(1)!==e.databaseId.projectId)throw new $a(Ua.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $a(Ua.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new hl(Ah(n))}function bh(e,t){return fh(e.databaseId,t)}function wh(e){const t=gh(e);return 4===t.length?cl.emptyPath():Ah(t)}function xh(e){return new cl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ah(e){return La(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function _h(e,t,n){return{name:vh(e,t),fields:n.value.mapValue.fields}}function Sh(e,t){let n;if(t instanceof Id)n={update:_h(e,t.key,t.value)};else if(t instanceof Nd)n={delete:vh(e,t.key)};else if(t instanceof Rd)n={update:_h(e,t.key,t.data),updateMask:Mh(t.fieldMask)};else{if(!(t instanceof Md))return Ma(16599,{ft:t.type});n={verify:vh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof dd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gd)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw Ma(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ma(27497)}(e,t.precondition)),n}function Ch(e,t){return{documents:[bh(e,t.path)]}}function kh(e,t){const n={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bh(e,o);const i=function(e){if(0!==e.length)return Nh(au.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:jh(e.field),direction:Ih(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=ch(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:o}}function Th(e){let t=wh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){La(1===r,65062);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Eh(e);return t instanceof au&&cu(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new ru(Dh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Tl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new eu(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new eu(n,t)}(n.endAt)),Eu(t,o,s,i,a,"F",l,c)}function Eh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Dh(e.unaryFilter.field);return su.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Dh(e.unaryFilter.field);return su.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Dh(e.unaryFilter.field);return su.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Dh(e.unaryFilter.field);return su.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ma(61313);default:return Ma(60726)}}(e):void 0!==e.fieldFilter?function(e){return su.create(Dh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ma(58110);default:return Ma(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return au.create(e.compositeFilter.filters.map((e=>Eh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ma(1026)}}(e.compositeFilter.op))}(e):Ma(30097,{filter:e})}function Ih(e){return ih[e]}function Rh(e){return sh[e]}function Ph(e){return ah[e]}function jh(e){return{fieldPath:e.canonicalString()}}function Dh(e){return dl.fromServerFormat(e.fieldPath)}function Nh(e){return e instanceof su?function(e){if("=="===e.op){if(qc(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NAN"}};if(Hc(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qc(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NOT_NAN"}};if(Hc(e.value))return{unaryFilter:{field:jh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jh(e.field),op:Rh(e.op),value:e.value}}}(e):e instanceof au?function(e){const t=e.getFilters().map((e=>Nh(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ph(e.op),filters:t}}}(e):Ma(54877,{filter:e})}function Mh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Oh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Lh{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sl.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sl.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:pc.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Lh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Lh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fh{constructor(e){this.wt=e}}function Uh(e){const t=Th({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ou(t,t.limit,"L"):t}class $h{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(gc(e.integerValue));else if("doubleValue"in e){const n=gc(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),El(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=mc(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(vc(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Qc(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Kc(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Ma(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const o=e.fields||{};this.Mt(t,53);const i=jc,s=(null===(r=null===(n=o[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(gc(s)),this.Nt(i,t),this.Ct(o[i],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),hl.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}$h.Wt=new $h;class zh{constructor(){this.yn=new Bh}addToCollectionParentIndex(e,t){return this.yn.add(t),Al.resolve()}getCollectionParents(e,t){return Al.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return Al.resolve()}deleteFieldIndex(e,t){return Al.resolve()}deleteAllFieldIndexes(e){return Al.resolve()}createTargetIndexes(e,t){return Al.resolve()}getDocumentsMatchingTarget(e,t){return Al.resolve(null)}getIndexType(e,t){return Al.resolve(0)}getFieldIndexes(e,t){return Al.resolve([])}getNextCollectionGroupToUpdate(e){return Al.resolve(null)}getMinOffset(e,t){return Al.resolve(vl.min())}getMinOffsetFromCollectionGroup(e,t){return Al.resolve(vl.min())}updateCollectionGroup(e,t,n){return Al.resolve()}updateIndexEntries(e,t){return Al.resolve()}}class Bh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cc(cl.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new cc(cl.comparator)).toArray()}}new Uint8Array(0);const Vh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wh=41943040;class Hh{static withCacheSize(e){return new Hh(e,Hh.DEFAULT_COLLECTION_PERCENTILE,Hh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Hh.DEFAULT_COLLECTION_PERCENTILE=10,Hh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hh.DEFAULT=new Hh(Wh,Hh.DEFAULT_COLLECTION_PERCENTILE,Hh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hh.DISABLED=new Hh(-1,0,0);class qh{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new qh(0)}static ir(){return new qh(-1)}}const Gh="LruGarbageCollector",Kh=1048576;function Yh(e,t){let[n,r]=e,[o,i]=t;const s=Ja(n,o);return 0===s?Ja(r,i):s}class Qh{constructor(e){this.cr=e,this.buffer=new cc(Yh),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Yh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(e){Pa(Gh,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Sl(e)?Pa(Gh,"Ignoring IndexedDB error during garbage collection: ",e):await xl(e)}await this.Ir(3e5)}))}}class Jh{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Al.resolve(Cl.le);const n=new Qh(t);return this.Er.forEachTarget(e,(e=>n.Pr(e.sequenceNumber))).next((()=>this.Er.Ar(e,(e=>n.Pr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pa("LruGarbageCollector","Garbage collection skipped; disabled"),Al.resolve(Vh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Pa("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vh):this.Rr(e,t)))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,r,o,i,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Pa("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(o=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Ra()<=ln.DEBUG&&Pa("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${r} in `+(s-i)+"ms\n"+`\tRemoved ${o} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),Al.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e}))))}}function Zh(e,t){return new Jh(e,t)}class ep{constructor(){this.changes=new Wu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Al.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class np{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&kd(n.mutation,e,dc.empty(),il.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,td()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:td();const r=Qu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ku();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Qu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,td())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let o=qu();const i=Ju(),s=Ju();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Rd)?o=o.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),kd(s.mutation,t,s.mutation.getFieldMask(),il.now())):i.set(t.key,dc.empty())})),this.recalculateAndSaveOverlays(e,o).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new tp(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Ju();let r=new sc(((e,t)=>e-t)),o=td();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const o of e)o.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||dc.empty();s=o.applyToLocalView(i,s),n.set(e,s);const a=(r.get(o.batchId)||td()).add(e);r=r.insert(o.batchId,a)}))})).next((()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Xu();l.forEach((e=>{if(!o.has(e)){const r=Sd(t.get(e),n.get(e));null!==r&&c.set(e,r),o=o.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Al.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return hl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Pu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):Al.resolve(Qu());let s=pl,a=o;return i.next((t=>Al.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?Al.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,o))).next((()=>this.computeViews(e,a,t,td()))).next((e=>({batchId:s,changes:Yu(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new hl(t)).next((e=>{let t=Ku();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let i=Ku();return this.indexManager.getCollectionParents(e,o).next((s=>Al.forEach(s,(s=>{const a=function(e,t){return new Tu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(o));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r)))).next((e=>{o.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Zc.newInvalidDocument(r)))}));let n=Ku();return e.forEach(((e,r)=>{const i=o.get(e);void 0!==i&&kd(i.mutation,r,dc.empty(),il.now()),$u(t,r)&&(n=n.insert(e,r))})),n}))}}class rp{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return Al.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ph(e.createTime)}}(t)),Al.resolve()}getNamedQuery(e,t){return Al.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(e){return{name:e.name,query:Uh(e.bundledQuery),readTime:ph(e.readTime)}}(t)),Al.resolve()}}class op{constructor(){this.overlays=new sc(hl.comparator),this.Or=new Map}getOverlay(e,t){return Al.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Qu();return Al.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),Al.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Or.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Or.delete(n)),Al.resolve()}getOverlaysForCollection(e,t,n){const r=Qu(),o=t.length+1,i=new hl(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Al.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new sc(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=Qu(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Qu(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Al.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Or.get(r.largestBatchId).delete(n.key);this.Or.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Fd(t,n));let o=this.Or.get(t);void 0===o&&(o=td(),this.Or.set(t,o)),this.Or.set(t,o.add(n.key))}}class ip{constructor(){this.sessionToken=pc.EMPTY_BYTE_STRING}getSessionToken(e){return Al.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Al.resolve()}}class sp{constructor(){this.Nr=new cc(ap.Br),this.Lr=new cc(ap.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new ap(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Qr(new ap(e,t))}$r(e,t){e.forEach((e=>this.removeReference(e,t)))}Ur(e){const t=new hl(new cl([])),n=new ap(t,e),r=new ap(t,e+1),o=[];return this.Lr.forEachInRange([n,r],(e=>{this.Qr(e),o.push(e.key)})),o}Kr(){this.Nr.forEach((e=>this.Qr(e)))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new hl(new cl([])),n=new ap(t,e),r=new ap(t,e+1);let o=td();return this.Lr.forEachInRange([n,r],(e=>{o=o.add(e.key)})),o}containsKey(e){const t=new ap(e,0),n=this.Nr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ap{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return hl.comparator(e.key,t.key)||Ja(e.Gr,t.Gr)}static kr(e,t){return Ja(e.Gr,t.Gr)||hl.comparator(e.key,t.key)}}class lp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new cc(ap.Br)}checkEmpty(e){return Al.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Od(o,t,n,r);this.mutationQueue.push(i);for(const s of r)this.zr=this.zr.add(new ap(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Al.resolve(i)}lookupMutationBatch(e,t){return Al.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Hr(n),o=r<0?0:r;return Al.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Al.resolve(0===this.mutationQueue.length?kl:this.Jn-1)}getAllMutationBatches(e){return Al.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ap(t,0),r=new ap(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([n,r],(e=>{const t=this.jr(e.Gr);o.push(t)})),Al.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new cc(Ja);return t.forEach((e=>{const t=new ap(e,0),r=new ap(e,Number.POSITIVE_INFINITY);this.zr.forEachInRange([t,r],(e=>{n=n.add(e.Gr)}))})),Al.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;hl.isDocumentKey(o)||(o=o.child(""));const i=new ap(new hl(o),0);let s=new cc(Ja);return this.zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Gr)),!0)}),i),Al.resolve(this.Jr(s))}Jr(e){const t=[];return e.forEach((e=>{const n=this.jr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){La(0===this.Yr(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.zr;return Al.forEach(t.mutations,(r=>{const o=new ap(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.zr=n}))}Xn(e){}containsKey(e,t){const n=new ap(t,0),r=this.zr.firstAfterOrEqual(n);return Al.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Al.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class cp{constructor(e){this.Zr=e,this.docs=new sc(hl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Al.resolve(n?n.document.mutableCopy():Zc.newInvalidDocument(t))}getEntries(e,t){let n=qu();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Zc.newInvalidDocument(e))})),Al.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=qu();const i=t.path,s=new hl(i.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||yl(gl(s),n)<=0||(r.has(s.key)||$u(t,s))&&(o=o.insert(s.key,s.mutableCopy()))}return Al.resolve(o)}getAllFromCollectionGroup(e,t,n,r){Ma(9500)}Xr(e,t){return Al.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new up(this)}getSize(e){return Al.resolve(this.size)}}class up extends ep{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.vr.addEntry(e,r)):this.vr.removeEntry(n)})),Al.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}class dp{constructor(e){this.persistence=e,this.ei=new Wu((e=>Su(e)),Cu),this.lastRemoteSnapshotVersion=sl.min(),this.highestTargetId=0,this.ti=0,this.ni=new sp,this.targetCount=0,this.ri=qh.rr()}forEachTarget(e,t){return this.ei.forEach(((e,n)=>t(n))),Al.resolve()}getLastRemoteSnapshotVersion(e){return Al.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Al.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Al.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),Al.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new qh(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,Al.resolve()}updateTargetData(e,t){return this.ar(t),Al.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,Al.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.ei.forEach(((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.ei.delete(i),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Al.waitFor(o).next((()=>r))}getTargetCount(e){return Al.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return Al.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),Al.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((t=>{o.push(r.markPotentiallyOrphaned(e,t))})),Al.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),Al.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return Al.resolve(n)}containsKey(e,t){return Al.resolve(this.ni.containsKey(t))}}class hp{constructor(e,t){this.ii={},this.overlays={},this.si=new Cl(0),this.oi=!1,this.oi=!0,this._i=new ip,this.referenceDelegate=e(this),this.ai=new dp(this),this.indexManager=new zh,this.remoteDocumentCache=function(e){return new cp(e)}((e=>this.referenceDelegate.ui(e))),this.serializer=new Fh(t),this.ci=new rp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new op,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new lp(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){Pa("MemoryPersistence","Starting transaction:",e);const r=new pp(this.si.next());return this.referenceDelegate.li(),n(r).next((e=>this.referenceDelegate.hi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Pi(e,t){return Al.or(Object.values(this.ii).map((n=>()=>n.containsKey(e,t))))}}class pp extends wl{constructor(e){super(),this.currentSequenceNumber=e}}class fp{constructor(e){this.persistence=e,this.Ti=new sp,this.Ii=null}static Ei(e){return new fp(e)}get di(){if(this.Ii)return this.Ii;throw Ma(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),Al.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),Al.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Al.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach((e=>this.di.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Al.forEach(this.di,(n=>{const r=hl.fromPath(n);return this.Ai(e,r).next((e=>{e||t.removeEntry(r,sl.min())}))})).next((()=>(this.Ii=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ai(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}ui(e){return 0}Ai(e,t){return Al.or([()=>Al.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class mp{constructor(e,t){this.persistence=e,this.Ri=new Wu((e=>Pl(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Zh(this,t)}static Ei(e,t){return new mp(e,t)}li(){}hi(e){return Al.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}Ar(e,t){return Al.forEach(this.Ri,((n,r)=>this.gr(e,n,r).next((e=>e?Al.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.Xr(e,(r=>this.gr(e,r,t).next((e=>{e||(n++,o.removeEntry(r,sl.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),Al.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),Al.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),Al.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),Al.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zc(e.data.value)),t}gr(e,t,n){return Al.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Ri.get(t);return Al.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=r}static Ps(e,t){let n=td(),r=td();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new gp(e,t.fromCache,n,r)}}class vp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yp{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=jt()?8:_l(Et())>0?6:4}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.Rs(e,t).next((e=>{o.result=e})).next((()=>{if(!o.result)return this.Vs(e,t,r,n).next((e=>{o.result=e}))})).next((()=>{if(o.result)return;const n=new vp;return this.fs(e,t,n).next((r=>{if(o.result=r,this.Is)return this.gs(e,t,n,r.size)}))})).next((()=>o.result))}gs(e,t,n,r){return n.documentReadCount<this.Es?(Ra()<=ln.DEBUG&&Pa("QueryEngine","SDK will not create cache indexes for query:",Uu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Al.resolve()):(Ra()<=ln.DEBUG&&Pa("QueryEngine","Query:",Uu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(Ra()<=ln.DEBUG&&Pa("QueryEngine","The SDK decides to create cache indexes for query:",Uu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Du(t))):Al.resolve())}Rs(e,t){if(Ru(t))return Al.resolve(null);let n=Du(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ou(t,null,"F"),n=Du(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const o=td(...r);return this.As.getDocuments(e,o).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.ps(t,r);return this.ys(t,i,o,n.readTime)?this.Rs(e,Ou(t,null,"F")):this.ws(e,i,t,n)}))))})))))}Vs(e,t,n,r){return Ru(t)||r.isEqual(sl.min())?Al.resolve(null):this.As.getDocuments(e,n).next((o=>{const i=this.ps(t,o);return this.ys(t,i,n,r)?Al.resolve(null):(Ra()<=ln.DEBUG&&Pa("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Uu(t)),this.ws(e,i,t,ml(r,pl)).next((e=>e)))}))}ps(e,t){let n=new cc(Bu(e));return t.forEach(((t,r)=>{$u(e,r)&&(n=n.add(r))})),n}ys(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}fs(e,t,n){return Ra()<=ln.DEBUG&&Pa("QueryEngine","Using full collection scan to execute query:",Uu(t)),this.As.getDocumentsMatchingQuery(e,t,vl.min(),n)}ws(e,t,n,r){return this.As.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const bp="LocalStore";class wp{constructor(e,t,n,r){this.persistence=e,this.bs=t,this.serializer=r,this.Ss=new sc(Ja),this.Ds=new Wu((e=>Su(e)),Cu),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new np(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ss)))}}function xp(e,t,n,r){return new wp(e,t,n,r)}async function Ap(e,t){const n=Fa(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((o=>(r=o,n.Fs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const o=[],i=[];let s=td();for(const e of r){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Ms:e,removedBatchIds:o,addedBatchIds:i})))}))}))}function _p(e){const t=Fa(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ai.getLastRemoteSnapshotVersion(e)))}function Sp(e,t,n){let r=td(),o=td();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=qu();return n.forEach(((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(o=o.add(n)),i.isNoDocument()&&i.version.isEqual(sl.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Pa(bp,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)})),{xs:r,Os:o}}))}function Cp(e,t){const n=Fa(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=kl),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function kp(e,t){const n=Fa(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ai.getTargetData(e,t).next((o=>o?(r=o,Al.resolve(r)):n.ai.allocateTargetId(e).next((o=>(r=new Lh(t,o,"TargetPurposeListen",e.currentSequenceNumber),n.ai.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ss.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(e.targetId,e),n.Ds.set(t,e.targetId)),e}))}async function Tp(e,t,n){const r=Fa(e),o=r.Ss.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,o)))}catch(e){if(!Sl(e))throw e;Pa(bp,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(o.target)}function Ep(e,t,n){const r=Fa(e);let o=sl.min(),i=td();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Fa(e),o=r.Ds.get(n);return void 0!==o?Al.resolve(r.Ss.get(o)):r.ai.getTargetData(t,n)}(r,e,Du(t)).next((t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.bs.getDocumentsMatchingQuery(e,t,n?o:sl.min(),n?i:td()))).next((e=>(Ip(r,zu(t),e),{documents:e,Ns:i})))))}function Ip(e,t,n){let r=e.vs.get(t)||sl.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.vs.set(t,r)}class Rp{constructor(){this.activeTargetIds=rd()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pp{constructor(){this.So=new Rp,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Rp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jp{vo(e){}shutdown(){}}const Dp="ConnectivityMonitor";class Np{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Pa(Dp,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Pa(Dp,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Mp=null;function Op(){return null===Mp?Mp=268435456+Math.round(2147483648*Math.random()):Mp++,"0x"+Mp.toString(16)}const Lp="RestConnection",Fp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Up{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${r}`,this.qo=this.databaseId.database===kc?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Qo(e,t,n,r,o){const i=Op(),s=this.$o(e,t.toUriEncodedString());Pa(Lp,`Sending RPC '${e}' ${i}:`,s,n);const a={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(a,r,o),this.Ko(e,s,a,n).then((t=>(Pa(Lp,`Received RPC '${e}' ${i}: `,t),t)),(t=>{throw Da(Lp,`RPC '${e}' ${i} failed with error: `,t,"url: ",s,"request:",n),t}))}Wo(e,t,n,r,o,i){return this.Qo(e,t,n,r,o)}Uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ea,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}$o(e,t){const n=Fp[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}class $p{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const zp="WebChannelConnection";class Bp extends Up{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,r){const o=Op();return new Promise(((i,s)=>{const a=new ma;a.setWithCredentials(!0),a.listenOnce(va.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ya.NO_ERROR:const t=a.getResponseJson();Pa(zp,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),i(t);break;case ya.TIMEOUT:Pa(zp,`RPC '${e}' ${o} timed out`),s(new $a(Ua.DEADLINE_EXCEEDED,"Request time out"));break;case ya.HTTP_ERROR:const n=a.getStatus();if(Pa(zp,`RPC '${e}' ${o} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ua).indexOf(t)>=0?t:Ua.UNKNOWN}(t.status);s(new $a(e,t.message))}else s(new $a(Ua.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new $a(Ua.UNAVAILABLE,"Connection failed."));break;default:Ma(9055,{s_:e,streamId:o,o_:a.getLastErrorCode(),__:a.getLastError()})}}finally{Pa(zp,`RPC '${e}' ${o} completed.`)}}));const l=JSON.stringify(r);Pa(zp,`RPC '${e}' ${o} sending request:`,r),a.send(t,"POST",l,n,15)}))}a_(e,t,n){const r=Op(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Aa(),s=xa(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Uo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=o.join("");Pa(zp,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=i.createWebChannel(c,a);let d=!1,h=!1;const p=new $p({Go:t=>{h?Pa(zp,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Pa(zp,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Pa(zp,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},zo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,ga.EventType.OPEN,(()=>{h||(Pa(zp,`RPC '${e}' stream ${r} transport opened.`),p.t_())})),f(u,ga.EventType.CLOSE,(()=>{h||(h=!0,Pa(zp,`RPC '${e}' stream ${r} transport closed`),p.r_())})),f(u,ga.EventType.ERROR,(t=>{h||(h=!0,Da(zp,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),p.r_(new $a(Ua.UNAVAILABLE,"The operation could not be completed")))})),f(u,ga.EventType.MESSAGE,(t=>{var n;if(!h){const o=t.data[0];La(!!o,16349);const i=o,s=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){Pa(zp,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=$d[e];if(void 0!==t)return Vd(t)}(t),o=s.message;void 0===n&&(n=Ua.INTERNAL,o="Unknown error status: "+t+" with message "+s.message),h=!0,p.r_(new $a(n,o)),u.close()}else Pa(zp,`RPC '${e}' stream ${r} received:`,o),p.i_(o)}})),f(s,wa.STAT_EVENT,(t=>{t.stat===ba.PROXY?Pa(zp,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ba.NOPROXY&&Pa(zp,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.n_()}),0),p}}function Vp(){return"undefined"!=typeof document?document:null}function Wp(e){return new lh(e,!0)}class Hp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.bi=e,this.timerId=t,this.u_=n,this.c_=r,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),r=Math.max(0,t-n);r>0&&Pa("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,(()=>(this.T_=Date.now(),e()))),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const qp="PersistentStream";class Gp{constructor(e,t,n,r,o,i,s,a){this.bi=e,this.R_=n,this.V_=r,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Hp(e,t)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,(()=>this.C_())))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,4!==e?this.y_.reset():t&&t.code===Ua.RESOURCE_EXHAUSTED?(ja(t.toString()),ja("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===Ua.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.m_===t&&this.B_(n,r)}),(t=>{e((()=>{const e=new $a(Ua.UNKNOWN,"Fetching auth token failed: "+t.message);return this.L_(e)}))}))}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo((()=>{n((()=>this.listener.jo()))})),this.stream.Jo((()=>{n((()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,(()=>(this.b_()&&(this.state=3),Promise.resolve()))),this.listener.Jo())))})),this.stream.Zo((e=>{n((()=>this.L_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.p_?this.q_(e):this.onNext(e)))}))}S_(){this.state=5,this.y_.E_((async()=>{this.state=0,this.start()}))}L_(e){return Pa(qp,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget((()=>this.m_===e?t():(Pa(qp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Kp extends Gp{constructor(e,t,n,r,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ma(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(La(void 0===t||"string"==typeof t,58123),pc.fromBase64String(t||"")):(La(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),pc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Ua.UNKNOWN:Vd(e.code);return new $a(t,e.message||"")}(s);n=new eh(r,o,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=yh(e,r.document.name),i=ph(r.document.updateTime),s=r.document.createTime?ph(r.document.createTime):sl.min(),a=new Xc({mapValue:{fields:r.document.fields}}),l=Zc.newFoundDocument(o,i,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Jd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=yh(e,r.document),i=r.readTime?ph(r.readTime):sl.min(),s=Zc.newNoDocument(o,i),a=r.removedTargetIds||[];n=new Jd([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=yh(e,r.document),i=r.removedTargetIds||[];n=new Jd([],i,o,null)}else{if(!("filter"in t))return Ma(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:o}=e,i=new Ud(r,o),s=e.targetId;n=new Zd(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return sl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?sl.min():t.readTime?ph(t.readTime):sl.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=xh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ku(r)?{documents:Ch(e,r)}:{query:kh(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=dh(e,t.resumeToken);const r=ch(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(sl.min())>0){n.readTime=uh(e,t.snapshotVersion.toTimestamp());const r=ch(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ma(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=xh(this.serializer),t.removeTarget=e,this.F_(t)}}class Yp extends Gp{constructor(e,t,n,r,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return La(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,La(!e.writeResults||0===e.writeResults.length,55816),this.listener.z_()}onNext(e){La(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=function(e,t){return e&&e.length>0?(La(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?ph(e.updateTime):ph(t);return n.isEqual(sl.min())&&(n=ph(t)),new wd(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ph(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=xh(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Sh(this.serializer,e)))};this.F_(t)}}class Qp{}class Xp extends Qp{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new $a(Ua.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[i,s]=o;return this.connection.Qo(e,mh(t,n),r,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ua.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $a(Ua.UNKNOWN,e.toString())}))}Wo(e,t,n,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Wo(e,mh(t,n),r,s,a,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ua.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $a(Ua.UNKNOWN,e.toString())}))}terminate(){this.J_=!0,this.connection.terminate()}}class Jp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve()))))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ja(t),this.ea=!1):Pa("OnlineStateTracker",t)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const Zp="RemoteStore";class ef{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo((e=>{n.enqueueAndForget((async()=>{uf(this)&&(Pa(Zp,"Restarting streams for network reachability change."),await async function(e){const t=Fa(e);t.aa.add(4),await nf(t),t.la.set("Unknown"),t.aa.delete(4),await tf(t)}(this))}))})),this.la=new Jp(n,r)}}async function tf(e){if(uf(e))for(const t of e.ua)await t(!0)}async function nf(e){for(const t of e.ua)await t(!1)}function rf(e,t){const n=Fa(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),cf(n)?lf(n):If(n).b_()&&sf(n,t))}function of(e,t){const n=Fa(e),r=If(n);n._a.delete(t),r.b_()&&af(n,t),0===n._a.size&&(r.b_()?r.v_():uf(n)&&n.la.set("Unknown"))}function sf(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(sl.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}If(e).U_(t)}function af(e,t){e.ha.Ke(t),If(e).K_(t)}function lf(e){e.ha=new nh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),If(e).start(),e.la.ta()}function cf(e){return uf(e)&&!If(e).w_()&&e._a.size>0}function uf(e){return 0===Fa(e).aa.size}function df(e){e.ha=void 0}async function hf(e){e.la.set("Online")}async function pf(e){e._a.forEach(((t,n)=>{sf(e,t)}))}async function ff(e,t){df(e),cf(e)?(e.la.ia(t),lf(e)):e.la.set("Unknown")}async function mf(e,t,n){if(e.la.set("Online"),t instanceof eh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e._a.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e._a.delete(r),e.ha.removeTarget(r))}(e,t)}catch(n){Pa(Zp,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await gf(e,n)}else if(t instanceof Jd?e.ha.Xe(t):t instanceof Zd?e.ha.ot(t):e.ha.nt(t),!n.isEqual(sl.min()))try{const t=await _p(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ha.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=e._a.get(r);o&&e._a.set(r,o.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e._a.get(t);if(!r)return;e._a.set(t,r.withResumeToken(pc.EMPTY_BYTE_STRING,r.snapshotVersion)),af(e,t);const o=new Lh(r.target,t,n,r.sequenceNumber);sf(e,o)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Pa(Zp,"Failed to raise snapshot:",t),await gf(e,t)}}async function gf(e,t,n){if(!Sl(t))throw t;e.aa.add(1),await nf(e),e.la.set("Offline"),n||(n=()=>_p(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Pa(Zp,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await tf(e)}))}function vf(e,t){return t().catch((n=>gf(e,n,t)))}async function yf(e){const t=Fa(e),n=Rf(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:kl;for(;bf(t);)try{const e=await Cp(t.localStore,r);if(null===e){0===t.oa.length&&n.v_();break}r=e.batchId,wf(t,e)}catch(e){await gf(t,e)}xf(t)&&Af(t)}function bf(e){return uf(e)&&e.oa.length<10}function wf(e,t){e.oa.push(t);const n=Rf(e);n.b_()&&n.W_&&n.G_(t.mutations)}function xf(e){return uf(e)&&!Rf(e).w_()&&e.oa.length>0}function Af(e){Rf(e).start()}async function _f(e){Rf(e).H_()}async function Sf(e){const t=Rf(e);for(const n of e.oa)t.G_(n.mutations)}async function Cf(e,t,n){const r=e.oa.shift(),o=Ld.from(r,t,n);await vf(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await yf(e)}async function kf(e,t){t&&Rf(e).W_&&await async function(e,t){if(function(e){return Bd(e)&&e!==Ua.ABORTED}(t.code)){const n=e.oa.shift();Rf(e).D_(),await vf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await yf(e)}}(e,t),xf(e)&&Af(e)}async function Tf(e,t){const n=Fa(e);n.asyncQueue.verifyOperationInProgress(),Pa(Zp,"RemoteStore received new credentials");const r=uf(n);n.aa.add(3),await nf(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await tf(n)}async function Ef(e,t){const n=Fa(e);t?(n.aa.delete(2),await tf(n)):t||(n.aa.add(2),await nf(n),n.la.set("Unknown"))}function If(e){return e.Pa||(e.Pa=function(e,t,n){const r=Fa(e);return r.Y_(),new Kp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:hf.bind(null,e),Jo:pf.bind(null,e),Zo:ff.bind(null,e),Q_:mf.bind(null,e)}),e.ua.push((async t=>{t?(e.Pa.D_(),cf(e)?lf(e):e.la.set("Unknown")):(await e.Pa.stop(),df(e))}))),e.Pa}function Rf(e){return e.Ta||(e.Ta=function(e,t,n){const r=Fa(e);return r.Y_(),new Yp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:_f.bind(null,e),Zo:kf.bind(null,e),z_:Sf.bind(null,e),j_:Cf.bind(null,e)}),e.ua.push((async t=>{t?(e.Ta.D_(),await yf(e)):(await e.Ta.stop(),e.oa.length>0&&(Pa(Zp,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))}))),e.Ta}class Pf{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const i=Date.now()+n,s=new Pf(e,t,i,r,o);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $a(Ua.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jf(e,t){if(ja("AsyncQueue",`${t}: ${e}`),Sl(e))return new $a(Ua.UNAVAILABLE,`${t}: ${e}`);throw e}class Df{static emptySet(e){return new Df(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||hl.comparator(t.key,n.key):(e,t)=>hl.comparator(e.key,t.key),this.keyedMap=Ku(),this.sortedSet=new sc(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Df))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Df;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Nf{constructor(){this.Ia=new sc(hl.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?0!==e.type&&3===n.type?this.Ia=this.Ia.insert(t,e):3===e.type&&1!==n.type?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Ia=this.Ia.remove(t):1===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ma(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Mf{constructor(e,t,n,r,o,i,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,o){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Mf(e,t,Df.emptySet(t),i,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Of{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some((e=>e.ma()))}}class Lf{constructor(){this.queries=Ff(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(e,t){const n=Fa(e),r=n.queries;n.queries=Ff(),r.forEach(((e,n)=>{for(const r of n.Ra)r.onError(t)}))}(this,new $a(Ua.ABORTED,"Firestore shutting down"))}}function Ff(){return new Wu((e=>Fu(e)),Lu)}async function Uf(e,t){const n=Fa(e);let r=3;const o=t.query;let i=n.queries.get(o);i?!i.Va()&&t.ma()&&(r=2):(i=new Of,r=t.ma()?0:1);try{switch(r){case 0:i.Aa=await n.onListen(o,!0);break;case 1:i.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(e){const n=jf(e,`Initialization of query '${Uu(t.query)}' failed`);return void t.onError(n)}n.queries.set(o,i),i.Ra.push(t),t.ga(n.onlineState),i.Aa&&t.pa(i.Aa)&&Vf(n)}async function $f(e,t){const n=Fa(e),r=t.query;let o=3;const i=n.queries.get(r);if(i){const e=i.Ra.indexOf(t);e>=0&&(i.Ra.splice(e,1),0===i.Ra.length?o=t.ma()?0:1:!i.Va()&&t.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zf(e,t){const n=Fa(e);let r=!1;for(const o of t){const e=o.query,t=n.queries.get(e);if(t){for(const e of t.Ra)e.pa(o)&&(r=!0);t.Aa=o}}r&&Vf(n)}function Bf(e,t,n){const r=Fa(e),o=r.queries.get(t);if(o)for(const i of o.Ra)i.onError(n);r.queries.delete(t)}function Vf(e){e.fa.forEach((e=>{e.next()}))}var Wf,Hf;(Hf=Wf||(Wf={})).ya="default",Hf.Cache="cache";class qf{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Mf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache)return!0;if(!this.ma())return!0;const n="Offline"!==t;return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ca(e){e=Mf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Wf.Cache}}class Gf{constructor(e){this.key=e}}class Kf{constructor(e){this.key=e}}class Yf{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=td(),this.mutatedKeys=td(),this.Ua=Bu(e),this.Ka=new Df(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new Nf,r=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=$u(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.ja(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.Ua(u,a)>0||l&&this.Ua(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(i=i.add(u),o=h?o.add(e):o.delete(e)):(i=i.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),o=o.delete(e.key),n.track({type:1,doc:e})}return{Ka:i,za:n,ys:s,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const i=e.za.da();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ma(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ua(e.doc,t.doc))),this.Ha(n),r=null!=r&&r;const s=t&&!r?this.Ja():[],a=0===this.$a.size&&this.current&&!r?1:0,l=a!==this.Qa;return this.Qa=a,0!==i.length||l?{snapshot:new Mf(this.query,e.Ka,o,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:s}:{Ya:s}}ga(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Nf,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach((e=>this.qa=this.qa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qa=this.qa.delete(e))),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=td(),this.Ka.forEach((e=>{this.Za(e.key)&&(this.$a=this.$a.add(e.key))}));const t=[];return e.forEach((e=>{this.$a.has(e)||t.push(new Kf(e))})),this.$a.forEach((n=>{e.has(n)||t.push(new Gf(n))})),t}Xa(e){this.qa=e.Ns,this.$a=td();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Mf.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const Qf="SyncEngine";class Xf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Jf{constructor(e){this.key=e,this.tu=!1}}class Zf{constructor(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.nu={},this.ru=new Wu((e=>Fu(e)),Lu),this.iu=new Map,this.su=new Set,this.ou=new sc(hl.comparator),this._u=new Map,this.au=new sp,this.uu={},this.cu=new Map,this.lu=qh.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}async function em(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=xm(e);let o;const i=r.ru.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.eu()):o=await nm(r,t,n,!0),o}async function tm(e,t){const n=xm(e);await nm(n,t,!0,!1)}async function nm(e,t,n,r){const o=await kp(e.localStore,Du(t)),i=o.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await rm(e,t,i,"current"===s,o.resumeToken)),e.isPrimaryClient&&n&&rf(e.remoteStore,o),a}async function rm(e,t,n,r,o){e.Pu=(t,n,r)=>async function(e,t,n,r){let o=t.view.Ga(n);o.ys&&(o=await Ep(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ga(n,o)})));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(o,e.isPrimaryClient,i,s);return mm(e,t.targetId,a.Ya),a.snapshot}(e,t,n,r);const i=await Ep(e.localStore,t,!0),s=new Yf(t,i.Ns),a=s.Ga(i.documents),l=Xd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,o),c=s.applyChanges(a,e.isPrimaryClient,l);mm(e,n,c.Ya);const u=new Xf(t,n,s);return e.ru.set(t,u),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),c.snapshot}async function om(e,t,n){const r=Fa(e),o=r.ru.get(t),i=r.iu.get(o.targetId);if(i.length>1)return r.iu.set(o.targetId,i.filter((e=>!Lu(e,t)))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&of(r.remoteStore,o.targetId),pm(r,o.targetId)})).catch(xl)):(pm(r,o.targetId),await Tp(r.localStore,o.targetId,!0))}async function im(e,t){const n=Fa(e),r=n.ru.get(t),o=n.iu.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),of(n.remoteStore,r.targetId))}async function sm(e,t){const n=Fa(e);try{const e=await function(e,t){const n=Fa(e),r=t.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const s=[];t.targetChanges.forEach(((i,a)=>{const l=o.get(a);if(!l)return;s.push(n.ai.removeMatchingKeys(e,i.removedDocuments,a).next((()=>n.ai.addMatchingKeys(e,i.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(pc.EMPTY_BYTE_STRING,sl.min()).withLastLimboFreeSnapshotVersion(sl.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),o=o.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&s.push(n.ai.updateTargetData(e,c))}));let a=qu(),l=td();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Sp(e,i,t.documentUpdates).next((e=>{a=e.xs,l=e.Os}))),!r.isEqual(sl.min())){const t=n.ai.getLastRemoteSnapshotVersion(e).next((t=>n.ai.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Al.waitFor(s).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ss=o,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n._u.get(t);r&&(La(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.tu=!0:e.modifiedDocuments.size>0?La(r.tu,14607):e.removedDocuments.size>0&&(La(r.tu,42227),r.tu=!1))})),await ym(n,e,t)}catch(e){await xl(e)}}function am(e,t,n){const r=Fa(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ru.forEach(((n,r)=>{const o=r.view.ga(t);o.snapshot&&e.push(o.snapshot)})),function(e,t){const n=Fa(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const o of n.Ra)o.ga(t)&&(r=!0)})),r&&Vf(n)}(r.eventManager,t),e.length&&r.nu.Q_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lm(e,t,n){const r=Fa(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r._u.get(t),i=o&&o.key;if(i){let e=new sc(hl.comparator);e=e.insert(i,Zc.newNoDocument(i,sl.min()));const n=td().add(i),o=new Qd(sl.min(),new Map,new sc(Ja),e,n);await sm(r,o),r.ou=r.ou.remove(i),r._u.delete(t),vm(r)}else await Tp(r.localStore,t,!1).then((()=>pm(r,t,n))).catch(xl)}async function cm(e,t){const n=Fa(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Fa(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const o=n.batch,i=o.keys();let s=Al.resolve();return i.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);La(null!==i,48541),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,o)))}(n,e,t,o).next((()=>o.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=td();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);hm(n,r,null),dm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ym(n,e)}catch(e){await xl(e)}}async function um(e,t,n){const r=Fa(e);try{const e=await function(e,t){const n=Fa(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(La(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);hm(r,t,n),dm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ym(r,e)}catch(n){await xl(n)}}function dm(e,t){(e.cu.get(t)||[]).forEach((e=>{e.resolve()})),e.cu.delete(t)}function hm(e,t,n){const r=Fa(e);let o=r.uu[r.currentUser.toKey()];if(o){const e=o.get(t);e&&(n?e.reject(n):e.resolve(),o=o.remove(t)),r.uu[r.currentUser.toKey()]=o}}function pm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach((t=>{e.au.containsKey(t)||fm(e,t)}))}function fm(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);null!==n&&(of(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),vm(e))}function mm(e,t,n){for(const r of n)r instanceof Gf?(e.au.addReference(r.key,t),gm(e,r)):r instanceof Kf?(Pa(Qf,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||fm(e,r.key)):Ma(19791,{Iu:r})}function gm(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(Pa(Qf,"New document in limbo: "+n),e.su.add(r),vm(e))}function vm(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new hl(cl.fromString(t)),r=e.lu.next();e._u.set(r,new Jf(n)),e.ou=e.ou.insert(n,r),rf(e.remoteStore,new Lh(Du(Iu(n.path)),r,"TargetPurposeLimboResolution",Cl.le))}}async function ym(e,t,n){const r=Fa(e),o=[],i=[],s=[];r.ru.isEmpty()||(r.ru.forEach(((e,a)=>{s.push(r.Pu(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const o=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,o?"current":"not-current")}if(e){o.push(e);const t=gp.Ps(a.targetId,e);i.push(t)}})))})),await Promise.all(s),r.nu.Q_(o),await async function(e,t){const n=Fa(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Al.forEach(t,(t=>Al.forEach(t.ls,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Al.forEach(t.hs,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Sl(e))throw e;Pa(bp,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ss.get(e),r=t.snapshotVersion,o=t.withLastLimboFreeSnapshotVersion(r);n.Ss=n.Ss.insert(e,o)}}}(r.localStore,i))}async function bm(e,t){const n=Fa(e);if(!n.currentUser.isEqual(t)){Pa(Qf,"User change. New user:",t.toKey());const e=await Ap(n.localStore,t);n.currentUser=t,function(e,t){e.cu.forEach((e=>{e.forEach((e=>{e.reject(new $a(Ua.CANCELLED,t))}))})),e.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ym(n,e.Ms)}}function wm(e,t){const n=Fa(e),r=n._u.get(t);if(r&&r.tu)return td().add(r.key);{let e=td();const r=n.iu.get(t);if(!r)return e;for(const t of r){const r=n.ru.get(t);e=e.unionWith(r.view.Wa)}return e}}function xm(e){const t=Fa(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lm.bind(null,t),t.nu.Q_=zf.bind(null,t.eventManager),t.nu.Tu=Bf.bind(null,t.eventManager),t}function Am(e){const t=Fa(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=um.bind(null,t),t}class _m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wp(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return xp(this.persistence,new yp,e.initialUser,this.serializer)}Ru(e){return new hp(fp.Ei,this.serializer)}Au(e){return new Pp}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_m.provider={build:()=>new _m};class Sm extends _m{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){La(this.persistence.referenceDelegate instanceof mp,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Xh(n,e.asyncQueue,t)}Ru(e){const t=void 0!==this.cacheSizeBytes?Hh.withCacheSize(this.cacheSizeBytes):Hh.DEFAULT;return new hp((e=>mp.Ei(e,t)),this.serializer)}}class Cm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>am(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=bm.bind(null,this.syncEngine),await Ef(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Lf}createDatastore(e){const t=Wp(e.databaseInfo.databaseId),n=function(e){return new Bp(e)}(e.databaseInfo);return function(e,t,n,r){return new Xp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new ef(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,(e=>am(this.syncEngine,e,0)),Np.C()?new Np:new jp)}createSyncEngine(e,t){return function(e,t,n,r,o,i,s){const a=new Zf(e,t,n,r,o,i);return s&&(a.hu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Fa(e);Pa(Zp,"RemoteStore shutting down."),t.aa.add(5),await nf(t),t.ca.shutdown(),t.la.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Cm.provider={build:()=>new Cm};class km{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ja("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Tm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new $a(Ua.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Fa(e),r={documents:t.map((e=>vh(n.serializer,e)))},o=await n.Wo("BatchGetDocuments",n.serializer.databaseId,cl.emptyPath(),r,t.length),i=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){La(!!t.found,43571),t.found.name,t.found.updateTime;const n=yh(e,t.found.name),r=ph(t.found.updateTime),o=t.found.createTime?ph(t.found.createTime):sl.min(),i=new Xc({mapValue:{fields:t.found.fields}});return Zc.newFoundDocument(n,r,o,i)}(e,t):"missing"in t?function(e,t){La(!!t.missing,3894),La(!!t.readTime,22933);const n=yh(e,t.missing),r=ph(t.readTime);return Zc.newNoDocument(n,r)}(e,t):Ma(7234,{result:t})}(n.serializer,e);i.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=i.get(e.toString());La(!!t,55234,{key:e}),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=hl.fromPath(t);this.mutations.push(new Md(n,this.precondition(n)))})),await async function(e,t){const n=Fa(e),r={writes:t.map((e=>Sh(n.serializer,e)))};await n.Qo("Commit",n.serializer.databaseId,cl.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ma(50498,{xu:e.constructor.name});t=sl.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new $a(Ua.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(sl.min())?xd.exists(!1):xd.updateTime(t):xd.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(sl.min()))throw new $a(Ua.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xd.updateTime(t)}return xd.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Em{constructor(e,t,n,r,o){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=o,this.Ou=n.maxAttempts,this.y_=new Hp(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_((async()=>{const e=new Tm(this.datastore),t=this.Lu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ku(e)}))))})).catch((e=>{this.ku(e)}))}))}Lu(e){try{const t=this.updateFunction(e);return!Tl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget((()=>(this.Bu(),Promise.resolve())))):this.deferred.reject(e)}qu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Bd(t)}return!1}}const Im="FirestoreClient";class Rm{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ta.UNAUTHENTICATED,this.clientId=Xa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async e=>{Pa(Im,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Pa(Im,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(F_){const n=jf(F_,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Pm(e,t){e.asyncQueue.verifyOperationInProgress(),Pa(Im,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ap(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function jm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Dm(e);Pa(Im,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Tf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Tf(t.remoteStore,n))),e._onlineComponents=t}async function Dm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Pa(Im,"Using user provided OfflineComponentProvider");try{await Pm(e,e._uninitializedComponentsProvider._offline)}catch(F_){const n=F_;if(!function(e){return"FirebaseError"===e.name?e.code===Ua.FAILED_PRECONDITION||e.code===Ua.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Da("Error using user provided cache. Falling back to memory cache: "+n),await Pm(e,new _m)}}else Pa(Im,"Using default OfflineComponentProvider"),await Pm(e,new Sm(void 0));return e._offlineComponents}async function Nm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Pa(Im,"Using user provided OnlineComponentProvider"),await jm(e,e._uninitializedComponentsProvider._online)):(Pa(Im,"Using default OnlineComponentProvider"),await jm(e,new Cm))),e._onlineComponents}function Mm(e){return Nm(e).then((e=>e.syncEngine))}function Om(e){return Nm(e).then((e=>e.datastore))}async function Lm(e){const t=await Nm(e),n=t.eventManager;return n.onListen=em.bind(null,t.syncEngine),n.onUnlisten=om.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=tm.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=im.bind(null,t.syncEngine),n}function Fm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new za;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,o){const i=new km({next:a=>{i.yu(),t.enqueueAndForget((()=>$f(e,s)));const l=a.docs.has(n);!l&&a.fromCache?o.reject(new $a(Ua.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?o.reject(new $a(Ua.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(a)},error:e=>o.reject(e)}),s=new qf(Iu(n.path),i,{includeMetadataChanges:!0,Fa:!0});return Uf(e,s)}(await Lm(e),e.asyncQueue,t,n,r))),r.promise}function Um(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new za;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,o){const i=new km({next:n=>{i.yu(),t.enqueueAndForget((()=>$f(e,s))),n.fromCache&&"server"===r.source?o.reject(new $a(Ua.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:e=>o.reject(e)}),s=new qf(n,i,{includeMetadataChanges:!0,Fa:!0});return Uf(e,s)}(await Lm(e),e.asyncQueue,t,n,r))),r.promise}function $m(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const zm=new Map;function Bm(e,t,n){if(!n)throw new $a(Ua.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Vm(e){if(!hl.isDocumentKey(e))throw new $a(Ua.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Wm(e){if(hl.isDocumentKey(e))throw new $a(Ua.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Hm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ma(12329,{type:typeof e})}function qm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $a(Ua.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hm(e);throw new $a(Ua.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Gm(e,t){if(t<=0)throw new $a(Ua.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}const Km="firestore.googleapis.com",Ym=!0;class Qm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new $a(Ua.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Km,this.ssl=Ym}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Ym;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Wh;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Kh)throw new $a(Ua.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new $a(Ua.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$m(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new $a(Ua.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new $a(Ua.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new $a(Ua.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $a(Ua.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $a(Ua.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qm(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Va;switch(e.type){case"firstParty":return new qa(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new $a(Ua.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zm.get(e);t&&(Pa("ComponentProvider","Removing Datastore"),zm.delete(e),t.terminate())}(this),Promise.resolve()}}class Jm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Jm(this.firestore,e,this._query)}}class Zm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zm(this.firestore,e,this._key)}}class eg extends Jm{constructor(e,t,n){super(e,t,Iu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zm(this.firestore,null,new hl(e))}withConverter(e){return new eg(this.firestore,e,this._path)}}function tg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=en(e),Bm("collection","path",t),e instanceof Xm){const n=cl.fromString(t,...r);return Wm(n),new eg(e,null,n)}{if(!(e instanceof Zm||e instanceof eg))throw new $a(Ua.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(cl.fromString(t,...r));return Wm(n),new eg(e.firestore,null,n)}}function ng(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=en(e),1===arguments.length&&(t=Xa.newId()),Bm("doc","path",t),e instanceof Xm){const n=cl.fromString(t,...r);return Vm(n),new Zm(e,null,new hl(n))}{if(!(e instanceof Zm||e instanceof eg))throw new $a(Ua.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(cl.fromString(t,...r));return Vm(n),new Zm(e.firestore,e instanceof eg?e.converter:null,new hl(n))}}const rg="AsyncQueue";class og{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Hp(this,"async_queue_retry"),this.ju=()=>{const e=Vp();e&&Pa(rg,"Visibility state changed to "+e.visibilityState),this.y_.A_()},this.Hu=e;const t=Vp();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Vp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise((()=>{}));const t=new za;return this.Yu((()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qu.push(e),this.Zu())))}async Zu(){if(0!==this.Qu.length){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(L_){if(!Sl(L_))throw L_;Pa(rg,"Operation failed with retryable error: "+L_)}this.Qu.length>0&&this.y_.E_((()=>this.Zu()))}}Yu(e){const t=this.Hu.then((()=>(this.Wu=!0,e().catch((e=>{throw this.Ku=e,this.Wu=!1,ja("INTERNAL UNHANDLED ERROR: ",ig(e)),e})).then((e=>(this.Wu=!1,e))))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const r=Pf.createAndSchedule(this,e,t,n,(e=>this.Xu(e)));return this.Uu.push(r),r}Ju(){this.Ku&&Ma(47125,{ec:ig(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do{e=this.Hu,await e}while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then((()=>{this.Uu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.tc()}))}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function ig(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function sg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class ag extends Xm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new og,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new og(e),this._firestoreClient=void 0,await e}}}function lg(e){if(e._terminated)throw new $a(Ua.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||cg(e),e._firestoreClient}function cg(e){var t,n,r;const o=e._freezeSettings(),i=function(e,t,n,r){return new Cc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,$m(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||(null===(n=o.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=o.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new Rm(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ug{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ug(pc.fromBase64String(e))}catch(e){throw new $a(Ua.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ug(pc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new $a(Ua.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hg{constructor(e){this._methodName=e}}class pg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $a(Ua.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $a(Ua.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ja(this._lat,e._lat)||Ja(this._long,e._long)}}class fg{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const mg=/^__.*__$/;class gg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Rd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Id(e,this.data,t,this.fieldTransforms)}}class vg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Rd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ma(40011,{oc:e})}}class bg{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this._c(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new bg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r.lc(e),r}hc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Fg(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(0===e.length)throw this.Tc("Document fields must not be empty");if(yg(this.oc)&&mg.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class wg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Wp(e)}dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new bg({oc:e,methodName:t,Ec:n,path:dl.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xg(e){const t=e._freezeSettings(),n=Wp(e._databaseId);return new wg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ag(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.dc(i.merge||i.mergeFields?2:0,t,n,o);Ng("Data must be an object, but it was:",s,r);const a=jg(r,s);let l,c;if(i.merge)l=new dc(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=Mg(t,r,n);if(!s.contains(o))throw new $a(Ua.INVALID_ARGUMENT,`Field '${o}' is specified in your field mask but missing from your input data.`);Ug(e,o)||e.push(o)}l=new dc(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new gg(new Xc(a),l,c)}class _g extends hg{_toFieldTransform(e){if(2!==e.oc)throw 1===e.oc?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _g}}function Sg(e,t,n){return new bg({oc:3,Ec:t.settings.Ec,methodName:e._methodName,cc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Cg extends hg{_toFieldTransform(e){return new bd(e.path,new dd)}isEqual(e){return e instanceof Cg}}class kg extends hg{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=Sg(this,e,!0),n=this.Ac.map((e=>Pg(e,t))),r=new hd(n);return new bd(e.path,r)}isEqual(e){return e instanceof kg&&Wt(this.Ac,e.Ac)}}class Tg extends hg{constructor(e,t){super(e),this.Rc=t}_toFieldTransform(e){const t=new gd(e.serializer,sd(e.serializer,this.Rc));return new bd(e.path,t)}isEqual(e){return e instanceof Tg&&this.Rc===e.Rc}}function Eg(e,t,n,r){const o=e.dc(1,t,n);Ng("Data must be an object, but it was:",o,r);const i=[],s=Xc.empty();oc(r,((e,r)=>{const a=Lg(t,e,n);r=en(r);const l=o.hc(a);if(r instanceof _g)i.push(a);else{const e=Pg(r,l);null!=e&&(i.push(a),s.set(a,e))}}));const a=new dc(i);return new vg(s,a,o.fieldTransforms)}function Ig(e,t,n,r,o,i){const s=e.dc(1,t,n),a=[Mg(t,r,n)],l=[o];if(i.length%2!=0)throw new $a(Ua.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(Mg(t,i[h])),l.push(i[h+1]);const c=[],u=Xc.empty();for(let h=a.length-1;h>=0;--h)if(!Ug(c,a[h])){const e=a[h];let t=l[h];t=en(t);const n=s.hc(e);if(t instanceof _g)c.push(e);else{const r=Pg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new dc(c);return new vg(u,d,s.fieldTransforms)}function Rg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Pg(n,e.dc(r?4:3,t))}function Pg(e,t){if(Dg(e=en(e)))return Ng("Unsupported field value:",t,e),jg(e,t);if(e instanceof hg)return function(e,t){if(!yg(t.oc))throw t.Tc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Tc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&4!==t.oc)throw t.Tc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=Pg(o,t.Pc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=en(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=il.fromDate(e);return{timestampValue:uh(t.serializer,n)}}if(e instanceof il){const n=new il(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:uh(t.serializer,n)}}if(e instanceof pg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ug)return{bytesValue:dh(t.serializer,e._byteString)};if(e instanceof Zm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Tc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:fh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof fg)return function(e,t){return{mapValue:{fields:{[Ec]:{stringValue:Pc},[jc]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Tc("VectorValues must only contain numeric values.");return od(t.serializer,e)}))}}}}}}(e,t);throw t.Tc(`Unsupported field value: ${Hm(e)}`)}(e,t)}function jg(e,t){const n={};return ic(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oc(e,((e,r)=>{const o=Pg(r,t.uc(e));null!=o&&(n[e]=o)})),{mapValue:{fields:n}}}function Dg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof il||e instanceof pg||e instanceof ug||e instanceof Zm||e instanceof hg||e instanceof fg)}function Ng(e,t,n){if(!Dg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Hm(n);throw"an object"===r?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}}function Mg(e,t,n){if((t=en(t))instanceof dg)return t._internalPath;if("string"==typeof t)return Lg(e,t);throw Fg("Field path arguments must be of type string or ",e,!1,void 0,n)}const Og=new RegExp("[~\\*/\\[\\]]");function Lg(e,t,n){if(t.search(Og)>=0)throw Fg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dg(...t.split("."))._internalPath}catch(r){throw Fg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Fg(e,t,n,r,o){const i=r&&!r.isEmpty(),s=void 0!==o;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${r}`),s&&(l+=` in document ${o}`),l+=")"),new $a(Ua.INVALID_ARGUMENT,a+e+l)}function Ug(e,t){return e.some((e=>e.isEqual(t)))}class $g{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zg extends $g{data(){return super.data()}}function Bg(e,t){return"string"==typeof t?Lg(e,t):t instanceof dg?t._internalPath:t._delegate._internalPath}function Vg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new $a(Ua.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wg{}class Hg extends Wg{}function qg(e,t){let n=[];for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t instanceof Wg&&n.push(t),n=n.concat(o),function(e){const t=e.filter((e=>e instanceof Yg)).length,n=e.filter((e=>e instanceof Gg)).length;if(t>1||t>0&&n>0)throw new $a(Ua.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Gg extends Hg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Gg(e,t,n)}_apply(e){const t=this._parse(e);return av(e._query,t),new Jm(e.firestore,e.converter,Mu(e._query,t))}_parse(e){const t=xg(e.firestore),n=function(e,t,n,r,o,i,s){let a;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new $a(Ua.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){sv(s,i);const t=[];for(const n of s)t.push(iv(r,e,n));a={arrayValue:{values:t}}}else a=iv(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||sv(s,i),a=Rg(n,t,s,"in"===i||"not-in"===i);return su.create(o,i,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Kg(e,t,n){const r=t,o=Bg("where",e);return Gg._create(o,r,n)}class Yg extends Wg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yg(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:au.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const o of r)av(n,o),n=Mu(n,o)}(e._query,t),new Jm(e.firestore,e.converter,Mu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Qg extends Hg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Qg(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new $a(Ua.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new $a(Ua.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(t,n)}(e._query,this._field,this._direction);return new Jm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Tu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Xg(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Bg("orderBy",e);return Qg._create(n,t)}class Jg extends Hg{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Jg(e,t,n)}_apply(e){return new Jm(e.firestore,e.converter,Ou(e._query,this._limit,this._limitType))}}function Zg(e){return Gm("limit",e),Jg._create("limit",e,"F")}class ev extends Hg{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ev(e,t,n)}_apply(e){const t=ov(e,this.type,this._docOrFields,this._inclusive);return new Jm(e.firestore,e.converter,function(e,t){return new Tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function tv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ev._create("startAt",t,!0)}class nv extends Hg{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new nv(e,t,n)}_apply(e){const t=ov(e,this.type,this._docOrFields,this._inclusive);return new Jm(e.firestore,e.converter,function(e,t){return new Tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function rv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nv._create("endAt",t,!0)}function ov(e,t,n,r){if(n[0]=en(n[0]),n[0]instanceof $g)return function(e,t,n,r,o){if(!r)throw new $a(Ua.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const i=[];for(const s of ju(e))if(s.field.isKeyField())i.push(Bc(t,r.key));else{const e=r.data.field(s.field);if(Ac(e))throw new $a(Ua.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new $a(Ua.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}i.push(e)}return new eu(i,o)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const o=xg(e.firestore);return function(e,t,n,r,o,i){const s=e.explicitOrderBy;if(o.length>s.length)throw new $a(Ua.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<o.length;l++){const i=o[l];if(s[l].field.isKeyField()){if("string"!=typeof i)throw new $a(Ua.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof i}`);if(!Pu(e)&&-1!==i.indexOf("/"))throw new $a(Ua.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${i}' contains a slash.`);const n=e.path.child(cl.fromString(i));if(!hl.isDocumentKey(n))throw new $a(Ua.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const o=new hl(n);a.push(Bc(t,o))}else{const e=Rg(n,r,i);a.push(e)}}return new eu(a,i)}(e._query,e.firestore._databaseId,o,t,n,r)}}function iv(e,t,n){if("string"==typeof(n=en(n))){if(""===n)throw new $a(Ua.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pu(t)&&-1!==n.indexOf("/"))throw new $a(Ua.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(cl.fromString(n));if(!hl.isDocumentKey(r))throw new $a(Ua.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bc(e,new hl(r))}if(n instanceof Zm)return Bc(e,n._key);throw new $a(Ua.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(n)}.`)}function sv(e,t){if(!Array.isArray(e)||0===e.length)throw new $a(Ua.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function av(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new $a(Ua.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new $a(Ua.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class lv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ma(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return oc(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const o=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[jc].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>gc(e.doubleValue)));return new fg(o)}convertGeoPoint(e){return new pg(gc(e.latitude),gc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_c(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const t=mc(e);return new il(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=cl.fromString(e);La(Oh(n),9688,{name:e});const r=new Tc(n.get(1),n.get(3)),o=new hl(n.popFirst(5));return r.isEqual(t)||ja(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function cv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class uv extends lv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ug(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zm(this.firestore,null,t)}}class dv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hv extends $g{constructor(e,t,n,r,o,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new pv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Bg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class pv extends hv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class fv{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new dv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new pv(this._firestore,this._userDataWriter,n.key,n,new dv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new $a(Ua.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new pv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new dv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new pv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,i=-1;return 0!==t.type&&(o=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:mv(t.type),doc:r,oldIndex:o,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function mv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ma(61501,{type:e})}}function gv(e){e=qm(e,Zm);const t=qm(e.firestore,ag);return Fm(lg(t),e._key).then((n=>Cv(t,e,n)))}class vv extends lv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ug(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zm(this.firestore,null,t)}}function yv(e){e=qm(e,Jm);const t=qm(e.firestore,ag),n=lg(t),r=new vv(t);return Vg(e._query),Um(n,e._query).then((n=>new fv(t,r,e,n)))}function bv(e,t,n){e=qm(e,Zm);const r=qm(e.firestore,ag),o=cv(e.converter,t,n);return Sv(r,[Ag(xg(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,xd.none())])}function wv(e,t,n){e=qm(e,Zm);const r=qm(e.firestore,ag),o=xg(r);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return i="string"==typeof(t=en(t))||t instanceof dg?Ig(o,"updateDoc",e._key,t,n,a):Eg(o,"updateDoc",e._key,t),Sv(r,[i.toMutation(e._key,xd.exists(!0))])}function xv(e){return Sv(qm(e.firestore,ag),[new Nd(e._key,xd.none())])}function Av(e,t){const n=qm(e.firestore,ag),r=ng(e),o=cv(e.converter,t);return Sv(n,[Ag(xg(e.firestore),"addDoc",r._key,o,null!==e.converter,{}).toMutation(r._key,xd.exists(!1))]).then((()=>r))}function _v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,i,s;e=en(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||sg(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(sg(n[l])){const e=n[l];n[l]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[l+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof Zm)d=qm(e.firestore,ag),h=Iu(e._key.path),u={next:t=>{n[l]&&n[l](Cv(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=qm(e,Jm);d=qm(t.firestore,ag),h=t._query;const r=new vv(d);u={next:e=>{n[l]&&n[l](new fv(d,r,t,e))},error:n[l+1],complete:n[l+2]},Vg(e._query)}return function(e,t,n,r){const o=new km(r),i=new qf(t,o,n);return e.asyncQueue.enqueueAndForget((async()=>Uf(await Lm(e),i))),()=>{o.yu(),e.asyncQueue.enqueueAndForget((async()=>$f(await Lm(e),i)))}}(lg(d),h,c,u)}function Sv(e,t){return function(e,t){const n=new za;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Am(e);try{const e=await function(e,t){const n=Fa(e),r=il.now(),o=t.reduce(((e,t)=>e.add(t.key)),td());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=qu(),l=td();return n.Cs.getEntries(e,o).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((o=>{i=o;const s=[];for(const e of t){const t=Td(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new Rd(e.key,t,Jc(t.value.mapValue),xd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Yu(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.uu[e.currentUser.toKey()];r||(r=new sc(Ja)),r=r.insert(t,n),e.uu[e.currentUser.toKey()]=r}(r,e.batchId,n),await ym(r,e.changes),await yf(r.remoteStore)}catch(e){const t=jf(e,"Failed to persist write");n.reject(t)}}(await Mm(e),t,n))),n.promise}(lg(e),t)}function Cv(e,t,n){const r=n.docs.get(t._key),o=new vv(e);return new hv(e,o,t._key,r,new dv(n.hasPendingWrites,n.fromCache),t.converter)}const kv={maxAttempts:5};function Tv(e,t){if((e=en(e)).firestore!==t)throw new $a(Ua.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Ev{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xg(e)}get(e){const t=Tv(e,this._firestore),n=new uv(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Ma(24041);const r=e[0];if(r.isFoundDocument())return new $g(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new $g(this._firestore,n,t._key,null,t.converter);throw Ma(18433,{doc:r})}))}set(e,t,n){const r=Tv(e,this._firestore),o=cv(r.converter,t,n),i=Ag(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,n);return this._transaction.set(r._key,i),this}update(e,t,n){const r=Tv(e,this._firestore);let o;for(var i=arguments.length,s=new Array(i>3?i-3:0),a=3;a<i;a++)s[a-3]=arguments[a];return o="string"==typeof(t=en(t))||t instanceof dg?Ig(this._dataReader,"Transaction.update",r._key,t,n,s):Eg(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,o),this}delete(e){const t=Tv(e,this._firestore);return this._transaction.delete(t._key),this}}class Iv extends Ev{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Tv(e,this._firestore),n=new vv(this._firestore);return super.get(e).then((e=>new hv(this._firestore,n,t._key,e._document,new dv(!1,!1),t.converter)))}}function Rv(e,t,n){e=qm(e,ag);const r=Object.assign(Object.assign({},kv),n);return function(e){if(e.maxAttempts<1)throw new $a(Ua.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new za;return e.asyncQueue.enqueueAndForget((async()=>{const o=await Om(e);new Em(e.asyncQueue,o,n,t,r).Nu()})),r.promise}(lg(e),(n=>t(new Iv(e,n))),r)}function Pv(){return new Cg("serverTimestamp")}function jv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kg("arrayUnion",t)}function Dv(e){return new Tg("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ea=e}(vr),hr(new tn("firestore",((e,n)=>{let{instanceIdentifier:r,options:o}=n;const i=e.getProvider("app").getImmediate(),s=new ag(new Wa(e.getProvider("auth-internal")),new Ka(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new $a(Ua.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(e.options.projectId,t)}(i,r),i);return o=Object.assign({useFetchStreams:t},o),s._setSettings(o),s}),"PUBLIC").setMultipleInstances(!0)),wr(Ca,ka,e),wr(Ca,ka,"esm2017")}();const Nv="firebasestorage.googleapis.com",Mv="storageBucket";class Ov extends Nt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Uv(e),`Firebase Storage: ${t} (${Uv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ov.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Uv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lv,Fv;function Uv(e){return"storage/"+e}function $v(){return new Ov(Lv.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function zv(){return new Ov(Lv.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Bv(){return new Ov(Lv.CANCELED,"User canceled the upload/download.")}function Vv(){return new Ov(Lv.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wv(e){return new Ov(Lv.INVALID_ARGUMENT,e)}function Hv(){return new Ov(Lv.APP_DELETED,"The Firebase app was deleted.")}function qv(e,t){return new Ov(Lv.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Gv(e){throw new Ov(Lv.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Lv||(Lv={}));class Kv{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Kv.makeFromUrl(e,t)}catch(L_){return new Kv(e,"")}if(""===n.path)return n;throw r=e,new Ov(Lv.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const o=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp(`^https?://${t===Nv?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let o=r[t.indices.path];o||(o=""),n=new Kv(e,o),t.postModify(n);break}}if(null==n)throw function(e){return new Ov(Lv.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Yv{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Qv(e){return"string"===typeof e||e instanceof String}function Xv(e){return Jv()&&e instanceof Blob}function Jv(){return"undefined"!==typeof Blob}function Zv(e,t,n,r){if(r<t)throw Wv(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Wv(`Invalid value for '${e}'. Expected ${n} or less.`)}function ey(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function ty(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function ny(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),o=-1!==t.indexOf(e);return n||r||o}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Fv||(Fv={}));class ry{constructor(e,t,n,r,o,i,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new oy(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Fv.NO_ERROR,o=n.getStatus();if(!t||ny(o,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Fv.ABORT;return void e(!1,new oy(!1,null,t))}const i=-1!==this.successCodes_.indexOf(o);e(!0,new oy(i,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,o=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(o,o.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(L_){r(L_)}else if(null!==o){const e=$v();e.serverResponse=o.getErrorText(),this.errorCallback_?r(this.errorCallback_(o,e)):r(e)}else if(t.canceled){r(this.appDelete_?Hv():Bv())}else{r(zv())}};this.canceled_?t(0,new oy(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,o=null,i=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){o=setTimeout((()=>{o=null,e(p,l())}),t)}function h(){i&&clearTimeout(i)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),d(i)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==o?(e||(a=2),clearTimeout(o),d(0)):e||(a=1)))}return d(0),i=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class oy{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function iy(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function sy(){const e=iy();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Jv())return new Blob(n);throw new Ov(Lv.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function ay(e){if("undefined"===typeof atob)throw t="base-64",new Ov(Lv.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const ly="raw",cy="base64",uy="base64url",dy="data_url";class hy{constructor(e,t){this.data=e,this.contentType=t||null}}function py(e,t){switch(e){case ly:return new hy(fy(t));case cy:case uy:return new hy(my(e,t));case dy:return new hy(function(e){const t=new gy(e);return t.base64?my(cy,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(L_){throw qv(dy,"Malformed data URL.")}return fy(t)}(t.rest)}(t),function(e){const t=new gy(e);return t.contentType}(t))}throw $v()}function fy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function my(e,t){switch(e){case cy:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw qv(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case uy:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw qv(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ay(t)}catch(L_){if(L_.message.includes("polyfill"))throw L_;throw qv(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class gy{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw qv(dy,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class vy{constructor(e,t){let n=0,r="";Xv(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Xv(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new vy(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new vy(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Jv()){const e=t.map((e=>e instanceof vy?e.data_:e));return new vy(sy.apply(null,e))}{const e=t.map((e=>Qv(e)?py(ly,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let o=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[o++]=e[t]})),new vy(r,!0)}}uploadData(){return this.data_}}function yy(e){let t;try{t=JSON.parse(e)}catch(L_){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function by(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function wy(e,t){return t}class xy{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||wy}}let Ay=null;function _y(){if(Ay)return Ay;const e=[];e.push(new xy("bucket")),e.push(new xy("generation")),e.push(new xy("metageneration")),e.push(new xy("name","fullPath",!0));const t=new xy("name");t.xform=function(e,t){return function(e){return!Qv(e)||e.length<2?e:by(e)}(t)},e.push(t);const n=new xy("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new xy("timeCreated")),e.push(new xy("updated")),e.push(new xy("md5Hash",null,!0)),e.push(new xy("cacheControl",null,!0)),e.push(new xy("contentDisposition",null,!0)),e.push(new xy("contentEncoding",null,!0)),e.push(new xy("contentLanguage",null,!0)),e.push(new xy("contentType",null,!0)),e.push(new xy("metadata","customMetadata",!0)),Ay=e,Ay}function Sy(e,t,n){const r={type:"file"},o=n.length;for(let i=0;i<o;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,o=new Kv(n,r);return t._makeStorageReference(o)}})}(r,e),r}function Cy(e,t,n){const r=yy(t);if(null===r)return null;return Sy(e,r,n)}function ky(e,t){const n={},r=t.length;for(let o=0;o<r;o++){const r=t[o];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Ty{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ey(e){if(!e)throw $v()}function Iy(e,t){return function(n,r){const o=Cy(e,r,t);return Ey(null!==o),o}}function Ry(e,t){return function(n,r){const o=Cy(e,r,t);return Ey(null!==o),function(e,t,n,r){const o=yy(t);if(null===o)return null;if(!Qv(o.downloadTokens))return null;const i=o.downloadTokens;if(0===i.length)return null;const s=encodeURIComponent;return i.split(",").map((t=>{const o=e.bucket,i=e.fullPath;return ey("/b/"+s(o)+"/o/"+s(i),n,r)+ty({alt:"media",token:t})}))[0]}(o,r,e.host,e._protocol)}}function Py(e){return function(t,n){let r;var o,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Ov(Lv.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Ov(Lv.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new Ov(Lv.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(o=e.path,r=new Ov(Lv.UNAUTHORIZED,"User does not have permission to access '"+o+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function jy(e){const t=Py(e);return function(n,r){let o=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,o=new Ov(Lv.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Dy(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Ny(e,t,n,r,o){const i=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=Dy(t,r,o),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ky(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=vy.getBlob(c,r,u);if(null===d)throw Vv();const h={name:l.fullPath},p=ey(i,e.host,e._protocol),f=e.maxUploadRetryTime,m=new Ty(p,"POST",Iy(e,n),f);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=Py(t),m}class My{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fv.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Fv.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Fv.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Gv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gv("cannot .getStatus() before sending");try{return this.xhr_.status}catch(L_){return-1}}getResponse(){if(!this.sent_)throw Gv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Oy extends My{initXhr(){this.xhr_.responseType="text"}}function Ly(){return new Oy}class Fy{constructor(e,t){this._service=e,this._location=t instanceof Kv?t:Kv.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Fy(e,t)}get root(){const e=new Kv(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return by(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Kv(this._location.bucket,e);return new Fy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Ov(Lv.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Uy(e,t,n){e._throwIfRoot("uploadBytes");const r=Ny(e.storage,e._location,_y(),new vy(t,!0),n);return e.storage.makeRequestWithTokens(r,Ly).then((t=>({metadata:t,ref:e})))}function $y(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=ey(t.fullServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,i=new Ty(r,"GET",Ry(e,n),o);return i.errorHandler=jy(t),i}(e.storage,e._location,_y());return e.storage.makeRequestWithTokens(t,Ly).then((e=>{if(null===e)throw new Ov(Lv.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function zy(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Kv(e._location.bucket,n);return new Fy(e.storage,r)}function By(e,t){if(e instanceof Hy){const n=e;if(null==n._bucket)throw new Ov(Lv.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Mv+"' property when initializing the app?");const r=new Fy(n,n._bucket);return null!=t?By(r,t):r}return void 0!==t?zy(e,t):e}function Vy(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Hy)return function(e,t){return new Fy(e,t)}(e,t);throw Wv("To use ref(service, url), the first argument must be a Storage instance.")}return By(e,t)}function Wy(e,t){const n=null===t||void 0===t?void 0:t[Mv];return null==n?null:Kv.makeFromBucketSpec(n,e)}class Hy{constructor(e,t,n,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Nv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Kv.makeFromBucketSpec(r,this._host):Wy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Kv.makeFromBucketSpec(this._url,e):this._bucket=Wy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Zv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Zv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fy(this,e)}_makeRequest(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Yv(Hv());{const i=function(e,t,n,r,o,i){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=ty(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new ry(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,s)}(e,this._appId,n,r,t,this._firebaseVersion,o);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const qy="@firebase/storage",Gy="0.13.7",Ky="storage";function Yy(e,t,n){return Uy(e=en(e),t,n)}function Qy(e){return $y(e=en(e))}function Xy(e,t){return Vy(e=en(e),t)}function Jy(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Hy(r,o,i,n,vr)}hr(new tn(Ky,Jy,"PUBLIC").setMultipleInstances(!0)),wr(qy,Gy,""),wr(qy,Gy,"esm2017");const Zy="@firebase/database",eb="1.0.14";let tb="";function nb(e){tb=e}class rb{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ft(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Lt(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class ob{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return $t(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const ib=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new rb(t)}}catch(L_){}return new ob},sb=ib("localStorage"),ab=ib("sessionStorage"),lb=new pn("@firebase/database"),cb=function(){let e=1;return function(){return e++}}(),ub=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){const t=o-55296;r++,ut(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(t<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}(e),n=new Yt;n.update(t);const r=n.digest();return pt.encodeByteArray(r)},db=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=db.apply(null,n):e+="object"===typeof n?Ft(n):n,e+=" "}return e};let hb=null,pb=!0;const fb=function(e,t){ut(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(lb.logLevel=ln.VERBOSE,hb=lb.log.bind(lb),t&&ab.set("logging_enabled",!0)):"function"===typeof e?hb=e:(hb=null,ab.remove("logging_enabled"))},mb=function(){if(!0===pb&&(pb=!1,null===hb&&!0===ab.get("logging_enabled")&&fb(!0)),hb){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=db.apply(null,t);hb(r)}},gb=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];mb(e,...n)}},vb=function(){const e="FIREBASE INTERNAL ERROR: "+db(...arguments);lb.error(e)},yb=function(){const e=`FIREBASE FATAL ERROR: ${db(...arguments)}`;throw lb.error(e),new Error(e)},bb=function(){const e="FIREBASE WARNING: "+db(...arguments);lb.warn(e)},wb=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},xb="[MIN_NAME]",Ab="[MAX_NAME]",_b=function(e,t){if(e===t)return 0;if(e===xb||t===Ab)return-1;if(t===xb||e===Ab)return 1;{const n=Pb(e),r=Pb(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Sb=function(e,t){return e===t?0:e<t?-1:1},Cb=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ft(t))},kb=function(e){if("object"!==typeof e||null===e)return Ft(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Ft(t[r]),n+=":",n+=kb(e[t[r]]);return n+="}",n},Tb=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function Eb(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Ib=function(e){ut(!wb(e),"Invalid JSON number");const t=1023;let n,r,o,i,s;0===e?(r=0,o=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=i+t,o=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(r=0,o=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(o%2?1:0),o=Math.floor(o/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Rb=new RegExp("^-?(0*)\\d{1,10}$"),Pb=function(e){if(Rb.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},jb=function(e){try{e()}catch(L_){setTimeout((()=>{const t=L_.stack||"";throw bb("Exception was thrown by user callback.",t),L_}),Math.floor(0))}},Db=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Nb{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,fr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){bb(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Mb{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(mb("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bb(e)}}class Ob{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ob.OWNER="owner";const Lb="5",Fb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ub="ac",$b="websocket",zb="long_polling";class Bb{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=i,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sb.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sb.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Vb(e,t,n){let r;if(ut("string"===typeof t,"typeof type must == string"),ut("object"===typeof n,"typeof params must == object"),t===$b)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==zb)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const o=[];return Eb(n,((e,t)=>{o.push(e+"="+t)})),r+o.join("&")}class Wb{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;$t(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return yt(this.counters_)}}const Hb={},qb={};function Gb(e){const t=e.toString();return Hb[t]||(Hb[t]=new Wb),Hb[t]}class Kb{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&jb((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Yb="start";class Qb{constructor(e,t,n,r,o,i,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gb(e),this.stats_=Gb(t),this.urlFn=e=>(this.appCheckToken&&(e[Ub]=this.appCheckToken),Vb(t,zb,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Kb(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Pt()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xb((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Yb)n.id=i,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,i)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Yb]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Lb,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Ub]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Fb.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qb.forceAllow_=!0}static forceDisallow(){Qb.forceDisallow_=!0}static isAvailable(){return!Pt()&&(!!Qb.forceAllow_||!Qb.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ft(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=mt(t),r=Tb(n,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Pt())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ft(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Xb{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Pt())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=cb(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Xb.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(L_){mb("frame writing exception"),L_.stack&&mb(L_.stack),mb(L_)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||mb("No IE domain setting required")}catch(L_){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Pt()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{mb("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(L_){}}),Math.floor(1))}}let Jb=null;"undefined"!==typeof MozWebSocket?Jb=MozWebSocket:"undefined"!==typeof WebSocket&&(Jb=WebSocket);class Zb{constructor(e,t,n,r,o,i,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gb(this.connId),this.stats_=Gb(t),this.connURL=Zb.connectionURL_(t,i,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,o){const i={};return i.v=Lb,!Pt()&&"undefined"!==typeof location&&location.hostname&&Fb.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i[Ub]=r),o&&(i.p=o),Vb(e,$b,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sb.set("previous_websocket_failure",!0);try{let e;if(Pt()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${Lb}/${tb}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALGOLIA_API_KEY:"b94f7163a6855940c1a0d94e635a307c",REACT_APP_ALGOLIA_APP_ID:"7PVTC2J64R",REACT_APP_ALGOLIA_INDEX_NAME:"searches",REACT_APP_API_URL:"https://sideeye-backend-production.up.railway.app",REACT_APP_FIREBASE_API_KEY:"AIzaSyBI9pvyseKR-5dw3eXuZgTLnG3OcvNGbeI",REACT_APP_FIREBASE_APP_ID:"1:864667627333:web:1ec087179141d1e91a982c",REACT_APP_FIREBASE_AUTH_DOMAIN:"sideeye.uk",REACT_APP_FIREBASE_DATABASE_URL:"https://sideeye-bafda-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"864667627333",REACT_APP_FIREBASE_PROJECT_ID:"sideeye-bafda",REACT_APP_FIREBASE_STORAGE_BUCKET:"sideeye-bafda.firebasestorage.app",REACT_APP_SHOTSTACK_API_KEY:"c0Bpc85oj7cHuDdfhz54eQJmmoEI1qauJyodpw9d",REACT_APP_SOCKET_SERVER_URL:"wss://sideeye-backend-production.up.railway.app"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Jb(this.connURL,[],e)}catch(L_){this.log_("Error instantiating WebSocket.");const t=L_.message||L_.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Zb.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Jb&&!Zb.forceDisallow_}static previouslyFailed(){return sb.isInMemoryStorage||!0===sb.get("previous_websocket_failure")}markConnectionHealthy(){sb.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Lt(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ut(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Ft(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Tb(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(L_){this.log_("Exception thrown from WebSocket.send():",L_.message||L_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zb.responsesRequiredToBeHealthy=2,Zb.healthyTimeout=3e4;class ew{static get ALL_TRANSPORTS(){return[Qb,Zb]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Zb&&Zb.isAvailable();let n=t&&!Zb.previouslyFailed();if(e.webSocketOnly&&(t||bb("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Zb];else{const e=this.transports_=[];for(const t of ew.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);ew.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ew.globalTransportInitialized_=!1;class tw{constructor(e,t,n,r,o,i,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gb("c:"+this.id+":"),this.transportManager_=new ew(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Db((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Cb("t",e),n=Cb("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Cb("t",e),n=Cb("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Cb("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?vb("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vb("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Lb!==n&&bb("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Db((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Db((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sb.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class nw{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class rw{constructor(e){this.allowedEvents_=e,this.listeners_={},ut(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<o.length;e++)o[e].callback.apply(o[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!n||n===r[o].context))return void r.splice(o,1)}validateEventType_(e){ut(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class ow extends rw{static getInstance(){return new ow}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||It()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}getInitialEvent(e){return ut("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class iw{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function sw(){return new iw("")}function aw(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function lw(e){return e.pieces_.length-e.pieceNum_}function cw(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new iw(e.pieces_,t)}function uw(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function dw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function hw(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new iw(t,0)}function pw(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof iw)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new iw(n,0)}function fw(e){return e.pieceNum_>=e.pieces_.length}function mw(e,t){const n=aw(e),r=aw(t);if(null===n)return t;if(n===r)return mw(cw(e),cw(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function gw(e,t){if(lw(e)!==lw(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function vw(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(lw(e)>lw(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class yw{constructor(e,t){this.errorPrefix_=t,this.parts_=dw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Zt(this.parts_[n]);bw(this)}}function bw(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ww(e))}function ww(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class xw extends rw{static getInstance(){return new xw}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}getInitialEvent(e){return ut("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Aw=1e3;class _w extends nw{constructor(e,t,n,r,o,i,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=_w.nextPersistentConnectionId_++,this.log_=gb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Aw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Pt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xw.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ow.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(Ft(o)),ut(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new kt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const o=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+o),this.listens.has(i)||this.listens.set(i,new Map),ut(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ut(!this.listens.get(i).has(o),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(i).set(o,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const o={p:n};e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(o=>{const i=o.d,s=o.s;_w.warnOnListenWarnings_(i,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",o),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,i))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&$t(e,"w")){const n=zt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();bb(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Ut(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Ut(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ut(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const o={p:e};r&&(o.q=n,o.t=r),this.sendRequest("n",o)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const o={p:t,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,o){this.initConnection_();const i={p:t,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ft(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):vb("Unrecognized action received from server: "+Ft(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ut(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Aw,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Aw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Aw),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+_w.nextConnectionId_++,o=this.lastSessionId;let i=!1,s=null;const a=function(){s?s.close():(i=!0,n())},l=function(e){ut(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);i?mb("getToken() completed but was canceled"):(mb("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new tw(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{bb(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),o))}catch(vb){this.log_("Failed to get token: "+vb),i||(this.repoInfo_.nodeAdmin&&bb(vb),a())}}}interrupt(e){mb("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mb("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bt(this.interruptReasons_)&&(this.reconnectDelay_=Aw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>kb(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new iw(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){mb("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){mb("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Pt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+tb.replace(/\./g,"-")]=1,It()?e["framework.cordova"]=1:Rt()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ow.getInstance().currentlyOnline();return Bt(this.interruptReasons_)&&e}}_w.nextPersistentConnectionId_=0,_w.nextConnectionId_=0;class Sw{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Sw(e,t)}}class Cw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Sw(xb,e),r=new Sw(xb,t);return 0!==this.compare(n,r)}minPost(){return Sw.MIN}}let kw;class Tw extends Cw{static get __EMPTY_NODE(){return kw}static set __EMPTY_NODE(e){kw=e}compare(e,t){return _b(e.name,t.name)}isDefinedOn(e){throw dt("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Sw.MIN}maxPost(){return new Sw(Ab,kw)}makePost(e,t){return ut("string"===typeof e,"KeyIndex indexValue must always be a string."),new Sw(e,kw)}toString(){return".key"}}const Ew=new Tw;class Iw{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Rw{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:Rw.RED,this.left=null!=r?r:Pw.EMPTY_NODE,this.right=null!=o?o:Pw.EMPTY_NODE}copy(e,t,n,r,o){return new Rw(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pw.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Pw.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Rw.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Rw.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Rw.RED=!0,Rw.BLACK=!1;class Pw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pw.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Pw(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Rw.BLACK,null,null))}remove(e){return new Pw(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rw.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Iw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Iw(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Iw(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Iw(this.root_,null,this.comparator_,!0,e)}}function jw(e,t){return _b(e.name,t.name)}function Dw(e,t){return _b(e,t)}let Nw;Pw.EMPTY_NODE=new class{copy(e,t,n,r,o){return this}insert(e,t,n){return new Rw(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Mw=function(e){return"number"===typeof e?"number:"+Ib(e):"string:"+e},Ow=function(e){if(e.isLeafNode()){const t=e.val();ut("string"===typeof t||"number"===typeof t||"object"===typeof t&&$t(t,".sv"),"Priority must be a string or number.")}else ut(e===Nw||e.isEmpty(),"priority of unexpected type.");ut(e===Nw||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Lw,Fw,Uw;class $w{static set __childrenNodeConstructor(e){Lw=e}static get __childrenNodeConstructor(){return Lw}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$w.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ut(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ow(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $w(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:$w.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return fw(e)?this:".priority"===aw(e)?this.priorityNode_:$w.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:$w.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=aw(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(ut(".priority"!==n||1===lw(e),".priority must be the last token in a path"),this.updateImmediateChild(n,$w.__childrenNodeConstructor.EMPTY_NODE.updateChild(cw(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Mw(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Ib(this.value_):this.value_,this.lazyHash_=ub(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$w.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $w.__childrenNodeConstructor?-1:(ut(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=$w.VALUE_TYPE_ORDER.indexOf(t),o=$w.VALUE_TYPE_ORDER.indexOf(n);return ut(r>=0,"Unknown leaf type: "+t),ut(o>=0,"Unknown leaf type: "+n),r===o?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}$w.VALUE_TYPE_ORDER=["object","boolean","number","string"];const zw=new class extends Cw{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),o=n.compareTo(r);return 0===o?_b(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Sw.MIN}maxPost(){return new Sw(Ab,new $w("[PRIORITY-POST]",Uw))}makePost(e,t){const n=Fw(e);return new Sw(t,new $w("[PRIORITY-POST]",n))}toString(){return".priority"}},Bw=Math.log(2);class Vw{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Bw,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ww=function(e,t,n,r){e.sort(t);const o=function(t,r){const i=r-t;let s,a;if(0===i)return null;if(1===i)return s=e[t],a=n?n(s):s,new Rw(a,s.node,Rw.BLACK,null,null);{const l=parseInt(i/2,10)+t,c=o(t,l),u=o(l+1,r);return s=e[l],a=n?n(s):s,new Rw(a,s.node,Rw.BLACK,c,u)}},i=function(t){let r=null,i=null,s=e.length;const a=function(t,r){const i=s-t,a=s;s-=t;const c=o(i+1,a),u=e[i],d=n?n(u):u;l(new Rw(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(i=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Rw.BLACK):(a(r,Rw.BLACK),a(r,Rw.RED))}return i}(new Vw(e.length));return new Pw(r||t,i)};let Hw;const qw={};class Gw{static get Default(){return ut(qw&&zw,"ChildrenNode.ts has not been loaded"),Hw=Hw||new Gw({".priority":qw},{".priority":zw}),Hw}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=zt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Pw?t:null}hasIndex(e){return $t(this.indexSet_,e.toString())}addIndex(e,t){ut(e!==Ew,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=t.getIterator(Sw.Wrap);let i,s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=o.getNext();i=r?Ww(n,e.getCompare()):qw;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=i,new Gw(c,l)}addToIndexes(e,t){const n=Vt(this.indexes_,((n,r)=>{const o=zt(this.indexSet_,r);if(ut(o,"Missing index implementation for "+r),n===qw){if(o.isDefinedOn(e.node)){const n=[],r=t.getIterator(Sw.Wrap);let i=r.getNext();for(;i;)i.name!==e.name&&n.push(i),i=r.getNext();return n.push(e),Ww(n,o.getCompare())}return qw}{const r=t.get(e.name);let o=n;return r&&(o=o.remove(new Sw(e.name,r))),o.insert(e,e.node)}}));return new Gw(n,this.indexSet_)}removeFromIndexes(e,t){const n=Vt(this.indexes_,(n=>{if(n===qw)return n;{const r=t.get(e.name);return r?n.remove(new Sw(e.name,r)):n}}));return new Gw(n,this.indexSet_)}}let Kw;class Yw{static get EMPTY_NODE(){return Kw||(Kw=new Yw(new Pw(Dw),null,Gw.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ow(this.priorityNode_),this.children_.isEmpty()&&ut(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Kw}updatePriority(e){return this.children_.isEmpty()?this:new Yw(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Kw:t}}getChild(e){const t=aw(e);return null===t?this:this.getImmediateChild(t).getChild(cw(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(ut(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Sw(e,t);let r,o;t.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(n,this.children_));const i=r.isEmpty()?Kw:this.priorityNode_;return new Yw(r,i,o)}}updateChild(e,t){const n=aw(e);if(null===n)return t;{ut(".priority"!==aw(e)||1===lw(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(cw(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,o=!0;if(this.forEachChild(zw,((i,s)=>{t[i]=s.val(e),n++,o&&Yw.INTEGER_REGEXP_.test(i)?r=Math.max(r,Number(i)):o=!1})),!e&&o&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Mw(this.getPriority().val())+":"),this.forEachChild(zw,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":ub(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Sw(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Sw(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Sw(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Sw.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Sw.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qw?-1:0}withIndex(e){if(e===Ew||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Yw(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ew||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(zw),n=t.getIterator(zw);let r=e.getNext(),o=n.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=e.getNext(),o=n.getNext()}return null===r&&null===o}return!1}return!1}}resolveIndex_(e){return e===Ew?null:this.indexMap_.get(e.toString())}}Yw.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Qw=new class extends Yw{constructor(){super(new Pw(Dw),Yw.EMPTY_NODE,Gw.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Yw.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Sw,{MIN:{value:new Sw(xb,Yw.EMPTY_NODE)},MAX:{value:new Sw(Ab,Qw)}}),Tw.__EMPTY_NODE=Yw.EMPTY_NODE,$w.__childrenNodeConstructor=Yw,Nw=Qw,function(e){Uw=e}(Qw);function Xw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Yw.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ut(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new $w(e,Xw(t))}if(e instanceof Array){let n=Yw.EMPTY_NODE;return Eb(e,((t,r)=>{if($t(e,t)&&"."!==t.substring(0,1)){const e=Xw(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Xw(t))}{const n=[];let r=!1;if(Eb(e,((e,t)=>{if("."!==e.substring(0,1)){const o=Xw(t);o.isEmpty()||(r=r||!o.getPriority().isEmpty(),n.push(new Sw(e,o)))}})),0===n.length)return Yw.EMPTY_NODE;const o=Ww(n,jw,(e=>e.name),Dw);if(r){const e=Ww(n,zw.getCompare());return new Yw(o,Xw(t),new Gw({".priority":e},{".priority":zw}))}return new Yw(o,Xw(t),Gw.Default)}}!function(e){Fw=e}(Xw);class Jw extends Cw{constructor(e){super(),this.indexPath_=e,ut(!fw(e)&&".priority"!==aw(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),o=n.compareTo(r);return 0===o?_b(e.name,t.name):o}makePost(e,t){const n=Xw(e),r=Yw.EMPTY_NODE.updateChild(this.indexPath_,n);return new Sw(t,r)}maxPost(){const e=Yw.EMPTY_NODE.updateChild(this.indexPath_,Qw);return new Sw(Ab,e)}toString(){return dw(this.indexPath_,0).join("/")}}const Zw=new class extends Cw{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?_b(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Sw.MIN}maxPost(){return Sw.MAX}makePost(e,t){const n=Xw(e);return new Sw(t,n)}toString(){return".value"}};function ex(e){return{type:"value",snapshotNode:e}}function tx(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function nx(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function rx(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class ox{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=zw}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ut(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ut(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xb}hasEnd(){return this.endSet_}getIndexEndValue(){return ut(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ut(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ab}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ut(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===zw}copy(){const e=new ox;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ix(e){const t={};if(e.isDefault())return t;let n;if(e.index_===zw?n="$priority":e.index_===Zw?n="$value":e.index_===Ew?n="$key":(ut(e.index_ instanceof Jw,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ft(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Ft(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Ft(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Ft(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Ft(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function sx(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==zw&&(t.i=e.index_.toString()),t}class ax extends nw{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(ut(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=gb("p:rest:"),this.listens_={}}listen(e,t,n,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const i=ax.getListenId_(e,n),s={};this.listens_[i]=s;const a=ix(e._queryParams);this.restRequest_(o+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(o,a,!1,n),zt(this.listens_,i)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=ax.getListenId_(e,t);delete this.listens_[n]}get(e){const t=ix(e._queryParams),n=e._path.toString(),r=new kt;return this.restRequest_(n+".json",t,((e,t)=>{let o=t;404===e&&(o=null,e=null),null===e?(this.onDataUpdate_(n,o,!1,null),r.resolve(o)):r.reject(new Error(o))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[o,i]=r;o&&o.accessToken&&(t.auth=o.accessToken),i&&i.token&&(t.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+qt(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=Lt(a.responseText)}catch(L_){bb("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&bb("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class lx{constructor(){this.rootNode_=Yw.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function cx(){return{value:null,children:new Map}}function ux(e,t,n){if(fw(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=aw(t);e.children.has(r)||e.children.set(r,cx());ux(e.children.get(r),t=cw(t),n)}}function dx(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{dx(r,new iw(t.toString()+"/"+e),n)}))}class hx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Eb(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class px{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new hx(e);const n=1e4+2e4*Math.random();Db(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Eb(e,((e,r)=>{r>0&&$t(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Db(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var fx;function mx(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(fx||(fx={}));class gx{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=fx.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(fw(this.path)){if(null!=this.affectedTree.value)return ut(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new iw(e));return new gx(sw(),t,this.revert)}}return ut(aw(this.path)===e,"operationForChild called for unrelated child."),new gx(cw(this.path),this.affectedTree,this.revert)}}class vx{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=fx.OVERWRITE}operationForChild(e){return fw(this.path)?new vx(this.source,sw(),this.snap.getImmediateChild(e)):new vx(this.source,cw(this.path),this.snap)}}class yx{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=fx.MERGE}operationForChild(e){if(fw(this.path)){const t=this.children.subtree(new iw(e));return t.isEmpty()?null:t.value?new vx(this.source,sw(),t.value):new yx(this.source,sw(),t)}return ut(aw(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yx(this.source,cw(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class bx{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(fw(e))return this.isFullyInitialized()&&!this.filtered_;const t=aw(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function wx(e,t,n,r,o,i){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw dt("Should only compare child_ events.");const r=new Sw(t.childName,t.snapshotNode),o=new Sw(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,i);o.forEach((o=>{o.respondsTo(n.type)&&t.push(o.createEvent(r,e.query_))}))}))}function xx(e,t){return{eventCache:e,serverCache:t}}function Ax(e,t,n,r){return xx(new bx(t,n,r),e.serverCache)}function _x(e,t,n,r){return xx(e.eventCache,new bx(t,n,r))}function Sx(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Cx(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let kx;class Tx{static fromObject(e){let t=new Tx(null);return Eb(e,((e,n)=>{t=t.set(new iw(e),n)})),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(kx||(kx=new Pw(Sb)),kx);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:sw(),value:this.value};if(fw(e))return null;{const n=aw(e),r=this.children.get(n);if(null!==r){const o=r.findRootMostMatchingPathAndValue(cw(e),t);if(null!=o){return{path:pw(new iw(n),o.path),value:o.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(fw(e))return this;{const t=aw(e),n=this.children.get(t);return null!==n?n.subtree(cw(e)):new Tx(null)}}set(e,t){if(fw(e))return new Tx(t,this.children);{const n=aw(e),r=(this.children.get(n)||new Tx(null)).set(cw(e),t),o=this.children.insert(n,r);return new Tx(this.value,o)}}remove(e){if(fw(e))return this.children.isEmpty()?new Tx(null):new Tx(null,this.children);{const t=aw(e),n=this.children.get(t);if(n){const r=n.remove(cw(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new Tx(null):new Tx(this.value,o)}return this}}get(e){if(fw(e))return this.value;{const t=aw(e),n=this.children.get(t);return n?n.get(cw(e)):null}}setTree(e,t){if(fw(e))return t;{const n=aw(e),r=(this.children.get(n)||new Tx(null)).setTree(cw(e),t);let o;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Tx(this.value,o)}}fold(e){return this.fold_(sw(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,o)=>{n[r]=o.fold_(pw(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,sw(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(fw(e))return null;{const r=aw(e),o=this.children.get(r);return o?o.findOnPath_(cw(e),pw(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,sw(),t)}foreachOnPath_(e,t,n){if(fw(e))return this;{this.value&&n(t,this.value);const r=aw(e),o=this.children.get(r);return o?o.foreachOnPath_(cw(e),pw(t,r),n):new Tx(null)}}foreach(e){this.foreach_(sw(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(pw(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Ex{constructor(e){this.writeTree_=e}static empty(){return new Ex(new Tx(null))}}function Ix(e,t,n){if(fw(t))return new Ex(new Tx(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let i=r.value;const s=mw(o,t);return i=i.updateChild(s,n),new Ex(e.writeTree_.set(o,i))}{const r=new Tx(n),o=e.writeTree_.setTree(t,r);return new Ex(o)}}}function Rx(e,t,n){let r=e;return Eb(n,((e,n)=>{r=Ix(r,pw(t,e),n)})),r}function Px(e,t){if(fw(t))return Ex.empty();{const n=e.writeTree_.setTree(t,new Tx(null));return new Ex(n)}}function jx(e,t){return null!=Dx(e,t)}function Dx(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(mw(n.path,t)):null}function Nx(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(zw,((e,n)=>{t.push(new Sw(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Sw(e,n.value))})),t}function Mx(e,t){if(fw(t))return e;{const n=Dx(e,t);return new Ex(null!=n?new Tx(n):e.writeTree_.subtree(t))}}function Ox(e){return e.writeTree_.isEmpty()}function Lx(e,t){return Fx(sw(),e.writeTree_,t)}function Fx(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,o)=>{".priority"===t?(ut(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=Fx(pw(e,t),o,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(pw(e,".priority"),r)),n}}function Ux(e,t){return Jx(t,e)}function $x(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));ut(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let o=r.visible,i=!1,s=e.allWrites.length-1;for(;o&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&zx(t,r.path)?o=!1:vw(r.path,t.path)&&(i=!0)),s--}if(o){if(i)return function(e){e.visibleWrites=Vx(e.allWrites,Bx,sw()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Px(e.visibleWrites,r.path);else{Eb(r.children,(t=>{e.visibleWrites=Px(e.visibleWrites,pw(r.path,t))}))}return!0}return!1}function zx(e,t){if(e.snap)return vw(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&vw(pw(e.path,n),t))return!0;return!1}function Bx(e){return e.visible}function Vx(e,t,n){let r=Ex.empty();for(let o=0;o<e.length;++o){const i=e[o];if(t(i)){const e=i.path;let t;if(i.snap)vw(n,e)?(t=mw(n,e),r=Ix(r,t,i.snap)):vw(e,n)&&(t=mw(e,n),r=Ix(r,sw(),i.snap.getChild(t)));else{if(!i.children)throw dt("WriteRecord should have .snap or .children");if(vw(n,e))t=mw(n,e),r=Rx(r,t,i.children);else if(vw(e,n))if(t=mw(e,n),fw(t))r=Rx(r,sw(),i.children);else{const e=zt(i.children,aw(t));if(e){const n=e.getChild(cw(t));r=Ix(r,sw(),n)}}}}}return r}function Wx(e,t,n,r,o){if(r||o){const i=Mx(e.visibleWrites,t);if(!o&&Ox(i))return n;if(o||null!=n||jx(i,sw())){const i=function(e){return(e.visible||o)&&(!r||!~r.indexOf(e.writeId))&&(vw(e.path,t)||vw(t,e.path))};return Lx(Vx(e.allWrites,i,t),n||Yw.EMPTY_NODE)}return null}{const r=Dx(e.visibleWrites,t);if(null!=r)return r;{const r=Mx(e.visibleWrites,t);if(Ox(r))return n;if(null!=n||jx(r,sw())){return Lx(r,n||Yw.EMPTY_NODE)}return null}}}function Hx(e,t,n,r){return Wx(e.writeTree,e.treePath,t,n,r)}function qx(e,t){return function(e,t,n){let r=Yw.EMPTY_NODE;const o=Dx(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(zw,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const o=Mx(e.visibleWrites,t);return n.forEachChild(zw,((e,t)=>{const n=Lx(Mx(o,new iw(e)),t);r=r.updateImmediateChild(e,n)})),Nx(o).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Nx(Mx(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Gx(e,t,n,r){return function(e,t,n,r,o){ut(r||o,"Either existingEventSnap or existingServerSnap must exist");const i=pw(t,n);if(jx(e.visibleWrites,i))return null;{const t=Mx(e.visibleWrites,i);return Ox(t)?o.getChild(n):Lx(t,o.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Kx(e,t){return function(e,t){return Dx(e.visibleWrites,t)}(e.writeTree,pw(e.treePath,t))}function Yx(e,t,n,r,o,i){return function(e,t,n,r,o,i,s){let a;const l=Mx(e.visibleWrites,t),c=Dx(l,sw());if(null!=c)a=c;else{if(null==n)return[];a=Lx(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=i?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<o;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,o,i)}function Qx(e,t,n){return function(e,t,n,r){const o=pw(t,n),i=Dx(e.visibleWrites,o);if(null!=i)return i;if(r.isCompleteForChild(n))return Lx(Mx(e.visibleWrites,o),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Xx(e,t){return Jx(pw(e.treePath,t),e.writeTree)}function Jx(e,t){return{treePath:e,writeTree:t}}class Zx{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;ut("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ut(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,rx(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,nx(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,tx(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw dt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,rx(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const eA=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class tA{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new bx(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qx(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Cx(this.viewCache_),o=Yx(this.writes_,r,t,1,n,e);return 0===o.length?null:o[0]}}function nA(e,t,n,r,o){const i=new Zx;let s,a;if(n.type===fx.OVERWRITE){const l=n;l.source.fromUser?s=iA(e,t,l.path,l.snap,r,o,i):(ut(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!fw(l.path),s=oA(e,t,l.path,l.snap,r,o,a,i))}else if(n.type===fx.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,o,i,s){let a=t;return r.foreach(((r,l)=>{const c=pw(n,r);sA(t,aw(c))&&(a=iA(e,a,c,l,o,i,s))})),r.foreach(((r,l)=>{const c=pw(n,r);sA(t,aw(c))||(a=iA(e,a,c,l,o,i,s))})),a}(e,t,l.path,l.children,r,o,i):(ut(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=lA(e,t,l.path,l.children,r,o,a,i))}else if(n.type===fx.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,o,i){let s;if(null!=Kx(r,n))return t;{const a=new tA(r,t,o),l=t.eventCache.getNode();let c;if(fw(n)||".priority"===aw(n)){let n;if(t.serverCache.isFullyInitialized())n=Hx(r,Cx(t));else{const e=t.serverCache.getNode();ut(e instanceof Yw,"serverChildren would be complete if leaf node"),n=qx(r,e)}c=e.filter.updateFullNode(l,n,i)}else{const o=aw(n);let u=Qx(r,o,t.serverCache);null==u&&t.serverCache.isCompleteForChild(o)&&(u=l.getImmediateChild(o)),c=null!=u?e.filter.updateChild(l,o,u,cw(n),a,i):t.eventCache.getNode().hasChild(o)?e.filter.updateChild(l,o,Yw.EMPTY_NODE,cw(n),a,i):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Hx(r,Cx(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,i)))}return s=t.serverCache.isFullyInitialized()||null!=Kx(r,sw()),Ax(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,o,i):function(e,t,n,r,o,i,s){if(null!=Kx(o,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(fw(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return oA(e,t,n,l.getNode().getChild(n),o,i,a,s);if(fw(n)){let r=new Tx(null);return l.getNode().forEachChild(Ew,((e,t)=>{r=r.set(new iw(e),t)})),lA(e,t,n,r,o,i,a,s)}return t}{let c=new Tx(null);return r.foreach(((e,t)=>{const r=pw(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),lA(e,t,n,c,o,i,a,s)}}(e,t,a.path,a.affectedTree,r,o,i)}else{if(n.type!==fx.LISTEN_COMPLETE)throw dt("Unknown operation type: "+n.type);s=function(e,t,n,r,o){const i=t.serverCache,s=_x(t,i.getNode(),i.isFullyInitialized()||fw(n),i.isFiltered());return rA(e,s,n,r,eA,o)}(e,t,n.path,r,i)}const l=i.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Sx(e);(n.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(ex(Sx(t)))}}(t,s,l),{viewCache:s,changes:l}}function rA(e,t,n,r,o,i){const s=t.eventCache;if(null!=Kx(r,n))return t;{let a,l;if(fw(n))if(ut(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Cx(t),o=qx(r,n instanceof Yw?n:Yw.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),o,i)}else{const n=Hx(r,Cx(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,i)}else{const c=aw(n);if(".priority"===c){ut(1===lw(n),"Can't have a priority with additional path components");const o=s.getNode();l=t.serverCache.getNode();const i=Gx(r,n,o,l);a=null!=i?e.filter.updatePriority(o,i):s.getNode()}else{const u=cw(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Gx(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=Qx(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,o,i):s.getNode()}}return Ax(t,a,s.isFullyInitialized()||fw(n),e.filter.filtersNodes())}}function oA(e,t,n,r,o,i,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(fw(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=aw(n);if(!l.isCompleteForPath(n)&&lw(n)>1)return t;const o=cw(n),i=l.getNode().getImmediateChild(e).updateChild(o,r);c=".priority"===e?u.updatePriority(l.getNode(),i):u.updateChild(l.getNode(),e,i,o,eA,null)}const d=_x(t,c,l.isFullyInitialized()||fw(n),u.filtersNodes());return rA(e,d,n,o,new tA(o,d,i),a)}function iA(e,t,n,r,o,i,s){const a=t.eventCache;let l,c;const u=new tA(o,t,i);if(fw(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Ax(t,c,!0,e.filter.filtersNodes());else{const o=aw(n);if(".priority"===o)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ax(t,c,a.isFullyInitialized(),a.isFiltered());else{const i=cw(n),c=a.getNode().getImmediateChild(o);let d;if(fw(i))d=r;else{const e=u.getCompleteChild(o);d=null!=e?".priority"===uw(i)&&e.getChild(hw(i)).isEmpty()?e:e.updateChild(i,r):Yw.EMPTY_NODE}if(c.equals(d))l=t;else{l=Ax(t,e.filter.updateChild(a.getNode(),o,d,i,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function sA(e,t){return e.eventCache.isCompleteForChild(t)}function aA(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function lA(e,t,n,r,o,i,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=fw(n)?r:new Tx(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=aA(0,t.serverCache.getNode().getImmediateChild(n),r);c=oA(e,c,new iw(n),l,o,i,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=aA(0,t.serverCache.getNode().getImmediateChild(n),r);c=oA(e,c,new iw(n),l,o,i,s,a)}})),c}function cA(e,t){const n=Cx(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!fw(t)&&!n.getImmediateChild(aw(t)).isEmpty())?n.getChild(t):null}function uA(e,t,n,r){t.type===fx.MERGE&&null!==t.source.queryId&&(ut(Cx(e.viewCache_),"We should always have a full cache before handling merges"),ut(Sx(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,i=nA(e.processor_,o,t,n,r);var s,a;return s=e.processor_,a=i.viewCache,ut(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),ut(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),ut(i.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,dA(e,i.changes,i.viewCache.eventCache.getNode(),null)}function dA(e,t,n,r){const o=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const o=[],i=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),wx(e,o,"child_removed",t,r,n),wx(e,o,"child_added",t,r,n),wx(e,o,"child_moved",i,r,n),wx(e,o,"child_changed",t,r,n),wx(e,o,"value",t,r,n),o}(e.eventGenerator_,t,n,o)}let hA,pA;function fA(e,t,n,r){const o=t.source.queryId;if(null!==o){const i=e.views.get(o);return ut(null!=i,"SyncTree gave us an op for an invalid query."),uA(i,t,n,r)}{let o=[];for(const i of e.views.values())o=o.concat(uA(i,t,n,r));return o}}function mA(e,t){let n=null;for(const r of e.views.values())n=n||cA(r,t);return n}class gA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Tx(null),this.pendingWriteTree_={visibleWrites:Ex.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vA(e,t,n,r,o){return function(e,t,n,r,o){ut(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=Ix(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?AA(e,new vx({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function yA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if($x(e.pendingWriteTree_,t)){let t=new Tx(null);return null!=r.snap?t=t.set(sw(),!0):Eb(r.children,(e=>{t=t.set(new iw(e),!0)})),AA(e,new gx(r.path,t,n))}return[]}function bA(e,t,n){return AA(e,new vx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function wA(e,t,n,r){const o=CA(e,r);if(null!=o){const r=kA(o),i=r.path,s=r.queryId,a=mw(i,t);return TA(e,i,new vx(mx(s),a,n))}return[]}function xA(e,t,n){const r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=mA(n,mw(e,t));if(r)return r}));return Wx(r,t,o,n,!0)}function AA(e,t){return _A(t,e.syncPointTree_,null,Ux(e.pendingWriteTree_,sw()))}function _A(e,t,n,r){if(fw(e.path))return SA(e,t,n,r);{const o=t.get(sw());null==n&&null!=o&&(n=mA(o,sw()));let i=[];const s=aw(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=Xx(r,s);i=i.concat(_A(a,l,e,t))}return o&&(i=i.concat(fA(o,e,r,n))),i}}function SA(e,t,n,r){const o=t.get(sw());null==n&&null!=o&&(n=mA(o,sw()));let i=[];return t.children.inorderTraversal(((t,o)=>{const s=n?n.getImmediateChild(t):null,a=Xx(r,t),l=e.operationForChild(t);l&&(i=i.concat(SA(l,o,s,a)))})),o&&(i=i.concat(fA(o,e,r,n))),i}function CA(e,t){return e.tagToQueryMap.get(t)}function kA(e){const t=e.indexOf("$");return ut(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new iw(e.substr(0,t))}}function TA(e,t,n){const r=e.syncPointTree_.get(t);ut(r,"Missing sync point for query tag that we're tracking");return fA(r,n,Ux(e.pendingWriteTree_,t),null)}class EA{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new EA(t)}node(){return this.node_}}class IA{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=pw(this.path_,e);return new IA(this.syncTree_,t)}node(){return xA(this.syncTree_,this.path_)}}const RA=function(e,t,n){return e&&"object"===typeof e?(ut(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?PA(e[".sv"],t,n):"object"===typeof e[".sv"]?jA(e[".sv"],t):void ut(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},PA=function(e,t,n){if("timestamp"===e)return n.timestamp;ut(!1,"Unexpected server value: "+e)},jA=function(e,t,n){e.hasOwnProperty("increment")||ut(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&ut(!1,"Unexpected increment value: "+r);const o=t.node();if(ut(null!==o&&"undefined"!==typeof o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const i=o.getValue();return"number"!==typeof i?r:i+r},DA=function(e,t,n,r){return MA(t,new IA(n,e),r)},NA=function(e,t,n){return MA(e,new EA(t),n)};function MA(e,t,n){const r=e.getPriority().val(),o=RA(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const r=e,i=RA(r.getValue(),t,n);return i!==r.getValue()||o!==r.getPriority().val()?new $w(i,Xw(o)):e}{const r=e;return i=r,o!==r.getPriority().val()&&(i=i.updatePriority(new $w(o))),r.forEachChild(zw,((e,r)=>{const o=MA(r,t.getImmediateChild(e),n);o!==r&&(i=i.updateImmediateChild(e,o))})),i}}class OA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function LA(e,t){let n=t instanceof iw?t:new iw(t),r=e,o=aw(n);for(;null!==o;){const e=zt(r.node.children,o)||{children:{},childCount:0};r=new OA(o,r,e),n=cw(n),o=aw(n)}return r}function FA(e){return e.node.value}function UA(e,t){e.node.value=t,WA(e)}function $A(e){return e.node.childCount>0}function zA(e,t){Eb(e.node.children,((n,r)=>{t(new OA(n,e,r))}))}function BA(e,t,n,r){n&&!r&&t(e),zA(e,(e=>{BA(e,t,!0,r)})),n&&r&&t(e)}function VA(e){return new iw(null===e.parent?e.name:VA(e.parent)+"/"+e.name)}function WA(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===FA(e)&&!$A(e)}(n),o=$t(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,WA(e)):r||o||(e.node.children[t]=n.node,e.node.childCount++,WA(e))}(e.parent,e.name,e)}const HA=/[\[\].#$\/\u0000-\u001F\u007F]/,qA=/[\[\].#$\u0000-\u001F\u007F]/,GA=10485760,KA=function(e){return"string"===typeof e&&0!==e.length&&!HA.test(e)},YA=function(e){return"string"===typeof e&&0!==e.length&&!qA.test(e)},QA=function(e,t,n){const r=n instanceof iw?new yw(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+ww(r));if("function"===typeof t)throw new Error(e+"contains a function "+ww(r)+" with contents = "+t.toString());if(wb(t))throw new Error(e+"contains "+t.toString()+" "+ww(r));if("string"===typeof t&&t.length>GA/3&&Zt(t)>GA)throw new Error(e+"contains a string greater than "+GA+" utf8 bytes "+ww(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,o=!1;if(Eb(t,((t,i)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!KA(t)))throw new Error(e+" contains an invalid key ("+t+") "+ww(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Zt(t),bw(e)}(r,t),QA(e,i,r),function(e){const t=e.parts_.pop();e.byteLength_-=Zt(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&o)throw new Error(e+' contains ".value" child '+ww(r)+" in addition to actual children.")}},XA=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!KA(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),YA(e)}(n))throw new Error(Jt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class JA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ZA(e,t){let n=null;for(let r=0;r<t.length;r++){const o=t[r],i=o.getPath();null===n||gw(i,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:i}),n.events.push(o)}n&&e.eventLists_.push(n)}function e_(e,t,n){ZA(e,n),t_(e,(e=>vw(e,t)||vw(t,e)))}function t_(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const o=e.eventLists_[r];if(o){t(o.path)?(n_(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function n_(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();hb&&mb("event: "+n.toString()),jb(r)}}}const r_="repo_interrupt";class o_{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new JA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cx(),this.transactionQueueTree_=new OA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function i_(e,t,n){if(e.stats_=Gb(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ax(e.repoInfo_,((t,n,r,o)=>{l_(e,t,n,r,o)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>c_(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ft(n)}catch(L_){throw new Error("Invalid authOverride provided: "+L_)}}e.persistentConnection_=new _w(e.repoInfo_,t,((t,n,r,o)=>{l_(e,t,n,r,o)}),(t=>{c_(e,t)}),(t=>{!function(e,t){Eb(t,((t,n)=>{u_(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return qb[n]||(qb[n]=t()),qb[n]}(e.repoInfo_,(()=>new px(e.stats_,e.server_))),e.infoData_=new lx,e.infoSyncTree_=new gA({startListening:(t,n,r,o)=>{let i=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(i=bA(e.infoSyncTree_,t._path,s),setTimeout((()=>{o("ok")}),0)),i},stopListening:()=>{}}),u_(e,"connected",!1),e.serverSyncTree_=new gA({startListening:(t,n,r,o)=>(e.server_.listen(t,r,n,((n,r)=>{const i=o(n,r);e_(e.eventQueue_,t._path,i)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function s_(e){const t=e.infoData_.getNode(new iw(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function a_(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:s_(e)})}function l_(e,t,n,r,o){e.dataUpdateCount++;const i=new iw(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(o)if(r){const t=Vt(n,(e=>Xw(e)));s=function(e,t,n,r){const o=CA(e,r);if(o){const r=kA(o),i=r.path,s=r.queryId,a=mw(i,t),l=Tx.fromObject(n);return TA(e,i,new yx(mx(s),a,l))}return[]}(e.serverSyncTree_,i,t,o)}else{const t=Xw(n);s=wA(e.serverSyncTree_,i,t,o)}else if(r){const t=Vt(n,(e=>Xw(e)));s=function(e,t,n){const r=Tx.fromObject(n);return AA(e,new yx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,i,t)}else{const t=Xw(n);s=bA(e.serverSyncTree_,i,t)}let a=i;s.length>0&&(a=g_(e,i)),e_(e.eventQueue_,a,s)}function c_(e,t){u_(e,"connected",t),!1===t&&function(e){p_(e,"onDisconnectEvents");const t=a_(e),n=cx();dx(e.onDisconnect_,sw(),((r,o)=>{const i=DA(r,o,e.serverSyncTree_,t);ux(n,r,i)}));let r=[];dx(n,sw(),((t,n)=>{r=r.concat(bA(e.serverSyncTree_,t,n));const o=x_(e,t);g_(e,o)})),e.onDisconnect_=cx(),e_(e.eventQueue_,sw(),r)}(e)}function u_(e,t,n){const r=new iw("/.info/"+t),o=Xw(n);e.infoData_.updateSnapshot(r,o);const i=bA(e.infoSyncTree_,r,o);e_(e.eventQueue_,r,i)}function d_(e){return e.nextWriteId_++}function h_(e){e.persistentConnection_&&e.persistentConnection_.interrupt(r_)}function p_(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];mb(t,...r)}function f_(e,t,n){return xA(e.serverSyncTree_,t,n)||Yw.EMPTY_NODE}function m_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||w_(e,t),FA(t)){const n=y_(e,t);ut(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),o=f_(e,t,r);let i=o;const s=o.hash();for(let c=0;c<n.length;c++){const e=n[c];ut(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=mw(t,e.path);i=i.updateChild(r,e.currentOutputSnapshotRaw)}const a=i.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{p_(e,"transaction put response",{path:l.toString(),status:r});let o=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,o=o.concat(yA(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();w_(e,LA(e.transactionQueueTree_,t)),m_(e,e.transactionQueueTree_),e_(e.eventQueue_,t,o);for(let e=0;e<r.length;e++)jb(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{bb("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}g_(e,t)}}),s)}(e,VA(t),n)}else $A(t)&&zA(t,(t=>{m_(e,t)}))}function g_(e,t){const n=v_(e,t),r=VA(n);return function(e,t,n){if(0===t.length)return;const r=[];let o=[];const i=t.filter((e=>0===e.status)),s=i.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const i=t[l],c=mw(n,i.path);let u,d=!1;if(ut(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===i.status)d=!0,u=i.abortReason,o=o.concat(yA(e.serverSyncTree_,i.currentWriteId,!0));else if(0===i.status)if(i.retryCount>=25)d=!0,u="maxretry",o=o.concat(yA(e.serverSyncTree_,i.currentWriteId,!0));else{const n=f_(e,i.path,s);i.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){QA("transaction failed: Data returned ",r,i.path);let t=Xw(r);"object"===typeof r&&null!=r&&$t(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=i.currentWriteId,l=a_(e),c=NA(t,n,l);i.currentOutputSnapshotRaw=t,i.currentOutputSnapshotResolved=c,i.currentWriteId=d_(e),s.splice(s.indexOf(a),1),o=o.concat(vA(e.serverSyncTree_,i.path,c,i.currentWriteId,i.applyLocally)),o=o.concat(yA(e.serverSyncTree_,a,!0))}else d=!0,u="nodata",o=o.concat(yA(e.serverSyncTree_,i.currentWriteId,!0))}e_(e.eventQueue_,n,o),o=[],d&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;w_(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)jb(r[l]);m_(e,e.transactionQueueTree_)}(e,y_(e,n),r),r}function v_(e,t){let n,r=e.transactionQueueTree_;for(n=aw(t);null!==n&&void 0===FA(r);)r=LA(r,n),n=aw(t=cw(t));return r}function y_(e,t){const n=[];return b_(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function b_(e,t,n){const r=FA(t);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);zA(t,(t=>{b_(e,t,n)}))}function w_(e,t){const n=FA(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,UA(t,n.length>0?n:void 0)}zA(t,(t=>{w_(e,t)}))}function x_(e,t){const n=VA(v_(e,t)),r=LA(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{A_(e,t)})),A_(e,r),BA(r,(t=>{A_(e,t)})),n}function A_(e,t){const n=FA(t);if(n){const r=[];let o=[],i=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(ut(i===t-1,"All SENT items should be at beginning of queue."),i=t,n[t].status=3,n[t].abortReason="set"):(ut(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),o=o.concat(yA(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===i?UA(t,void 0):n.length=i+1,e_(e.eventQueue_,VA(t),o);for(let e=0;e<r.length;e++)jb(r[e])}}const __=function(e,t){const n=S_(e),r=n.namespace;"firebase.com"===n.domain&&yb(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||yb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&bb("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Bb(n.host,n.secure,r,o,t,"",r!==n.subdomain),path:new iw(n.pathString)}},S_=function(e){let t="",n="",r="",o="",i="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(o=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(L_){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):bb(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),i=r}"ns"in h&&(i=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:o,namespace:i}},C_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class k_{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return fw(this._path)?null:uw(this._path)}get ref(){return new T_(this._repo,this._path)}get _queryIdentifier(){const e=sx(this._queryParams),t=kb(e);return"{}"===t?"default":t}get _queryObject(){return sx(this._queryParams)}isEqual(e){if(!((e=en(e))instanceof k_))return!1;const t=this._repo===e._repo,n=gw(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class T_ extends k_{constructor(e,t){super(e,t,new ox,!1)}get parent(){const e=hw(this._path);return null===e?null:new T_(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}!function(e){ut(!hA,"__referenceConstructor has already been defined"),hA=e}(T_),function(e){ut(!pA,"__referenceConstructor has already been defined"),pA=e}(T_);const E_={};let I_=!1;function R_(e,t,n,r,o){let i=r||e.options.databaseURL;void 0===i&&(e.options.projectId||yb("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mb("Using default host for project ",e.options.projectId),i=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,l=__(i,o),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALGOLIA_API_KEY:"b94f7163a6855940c1a0d94e635a307c",REACT_APP_ALGOLIA_APP_ID:"7PVTC2J64R",REACT_APP_ALGOLIA_INDEX_NAME:"searches",REACT_APP_API_URL:"https://sideeye-backend-production.up.railway.app",REACT_APP_FIREBASE_API_KEY:"AIzaSyBI9pvyseKR-5dw3eXuZgTLnG3OcvNGbeI",REACT_APP_FIREBASE_APP_ID:"1:864667627333:web:1ec087179141d1e91a982c",REACT_APP_FIREBASE_AUTH_DOMAIN:"sideeye.uk",REACT_APP_FIREBASE_DATABASE_URL:"https://sideeye-bafda-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"864667627333",REACT_APP_FIREBASE_PROJECT_ID:"sideeye-bafda",REACT_APP_FIREBASE_STORAGE_BUCKET:"sideeye-bafda.firebasestorage.app",REACT_APP_SHOTSTACK_API_KEY:"c0Bpc85oj7cHuDdfhz54eQJmmoEI1qauJyodpw9d",REACT_APP_SOCKET_SERVER_URL:"wss://sideeye-backend-production.up.railway.app"}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,i=`http://${a}?ns=${c.namespace}`,l=__(i,o),c=l.repoInfo):s=!l.repoInfo.secure;const u=o&&s?new Ob(Ob.OWNER):new Mb(e.name,e.options,t);XA("Invalid Firebase Database URL",l),fw(l.path)||yb("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let o=E_[t.name];o||(o={},E_[t.name]=o);let i=o[e.toURLString()];i&&yb("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new o_(e,I_,n,r),o[e.toURLString()]=i,i}(c,e,u,new Nb(e,n));return new P_(d,e)}class P_{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(i_(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new T_(this._repo,sw())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=E_[t];n&&n[e.key]===e||yb(`Database ${t}(${e.repoInfo_}) has already been deleted.`),h_(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&yb("Cannot call "+e+" on a deleted database.")}}_w.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},_w.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){nb(vr),hr(new tn("database",((e,t)=>{let{instanceIdentifier:n}=t;return R_(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),wr(Zy,eb,e),wr(Zy,eb,"esm2017")}();const j_=0===Array.from(lr.values()).length?yr({apiKey:"AIzaSyBI9pvyseKR-5dw3eXuZgTLnG3OcvNGbeI",authDomain:"sideeye.uk",projectId:"sideeye-bafda",storageBucket:"sideeye-bafda.firebasestorage.app",messagingSenderId:"864667627333",appId:"1:864667627333:web:1ec087179141d1e91a982c",databaseURL:"https://sideeye-bafda-default-rtdb.europe-west1.firebasedatabase.app"},{automaticDataCollectionEnabled:!1}):br();console.log("Initializing Firebase app");const D_=function(e,t,n){n||(n=kc);const r=pr(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n});if(Wt(r.getOptions(n),t))return e;throw new $a(Ua.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new $a(Ua.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<Kh)throw new $a(Ua.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}(j_,{cacheSizeBytes:-1,experimentalForceLongPolling:!0}),N_=ca(j_),M_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br(),t=arguments.length>1?arguments[1]:void 0;e=en(e);const n=pr(e,Ky).getImmediate({identifier:t}),r=_t("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:Tt(o,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(j_),O_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br(),t=arguments.length>1?arguments[1]:void 0;const n=pr(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=_t("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=en(e),e._checkNotDeleted("useEmulator");const o=`${t}:${n}`,i=e._repoInternal;if(e._instanceStarted){if(o===e._repoInternal.repoInfo_.host&&Wt(r,i.repoInfo_.emulatorOptions))return;yb("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&yb('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ob(Ob.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Tt(r.mockUserToken,e.app.options.projectId);s=new Ob(t)}!function(e,t,n,r){e.repoInfo_=new Bb(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(i,o,r,s)}(n,...e)}return n}(j_);zi(N_,(e=>{console.log("Firebase auth state changed:",e?"User logged in":"No user")}));(()=>{{console.log("Checking Firebase configuration in production..."),console.log("Firebase App:",j_.name),console.log("Firebase Auth:",N_.app.name),console.log("Firestore:",D_.app.name),console.log("Realtime Database:",O_.app.name);const e=j_.options.projectId;console.log("Firebase Project ID:",e);const t=j_.options.apiKey;console.log("Firebase API Key:",t?"Present":"Missing");const n=j_.options.authDomain;console.log("Firebase Auth Domain:",n),e&&t&&n||(console.error("Firebase configuration is incomplete!"),console.error("Project ID:",e),console.error("API Key:",t?"Present":"Missing"),console.error("Auth Domain:",n))}})();let L_={data:""},F_=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||L_,U_=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,$_=/\/\*[^]*?\*\/|  +/g,z_=/\n+/g,B_=(e,t)=>{let n="",r="",o="";for(let i in e){let s=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+s+";":r+="f"==i[1]?B_(s,i):i+"{"+B_(s,"k"==i[1]?"":t)+"}":"object"==typeof s?r+=B_(s,t?t.replace(/([^,])+/g,(e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):i):null!=s&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=B_.p?B_.p(i,s):i+":"+s+";")}return n+(t&&o?t+"{"+o+"}":o)+r},V_={},W_=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+W_(e[n]);return t}return e},H_=(e,t,n,r,o)=>{let i=W_(e),s=V_[i]||(V_[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!V_[s]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=U_.exec(e.replace($_,""));)t[4]?r.shift():t[3]?(n=t[3].replace(z_," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(z_," ").trim();return r[0]})(e);V_[s]=B_(o?{["@keyframes "+s]:t}:t,n?"":"."+s)}let a=n&&V_.g?V_.g:null;return n&&(V_.g=V_[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(V_[s],t,r,a),s};function q_(e){let t=this||{},n=e.call?e(t.p):e;return H_(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,o)=>{let i=t[o];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":B_(e,""):!1===e?"":e}return e+r+(null==i?"":i)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,F_(t.target),t.g,t.o,t.k)}q_.bind({g:1});let G_,K_,Y_,Q_=q_.bind({k:1});function X_(e,t){let n=this||{};return function(){let r=arguments;function o(i,s){let a=Object.assign({},i),l=a.className||o.className;n.p=Object.assign({theme:K_&&K_()},a),n.o=/ *go\d+/.test(l),a.className=q_.apply(n,r)+(l?" "+l:""),t&&(a.ref=s);let c=e;return e[0]&&(c=a.as||e,delete a.as),Y_&&c[0]&&Y_(a),G_(c,a)}return t?t(o):o}}var J_=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Z_=(()=>{let e=0;return()=>(++e).toString()})(),eS=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),tS=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return tS(e,{type:e.toasts.find((e=>e.id===n.id))?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+o})))}}},nS=[],rS={toasts:[],pausedAt:void 0},oS=e=>{rS=tS(rS,e),nS.forEach((e=>{e(rS)}))},iS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},sS=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||Z_()}}(t,e,n);return oS({type:2,toast:r}),r.id},aS=(e,t)=>sS("blank")(e,t);aS.error=sS("error"),aS.success=sS("success"),aS.loading=sS("loading"),aS.custom=sS("custom"),aS.dismiss=e=>{oS({type:3,toastId:e})},aS.remove=e=>oS({type:4,toastId:e}),aS.promise=(e,t,n)=>{let r=aS.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let o=t.success?J_(t.success,e):void 0;return o?aS.success(o,{id:r,...n,...null==n?void 0:n.success}):aS.dismiss(r),e})).catch((e=>{let o=t.error?J_(t.error,e):void 0;o?aS.error(o,{id:r,...n,...null==n?void 0:n.error}):aS.dismiss(r)})),e};var lS=(e,t)=>{oS({type:1,toast:{id:e,height:t}})},cS=()=>{oS({type:5,time:Date.now()})},uS=new Map,dS=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,r.useState)(rS),o=(0,r.useRef)(rS);(0,r.useEffect)((()=>(o.current!==rS&&n(rS),nS.push(n),()=>{let e=nS.indexOf(n);e>-1&&nS.splice(e,1)})),[]);let i=t.toasts.map((t=>{var n,r,o;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||iS[t.type],style:{...e.style,...null==(o=e[t.type])?void 0:o.style,...t.style}}}));return{...t,toasts:i}}(e);(0,r.useEffect)((()=>{if(n)return;let e=Date.now(),r=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>aS.dismiss(t.id)),n);t.visible&&aS.dismiss(t.id)}));return()=>{r.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let o=(0,r.useCallback)((()=>{n&&oS({type:6,time:Date.now()})}),[n]),i=(0,r.useCallback)(((e,n)=>{let{reverseOrder:r=!1,gutter:o=8,defaultPosition:i}=n||{},s=t.filter((t=>(t.position||i)===(e.position||i)&&t.height)),a=s.findIndex((t=>t.id===e.id)),l=s.filter(((e,t)=>t<a&&e.visible)).length;return s.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+o),0)}),[t]);return(0,r.useEffect)((()=>{t.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(uS.has(e))return;let n=setTimeout((()=>{uS.delete(e),oS({type:4,toastId:e})}),t);uS.set(e,n)}(e.id,e.removeDelay);else{let t=uS.get(e.id);t&&(clearTimeout(t),uS.delete(e.id))}}))}),[t]),{toasts:t,handlers:{updateHeight:lS,startPause:cS,endPause:o,calculateOffset:i}}},hS=Q_`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pS=Q_`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fS=Q_`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,mS=X_("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${fS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,gS=Q_`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,vS=X_("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${gS} 1s linear infinite;
`,yS=Q_`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bS=Q_`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,wS=X_("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,xS=X_("div")`
  position: absolute;
`,AS=X_("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_S=Q_`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,SS=X_("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_S} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,CS=e=>{let{toast:t}=e,{icon:n,type:o,iconTheme:i}=t;return void 0!==n?"string"==typeof n?r.createElement(SS,null,n):n:"blank"===o?null:r.createElement(AS,null,r.createElement(vS,{...i}),"loading"!==o&&r.createElement(xS,null,"error"===o?r.createElement(mS,{...i}):r.createElement(wS,{...i})))},kS=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,TS=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,ES=X_("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,IS=X_("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,RS=r.memo((e=>{let{toast:t,position:n,style:o,children:i}=e,s=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,o]=eS()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[kS(n),TS(n)];return{animation:t?`${Q_(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Q_(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||n||"top-center",t.visible):{opacity:0},a=r.createElement(CS,{toast:t}),l=r.createElement(IS,{...t.ariaProps},J_(t.message,t));return r.createElement(ES,{className:t.className,style:{...s,...o,...t.style}},"function"==typeof i?i({icon:a,message:l}):r.createElement(r.Fragment,null,a,l))}));!function(e,t,n,r){B_.p=t,G_=e,K_=n,Y_=r}(r.createElement);var PS=e=>{let{id:t,className:n,style:o,onHeightUpdate:i,children:s}=e,a=r.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;i(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,i]);return r.createElement("div",{ref:a,className:n,style:o},s)},jS=q_`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,DS=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:o,gutter:i,children:s,containerStyle:a,containerClassName:l}=e,{toasts:c,handlers:u}=dS(o);return r.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((e=>{let o=e.position||n,a=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:eS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...o}})(o,u.calculateOffset(e,{reverseOrder:t,gutter:i,defaultPosition:n}));return r.createElement(PS,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?jS:"",style:a},"custom"===e.type?J_(e.message,e):s?s(e):r.createElement(RS,{toast:e,position:o}))})))},NS=n(9825),MS=null;function OS(e,t){if("number"!==typeof(e=e||KS))throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var n=[];return n.push("$2b$"),e<10&&n.push("0"),n.push(e.toString()),n.push("$"),n.push(HS(function(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return NS.randomBytes(e)}catch{}if(!MS)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return MS(e)}(GS),GS)),n.join("")}function LS(e,t,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof e&&(n=e,e=void 0),"undefined"===typeof e)e=KS;else if("number"!==typeof e)throw Error("illegal arguments: "+typeof e);function r(t){zS((function(){try{t(null,OS(e))}catch(n){t(n)}}))}if(!n)return new Promise((function(e,t){r((function(n,r){n?t(n):e(r)}))}));if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);r(n)}function FS(e,t){if("undefined"===typeof t&&(t=KS),"number"===typeof t&&(t=OS(t)),"string"!==typeof e||"string"!==typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return oC(e,t)}function US(e,t,n,r){function o(n){"string"===typeof e&&"number"===typeof t?LS(t,(function(t,o){oC(e,o,n,r)})):"string"===typeof e&&"string"===typeof t?oC(e,t,n,r):zS(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!n)return new Promise((function(e,t){o((function(n,r){n?t(n):e(r)}))}));if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);o(n)}function $S(e,t){for(var n=e.length^t.length,r=0;r<e.length;++r)n|=e.charCodeAt(r)^t.charCodeAt(r);return 0===n}var zS="undefined"!==typeof process&&process&&"function"===typeof process.nextTick?"function"===typeof setImmediate?setImmediate:process.nextTick:setTimeout;function BS(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t}var VS="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),WS=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function HS(e,t){var n,r,o=0,i=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;o<t;){if(n=255&e[o++],i.push(VS[n>>2&63]),n=(3&n)<<4,o>=t){i.push(VS[63&n]);break}if(n|=(r=255&e[o++])>>4&15,i.push(VS[63&n]),n=(15&r)<<2,o>=t){i.push(VS[63&n]);break}n|=(r=255&e[o++])>>6&3,i.push(VS[63&n]),i.push(VS[63&r])}return i.join("")}function qS(e,t){var n,r,o,i,s,a=0,l=e.length,c=0,u=[];if(t<=0)throw Error("Illegal len: "+t);for(;a<l-1&&c<t&&(n=(s=e.charCodeAt(a++))<WS.length?WS[s]:-1,r=(s=e.charCodeAt(a++))<WS.length?WS[s]:-1,-1!=n&&-1!=r)&&(i=n<<2>>>0,i|=(48&r)>>4,u.push(String.fromCharCode(i)),!(++c>=t||a>=l))&&-1!=(o=(s=e.charCodeAt(a++))<WS.length?WS[s]:-1)&&(i=(15&r)<<4>>>0,i|=(60&o)>>2,u.push(String.fromCharCode(i)),!(++c>=t||a>=l));)i=(3&o)<<6>>>0,i|=(s=e.charCodeAt(a++))<WS.length?WS[s]:-1,u.push(String.fromCharCode(i)),++c;var d=[];for(a=0;a<c;a++)d.push(u[a].charCodeAt(0));return d}var GS=16,KS=10,YS=16,QS=100,XS=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],JS=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],ZS=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function eC(e,t,n,r){var o,i=e[t],s=e[t+1];return o=r[(i^=n[0])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[1])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[2])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[3])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[4])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[5])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[6])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[7])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[8])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[9])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[10])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[11])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[12])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[13])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],o=r[(i^=(o+=r[768|255&s])^n[14])>>>24],o+=r[256|i>>16&255],o^=r[512|i>>8&255],o=r[(s^=(o+=r[768|255&i])^n[15])>>>24],o+=r[256|s>>16&255],o^=r[512|s>>8&255],i^=(o+=r[768|255&s])^n[16],e[t]=s^n[YS+1],e[t+1]=i,e}function tC(e,t){for(var n=0,r=0;n<4;++n)r=r<<8|255&e[t],t=(t+1)%e.length;return{key:r,offp:t}}function nC(e,t,n){for(var r,o=0,i=[0,0],s=t.length,a=n.length,l=0;l<s;l++)o=(r=tC(e,o)).offp,t[l]=t[l]^r.key;for(l=0;l<s;l+=2)i=eC(i,0,t,n),t[l]=i[0],t[l+1]=i[1];for(l=0;l<a;l+=2)i=eC(i,0,t,n),n[l]=i[0],n[l+1]=i[1]}function rC(e,t,n,r,o){var i,s=ZS.slice(),a=s.length;if(n<4||n>31){if(i=Error("Illegal number of rounds (4-31): "+n),r)return void zS(r.bind(this,i));throw i}if(t.length!==GS){if(i=Error("Illegal salt length: "+t.length+" != "+GS),r)return void zS(r.bind(this,i));throw i}n=1<<n>>>0;var l,c,u,d=0;function h(){if(o&&o(d/n),!(d<n)){for(d=0;d<64;d++)for(u=0;u<a>>1;u++)eC(s,u<<1,l,c);var i=[];for(d=0;d<a;d++)i.push((s[d]>>24&255)>>>0),i.push((s[d]>>16&255)>>>0),i.push((s[d]>>8&255)>>>0),i.push((255&s[d])>>>0);return r?void r(null,i):i}for(var p=Date.now();d<n&&(d+=1,nC(e,l,c),nC(t,l,c),!(Date.now()-p>QS)););r&&zS(h)}if("function"===typeof Int32Array?(l=new Int32Array(XS),c=new Int32Array(JS)):(l=XS.slice(),c=JS.slice()),function(e,t,n,r){for(var o,i=0,s=[0,0],a=n.length,l=r.length,c=0;c<a;c++)i=(o=tC(t,i)).offp,n[c]=n[c]^o.key;for(i=0,c=0;c<a;c+=2)i=(o=tC(e,i)).offp,s[0]^=o.key,i=(o=tC(e,i)).offp,s[1]^=o.key,s=eC(s,0,n,r),n[c]=s[0],n[c+1]=s[1];for(c=0;c<l;c+=2)i=(o=tC(e,i)).offp,s[0]^=o.key,i=(o=tC(e,i)).offp,s[1]^=o.key,s=eC(s,0,n,r),r[c]=s[0],r[c+1]=s[1]}(t,e,l,c),"undefined"!==typeof r)h();else for(var p;;)if("undefined"!==typeof(p=h()))return p||[]}function oC(e,t,n,r){var o,i,s;if("string"!==typeof e||"string"!==typeof t){if(o=Error("Invalid string / salt: Not a string"),n)return void zS(n.bind(this,o));throw o}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(o=Error("Invalid salt version: "+t.substring(0,2)),n)return void zS(n.bind(this,o));throw o}if("$"===t.charAt(2))i=String.fromCharCode(0),s=3;else{if("a"!==(i=t.charAt(2))&&"b"!==i&&"y"!==i||"$"!==t.charAt(3)){if(o=Error("Invalid salt revision: "+t.substring(2,4)),n)return void zS(n.bind(this,o));throw o}s=4}if(t.charAt(s+2)>"$"){if(o=Error("Missing salt rounds"),n)return void zS(n.bind(this,o));throw o}var a=10*parseInt(t.substring(s,s+1),10)+parseInt(t.substring(s+1,s+2),10),l=t.substring(s+3,s+25),c=function(e){for(var t,n,r=0,o=new Array(BS(e)),i=0,s=e.length;i<s;++i)(t=e.charCodeAt(i))<128?o[r++]=t:t<2048?(o[r++]=t>>6|192,o[r++]=63&t|128):55296===(64512&t)&&56320===(64512&(n=e.charCodeAt(i+1)))?(t=65536+((1023&t)<<10)+(1023&n),++i,o[r++]=t>>18|240,o[r++]=t>>12&63|128,o[r++]=t>>6&63|128,o[r++]=63&t|128):(o[r++]=t>>12|224,o[r++]=t>>6&63|128,o[r++]=63&t|128);return o}(e+=i>="a"?"\0":""),u=qS(l,GS);function d(e){var t=[];return t.push("$2"),i>="a"&&t.push(i),t.push("$"),a<10&&t.push("0"),t.push(a.toString()),t.push("$"),t.push(HS(u,u.length)),t.push(HS(e,4*ZS.length-1)),t.join("")}if("undefined"==typeof n)return d(rC(c,u,a));rC(c,u,a,(function(e,t){e?n(e,null):n(null,d(t))}),r)}const iC={setRandomFallback:function(e){MS=e},genSaltSync:OS,genSalt:LS,hashSync:FS,hash:US,compareSync:function(e,t){if("string"!==typeof e||"string"!==typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return 60===t.length&&$S(FS(e,t.substring(0,t.length-31)),t)},compare:function(e,t,n,r){function o(n){"string"===typeof e&&"string"===typeof t?60===t.length?US(e,t.substring(0,29),(function(e,r){e?n(e):n(null,$S(r,t))}),r):zS(n.bind(this,null,!1)):zS(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!n)return new Promise((function(e,t){o((function(n,r){n?t(n):e(r)}))}));if("function"!==typeof n)throw Error("Illegal callback: "+typeof n);o(n)},getRounds:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)},getSalt:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);if(60!==e.length)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)},truncates:function(e){if("string"!==typeof e)throw Error("Illegal arguments: "+typeof e);return BS(e)>72},encodeBase64:function(e,t){return HS(e,t)},decodeBase64:function(e,t){return qS(e,t)}},sC=Object.create(null);sC.open="0",sC.close="1",sC.ping="2",sC.pong="3",sC.message="4",sC.upgrade="5",sC.noop="6";const aC=Object.create(null);Object.keys(sC).forEach((e=>{aC[sC[e]]=e}));const lC={type:"error",data:"parser error"},cC="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),uC="function"===typeof ArrayBuffer,dC=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,hC=(e,t,n)=>{let{type:r,data:o}=e;return cC&&o instanceof Blob?t?n(o):pC(o,n):uC&&(o instanceof ArrayBuffer||dC(o))?t?n(o):pC(new Blob([o]),n):n(sC[r]+(o||""))},pC=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function fC(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let mC;const gC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vC="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)vC[gC.charCodeAt(n)]=n;const yC="function"===typeof ArrayBuffer,bC=(e,t)=>{if("string"!==typeof e)return{type:"message",data:xC(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:wC(e.substring(1),t)};return aC[n]?e.length>1?{type:aC[n],data:e.substring(1)}:{type:aC[n]}:lC},wC=(e,t)=>{if(yC){const n=(e=>{let t,n,r,o,i,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const c=new ArrayBuffer(s),u=new Uint8Array(c);for(t=0;t<a;t+=4)n=vC[e.charCodeAt(t)],r=vC[e.charCodeAt(t+1)],o=vC[e.charCodeAt(t+2)],i=vC[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|o>>2,u[l++]=(3&o)<<6|63&i;return c})(e);return xC(n,t)}return{base64:!0,data:e}},xC=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,AC=String.fromCharCode(30);function _C(){return new TransformStream({transform(e,t){!function(e,t){cC&&e.data instanceof Blob?e.data.arrayBuffer().then(fC).then(t):uC&&(e.data instanceof ArrayBuffer||dC(e.data))?t(fC(e.data)):hC(e,!1,(e=>{mC||(mC=new TextEncoder),t(mC.encode(e))}))}(e,(n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const e=new DataView(o.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{o=new Uint8Array(9);const e=new DataView(o.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(o[0]|=128),t.enqueue(o),t.enqueue(n)}))}})}let SC;function CC(e){return e.reduce(((e,t)=>e+t.length),0)}function kC(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function TC(e){if(e)return function(e){for(var t in TC.prototype)e[t]=TC.prototype[t];return e}(e)}TC.prototype.on=TC.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},TC.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},TC.prototype.off=TC.prototype.removeListener=TC.prototype.removeAllListeners=TC.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},TC.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},TC.prototype.emitReserved=TC.prototype.emit,TC.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},TC.prototype.hasListeners=function(e){return!!this.listeners(e).length};const EC="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),IC="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function RC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const PC=IC.setTimeout,jC=IC.clearTimeout;function DC(e,t){t.useNativeTimers?(e.setTimeoutFn=PC.bind(IC),e.clearTimeoutFn=jC.bind(IC)):(e.setTimeoutFn=IC.setTimeout.bind(IC),e.clearTimeoutFn=IC.clearTimeout.bind(IC))}function NC(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class MC extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class OC extends TC{constructor(e){super(),this.writable=!1,DC(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new MC(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=bC(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class LC extends OC{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(AC),r=[];for(let o=0;o<n.length;o++){const e=bC(n[o],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach(((e,i)=>{hC(e,!1,(e=>{r[i]=e,++o===n&&t(r.join(AC))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=NC()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let FC=!1;try{FC="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(gJ){}const UC=FC;function $C(){}class zC extends LC{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class BC extends TC{constructor(e,t,n){super(),this.createRequest=e,DC(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=RC(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(L_){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(L_){}try{n.setRequestHeader("Accept","*/*")}catch(L_){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(L_){return void this.setTimeoutFn((()=>{this._onError(L_)}),0)}"undefined"!==typeof document&&(this._index=BC.requestsCount++,BC.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=$C,e)try{this._xhr.abort()}catch(L_){}"undefined"!==typeof document&&delete BC.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(BC.requestsCount=0,BC.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",VC);else if("function"===typeof addEventListener){addEventListener("onpagehide"in IC?"pagehide":"unload",VC,!1)}function VC(){for(let e in BC.requests)BC.requests.hasOwnProperty(e)&&BC.requests[e].abort()}const WC=function(){const e=HC({xdomain:!1});return e&&null!==e.responseType}();function HC(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||UC))return new XMLHttpRequest}catch(L_){}if(!t)try{return new(IC[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(L_){}}const qC="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class GC extends OC{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=qC?{}:RC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(gJ){return this.emitReserved("error",gJ)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;hC(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(L_){}r&&EC((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=NC()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const KC=IC.WebSocket||IC.MozWebSocket;const YC={websocket:class extends GC{createSocket(e,t,n){return qC?new KC(e,t,n):t?new KC(e,t):new KC(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends OC{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(gJ){return this.emitReserved("error",gJ)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){SC||(SC=new TextDecoder);const n=[];let r=0,o=-1,i=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(0===r){if(CC(n)<1)break;const e=kC(n,1);i=128===(128&e[0]),o=127&e[0],r=o<126?3:126===o?1:2}else if(1===r){if(CC(n)<2)break;const e=kC(n,2);o=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(CC(n)<8)break;const e=kC(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){a.enqueue(lC);break}o=i*Math.pow(2,32)+t.getUint32(4),r=3}else{if(CC(n)<o)break;const e=kC(n,o);a.enqueue(bC(i?e:SC.decode(e),t)),r=0}if(0===o||o>e){a.enqueue(lC);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=_C();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const o=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),o())})).catch((e=>{}))};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then((()=>{r&&EC((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends zC{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=WC&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new BC(HC,this.uri(),e)}}},QC=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,XC=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function JC(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=QC.exec(e||""),i={},s=14;for(;s--;)i[XC[s]]=o[s]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,i.query),i}const ZC="function"===typeof addEventListener&&"function"===typeof removeEventListener,ek=[];ZC&&addEventListener("offline",(()=>{ek.forEach((e=>e()))}),!1);class tk extends TC{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=JC(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=JC(t.host).host);DC(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,o=n.length;r<o;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),ZC&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ek.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&tk.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",tk.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,EC((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(tk.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ZC&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=ek.indexOf(this._offlineEventListener);-1!==e&&ek.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}tk.protocol=4;class nk extends tk{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;tk.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;tk.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function o(){n||(n=!0,c(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,o(),this.emitReserved("upgradeError",n)};function s(){i("transport closed")}function a(){i("socket closed")}function l(e){t&&e.name!==t.name&&o()}const c=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",s),this.off("close",a),this.off("upgrading",l)};t.once("open",r),t.once("error",i),t.once("close",s),this.once("close",a),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class rk extends nk{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>YC[e])).filter((e=>!!e))),super(e,t)}}const ok="function"===typeof ArrayBuffer,ik=Object.prototype.toString,sk="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===ik.call(Blob),ak="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===ik.call(File);function lk(e){return ok&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||sk&&e instanceof Blob||ak&&e instanceof File}function ck(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(ck(e[t]))return!0;return!1}if(lk(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return ck(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ck(e[n]))return!0;return!1}function uk(e){const t=[],n=e.data,r=e;return r.data=dk(n,t),r.attachments=t.length,{packet:r,buffers:t}}function dk(e,t){if(!e)return e;if(lk(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=dk(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=dk(e[r],t));return n}return e}function hk(e,t){return e.data=pk(e.data,t),delete e.attachments,e}function pk(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=pk(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=pk(e[n],t));return e}const fk=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],mk=5;var gk;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(gk||(gk={}));class vk{constructor(e){this.replacer=e}encode(e){return e.type!==gk.EVENT&&e.type!==gk.ACK||!ck(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===gk.EVENT?gk.BINARY_EVENT:gk.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==gk.BINARY_EVENT&&e.type!==gk.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=uk(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function yk(e){return"[object Object]"===Object.prototype.toString.call(e)}class bk extends TC{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===gk.BINARY_EVENT;n||t.type===gk.BINARY_ACK?(t.type=n?gk.EVENT:gk.ACK,this.reconstructor=new wk(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!lk(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===gk[n.type])throw new Error("unknown packet type "+n.type);if(n.type===gk.BINARY_EVENT||n.type===gk.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!bk.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(L_){return!1}}static isPayloadValid(e,t){switch(e){case gk.CONNECT:return yk(t);case gk.DISCONNECT:return void 0===t;case gk.CONNECT_ERROR:return"string"===typeof t||yk(t);case gk.EVENT:case gk.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===fk.indexOf(t[0]));case gk.ACK:case gk.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class wk{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=hk(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function xk(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Ak=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _k extends TC{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[xk(e,"open",this.onopen.bind(this)),xk(e,"packet",this.onpacket.bind(this)),xk(e,"error",this.onerror.bind(this)),xk(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(Ak.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const a={type:gk.EVENT,data:i,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof i[i.length-1]){const e=this.ids++,t=i.pop();this._registerAckCallback(e,t),a.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const o=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===o)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),o),s=function(){r.io.clearTimeoutFn(i);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.apply(r,n)};s.withError=!0,this.acks[e]=s}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const o=(e,n)=>e?r(e):t(n);o.withError=!0,n.push(o),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];n(null,...i)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:gk.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case gk.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case gk.EVENT:case gk.BINARY_EVENT:this.onevent(e);break;case gk.ACK:case gk.BINARY_ACK:this.onack(e);break;case gk.DISCONNECT:this.ondisconnect();break;case gk.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.packet({type:gk.ACK,id:e,data:o})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:gk.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Sk(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Sk.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Sk.prototype.reset=function(){this.attempts=0},Sk.prototype.setMin=function(e){this.ms=e},Sk.prototype.setMax=function(e){this.max=e},Sk.prototype.setJitter=function(e){this.jitter=e};class Ck extends TC{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,DC(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Sk({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||e;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new rk(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=xk(t,"open",(function(){n.onopen(),e&&e()})),o=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=xk(t,"error",o);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),o(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(xk(e,"ping",this.onping.bind(this)),xk(e,"data",this.ondata.bind(this)),xk(e,"error",this.onerror.bind(this)),xk(e,"close",this.onclose.bind(this)),xk(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(L_){this.onclose("parse error",L_)}}ondecoded(e){EC((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new _k(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const kk={};function Tk(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=JC(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,o=n.id,i=n.path,s=kk[o]&&i in kk[o].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?a=new Ck(r,t):(kk[o]||(kk[o]=new Ck(r,t)),a=kk[o]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Tk,{Manager:Ck,Socket:_k,io:Tk,connect:Tk});const Ek=new class{constructor(){this.devices=[],this.currentInputDevice=null,this.currentOutputDevice=null,this.onDeviceChangeCallbacks=new Set,this.isInitializing=!0,this.initDeviceListener()}async initDeviceListener(){navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceChange.bind(this)),await this.updateDeviceList()}async handleDeviceChange(){await this.updateDeviceList(),this.onDeviceChangeCallbacks.forEach((e=>e()))}async updateDeviceList(){try{const e=await navigator.mediaDevices.enumerateDevices();if(this.devices=e.filter((e=>"audioinput"===e.kind||"audiooutput"===e.kind)).map((e=>({deviceId:e.deviceId,label:e.label||`${"audioinput"===e.kind?"Microphone":"Speaker"} ${e.deviceId.slice(0,5)}`,kind:e.kind}))),!this.currentInputDevice){const e=this.devices.find((e=>"audioinput"===e.kind));e&&(this.currentInputDevice=e.deviceId)}if(!this.currentOutputDevice){const e=this.devices.find((e=>"audiooutput"===e.kind));e&&(this.currentOutputDevice=e.deviceId)}}catch(vb){console.error("Failed to update device list:",vb),aS.error("Failed to get audio devices list")}finally{this.isInitializing=!1}}async getAudioStream(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isInitializing&&(console.warn("Device manager still initializing, delaying getAudioStream"),await new Promise((e=>setTimeout(e,100))));try{const t={audio:{...e,deviceId:this.currentInputDevice?{exact:this.currentInputDevice}:void 0,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:48e3,channelCount:1}};return await navigator.mediaDevices.getUserMedia(t)}catch(vb){return console.error("Failed to get audio stream:",vb),vb instanceof Error&&("NotAllowedError"===vb.name?aS.error("Microphone access was denied"):"NotFoundError"===vb.name?aS.error("No microphone found"):aS.error(`Failed to access microphone: ${vb.message}`)),null}}async setAudioOutput(e,t){if(this.isInitializing&&(console.warn("Device manager still initializing, delaying setAudioOutput"),await new Promise((e=>setTimeout(e,100)))),"setSinkId"in e)try{const n=t||this.currentOutputDevice;n&&(await e.setSinkId(n),this.currentOutputDevice=n)}catch(vb){console.error("Failed to set audio output device:",vb),aS.error("Error changing speaker. Please try again.")}}async setInputDevice(e){this.isInitializing&&(console.warn("Device manager still initializing, delaying setInputDevice"),await new Promise((e=>setTimeout(e,100))));const t=this.devices.find((t=>t.deviceId===e&&"audioinput"===t.kind));if(!t)return!1;try{const t=await this.getAudioStream({deviceId:{exact:e}});if(t)return t.getTracks().forEach((e=>e.stop())),this.currentInputDevice=e,!0}catch(vb){console.error("Failed to set input device:",vb),aS.error("Error changing microphone. Please try again.")}return!1}async setOutputDevice(e){const t=this.devices.find((t=>t.deviceId===e&&"audiooutput"===t.kind));return!!t&&(this.currentOutputDevice=e,!0)}getInputDevices(){return this.devices.filter((e=>"audioinput"===e.kind))}getOutputDevices(){return this.devices.filter((e=>"audiooutput"===e.kind))}getCurrentInputDevice(){return this.currentInputDevice}getCurrentOutputDevice(){return this.currentOutputDevice}onDeviceChange(e){return this.onDeviceChangeCallbacks.add(e),()=>this.onDeviceChangeCallbacks.delete(e)}async refreshDevices(){await this.updateDeviceList()}};const Ik=new class{constructor(){this.socket=null,this.stream=null,this.audioContext=null,this.mediaRecorder=null,this.isRecording=!1,this.audioQueue=new Map,this.isPlaying=!1,this.gainNode=null,this.audioSources=new Map,this.analyser=null,this.audioLevelCallbacks=new Set,this.speakingDetectionInterval=null,this.currentRoomId="",this.audioElement=null,this.deviceChangeCallbacks=new Set,this.isMuted=!0,this.microphoneNode=null,this.audioWorklet=null,this.audioChunks=[],this.lastChunkTime=0,this.speakingStates=new Map,this.silenceTimeouts=new Map,this.audioProcessingInterval=null,this.BUFFER_TARGET_DURATION_MS=150,this.queueProcessingTimeouts=new Map,this.QUEUE_MAX_WAIT_MS=500,this.currentUserId=null,this.navigate=null,this.userLeftCallback=null,this.videoSharedCallback=null,this.videoShareFailedCallback=null,this.inviteSuccessCallback=null,this.inviteFailedCallback=null,this.guestJoinedCallback=null,this.userSearchResultsCallback=null,this.handlePageHide=()=>{console.log("[AudioService] Page hide event detected. Forcing audio cleanup."),this.stopAllAudioProcessing()};const e="https://sideeye-backend-production.up.railway.app";console.log(`Connecting to Socket.IO server at: ${e}`),this.socket=Tk(e,{transports:["websocket"],reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5}),this.setupSocketListeners(),this.setupAudioContext(),this.setupAudioElement(),this.startAudioProcessingLoop(),Ek.onDeviceChange((()=>{this.deviceChangeCallbacks.forEach((e=>e()))})),window.addEventListener("pagehide",this.handlePageHide)}setupAudioElement(){this.audioElement=document.createElement("audio"),this.audioElement.autoplay=!0,document.body.appendChild(this.audioElement)}async setupAudioContext(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:48e3,latencyHint:"interactive"}),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=1024,this.analyser.smoothingTimeConstant=.2,this.analyser.minDecibels=-65,this.analyser.maxDecibels=-10,"suspended"===this.audioContext.state&&await this.audioContext.resume(),console.log("Audio context setup complete")}catch(vb){console.error("Error setting up audio context:",vb),aS.error("Failed to initialize audio system")}}async handleDeviceChange(){this.currentRoomId&&this.stream&&this.currentUserId&&(await this.leaveRoom(this.currentRoomId,this.currentUserId),await this.joinRoom(this.currentRoomId,this.currentUserId))}onAudioLevel(e){this.audioLevelCallbacks.add(e)}removeAudioLevelCallback(e){this.audioLevelCallbacks.delete(e)}startSpeakingDetection(){if(!this.analyser||!this.stream||!this.currentUserId)return;const e=this.currentUserId,t=this.analyser.frequencyBinCount,n=new Uint8Array(t);let r=0;this.speakingDetectionInterval=window.setInterval((()=>{if(!this.analyser||this.isMuted)return;this.analyser.getByteFrequencyData(n);const o=Math.sqrt(n.reduce(((e,t)=>e+t*t),0)/t),i=o>25,s=this.silenceTimeouts.get(e);if(s&&clearTimeout(s),i){var a;if(r++,r>=3&&!this.speakingStates.get(e))this.speakingStates.set(e,!0),this.audioLevelCallbacks.forEach((t=>t(e,!0))),null===(a=this.socket)||void 0===a||a.emit("user-speaking",{roomId:this.currentRoomId,userId:e,isSpeaking:!0})}else{r=0;const t=setTimeout((()=>{var t;this.speakingStates.get(e)&&(this.speakingStates.set(e,!1),this.audioLevelCallbacks.forEach((t=>t(e,!1))),null===(t=this.socket)||void 0===t||t.emit("user-speaking",{roomId:this.currentRoomId,userId:e,isSpeaking:!1}))}),200);this.silenceTimeouts.set(e,t)}}),33)}setupSocketListeners(){this.socket&&(this.socket.on("connect",(()=>{console.log("Connected to audio server")})),this.socket.on("disconnect",(()=>{this.stopAllAudioProcessing(),aS.error("Disconnected from audio server")})),this.socket.on("user-joined",(e=>{console.log("User joined:",e)})),this.socket.on("user-left",(e=>{console.log("[AudioService] User left event received:",e),this.stopUserAudio(e),this.userLeftCallback?this.userLeftCallback(e):console.warn("[AudioService] userLeftCallback not set.")})),this.socket.on("user-speaking",(e=>{this.audioLevelCallbacks.forEach((t=>t(e.userId,e.isSpeaking)))})),this.socket.on("room-users",(e=>{console.log("Room users:",e)})),this.socket.on("audio-stream",(e=>{this.audioQueue.has(e.userId)||this.audioQueue.set(e.userId,[]);const t=this.audioQueue.get(e.userId);t&&(t.length<100?(t.push(e.audio),this.resetQueueProcessingTimeout(e.userId)):console.warn(`Audio queue for ${e.userId} is full, dropping chunk.`))})),this.socket.on("connect_error",(e=>{console.error("Socket connection error:",e),aS.error("Connection error: "+e.message)})),this.socket.on("user-muted",(e=>{console.log(`User ${e.userId} mute status:`,e.isMuted)})),this.socket.on("sound-effect",(e=>{console.log("[AudioService] Received sound-effect event: ",e),e.roomId===this.currentRoomId&&e.userId!==this.currentUserId?(console.log(`[AudioService] Playing sound triggered by ${e.userId}`),this.playSoundLocally(e.soundUrl)):console.log("[AudioService] Ignoring sound effect event (own event or different room).")})),this.socket.on("force-mute",(()=>{console.log("[AudioService] Received force-mute command."),aS.error("The room owner has muted you."),this.setMuted(!0)})),this.socket.on("force-unmute",(()=>{console.log("[AudioService] Received force-unmute command."),aS.success("The room owner has unmuted you."),this.setMuted(!1)})),this.socket.on("force-remove",(e=>{console.log(`[AudioService] Received force-remove command for room ${e}.`),aS.error("You have been removed from the room by the owner."),this.currentRoomId===e&&this.currentUserId&&this.leaveRoom(this.currentRoomId,this.currentUserId),this.navigate?this.navigate("/side-rooms"):console.error("[AudioService] Navigate function not set, cannot redirect after removal.")})),this.socket.on("video-shared",(e=>{e.roomId===this.currentRoomId&&this.videoSharedCallback&&(console.log(`[AudioService] Received video-shared event for room ${this.currentRoomId}: ${e.videoUrl}`),this.videoSharedCallback(e.videoUrl))})),this.socket.on("share-video-failed",(e=>{this.videoShareFailedCallback&&(console.warn(`[AudioService] Received share-video-failed event: ${e.reason}`),this.videoShareFailedCallback(e.reason))})),this.socket.on("invite-success",(e=>{this.inviteSuccessCallback&&this.inviteSuccessCallback(e)})),this.socket.on("invite-failed",(e=>{this.inviteFailedCallback&&this.inviteFailedCallback(e)})),this.socket.on("guest-joined",(e=>{this.guestJoinedCallback&&e.roomId===this.currentRoomId&&this.guestJoinedCallback(e)})),this.socket.on("user-search-results-for-invite",(e=>{this.userSearchResultsCallback&&this.userSearchResultsCallback(e)})))}async handleIncomingAudio(e,t){if(this.audioContext&&this.gainNode)try{"suspended"===this.audioContext.state&&await this.audioContext.resume(),this.stopUserAudio(t);const n=await this.audioContext.decodeAudioData(e),r=this.audioContext.createBufferSource();r.buffer=n;const o=this.audioContext.createDynamicsCompressor();o.threshold.value=-55,o.knee.value=40,o.ratio.value=6.1,o.attack.value=.003,o.release.value=.25,r.playbackRate.value=1;const i=this.audioContext.createBiquadFilter();i.type="bandpass",i.frequency.value=1200,i.Q.value=1;const s=this.audioContext.createBiquadFilter();s.type="highshelf",s.frequency.value=5e3,s.gain.value=1.5,r.connect(i).connect(s).connect(o).connect(this.gainNode);const a=.02,l=this.audioContext.currentTime+a;r.start(l),this.audioSources.set(t,r),r.onended=()=>{r.disconnect(),this.audioSources.delete(t),this.videoSharedCallback=null}}catch(vb){console.error("Error handling incoming audio:",vb)}}async joinRoom(e,t){if(!this.socket)return console.error("Socket not initialized"),!1;try{var n;this.currentRoomId=e,console.log("Requesting microphone access...");const r=await navigator.permissions.query({name:"microphone"});if("denied"===r.state)throw new Error("Microphone permission denied. Please allow microphone access in your browser settings.");if("prompt"===r.state&&aS.loading("Please allow microphone access..."),this.stream=await Ek.getAudioStream(),!this.stream)throw new Error("Failed to get audio stream");if(aS.success("Microphone access granted"),console.log("Microphone access granted"),this.stream.getAudioTracks().forEach((e=>{e.enabled=!this.isMuted})),"suspended"===(null===(n=this.audioContext)||void 0===n?void 0:n.state)&&await this.audioContext.resume(),this.audioContext&&this.analyser){this.audioContext.createMediaStreamSource(this.stream).connect(this.analyser)}return this.socket.emit("join-room",e,t),console.log("Joined room:",e),this.currentUserId=t,this.setupAudioRecording(e,t),this.startSpeakingDetection(),!0}catch(vb){return console.error("Error joining room:",vb),vb instanceof Error&&aS.error("Failed to join room: "+vb.message),!1}}setupAudioRecording(e,t){if(this.stream&&this.audioContext)try{this.microphoneNode=this.audioContext.createMediaStreamSource(this.stream);const n=this.audioContext.createDynamicsCompressor();n.threshold.value=-50,n.knee.value=40,n.ratio.value=12,n.attack.value=.003,n.release.value=.25,this.mediaRecorder=new MediaRecorder(this.stream,{mimeType:"audio/webm;codecs=opus",bitsPerSecond:256e3}),this.mediaRecorder.ondataavailable=async n=>{if(n.data.size>0&&this.socket&&!this.isMuted)try{const r=await n.data.arrayBuffer();this.socket.emit("audio-stream",{roomId:e,userId:t,audio:r})}catch(vb){console.error("Error processing audio data:",vb)}},this.microphoneNode.connect(n).connect(this.analyser),this.isRecording=!0,this.mediaRecorder.start(500),this.isMuted&&(this.stream.getAudioTracks().forEach((e=>{e.enabled=!1})),this.microphoneNode.disconnect(),this.mediaRecorder.pause()),this.startSpeakingDetection()}catch(vb){console.error("Error setting up audio recording:",vb),aS.error("Failed to setup audio recording")}}leaveRoom(e,t){console.log("Leaving room:",e),this.stopAllAudioProcessing(),this.currentUserId=null,this.socket&&(this.socket.emit("leave-room",e,t),this.currentRoomId="")}stopAllAudioProcessing(){console.log("Stopping all audio processing..."),this.stopAudioProcessingLoop(),this.speakingDetectionInterval&&(window.clearInterval(this.speakingDetectionInterval),this.speakingDetectionInterval=null),this.mediaRecorder&&this.isRecording&&(this.mediaRecorder.stop(),this.isRecording=!1),this.stream?(this.stream.getTracks().forEach((e=>{console.log(`[AudioService] Stopping track: ${e.kind}, state: ${e.readyState}`),e.stop()})),this.stream=null):console.log("[AudioService] stopAllAudioProcessing: this.stream is null, cannot stop tracks."),this.microphoneNode&&(this.microphoneNode.disconnect(),this.microphoneNode=null),this.audioSources.forEach(((e,t)=>{try{e.stop(),e.disconnect()}catch(vb){console.warn("Minor error stopping audio source:",vb)}})),this.audioSources.clear(),this.audioQueue.clear(),this.speakingStates.clear(),this.silenceTimeouts.forEach((e=>clearTimeout(e))),this.silenceTimeouts.clear(),this.stopAudioProcessingLoop()}disconnect(){console.log("Disconnecting AudioService..."),window.removeEventListener("pagehide",this.handlePageHide),this.stopAllAudioProcessing(),this.stopAudioProcessingLoop(),this.currentUserId=null,this.socket&&(this.socket.disconnect(),this.socket=null),this.audioContext&&(this.audioContext.close(),this.audioContext=null),this.stream&&(this.stream.getTracks().forEach((e=>e.stop())),this.stream=null),this.audioSources.forEach(((e,t)=>{this.stopUserAudio(t)})),this.audioQueue.clear(),this.audioSources.clear(),this.audioElement&&(this.audioElement.remove(),this.audioElement=null)}stopUserAudio(e){const t=this.audioSources.get(e);if(t){try{t.stop(),t.disconnect()}catch(vb){console.warn("Minor error stopping user audio source:",vb)}this.audioSources.delete(e),this.audioQueue.delete(e),this.speakingStates.delete(e);const n=this.silenceTimeouts.get(e);n&&(clearTimeout(n),this.silenceTimeouts.delete(e)),this.clearQueueProcessingTimeout(e)}}setMuted(e){this.isMuted!==e&&(this.isMuted=e,console.log("Setting mute state:",e),this.stream&&this.stream.getAudioTracks().forEach((t=>{t.enabled=!e,console.log("Audio track enabled:",!e)})),this.mediaRecorder&&this.isRecording&&(e?(this.mediaRecorder.pause(),console.log("MediaRecorder paused")):(this.mediaRecorder.resume(),console.log("MediaRecorder resumed"))),e&&this.currentUserId&&(this.speakingStates.set(this.currentUserId,!1),this.audioLevelCallbacks.forEach((e=>e(this.currentUserId,!1)))),this.socket&&this.currentRoomId&&this.currentUserId&&this.socket.emit("user-muted",{roomId:this.currentRoomId,userId:this.currentUserId,isMuted:e}))}isMicrophoneMuted(){return this.isMuted}setVolume(e){this.gainNode&&(this.gainNode.gain.value=e)}async setAudioInput(e){const t=await Ek.setInputDevice(e);return t&&this.currentRoomId&&this.currentUserId&&(await this.leaveRoom(this.currentRoomId,this.currentUserId),await this.joinRoom(this.currentRoomId,this.currentUserId)),t}async setAudioOutput(e){return this.audioElement&&await Ek.setAudioOutput(this.audioElement,e),Ek.setOutputDevice(e)}getInputDevices(){return Ek.getInputDevices()}getOutputDevices(){return Ek.getOutputDevices()}onDeviceChange(e){return this.deviceChangeCallbacks.add(e),()=>this.deviceChangeCallbacks.delete(e)}startAudioProcessingLoop(){this.audioProcessingInterval&&clearInterval(this.audioProcessingInterval),this.audioProcessingInterval=window.setInterval((()=>{this.processAudioQueue()}),this.BUFFER_TARGET_DURATION_MS/2)}stopAudioProcessingLoop(){this.audioProcessingInterval&&(clearInterval(this.audioProcessingInterval),this.audioProcessingInterval=null),this.queueProcessingTimeouts.forEach((e=>clearTimeout(e))),this.queueProcessingTimeouts.clear()}concatenateArrayBuffers(e){let t=0;for(const o of e)t+=o.byteLength;const n=new Uint8Array(t);let r=0;for(const o of e)n.set(new Uint8Array(o),r),r+=o.byteLength;return n.buffer}async processAudioQueue(){if(!this.audioContext||"running"!==this.audioContext.state)return;const e=Array.from(this.audioQueue.keys());for(const t of e)this.processUserAudioQueue(t)}async processUserAudioQueue(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.audioQueue.get(e);if(!n||0===n.length)return;const r=500*n.length;if(t||r>=this.BUFFER_TARGET_DURATION_MS){if(this.audioSources.has(e)&&!t)return void console.log(`[AudioQueue-${e}] Already playing, skipping processing cycle.`);const r=[...n];if(this.audioQueue.set(e,[]),this.clearQueueProcessingTimeout(e),0===r.length)return void console.log(`[AudioQueue-${e}] No chunks to process after copying from queue.`);if(console.log(`[AudioQueue-${e}] Processing ${r.length} chunks individually.`),r.length>0){console.log(`[AudioQueue-${e}] Concatenating ${r.length} chunks for decoding.`);const t=this.concatenateArrayBuffers(r);t.byteLength>0?(console.log(`[AudioQueue-${e}] Attempting to decode combined buffer of size: ${t.byteLength}`),await this.decodeAndPlayAudio(t,e)):console.warn(`[AudioQueue-${e}] Combined buffer is empty after concatenation.`)}else console.log(`[AudioQueue-${e}] No chunks to process after copying from queue.`)}}async decodeAndPlayAudio(e,t){if(this.audioContext&&this.gainNode){if("suspended"===this.audioContext.state){console.warn(`[AudioPlay-${t}] AudioContext state is ${this.audioContext.state}, attempting resume.`);try{await this.audioContext.resume(),console.log(`[AudioPlay-${t}] AudioContext resume attempt finished.`)}catch(n){return console.error(`[AudioPlay-${t}] Error resuming audio context:`,n),void aS.error("Audio playback failed. Please try refreshing.")}}else if("closed"===this.audioContext.state)return console.error(`[AudioPlay-${t}] Cannot play audio, context is closed.`),void aS.error("Audio system closed unexpectedly. Please refresh.");if("running"===this.audioContext.state)try{this.stopUserAudio(t),console.log(`[AudioPlay-${t}] Decoding ${e.byteLength} bytes.`);const n=await this.audioContext.decodeAudioData(e).catch((e=>{throw console.error(`[AudioPlay-${t}] decodeAudioData FAILED:`,e),aS.error(`Error decoding audio from user ${t}.`),e}));if(!n)return void console.warn(`[AudioPlay-${t}] Decoding resulted in null buffer.`);const r=this.audioContext.createBufferSource();r.buffer=n;const o=this.audioContext.createDynamicsCompressor();o.threshold.value=-50,o.knee.value=40,o.ratio.value=12,o.attack.value=.003,o.release.value=.25,r.playbackRate.value=1;const i=this.audioContext.createBiquadFilter();i.type="bandpass",i.frequency.value=1e3,i.Q.value=.5;const s=this.audioContext.createBiquadFilter();s.type="highshelf",s.frequency.value=4e3,s.gain.value=3,r.connect(i).connect(s).connect(o).connect(this.gainNode);const a=.02,l=this.audioContext.currentTime+a;console.log(`[AudioPlay-${t}] Starting playback at ${l} (current: ${this.audioContext.currentTime})`),r.start(l),this.audioSources.set(t,r),r.onended=()=>{console.log(`[AudioPlay-${t}] Playback ended.`);try{r.disconnect()}catch(e){console.warn(`[AudioPlay-${t}] Minor error during source disconnection:`,e)}this.audioSources.delete(t)}}catch(vb){console.error(`[AudioPlay-${t}] Error handling incoming audio buffer:`,vb)}else console.error(`[AudioPlay-${t}] AudioContext is not running (${this.audioContext.state}) after resume attempt. Cannot play audio.`)}else console.warn(`[AudioPlay-${t}] Audio context or gain node not ready.`)}resetQueueProcessingTimeout(e){const t=this.queueProcessingTimeouts.get(e);t&&clearTimeout(t);const n=setTimeout((()=>{console.log(`Processing queue for ${e} due to timeout.`),this.processUserAudioQueue(e,!0),this.queueProcessingTimeouts.delete(e)}),this.QUEUE_MAX_WAIT_MS);this.queueProcessingTimeouts.set(e,n)}clearQueueProcessingTimeout(e){const t=this.queueProcessingTimeouts.get(e);t&&(clearTimeout(t),this.queueProcessingTimeouts.delete(e))}async playSoundLocally(e){if(this.audioContext&&this.gainNode)try{"suspended"===this.audioContext.state&&await this.audioContext.resume(),console.log(`[AudioService] Attempting to play sound locally: ${e}`);const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch sound: ${t.statusText}`);const n=await t.arrayBuffer(),r=await this.audioContext.decodeAudioData(n),o=this.audioContext.createBufferSource();o.buffer=r,o.connect(this.gainNode),o.start(0),o.onended=()=>{console.log(`[AudioService] Sound effect finished: ${e}`),o.disconnect()}}catch(vb){console.error(`[AudioService] Error playing sound effect ${e}:`,vb),aS.error(`Failed to play sound: ${e}`)}else console.warn("[AudioService] Audio context not ready for sound effect.")}triggerSoundEffect(e,t){this.socket&&e&&t&&this.currentUserId?(console.log(`[AudioService] Triggering sound effect: ${t} in room ${e} by user ${this.currentUserId}`),this.playSoundLocally(t),this.socket.emit("sound-effect",{roomId:e,userId:this.currentUserId,soundUrl:t})):console.error("[AudioService] Cannot trigger sound effect - missing socket, roomId, soundUrl, or userId.")}setNavigate(e){this.navigate=e}sendForceMute(e,t){this.socket&&(console.log(`[AudioService] Owner sending force-mute to ${t} in room ${e}`),this.socket.emit("force-mute",{roomId:e,targetUserId:t}))}sendForceUnmute(e,t){this.socket&&(console.log(`[AudioService] Owner sending force-unmute to ${t} in room ${e}`),this.socket.emit("force-unmute",{roomId:e,targetUserId:t}))}sendForceRemove(e,t){this.socket&&(console.log(`[AudioService] Owner sending force-remove to ${t} in room ${e}`),this.socket.emit("force-remove",{roomId:e,targetUserId:t}))}sendForceBan(e,t){this.socket&&(console.log(`[AudioService] Owner sending force-ban to ${t} in room ${e}`),this.socket.emit("force-ban",{roomId:e,targetUserId:t}))}onUserLeft(e){return console.log("[AudioService] Registering onUserLeft callback."),this.userLeftCallback=e,()=>{console.log("[AudioService] Unregistering onUserLeft callback."),this.userLeftCallback=null}}async connectToReceiveAudio(e,t){var n;return this.socket?(this.currentRoomId=e,this.currentUserId=t,"suspended"===(null===(n=this.audioContext)||void 0===n?void 0:n.state)&&await this.audioContext.resume(),!!(this.audioContext&&this.gainNode||(console.error("Audio context not ready for playback"),await this.setupAudioContext(),this.audioContext&&this.gainNode))&&(this.socket.emit("join-room",e,t),console.log("Connected to receive audio for room (using join-room event):",e),!0)):(console.error("Socket not initialized"),!1)}async activateMicrophone(e,t){if(!this.socket||this.currentRoomId!==e||this.currentUserId!==t)return console.error("Not connected to receive audio for this room or user mismatch."),!1;if(this.stream&&this.isRecording)return console.log("Microphone already active."),!0;try{if(this.stream=await Ek.getAudioStream(),!this.stream)throw new Error("Failed to get audio stream");if(aS.success("Microphone access granted"),this.stream.getAudioTracks().forEach((e=>{e.enabled=!this.isMuted})),this.audioContext&&this.analyser){this.audioContext.createMediaStreamSource(this.stream).connect(this.analyser)}return this.setupAudioRecording(e,t),this.startSpeakingDetection(),!0}catch(vb){return console.error("Error activating microphone:",vb),vb instanceof Error&&aS.error("Failed to activate microphone: "+vb.message),!1}}deactivateMicrophone(e,t){this.currentRoomId===e&&this.currentUserId===t&&(console.log("Deactivating microphone for room:",e),this.speakingDetectionInterval&&(window.clearInterval(this.speakingDetectionInterval),this.speakingDetectionInterval=null),this.mediaRecorder&&this.isRecording&&(this.mediaRecorder.stop(),this.isRecording=!1),this.stream&&(this.stream.getTracks().forEach((e=>e.stop())),this.stream=null),this.microphoneNode&&(this.microphoneNode.disconnect(),this.microphoneNode=null))}disconnectFromRoom(e,t){console.log("Disconnecting from room audio:",e),this.deactivateMicrophone(e,t),this.audioSources.forEach(((e,t)=>{this.stopUserAudio(t)})),this.audioQueue.clear(),this.socket&&this.currentRoomId===e&&(this.socket.emit("leave-room",e,t),this.currentRoomId="",this.currentUserId=null)}shareVideo(e,t){this.socket&&this.currentUserId?(console.log(`[AudioService] User ${this.currentUserId} sharing video in room ${e}: ${t}`),this.socket.emit("share-video",{roomId:e,videoUrl:t,userId:this.currentUserId})):console.error("[AudioService] Cannot share video - socket not available or user not identified.")}onVideoShared(e){return console.log("[AudioService] Registering onVideoShared callback."),this.videoSharedCallback=e,()=>{console.log("[AudioService] Unregistering onVideoShared callback."),this.videoSharedCallback=null}}onVideoShareFailed(e){return console.log("[AudioService] Registering onVideoShareFailed callback."),this.videoShareFailedCallback=e,()=>{console.log("[AudioService] Unregistering onVideoShareFailed callback."),this.videoShareFailedCallback=null}}inviteUserToRoom(e,t,n){if(!this.socket)return console.error("[AudioService] Cannot invite user - socket not available."),void(this.inviteFailedCallback&&this.inviteFailedCallback({reason:"Connection error, cannot send invite."}));console.log(`[AudioService] Inviting user "${n}" to room ${e} by ${t}`),this.socket.emit("invite-user-to-room",{roomId:e,inviterId:t,inviteeUsername:n})}onInviteSuccess(e){return this.inviteSuccessCallback=e,()=>{this.inviteSuccessCallback=null}}onInviteFailed(e){return this.inviteFailedCallback=e,()=>{this.inviteFailedCallback=null}}onGuestJoined(e){return this.guestJoinedCallback=e,()=>{this.guestJoinedCallback=null}}searchUsersForInvite(e){if(!this.socket)return console.error("[AudioService] Cannot search users - socket not available."),void(this.userSearchResultsCallback&&this.userSearchResultsCallback({users:[],error:"Connection error."}));console.log(`[AudioService] Emitting search-users-for-invite with searchTerm: "${e}"`),this.socket.emit("search-users-for-invite",{searchTerm:e})}onUserSearchResultsForInvite(e){var t;console.log("[AudioService] Registering onUserSearchResultsForInvite callback.");const n=t=>{console.log("[AudioService] Received user-search-results-for-invite:",t),e(t)};return null===(t=this.socket)||void 0===t||t.on("user-search-results-for-invite",n),this.userSearchResultsCallback=e,()=>{var e;console.log("[AudioService] Unregistering onUserSearchResultsForInvite callback."),null===(e=this.socket)||void 0===e||e.off("user-search-results-for-invite",n),this.userSearchResultsCallback=null}}},Rk=(0,r.createContext)({user:null,loading:!0,error:null,login:async()=>{},register:async()=>{},logout:async()=>{},resetPassword:async()=>{},sendEmailVerification:async()=>{},setError:()=>{},forceCheckEmailVerification:async()=>!1,currentUser:null,userProfile:null,setUserProfile:()=>{},verifySourceCodeAndCompleteLogin:async()=>{},tempUserForSourceCode:null}),Pk=e=>{var t;let{children:n}=e;const[o,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(null),h=Z(),p=(e,t)=>{console.error(`[${t}] Error:`,e)};(0,r.useEffect)((()=>{console.log("Setting up auth state listener");const e=zi(N_,(async e=>{if(console.log("Auth state changed:",e?"User logged in":"No user"),e)try{console.log("Reloading Firebase user data..."),await e.reload();const t=N_.currentUser;if(console.log("Firebase user data reloaded."),!t)return console.log("User is null after reload, signing out."),i(null),void a(!1);console.log("Fetching Firestore document for:",t.uid);const n=await gv(ng(D_,"users",t.uid));if(n.exists()){const e=n.data();i({...t,profile:e}),console.log("User data loaded successfully:",t.uid),a(!1)}else console.error("User document not found in Firestore:",t.uid),i(null),Bi(N_),console.log("Signed out due to missing Firestore document."),a(!1)}catch(l){console.error("Error loading user data:",l),i(null),a(!1)}else i(null),a(!1)}));return()=>{console.log("Cleaning up auth state listener"),e()}}),[]),(0,r.useEffect)((()=>{if(null===o||void 0===o||!o.uid||!D_)return;const e=_v(ng(D_,"users",o.uid),(e=>{if(e.exists()){var t;const n=e.data(),r=null===(t=o.profile)||void 0===t?void 0:t.isPrivate;i((e=>e?{...e,profile:n}:null)),i((e=>e?{...e,isPrivate:n.isPrivate||!1,followers:n.followers||[],following:n.following||[]}:null)),r!==n.isPrivate&&(aS.success("Account is now "+(n.isPrivate?"private":"public")),window.location.pathname.includes("/profile")&&window.location.reload())}}),(e=>{console.error("Error listening to privacy changes:",e),aS.error("Failed to sync privacy settings")}));return()=>e()}),[null===o||void 0===o?void 0:o.uid,D_,null===o||void 0===o||null===(t=o.profile)||void 0===t?void 0:t.isPrivate]),(0,r.useEffect)((()=>{o&&!s&&(o.emailVerified||aS.error("Please verify your email to continue",{duration:5e3,id:"email-verification-needed"}),o.profile&&!o.profile.sourceCodeSetupComplete&&aS.error("Please set up your source code to continue",{duration:5e3,id:"source-code-setup-needed"}))}),[o,s]);const f=async e=>{try{console.log("Starting forceCheckEmailVerification for user:",e.uid),console.log("Initial emailVerified status:",e.emailVerified),await e.reload();const n=N_.currentUser;if(!n)return console.error("User disappeared after reload"),!1;const r=n.emailVerified;if(console.log("Email verification status after reload:",r),r&&D_)try{const e=ng(D_,"users",n.uid),t=await gv(e);if(t.exists()){if(!t.data().isVerified){const t=await(async e=>{if(!D_)return!1;try{return(await gv(ng(D_,"admins",e))).exists()}catch(l){return console.log("Error checking admin status:",l),!1}})(n.uid);t?(await wv(e,{isVerified:!0,updatedAt:Pv()}),console.log("Updated user profile verification status in Firestore")):console.log("User is not admin, skipping verification status update")}}}catch(l){console.log("Could not access user profile in Firestore")}try{const e=await n.getIdTokenResult(!0);return console.log("Token verification status:",e.claims.email_verified),e.claims.email_verified&&!r?(await n.reload(),n.emailVerified):!0===e.claims.email_verified}catch(t){return console.error("Error checking token verification status:",t),r}}catch(l){return console.error("Failed to check email verification status:",l),!1}},m={user:o,loading:s,error:l,login:async(e,t)=>{a(!0),c(null);try{if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e))throw new Error("auth/invalid-email");console.log("Starting login process for:",e),await function(e,t){return en(e).setPersistence(t)}(N_,Gi),console.log("Persistence set to LOCAL");const n=await function(e,t,n){return fr(e.app)?Promise.reject($r(e)):Mi(en(e),wi.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Fi(e),t}))}(N_,e,t),r=n.user;console.log("Firebase Auth login successful for user:",r.uid);const o=await f(r);if(console.log("Email verification status:",o),!o)return console.log("Email not verified, redirecting to verification page..."),c("Please verify your email before logging in."),await Bi(N_),a(!1),void h("/verify-email",{replace:!0});const s=await gv(ng(D_,"users",r.uid));if(s.exists()){const e=s.data();if(console.log("Retrieved user profile:",e),!e.sourceCodeSetupComplete)return console.log("Source code setup not complete, redirecting to setup..."),a(!1),void h("/setup-source-code",{replace:!0});i({...r,profile:e}),a(!1),console.log("Login complete, redirecting to feed..."),h("/",{replace:!0})}else{console.log("User profile not found, creating default profile...");const e={name:r.displayName||"",username:r.displayName||"",email:r.email||"",profilePic:r.photoURL||"",bio:"",location:"",website:"",followers:[],following:[],connections:[],isVerified:!1,sourceCodeHash:null,sourceCodeSetupComplete:!1,createdAt:il.fromDate(new Date),lastLogin:il.fromDate(new Date),dateOfBirth:il.fromDate(new Date(2e3,0,1)),settings:{theme:"light",notifications:!0,privacy:"public"},preferences:{theme:"light",language:"en",notifications:!0,emailNotifications:!0,pushNotifications:!0}};await bv(ng(D_,"users",r.uid),e),console.log("Created default user profile");const t=(await gv(ng(D_,"users",r.uid))).data();if(!t.sourceCodeSetupComplete)return console.log("Source code setup not complete, redirecting to setup..."),a(!1),void h("/setup-source-code",{replace:!0});i({...r,profile:t}),a(!1),console.log("Login complete, redirecting to feed..."),h("/",{replace:!0})}}catch(l){console.error("Login function error:",l);let t="An error occurred during login.";"auth/invalid-credential"===l.code||"auth/invalid-credential"===l.message?t="Invalid email or password. Please check your credentials and try again.":"auth/user-not-found"===l.code||"auth/user-not-found"===l.message?t="No account found with this email.":"auth/wrong-password"===l.code||"auth/wrong-password"===l.message?t="Incorrect password.":"auth/too-many-requests"===l.code||"auth/too-many-requests"===l.message?t="Too many failed attempts. Please try again later.":"auth/network-request-failed"===l.code||"auth/network-request-failed"===l.message?t="Network error. Please check your connection.":"auth/invalid-email"===l.code||"auth/invalid-email"===l.message?t="Invalid email address. Please check the format.":"User profile not found"===l.message&&(t="User profile not found. Please contact support."),c(t),i(null),a(!1),p(l,"Login Function")}},register:async(e,t,n,r)=>{a(!0),c(null);try{const o=await async function(e,t,n){if(fr(e.app))return Promise.reject($r(e));const r=Go(e),o=ri(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ti,"EMAIL_PASSWORD_PROVIDER"),i=await o.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Fi(e),t})),s=await Ei._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(N_,e,t),s=o.user;if(console.log("User created successfully with UID:",s.uid),await $i(s,{displayName:n}),console.log("User profile updated with username:",n),await Ui(s),console.log("Verification email sent to:",s.email),D_){const t={theme:"light",language:"en",notifications:!0,emailNotifications:!0,pushNotifications:!0},o={name:n,username:n,email:e||"",profilePic:s.photoURL||"",bio:"",location:"",website:"",followers:[],following:[],connections:[],isVerified:!1,sourceCodeHash:null,sourceCodeSetupComplete:!1,createdAt:il.fromDate(new Date),lastLogin:il.fromDate(new Date),dateOfBirth:r,settings:{theme:"light",notifications:!0,privacy:"public"},preferences:t};await bv(ng(D_,"users",s.uid),o),console.log("Basic user profile created in Firestore")}i(s)}catch(l){throw console.error("Registration error:",l),c(Dk(l.code)),l}finally{a(!1)}},logout:async()=>{a(!0),c(null);try{console.log("Starting logout process..."),console.log("Disconnecting audio service..."),Ik.disconnect(),console.log("Audio service disconnected."),await Bi(N_),console.log("Firebase sign out successful."),i(null),a(!1),console.log("User state cleared, navigating to /login..."),h("/login",{replace:!0}),console.log("Navigation to /login triggered.")}catch(l){console.error("Error during logout:",l),p(l,"Logout"),c(Dk(l.code)),a(!1)}},resetPassword:async e=>{try{a(!0),await async function(e,t,n){const r=Go(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Li(r,o,n),await ri(r,o,"getOobCode",hi,"EMAIL_PASSWORD_PROVIDER")}(N_,e)}catch(l){throw c(l.message),l}finally{a(!1)}},sendEmailVerification:async()=>{const e=N_.currentUser;if(e)try{a(!0),await e.reload();const t=N_.currentUser;if(!t)return void c("User not found");if(t.emailVerified)return await f(t),void h("/setup-source-code");await Ui(t,{url:`${window.location.origin}/verify-email`,handleCodeInApp:!0}),D_&&await wv(ng(D_,"users",t.uid),{lastVerificationAttempt:Pv(),verificationStatus:"pending"}),aS.success("Verification email sent")}catch(l){console.error("Error sending verification email:",l),c(Dk(l.code||l.message))}finally{a(!1)}else c("No user available to send verification email")},setError:c,forceCheckEmailVerification:f,currentUser:o,userProfile:(null===o||void 0===o?void 0:o.profile)||null,setUserProfile:e=>{o&&i({...o,profile:e})},verifySourceCodeAndCompleteLogin:async e=>{if(!u||!D_)return c("No user logged in"),void console.error("verifySourceCodeAndCompleteLogin: No temporary user found");try{a(!0),c(null);const t=ng(D_,"users",u.uid),n=await gv(t);if(!n.exists())return c("User profile not found"),void console.error("verifySourceCodeAndCompleteLogin: User profile not found");const r=n.data();if(!r.sourceCodeHash)return c("Source code not set up"),void console.error("verifySourceCodeAndCompleteLogin: No source code hash found");if(!await iC.compare(e,r.sourceCodeHash))return void c("Invalid source code");i({...u,profile:r}),d(null),a(!1),setTimeout((()=>{h("/")}),0)}catch(l){console.error("Error verifying source code:",l),c("Failed to verify source code"),a(!1)}},tempUserForSourceCode:u};return(0,Ve.jsx)(Rk.Provider,{value:m,children:n})},jk=()=>{const e=(0,r.useContext)(Rk);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Dk=e=>{switch(e){case"auth/invalid-email":return"Invalid email address";case"auth/user-disabled":return"This account has been disabled";case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/email-already-in-use":return"Email is already in use";case"auth/weak-password":return"Password is too weak";case"auth/network-request-failed":return"Network error. Please check your connection";case"auth/too-many-requests":return"Too many attempts. Please try again later";default:return"An error occurred. Please try again"}},Nk=()=>{const{user:e}=jk();return{canViewProfile:t=>{var n,r,o;if(!e)return!1;if(e.uid===t)return!0;const i=null===(n=e.profile)||void 0===n||null===(r=n.followers)||void 0===r?void 0:r.includes(t);return!(null!==(o=e.profile)&&void 0!==o&&o.isPrivate)||i},canViewContent:t=>{var n,r,o;if(!e)return!1;if(e.uid===t)return!0;const i=null===(n=e.profile)||void 0===n||null===(r=n.following)||void 0===r?void 0:r.includes(t);return!(null!==(o=e.profile)&&void 0!==o&&o.isPrivate)||i}}},Mk=(0,r.createContext)(void 0),Ok=e=>{let{children:t}=e;const{currentUser:n}=jk(),[o,i]=(0,r.useState)([]),[s,a]=(0,r.useState)(0),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(!1),h=(0,r.useCallback)((async e=>{if(!e)return;c(!0);const t=_v(qg(tg(D_,"notifications"),Kg("recipientId","==",e),Xg("createdAt","desc"),Zg(50)),(e=>{const t=e.docs.map((e=>{var t;const n=e.data();return{id:e.id,...n,createdAt:null!==(t=n.createdAt)&&void 0!==t&&t.toDate?n.createdAt.toDate():new Date}}));i(t);const n=t.filter((e=>!e.isRead)).length;a(n),u||d(!0),c(!1)}),(e=>{console.error("Error fetching notifications: ",e),c(!1)}));return t}),[u]);(0,r.useEffect)((()=>{let e;if(null!==n&&void 0!==n&&n.uid){h(n.uid).then((t=>{t&&(e=t)})).catch((e=>{console.error("Failed to setup notification listener:",e)}))}else i([]),a(0),c(!0),d(!1);return()=>{e&&e()}}),[n,h]);const p={notifications:o,unreadCount:s,loading:l,fetchNotifications:h,markAsRead:async e=>{try{const t=ng(D_,"notifications",e);await wv(t,{isRead:!0})}catch(vb){console.error("Error marking notification as read: ",vb)}},markAllAsRead:async e=>{if(e){c(!0);try{const t=qg(tg(D_,"notifications"),Kg("recipientId","==",e),Kg("isRead","==",!1)),n=(await yv(t)).docs.map((e=>wv(ng(D_,"notifications",e.id),{isRead:!0})));await Promise.all(n)}catch(vb){console.error("Error marking all notifications as read: ",vb)}}},deleteNotification:async e=>{try{const t=ng(D_,"notifications",e);await xv(t)}catch(vb){console.error("Error deleting notification: ",vb)}},addNotification:async e=>{try{await Av(tg(D_,"notifications"),{...e,isRead:!1,createdAt:Pv()})}catch(vb){console.error("Error adding notification: ",vb)}}};return(0,Ve.jsx)(Mk.Provider,{value:p,children:t})},Lk=()=>{const e=(0,r.useContext)(Mk);if(void 0===e)throw new Error("useNotifications must be used within a NotificationProvider");return e};const Fk=r.createContext(null);function Uk(){return r.useContext(Fk)}const $k="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const zk=function(e){const{children:t,theme:n}=e,o=Uk(),i=r.useMemo((()=>{const e=null===o?n:function(e,t){if("function"===typeof t)return t(e);return(0,je.A)({},e,t)}(o,n);return null!=e&&(e[$k]=null!==o),e}),[n,o]);return(0,Ve.jsx)(Fk.Provider,{value:i,children:t})},Bk=["value"],Vk=r.createContext();const Wk=()=>{const e=r.useContext(Vk);return null!=e&&e},Hk=function(e){let{value:t}=e,n=(0,De.A)(e,Bk);return(0,Ve.jsx)(Vk.Provider,(0,je.A)({value:null==t||t},n))};var qk=n(6171);const Gk={};function Kk(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r.useMemo((()=>{const r=e&&t[e]||t;if("function"===typeof n){const i=n(r),s=e?(0,je.A)({},t,{[e]:i}):i;return o?()=>s:s}return e?(0,je.A)({},t,{[e]:n}):(0,je.A)({},t,n)}),[e,t,n,o])}const Yk=function(e){const{children:t,theme:n,themeId:r}=e,o=$e(Gk),i=Uk()||Gk,s=Kk(r,o,n),a=Kk(r,i,n,!0),l="rtl"===s.direction;return(0,Ve.jsx)(zk,{theme:a,children:(0,Ve.jsx)(Ue.T.Provider,{value:s,children:(0,Ve.jsx)(Hk,{value:l,children:(0,Ve.jsx)(qk.A,{value:null==s?void 0:s.components,children:t})})})})},Qk=["theme"];function Xk(e){let{theme:t}=e,n=(0,De.A)(e,Qk);const r=t[Ge.A];let o=r||t;return"function"!==typeof t&&(r&&!r.vars?o=(0,je.A)({},r,{vars:null}):t&&!t.vars&&(o=(0,je.A)({},t,{vars:null}))),(0,Ve.jsx)(Yk,(0,je.A)({},n,{themeId:r?Ge.A:void 0,theme:o}))}const Jk=(0,r.createContext)(void 0),Zk=e=>{let{children:t}=e;const[n,o]=(0,r.useState)((()=>{const e=localStorage.getItem("darkMode");return!!e&&JSON.parse(e)}));(0,r.useEffect)((()=>{localStorage.setItem("darkMode",JSON.stringify(n))}),[n]);const i=(0,qe.A)({palette:{mode:n?"dark":"light",primary:{main:"#1976d2"},secondary:{main:"#dc004e"},background:{default:n?"#121212":"#ffffff",paper:n?"#1e1e1e":"#ffffff"}},components:{MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}}}});return(0,Ve.jsx)(Jk.Provider,{value:{isDarkMode:n,toggleDarkMode:()=>{o(!n)}},children:(0,Ve.jsx)(Xk,{theme:i,children:t})})};var eT=n(8465),tT=n(9254),nT=n(1676),rT=n(9269);const oT=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};var iT=n(423);function sT(e){return(0,iT.Ay)("MuiPaper",e)}(0,Ke.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const aT=["className","component","elevation","square","variant"],lT=(0,tT.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,je.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.divider}`},"elevation"===n.variant&&(0,je.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,rT.X4)("#fff",oT(n.elevation))}, ${(0,rT.X4)("#fff",oT(n.elevation))})`},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),cT=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:i=1,square:s=!1,variant:a="elevation"}=n,l=(0,De.A)(n,aT),c=(0,je.A)({},n,{component:o,elevation:i,square:s,variant:a}),u=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e,i={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]};return(0,eT.A)(i,sT,o)})(c);return(0,Ve.jsx)(lT,(0,je.A)({as:o,ownerState:c,className:(0,Ne.A)(u.root,r),ref:t},l))})),uT=cT;function dT(e){return(0,iT.Ay)("MuiAppBar",e)}(0,Ke.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const hT=["className","color","enableColorOnDark","position"],pT=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,fT=(0,tT.Ay)(uT,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,nT.A)(n.position)}`],t[`color${(0,nT.A)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,je.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,je.A)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,je.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,je.A)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:pT(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:pT(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:pT(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:pT(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},!["inherit","transparent"].includes(n.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),mT=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:i=!1,position:s="fixed"}=n,a=(0,De.A)(n,hT),l=(0,je.A)({},n,{color:o,position:s,enableColorOnDark:i}),c=(e=>{const{color:t,position:n,classes:r}=e,o={root:["root",`color${(0,nT.A)(t)}`,`position${(0,nT.A)(n)}`]};return(0,eT.A)(o,dT,r)})(l);return(0,Ve.jsx)(fT,(0,je.A)({square:!0,component:"header",ownerState:l,elevation:4,className:(0,Ne.A)(c.root,r,"fixed"===s&&"mui-fixed"),ref:t},a))})),gT=mT;function vT(e){return(0,iT.Ay)("MuiToolbar",e)}(0,Ke.A)("MuiToolbar",["root","gutters","regular","dense"]);const yT=["className","component","disableGutters","variant"],bT=(0,tT.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),wT=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:i=!1,variant:s="regular"}=n,a=(0,De.A)(n,yT),l=(0,je.A)({},n,{component:o,disableGutters:i,variant:s}),c=(e=>{const{classes:t,disableGutters:n,variant:r}=e,o={root:["root",!n&&"gutters",r]};return(0,eT.A)(o,vT,t)})(l);return(0,Ve.jsx)(bT,(0,je.A)({as:o,className:(0,Ne.A)(c.root,r),ref:t,ownerState:l},a))})),xT=wT;var AT=n(3235);const _T=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function ST(e){return(0,iT.Ay)("MuiAvatar",e)}(0,Ke.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var CT=n(5393);const kT=function(e){return"string"===typeof e};const TT=function(e,t,n){return void 0===e||kT(e)?t:(0,je.A)({},t,{ownerState:(0,je.A)({},t.ownerState,n)})};const ET=function(e,t,n){return"function"===typeof e?e(t,n):e};const IT=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const RT=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const PT=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=(0,Ne.A)(null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),t=(0,je.A)({},null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),s=(0,je.A)({},n,o,r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=IT((0,je.A)({},o,r)),a=RT(r),l=RT(o),c=t(s),u=(0,Ne.A)(null==c?void 0:c.className,null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),d=(0,je.A)({},null==c?void 0:c.style,null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),h=(0,je.A)({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}},jT=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],DT=["component","slots","slotProps"],NT=["component"];function MT(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,getSlotOwnerState:s,internalForwardedProps:a}=t,l=(0,De.A)(t,jT),{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0}}=i,h=(0,De.A)(i,DT),p=u[e]||r,f=ET(d[e],o),m=PT((0,je.A)({className:n},l,{externalForwardedProps:"root"===e?h:void 0,externalSlotProps:f})),{props:{component:g},internalRef:v}=m,y=(0,De.A)(m.props,NT),b=(0,CT.A)(v,null==f?void 0:f.ref,t.ref),w=s?s(y):{},x=(0,je.A)({},o,w),A="root"===e?g||c:g,_=TT(p,(0,je.A)({},"root"===e&&!c&&!u[e]&&a,"root"!==e&&!u[e]&&a,y,A&&{as:A},{ref:b}),x);return Object.keys(w).forEach((e=>{delete _[e]})),[p,_]}const OT=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],LT=(0,tT.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,je.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,je.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),FT=(0,tT.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),UT=(0,tT.Ay)(_T,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const $T=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiAvatar"}),{alt:o,children:i,className:s,component:a="div",slots:l={},slotProps:c={},imgProps:u,sizes:d,src:h,srcSet:p,variant:f="circular"}=n,m=(0,De.A)(n,OT);let g=null;const v=function(e){let{crossOrigin:t,referrerPolicy:n,src:o,srcSet:i}=e;const[s,a]=r.useState(!1);return r.useEffect((()=>{if(!o&&!i)return;a(!1);let e=!0;const r=new Image;return r.onload=()=>{e&&a("loaded")},r.onerror=()=>{e&&a("error")},r.crossOrigin=t,r.referrerPolicy=n,r.src=o,i&&(r.srcset=i),()=>{e=!1}}),[t,n,o,i]),s}((0,je.A)({},u,{src:h,srcSet:p})),y=h||p,b=y&&"error"!==v,w=(0,je.A)({},n,{colorDefault:!b,component:a,variant:f}),x=(e=>{const{classes:t,variant:n,colorDefault:r}=e,o={root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,eT.A)(o,ST,t)})(w),[A,_]=MT("img",{className:x.img,elementType:FT,externalForwardedProps:{slots:l,slotProps:{img:(0,je.A)({},u,c.img)}},additionalProps:{alt:o,src:h,srcSet:p,sizes:d},ownerState:w});return g=b?(0,Ve.jsx)(A,(0,je.A)({},_)):i||0===i?i:y&&o?o[0]:(0,Ve.jsx)(UT,{ownerState:w,className:x.fallback}),(0,Ve.jsx)(LT,(0,je.A)({as:a,ownerState:w,className:(0,Ne.A)(x.root,s),ref:t},m,{children:g}))})),zT=$T;function BT(e){return(0,iT.Ay)("MuiTypography",e)}(0,Ke.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const VT=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],WT=(0,tT.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,nT.A)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),HT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},qT={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},GT=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiTypography"}),r=(e=>qT[e]||e)(n.color),o=(0,Le.A)((0,je.A)({},n,{color:r})),{align:i="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=HT}=o,p=(0,De.A)(o,VT),f=(0,je.A)({},o,{align:i,color:r,className:s,component:a,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h}),m=a||(u?"p":h[d]||HT[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=e,a={root:["root",i,"inherit"!==e.align&&`align${(0,nT.A)(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return(0,eT.A)(a,BT,s)})(f);return(0,Ve.jsx)(WT,(0,je.A)({as:m,ref:t,ownerState:f,className:(0,Ne.A)(g.root,s)},p))})),KT=GT;var YT=n(1506),QT=n(1976),XT=n(2937);function JT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZT(e,t){return ZT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ZT(e,t)}function eE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ZT(e,t)}const tE=r.createContext(null);function nE(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function rE(e,t,n){return null!=n[t]?n[t]:e.props[t]}function oE(e,t,n){var o=nE(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var s in e)s in t?i.length&&(o[s]=i,i=[]):i.push(s);var a={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];a[o[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(t,o);return Object.keys(i).forEach((function(s){var a=i[s];if((0,r.isValidElement)(a)){var l=s in t,c=s in o,u=t[s],d=(0,r.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,r.isValidElement)(u)&&(i[s]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:rE(a,"exit",e),enter:rE(a,"enter",e)})):i[s]=(0,r.cloneElement)(a,{in:!1}):i[s]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:rE(a,"exit",e),enter:rE(a,"enter",e)})}})),i}var iE=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},sE=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(JT(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}eE(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,o,i=t.children,s=t.handleExited;return{children:t.firstRender?(n=e,o=s,nE(n.children,(function(e){return(0,r.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:rE(e,"appear",n),enter:rE(e,"enter",n),exit:rE(e,"exit",n)})}))):oE(e,i,s),firstRender:!1}},n.handleExited=function(e,t){var n=nE(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,je.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=(0,De.A)(e,["component","childFactory"]),i=this.state.contextValue,s=iE(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===t?r.createElement(tE.Provider,{value:i},s):r.createElement(tE.Provider,{value:i},r.createElement(t,o,s))},t}(r.Component);sE.propTypes={},sE.defaultProps={component:"div",childFactory:function(e){return e}};const aE=sE;var lE=n(8283),cE=n(1824);const uE=function(e){const{className:t,classes:n,pulsate:o=!1,rippleX:i,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=r.useState(!1),p=(0,Ne.A)(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),f={width:a,height:a,top:-a/2+s,left:-a/2+i},m=(0,Ne.A)(n.child,d&&n.childLeaving,o&&n.childPulsate);return l||d||h(!0),r.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,Ve.jsx)("span",{className:p,style:f,children:(0,Ve.jsx)("span",{className:m})})};const dE=(0,Ke.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),hE=["center","classes","className"];let pE,fE,mE,gE,vE=e=>e;const yE=(0,lE.i7)(pE||(pE=vE`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),bE=(0,lE.i7)(fE||(fE=vE`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),wE=(0,lE.i7)(mE||(mE=vE`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),xE=(0,tT.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),AE=(0,tT.Ay)(uE,{name:"MuiTouchRipple",slot:"Ripple"})(gE||(gE=vE`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),dE.rippleVisible,yE,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),dE.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),dE.child,dE.childLeaving,bE,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),dE.childPulsate,wE,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),_E=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:s}=n,a=(0,De.A)(n,hE),[l,c]=r.useState([]),u=r.useRef(0),d=r.useRef(null);r.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=r.useRef(!1),p=(0,cE.A)(),f=r.useRef(null),m=r.useRef(null),g=r.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:s}=e;c((e=>[...e,(0,Ve.jsx)(AE,{classes:{ripple:(0,Ne.A)(i.ripple,dE.ripple),rippleVisible:(0,Ne.A)(i.rippleVisible,dE.rippleVisible),ripplePulsate:(0,Ne.A)(i.ripplePulsate,dE.ripplePulsate),child:(0,Ne.A)(i.child,dE.child),childLeaving:(0,Ne.A)(i.childLeaving,dE.childLeaving),childPulsate:(0,Ne.A)(i.childPulsate,dE.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},u.current)])),u.current+=1,d.current=s}),[i]),v=r.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:i=o||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const a=s?null:m.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(i)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===f.current&&(f.current=()=>{g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},p.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[o,g,p]),y=r.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=r.useCallback(((e,t)=>{if(p.clear(),"touchend"===(null==e?void 0:e.type)&&f.current)return f.current(),f.current=null,void p.start(0,(()=>{b(e,t)}));f.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[p]);return r.useImperativeHandle(t,(()=>({pulsate:y,start:v,stop:b})),[y,v,b]),(0,Ve.jsx)(xE,(0,je.A)({className:(0,Ne.A)(dE.root,i.root,s),ref:m},a,{children:(0,Ve.jsx)(aE,{component:null,exit:!0,children:l})}))})),SE=_E;function CE(e){return(0,iT.Ay)("MuiButtonBase",e)}const kE=(0,Ke.A)("MuiButtonBase",["root","disabled","focusVisible"]),TE=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],EE=(0,tT.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${kE.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),IE=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:m,onContextMenu:g,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:w,onKeyUp:x,onMouseDown:A,onMouseLeave:_,onMouseUp:S,onTouchEnd:C,onTouchMove:k,onTouchStart:T,tabIndex:E=0,TouchRippleProps:I,touchRippleRef:R,type:P}=n,j=(0,De.A)(n,TE),D=r.useRef(null),N=r.useRef(null),M=(0,YT.A)(N,R),{isFocusVisibleRef:O,onFocus:L,onBlur:F,ref:U}=(0,XT.A)(),[$,z]=r.useState(!1);c&&$&&z(!1),r.useImperativeHandle(o,(()=>({focusVisible:()=>{z(!0),D.current.focus()}})),[]);const[B,V]=r.useState(!1);r.useEffect((()=>{V(!0)}),[]);const W=B&&!u&&!c;function H(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return(0,QT.A)((r=>{t&&t(r);return!n&&N.current&&N.current[e](r),!0}))}r.useEffect((()=>{$&&h&&!u&&B&&N.current.pulsate()}),[u,h,$,B]);const q=H("start",A),G=H("stop",g),K=H("stop",v),Y=H("stop",S),Q=H("stop",(e=>{$&&e.preventDefault(),_&&_(e)})),X=H("start",T),J=H("stop",C),Z=H("stop",k),ee=H("stop",(e=>{F(e),!1===O.current&&z(!1),f&&f(e)}),!1),te=(0,QT.A)((e=>{D.current||(D.current=e.currentTarget),L(e),!0===O.current&&(z(!0),b&&b(e)),y&&y(e)})),ne=()=>{const e=D.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},re=r.useRef(!1),oe=(0,QT.A)((e=>{h&&!re.current&&$&&N.current&&" "===e.key&&(re.current=!0,N.current.stop(e,(()=>{N.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),ie=(0,QT.A)((e=>{h&&" "===e.key&&N.current&&$&&!e.defaultPrevented&&(re.current=!1,N.current.stop(e,(()=>{N.current.pulsate(e)}))),x&&x(e),m&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let se=l;"button"===se&&(j.href||j.to)&&(se=p);const ae={};"button"===se?(ae.type=void 0===P?"button":P,ae.disabled=c):(j.href||j.to||(ae.role="button"),c&&(ae["aria-disabled"]=c));const le=(0,YT.A)(t,U,D);const ce=(0,je.A)({},n,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:E,focusVisible:$}),ue=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i={root:["root",t&&"disabled",n&&"focusVisible"]},s=(0,eT.A)(i,CE,o);return n&&r&&(s.root+=` ${r}`),s})(ce);return(0,Ve.jsxs)(EE,(0,je.A)({as:se,className:(0,Ne.A)(ue.root,a),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:G,onFocus:te,onKeyDown:oe,onKeyUp:ie,onMouseDown:q,onMouseLeave:Q,onMouseUp:Y,onDragLeave:K,onTouchEnd:J,onTouchMove:Z,onTouchStart:X,ref:le,tabIndex:c?-1:E,type:P},ae,j,{children:[s,W?(0,Ve.jsx)(SE,(0,je.A)({ref:M,center:i},I)):null]}))})),RE=IE;function PE(e){return(0,iT.Ay)("MuiIconButton",e)}const jE=(0,Ke.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),DE=["edge","children","className","color","disabled","disableFocusRipple","size"],NE=(0,tT.Ay)(RE,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,nT.A)(n.color)}`],n.edge&&t[`edge${(0,nT.A)(n.edge)}`],t[`size${(0,nT.A)(n.size)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,rT.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const o=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,je.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,je.A)({color:null==o?void 0:o.main},!n.disableRipple&&{"&:hover":(0,je.A)({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,rT.X4)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${jE.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),ME=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:i,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium"}=n,u=(0,De.A)(n,DE),d=(0,je.A)({},n,{edge:r,color:s,disabled:a,disableFocusRipple:l,size:c}),h=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e,s={root:["root",n&&"disabled","default"!==r&&`color${(0,nT.A)(r)}`,o&&`edge${(0,nT.A)(o)}`,`size${(0,nT.A)(i)}`]};return(0,eT.A)(s,PE,t)})(d);return(0,Ve.jsx)(NE,(0,je.A)({className:(0,Ne.A)(h.root,i),centerRipple:!0,focusRipple:!l,disabled:a,ref:t},u,{ownerState:d,children:o}))})),OE=ME,LE=e=>{const t=r.useRef({});return r.useEffect((()=>{t.current=e})),t.current},FE=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const UE=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:i=!1}=e,s=(0,De.A)(e,FE),a=i?{}:ET(r,o),{props:l,internalRef:c}=PT((0,je.A)({},s,{externalSlotProps:a})),u=(0,CT.A)(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref);return TT(n,(0,je.A)({},l,{ref:u}),o)};const $E=function(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:o=!1}=e,i=LE({badgeContent:t,max:r});let s=n;!1!==n||0!==t||o||(s=!0);const{badgeContent:a,max:l=r}=s?i:e;return{badgeContent:a,invisible:s,max:l,displayValue:a&&Number(a)>l?`${l}+`:a}};function zE(e){return(0,iT.Ay)("MuiBadge",e)}const BE=(0,Ke.A)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),VE=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],WE=(0,tT.Ay)("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),HE=(0,tT.Ay)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${(0,nT.A)(n.anchorOrigin.vertical)}${(0,nT.A)(n.anchorOrigin.horizontal)}${(0,nT.A)(n.overlap)}`],"default"!==n.color&&t[`color${(0,nT.A)(n.color)}`],n.invisible&&t.invisible]}})((e=>{let{theme:t}=e;var n;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n,r;return(null!=(n=t.vars)?n:t).palette[e].main&&(null!=(r=t.vars)?r:t).palette[e].contrastText})).map((e=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}}))),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${BE.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${BE.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${BE.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${BE.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${BE.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${BE.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${BE.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${BE.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}})),qE=r.forwardRef((function(e,t){var n,r,o,i,s,a;const l=(0,Ze.b)({props:e,name:"MuiBadge"}),{anchorOrigin:c={vertical:"top",horizontal:"right"},className:u,component:d,components:h={},componentsProps:p={},children:f,overlap:m="rectangular",color:g="default",invisible:v=!1,max:y=99,badgeContent:b,slots:w,slotProps:x,showZero:A=!1,variant:_="standard"}=l,S=(0,De.A)(l,VE),{badgeContent:C,invisible:k,max:T,displayValue:E}=$E({max:y,invisible:v,badgeContent:b,showZero:A}),I=LE({anchorOrigin:c,color:g,overlap:m,variant:_,badgeContent:b}),R=k||null==C&&"dot"!==_,{color:P=g,overlap:j=m,anchorOrigin:D=c,variant:N=_}=R?I:l,M="dot"!==N?E:void 0,O=(0,je.A)({},l,{badgeContent:C,invisible:R,max:T,displayValue:M,showZero:A,anchorOrigin:D,color:P,overlap:j,variant:N}),L=(e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:o,variant:i,classes:s={}}=e,a={root:["root"],badge:["badge",i,r&&"invisible",`anchorOrigin${(0,nT.A)(n.vertical)}${(0,nT.A)(n.horizontal)}`,`anchorOrigin${(0,nT.A)(n.vertical)}${(0,nT.A)(n.horizontal)}${(0,nT.A)(o)}`,`overlap${(0,nT.A)(o)}`,"default"!==t&&`color${(0,nT.A)(t)}`]};return(0,eT.A)(a,zE,s)})(O),F=null!=(n=null!=(r=null==w?void 0:w.root)?r:h.Root)?n:WE,U=null!=(o=null!=(i=null==w?void 0:w.badge)?i:h.Badge)?o:HE,$=null!=(s=null==x?void 0:x.root)?s:p.root,z=null!=(a=null==x?void 0:x.badge)?a:p.badge,B=UE({elementType:F,externalSlotProps:$,externalForwardedProps:S,additionalProps:{ref:t,as:d},ownerState:O,className:(0,Ne.A)(null==$?void 0:$.className,L.root,u)}),V=UE({elementType:U,externalSlotProps:z,ownerState:O,className:(0,Ne.A)(L.badge,null==z?void 0:z.className)});return(0,Ve.jsxs)(F,(0,je.A)({},B,{children:[f,(0,Ve.jsx)(U,(0,je.A)({},V,{children:M}))]}))})),GE=qE;var KE=n(5537),YE=n(9608);function QE(e){return(0,iT.Ay)("MuiButton",e)}const XE=(0,Ke.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const JE=r.createContext({});const ZE=r.createContext(void 0),eI=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],tI=e=>(0,je.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),nI=(0,tT.Ay)(RE,{shouldForwardProp:e=>(0,YE.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,nT.A)(n.color)}`],t[`size${(0,nT.A)(n.size)}`],t[`${n.variant}Size${(0,nT.A)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,o;const i="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,je.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,je.A)({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,rT.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,rT.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:`1px solid ${(t.vars||t).palette[n.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,rT.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,je.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${XE.focusVisible}`]:(0,je.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${XE.disabled}`]:(0,je.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[n.color].mainChannel} / 0.5)`:`1px solid ${(0,rT.X4)(t.palette[n.color].main,.5)}`},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(o=t.palette).getContrastText)?void 0:r.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${XE.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${XE.disabled}`]:{boxShadow:"none"}}})),rI=(0,tT.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${(0,nT.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},tI(t))})),oI=(0,tT.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${(0,nT.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},tI(t))})),iI=r.forwardRef((function(e,t){const n=r.useContext(JE),o=r.useContext(ZE),i=(0,KE.A)(n,e),s=(0,Ze.b)({props:i,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:f,focusVisibleClassName:m,fullWidth:g=!1,size:v="medium",startIcon:y,type:b,variant:w="text"}=s,x=(0,De.A)(s,eI),A=(0,je.A)({},s,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:g,size:v,type:b,variant:w}),_=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,classes:s}=e,a={root:["root",i,`${i}${(0,nT.A)(t)}`,`size${(0,nT.A)(o)}`,`${i}Size${(0,nT.A)(o)}`,`color${(0,nT.A)(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,nT.A)(o)}`],endIcon:["icon","endIcon",`iconSize${(0,nT.A)(o)}`]},l=(0,eT.A)(a,QE,s);return(0,je.A)({},s,l)})(A),S=y&&(0,Ve.jsx)(rI,{className:_.startIcon,ownerState:A,children:y}),C=f&&(0,Ve.jsx)(oI,{className:_.endIcon,ownerState:A,children:f}),k=o||"";return(0,Ve.jsxs)(nI,(0,je.A)({ownerState:A,className:(0,Ne.A)(n.className,_.root,u,k),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:(0,Ne.A)(_.focusVisible,m),ref:t,type:b},x,{classes:_,children:[S,a,C]}))})),sI=iI;var aI=n(7402);const lI=r.createContext({});function cI(e){return(0,iT.Ay)("MuiList",e)}(0,Ke.A)("MuiList",["root","padding","dense","subheader"]);const uI=["children","className","component","dense","disablePadding","subheader"],dI=(0,tT.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,je.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),hI=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiList"}),{children:o,className:i,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=n,u=(0,De.A)(n,uI),d=r.useMemo((()=>({dense:a})),[a]),h=(0,je.A)({},n,{component:s,dense:a,disablePadding:l}),p=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e,i={root:["root",!n&&"padding",r&&"dense",o&&"subheader"]};return(0,eT.A)(i,cI,t)})(h);return(0,Ve.jsx)(lI.Provider,{value:d,children:(0,Ve.jsxs)(dI,(0,je.A)({as:s,className:(0,Ne.A)(p.root,i),ref:t,ownerState:h},u,{children:[c,o]}))})})),pI=hI;function fI(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const mI=fI;var gI=n(9044);const vI=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function yI(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function bI(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function wI(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function xI(e,t,n,r,o,i){let s=!1,a=o(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&wI(a,i)&&!t)return a.focus(),!0;a=o(e,a,n)}return!1}const AI=r.forwardRef((function(e,t){const{actions:n,autoFocus:o=!1,autoFocusItem:i=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=(0,De.A)(e,vI),p=r.useRef(null),f=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,gI.A)((()=>{o&&p.current.focus()}),[o]),r.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&r){const t=`${mI((0,aI.A)(e))}px`;p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width=`calc(100% + ${t})`}return p.current}})),[]);const m=(0,YT.A)(p,t);let g=-1;r.Children.forEach(s,((e,t)=>{r.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=t),g===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=s.length&&(g=-1))):g===t&&(g+=1,g>=s.length&&(g=-1))}));const v=r.Children.map(s,((e,t)=>{if(t===g){const t={};return i&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),r.cloneElement(e,t)}return e}));return(0,Ve.jsx)(pI,(0,je.A)({role:"menu",ref:m,className:a,onKeyDown:e=>{const t=p.current,n=e.key,r=(0,aI.A)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),xI(t,r,c,l,yI);else if("ArrowUp"===n)e.preventDefault(),xI(t,r,c,l,bI);else if("Home"===n)e.preventDefault(),xI(t,null,c,l,yI);else if("End"===n)e.preventDefault(),xI(t,null,c,l,bI);else if(1===n.length){const o=f.current,i=n.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(i);const a=r&&!o.repeating&&wI(r,o);o.previousKeyMatched&&(a||xI(t,r,!1,l,yI,o))?e.preventDefault():o.previousKeyMatched=!1}u&&u(e)},tabIndex:o?0:-1},h,{children:v}))})),_I=AI;var SI=n(1209),CI=n(827);function kI(e){var t;return parseInt(r.version,10)>=19?(null==e||null==(t=e.props)?void 0:t.ref)||null:(null==e?void 0:e.ref)||null}const TI=!1;var EI=function(e){return e.scrollTop},II="unmounted",RI="exited",PI="entering",jI="entered",DI="exiting",NI=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=RI,r.appearStatus=PI):o=jI:o=t.unmountOnExit||t.mountOnEnter?II:RI,r.state={status:o},r.nextCallback=null,r}eE(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===II?{status:RI}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==PI&&n!==jI&&(t=PI):n!==PI&&n!==jI||(t=DI)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===PI){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:we.findDOMNode(this);n&&EI(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===RI&&this.setState({status:II})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[we.findDOMNode(this),r],i=o[0],s=o[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||TI?this.safeSetState({status:jI},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:PI},(function(){t.props.onEntering(i,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:jI},(function(){t.props.onEntered(i,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:we.findDOMNode(this);t&&!TI?(this.props.onExit(r),this.safeSetState({status:DI},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:RI},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:RI},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:we.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===II)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,De.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(tE.Provider,{value:null},"function"===typeof n?n(e,o):r.cloneElement(r.Children.only(n),o))},t}(r.Component);function MI(){}NI.contextType=tE,NI.propTypes={},NI.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:MI,onEntering:MI,onEntered:MI,onExit:MI,onExiting:MI,onExited:MI},NI.UNMOUNTED=II,NI.EXITED=RI,NI.ENTERING=PI,NI.ENTERED=jI,NI.EXITING=DI;const OI=NI;function LI(){const e=Be(nt.A);return e[Ge.A]||e}const FI=e=>e.scrollTop;function UI(e,t){var n,r;const{timeout:o,easing:i,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof o?o:o[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof i?i[t.mode]:i,delay:s.transitionDelay}}const $I=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function zI(e){return`scale(${e}, ${e**2})`}const BI={entering:{opacity:1,transform:zI(1)},entered:{opacity:1,transform:"none"}},VI="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),WI=r.forwardRef((function(e,t){const{addEndListener:n,appear:o=!0,children:i,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:g=OI}=e,v=(0,De.A)(e,$I),y=(0,cE.A)(),b=r.useRef(),w=LI(),x=r.useRef(null),A=(0,YT.A)(x,kI(i),t),_=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},S=_(u),C=_(((e,t)=>{FI(e);const{duration:n,delay:r,easing:o}=UI({style:f,timeout:m,easing:s},{mode:"enter"});let i;"auto"===m?(i=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=n,e.style.transition=[w.transitions.create("opacity",{duration:i,delay:r}),w.transitions.create("transform",{duration:VI?i:.666*i,delay:r,easing:o})].join(","),l&&l(e,t)})),k=_(c),T=_(p),E=_((e=>{const{duration:t,delay:n,easing:r}=UI({style:f,timeout:m,easing:s},{mode:"exit"});let o;"auto"===m?(o=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=t,e.style.transition=[w.transitions.create("opacity",{duration:o,delay:n}),w.transitions.create("transform",{duration:VI?o:.666*o,delay:VI?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=zI(.75),d&&d(e)})),I=_(h);return(0,Ve.jsx)(g,(0,je.A)({appear:o,in:a,nodeRef:x,onEnter:C,onEntered:k,onEntering:S,onExit:E,onExited:I,onExiting:T,addEndListener:e=>{"auto"===m&&y.start(b.current||0,e),n&&n(x.current,e)},timeout:"auto"===m?null:m},v,{children:(e,t)=>r.cloneElement(i,(0,je.A)({style:(0,je.A)({opacity:0,transform:zI(.75),visibility:"exited"!==e||a?void 0:"hidden"},BI[e],f,i.props.style),ref:A},t))}))}));WI.muiSupportAuto=!0;const HI=WI;var qI=n(6907);const GI=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function KI(e){const t=[],n=[];return Array.from(e.querySelectorAll(GI)).forEach(((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function YI(){return!0}const QI=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:i=!1,getTabbable:s=KI,isEnabled:a=YI,open:l}=e,c=r.useRef(!1),u=r.useRef(null),d=r.useRef(null),h=r.useRef(null),p=r.useRef(null),f=r.useRef(!1),m=r.useRef(null),g=(0,CT.A)(kI(t),m),v=r.useRef(null);r.useEffect((()=>{l&&m.current&&(f.current=!n)}),[n,l]),r.useEffect((()=>{if(!l||!m.current)return;const e=(0,qI.A)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{i||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),r.useEffect((()=>{if(!l||!m.current)return;const e=(0,qI.A)(m.current),t=t=>{v.current=t,!o&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,i;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(i=v.current)?void 0:i.key)),t=n[0],o=n[n.length-1];"string"!==typeof t&&"string"!==typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,o,i,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,Ve.jsxs)(r.Fragment,{children:[(0,Ve.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),r.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,Ve.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})};var XI=n(1399),JI=n(5587);const ZI=r.forwardRef((function(e,t){const{children:n,container:o,disablePortal:i=!1}=e,[s,a]=r.useState(null),l=(0,CT.A)(r.isValidElement(n)?kI(n):null,t);if((0,XI.A)((()=>{i||a(function(e){return"function"===typeof e?e():e}(o)||document.body)}),[o,i]),(0,XI.A)((()=>{if(s&&!i)return(0,JI.A)(t,s),()=>{(0,JI.A)(t,null)}}),[t,s,i]),i){if(r.isValidElement(n)){const e={ref:l};return r.cloneElement(n,e)}return(0,Ve.jsx)(r.Fragment,{children:n})}return(0,Ve.jsx)(r.Fragment,{children:s?we.createPortal(n,s):s})})),eR=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],tR={entering:{opacity:1},entered:{opacity:1}},nR=r.forwardRef((function(e,t){const n=LI(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:v=o,TransitionComponent:y=OI}=e,b=(0,De.A)(e,eR),w=r.useRef(null),x=(0,YT.A)(w,kI(a),t),A=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},_=A(h),S=A(((e,t)=>{FI(e);const r=UI({style:g,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),C=A(d),k=A(m),T=A((e=>{const t=UI({style:g,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),E=A(f);return(0,Ve.jsx)(y,(0,je.A)({appear:s,in:c,nodeRef:w,onEnter:S,onEntered:C,onEntering:_,onExit:T,onExited:E,onExiting:k,addEndListener:e=>{i&&i(w.current,e)},timeout:v},b,{children:(e,t)=>r.cloneElement(a,(0,je.A)({style:(0,je.A)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},tR[e],g,a.props.style),ref:x},t))}))})),rR=nR;function oR(e){return(0,iT.Ay)("MuiBackdrop",e)}(0,Ke.A)("MuiBackdrop",["root","invisible"]);const iR=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],sR=(0,tT.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,je.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),aR=r.forwardRef((function(e,t){var n,r,o;const i=(0,Ze.b)({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:c={},componentsProps:u={},invisible:d=!1,open:h,slotProps:p={},slots:f={},TransitionComponent:m=rR,transitionDuration:g}=i,v=(0,De.A)(i,iR),y=(0,je.A)({},i,{component:l,invisible:d}),b=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,eT.A)(r,oR,t)})(y),w=null!=(n=p.root)?n:u.root;return(0,Ve.jsx)(m,(0,je.A)({in:h,timeout:g},v,{children:(0,Ve.jsx)(sR,(0,je.A)({"aria-hidden":!0},w,{as:null!=(r=null!=(o=f.root)?o:c.Root)?r:l,className:(0,Ne.A)(b.root,a,null==w?void 0:w.className),ownerState:(0,je.A)({},y,null==w?void 0:w.ownerState),classes:b,ref:t,children:s}))}))})),lR=aR;var cR=n(2529),uR=n(5511),dR=n(8635);function hR(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function pR(e){return parseInt((0,dR.A)(e).getComputedStyle(e).paddingRight,10)||0}function fR(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===i.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&hR(e,o)}))}function mR(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function gR(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,qI.A)(e);return t.body===e?(0,dR.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=fI((0,qI.A)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${pR(r)+e}px`;const t=(0,qI.A)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${pR(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,qI.A)(r).body;else{const t=r.parentElement,n=(0,dR.A)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const vR=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&hR(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);fR(t,e.mount,e.modalRef,r,!0);const o=mR(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=mR(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=gR(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=mR(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&hR(e.modalRef,t),fR(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&hR(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const yR=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,manager:i=vR,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:u,open:d,rootRef:h}=e,p=r.useRef({}),f=r.useRef(null),m=r.useRef(null),g=(0,CT.A)(m,h),[v,y]=r.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const x=()=>(p.current.modalRef=m.current,p.current.mount=f.current,p.current),A=()=>{i.mount(x(),{disableScrollLock:o}),m.current&&(m.current.scrollTop=0)},_=(0,cR.A)((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||(0,qI.A)(f.current).body;i.add(x(),e),m.current&&A()})),S=r.useCallback((()=>i.isTopModal(x())),[i]),C=(0,cR.A)((e=>{f.current=e,e&&(d&&S()?A():m.current&&hR(m.current,w))})),k=r.useCallback((()=>{i.remove(x(),w)}),[w,i]);r.useEffect((()=>()=>{k()}),[k]),r.useEffect((()=>{d?_():b&&s||k()}),[d,k,b,s,_]);const T=e=>t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),"Escape"===t.key&&229!==t.which&&S()&&(n||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},E=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=IT(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,je.A)({},n,t);return(0,je.A)({role:"presentation"},r,{onKeyDown:T(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,je.A)({"aria-hidden":!0},e,{onClick:E(e),open:d})},getTransitionProps:()=>({onEnter:(0,uR.A)((()=>{y(!1),a&&a()}),null==c?void 0:c.props.onEnter),onExited:(0,uR.A)((()=>{y(!0),l&&l(),s&&k()}),null==c?void 0:c.props.onExited)}),rootRef:g,portalRef:C,isTopModal:S,exited:v,hasTransition:b}};function bR(e){return(0,iT.Ay)("MuiModal",e)}(0,Ke.A)("MuiModal",["root","hidden","backdrop"]);const wR=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],xR=(0,tT.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),AR=(0,tT.Ay)(lR,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),_R=r.forwardRef((function(e,t){var n,o,i,s,a,l;const c=(0,Ze.b)({name:"MuiModal",props:e}),{BackdropComponent:u=AR,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:f,container:m,component:g,components:v={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:x=!1,disablePortal:A=!1,disableRestoreFocus:_=!1,disableScrollLock:S=!1,hideBackdrop:C=!1,keepMounted:k=!1,onBackdropClick:T,open:E,slotProps:I,slots:R}=c,P=(0,De.A)(c,wR),j=(0,je.A)({},c,{closeAfterTransition:p,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:x,disablePortal:A,disableRestoreFocus:_,disableScrollLock:S,hideBackdrop:C,keepMounted:k}),{getRootProps:D,getBackdropProps:N,getTransitionProps:M,portalRef:O,isTopModal:L,exited:F,hasTransition:U}=yR((0,je.A)({},j,{rootRef:t})),$=(0,je.A)({},j,{exited:F}),z=(e=>{const{open:t,exited:n,classes:r}=e,o={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,eT.A)(o,bR,r)})($),B={};if(void 0===f.props.tabIndex&&(B.tabIndex="-1"),U){const{onEnter:e,onExited:t}=M();B.onEnter=e,B.onExited=t}const V=null!=(n=null!=(o=null==R?void 0:R.root)?o:v.Root)?n:xR,W=null!=(i=null!=(s=null==R?void 0:R.backdrop)?s:v.Backdrop)?i:u,H=null!=(a=null==I?void 0:I.root)?a:y.root,q=null!=(l=null==I?void 0:I.backdrop)?l:y.backdrop,G=UE({elementType:V,externalSlotProps:H,externalForwardedProps:P,getSlotProps:D,additionalProps:{ref:t,as:g},ownerState:$,className:(0,Ne.A)(h,null==H?void 0:H.className,null==z?void 0:z.root,!$.open&&$.exited&&(null==z?void 0:z.hidden))}),K=UE({elementType:W,externalSlotProps:q,additionalProps:d,getSlotProps:e=>N((0,je.A)({},e,{onClick:t=>{T&&T(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,Ne.A)(null==q?void 0:q.className,null==d?void 0:d.className,null==z?void 0:z.backdrop),ownerState:$});return k||E||U&&!F?(0,Ve.jsx)(ZI,{ref:O,container:m,disablePortal:A,children:(0,Ve.jsxs)(V,(0,je.A)({},G,{children:[!C&&u?(0,Ve.jsx)(W,(0,je.A)({},K)):null,(0,Ve.jsx)(QI,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:_,isEnabled:L,open:E,children:r.cloneElement(f,B)})]}))}):null})),SR=_R;function CR(e){return(0,iT.Ay)("MuiPopover",e)}(0,Ke.A)("MuiPopover",["root","paper"]);const kR=["onEntering"],TR=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ER=["slotProps"];function IR(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function RR(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function PR(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function jR(e){return"function"===typeof e?e():e}const DR=(0,tT.Ay)(SR,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),NR=(0,tT.Ay)(uT,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),MR=r.forwardRef((function(e,t){var n,o,i;const s=(0,Ze.b)({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:f,elevation:m=8,marginThreshold:g=16,open:v,PaperProps:y={},slots:b,slotProps:w,transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:A=HI,transitionDuration:_="auto",TransitionProps:{onEntering:S}={},disableScrollLock:C=!1}=s,k=(0,De.A)(s.TransitionProps,kR),T=(0,De.A)(s,TR),E=null!=(n=null==w?void 0:w.paper)?n:y,I=r.useRef(),R=(0,YT.A)(I,E.ref),P=(0,je.A)({},s,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:E,transformOrigin:x,TransitionComponent:A,transitionDuration:_,TransitionProps:k}),j=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"],paper:["paper"]},CR,t)})(P),D=r.useCallback((()=>{if("anchorPosition"===d)return u;const e=jR(l),t=(e&&1===e.nodeType?e:(0,aI.A)(I.current).body).getBoundingClientRect();return{top:t.top+IR(t,c.vertical),left:t.left+RR(t,c.horizontal)}}),[l,c.horizontal,c.vertical,u,d]),N=r.useCallback((e=>({vertical:IR(e,x.vertical),horizontal:RR(e,x.horizontal)})),[x.horizontal,x.vertical]),M=r.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=N(t);if("none"===d)return{top:null,left:null,transformOrigin:PR(n)};const r=D();let o=r.top-n.vertical,i=r.left-n.horizontal;const s=o+t.height,a=i+t.width,c=(0,CI.A)(jR(l)),u=c.innerHeight-g,h=c.innerWidth-g;if(null!==g&&o<g){const e=o-g;o-=e,n.vertical+=e}else if(null!==g&&s>u){const e=s-u;o-=e,n.vertical+=e}if(null!==g&&i<g){const e=i-g;i-=e,n.horizontal+=e}else if(a>h){const e=a-h;i-=e,n.horizontal+=e}return{top:`${Math.round(o)}px`,left:`${Math.round(i)}px`,transformOrigin:PR(n)}}),[l,d,D,N,g]),[O,L]=r.useState(v),F=r.useCallback((()=>{const e=I.current;if(!e)return;const t=M(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,L(!0)}),[M]);r.useEffect((()=>(C&&window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F))),[l,C,F]);r.useEffect((()=>{v&&F()})),r.useImperativeHandle(a,(()=>v?{updatePosition:()=>{F()}}:null),[v,F]),r.useEffect((()=>{if(!v)return;const e=(0,SI.A)((()=>{F()})),t=(0,CI.A)(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,v,F]);let U=_;"auto"!==_||A.muiSupportAuto||(U=void 0);const $=f||(l?(0,aI.A)(jR(l)).body:void 0),z=null!=(o=null==b?void 0:b.root)?o:DR,B=null!=(i=null==b?void 0:b.paper)?i:NR,V=UE({elementType:B,externalSlotProps:(0,je.A)({},E,{style:O?E.style:(0,je.A)({},E.style,{opacity:0})}),additionalProps:{elevation:m,ref:R},ownerState:P,className:(0,Ne.A)(j.paper,null==E?void 0:E.className)}),W=UE({elementType:z,externalSlotProps:(null==w?void 0:w.root)||{},externalForwardedProps:T,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:$,open:v},ownerState:P,className:(0,Ne.A)(j.root,p)}),{slotProps:H}=W,q=(0,De.A)(W,ER);return(0,Ve.jsx)(z,(0,je.A)({},q,!kT(z)&&{slotProps:H,disableScrollLock:C},{children:(0,Ve.jsx)(A,(0,je.A)({appear:!0,in:v,onEntering:(e,t)=>{S&&S(e,t),F()},onExited:()=>{L(!1)},timeout:U},k,{children:(0,Ve.jsx)(B,(0,je.A)({},V,{children:h}))}))}))})),OR=MR;function LR(e){return(0,iT.Ay)("MuiMenu",e)}(0,Ke.A)("MuiMenu",["root","paper","list"]);const FR=["onEntering"],UR=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],$R={vertical:"top",horizontal:"right"},zR={vertical:"top",horizontal:"left"},BR=(0,tT.Ay)(OR,{shouldForwardProp:e=>(0,YE.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),VR=(0,tT.Ay)(NR,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),WR=(0,tT.Ay)(_I,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),HR=r.forwardRef((function(e,t){var n,o;const i=(0,Ze.b)({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:f,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:y={},slotProps:b={}}=i,w=(0,De.A)(i.TransitionProps,FR),x=(0,De.A)(i,UR),A=Wk(),_=(0,je.A)({},i,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:p,transitionDuration:m,TransitionProps:w,variant:v}),S=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"],paper:["paper"],list:["list"]},LR,t)})(_),C=s&&!c&&h,k=r.useRef(null);let T=-1;r.Children.map(a,((e,t)=>{r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===T)&&(T=t))}));const E=null!=(n=y.paper)?n:VR,I=null!=(o=b.paper)?o:p,R=UE({elementType:y.root,externalSlotProps:b.root,ownerState:_,className:[S.root,l]}),P=UE({elementType:E,externalSlotProps:I,ownerState:_,className:S.paper});return(0,Ve.jsx)(BR,(0,je.A)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?$R:zR,slots:{paper:E,root:y.root},slotProps:{root:R,paper:P},open:h,ref:t,transitionDuration:m,TransitionProps:(0,je.A)({onEntering:(e,t)=>{k.current&&k.current.adjustStyleForScrollbar(e,{direction:A?"rtl":"ltr"}),g&&g(e,t)}},w),ownerState:_},x,{classes:f,children:(0,Ve.jsx)(WR,(0,je.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:k,autoFocus:s&&(-1===T||c),autoFocusItem:C,variant:v},u,{className:(0,Ne.A)(S.list,u.className),children:a}))}))})),qR=HR;function GR(e){return(0,iT.Ay)("MuiDivider",e)}const KR=(0,Ke.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function YR(e){return(0,iT.Ay)("MuiListItemIcon",e)}const QR=(0,Ke.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);function XR(e){return(0,iT.Ay)("MuiListItemText",e)}const JR=(0,Ke.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function ZR(e){return(0,iT.Ay)("MuiMenuItem",e)}const eP=(0,Ke.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),tP=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],nP=(0,tT.Ay)(RE,{shouldForwardProp:e=>(0,YE.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${eP.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,rT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${eP.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,rT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${eP.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,rT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,rT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${eP.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${eP.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${KR.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${KR.inset}`]:{marginLeft:52},[`& .${JR.root}`]:{marginTop:0,marginBottom:0},[`& .${JR.inset}`]:{paddingLeft:36},[`& .${QR.root}`]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,je.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${QR.root} svg`]:{fontSize:"1.25rem"}}))})),rP=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=n,p=(0,De.A)(n,tP),f=r.useContext(lI),m=r.useMemo((()=>({dense:s||f.dense||!1,disableGutters:l})),[f.dense,s,l]),g=r.useRef(null);(0,gI.A)((()=>{o&&g.current&&g.current.focus()}),[o]);const v=(0,je.A)({},n,{dense:m.dense,divider:a,disableGutters:l}),y=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:s}=e,a={root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},l=(0,eT.A)(a,ZR,s);return(0,je.A)({},s,l)})(n),b=(0,YT.A)(g,t);let w;return n.disabled||(w=void 0!==d?d:-1),(0,Ve.jsx)(lI.Provider,{value:m,children:(0,Ve.jsx)(nP,(0,je.A)({ref:b,role:u,tabIndex:w,component:i,focusVisibleClassName:(0,Ne.A)(y.focusVisible,c),className:(0,Ne.A)(y.root,h)},p,{ownerState:v,classes:y}))})})),oP=rP,iP=["className"],sP=(0,tT.Ay)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),aP=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiListItemIcon"}),{className:o}=n,i=(0,De.A)(n,iP),s=r.useContext(lI),a=(0,je.A)({},n,{alignItems:s.alignItems}),l=(e=>{const{alignItems:t,classes:n}=e,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,eT.A)(r,YR,n)})(a);return(0,Ve.jsx)(sP,(0,je.A)({className:(0,Ne.A)(l.root,o),ownerState:a,ref:t},i))})),lP=aP,cP=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],uP=(0,tT.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${JR.primary}`]:t.primary},{[`& .${JR.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,je.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),dP=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiListItemText"}),{children:o,className:i,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=n,h=(0,De.A)(n,cP),{dense:p}=r.useContext(lI);let f=null!=l?l:o,m=u;const g=(0,je.A)({},n,{disableTypography:s,inset:a,primary:!!f,secondary:!!m,dense:p}),v=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e,s={root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,eT.A)(s,XR,t)})(g);return null==f||f.type===KT||s||(f=(0,Ve.jsx)(KT,(0,je.A)({variant:p?"body2":"body1",className:v.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:f}))),null==m||m.type===KT||s||(m=(0,Ve.jsx)(KT,(0,je.A)({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},d,{children:m}))),(0,Ve.jsxs)(uP,(0,je.A)({className:(0,Ne.A)(v.root,i),ownerState:g,ref:t},h,{children:[f,m]}))})),hP=dP,pP=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],fP=(0,tT.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:(0,rT.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{ownerState:t}=e;return(0,je.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}})}),(e=>{let{ownerState:t}=e;return(0,je.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),mP=(0,tT.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},"vertical"===n.orientation&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})})),gP=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:i,component:s=(o?"div":"hr"),flexItem:a=!1,light:l=!1,orientation:c="horizontal",role:u=("hr"!==s?"separator":void 0),textAlign:d="center",variant:h="fullWidth"}=n,p=(0,De.A)(n,pP),f=(0,je.A)({},n,{absolute:r,component:s,flexItem:a,light:l,orientation:c,role:u,textAlign:d,variant:h}),m=(e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:s,textAlign:a,variant:l}=e,c={root:["root",t&&"absolute",l,i&&"light","vertical"===s&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]};return(0,eT.A)(c,GR,r)})(f);return(0,Ve.jsx)(fP,(0,je.A)({as:s,className:(0,Ne.A)(m.root,i),role:u,ref:t,ownerState:f},p,{children:o?(0,Ve.jsx)(mP,{className:m.wrapper,ownerState:f,children:o}):null}))}));gP.muiSkipListHighlight=!0;const vP=gP,yP=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),bP=(0,AT.A)((0,Ve.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),wP=(0,AT.A)((0,Ve.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),xP=(0,AT.A)((0,Ve.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),AP=()=>{const e=Z(),[t,n]=(0,r.useState)(null),{currentUser:o,logout:i}=jk(),{unreadCount:s}=Lk(),a=()=>{n(null)};return(0,Ve.jsx)(Ve.Fragment,{children:(0,Ve.jsx)(gT,{position:"static",elevation:0,sx:{backgroundColor:"transparent",backgroundImage:"none",boxShadow:"none",borderBottom:"none",padding:"0 24px"},children:(0,Ve.jsxs)(xT,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 0",minHeight:"auto"},disableGutters:!0,children:[(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:3},children:[(0,Ve.jsx)(zT,{src:"/logo.png",alt:"Side Eye",sx:{width:40,height:40,cursor:"pointer","&:hover":{opacity:.8}},onClick:()=>e("/")}),(0,Ve.jsx)(KT,{variant:"h5",component:"div",sx:{fontWeight:"bold",cursor:"pointer",color:"primary.main","&:hover":{opacity:.8}},onClick:()=>e("/"),children:"SideEye"})]}),(0,Ve.jsx)(Je,{sx:{display:"flex",alignItems:"center",gap:2},children:o?(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(OE,{color:s>0?"error":"inherit",onClick:()=>e("/notifications"),sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,Ve.jsx)(GE,{badgeContent:s,color:"error",children:(0,Ve.jsx)(yP,{})})}),(0,Ve.jsx)(OE,{color:"inherit",onClick:e=>{n(e.currentTarget)},sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:(0,Ve.jsx)(bP,{})})]}):(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(sI,{color:"inherit",onClick:()=>e("/login"),sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:"Login"}),(0,Ve.jsx)(sI,{color:"inherit",onClick:()=>e("/register"),sx:{color:"text.primary","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:"Register"})]})}),(0,Ve.jsxs)(qR,{anchorEl:t,open:Boolean(t),onClose:a,sx:{"& .MuiPaper-root":{borderRadius:2,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",minWidth:200,border:"none"}},children:[(0,Ve.jsxs)(oP,{onClick:()=>{return t="/settings",a(),void setTimeout((()=>{e(t,{replace:!0})}),50);var t},children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(wP,{})}),(0,Ve.jsx)(hP,{primary:"Settings"})]}),(0,Ve.jsx)(vP,{}),(0,Ve.jsxs)(oP,{onClick:async()=>{await i(),a()},children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(xP,{})}),(0,Ve.jsx)(hP,{children:"Logout"})]})]})]})})})};var _P=n(5501);function SP(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,KE.A)(t.components[n].defaultProps,r):r}function CP(e){let{props:t,name:n,defaultTheme:r,themeId:o}=e,i=Be(r);o&&(i=i[o]||i);return SP({theme:i,name:n,props:t})}var kP=n(7483);const TP=["ownerState"],EP=["variants"],IP=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function RP(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const PP=(0,Fe.A)(),jP=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function DP(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function NP(e){return e?(t,n)=>n[e]:null}function MP(e,t){let{ownerState:n}=t,r=(0,De.A)(t,TP);const o="function"===typeof e?e((0,je.A)({ownerState:n},r)):e;if(Array.isArray(o))return o.flatMap((e=>MP(e,(0,je.A)({ownerState:n},r))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,De.A)(o,EP);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,je.A)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,je.A)({ownerState:n},r,n)):e.style))})),t}return o}const OP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=PP,rootShouldForwardProp:r=RP,slotShouldForwardProp:o=RP}=e,i=e=>(0,Oe.A)((0,je.A)({},e,{theme:DP((0,je.A)({},e,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Me.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:d=NP(jP(l))}=s,h=(0,De.A)(s,IP),p=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,f=u||!1;let m=RP;"Root"===l||"root"===l?m=r:l?m=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=(0,Me.default)(e,(0,je.A)({shouldForwardProp:m,label:undefined},h)),v=e=>"function"===typeof e&&e.__emotion_real!==e||(0,kP.Q)(e)?r=>MP(e,(0,je.A)({},r,{theme:DP({theme:r.theme,defaultTheme:n,themeId:t})})):e,y=function(r){let o=v(r);for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];const u=l?l.map(v):[];a&&d&&u.push((e=>{const r=DP((0,je.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[a]||!r.components[a].styleOverrides)return null;const o=r.components[a].styleOverrides,i={};return Object.entries(o).forEach((t=>{let[n,o]=t;i[n]=MP(o,(0,je.A)({},e,{theme:r}))})),d(e,i)})),a&&!p&&u.push((e=>{var r;const o=DP((0,je.A)({},e,{defaultTheme:n,themeId:t}));return MP({variants:null==o||null==(r=o.components)||null==(r=r[a])?void 0:r.variants},(0,je.A)({},e,{theme:o}))})),f||u.push(i);const h=u.length-l.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const m=g(o,...u);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(y.withConfig=g.withConfig),y}}(),LP=OP,FP=["className","component","disableGutters","fixed","maxWidth","classes"],UP=(0,Fe.A)(),$P=LP("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,_P.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),zP=e=>CP({props:e,name:"MuiContainer",defaultTheme:UP});const BP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=$P,useThemeProps:n=zP,componentName:o="MuiContainer"}=e,i=t((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:`${o}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`}})})),s=r.forwardRef((function(e,t){const r=n(e),{className:s,component:a="div",disableGutters:l=!1,fixed:c=!1,maxWidth:u="lg"}=r,d=(0,De.A)(r,FP),h=(0,je.A)({},r,{component:a,disableGutters:l,fixed:c,maxWidth:u}),p=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:i}=e,s={root:["root",i&&`maxWidth${(0,_P.A)(String(i))}`,r&&"fixed",o&&"disableGutters"]};return(0,eT.A)(s,(e=>(0,iT.Ay)(t,e)),n)})(h,o);return(0,Ve.jsx)(i,(0,je.A)({as:a,ownerState:h,className:(0,Ne.A)(p.root,s),ref:t},d))}));return s}({createStyledComponent:(0,tT.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,nT.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,Ze.b)({props:e,name:"MuiContainer"})}),VP=BP;var WP=n(3539),HP=n(8099),qP=n(1927);const GP=["onChange","maxRows","minRows","style","value"];function KP(e){return parseInt(e,10)||0}const YP={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function QP(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const XP=r.forwardRef((function(e,t){const{onChange:n,maxRows:o,minRows:i=1,style:s,value:a}=e,l=(0,De.A)(e,GP),{current:c}=r.useRef(null!=a),u=r.useRef(null),d=(0,CT.A)(t,u),h=r.useRef(null),p=r.useRef(null),f=r.useCallback((()=>{const t=u.current,n=p.current;if(!t||!n)return;const r=(0,dR.A)(t).getComputedStyle(t);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const s=r.boxSizing,a=KP(r.paddingBottom)+KP(r.paddingTop),l=KP(r.borderBottomWidth)+KP(r.borderTopWidth),c=n.scrollHeight;n.value="x";const d=n.scrollHeight;let h=c;i&&(h=Math.max(Number(i)*d,h)),o&&(h=Math.min(Number(o)*d,h)),h=Math.max(h,d);return{outerHeightStyle:h+("border-box"===s?a+l:0),overflowing:Math.abs(h-c)<=1}}),[o,i,e.placeholder]),m=(0,cR.A)((()=>{const e=u.current,t=f();if(!e||!t||QP(t))return!1;const n=t.outerHeightStyle;return null!=h.current&&h.current!==n})),g=r.useCallback((()=>{const e=u.current,t=f();if(!e||!t||QP(t))return;const n=t.outerHeightStyle;h.current!==n&&(h.current=n,e.style.height=`${n}px`),e.style.overflow=t.overflowing?"hidden":""}),[f]),v=r.useRef(-1);(0,XI.A)((()=>{const e=(0,qP.A)(g),t=null==u?void 0:u.current;if(!t)return;const n=(0,dR.A)(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver((()=>{m()&&(r.unobserve(t),cancelAnimationFrame(v.current),g(),v.current=requestAnimationFrame((()=>{r.observe(t)})))})),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(v.current),n.removeEventListener("resize",e),r&&r.disconnect()}}),[f,g,m]),(0,XI.A)((()=>{g()}));return(0,Ve.jsxs)(r.Fragment,{children:[(0,Ve.jsx)("textarea",(0,je.A)({value:a,onChange:e=>{c||g(),n&&n(e)},ref:d,rows:i,style:s},l)),(0,Ve.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:(0,je.A)({},YP,s,{paddingTop:0,paddingBottom:0})})]})})),JP=XP;function ZP(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const ej=r.createContext(void 0);function tj(){return r.useContext(ej)}function nj(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function rj(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(nj(e.value)&&""!==e.value||t&&nj(e.defaultValue)&&""!==e.defaultValue)}function oj(e){return(0,iT.Ay)("MuiInputBase",e)}const ij=(0,Ke.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),sj=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],aj=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${(0,nT.A)(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},lj=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},cj=(0,tT.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:aj})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ij.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,je.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),uj=(0,tT.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:lj})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,o=(0,je.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,je.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ij.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${ij.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),dj=(0,Ve.jsx)(rt,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),hj=r.forwardRef((function(e,t){var n;const o=(0,Ze.b)({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,fullWidth:m=!1,id:g,inputComponent:v="input",inputProps:y={},inputRef:b,maxRows:w,minRows:x,multiline:A=!1,name:_,onBlur:S,onChange:C,onClick:k,onFocus:T,onKeyDown:E,onKeyUp:I,placeholder:R,readOnly:P,renderSuffix:j,rows:D,slotProps:N={},slots:M={},startAdornment:O,type:L="text",value:F}=o,U=(0,De.A)(o,sj),$=null!=y.value?y.value:F,{current:z}=r.useRef(null!=$),B=r.useRef(),V=r.useCallback((e=>{0}),[]),W=(0,YT.A)(B,b,y.ref,V),[H,q]=r.useState(!1),G=tj();const K=ZP({props:o,muiFormControl:G,states:["color","disabled","error","hiddenLabel","size","required","filled"]});K.focused=G?G.focused:H,r.useEffect((()=>{!G&&h&&H&&(q(!1),S&&S())}),[G,h,H,S]);const Y=G&&G.onFilled,Q=G&&G.onEmpty,X=r.useCallback((e=>{rj(e)?Y&&Y():Q&&Q()}),[Y,Q]);(0,gI.A)((()=>{z&&X({value:$})}),[$,X,z]);r.useEffect((()=>{X(B.current)}),[]);let J=v,Z=y;A&&"input"===J&&(Z=D?(0,je.A)({type:void 0,minRows:D,maxRows:D},Z):(0,je.A)({type:void 0,maxRows:w,minRows:x},Z),J=JP);r.useEffect((()=>{G&&G.setAdornedStart(Boolean(O))}),[G,O]);const ee=(0,je.A)({},o,{color:K.color||"primary",disabled:K.disabled,endAdornment:f,error:K.error,focused:K.focused,formControl:G,fullWidth:m,hiddenLabel:K.hiddenLabel,multiline:A,size:K.size,startAdornment:O,type:L}),te=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e,m={root:["root",`color${(0,nT.A)(n)}`,r&&"disabled",o&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&`size${(0,nT.A)(h)}`,u&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return(0,eT.A)(m,oj,t)})(ee),ne=M.root||c.Root||cj,re=N.root||u.root||{},oe=M.input||c.Input||uj;return Z=(0,je.A)({},Z,null!=(n=N.input)?n:u.input),(0,Ve.jsxs)(r.Fragment,{children:[!p&&dj,(0,Ve.jsxs)(ne,(0,je.A)({},re,!kT(ne)&&{ownerState:(0,je.A)({},ee,re.ownerState)},{ref:t,onClick:e=>{B.current&&e.currentTarget===e.target&&B.current.focus(),k&&k(e)}},U,{className:(0,Ne.A)(te.root,re.className,l,P&&"MuiInputBase-readOnly"),children:[O,(0,Ve.jsx)(ej.Provider,{value:null,children:(0,Ve.jsx)(oe,(0,je.A)({ownerState:ee,"aria-invalid":K.error,"aria-describedby":i,autoComplete:s,autoFocus:a,defaultValue:d,disabled:K.disabled,id:g,onAnimationStart:e=>{X("mui-auto-fill-cancel"===e.animationName?B.current:{value:"x"})},name:_,placeholder:R,readOnly:P,required:K.required,rows:D,value:$,onKeyDown:E,onKeyUp:I,type:L},Z,!kT(oe)&&{as:J,ownerState:(0,je.A)({},ee,Z.ownerState)},{ref:W,className:(0,Ne.A)(te.input,Z.className,P&&"MuiInputBase-readOnly"),onBlur:e=>{S&&S(e),y.onBlur&&y.onBlur(e),G&&G.onBlur?G.onBlur(e):q(!1)},onChange:function(e){if(!z){const t=e.target||B.current;if(null==t)throw new Error((0,HP.A)(1));X({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.onChange&&y.onChange(e,...n),C&&C(e,...n)},onFocus:e=>{K.disabled?e.stopPropagation():(T&&T(e),y.onFocus&&y.onFocus(e),G&&G.onFocus?G.onFocus(e):q(!0))}}))}),f,j?j((0,je.A)({},K,{startAdornment:O})):null]}))]})})),pj=hj;function fj(e){return(0,iT.Ay)("MuiInput",e)}const mj=(0,je.A)({},ij,(0,Ke.A)("MuiInput",["root","underline","input"])),gj=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],vj=(0,tT.Ay)(cj,{shouldForwardProp:e=>(0,YE.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...aj(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),(0,je.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${mj.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${mj.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${mj.disabled}, .${mj.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${mj.disabled}:before`]:{borderBottomStyle:"dotted"}})})),yj=(0,tT.Ay)(uj,{name:"MuiInput",slot:"Input",overridesResolver:lj})({}),bj=r.forwardRef((function(e,t){var n,r,o,i;const s=(0,Ze.b)({props:e,name:"MuiInput"}),{disableUnderline:a,components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:f={},type:m="text"}=s,g=(0,De.A)(s,gj),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,eT.A)(r,fj,t);return(0,je.A)({},t,o)})(s),y={root:{ownerState:{disableUnderline:a}}},b=(null!=p?p:c)?(0,kP.A)(null!=p?p:c,y):y,w=null!=(n=null!=(r=f.root)?r:l.Root)?n:vj,x=null!=(o=null!=(i=f.input)?i:l.Input)?o:yj;return(0,Ve.jsx)(pj,(0,je.A)({slots:{root:w,input:x},slotProps:b,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:m},g,{classes:v}))}));bj.muiName="Input";const wj=bj;function xj(e){return(0,iT.Ay)("MuiFilledInput",e)}const Aj=(0,je.A)({},ij,(0,Ke.A)("MuiFilledInput",["root","underline","input"])),_j=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Sj=(0,tT.Ay)(cj,{shouldForwardProp:e=>(0,YE.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...aj(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const o="light"===t.palette.mode,i=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,je.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Aj.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Aj.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Aj.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Aj.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Aj.disabled}, .${Aj.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Aj.disabled}:before`]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,je.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),Cj=(0,tT.Ay)(uj,{name:"MuiFilledInput",slot:"Input",overridesResolver:lj})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),kj=r.forwardRef((function(e,t){var n,r,o,i;const s=(0,Ze.b)({props:e,name:"MuiFilledInput"}),{components:a={},componentsProps:l,fullWidth:c=!1,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:p={},type:f="text"}=s,m=(0,De.A)(s,_j),g=(0,je.A)({},s,{fullWidth:c,inputComponent:u,multiline:d,type:f}),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,eT.A)(r,xj,t);return(0,je.A)({},t,o)})(s),y={root:{ownerState:g},input:{ownerState:g}},b=(null!=h?h:l)?(0,kP.A)(y,null!=h?h:l):y,w=null!=(n=null!=(r=p.root)?r:a.Root)?n:Sj,x=null!=(o=null!=(i=p.input)?i:a.Input)?o:Cj;return(0,Ve.jsx)(pj,(0,je.A)({slots:{root:w,input:x},componentsProps:b,fullWidth:c,inputComponent:u,multiline:d,ref:t,type:f},m,{classes:v}))}));kj.muiName="Input";const Tj=kj;var Ej;const Ij=["children","classes","className","label","notched"],Rj=(0,tT.Ay)("fieldset",{shouldForwardProp:YE.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Pj=(0,tT.Ay)("legend",{shouldForwardProp:YE.A})((e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,je.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function jj(e){return(0,iT.Ay)("MuiOutlinedInput",e)}const Dj=(0,je.A)({},ij,(0,Ke.A)("MuiOutlinedInput",["root","notchedOutline","input"])),Nj=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Mj=(0,tT.Ay)(cj,{shouldForwardProp:e=>(0,YE.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:aj})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,je.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Dj.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Dj.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Dj.focused} .${Dj.notchedOutline}`]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},[`&.${Dj.error} .${Dj.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Dj.disabled} .${Dj.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,je.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),Oj=(0,tT.Ay)((function(e){const{className:t,label:n,notched:r}=e,o=(0,De.A)(e,Ij),i=null!=n&&""!==n,s=(0,je.A)({},e,{notched:r,withLabel:i});return(0,Ve.jsx)(Rj,(0,je.A)({"aria-hidden":!0,className:t,ownerState:s},o,{children:(0,Ve.jsx)(Pj,{ownerState:s,children:i?(0,Ve.jsx)("span",{children:n}):Ej||(Ej=(0,Ve.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}})),Lj=(0,tT.Ay)(uj,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:lj})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Fj=r.forwardRef((function(e,t){var n,o,i,s,a;const l=(0,Ze.b)({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:f,slots:m={},type:g="text"}=l,v=(0,De.A)(l,Nj),y=(e=>{const{classes:t}=e,n=(0,eT.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},jj,t);return(0,je.A)({},t,n)})(l),b=tj(),w=ZP({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x=(0,je.A)({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:b,fullWidth:u,hiddenLabel:w.hiddenLabel,multiline:p,size:w.size,type:g}),A=null!=(n=null!=(o=m.root)?o:c.Root)?n:Mj,_=null!=(i=null!=(s=m.input)?s:c.Input)?i:Lj;return(0,Ve.jsx)(pj,(0,je.A)({slots:{root:A,input:_},renderSuffix:e=>(0,Ve.jsx)(Oj,{ownerState:x,className:y.notchedOutline,label:null!=h&&""!==h&&w.required?a||(a=(0,Ve.jsxs)(r.Fragment,{children:[h,"\u2009","*"]})):h,notched:"undefined"!==typeof f?f:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:t,type:g},v,{classes:(0,je.A)({},y,{notchedOutline:null})}))}));Fj.muiName="Input";const Uj=Fj;function $j(e){return(0,iT.Ay)("MuiFormLabel",e)}const zj=(0,Ke.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Bj=["children","className","color","component","disabled","error","filled","focused","required"],Vj=(0,tT.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,je.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${zj.focused}`]:{color:(t.vars||t).palette[n.color].main},[`&.${zj.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${zj.error}`]:{color:(t.vars||t).palette.error.main}})})),Wj=(0,tT.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${zj.error}`]:{color:(t.vars||t).palette.error.main}}})),Hj=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiFormLabel"}),{children:r,className:o,component:i="label"}=n,s=(0,De.A)(n,Bj),a=ZP({props:n,muiFormControl:tj(),states:["color","required","focused","disabled","error","filled"]}),l=(0,je.A)({},n,{color:a.color||"primary",component:i,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:s,required:a}=e,l={root:["root",`color${(0,nT.A)(n)}`,o&&"disabled",i&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return(0,eT.A)(l,$j,t)})(l);return(0,Ve.jsxs)(Vj,(0,je.A)({as:i,ownerState:l,className:(0,Ne.A)(c.root,o),ref:t},s,{children:[r,a.required&&(0,Ve.jsxs)(Wj,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),qj=Hj;function Gj(e){return(0,iT.Ay)("MuiInputLabel",e)}(0,Ke.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Kj=["disableAnimation","margin","shrink","variant","className"],Yj=(0,tT.Ay)(qj,{shouldForwardProp:e=>(0,YE.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${zj.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,je.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,je.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,je.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Qj=r.forwardRef((function(e,t){const n=(0,Ze.b)({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:o,className:i}=n,s=(0,De.A)(n,Kj),a=tj();let l=o;"undefined"===typeof l&&a&&(l=a.filled||a.focused||a.adornedStart);const c=ZP({props:n,muiFormControl:a,states:["size","variant","required","focused"]}),u=(0,je.A)({},n,{disableAnimation:r,formControl:a,shrink:l,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),d=(e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:i,variant:s,required:a}=e,l={root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&"normal"!==r&&`size${(0,nT.A)(r)}`,s],asterisk:[a&&"asterisk"]},c=(0,eT.A)(l,Gj,t);return(0,je.A)({},t,c)})(u);return(0,Ve.jsx)(Yj,(0,je.A)({"data-shrink":l,ownerState:u,ref:t,className:(0,Ne.A)(d.root,i)},s,{classes:d}))})),Xj=Qj;var Jj=n(3828);function Zj(e){return(0,iT.Ay)("MuiFormControl",e)}(0,Ke.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const eD=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],tD=(0,tT.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,je.A)({},t.root,t[`margin${(0,nT.A)(n.margin)}`],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),nD=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiFormControl"}),{children:o,className:i,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:m="medium",variant:g="outlined"}=n,v=(0,De.A)(n,eD),y=(0,je.A)({},n,{color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:m,variant:g}),b=(e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root","none"!==n&&`margin${(0,nT.A)(n)}`,r&&"fullWidth"]};return(0,eT.A)(o,Zj,t)})(y),[w,x]=r.useState((()=>{let e=!1;return o&&r.Children.forEach(o,(t=>{if(!(0,Jj.A)(t,["Input","Select"]))return;const n=(0,Jj.A)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[A,_]=r.useState((()=>{let e=!1;return o&&r.Children.forEach(o,(t=>{(0,Jj.A)(t,["Input","Select"])&&(rj(t.props,!0)||rj(t.props.inputProps,!0))&&(e=!0)})),e})),[S,C]=r.useState(!1);l&&S&&C(!1);const k=void 0===u||l?S:u;let T;const E=r.useMemo((()=>({adornedStart:w,setAdornedStart:x,color:s,disabled:l,error:c,filled:A,focused:k,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{C(!1)},onEmpty:()=>{_(!1)},onFilled:()=>{_(!0)},onFocus:()=>{C(!0)},registerEffect:T,required:f,variant:g})),[w,s,l,c,A,k,d,h,T,f,m,g]);return(0,Ve.jsx)(ej.Provider,{value:E,children:(0,Ve.jsx)(tD,(0,je.A)({as:a,ownerState:y,className:(0,Ne.A)(b.root,i),ref:t},v,{children:o}))})})),rD=nD;function oD(e){return(0,iT.Ay)("MuiFormHelperText",e)}const iD=(0,Ke.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var sD;const aD=["children","className","component","disabled","error","filled","focused","margin","required","variant"],lD=(0,tT.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${(0,nT.A)(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${iD.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${iD.error}`]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),cD=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:i="p"}=n,s=(0,De.A)(n,aD),a=ZP({props:n,muiFormControl:tj(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,je.A)({},n,{component:i,contained:"filled"===a.variant||"outlined"===a.variant,variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:s,focused:a,required:l}=e,c={root:["root",o&&"disabled",i&&"error",r&&`size${(0,nT.A)(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return(0,eT.A)(c,oD,t)})(l);return(0,Ve.jsx)(lD,(0,je.A)({as:i,ownerState:l,className:(0,Ne.A)(c.root,o),ref:t},s,{children:" "===r?sD||(sD=(0,Ve.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),uD=cD;function dD(e){return(0,iT.Ay)("MuiNativeSelect",e)}const hD=(0,Ke.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),pD=["className","disabled","error","IconComponent","inputRef","variant"],fD=e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,je.A)({},n.vars?{backgroundColor:`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${hD.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},mD=(0,tT.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:YE.A,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${hD.multiple}`]:t.multiple}]}})(fD),gD=e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${hD.disabled}`]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},vD=(0,tT.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,nT.A)(n.variant)}`],n.open&&t.iconOpen]}})(gD),yD=r.forwardRef((function(e,t){const{className:n,disabled:o,error:i,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=(0,De.A)(e,pD),u=(0,je.A)({},e,{disabled:o,variant:l,error:i}),d=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${(0,nT.A)(n)}`,i&&"iconOpen",r&&"disabled"]};return(0,eT.A)(a,dD,t)})(u);return(0,Ve.jsxs)(r.Fragment,{children:[(0,Ve.jsx)(mD,(0,je.A)({ownerState:u,className:(0,Ne.A)(d.select,n),disabled:o,ref:a||t},c)),e.multiple?null:(0,Ve.jsx)(vD,{as:s,ownerState:u,className:d.icon})]})})),bD=yD;var wD=n(1960),xD=n(8733);function AD(e){return(0,iT.Ay)("MuiSelect",e)}const _D=(0,Ke.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var SD;const CD=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],kD=(0,tT.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${_D.select}`]:t.select},{[`&.${_D.select}`]:t[n.variant]},{[`&.${_D.error}`]:t.error},{[`&.${_D.multiple}`]:t.multiple}]}})(fD,{[`&.${_D.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),TD=(0,tT.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,nT.A)(n.variant)}`],n.open&&t.iconOpen]}})(gD),ED=(0,tT.Ay)("input",{shouldForwardProp:e=>(0,wD.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ID(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function RD(e){return null==e||"string"===typeof e&&!e.trim()}const PD=r.forwardRef((function(e,t){var n;const{"aria-describedby":o,"aria-label":i,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:f=!1,IconComponent:m,inputRef:g,labelId:v,MenuProps:y={},multiple:b,name:w,onBlur:x,onChange:A,onClose:_,onFocus:S,onOpen:C,open:k,readOnly:T,renderValue:E,SelectDisplayProps:I={},tabIndex:R,value:P,variant:j="standard"}=e,D=(0,De.A)(e,CD),[N,M]=(0,xD.A)({controlled:P,default:d,name:"Select"}),[O,L]=(0,xD.A)({controlled:k,default:u,name:"Select"}),F=r.useRef(null),U=r.useRef(null),[$,z]=r.useState(null),{current:B}=r.useRef(null!=k),[V,W]=r.useState(),H=(0,YT.A)(t,g),q=r.useCallback((e=>{U.current=e,e&&z(e)}),[]),G=null==$?void 0:$.parentNode;r.useImperativeHandle(H,(()=>({focus:()=>{U.current.focus()},node:F.current,value:N})),[N]),r.useEffect((()=>{u&&O&&$&&!B&&(W(a?null:G.clientWidth),U.current.focus())}),[$,a]),r.useEffect((()=>{s&&U.current.focus()}),[s]),r.useEffect((()=>{if(!v)return;const e=(0,aI.A)(U.current).getElementById(v);if(e){const t=()=>{getSelection().isCollapsed&&U.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[v]);const K=(e,t)=>{e?C&&C(t):_&&_(t),B||(W(a?null:G.clientWidth),L(e))},Y=r.Children.toArray(l),Q=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(N)?N.slice():[];const t=N.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),N!==n&&(M(n),A)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:w}}),A(o,e)}b||K(!1,t)}},X=null!==$&&O;let J,Z;delete D["aria-invalid"];const ee=[];let te=!1,ne=!1;(rj({value:N})||p)&&(E?J=E(N):te=!0);const re=Y.map((e=>{if(!r.isValidElement(e))return null;let t;if(b){if(!Array.isArray(N))throw new Error((0,HP.A)(2));t=N.some((t=>ID(t,e.props.value))),t&&te&&ee.push(e.props.children)}else t=ID(N,e.props.value),t&&te&&(Z=e.props.children);return t&&(ne=!0),r.cloneElement(e,{"aria-selected":t?"true":"false",onClick:Q(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&(J=b?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):Z);let oe,ie=V;!a&&B&&$&&(ie=G.clientWidth),oe="undefined"!==typeof R?R:h?null:0;const se=I.id||(w?`mui-component-select-${w}`:void 0),ae=(0,je.A)({},e,{variant:j,value:N,open:X,error:f}),le=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${(0,nT.A)(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,eT.A)(a,AD,t)})(ae),ce=(0,je.A)({},y.PaperProps,null==(n=y.slotProps)?void 0:n.paper),ue=(0,WP.A)();return(0,Ve.jsxs)(r.Fragment,{children:[(0,Ve.jsx)(kD,(0,je.A)({ref:q,tabIndex:oe,role:"combobox","aria-controls":ue,"aria-disabled":h?"true":void 0,"aria-expanded":X?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[v,se].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:e=>{if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),K(!0,e))}},onMouseDown:h||T?null:e=>{0===e.button&&(e.preventDefault(),U.current.focus(),K(!0,e))},onBlur:e=>{!X&&x&&(Object.defineProperty(e,"target",{writable:!0,value:{value:N,name:w}}),x(e))},onFocus:S},I,{ownerState:ae,className:(0,Ne.A)(I.className,le.select,c),id:se,children:RD(J)?SD||(SD=(0,Ve.jsx)("span",{className:"notranslate",children:"\u200b"})):J})),(0,Ve.jsx)(ED,(0,je.A)({"aria-invalid":f,value:Array.isArray(N)?N.join(","):N,name:w,ref:F,"aria-hidden":!0,onChange:e=>{const t=Y.find((t=>t.props.value===e.target.value));void 0!==t&&(M(t.props.value),A&&A(e,t))},tabIndex:-1,disabled:h,className:le.nativeInput,autoFocus:s,ownerState:ae},D)),(0,Ve.jsx)(TD,{as:m,className:le.icon,ownerState:ae}),(0,Ve.jsx)(qR,(0,je.A)({id:`menu-${w||""}`,anchorEl:G,open:X,onClose:e=>{K(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,je.A)({"aria-labelledby":v,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:ue},y.MenuListProps),slotProps:(0,je.A)({},y.slotProps,{paper:(0,je.A)({},ce,{style:(0,je.A)({minWidth:ie},null!=ce?ce.style:null)})}),children:re}))]})})),jD=PD,DD=(0,AT.A)((0,Ve.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),ND=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],MD=["root"],OD={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,YE.A)(e)&&"variant"!==e,slot:"Root"},LD=(0,tT.Ay)(wj,OD)(""),FD=(0,tT.Ay)(Uj,OD)(""),UD=(0,tT.Ay)(Tj,OD)(""),$D=r.forwardRef((function(e,t){const n=(0,Ze.b)({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:i,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=DD,id:d,input:h,inputProps:p,label:f,labelId:m,MenuProps:g,multiple:v=!1,native:y=!1,onClose:b,onOpen:w,open:x,renderValue:A,SelectDisplayProps:_,variant:S="outlined"}=n,C=(0,De.A)(n,ND),k=y?bD:jD,T=ZP({props:n,muiFormControl:tj(),states:["variant","error"]}),E=T.variant||S,I=(0,je.A)({},n,{variant:E,classes:s}),R=(e=>{const{classes:t}=e;return t})(I),P=(0,De.A)(R,MD),j=h||{standard:(0,Ve.jsx)(LD,{ownerState:I}),outlined:(0,Ve.jsx)(FD,{label:f,ownerState:I}),filled:(0,Ve.jsx)(UD,{ownerState:I})}[E],D=(0,YT.A)(t,kI(j));return(0,Ve.jsx)(r.Fragment,{children:r.cloneElement(j,(0,je.A)({inputComponent:k,inputProps:(0,je.A)({children:i,error:T.error,IconComponent:u,variant:E,type:void 0,multiple:v},y?{id:d}:{autoWidth:o,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:b,onOpen:w,open:x,renderValue:A,SelectDisplayProps:(0,je.A)({id:d},_)},p,{classes:p?(0,kP.A)(P,p.classes):P},h?h.props.inputProps:{})},(v&&y||c)&&"outlined"===E?{notched:!0}:{},{ref:D,className:(0,Ne.A)(j.props.className,a,R.root)},!h&&{variant:E},C))})}));$D.muiName="Select";const zD=$D;function BD(e){return(0,iT.Ay)("MuiTextField",e)}(0,Ke.A)("MuiTextField",["root"]);const VD=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],WD={standard:wj,filled:Tj,outlined:Uj},HD=(0,tT.Ay)(rD,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qD=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:i,className:s,color:a="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:p,id:f,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:y,label:b,maxRows:w,minRows:x,multiline:A=!1,name:_,onBlur:S,onChange:C,onFocus:k,placeholder:T,required:E=!1,rows:I,select:R=!1,SelectProps:P,type:j,value:D,variant:N="outlined"}=n,M=(0,De.A)(n,VD),O=(0,je.A)({},n,{autoFocus:o,color:a,disabled:c,error:u,fullWidth:h,multiline:A,required:E,select:R,variant:N}),L=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"]},BD,t)})(O);const F={};"outlined"===N&&(m&&"undefined"!==typeof m.shrink&&(F.notched=m.shrink),F.label=b),R&&(P&&P.native||(F.id=void 0),F["aria-describedby"]=void 0);const U=(0,WP.A)(f),$=p&&U?`${U}-helper-text`:void 0,z=b&&U?`${U}-label`:void 0,B=WD[N],V=(0,Ve.jsx)(B,(0,je.A)({"aria-describedby":$,autoComplete:r,autoFocus:o,defaultValue:l,fullWidth:h,multiline:A,name:_,rows:I,maxRows:w,minRows:x,type:j,value:D,id:U,inputRef:y,onBlur:S,onChange:C,onFocus:k,placeholder:T,inputProps:g},F,v));return(0,Ve.jsxs)(HD,(0,je.A)({className:(0,Ne.A)(L.root,s),disabled:c,error:u,fullWidth:h,ref:t,required:E,color:a,variant:N,ownerState:O},M,{children:[null!=b&&""!==b&&(0,Ve.jsx)(Xj,(0,je.A)({htmlFor:U,id:z},m,{children:b})),R?(0,Ve.jsx)(zD,(0,je.A)({"aria-describedby":$,id:U,labelId:z,value:D,input:V},P,{children:i})):V,p&&(0,Ve.jsx)(uD,(0,je.A)({id:$},d,{children:p}))]}))})),GD=qD;function KD(e){return(0,iT.Ay)("MuiAlert",e)}const YD=(0,Ke.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),QD=(0,AT.A)((0,Ve.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),XD=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),JD=(0,AT.A)((0,Ve.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),ZD=(0,AT.A)((0,Ve.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),eN=(0,AT.A)((0,Ve.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),tN=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],nN=(0,tT.Ay)(uT,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,nT.A)(n.color||n.severity)}`]]}})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?rT.e$:rT.a,r="light"===t.palette.mode?rT.a:rT.e$;return(0,je.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${o}Color`]:n(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${o}StandardBg`]:r(t.palette[o].light,.9),[`& .${YD.icon}`]:t.vars?{color:t.vars.palette.Alert[`${o}IconColor`]}:{color:t.palette[o].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:n(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${YD.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,je.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}}))]})})),rN=(0,tT.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),oN=(0,tT.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),iN=(0,tT.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),sN={success:(0,Ve.jsx)(QD,{fontSize:"inherit"}),warning:(0,Ve.jsx)(XD,{fontSize:"inherit"}),error:(0,Ve.jsx)(JD,{fontSize:"inherit"}),info:(0,Ve.jsx)(ZD,{fontSize:"inherit"})},aN=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiAlert"}),{action:r,children:o,className:i,closeText:s="Close",color:a,components:l={},componentsProps:c={},icon:u,iconMapping:d=sN,onClose:h,role:p="alert",severity:f="success",slotProps:m={},slots:g={},variant:v="standard"}=n,y=(0,De.A)(n,tN),b=(0,je.A)({},n,{color:a,severity:f,variant:v,colorSeverity:a||f}),w=(e=>{const{variant:t,color:n,severity:r,classes:o}=e,i={root:["root",`color${(0,nT.A)(n||r)}`,`${t}${(0,nT.A)(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,eT.A)(i,KD,o)})(b),x={slots:(0,je.A)({closeButton:l.CloseButton,closeIcon:l.CloseIcon},g),slotProps:(0,je.A)({},c,m)},[A,_]=MT("closeButton",{elementType:OE,externalForwardedProps:x,ownerState:b}),[S,C]=MT("closeIcon",{elementType:eN,externalForwardedProps:x,ownerState:b});return(0,Ve.jsxs)(nN,(0,je.A)({role:p,elevation:0,ownerState:b,className:(0,Ne.A)(w.root,i),ref:t},y,{children:[!1!==u?(0,Ve.jsx)(rN,{ownerState:b,className:w.icon,children:u||d[f]||sN[f]}):null,(0,Ve.jsx)(oN,{ownerState:b,className:w.message,children:o}),null!=r?(0,Ve.jsx)(iN,{ownerState:b,className:w.action,children:r}):null,null==r&&h?(0,Ve.jsx)(iN,{ownerState:b,className:w.action,children:(0,Ve.jsx)(A,(0,je.A)({size:"small","aria-label":s,title:s,color:"inherit",onClick:h},_,{children:(0,Ve.jsx)(S,(0,je.A)({fontSize:"small"},C))}))}):null]}))})),lN=aN;var cN=n(8286);const uN=r.createContext();function dN(e){return(0,iT.Ay)("MuiGrid",e)}const hN=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],pN=(0,Ke.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...hN.map((e=>`grid-xs-${e}`)),...hN.map((e=>`grid-sm-${e}`)),...hN.map((e=>`grid-md-${e}`)),...hN.map((e=>`grid-lg-${e}`)),...hN.map((e=>`grid-xl-${e}`))]),fN=pN,mN=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function gN(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function vN(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const o=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return o.slice(0,o.indexOf(r))}const yN=(0,tT.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:o,item:i,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach((t=>{const o=e[t];Number(o)>0&&r.push(n[`spacing-${t}-${String(o)}`])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t[`grid-${e}-${String(r)}`])})),[t.root,r&&t.container,i&&t.item,l&&t.zeroMinWidth,...u,"row"!==o&&t[`direction-xs-${String(o)}`],"wrap"!==a&&t[`wrap-xs-${String(a)}`],...d]}})((e=>{let{ownerState:t}=e;return(0,je.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,cN.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,cN.NI)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${fN.item}`]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,cN.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=vN({breakpoints:t.breakpoints.values,values:e})),i=(0,cN.NI)({theme:t},e,((e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{marginTop:`-${gN(i)}`,[`& > .${fN.item}`]:{paddingTop:gN(i)}}:null!=(o=n)&&o.includes(r)?{}:{marginTop:0,[`& > .${fN.item}`]:{paddingTop:0}}}))}return i}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,cN.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=vN({breakpoints:t.breakpoints.values,values:e})),i=(0,cN.NI)({theme:t},e,((e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{width:`calc(100% + ${gN(i)})`,marginLeft:`-${gN(i)}`,[`& > .${fN.item}`]:{paddingLeft:gN(i)}}:null!=(o=n)&&o.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${fN.item}`]:{paddingLeft:0}}}))}return i}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,o)=>{let i={};if(r[o]&&(t=r[o]),!t)return e;if(!0===t)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,cN.kW)({values:r.columns,breakpoints:n.breakpoints.values}),a="object"===typeof s?s[o]:s;if(void 0===a||null===a)return e;const l=Math.round(t/a*1e8)/1e6+"%";let c={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t=`calc(${l} + ${gN(e)})`;c={flexBasis:t,maxWidth:t}}}i=(0,je.A)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===n.breakpoints.values[o]?Object.assign(e,i):e[n.breakpoints.up(o)]=i,e}),{})}));const bN=e=>{const{classes:t,container:n,direction:r,item:o,spacing:i,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[`spacing-xs-${String(e)}`];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e=`spacing-${t}-${String(r)}`;n.push(e)}})),n}(i,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push(`grid-${t}-${String(n)}`)}));const d={root:["root",n&&"container",o&&"item",a&&"zeroMinWidth",...c,"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==s&&`wrap-xs-${String(s)}`,...u]};return(0,eT.A)(d,dN,t)},wN=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiGrid"}),{breakpoints:o}=LI(),i=(0,Le.A)(n),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:p,spacing:f=0,wrap:m="wrap",zeroMinWidth:g=!1}=i,v=(0,De.A)(i,mN),y=p||f,b=l||f,w=r.useContext(uN),x=u?a||12:w,A={},_=(0,je.A)({},v);o.keys.forEach((e=>{null!=v[e]&&(A[e]=v[e],delete _[e])}));const S=(0,je.A)({},i,{columns:x,container:u,direction:d,item:h,rowSpacing:y,columnSpacing:b,wrap:m,zeroMinWidth:g,spacing:f},A,{breakpoints:o.keys}),C=bN(S);return(0,Ve.jsx)(uN.Provider,{value:x,children:(0,Ve.jsx)(yN,(0,je.A)({ownerState:S,className:(0,Ne.A)(C.root,s),as:c,ref:t},_))})}));const xN=wN;function AN(e){return(0,iT.Ay)("MuiLink",e)}const _N=(0,Ke.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var SN=n(2703);const CN={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},kN=e=>{let{theme:t,ownerState:n}=e;const r=(e=>CN[e]||e)(n.color),o=(0,SN.Yn)(t,`palette.${r}`,!1)||n.color,i=(0,SN.Yn)(t,`palette.${r}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:(0,rT.X4)(o,.4)},TN=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],EN=(0,tT.Ay)(KT,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${(0,nT.A)(n.underline)}`],"button"===n.component&&t.button]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,je.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:kN({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${_N.focusVisible}`]:{outline:"auto"}})})),IN=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiLink"}),{className:o,color:i="primary",component:s="a",onBlur:a,onFocus:l,TypographyClasses:c,underline:u="always",variant:d="inherit",sx:h}=n,p=(0,De.A)(n,TN),{isFocusVisibleRef:f,onBlur:m,onFocus:g,ref:v}=(0,XT.A)(),[y,b]=r.useState(!1),w=(0,YT.A)(t,v),x=(0,je.A)({},n,{color:i,component:s,focusVisible:y,underline:u,variant:d}),A=(e=>{const{classes:t,component:n,focusVisible:r,underline:o}=e,i={root:["root",`underline${(0,nT.A)(o)}`,"button"===n&&"button",r&&"focusVisible"]};return(0,eT.A)(i,AN,t)})(x);return(0,Ve.jsx)(EN,(0,je.A)({color:i,className:(0,Ne.A)(A.root,o),classes:c,component:s,onBlur:e=>{m(e),!1===f.current&&b(!1),a&&a(e)},onFocus:e=>{g(e),!0===f.current&&b(!0),l&&l(e)},ref:w,ownerState:x,variant:d,sx:[...Object.keys(CN).includes(i)?[]:[{color:i}],...Array.isArray(h)?h:[h]]},p))})),RN=IN;function PN(e){return(0,iT.Ay)("MuiCircularProgress",e)}(0,Ke.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const jN=["className","color","disableShrink","size","style","thickness","value","variant"];let DN,NN,MN,ON,LN=e=>e;const FN=44,UN=(0,lE.i7)(DN||(DN=LN`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),$N=(0,lE.i7)(NN||(NN=LN`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),zN=(0,tT.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,nT.A)(n.color)}`]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,lE.AH)(MN||(MN=LN`
      animation: ${0} 1.4s linear infinite;
    `),UN)})),BN=(0,tT.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),VN=(0,tT.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${(0,nT.A)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,lE.AH)(ON||(ON=LN`
      animation: ${0} 1.4s ease-in-out infinite;
    `),$N)})),WN=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:i=!1,size:s=40,style:a,thickness:l=3.6,value:c=0,variant:u="indeterminate"}=n,d=(0,De.A)(n,jN),h=(0,je.A)({},n,{color:o,disableShrink:i,size:s,thickness:l,value:c,variant:u}),p=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,i={root:["root",n,`color${(0,nT.A)(r)}`],svg:["svg"],circle:["circle",`circle${(0,nT.A)(n)}`,o&&"circleDisableShrink"]};return(0,eT.A)(i,PN,t)})(h),f={},m={},g={};if("determinate"===u){const e=2*Math.PI*((FN-l)/2);f.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(c),f.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,Ve.jsx)(zN,(0,je.A)({className:(0,Ne.A)(p.root,r),style:(0,je.A)({width:s,height:s},m,a),ownerState:h,ref:t,role:"progressbar"},g,d,{children:(0,Ve.jsx)(BN,{className:p.svg,ownerState:h,viewBox:"22 22 44 44",children:(0,Ve.jsx)(VN,{className:p.circle,style:f,ownerState:h,cx:FN,cy:FN,r:(FN-l)/2,fill:"none",strokeWidth:l})})}))})),HN=WN,qN=()=>{const[e,t]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[i,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null),{login:c,loading:u,error:d,setError:h,currentUser:p,userProfile:f}=jk(),m=Z();(0,r.useEffect)((()=>{l(null)}),[e,n]),(0,r.useEffect)((()=>{p&&f&&f.sourceCodeSetupComplete&&m("/")}),[p,f,m]),(0,r.useEffect)((()=>{d&&l({type:"error",message:d})}),[d]);const g=u||i;return(0,Ve.jsx)(VP,{maxWidth:"xs",children:(0,Ve.jsxs)(uT,{elevation:0,sx:{mt:8,p:4},children:[(0,Ve.jsx)(KT,{component:"h1",variant:"h5",align:"center",sx:{mb:2},children:"Login to Side Eye"}),(0,Ve.jsxs)(Je,{component:"form",onSubmit:async t=>{if(t.preventDefault(),h&&h(null),l(null),!e.trim())return void l({type:"error",message:"Email is required"});if(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.trim()))if(n)try{if(s(!0),l({type:"info",message:"Logging in..."}),await c(e.trim(),n),p){var r;const e=ng(D_,"users",p.uid),t=await gv(e);t.exists()&&!1===(null===(r=t.data())||void 0===r?void 0:r.isActive)&&(console.log("[Login] Reactivating account for user:",p.uid),await wv(e,{isActive:!0,deactivatedAt:new _g("deleteField")}),aS.success("Welcome back! Your account has been reactivated."))}else console.warn("[Login] currentUser not available immediately after login for reactivation check.");l({type:"success",message:"Login successful! Redirecting..."})}catch(gJ){console.error("Login component caught error:",gJ),"auth/too-many-requests"===gJ.code||"auth/too-many-requests"===gJ.message?l({type:"error",message:"Too many failed login attempts. Please try again later or reset your password."}):"auth/invalid-credential"===gJ.code||"auth/invalid-credential"===gJ.message?l({type:"error",message:"Invalid email or password. Please try again."}):"auth/invalid-email"===gJ.code||"auth/invalid-email"===gJ.message?l({type:"error",message:"Invalid email address. Please check the format."}):l({type:"error",message:gJ.message||"Login failed. Please try again."})}finally{s(!1)}else l({type:"error",message:"Password is required"});else l({type:"error",message:"Please enter a valid email address"})},noValidate:!0,sx:{mt:1},children:[(0,Ve.jsx)(GD,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:e,onChange:e=>t(e.target.value),disabled:g}),(0,Ve.jsx)(GD,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:n,onChange:e=>o(e.target.value),disabled:g}),a&&(0,Ve.jsx)(lN,{severity:a.type,sx:{mt:2},children:a.message}),(0,Ve.jsx)(sI,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:g,children:g?(0,Ve.jsx)(HN,{size:24}):"Sign In"}),(0,Ve.jsxs)(xN,{container:!0,justifyContent:"space-between",children:[(0,Ve.jsx)(xN,{item:!0,children:(0,Ve.jsx)(RN,{component:Ie,to:"/reset-password",variant:"body2",children:"Forgot password?"})}),(0,Ve.jsx)(xN,{item:!0,children:(0,Ve.jsx)(RN,{component:Ie,to:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})})};function GN(e){return(0,iT.Ay)("MuiInputAdornment",e)}const KN=(0,Ke.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var YN;const QN=["children","className","component","disablePointerEvents","disableTypography","position","variant"],XN=(0,tT.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,nT.A)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{[`&.${KN.positionStart}&:not(.${KN.hiddenLabel})`]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),JN=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiInputAdornment"}),{children:o,className:i,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u}=n,d=(0,De.A)(n,QN),h=tj()||{};let p=u;u&&h.variant,h&&!p&&(p=h.variant);const f=(0,je.A)({},n,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:c,variant:p}),m=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:s}=e,a={root:["root",n&&"disablePointerEvents",o&&`position${(0,nT.A)(o)}`,s,r&&"hiddenLabel",i&&`size${(0,nT.A)(i)}`]};return(0,eT.A)(a,GN,t)})(f);return(0,Ve.jsx)(ej.Provider,{value:null,children:(0,Ve.jsx)(XN,(0,je.A)({as:s,ownerState:f,className:(0,Ne.A)(m.root,i),ref:t},d,{children:"string"!==typeof o||l?(0,Ve.jsxs)(r.Fragment,{children:["start"===c?YN||(YN=(0,Ve.jsx)("span",{className:"notranslate",children:"\u200b"})):null,o]}):(0,Ve.jsx)(KT,{color:"text.secondary",children:o})}))})})),ZN=JN;function eM(e,t,n,o,i){const[s,a]=r.useState((()=>i&&n?n(e).matches:o?o(e).matches:t));return(0,XI.A)((()=>{let t=!0;if(!n)return;const r=n(e),o=()=>{t&&a(r.matches)};return o(),r.addListener(o),()=>{t=!1,r.removeListener(o)}}),[e,n]),s}const tM=o.useSyncExternalStore;function nM(e,t,n,o,i){const s=r.useCallback((()=>t),[t]),a=r.useMemo((()=>{if(i&&n)return()=>n(e).matches;if(null!==o){const{matches:t}=o(e);return()=>t}return s}),[s,e,o,i,n]),[l,c]=r.useMemo((()=>{if(null===n)return[s,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[s,n,e]);return tM(c,l,a)}function rM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=$e(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:o=!1,matchMedia:i=(r?window.matchMedia:null),ssrMatchMedia:s=null,noSsr:a=!1}=SP({name:"MuiUseMediaQuery",props:t,theme:n});let l="function"===typeof e?e(n):e;l=l.replace(/^@media( ?)/m,"");return(void 0!==tM?nM:eM)(l,o,i,s,a)}function oM(e){let{props:t,name:n}=e;return CP({props:t,name:n,defaultTheme:nt.A,themeId:Ge.A})}var iM=n(1942),sM=n.n(iM);function aM(e,t,n){return"function"===typeof e?e(t,n):e}const lM=sM().oneOfType([sM().func,sM().object]),cM=(e,t)=>e.length===t.length&&t.every((t=>e.includes(t))),uM=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r},dM=e=>{let{date:t,disableFuture:n,disablePast:r,maxDate:o,minDate:i,isDateDisabled:s,utils:a,timezone:l}=e;const c=uM(a,a.dateWithTimezone(void 0,l),t);r&&a.isBefore(i,c)&&(i=c),n&&a.isAfter(o,c)&&(o=c);let u=t,d=t;for(a.isBefore(t,i)&&(u=i,d=null),a.isAfter(t,o)&&(d&&(d=o),u=null);u||d;){if(u&&a.isAfter(u,o)&&(u=null),d&&a.isBefore(d,i)&&(d=null),u){if(!s(u))return u;u=a.addDays(u,1)}if(d){if(!s(d))return d;d=a.addDays(d,-1)}}return null},hM=(e,t,n)=>null!=t&&e.isValid(t)?t:n,pM=(e,t)=>{const n=[e.startOfYear(t)];for(;n.length<12;){const t=n[n.length-1];n.push(e.addMonths(t,1))}return n},fM=(e,t,n)=>"date"===n?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),mM=["year","month","day"],gM=e=>mM.includes(e),vM=(e,t,n)=>{let{format:r,views:o}=t;if(null!=r)return r;const i=e.formats;return cM(o,["year"])?i.year:cM(o,["month"])?i.month:cM(o,["day"])?i.dayOfMonth:cM(o,["month","year"])?`${i.month} ${i.year}`:cM(o,["day","month"])?`${i.month} ${i.dayOfMonth}`:n?/en/.test(e.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},yM=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map((t=>e.addDays(n,t)))},bM=["hours","minutes","seconds"],wM=(e,t)=>3600*t.getHours(e)+60*t.getMinutes(e)+t.getSeconds(e),xM={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},AM=(e,t,n)=>{if(t===xM.year)return e.startOfYear(n);if(t===xM.month)return e.startOfMonth(n);if(t===xM.day)return e.startOfDay(n);let r=n;return t<xM.minutes&&(r=e.setMinutes(r,0)),t<xM.seconds&&(r=e.setSeconds(r,0)),t<xM.milliseconds&&(r=e.setMilliseconds(r,0)),r},_M=e=>{let{props:t,utils:n,granularity:r,timezone:o,getTodayDate:i}=e;var s;let a=i?i():AM(n,r,fM(n,o));null!=t.minDate&&n.isAfterDay(t.minDate,a)&&(a=AM(n,r,t.minDate)),null!=t.maxDate&&n.isBeforeDay(t.maxDate,a)&&(a=AM(n,r,t.maxDate));const l=((e,t)=>(n,r)=>e?t.isAfter(n,r):wM(n,t)>wM(r,t))(null!=(s=t.disableIgnoringDatePartForTimeValidation)&&s,n);return null!=t.minTime&&l(t.minTime,a)&&(a=AM(n,r,t.disableIgnoringDatePartForTimeValidation?t.minTime:uM(n,a,t.minTime))),null!=t.maxTime&&l(a,t.maxTime)&&(a=AM(n,r,t.disableIgnoringDatePartForTimeValidation?t.maxTime:uM(n,a,t.maxTime))),a},SM=(e,t)=>{const n=e.formatTokenMap[t];if(null==n)throw new Error([`MUI: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join("\n"));return"string"===typeof n?{type:n,contentType:"meridiem"===n?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},CM=(e,t,n)=>{const r=[],o=e.dateWithTimezone(void 0,t),i=e.startOfWeek(o),s=e.endOfWeek(o);let a=i;for(;e.isBefore(a,s);)r.push(a),a=e.addDays(a,1);return r.map((t=>e.formatByString(t,n)))},kM=(e,t,n,r)=>{switch(n){case"month":return pM(e,e.dateWithTimezone(void 0,t)).map((t=>e.formatByString(t,r)));case"weekDay":return CM(e,t,r);case"meridiem":{const n=e.dateWithTimezone(void 0,t);return[e.startOfDay(n),e.endOfDay(n)].map((t=>e.formatByString(t,r)))}default:return[]}},TM=(e,t,n)=>{let r=t;for(r=Number(r).toString();r.length<n;)r=`0${r}`;return r},EM=(e,t,n,r,o)=>{if("day"===o.type&&"digit-with-letter"===o.contentType){const t=e.setDate(r.longestMonth,n);return e.formatByString(t,o.format)}const i=n.toString();return o.hasLeadingZerosInInput?TM(0,i,o.maxLength):i},IM=(e,t,n,r,o,i,s)=>{const a=(e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}})(r),l="Home"===r,c="End"===r,u=""===n.value||l||c;return"digit"===n.contentType||"digit-with-letter"===n.contentType?(()=>{const r=o[n.type]({currentDate:i,format:n.format,contentType:n.contentType}),d=t=>EM(e,0,t,r,n),h="minutes"===n.type&&null!=s&&s.minutesStep?s.minutesStep:1;let p=parseInt(n.value,10)+a*h;if(u){if("year"===n.type&&!c&&!l)return e.formatByString(e.dateWithTimezone(void 0,t),n.format);p=a>0||l?r.minimum:r.maximum}return p%h!==0&&((a<0||l)&&(p+=h-(h+p)%h),(a>0||c)&&(p-=p%h)),p>r.maximum?d(r.minimum+(p-r.maximum-1)%(r.maximum-r.minimum+1)):p<r.minimum?d(r.maximum-(r.minimum-p-1)%(r.maximum-r.minimum+1)):d(p)})():(()=>{const r=kM(e,t,n.type,n.format);if(0===r.length)return n.value;if(u)return a>0||l?r[0]:r[r.length-1];const o=r.indexOf(n.value);return r[(o+r.length+a)%r.length]})()},RM=(e,t)=>{let n=e.value||e.placeholder;const r="non-input"===t?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;"non-input"===t&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(n=Number(n).toString());return["input-rtl","input-ltr"].includes(t)&&"digit"===e.contentType&&!r&&1===n.length&&(n=`${n}\u200e`),"input-rtl"===t&&(n=`\u2068${n}\u2069`),n},PM=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),jM=(e,t)=>{let n=0,r=t?1:0;const o=[];for(let i=0;i<e.length;i+=1){const s=e[i],a=RM(s,t?"input-rtl":"input-ltr"),l=`${s.startSeparator}${a}${s.endSeparator}`,c=PM(l).length,u=l.length,d=PM(a),h=r+a.indexOf(d[0])+s.startSeparator.length,p=h+d.length;o.push((0,je.A)({},s,{start:n,end:n+c,startInInput:h,endInInput:p})),n+=c,r+=u}return o},DM=(e,t,n,r,o)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.dateWithTimezone(void 0,t),o).length,format:o});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:o});case"day":return n.fieldDayPlaceholder({format:o});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:o});case"hours":return n.fieldHoursPlaceholder({format:o});case"minutes":return n.fieldMinutesPlaceholder({format:o});case"seconds":return n.fieldSecondsPlaceholder({format:o});case"meridiem":return n.fieldMeridiemPlaceholder({format:o});default:return o}},NM=(e,t,n,r)=>e.formatByString(e.parse(t,n),r),MM=(e,t,n)=>4===e.formatByString(e.dateWithTimezone(void 0,t),n).length,OM=(e,t,n,r,o)=>{if("digit"!==n)return!1;const i=e.dateWithTimezone(void 0,t);switch(r){case"year":if(MM(e,t,o)){return"0001"===e.formatByString(e.setYear(i,1),o)}return"01"===e.formatByString(e.setYear(i,2001),o);case"month":return e.formatByString(e.startOfYear(i),o).length>1;case"day":return e.formatByString(e.startOfMonth(i),o).length>1;case"weekDay":return e.formatByString(e.startOfWeek(i),o).length>1;case"hours":return e.formatByString(e.setHours(i,1),o).length>1;case"minutes":return e.formatByString(e.setMinutes(i,1),o).length>1;case"seconds":return e.formatByString(e.setSeconds(i,1),o).length>1;default:throw new Error("Invalid section type")}},LM=(e,t,n,r,o,i,s,a)=>{let l="";const c=[],u=e.date(),d=r=>{if(""===r)return null;const i=SM(e,r),a=OM(e,t,i.contentType,i.type,r),d=s?a:"digit"===i.contentType,h=null!=o&&e.isValid(o);let p=h?e.formatByString(o,r):"",f=null;if(d)if(a)f=""===p?e.formatByString(u,r).length:p.length;else{if(null==i.maxLength)throw new Error(`MUI: The token ${r} should have a 'maxDigitNumber' property on it's adapter`);f=i.maxLength,h&&(p=TM(0,p,f))}return c.push((0,je.A)({},i,{format:r,maxLength:f,value:p,placeholder:DM(e,t,n,i,r),hasLeadingZeros:a,hasLeadingZerosInFormat:a,hasLeadingZerosInInput:d,startSeparator:0===c.length?l:"",endSeparator:"",modified:!1})),null};let h=10,p=r,f=e.expandFormat(r);for(;f!==p;)if(p=f,f=e.expandFormat(p),h-=1,h<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const m=f,g=((e,t)=>{const n=[],{start:r,end:o}=e.escapedCharacters,i=new RegExp(`(\\${r}[^\\${o}]*\\${o})+`,"g");let s=null;for(;s=i.exec(t);)n.push({start:s.index,end:i.lastIndex-1});return n})(e,m),v=new RegExp(`^(${Object.keys(e.formatTokenMap).sort(((e,t)=>t.length-e.length)).join("|")})`,"g");let y="";for(let b=0;b<m.length;b+=1){const e=g.find((e=>e.start<=b&&e.end>=b)),t=m[b],n=null!=e,r=`${y}${m.slice(b)}`,o=v.test(r);if(!n&&t.match(/([A-Za-z]+)/)&&o)y=r.slice(0,v.lastIndex),b+=v.lastIndex-1;else{n&&(null==e?void 0:e.start)===b||(null==e?void 0:e.end)===b||(d(y),y="",0===c.length?l+=t:c[c.length-1].endSeparator+=t)}}return d(y),c.map((e=>{const t=e=>{let t=e;return a&&null!==t&&t.includes(" ")&&(t=`\u2069${t}\u2066`),"spacious"===i&&["/",".","-"].includes(t)&&(t=` ${t} `),t};return e.startSeparator=t(e.startSeparator),e.endSeparator=t(e.endSeparator),e}))};const FM=(e,t)=>{0},UM={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},$M=(e,t,n,r,o,i)=>[...r].sort(((e,t)=>UM[e.type]-UM[t.type])).reduce(((r,o)=>!i||o.modified?((e,t,n,r,o)=>{switch(n.type){case"year":return e.setYear(o,e.getYear(r));case"month":return e.setMonth(o,e.getMonth(r));case"weekDay":{const o=CM(e,t,n.format),i=e.formatByString(r,n.format),s=o.indexOf(i),a=o.indexOf(n.value)-s;return e.addDays(r,a)}case"day":return e.setDate(o,e.getDate(r));case"meridiem":{const t=e.getHours(r)<12,n=e.getHours(o);return t&&n>=12?e.addHours(o,-12):!t&&n<12?e.addHours(o,12):o}case"hours":return e.setHours(o,e.getHours(r));case"minutes":return e.setMinutes(o,e.getMinutes(r));case"seconds":return e.setSeconds(o,e.getSeconds(r));default:return o}})(e,t,o,n,r):r),o),zM=["value","referenceDate"],BM={emptyValue:null,getTodayValue:fM,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=(0,De.A)(e,zM);return null!=t&&r.utils.isValid(t)?t:null!=n?n:_M(r)},cleanValue:(e,t)=>null!=t&&e.isValid(t)?t:null,areValuesEqual:(e,t,n)=>!e.isValid(t)&&null!=t&&!e.isValid(n)&&null!=n||e.isEqual(t,n),isSameError:(e,t)=>e===t,hasError:e=>null!=e,defaultErrorState:null,getTimezone:(e,t)=>null!=t&&e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,n)=>null==n?null:e.setTimezone(n,t)},VM={updateReferenceValue:(e,t,n)=>null!=t&&e.isValid(t)?t:n,getSectionsFromValue:(e,t,n,r,o)=>!e.isValid(t)&&!!n?n:jM(o(t),r),getValueStrFromSections:(e,t)=>{const n=e.map((e=>{const n=RM(e,t?"input-rtl":"input-ltr");return`${e.startSeparator}${n}${e.endSeparator}`})).join("");return t?`\u2066${n}\u2069`:n},getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:e=>e,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:null!=n&&e.isValid(n)?n:t.referenceValue})}),parseValueStr:(e,t,n)=>n(e.trim(),t)},WM=["localeText"],HM=r.createContext(null);const qM=function(e){var t;const{localeText:n}=e,o=(0,De.A)(e,WM),{utils:i,localeText:s}=null!=(t=r.useContext(HM))?t:{utils:void 0,localeText:void 0},a=oM({props:o,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:c,dateFormats:u,dateLibInstance:d,adapterLocale:h,localeText:p}=a,f=r.useMemo((()=>(0,je.A)({},p,s,n)),[p,s,n]),m=r.useMemo((()=>{if(!c)return i||null;const e=new c({locale:h,formats:u,instance:d});if(!e.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join("\n"));return e}),[c,h,u,d,i]),g=r.useMemo((()=>m?{minDate:m.date("1900-01-01T00:00:00.000"),maxDate:m.date("2099-12-31T00:00:00.000")}:null),[m]),v=r.useMemo((()=>({utils:m,defaultDates:g,localeText:f})),[g,m,f]);return(0,Ve.jsx)(HM.Provider,{value:v,children:l})},GM={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>"year"===e?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${null===t?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>"letter"===e.contentType?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>"letter"===e.contentType?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},KM=GM;YM=GM,(0,je.A)({},YM);var YM;const QM=()=>{const e=r.useContext(HM);if(null===e)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join("\n"));if(null===e.utils)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join("\n"));const t=r.useMemo((()=>(0,je.A)({},KM,e.localeText)),[e.localeText]);return r.useMemo((()=>(0,je.A)({},e,{localeText:t})),[e,t])},XM=()=>QM().utils,JM=()=>QM().defaultDates,ZM=()=>QM().localeText,eO=e=>{const t=XM(),n=r.useRef();return void 0===n.current&&(n.current=t.dateWithTimezone(void 0,e)),n.current};function tO(e){return(0,iT.Ay)("MuiPickersToolbar",e)}(0,Ke.A)("MuiPickersToolbar",["root","content"]);const nO=(0,tT.Ay)("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3)},n.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})})),rO=(0,tT.Ay)("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})((e=>{let{ownerState:t}=e;var n;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:t.isLandscape?"flex-start":"space-between",flexDirection:t.isLandscape?null!=(n=t.landscapeDirection)?n:"column":"row",flex:1,alignItems:t.isLandscape?"flex-start":"center"}})),oO=r.forwardRef((function(e,t){const n=oM({props:e,name:"MuiPickersToolbar"}),{children:r,className:o,toolbarTitle:i,hidden:s,titleId:a}=n,l=n,c=(e=>{const{classes:t,isLandscape:n}=e,r={root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]};return(0,eT.A)(r,tO,t)})(l);return s?null:(0,Ve.jsxs)(nO,{ref:t,className:(0,Ne.A)(c.root,o),ownerState:l,children:[(0,Ve.jsx)(KT,{color:"text.secondary",variant:"overline",id:a,children:i}),(0,Ve.jsx)(rO,{className:c.content,ownerState:l,children:r})]})}));function iO(e){return(0,iT.Ay)("MuiDatePickerToolbar",e)}(0,Ke.A)("MuiDatePickerToolbar",["root","title"]);const sO=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className"],aO=(0,tT.Ay)(oO,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),lO=(0,tT.Ay)(KT,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,t)=>t.title})((e=>{let{ownerState:t}=e;return(0,je.A)({},t.isLandscape&&{margin:"auto 16px auto auto"})})),cO=r.forwardRef((function(e,t){const n=oM({props:e,name:"MuiDatePickerToolbar"}),{value:o,isLandscape:i,toolbarFormat:s,toolbarPlaceholder:a="\u2013\u2013",views:l,className:c}=n,u=(0,De.A)(n,sO),d=XM(),h=ZM(),p=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"],title:["title"]},iO,t)})(n),f=r.useMemo((()=>{if(!o)return a;const e=vM(d,{format:s,views:l},!0);return d.formatByString(o,e)}),[o,s,a,d,l]),m=n;return(0,Ve.jsx)(aO,(0,je.A)({ref:t,toolbarTitle:h.datePickerToolbarTitle,isLandscape:i,className:(0,Ne.A)(p.root,c)},u,{children:(0,Ve.jsx)(lO,{variant:"h4",align:i?"left":"center",ownerState:m,className:p.title,children:f})}))})),uO=e=>{if(void 0!==e)return Object.keys(e).reduce(((t,n)=>(0,je.A)({},t,{[`${n.slice(0,1).toLowerCase()}${n.slice(1)}`]:e[n]})),{})};function dO(e,t){var n,o,i,s;const a=XM(),l=JM(),c=oM({props:e,name:t}),u=r.useMemo((()=>{var e;return null==(null==(e=c.localeText)?void 0:e.toolbarTitle)?c.localeText:(0,je.A)({},c.localeText,{datePickerToolbarTitle:c.localeText.toolbarTitle})}),[c.localeText]),d=null!=(n=c.slots)?n:uO(c.components);return(0,je.A)({},c,{localeText:u},(e=>{let{openTo:t,defaultOpenTo:n,views:r,defaultViews:o}=e;const i=null!=r?r:o;let s;if(null!=t)s=t;else if(i.includes(n))s=n;else{if(!(i.length>0))throw new Error("MUI: The `views` prop must contain at least one view");s=i[0]}return{views:i,openTo:s}})({views:c.views,openTo:c.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:null!=(o=c.disableFuture)&&o,disablePast:null!=(i=c.disablePast)&&i,minDate:hM(a,c.minDate,l.minDate),maxDate:hM(a,c.maxDate,l.maxDate),slots:(0,je.A)({toolbar:cO},d),slotProps:null!=(s=c.slotProps)?s:c.componentsProps})}const hO=e=>{let{props:t,value:n,adapter:r}=e;if(null===n)return null;const{shouldDisableDate:o,shouldDisableMonth:i,shouldDisableYear:s,disablePast:a,disableFuture:l,timezone:c}=t,u=r.utils.dateWithTimezone(void 0,c),d=hM(r.utils,t.minDate,r.defaultDates.minDate),h=hM(r.utils,t.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(n):return"invalidDate";case Boolean(o&&o(n)):return"shouldDisableDate";case Boolean(i&&i(n)):return"shouldDisableMonth";case Boolean(s&&s(n)):return"shouldDisableYear";case Boolean(l&&r.utils.isAfterDay(n,u)):return"disableFuture";case Boolean(a&&r.utils.isBeforeDay(n,u)):return"disablePast";case Boolean(d&&r.utils.isBeforeDay(n,d)):return"minDate";case Boolean(h&&r.utils.isAfterDay(n,h)):return"maxDate";default:return null}};function pO(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}function fO(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=(0,Ne.A)(n?.className,i,o?.className,r?.className),t={...n?.style,...o?.style,...r?.style},s={...n,...o,...r};return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}({...o,...r}),a=pO(r),l=pO(o),c=t(s),u=(0,Ne.A)(c?.className,n?.className,i,o?.className,r?.className),d={...c?.style,...n?.style,...o?.style,...r?.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function mO(e){const{elementType:t,externalSlotProps:n,ownerState:o,skipResolvingSlotProps:i=!1,...s}=e,a=i?{}:aM(n,o),{props:l,internalRef:c}=fO({...s,externalSlotProps:a}),u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=r.useRef(void 0),i=r.useCallback((e=>{const n=t.map((t=>{if(null==t)return null;if("function"===typeof t){const n=t,r=n(e);return"function"===typeof r?r:()=>{n(null)}}return t.current=e,()=>{t.current=null}}));return()=>{n.forEach((e=>e?.()))}}),t);return r.useMemo((()=>t.every((e=>null==e))?null:e=>{o.current&&(o.current(),o.current=void 0),null!=e&&(o.current=i(e))}),t)}(c,a?.ref,e.additionalProps?.ref),d=function(e,t,n){return void 0===e||"string"===typeof e?t:{...t,ownerState:{...t.ownerState,...n}}}(t,{...l,ref:u},o);return d}var gO=n(5329);function vO(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function yO(e){return e instanceof vO(e).Element||e instanceof Element}function bO(e){return e instanceof vO(e).HTMLElement||e instanceof HTMLElement}function wO(e){return"undefined"!==typeof ShadowRoot&&(e instanceof vO(e).ShadowRoot||e instanceof ShadowRoot)}var xO=Math.max,AO=Math.min,_O=Math.round;function SO(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function CO(){return!/^((?!chrome|android).)*safari/i.test(SO())}function kO(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&bO(e)&&(o=e.offsetWidth>0&&_O(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&_O(r.height)/e.offsetHeight||1);var s=(yO(e)?vO(e):window).visualViewport,a=!CO()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/o,c=(r.top+(a&&s?s.offsetTop:0))/i,u=r.width/o,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function TO(e){var t=vO(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function EO(e){return e?(e.nodeName||"").toLowerCase():null}function IO(e){return((yO(e)?e.ownerDocument:e.document)||window.document).documentElement}function RO(e){return kO(IO(e)).left+TO(e).scrollLeft}function PO(e){return vO(e).getComputedStyle(e)}function jO(e){var t=PO(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function DO(e,t,n){void 0===n&&(n=!1);var r=bO(t),o=bO(t)&&function(e){var t=e.getBoundingClientRect(),n=_O(t.width)/e.offsetWidth||1,r=_O(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=IO(t),s=kO(e,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==EO(t)||jO(i))&&(a=function(e){return e!==vO(e)&&bO(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:TO(e);var t}(t)),bO(t)?((l=kO(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=RO(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function NO(e){var t=kO(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function MO(e){return"html"===EO(e)?e:e.assignedSlot||e.parentNode||(wO(e)?e.host:null)||IO(e)}function OO(e){return["html","body","#document"].indexOf(EO(e))>=0?e.ownerDocument.body:bO(e)&&jO(e)?e:OO(MO(e))}function LO(e,t){var n;void 0===t&&(t=[]);var r=OO(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=vO(r),s=o?[i].concat(i.visualViewport||[],jO(r)?r:[]):r,a=t.concat(s);return o?a:a.concat(LO(MO(s)))}function FO(e){return["table","td","th"].indexOf(EO(e))>=0}function UO(e){return bO(e)&&"fixed"!==PO(e).position?e.offsetParent:null}function $O(e){for(var t=vO(e),n=UO(e);n&&FO(n)&&"static"===PO(n).position;)n=UO(n);return n&&("html"===EO(n)||"body"===EO(n)&&"static"===PO(n).position)?t:n||function(e){var t=/firefox/i.test(SO());if(/Trident/i.test(SO())&&bO(e)&&"fixed"===PO(e).position)return null;var n=MO(e);for(wO(n)&&(n=n.host);bO(n)&&["html","body"].indexOf(EO(n))<0;){var r=PO(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var zO="top",BO="bottom",VO="right",WO="left",HO="auto",qO=[zO,BO,VO,WO],GO="start",KO="end",YO="viewport",QO="popper",XO=qO.reduce((function(e,t){return e.concat([t+"-"+GO,t+"-"+KO])}),[]),JO=[].concat(qO,[HO]).reduce((function(e,t){return e.concat([t,t+"-"+GO,t+"-"+KO])}),[]),ZO=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function eL(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function tL(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var nL={placement:"bottom",modifiers:[],strategy:"absolute"};function rL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function oL(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?nL:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},nL,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:o,setOptions:function(n){var a="function"===typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,a),o.scrollParents={reference:yO(e)?LO(e):e.contextElement?LO(e.contextElement):[],popper:LO(t)};var u=function(e){var t=eL(e);return ZO.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var a=i({state:o,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=o.elements,t=e.reference,n=e.popper;if(rL(t,n)){o.rects={reference:DO(t,$O(n),"fixed"===o.options.strategy),popper:NO(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],s=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof s&&(o=s({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:tL((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),a=!0}};if(!rL(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var iL={passive:!0};function sL(e){return e.split("-")[0]}function aL(e){return e.split("-")[1]}function lL(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function cL(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?sL(o):null,s=o?aL(o):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case zO:t={x:a,y:n.y-r.height};break;case BO:t={x:a,y:n.y+n.height};break;case VO:t={x:n.x+n.width,y:l};break;case WO:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?lL(i):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case GO:t[c]=t[c]-(n[u]/2-r[u]/2);break;case KO:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var uL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dL(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=WO,w=zO,x=window;if(c){var A=$O(n),_="clientHeight",S="clientWidth";if(A===vO(n)&&"static"!==PO(A=IO(n)).position&&"absolute"===a&&(_="scrollHeight",S="scrollWidth"),o===zO||(o===WO||o===VO)&&i===KO)w=BO,m-=(d&&A===x&&x.visualViewport?x.visualViewport.height:A[_])-r.height,m*=l?1:-1;if(o===WO||(o===zO||o===BO)&&i===KO)b=VO,p-=(d&&A===x&&x.visualViewport?x.visualViewport.width:A[S])-r.width,p*=l?1:-1}var C,k=Object.assign({position:a},c&&uL),T=!0===u?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:_O(n*o)/o||0,y:_O(r*o)/o||0}}({x:p,y:m},vO(n)):{x:p,y:m};return p=T.x,m=T.y,l?Object.assign({},k,((C={})[w]=y?"0":"",C[b]=v?"0":"",C.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",C)):Object.assign({},k,((t={})[w]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const hL={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];bO(o)&&EO(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});bO(r)&&EO(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const pL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,s=JO.reduce((function(e,n){return e[n]=function(e,t,n){var r=sL(e),o=[WO,zO].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[WO,VO].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,i),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var fL={left:"right",right:"left",bottom:"top",top:"bottom"};function mL(e){return e.replace(/left|right|bottom|top/g,(function(e){return fL[e]}))}var gL={start:"end",end:"start"};function vL(e){return e.replace(/start|end/g,(function(e){return gL[e]}))}function yL(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&wO(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function bL(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function wL(e,t,n){return t===YO?bL(function(e,t){var n=vO(e),r=IO(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var c=CO();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+RO(e),y:l}}(e,n)):yO(t)?function(e,t){var n=kO(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):bL(function(e){var t,n=IO(e),r=TO(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=xO(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=xO(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+RO(e),l=-r.scrollTop;return"rtl"===PO(o||n).direction&&(a+=xO(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}(IO(e)))}function xL(e,t,n,r){var o="clippingParents"===t?function(e){var t=LO(MO(e)),n=["absolute","fixed"].indexOf(PO(e).position)>=0&&bO(e)?$O(e):e;return yO(n)?t.filter((function(e){return yO(e)&&yL(e,n)&&"body"!==EO(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),s=i[0],a=i.reduce((function(t,n){var o=wL(e,n,r);return t.top=xO(o.top,t.top),t.right=AO(o.right,t.right),t.bottom=AO(o.bottom,t.bottom),t.left=xO(o.left,t.left),t}),wL(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function AL(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function _L(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function SL(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,s=void 0===i?e.strategy:i,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?YO:c,d=n.elementContext,h=void 0===d?QO:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=AL("number"!==typeof g?g:_L(g,qO)),y=h===QO?"reference":QO,b=e.rects.popper,w=e.elements[f?y:h],x=xL(yO(w)?w:w.contextElement||IO(e.elements.popper),l,u,s),A=kO(e.elements.reference),_=cL({reference:A,element:b,strategy:"absolute",placement:o}),S=bL(Object.assign({},b,_)),C=h===QO?S:A,k={top:x.top-C.top+v.top,bottom:C.bottom-x.bottom+v.bottom,left:x.left-C.left+v.left,right:C.right-x.right+v.right},T=e.modifiersData.offset;if(h===QO&&T){var E=T[o];Object.keys(k).forEach((function(e){var t=[VO,BO].indexOf(e)>=0?1:-1,n=[zO,BO].indexOf(e)>=0?"y":"x";k[e]+=E[n]*t}))}return k}const CL={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=sL(g),y=l||(v===g||!f?[mL(g)]:function(e){if(sL(e)===HO)return[];var t=mL(e);return[vL(e),t,vL(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(sL(n)===HO?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?JO:l,u=aL(r),d=u?a?XO:XO.filter((function(e){return aL(e)===u})):qO,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=SL(e,{placement:n,boundary:o,rootBoundary:i,padding:s})[sL(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,A=new Map,_=!0,S=b[0],C=0;C<b.length;C++){var k=b[C],T=sL(k),E=aL(k)===GO,I=[zO,BO].indexOf(T)>=0,R=I?"width":"height",P=SL(t,{placement:k,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),j=I?E?VO:WO:E?BO:zO;w[R]>x[R]&&(j=mL(j));var D=mL(j),N=[];if(i&&N.push(P[T]<=0),a&&N.push(P[j]<=0,P[D]<=0),N.every((function(e){return e}))){S=k,_=!1;break}A.set(k,N)}if(_)for(var M=function(e){var t=b.find((function(t){var n=A.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},O=f?3:1;O>0;O--){if("break"===M(O))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function kL(e,t,n){return xO(e,AO(t,n))}const TL={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=SL(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=sL(t.placement),y=aL(t.placement),b=!y,w=lL(v),x="x"===w?"y":"x",A=t.modifiersData.popperOffsets,_=t.rects.reference,S=t.rects.popper,C="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,k="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(A){if(i){var I,R="y"===w?zO:WO,P="y"===w?BO:VO,j="y"===w?"height":"width",D=A[w],N=D+g[R],M=D-g[P],O=p?-S[j]/2:0,L=y===GO?_[j]:S[j],F=y===GO?-S[j]:-_[j],U=t.elements.arrow,$=p&&U?NO(U):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=z[R],V=z[P],W=kL(0,_[j],$[j]),H=b?_[j]/2-O-W-B-k.mainAxis:L-W-B-k.mainAxis,q=b?-_[j]/2+O+W+V+k.mainAxis:F+W+V+k.mainAxis,G=t.elements.arrow&&$O(t.elements.arrow),K=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,Y=null!=(I=null==T?void 0:T[w])?I:0,Q=D+q-Y,X=kL(p?AO(N,D+H-Y-K):N,D,p?xO(M,Q):M);A[w]=X,E[w]=X-D}if(a){var J,Z="x"===w?zO:WO,ee="x"===w?BO:VO,te=A[x],ne="y"===x?"height":"width",re=te+g[Z],oe=te-g[ee],ie=-1!==[zO,WO].indexOf(v),se=null!=(J=null==T?void 0:T[x])?J:0,ae=ie?re:te-_[ne]-S[ne]-se+k.altAxis,le=ie?te+_[ne]+S[ne]-se-k.altAxis:oe,ce=p&&ie?function(e,t,n){var r=kL(e,t,n);return r>n?n:r}(ae,te,le):kL(p?ae:re,te,p?le:oe);A[x]=ce,E[x]=ce-te}t.modifiersData[r]=E}},requiresIfExists:["offset"]};const EL={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=sL(n.placement),l=lL(a),c=[WO,VO].indexOf(a)>=0?"height":"width";if(i&&s){var u=function(e,t){return AL("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:_L(e,qO))}(o.padding,n),d=NO(i),h="y"===l?zO:WO,p="y"===l?BO:VO,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=$O(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=u[h],w=v-d[c]-u[p],x=v/2-d[c]/2+y,A=kL(b,x,w),_=l;n.modifiersData[r]=((t={})[_]=A,t.centerOffset=A-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&yL(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function IL(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function RL(e){return[zO,VO,BO,WO].some((function(t){return e[t]>=0}))}var PL=oL({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,s=r.resize,a=void 0===s||s,l=vO(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,iL)})),a&&l.addEventListener("resize",n.update,iL),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,iL)})),a&&l.removeEventListener("resize",n.update,iL)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=cL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,l=void 0===a||a,c={placement:sL(t.placement),variation:aL(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,dL(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,dL(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},hL,pL,CL,TL,EL,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=SL(t,{elementContext:"reference"}),a=SL(t,{altBoundary:!0}),l=IL(s,r),c=IL(a,o,i),u=RL(l),d=RL(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});function jL(e){return(0,iT.Ay)("MuiPopper",e)}(0,Ke.A)("MuiPopper",["root"]);const DL=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],NL=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function ML(e){return"function"===typeof e?e():e}function OL(e){return void 0!==e.nodeType}const LL={},FL=r.forwardRef((function(e,t){var n;const{anchorEl:o,children:i,direction:s,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:p={},slots:f={},TransitionProps:m}=e,g=(0,De.A)(e,DL),v=r.useRef(null),y=(0,CT.A)(v,t),b=r.useRef(null),w=(0,CT.A)(b,h),x=r.useRef(w);(0,XI.A)((()=>{x.current=w}),[w]),r.useImperativeHandle(h,(()=>b.current),[]);const A=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(u,s),[_,S]=r.useState(A),[C,k]=r.useState(ML(o));r.useEffect((()=>{b.current&&b.current.forceUpdate()})),r.useEffect((()=>{o&&k(ML(o))}),[o]),(0,XI.A)((()=>{if(!C||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{S(e.placement)})(t)}}];null!=l&&(e=e.concat(l)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));const t=PL(C,v.current,(0,je.A)({placement:A},d,{modifiers:e}));return x.current(t),()=>{t.destroy(),x.current(null)}}),[C,a,l,c,d,A]);const T={placement:_};null!==m&&(T.TransitionProps=m);const E=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"]},jL,t)})(e),I=null!=(n=f.root)?n:"div",R=UE({elementType:I,externalSlotProps:p.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:E.root});return(0,Ve.jsx)(I,(0,je.A)({},R,{children:"function"===typeof i?i(T):i}))})),UL=r.forwardRef((function(e,t){const{anchorEl:n,children:o,container:i,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=LL,popperRef:p,style:f,transition:m=!1,slotProps:g={},slots:v={}}=e,y=(0,De.A)(e,NL),[b,w]=r.useState(!0);if(!l&&!u&&(!m||b))return null;let x;if(i)x=i;else if(n){const e=ML(n);x=e&&OL(e)?(0,qI.A)(e).body:(0,qI.A)(null).body}const A=u||!l||m&&!b?void 0:"none",_=m?{in:u,onEnter:()=>{w(!1)},onExited:()=>{w(!0)}}:void 0;return(0,Ve.jsx)(ZI,{disablePortal:a,container:x,children:(0,Ve.jsx)(FL,(0,je.A)({anchorEl:n,direction:s,disablePortal:a,modifiers:c,ref:t,open:m?!b:u,placement:d,popperOptions:h,popperRef:p,slotProps:g,slots:v},y,{style:(0,je.A)({position:"fixed",top:0,left:0,display:A},f),TransitionProps:_,children:o}))})})),$L=UL,zL=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],BL=(0,tT.Ay)($L,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),VL=r.forwardRef((function(e,t){var n;const r=(0,gO.A)(),o=(0,Ze.b)({props:e,name:"MuiPopper"}),{anchorEl:i,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:p,placement:f,popperOptions:m,popperRef:g,transition:v,slots:y,slotProps:b}=o,w=(0,De.A)(o,zL),x=null!=(n=null==y?void 0:y.root)?n:null==a?void 0:a.Root,A=(0,je.A)({anchorEl:i,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:p,placement:f,popperOptions:m,popperRef:g,transition:v},w);return(0,Ve.jsx)(BL,(0,je.A)({as:s,direction:null==r?void 0:r.direction,slots:{root:x},slotProps:null!=b?b:l},A,{ref:t}))})),WL=VL;function HL(e){return(0,iT.Ay)("MuiPickersPopper",e)}(0,Ke.A)("MuiPickersPopper",["root","paper"]);const qL=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).activeElement;return e?e.shadowRoot?qL(e.shadowRoot):e:null},GL="@media (pointer: fine)",KL="undefined"!==typeof navigator&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),YL=KL&&KL[1]?parseInt(KL[1],10):null,QL=KL&&KL[2]?parseInt(KL[2],10):null,XL=YL&&YL<10||QL&&QL<13||!1,JL=()=>rM("@media (prefers-reduced-motion: reduce)",{defaultMatches:!1})||XL,ZL=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],eF=(0,tT.Ay)(WL,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal}})),tF=(0,tT.Ay)(uT,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})((e=>{let{ownerState:t}=e;return(0,je.A)({outline:0,transformOrigin:"top center"},t.placement.includes("top")&&{transformOrigin:"bottom center"})}));const nF=r.forwardRef(((e,t)=>{const{PaperComponent:n,popperPlacement:r,ownerState:o,children:i,paperSlotProps:s,paperClasses:a,onPaperClick:l,onPaperTouchStart:c}=e,u=(0,De.A)(e,ZL),d=(0,je.A)({},o,{placement:r}),h=mO({elementType:n,externalSlotProps:s,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:a,ownerState:d});return(0,Ve.jsx)(n,(0,je.A)({},u,h,{onClick:e=>{var t;l(e),null==(t=h.onClick)||t.call(h,e)},onTouchStart:e=>{var t;c(e),null==(t=h.onTouchStart)||t.call(h,e)},ownerState:d,children:i}))}));function rF(e){var t,n,o,i;const s=oM({props:e,name:"MuiPickersPopper"}),{anchorEl:a,children:l,containerRef:c=null,shouldRestoreFocus:u,onBlur:d,onDismiss:h,open:p,role:f,placement:m,slots:g,slotProps:v,reduceAnimations:y}=s;r.useEffect((()=>{function e(e){!p||"Escape"!==e.key&&"Esc"!==e.key||h()}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[h,p]);const b=r.useRef(null);r.useEffect((()=>{"tooltip"===f||u&&!u()||(p?b.current=qL(document):b.current&&b.current instanceof HTMLElement&&setTimeout((()=>{b.current instanceof HTMLElement&&b.current.focus()})))}),[p,f,u]);const[w,x,A]=function(e,t){const n=r.useRef(!1),o=r.useRef(!1),i=r.useRef(null),s=r.useRef(!1);r.useEffect((()=>{if(e)return document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",t,!0),()=>{document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",t,!0),s.current=!1};function t(){s.current=!0}}),[e]);const a=(0,cR.A)((e=>{if(!s.current)return;const r=o.current;o.current=!1;const a=(0,qI.A)(i.current);if(!i.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,a))return;if(n.current)return void(n.current=!1);let l;l=e.composedPath?e.composedPath().indexOf(i.current)>-1:!a.documentElement.contains(e.target)||i.current.contains(e.target),l||r||t(e)})),l=()=>{o.current=!0};return r.useEffect((()=>{if(e){const e=(0,qI.A)(i.current),t=()=>{n.current=!0};return e.addEventListener("touchstart",a),e.addEventListener("touchmove",t),()=>{e.removeEventListener("touchstart",a),e.removeEventListener("touchmove",t)}}}),[e,a]),r.useEffect((()=>{if(e){const e=(0,qI.A)(i.current);return e.addEventListener("click",a),()=>{e.removeEventListener("click",a),o.current=!1}}}),[e,a]),[i,l,l]}(p,null!=d?d:h),_=r.useRef(null),S=(0,CT.A)(_,c),C=(0,CT.A)(S,w),k=s,T=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"],paper:["paper"]},HL,t)})(k),E=JL(),I=null!=y?y:E,R=(null!=(t=null==g?void 0:g.desktopTransition)?t:I)?rR:HI,P=null!=(n=null==g?void 0:g.desktopTrapFocus)?n:QI,j=null!=(o=null==g?void 0:g.desktopPaper)?o:tF,D=null!=(i=null==g?void 0:g.popper)?i:eF,N=mO({elementType:D,externalSlotProps:null==v?void 0:v.popper,additionalProps:{transition:!0,role:f,open:p,anchorEl:a,placement:m,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),h())}},className:T.root,ownerState:s});return(0,Ve.jsx)(D,(0,je.A)({},N,{children:e=>{let{TransitionProps:t,placement:n}=e;return(0,Ve.jsx)(P,(0,je.A)({open:p,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:"tooltip"===f,isEnabled:()=>!0},null==v?void 0:v.desktopTrapFocus,{children:(0,Ve.jsx)(R,(0,je.A)({},t,null==v?void 0:v.desktopTransition,{children:(0,Ve.jsx)(nF,{PaperComponent:j,ownerState:k,popperPlacement:n,ref:C,onPaperClick:x,onPaperTouchStart:A,paperClasses:T.paper,paperSlotProps:null==v?void 0:v.desktopPaper,children:l})}))}))}}))}var oF=n(3931);function iF(e,t,n,o){const{value:i,onError:s}=e,a=QM(),l=r.useRef(o),c=t({adapter:a,value:i,props:e});return r.useEffect((()=>{s&&!n(c,l.current)&&s(c,i),l.current=c}),[n,s,l,c,i]),c}const sF=e=>{let{timezone:t,value:n,defaultValue:o,onChange:i,valueManager:s}=e;var a,l;const c=XM(),u=r.useRef(o),d=null!=(a=null!=n?n:u.current)?a:s.emptyValue,h=r.useMemo((()=>s.getTimezone(c,d)),[c,s,d]),p=(0,cR.A)((e=>null==h?e:s.setTimezone(c,h,e))),f=null!=(l=null!=t?t:h)?l:"default",m=r.useMemo((()=>s.setTimezone(c,f,d)),[s,c,f,d]),g=(0,cR.A)((function(e){const t=p(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null==i||i(t,...r)}));return{value:m,handleValueChange:g,timezone:f}},aF=e=>{let{name:t,timezone:n,value:r,defaultValue:o,onChange:i,valueManager:s}=e;const[a,l]=(0,oF.A)({name:t,state:"value",controlled:r,default:null!=o?o:s.emptyValue}),c=(0,cR.A)((function(e){l(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==i||i(e,...n)}));return sF({timezone:n,value:a,defaultValue:void 0,onChange:c,valueManager:s})},lF=e=>{let{props:t,valueManager:n,valueType:o,wrapperVariant:i,validator:s}=e;const{onAccept:a,onChange:l,value:c,defaultValue:u,closeOnSelect:d="desktop"===i,selectedSections:h,onSelectedSectionsChange:p,timezone:f}=t,{current:m}=r.useRef(u),{current:g}=r.useRef(void 0!==c);const v=XM(),y=QM(),[b,w]=(0,oF.A)({controlled:h,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:x,setIsOpen:A}=(e=>{let{open:t,onOpen:n,onClose:o}=e;const i=r.useRef("boolean"===typeof t).current,[s,a]=r.useState(!1);return r.useEffect((()=>{if(i){if("boolean"!==typeof t)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");a(t)}}),[i,t]),{isOpen:s,setIsOpen:r.useCallback((e=>{i||a(e),e&&n&&n(),!e&&o&&o()}),[i,n,o])}})(t),[_,S]=r.useState((()=>{let e;return e=void 0!==c?c:void 0!==m?m:n.emptyValue,{draft:e,lastPublishedValue:e,lastCommittedValue:e,lastControlledValue:c,hasBeenModifiedSinceMount:!1}})),{timezone:C,handleValueChange:k}=sF({timezone:f,value:c,defaultValue:m,onChange:l,valueManager:n});iF((0,je.A)({},t,{value:_.draft,timezone:C}),s,n.isSameError,n.defaultErrorState);const T=(0,cR.A)((e=>{const r={action:e,dateState:_,hasChanged:t=>!n.areValuesEqual(v,e.value,t),isControlled:g,closeOnSelect:d},o=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:o}=e,i=!o&&!r.hasBeenModifiedSinceMount;return"setValueFromField"===t.name||("setValueFromAction"===t.name?!(!i||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastPublishedValue):("setValueFromView"===t.name&&"shallow"!==t.selectionState||"setValueFromShortcut"===t.name)&&(!!i||n(r.lastPublishedValue)))})(r),i=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:o,closeOnSelect:i}=e,s=!o&&!r.hasBeenModifiedSinceMount;return"setValueFromAction"===t.name?!(!s||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastCommittedValue):"setValueFromView"===t.name&&"finish"===t.selectionState&&i?!!s||n(r.lastCommittedValue):"setValueFromShortcut"===t.name&&"accept"===t.changeImportance&&n(r.lastCommittedValue)})(r),l=(e=>{const{action:t,closeOnSelect:n}=e;return"setValueFromAction"===t.name||("setValueFromView"===t.name?"finish"===t.selectionState&&n:"setValueFromShortcut"===t.name&&"accept"===t.changeImportance)})(r);if(S((t=>(0,je.A)({},t,{draft:e.value,lastPublishedValue:o?e.value:t.lastPublishedValue,lastCommittedValue:i?e.value:t.lastCommittedValue,hasBeenModifiedSinceMount:!0}))),o){const n={validationError:"setValueFromField"===e.name?e.context.validationError:s({adapter:y,value:e.value,props:(0,je.A)({},t,{value:e.value,timezone:C})})};"setValueFromShortcut"===e.name&&null!=e.shortcut&&(n.shortcut=e.shortcut),k(e.value,n)}i&&a&&a(e.value),l&&A(!1)}));if(void 0!==c&&(void 0===_.lastControlledValue||!n.areValuesEqual(v,_.lastControlledValue,c))){const e=n.areValuesEqual(v,_.draft,c);S((t=>(0,je.A)({},t,{lastControlledValue:c},e?{}:{lastCommittedValue:c,lastPublishedValue:c,draft:c,hasBeenModifiedSinceMount:!0})))}const E=(0,cR.A)((()=>{T({value:n.emptyValue,name:"setValueFromAction",pickerAction:"clear"})})),I=(0,cR.A)((()=>{T({value:_.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})})),R=(0,cR.A)((()=>{T({value:_.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})})),P=(0,cR.A)((()=>{T({value:_.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})})),j=(0,cR.A)((()=>{T({value:n.getTodayValue(v,C,o),name:"setValueFromAction",pickerAction:"today"})})),D=(0,cR.A)((()=>A(!0))),N=(0,cR.A)((()=>A(!1))),M=(0,cR.A)((function(e){return T({name:"setValueFromView",value:e,selectionState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"partial"})})),O=(0,cR.A)(((e,t,n)=>T({name:"setValueFromShortcut",value:e,changeImportance:null!=t?t:"accept",shortcut:n}))),L=(0,cR.A)(((e,t)=>T({name:"setValueFromField",value:e,context:t}))),F=(0,cR.A)((e=>{w(e),null==p||p(e)})),U={onClear:E,onAccept:I,onDismiss:R,onCancel:P,onSetToday:j,onOpen:D,onClose:N},$={value:_.draft,onChange:L,selectedSections:b,onSelectedSectionsChange:F},z=r.useMemo((()=>n.cleanValue(v,_.draft)),[v,n,_.draft]),B={value:z,onChange:M,onClose:N,open:x,onSelectedSectionsChange:F},V=(0,je.A)({},U,{value:z,onChange:M,onSelectShortcut:O,isValid:e=>{const r=s({adapter:y,value:e,props:(0,je.A)({},t,{value:e,timezone:C})});return!n.hasError(r)}});return{open:x,fieldProps:$,viewProps:B,layoutProps:V,actions:U}};function cF(e){let{onChange:t,onViewChange:n,openTo:o,view:i,views:s,autoFocus:a,focusedView:l,onFocusedViewChange:c}=e;var u,d;const h=r.useRef(o),p=r.useRef(s),f=r.useRef(s.includes(o)?o:s[0]),[m,g]=(0,oF.A)({name:"useViews",state:"view",controlled:i,default:f.current}),v=r.useRef(a?m:null),[y,b]=(0,oF.A)({name:"useViews",state:"focusedView",controlled:l,default:v.current});r.useEffect((()=>{(h.current&&h.current!==o||p.current&&p.current.some((e=>!s.includes(e))))&&(g(s.includes(o)?o:s[0]),p.current=s,h.current=o)}),[o,g,m,s]);const w=s.indexOf(m),x=null!=(u=s[w-1])?u:null,A=null!=(d=s[w+1])?d:null,_=(0,cR.A)(((e,t)=>{b(t?e:t=>e===t?null:t),null==c||c(e,t)})),S=(0,cR.A)((e=>{_(e,!0),e!==m&&(g(e),n&&n(e))})),C=(0,cR.A)((()=>{A&&S(A)})),k=(0,cR.A)(((e,n,r)=>{const o="finish"===n,i=r?s.indexOf(r)<s.length-1:Boolean(A);if(t(e,o&&i?"partial":n,r),r&&r!==m){const e=s[s.indexOf(r)+1];e&&S(e)}else o&&C()}));return{view:m,setView:S,focusedView:y,setFocusedView:_,nextView:A,previousView:x,defaultView:s.includes(o)?o:s[0],goToNextView:C,setValueAndGoToNextView:k}}const uF=["className","sx"],dF=e=>{let{props:t,propsFromPickerValue:n,additionalViewProps:o,inputRef:i,autoFocusView:s}=e;const{onChange:a,open:l,onSelectedSectionsChange:c,onClose:u}=n,{view:d,views:h,openTo:p,onViewChange:f,viewRenderers:m,timezone:g}=t,v=(0,De.A)(t,uF),{view:y,setView:b,defaultView:w,focusedView:x,setFocusedView:A,setValueAndGoToNextView:_}=cF({view:d,views:h,openTo:p,onChange:a,onViewChange:f,autoFocus:s}),{hasUIView:S,viewModeLookup:C}=r.useMemo((()=>h.reduce(((e,t)=>{let n;return n=null!=m[t]?"UI":"field",e.viewModeLookup[t]=n,"UI"===n&&(e.hasUIView=!0),e}),{hasUIView:!1,viewModeLookup:{}})),[m,h]),k=r.useMemo((()=>h.reduce(((e,t)=>null!=m[t]&&(e=>bM.includes(e))(t)?e+1:e),0)),[m,h]),T=C[y],E=(0,cR.A)((()=>"UI"===T)),[I,R]=r.useState("UI"===T?y:null);I!==y&&"UI"===C[y]&&R(y),(0,XI.A)((()=>{"field"===T&&l&&(u(),setTimeout((()=>{null==i||i.current.focus(),c(y)})))}),[y]),(0,XI.A)((()=>{if(!l)return;let e=y;"field"===T&&null!=I&&(e=I),e!==w&&"UI"===C[e]&&"UI"===C[w]&&(e=w),e!==y&&b(e),A(e,!0)}),[l]);return{hasUIView:S,shouldRestoreFocus:E,layoutProps:{views:h,view:I,onViewChange:b},renderCurrentView:()=>{if(null==I)return null;const e=m[I];return null==e?null:e((0,je.A)({},v,o,n,{views:h,timezone:g,onChange:_,view:I,onViewChange:b,focusedView:x,onFocusedViewChange:A,showViewSwitcher:k>1,timeViewsCount:k}))}}};function hF(){return"undefined"===typeof window?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?90===Math.abs(window.screen.orientation.angle)?"landscape":"portrait":window.orientation&&90===Math.abs(Number(window.orientation))?"landscape":"portrait"}const pF=(e,t)=>{const[n,o]=r.useState(hF);if((0,XI.A)((()=>{const e=()=>{o(hF())};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}}),[]),i=e,s=["hours","minutes","seconds"],Array.isArray(s)?s.every((e=>-1!==i.indexOf(e))):-1!==i.indexOf(s))return!1;var i,s;return"landscape"===(t||n)},fF=(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",n=!1;const r=Array.isArray(e)?e.join("\n"):e}(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]),e=>{let{props:t,valueManager:n,valueType:r,wrapperVariant:o,inputRef:i,additionalViewProps:s,validator:a,autoFocusView:l}=e;const c=lF({props:t,valueManager:n,valueType:r,wrapperVariant:o,validator:a}),u=dF({props:t,inputRef:i,additionalViewProps:s,autoFocusView:l,propsFromPickerValue:c.viewProps}),d=(e=>{let{props:t,propsFromPickerValue:n,propsFromPickerViews:r,wrapperVariant:o}=e;const{orientation:i}=t,s=pF(r.views,i);return{layoutProps:(0,je.A)({},r,n,{isLandscape:s,wrapperVariant:o,disabled:t.disabled,readOnly:t.readOnly})}})({props:t,wrapperVariant:o,propsFromPickerValue:c.layoutProps,propsFromPickerViews:u.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:d.layoutProps}});function mF(e){return(0,iT.Ay)("MuiPickersLayout",e)}const gF=(0,Ke.A)("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]);function vF(e){return(0,iT.Ay)("MuiDialogActions",e)}(0,Ke.A)("MuiDialogActions",["root","spacing"]);const yF=["className","disableSpacing"],bF=(0,tT.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),wF=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:o=!1}=n,i=(0,De.A)(n,yF),s=(0,je.A)({},n,{disableSpacing:o}),a=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,eT.A)(r,vF,t)})(s);return(0,Ve.jsx)(bF,(0,je.A)({className:(0,Ne.A)(a.root,r),ownerState:s,ref:t},i))})),xF=wF,AF=["onAccept","onClear","onCancel","onSetToday","actions"];function _F(e){const{onAccept:t,onClear:n,onCancel:r,onSetToday:o,actions:i}=e,s=(0,De.A)(e,AF),a=ZM();if(null==i||0===i.length)return null;const l=null==i?void 0:i.map((e=>{switch(e){case"clear":return(0,Ve.jsx)(sI,{onClick:n,children:a.clearButtonLabel},e);case"cancel":return(0,Ve.jsx)(sI,{onClick:r,children:a.cancelButtonLabel},e);case"accept":return(0,Ve.jsx)(sI,{onClick:t,children:a.okButtonLabel},e);case"today":return(0,Ve.jsx)(sI,{onClick:o,children:a.todayButtonLabel},e);default:return null}}));return(0,Ve.jsx)(xF,(0,je.A)({},s,{children:l}))}function SF(e){return(0,iT.Ay)("MuiListItem",e)}const CF=(0,Ke.A)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function kF(e){return(0,iT.Ay)("MuiListItemButton",e)}const TF=(0,Ke.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function EF(e){return(0,iT.Ay)("MuiListItemSecondaryAction",e)}(0,Ke.A)("MuiListItemSecondaryAction",["root","disableGutters"]);const IF=["className"],RF=(0,tT.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,je.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),PF=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiListItemSecondaryAction"}),{className:o}=n,i=(0,De.A)(n,IF),s=r.useContext(lI),a=(0,je.A)({},n,{disableGutters:s.disableGutters}),l=(e=>{const{disableGutters:t,classes:n}=e,r={root:["root",t&&"disableGutters"]};return(0,eT.A)(r,EF,n)})(a);return(0,Ve.jsx)(RF,(0,je.A)({className:(0,Ne.A)(l.root,o),ownerState:a,ref:t},i))}));PF.muiName="ListItemSecondaryAction";const jF=PF,DF=["className"],NF=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],MF=(0,tT.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,je.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{[`& > .${TF.root}`]:{paddingRight:48}},{[`&.${CF.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${CF.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,rT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${CF.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,rT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${CF.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${CF.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,rT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,rT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),OF=(0,tT.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),LF=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiListItem"}),{alignItems:o="center",autoFocus:i=!1,button:s=!1,children:a,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:p}={},dense:f=!1,disabled:m=!1,disableGutters:g=!1,disablePadding:v=!1,divider:y=!1,focusVisibleClassName:b,secondaryAction:w,selected:x=!1,slotProps:A={},slots:_={}}=n,S=(0,De.A)(n.ContainerProps,DF),C=(0,De.A)(n,NF),k=r.useContext(lI),T=r.useMemo((()=>({dense:f||k.dense||!1,alignItems:o,disableGutters:g})),[o,k.dense,f,g]),E=r.useRef(null);(0,gI.A)((()=>{i&&E.current&&E.current.focus()}),[i]);const I=r.Children.toArray(a),R=I.length&&(0,Jj.A)(I[I.length-1],["ListItemSecondaryAction"]),P=(0,je.A)({},n,{alignItems:o,autoFocus:i,button:s,dense:T.dense,disabled:m,disableGutters:g,disablePadding:v,divider:y,hasSecondaryAction:R,selected:x}),j=(e=>{const{alignItems:t,button:n,classes:r,dense:o,disabled:i,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e,d={root:["root",o&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]};return(0,eT.A)(d,SF,r)})(P),D=(0,YT.A)(E,t),N=_.root||u.Root||MF,M=A.root||d.root||{},O=(0,je.A)({className:(0,Ne.A)(j.root,M.className,l),disabled:m},C);let L=c||"li";return s&&(O.component=c||"div",O.focusVisibleClassName=(0,Ne.A)(CF.focusVisible,b),L=RE),R?(L=O.component||c?L:"div","li"===h&&("li"===L?L="div":"li"===O.component&&(O.component="div")),(0,Ve.jsx)(lI.Provider,{value:T,children:(0,Ve.jsxs)(OF,(0,je.A)({as:h,className:(0,Ne.A)(j.container,p),ref:D,ownerState:P},S,{children:[(0,Ve.jsx)(N,(0,je.A)({},M,!kT(N)&&{as:L,ownerState:(0,je.A)({},P,M.ownerState)},O,{children:I})),I.pop()]}))})):(0,Ve.jsx)(lI.Provider,{value:T,children:(0,Ve.jsxs)(N,(0,je.A)({},M,{as:L,ref:D},!kT(N)&&{ownerState:(0,je.A)({},P,M.ownerState)},O,{children:[I,w&&(0,Ve.jsx)(jF,{children:w})]}))})})),FF=LF,UF=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function $F(e){return(0,iT.Ay)("MuiChip",e)}const zF=(0,Ke.A)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),BF=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],VF=(0,tT.Ay)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:l}=n;return[{[`& .${zF.avatar}`]:t.avatar},{[`& .${zF.avatar}`]:t[`avatar${(0,nT.A)(a)}`]},{[`& .${zF.avatar}`]:t[`avatarColor${(0,nT.A)(r)}`]},{[`& .${zF.icon}`]:t.icon},{[`& .${zF.icon}`]:t[`icon${(0,nT.A)(a)}`]},{[`& .${zF.icon}`]:t[`iconColor${(0,nT.A)(o)}`]},{[`& .${zF.deleteIcon}`]:t.deleteIcon},{[`& .${zF.deleteIcon}`]:t[`deleteIcon${(0,nT.A)(a)}`]},{[`& .${zF.deleteIcon}`]:t[`deleteIconColor${(0,nT.A)(r)}`]},{[`& .${zF.deleteIcon}`]:t[`deleteIcon${(0,nT.A)(l)}Color${(0,nT.A)(r)}`]},t.root,t[`size${(0,nT.A)(a)}`],t[`color${(0,nT.A)(r)}`],i&&t.clickable,i&&"default"!==r&&t[`clickableColor${(0,nT.A)(r)})`],s&&t.deletable,s&&"default"!==r&&t[`deletableColor${(0,nT.A)(r)}`],t[l],t[`${l}${(0,nT.A)(r)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,je.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${zF.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${zF.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},[`& .${zF.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${zF.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${zF.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${zF.icon}`]:(0,je.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,je.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),[`& .${zF.deleteIcon}`]:(0,je.A)({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:(0,rT.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,rT.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?`rgba(${t.vars.palette[n.color].contrastTextChannel} / 0.7)`:(0,rT.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{[`&.${zF.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,rT.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{[`&.${zF.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,rT.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${zF.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,rT.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{[`&:hover, &.${zF.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${zF.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${zF.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${zF.avatar}`]:{marginLeft:4},[`& .${zF.avatarSmall}`]:{marginLeft:2},[`& .${zF.icon}`]:{marginLeft:4},[`& .${zF.iconSmall}`]:{marginLeft:2},[`& .${zF.deleteIcon}`]:{marginRight:5},[`& .${zF.deleteIconSmall}`]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,rT.X4)(t.palette[n.color].main,.7)}`,[`&.${zF.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,rT.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},[`&.${zF.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:(0,rT.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},[`& .${zF.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,rT.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})})),WF=(0,tT.Ay)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${(0,nT.A)(r)}`]]}})((e=>{let{ownerState:t}=e;return(0,je.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})}));function HF(e){return"Backspace"===e.key||"Delete"===e.key}const qF=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiChip"}),{avatar:o,className:i,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:p,onDelete:f,onKeyDown:m,onKeyUp:g,size:v="medium",variant:y="filled",tabIndex:b,skipFocusWhenDisabled:w=!1}=n,x=(0,De.A)(n,BF),A=r.useRef(null),_=(0,YT.A)(A,t),S=e=>{e.stopPropagation(),f&&f(e)},C=!(!1===s||!p)||s,k=C||f?RE:l||"div",T=(0,je.A)({},n,{component:k,disabled:u,size:v,color:a,iconColor:r.isValidElement(d)&&d.props.color||a,onDelete:!!f,clickable:C,variant:y}),E=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:l}=e,c={root:["root",l,n&&"disabled",`size${(0,nT.A)(r)}`,`color${(0,nT.A)(o)}`,a&&"clickable",a&&`clickableColor${(0,nT.A)(o)}`,s&&"deletable",s&&`deletableColor${(0,nT.A)(o)}`,`${l}${(0,nT.A)(o)}`],label:["label",`label${(0,nT.A)(r)}`],avatar:["avatar",`avatar${(0,nT.A)(r)}`,`avatarColor${(0,nT.A)(o)}`],icon:["icon",`icon${(0,nT.A)(r)}`,`iconColor${(0,nT.A)(i)}`],deleteIcon:["deleteIcon",`deleteIcon${(0,nT.A)(r)}`,`deleteIconColor${(0,nT.A)(o)}`,`deleteIcon${(0,nT.A)(l)}Color${(0,nT.A)(o)}`]};return(0,eT.A)(c,$F,t)})(T),I=k===RE?(0,je.A)({component:l||"div",focusVisibleClassName:E.focusVisible},f&&{disableRipple:!0}):{};let R=null;f&&(R=c&&r.isValidElement(c)?r.cloneElement(c,{className:(0,Ne.A)(c.props.className,E.deleteIcon),onClick:S}):(0,Ve.jsx)(UF,{className:(0,Ne.A)(E.deleteIcon),onClick:S}));let P=null;o&&r.isValidElement(o)&&(P=r.cloneElement(o,{className:(0,Ne.A)(E.avatar,o.props.className)}));let j=null;return d&&r.isValidElement(d)&&(j=r.cloneElement(d,{className:(0,Ne.A)(E.icon,d.props.className)})),(0,Ve.jsxs)(VF,(0,je.A)({as:k,className:(0,Ne.A)(E.root,i),disabled:!(!C||!u)||void 0,onClick:p,onKeyDown:e=>{e.currentTarget===e.target&&HF(e)&&e.preventDefault(),m&&m(e)},onKeyUp:e=>{e.currentTarget===e.target&&(f&&HF(e)?f(e):"Escape"===e.key&&A.current&&A.current.blur()),g&&g(e)},ref:_,tabIndex:w&&u?-1:b,ownerState:T},I,x,{children:[P||j,(0,Ve.jsx)(WF,{className:(0,Ne.A)(E.label),ownerState:T,children:h}),R]}))})),GF=qF,KF=320,YF=["items","changeImportance","isLandscape","onChange","isValid"],QF=["getValue"];function XF(e){const{items:t,changeImportance:n,onChange:r,isValid:o}=e,i=(0,De.A)(e,YF);if(null==t||0===t.length)return null;const s=t.map((e=>{let{getValue:t}=e,i=(0,De.A)(e,QF);const s=t({isValid:o});return{label:i.label,onClick:()=>{r(s,n,i)},disabled:!o(s)}}));return(0,Ve.jsx)(pI,(0,je.A)({dense:!0,sx:[{maxHeight:334,maxWidth:200,overflow:"auto"},...Array.isArray(i.sx)?i.sx:[i.sx]]},i,{children:s.map((e=>(0,Ve.jsx)(FF,{children:(0,Ve.jsx)(GF,(0,je.A)({},e))},e.label)))}))}const JF=e=>{var t,n;const{wrapperVariant:r,onAccept:o,onClear:i,onCancel:s,onSetToday:a,view:l,views:c,onViewChange:u,value:d,onChange:h,onSelectShortcut:p,isValid:f,isLandscape:m,disabled:g,readOnly:v,children:y,components:b,componentsProps:w,slots:x,slotProps:A}=e,_=null!=x?x:uO(b),S=null!=A?A:w,C=(e=>{const{classes:t,isLandscape:n}=e,r={root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]};return(0,eT.A)(r,mF,t)})(e),k=null!=(t=null==_?void 0:_.actionBar)?t:_F,T=mO({elementType:k,externalSlotProps:null==S?void 0:S.actionBar,additionalProps:{onAccept:o,onClear:i,onCancel:s,onSetToday:a,actions:"desktop"===r?[]:["cancel","accept"],className:C.actionBar},ownerState:(0,je.A)({},e,{wrapperVariant:r})}),E=(0,Ve.jsx)(k,(0,je.A)({},T)),I=null==_?void 0:_.toolbar,R=mO({elementType:I,externalSlotProps:null==S?void 0:S.toolbar,additionalProps:{isLandscape:m,onChange:h,value:d,view:l,onViewChange:u,views:c,disabled:g,readOnly:v,className:C.toolbar},ownerState:(0,je.A)({},e,{wrapperVariant:r})}),P=function(e){return null!==e.view}(R)&&I?(0,Ve.jsx)(I,(0,je.A)({},R)):null,j=y,D=null==_?void 0:_.tabs,N=l&&D?(0,Ve.jsx)(D,(0,je.A)({view:l,onViewChange:u,className:C.tabs},null==S?void 0:S.tabs)):null,M=null!=(n=null==_?void 0:_.shortcuts)?n:XF,O=mO({elementType:M,externalSlotProps:null==S?void 0:S.shortcuts,additionalProps:{isValid:f,isLandscape:m,onChange:p,className:C.shortcuts},ownerState:{isValid:f,isLandscape:m,onChange:p,className:C.shortcuts,wrapperVariant:r}});return{toolbar:P,content:j,tabs:N,actionBar:E,shortcuts:l&&M?(0,Ve.jsx)(M,(0,je.A)({},O)):null}},ZF=(0,tT.Ay)("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:n}=e;return{display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${gF.toolbar}`]:n.isLandscape?{gridColumn:"rtl"===t.direction?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${gF.shortcuts}`]:n.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:"rtl"===t.direction?3:1,gridRow:"2 / 3"},[`& .${gF.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}}));ZF.propTypes={as:sM().elementType,ownerState:sM().shape({isLandscape:sM().bool.isRequired}).isRequired,sx:sM().oneOfType([sM().arrayOf(sM().oneOfType([sM().func,sM().object,sM().bool])),sM().func,sM().object])};const eU=(0,tT.Ay)("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),tU=function(e){const t=oM({props:e,name:"MuiPickersLayout"}),{toolbar:n,content:o,tabs:i,actionBar:s,shortcuts:a}=JF(t),{sx:l,className:c,isLandscape:u,ref:d,wrapperVariant:h}=t,p=t,f=(e=>{const{isLandscape:t,classes:n}=e,r={root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]};return(0,eT.A)(r,mF,n)})(p);return(0,Ve.jsxs)(ZF,{ref:d,sx:l,className:(0,Ne.A)(c,f.root),ownerState:p,children:[u?a:n,u?n:a,(0,Ve.jsx)(eU,{className:f.contentWrapper,children:"desktop"===h?(0,Ve.jsxs)(r.Fragment,{children:[o,i]}):(0,Ve.jsxs)(r.Fragment,{children:[i,o]})}),s]})},nU=["props","getOpenDialogAriaText"],rU=["ownerState"],oU=["ownerState"],iU=(0,AT.A)((0,Ve.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),sU=(0,AT.A)((0,Ve.jsx)("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),aU=(0,AT.A)((0,Ve.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),lU=(0,AT.A)((0,Ve.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),cU=((0,AT.A)((0,Ve.jsxs)(r.Fragment,{children:[(0,Ve.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,Ve.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),(0,AT.A)((0,Ve.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),(0,AT.A)((0,Ve.jsxs)(r.Fragment,{children:[(0,Ve.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,Ve.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),(0,AT.A)((0,Ve.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")),uU=e=>{const t=XM(),n=ZM(),o=QM(),i="rtl"===LI().direction,{valueManager:s,fieldValueManager:a,valueType:l,validator:c,internalProps:u,internalProps:{value:d,defaultValue:h,referenceDate:p,onChange:f,format:m,formatDensity:g="dense",selectedSections:v,onSelectedSectionsChange:y,shouldRespectLeadingZeros:b=!1,timezone:w}}=e,{timezone:x,value:A,handleValueChange:_}=sF({timezone:w,value:d,defaultValue:h,onChange:f,valueManager:s}),S=r.useMemo((()=>((e,t)=>{const n=e.dateWithTimezone(void 0,t),r=e.endOfYear(n),o=e.endOfDay(n),{maxDaysInMonth:i,longestMonth:s}=pM(e,n).reduce(((t,n)=>{const r=e.getDaysInMonth(n);return r>t.maxDaysInMonth?{maxDaysInMonth:r,longestMonth:n}:t}),{maxDaysInMonth:0,longestMonth:null});return{year:n=>{let{format:r}=n;return{minimum:0,maximum:MM(e,t,r)?9999:99}},month:()=>({minimum:1,maximum:e.getMonth(r)+1}),day:t=>{let{currentDate:n}=t;return{minimum:1,maximum:null!=n&&e.isValid(n)?e.getDaysInMonth(n):i,longestMonth:s}},weekDay:n=>{let{format:r,contentType:o}=n;if("digit"===o){const n=CM(e,t,r).map(Number);return{minimum:Math.min(...n),maximum:Math.max(...n)}}return{minimum:1,maximum:7}},hours:t=>{let{format:r}=t;const i=e.getHours(o);return e.formatByString(e.endOfDay(n),r)!==i.toString()?{minimum:1,maximum:Number(e.formatByString(e.startOfDay(n),r))}:{minimum:0,maximum:i}},minutes:()=>({minimum:0,maximum:e.getMinutes(o)}),seconds:()=>({minimum:0,maximum:e.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:0})}})(t,x)),[t,x]),C=r.useCallback((function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.getSectionsFromValue(t,e,r,i,(e=>LM(t,x,n,m,e,g,b,i)))}),[a,m,n,i,b,t,g,x]),k=r.useMemo((()=>a.getValueStrFromSections(C(s.emptyValue),i)),[a,C,s.emptyValue,i]),[T,E]=r.useState((()=>{const e=C(A);FM();const n={sections:e,value:A,referenceValue:s.emptyValue,tempValueStrAndroid:null},r=(e=>Math.max(...e.map((e=>{var t;return null!=(t=xM[e.type])?t:1}))))(e),o=s.getInitialReferenceValue({referenceDate:p,value:A,utils:t,props:u,granularity:r,timezone:x});return(0,je.A)({},n,{referenceValue:o})})),[I,R]=(0,oF.A)({controlled:v,default:null,name:"useField",state:"selectedSectionIndexes"}),P=e=>{R(e),null==y||y(e),E((e=>(0,je.A)({},e,{selectedSectionQuery:null})))},j=r.useMemo((()=>{if(null==I)return null;if("all"===I)return{startIndex:0,endIndex:T.sections.length-1,shouldSelectBoundarySelectors:!0};if("number"===typeof I)return{startIndex:I,endIndex:I};if("string"===typeof I){const e=T.sections.findIndex((e=>e.type===I));return{startIndex:e,endIndex:e}}return I}),[I,T.sections]),D=e=>{let{value:n,referenceValue:r,sections:i}=e;if(E((e=>(0,je.A)({},e,{sections:i,value:n,referenceValue:r,tempValueStrAndroid:null}))),s.areValuesEqual(t,T.value,n))return;const a={validationError:c({adapter:o,value:n,props:(0,je.A)({},u,{value:n,timezone:x})})};_(n,a)},N=(e,t)=>{const n=[...T.sections];return n[e]=(0,je.A)({},n[e],{value:t,modified:!0}),jM(n,i)};return r.useEffect((()=>{const e=C(T.value);FM(),E((t=>(0,je.A)({},t,{sections:e})))}),[m,t.locale]),r.useEffect((()=>{let e=!1;e=!s.areValuesEqual(t,T.value,A)||s.getTimezone(t,T.value)!==s.getTimezone(t,A),e&&E((e=>(0,je.A)({},e,{value:A,referenceValue:a.updateReferenceValue(t,A,e.referenceValue),sections:C(A)})))}),[A]),{state:T,selectedSectionIndexes:j,setSelectedSections:P,clearValue:()=>{D({value:s.emptyValue,referenceValue:T.referenceValue,sections:C(s.emptyValue)})},clearActiveSection:()=>{if(null==j)return;const e=T.sections[j.startIndex],n=a.getActiveDateManager(t,T,e),r=n.getSections(T.sections).filter((e=>""!==e.value)).length===(""===e.value?0:1),o=N(j.startIndex,""),i=r?null:t.date(new Date("")),s=n.getNewValuesFromNewActiveDate(i);(null!=i&&!t.isValid(i))!==(null!=n.date&&!t.isValid(n.date))?D((0,je.A)({},s,{sections:o})):E((e=>(0,je.A)({},e,s,{sections:o,tempValueStrAndroid:null})))},updateSectionValue:e=>{let{activeSection:n,newSectionValue:r,shouldGoToNextSection:o}=e;o&&j&&j.startIndex<T.sections.length-1?P(j.startIndex+1):j&&j.startIndex!==j.endIndex&&P(j.startIndex);const i=a.getActiveDateManager(t,T,n),s=N(j.startIndex,r),l=i.getSections(s),c=((e,t)=>{const n=t.some((e=>"day"===e.type)),r=[],o=[];for(let a=0;a<t.length;a+=1){const e=t[a];n&&"weekDay"===e.type||(r.push(e.format),o.push(RM(e,"non-input")))}const i=r.join(" "),s=o.join(" ");return e.parse(s,i)})(t,l);let u,d;if(null!=c&&t.isValid(c)){const e=$M(t,x,c,l,i.referenceDate,!0);u=i.getNewValuesFromNewActiveDate(e),d=!0}else u=i.getNewValuesFromNewActiveDate(c),d=(null!=c&&!t.isValid(c))!==(null!=i.date&&!t.isValid(i.date));return d?D((0,je.A)({},u,{sections:s})):E((e=>(0,je.A)({},e,u,{sections:s,tempValueStrAndroid:null})))},updateValueFromValueStr:e=>{const r=a.parseValueStr(e,T.referenceValue,((e,r)=>{const o=t.parse(e,m);if(null==o||!t.isValid(o))return null;const s=LM(t,x,n,m,o,g,b,i);return $M(t,x,o,s,r,!1)})),o=a.updateReferenceValue(t,r,T.referenceValue);D({value:r,referenceValue:o,sections:C(r,T.sections)})},setTempAndroidValueStr:e=>E((t=>(0,je.A)({},t,{tempValueStrAndroid:e}))),sectionsValueBoundaries:S,placeholder:k,timezone:x}},dU=e=>null!=e.saveQuery,hU=e=>{let{sections:t,updateSectionValue:n,sectionsValueBoundaries:o,setTempAndroidValueStr:i,timezone:s}=e;const a=XM(),[l,c]=r.useState(null),u=(0,cR.A)((()=>c(null)));r.useEffect((()=>{var e;null!=l&&(null==(e=t[l.sectionIndex])?void 0:e.type)!==l.sectionType&&u()}),[t,l,u]),r.useEffect((()=>{if(null!=l){const e=setTimeout((()=>u()),5e3);return()=>{window.clearTimeout(e)}}return()=>{}}),[l,u]);const d=(e,n,r)=>{let{keyPressed:o,sectionIndex:i}=e;const s=o.toLowerCase(),a=t[i];if(null!=l&&(!r||r(l.value))&&l.sectionIndex===i){const e=`${l.value}${s}`,t=n(e,a);if(!dU(t))return c({sectionIndex:i,value:e,sectionType:a.type}),t}const d=n(s,a);return dU(d)&&!d.saveQuery?(u(),null):(c({sectionIndex:i,value:s,sectionType:a.type}),dU(d)?null:d)},h=(0,cR.A)((e=>{const r=t[e.sectionIndex],l=" "!==e.keyPressed&&!Number.isNaN(Number(e.keyPressed))?(e=>{const t=(e,t)=>{const n=Number(`${e}`),r=o[t.type]({currentDate:null,format:t.format,contentType:t.contentType});if(n>r.maximum)return{saveQuery:!1};if(n<r.minimum)return{saveQuery:!0};const i=Number(`${e}0`)>r.maximum||e.length===r.maximum.toString().length;return{sectionValue:EM(a,0,n,r,t),shouldGoToNextSection:i}};return d(e,((e,n)=>{if("digit"===n.contentType||"digit-with-letter"===n.contentType)return t(e,n);if("month"===n.type){const r=OM(a,s,"digit","month","MM"),o=t(e,{type:n.type,format:"MM",hasLeadingZerosInFormat:r,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(dU(o))return o;const i=NM(a,o.sectionValue,"MM",n.format);return(0,je.A)({},o,{sectionValue:i})}if("weekDay"===n.type){const r=t(e,n);if(dU(r))return r;const o=CM(a,s,n.format)[Number(r.sectionValue)-1];return(0,je.A)({},r,{sectionValue:o})}return{saveQuery:!1}}),(e=>!Number.isNaN(Number(e))))})(e):(e=>{const t=(e,t,n)=>{const r=t.filter((e=>e.toLowerCase().startsWith(n)));return 0===r.length?{saveQuery:!1}:{sectionValue:r[0],shouldGoToNextSection:1===r.length}},n=(e,n,r,o)=>{const i=e=>kM(a,s,n.type,e);if("letter"===n.contentType)return t(n.format,i(n.format),e);if(r&&null!=o&&"letter"===SM(a,r).contentType){const n=i(r),s=t(0,n,e);return dU(s)?{saveQuery:!1}:(0,je.A)({},s,{sectionValue:o(s.sectionValue,n)})}return{saveQuery:!1}};return d(e,((e,t)=>{switch(t.type){case"month":{const r=e=>NM(a,e,a.formats.month,t.format);return n(e,t,a.formats.month,r)}case"weekDay":{const r=(e,t)=>t.indexOf(e).toString();return n(e,t,a.formats.weekday,r)}case"meridiem":return n(e,t);default:return{saveQuery:!1}}}))})(e);null==l?i(null):n({activeSection:r,newSectionValue:l.sectionValue,shouldGoToNextSection:l.shouldGoToNextSection})}));return{applyCharacterEditing:h,resetCharacterQuery:u}},pU=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],fU=e=>{const t=XM(),{state:n,selectedSectionIndexes:o,setSelectedSections:i,clearValue:s,clearActiveSection:a,updateSectionValue:l,updateValueFromValueStr:c,setTempAndroidValueStr:u,sectionsValueBoundaries:d,placeholder:h,timezone:p}=uU(e),{inputRef:f,internalProps:m,internalProps:{readOnly:g=!1,unstableFieldRef:v,minutesStep:y},forwardedProps:{onClick:b,onKeyDown:w,onFocus:x,onBlur:A,onMouseUp:_,onPaste:S,error:C,clearable:k,onClear:T,disabled:E},fieldValueManager:I,valueManager:R,validator:P}=e,j=(0,De.A)(e.forwardedProps,pU),{applyCharacterEditing:D,resetCharacterQuery:N}=hU({sections:n.sections,updateSectionValue:l,sectionsValueBoundaries:d,setTempAndroidValueStr:u,timezone:p}),M=r.useRef(null),O=(0,CT.A)(f,M),L=r.useRef(void 0),F="rtl"===LI().direction,U=r.useMemo((()=>((e,t)=>{const n={};if(!t)return e.forEach(((t,r)=>{const o=0===r?null:r-1,i=r===e.length-1?null:r+1;n[r]={leftIndex:o,rightIndex:i}})),{neighbors:n,startIndex:0,endIndex:e.length-1};const r={},o={};let i=0,s=0,a=e.length-1;for(;a>=0;){s=e.findIndex(((e,t)=>{var n;return t>=i&&(null==(n=e.endSeparator)?void 0:n.includes(" "))&&" / "!==e.endSeparator})),-1===s&&(s=e.length-1);for(let e=s;e>=i;e-=1)o[e]=a,r[a]=e,a-=1;i=s+1}return e.forEach(((t,i)=>{const s=o[i],a=0===s?null:r[s-1],l=s===e.length-1?null:r[s+1];n[i]={leftIndex:a,rightIndex:l}})),{neighbors:n,startIndex:r[0],endIndex:r[e.length-1]}})(n.sections,F)),[n.sections,F]),$=()=>{var e;if(g)return void i(null);const t=null!=(e=M.current.selectionStart)?e:0;let r;r=t<=n.sections[0].startInInput||t>=n.sections[n.sections.length-1].endInInput?1:n.sections.findIndex((e=>e.startInInput-e.startSeparator.length>t));const o=-1===r?n.sections.length-1:r-1;i(o)},z=(0,cR.A)((function(e){if(!e.isDefaultPrevented()){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==b||b(e,...n),$()}})),B=(0,cR.A)((e=>{null==_||_(e),e.preventDefault()})),V=(0,cR.A)((function(){null==x||x(...arguments);const e=M.current;window.clearTimeout(L.current),L.current=setTimeout((()=>{e&&e===M.current&&(null!=o||g||(e.value.length&&Number(e.selectionEnd)-Number(e.selectionStart)===e.value.length?i("all"):$()))}))})),W=(0,cR.A)((function(){null==A||A(...arguments),i(null)})),H=(0,cR.A)((e=>{if(null==S||S(e),g)return void e.preventDefault();const t=e.clipboardData.getData("text");if(o&&o.startIndex===o.endIndex){const r=n.sections[o.startIndex],i=/^[a-zA-Z]+$/.test(t),s=/^[0-9]+$/.test(t),a=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(t);if("letter"===r.contentType&&i||"digit"===r.contentType&&s||"digit-with-letter"===r.contentType&&a)return N(),l({activeSection:r,newSectionValue:t,shouldGoToNextSection:!0}),void e.preventDefault();if(i||s)return void e.preventDefault()}e.preventDefault(),N(),c(t)})),q=(0,cR.A)((e=>{if(g)return;const t=e.target.value;if(""===t)return N(),void s();const r=e.nativeEvent.data,i=r&&r.length>1,l=i?r:t,d=PM(l);if(null==o||i)return void c(i?r:d);let h;if(0===o.startIndex&&o.endIndex===n.sections.length-1&&1===d.length)h=d;else{const e=PM(I.getValueStrFromSections(n.sections,F));let t=-1,r=-1;for(let n=0;n<e.length;n+=1)-1===t&&e[n]!==d[n]&&(t=n),-1===r&&e[e.length-n-1]!==d[d.length-n-1]&&(r=n);const i=n.sections[o.startIndex];if(t<i.start||e.length-r-1>i.end)return;const s=d.length-e.length+i.end-PM(i.endSeparator||"").length;h=d.slice(i.start+PM(i.startSeparator||"").length,s)}0!==h.length?D({keyPressed:h,sectionIndex:o.startIndex}):navigator.userAgent.toLowerCase().indexOf("android")>-1?u(l):(N(),a())})),G=(0,cR.A)((e=>{switch(null==w||w(e),!0){case"a"===e.key&&(e.ctrlKey||e.metaKey):e.preventDefault(),i("all");break;case"ArrowRight"===e.key:if(e.preventDefault(),null==o)i(U.startIndex);else if(o.startIndex!==o.endIndex)i(o.endIndex);else{const e=U.neighbors[o.startIndex].rightIndex;null!==e&&i(e)}break;case"ArrowLeft"===e.key:if(e.preventDefault(),null==o)i(U.endIndex);else if(o.startIndex!==o.endIndex)i(o.startIndex);else{const e=U.neighbors[o.startIndex].leftIndex;null!==e&&i(e)}break;case"Delete"===e.key:if(e.preventDefault(),g)break;null==o||0===o.startIndex&&o.endIndex===n.sections.length-1?s():a(),N();break;case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(e.key):{if(e.preventDefault(),g||null==o)break;const r=n.sections[o.startIndex],i=I.getActiveDateManager(t,n,r),s=IM(t,p,r,e.key,d,i.date,{minutesStep:y});l({activeSection:r,newSectionValue:s,shouldGoToNextSection:!1});break}}}));(0,XI.A)((()=>{if(!M.current)return;if(null==o)return void(M.current.scrollLeft&&(M.current.scrollLeft=0));const e=n.sections[o.startIndex],t=n.sections[o.endIndex];let r=e.startInInput,i=t.endInInput;if(o.shouldSelectBoundarySelectors&&(r-=e.startSeparator.length,i+=t.endSeparator.length),r!==M.current.selectionStart||i!==M.current.selectionEnd){const e=M.current.scrollTop;M.current===qL(document)&&M.current.setSelectionRange(r,i),M.current.scrollTop=e}}));const K=iF((0,je.A)({},m,{value:n.value,timezone:p}),P,R.isSameError,R.defaultErrorState),Y=r.useMemo((()=>void 0!==C?C:R.hasError(K)),[R,K,C]);r.useEffect((()=>{Y||o||N()}),[n.referenceValue,o,Y]),r.useEffect((()=>(M.current&&M.current===document.activeElement&&i("all"),()=>window.clearTimeout(L.current))),[]),r.useEffect((()=>{null!=n.tempValueStrAndroid&&null!=o&&(N(),a())}),[n.tempValueStrAndroid]);const Q=r.useMemo((()=>{var e;return null!=(e=n.tempValueStrAndroid)?e:I.getValueStrFromSections(n.sections,F)}),[n.sections,I,n.tempValueStrAndroid,F]),X=r.useMemo((()=>null==o||"letter"===n.sections[o.startIndex].contentType?"text":"numeric"),[o,n.sections]),J=M.current&&M.current===qL(document),Z=R.areValuesEqual(t,n.value,R.emptyValue),ee=!J&&Z;r.useImperativeHandle(v,(()=>({getSections:()=>n.sections,getActiveSectionIndex:()=>{var e,t,r;const o=null!=(e=M.current.selectionStart)?e:0,i=null!=(t=M.current.selectionEnd)?t:0,s=!(null==(r=M.current)||!r.readOnly);if(0===o&&0===i||s)return null;const a=o<=n.sections[0].startInInput?1:n.sections.findIndex((e=>e.startInInput-e.startSeparator.length>o));return-1===a?n.sections.length-1:a-1},setSelectedSections:e=>i(e)})));const te=(0,cR.A)((function(e){var t;e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null==T||T(e,...r),s(),null==M||null==(t=M.current)||t.focus(),i(0)}));return(0,je.A)({placeholder:h,autoComplete:"off",disabled:Boolean(E)},j,{value:ee?"":Q,inputMode:X,readOnly:g,onClick:z,onFocus:V,onBlur:W,onPaste:H,onChange:q,onKeyDown:G,onMouseUp:B,onClear:te,error:Y,ref:O,clearable:Boolean(k&&!Z&&!g&&!E)})},mU=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],gU=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],vU=["minDateTime","maxDateTime"],yU=[...mU,...gU,...vU],bU=e=>yU.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{}),wU=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],xU=e=>{let{props:t,inputRef:n}=e;const r=(e=>{var t,n,r;const o=XM(),i=JM();return(0,je.A)({},e,{disablePast:null!=(t=e.disablePast)&&t,disableFuture:null!=(n=e.disableFuture)&&n,format:null!=(r=e.format)?r:o.formats.keyboardDate,minDate:hM(o,e.minDate,i.minDate),maxDate:hM(o,e.maxDate,i.maxDate)})})(t),{forwardedProps:o,internalProps:i}=((e,t)=>{const n=(0,je.A)({},e),r={},o=e=>{n.hasOwnProperty(e)&&(r[e]=n[e],delete n[e])};return wU.forEach(o),"date"===t?mU.forEach(o):"time"===t?gU.forEach(o):"date-time"===t&&(mU.forEach(o),gU.forEach(o),vU.forEach(o)),{forwardedProps:n,internalProps:r}})(r,"date");return fU({inputRef:n,forwardedProps:o,internalProps:i,valueManager:BM,fieldValueManager:VM,validator:hO,valueType:"date"})},AU=["ownerState"],_U=["components","componentsProps","slots","slotProps","InputProps","inputProps"],SU=["inputRef"],CU=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],kU=r.forwardRef((function(e,t){var n,o,i;const s=oM({props:e,name:"MuiDateField"}),{components:a,componentsProps:l,slots:c,slotProps:u,InputProps:d,inputProps:h}=s,p=(0,De.A)(s,_U),f=s,m=null!=(n=null!=(o=null==c?void 0:c.textField)?o:null==a?void 0:a.TextField)?n:GD,g=mO({elementType:m,externalSlotProps:null!=(i=null==u?void 0:u.textField)?i:null==l?void 0:l.textField,externalForwardedProps:p,ownerState:f}),{inputRef:v}=g,y=(0,De.A)(g,SU);y.inputProps=(0,je.A)({},h,y.inputProps),y.InputProps=(0,je.A)({},d,y.InputProps);const b=xU({props:y,inputRef:v}),{ref:w,onPaste:x,onKeyDown:A,inputMode:_,readOnly:S,clearable:C,onClear:k}=b,T=(0,De.A)(b,CU),{InputProps:E,fieldProps:I}=(e=>{let{clearable:t,fieldProps:n,InputProps:o,onClear:i,slots:s,slotProps:a,components:l,componentsProps:c}=e;var u,d,h,p,f,m;const g=ZM(),v=null!=(u=null!=(d=null==s?void 0:s.clearButton)?d:null==l?void 0:l.ClearButton)?u:OE,y=mO({elementType:v,externalSlotProps:null!=(h=null==a?void 0:a.clearButton)?h:null==c?void 0:c.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:g.fieldClearLabel}}),b=(0,De.A)(y,AU),w=null!=(p=null!=(f=null==s?void 0:s.clearIcon)?f:null==l?void 0:l.ClearIcon)?p:cU,x=mO({elementType:w,externalSlotProps:null!=(m=null==a?void 0:a.clearIcon)?m:null==c?void 0:c.clearIcon,ownerState:{}});return{InputProps:(0,je.A)({},o,{endAdornment:(0,Ve.jsxs)(r.Fragment,{children:[t&&(0,Ve.jsx)(ZN,{position:"end",sx:{marginRight:null!=o&&o.endAdornment?-1:-1.5},children:(0,Ve.jsx)(v,(0,je.A)({},b,{onClick:i,children:(0,Ve.jsx)(w,(0,je.A)({fontSize:"small"},x))}))}),null==o?void 0:o.endAdornment]})}),fieldProps:(0,je.A)({},n,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(n.sx)?n.sx:[n.sx]]})}})({onClear:k,clearable:C,fieldProps:T,InputProps:T.InputProps,slots:c,slotProps:u,components:a,componentsProps:l});return(0,Ve.jsx)(m,(0,je.A)({ref:t},I,{InputProps:(0,je.A)({},E,{readOnly:S}),inputProps:(0,je.A)({},T.inputProps,{inputMode:_,onPaste:x,onKeyDown:A,ref:w})}))})),TU=e=>{let{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:o,minDate:i,maxDate:s,disableFuture:a,disablePast:l,timezone:c}=e;const u=QM();return r.useCallback((e=>null!==hO({adapter:u,value:e,props:{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:o,minDate:i,maxDate:s,disableFuture:a,disablePast:l,timezone:c}})),[u,t,n,o,i,s,a,l,c])},EU=e=>{const{value:t,referenceDate:n,defaultCalendarMonth:o,disableFuture:i,disablePast:s,disableSwitchToMonthOnDayFocus:a=!1,maxDate:l,minDate:c,onMonthChange:u,reduceAnimations:d,shouldDisableDate:h,timezone:p}=e,f=XM(),m=r.useRef(((e,t,n)=>(r,o)=>{switch(o.type){case"changeMonth":return(0,je.A)({},r,{slideDirection:o.direction,currentMonth:o.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return(0,je.A)({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(null!=r.focusedDay&&null!=o.focusedDay&&n.isSameDay(o.focusedDay,r.focusedDay))return r;const i=null!=o.focusedDay&&!t&&!n.isSameMonth(r.currentMonth,o.focusedDay);return(0,je.A)({},r,{focusedDay:o.focusedDay,isMonthSwitchingAnimating:i&&!e&&!o.withoutMonthSwitchingAnimation,currentMonth:i?n.startOfMonth(o.focusedDay):r.currentMonth,slideDirection:null!=o.focusedDay&&n.isAfterDay(o.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}})(Boolean(d),a,f)).current,g=r.useMemo((()=>{let r=null;return n?r=n:o&&(r=f.startOfMonth(o)),BM.getInitialReferenceValue({value:t,utils:f,timezone:p,props:e,referenceDate:r,granularity:xM.day})}),[]),[v,y]=r.useReducer(m,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:f.startOfMonth(g),slideDirection:"left"}),b=r.useCallback((e=>{y((0,je.A)({type:"changeMonth"},e)),u&&u(e.newMonth)}),[u]),w=r.useCallback((e=>{const t=e;f.isSameMonth(t,v.currentMonth)||b({newMonth:f.startOfMonth(t),direction:f.isAfterDay(t,v.currentMonth)?"left":"right"})}),[v.currentMonth,b,f]),x=TU({shouldDisableDate:h,minDate:c,maxDate:l,disableFuture:i,disablePast:s,timezone:p}),A=r.useCallback((()=>{y({type:"finishMonthSwitchingAnimation"})}),[]),_=(0,cR.A)(((e,t)=>{x(e)||y({type:"changeFocusedDay",focusedDay:e,withoutMonthSwitchingAnimation:t})}));return{referenceDate:g,calendarState:v,changeMonth:w,changeFocusedDay:_,isDateDisabled:x,onMonthSwitchingAnimationEnd:A,handleChangeMonth:b}},IU=e=>(0,iT.Ay)("MuiPickersFadeTransitionGroup",e),RU=((0,Ke.A)("MuiPickersFadeTransitionGroup",["root"]),(0,tT.Ay)(aE,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"}));function PU(e){const t=oM({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:o,transKey:i}=t,s=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"]},IU,t)})(t),a=LI();return o?n:(0,Ve.jsx)(RU,{className:(0,Ne.A)(s.root,r),children:(0,Ve.jsx)(rR,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:n},i)})}var jU=n(6747);function DU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,jU.A)(e,t,n)}function NU(e){if(e.type)return e;if("#"===e.charAt(0))return NU(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,HP.A)(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,HP.A)(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}function MU(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function OU(e,t){return e=NU(e),t=DU(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,MU(e)}function LU(e){return(0,iT.Ay)("MuiPickersDay",e)}const FU=(0,Ke.A)("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),UU=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],$U=e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},t.typography.caption,{width:36,height:36,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:OU(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:OU(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${FU.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${FU.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${FU.disabled}:not(.${FU.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${FU.disabled}&.${FU.selected}`]:{opacity:.6}},!n.disableMargin&&{margin:"0 2px"},n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&{color:(t.vars||t).palette.text.secondary},!n.disableHighlightToday&&n.today&&{[`&:not(.${FU.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}})},zU=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},BU=(0,tT.Ay)(RE,{name:"MuiPickersDay",slot:"Root",overridesResolver:zU})($U),VU=(0,tT.Ay)("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:zU})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},$U({theme:t,ownerState:n}),{opacity:0,pointerEvents:"none"})})),WU=()=>{},HU=r.forwardRef((function(e,t){const n=oM({props:e,name:"MuiPickersDay"}),{autoFocus:o=!1,className:i,day:s,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:h,onFocus:p=WU,onBlur:f=WU,onKeyDown:m=WU,onMouseDown:g=WU,onMouseEnter:v=WU,outsideCurrentMonth:y,selected:b=!1,showDaysOutsideCurrentMonth:w=!1,children:x,today:A=!1}=n,_=(0,De.A)(n,UU),S=(0,je.A)({},n,{autoFocus:o,disabled:a,disableHighlightToday:l,disableMargin:c,selected:b,showDaysOutsideCurrentMonth:w,today:A}),C=(e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:o,disabled:i,outsideCurrentMonth:s,showDaysOutsideCurrentMonth:a,classes:l}=e,c=s&&!a,u={root:["root",t&&!c&&"selected",i&&"disabled",!n&&"dayWithMargin",!r&&o&&"today",s&&a&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]};return(0,eT.A)(u,LU,l)})(S),k=XM(),T=r.useRef(null),E=(0,CT.A)(T,t);(0,XI.A)((()=>{!o||a||u||y||T.current.focus()}),[o,a,u,y]);return y&&!w?(0,Ve.jsx)(VU,{className:(0,Ne.A)(C.root,C.hiddenDaySpacingFiller,i),ownerState:S,role:_.role}):(0,Ve.jsx)(BU,(0,je.A)({className:(0,Ne.A)(C.root,i),ref:E,centerRipple:!0,disabled:a,tabIndex:b?0:-1,onKeyDown:e=>m(e,s),onFocus:e=>p(e,s),onBlur:e=>f(e,s),onMouseEnter:e=>v(e,s),onClick:e=>{a||h(s),y&&e.currentTarget.focus(),d&&d(e)},onMouseDown:e=>{g(e),y&&e.preventDefault()}},_,{ownerState:S,children:x||k.format(s,"dayOfMonth")}))})),qU=r.memo(HU);function GU(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var KU=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=GU(n.className,r):n.setAttribute("class",GU(n.className&&n.className.baseVal||"",r)));var n,r}))},YU=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.addClass(o,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}eE(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&EI(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,i=n.done;this.appliedClasses[t]={},r&&KU(e,r),o&&KU(e,o),i&&KU(e,i)},n.render=function(){var e=this.props,t=(e.classNames,(0,De.A)(e,["classNames"]));return r.createElement(OI,(0,je.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(r.Component);YU.defaultProps={classNames:""},YU.propTypes={};const QU=YU,XU=e=>(0,iT.Ay)("MuiPickersSlideTransition",e),JU=(0,Ke.A)("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),ZU=["children","className","reduceAnimations","slideDirection","transKey","classes"],e$=(0,tT.Ay)(aE,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${JU["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${JU["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${JU.slideEnterActive}`]:t.slideEnterActive},{[`.${JU.slideExit}`]:t.slideExit},{[`.${JU["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${JU["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})((e=>{let{theme:t}=e;const n=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${JU["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${JU["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${JU.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${JU.slideExit}`]:{transform:"translate(0%)"},[`& .${JU["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${JU["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}}));const t$=e=>(0,iT.Ay)("MuiDayCalendar",e),n$=((0,Ke.A)("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]),["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"]),r$=["ownerState"],o$=(0,tT.Ay)("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),i$=(0,tT.Ay)("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),s$=(0,tT.Ay)(KT,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary}})),a$=(0,tT.Ay)(KT,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled}})),l$=(0,tT.Ay)(KT,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})((e=>{let{theme:t}=e;return(0,je.A)({},t.typography.caption,{width:36,height:36,padding:0,margin:"0 2px",color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})})),c$=(0,tT.Ay)("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:240}),u$=(0,tT.Ay)((function(e){const t=oM({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:o,reduceAnimations:i,transKey:s}=t,a=(0,De.A)(t,ZU),l=(e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return(0,eT.A)(r,XU,t)})(t),c=LI();if(i)return(0,Ve.jsx)("div",{className:(0,Ne.A)(l.root,o),children:n});const u={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return(0,Ve.jsx)(e$,{className:(0,Ne.A)(l.root,o),childFactory:e=>r.cloneElement(e,{classNames:u}),role:"presentation",children:(0,Ve.jsx)(QU,(0,je.A)({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:u},a,{children:n}),s)})}),{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:240}),d$=(0,tT.Ay)("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),h$=(0,tT.Ay)("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:"2px 0",display:"flex",justifyContent:"center"});function p$(e){var t,n,o;let{parentProps:i,day:s,focusableDay:a,selectedDays:l,isDateDisabled:c,currentMonthNumber:u,isViewFocused:d}=e,h=(0,De.A)(e,n$);const{disabled:p,disableHighlightToday:f,isMonthSwitchingAnimating:m,showDaysOutsideCurrentMonth:g,components:v,componentsProps:y,slots:b,slotProps:w,timezone:x}=i,A=XM(),_=eO(x),S=null!==a&&A.isSameDay(s,a),C=l.some((e=>A.isSameDay(e,s))),k=A.isSameDay(s,_),T=null!=(t=null!=(n=null==b?void 0:b.day)?n:null==v?void 0:v.Day)?t:qU,E=mO({elementType:T,externalSlotProps:null!=(o=null==w?void 0:w.day)?o:null==y?void 0:y.day,additionalProps:(0,je.A)({disableHighlightToday:f,showDaysOutsideCurrentMonth:g,role:"gridcell",isAnimating:m,"data-timestamp":A.toJsDate(s).valueOf()},h),ownerState:(0,je.A)({},i,{day:s,selected:C})}),I=(0,De.A)(E,r$),R=r.useMemo((()=>p||c(s)),[p,c,s]),P=r.useMemo((()=>A.getMonth(s)!==u),[A,s,u]),j=r.useMemo((()=>{const e=A.startOfMonth(A.setMonth(s,u));return g?A.isSameDay(s,A.startOfWeek(e)):A.isSameDay(s,e)}),[u,s,g,A]),D=r.useMemo((()=>{const e=A.endOfMonth(A.setMonth(s,u));return g?A.isSameDay(s,A.endOfWeek(e)):A.isSameDay(s,e)}),[u,s,g,A]);return(0,Ve.jsx)(T,(0,je.A)({},I,{day:s,disabled:R,autoFocus:d&&S,today:k,outsideCurrentMonth:P,isFirstVisibleCell:j,isLastVisibleCell:D,selected:C,tabIndex:S?0:-1,"aria-selected":C,"aria-current":k?"date":void 0}))}function f$(e){const t=oM({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:o,currentMonth:i,selectedDays:s,focusedDay:a,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:u,readOnly:d,reduceAnimations:h,renderLoading:p=()=>(0,Ve.jsx)("span",{children:"..."}),slideDirection:f,TransitionProps:m,disablePast:g,disableFuture:v,minDate:y,maxDate:b,shouldDisableDate:w,shouldDisableMonth:x,shouldDisableYear:A,dayOfWeekFormatter:_,hasFocus:S,onFocusedViewChange:C,gridLabelId:k,displayWeekNumber:T,fixedWeekNumber:E,autoFocus:I,timezone:R}=t,P=eO(R),j=XM(),D=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},t$,t)})(t),N="rtl"===LI().direction,M=_||((e,t)=>j.format(t,"weekdayShort").charAt(0).toUpperCase()),O=TU({shouldDisableDate:w,shouldDisableMonth:x,shouldDisableYear:A,minDate:y,maxDate:b,disablePast:g,disableFuture:v,timezone:R}),L=ZM(),[F,U]=(0,oF.A)({name:"DayCalendar",state:"hasFocus",controlled:S,default:null!=I&&I}),[$,z]=r.useState((()=>a||P)),B=(0,cR.A)((e=>{d||c(e)})),V=e=>{O(e)||(n(e),z(e),null==C||C(!0),U(!0))},W=(0,cR.A)(((e,t)=>{switch(e.key){case"ArrowUp":V(j.addDays(t,-7)),e.preventDefault();break;case"ArrowDown":V(j.addDays(t,7)),e.preventDefault();break;case"ArrowLeft":{const n=j.addDays(t,N?1:-1),r=j.addMonths(t,N?1:-1),o=dM({utils:j,date:n,minDate:N?n:j.startOfMonth(r),maxDate:N?j.endOfMonth(r):n,isDateDisabled:O,timezone:R});V(o||n),e.preventDefault();break}case"ArrowRight":{const n=j.addDays(t,N?-1:1),r=j.addMonths(t,N?-1:1),o=dM({utils:j,date:n,minDate:N?j.startOfMonth(r):n,maxDate:N?n:j.endOfMonth(r),isDateDisabled:O,timezone:R});V(o||n),e.preventDefault();break}case"Home":V(j.startOfWeek(t)),e.preventDefault();break;case"End":V(j.endOfWeek(t)),e.preventDefault();break;case"PageUp":V(j.addMonths(t,1)),e.preventDefault();break;case"PageDown":V(j.addMonths(t,-1)),e.preventDefault()}})),H=(0,cR.A)(((e,t)=>V(t))),q=(0,cR.A)(((e,t)=>{F&&j.isSameDay($,t)&&(null==C||C(!1))})),G=j.getMonth(i),K=r.useMemo((()=>s.filter((e=>!!e)).map((e=>j.startOfDay(e)))),[j,s]),Y=G,Q=r.useMemo((()=>r.createRef()),[Y]),X=j.startOfWeek(P),J=r.useMemo((()=>{const e=j.startOfMonth(i),t=j.endOfMonth(i);return O($)||j.isAfterDay($,t)||j.isBeforeDay($,e)?dM({utils:j,date:$,minDate:e,maxDate:t,disablePast:g,disableFuture:v,isDateDisabled:O,timezone:R}):$}),[i,v,g,$,O,j,R]),Z=r.useMemo((()=>{const e=j.setTimezone(i,R),t=j.getWeekArray(e);let n=j.addMonths(e,1);for(;E&&t.length<E;){const e=j.getWeekArray(n),r=j.isSameDay(t[t.length-1][0],e[0][0]);e.slice(r?1:0).forEach((e=>{t.length<E&&t.push(e)})),n=j.addMonths(n,1)}return t}),[i,E,j,R]);return(0,Ve.jsxs)(o$,{role:"grid","aria-labelledby":k,className:D.root,children:[(0,Ve.jsxs)(i$,{role:"row",className:D.header,children:[T&&(0,Ve.jsx)(a$,{variant:"caption",role:"columnheader","aria-label":L.calendarWeekNumberHeaderLabel,className:D.weekNumberLabel,children:L.calendarWeekNumberHeaderText}),yM(j,P).map(((e,t)=>{var n;const r=j.format(e,"weekdayShort");return(0,Ve.jsx)(s$,{variant:"caption",role:"columnheader","aria-label":j.format(j.addDays(X,t),"weekday"),className:D.weekDayLabel,children:null!=(n=null==M?void 0:M(r,e))?n:r},r+t.toString())}))]}),l?(0,Ve.jsx)(c$,{className:D.loadingContainer,children:p()}):(0,Ve.jsx)(u$,(0,je.A)({transKey:Y,onExited:u,reduceAnimations:h,slideDirection:f,className:(0,Ne.A)(o,D.slideTransition)},m,{nodeRef:Q,children:(0,Ve.jsx)(d$,{ref:Q,role:"rowgroup",className:D.monthContainer,children:Z.map(((e,n)=>(0,Ve.jsxs)(h$,{role:"row",className:D.weekContainer,"aria-rowindex":n+1,children:[T&&(0,Ve.jsx)(l$,{className:D.weekNumber,role:"rowheader","aria-label":L.calendarWeekNumberAriaLabelText(j.getWeekNumber(e[0])),children:L.calendarWeekNumberText(j.getWeekNumber(e[0]))}),e.map(((e,n)=>(0,Ve.jsx)(p$,{parentProps:t,day:e,selectedDays:K,focusableDay:J,onKeyDown:W,onFocus:H,onBlur:q,onDaySelect:B,isDateDisabled:O,currentMonthNumber:G,isViewFocused:F,"aria-colindex":n+1},e.toString())))]},`week-${e[0]}`)))})}))]})}function m$(e){return(0,iT.Ay)("MuiPickersMonth",e)}const g$=(0,Ke.A)("MuiPickersMonth",["root","monthButton","disabled","selected"]),v$=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],y$=(0,tT.Ay)("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})((e=>{let{ownerState:t}=e;return{flexBasis:3===t.monthsPerRow?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"}})),b$=(0,tT.Ay)("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${g$.disabled}`]:t.disabled},{[`&.${g$.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return(0,je.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:OU(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:OU(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${g$.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${g$.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})})),w$=r.memo((function(e){const t=oM({props:e,name:"MuiPickersMonth"}),{autoFocus:n,children:o,disabled:i,selected:s,value:a,tabIndex:l,onClick:c,onKeyDown:u,onFocus:d,onBlur:h,"aria-current":p,"aria-label":f}=t,m=(0,De.A)(t,v$),g=r.useRef(null),v=(e=>{const{disabled:t,selected:n,classes:r}=e,o={root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]};return(0,eT.A)(o,m$,r)})(t);return(0,XI.A)((()=>{var e;n&&(null==(e=g.current)||e.focus())}),[n]),(0,Ve.jsx)(y$,(0,je.A)({className:v.root,ownerState:t},m,{children:(0,Ve.jsx)(b$,{ref:g,disabled:i,type:"button",role:"radio",tabIndex:i?-1:l,"aria-current":p,"aria-checked":s,"aria-label":f,onClick:e=>c(e,a),onKeyDown:e=>u(e,a),onFocus:e=>d(e,a),onBlur:e=>h(e,a),className:v.monthButton,ownerState:t,children:o})}))}));function x$(e){return(0,iT.Ay)("MuiMonthCalendar",e)}(0,Ke.A)("MuiMonthCalendar",["root"]);const A$=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"];const _$=(0,tT.Ay)("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:KF,boxSizing:"border-box"}),S$=r.forwardRef((function(e,t){const n=function(e,t){const n=XM(),r=JM(),o=oM({props:e,name:t});return(0,je.A)({disableFuture:!1,disablePast:!1},o,{minDate:hM(n,o.minDate,r.minDate),maxDate:hM(n,o.maxDate,r.maxDate)})}(e,"MuiMonthCalendar"),{className:o,value:i,defaultValue:s,referenceDate:a,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:h,onChange:p,shouldDisableMonth:f,readOnly:m,disableHighlightToday:g,autoFocus:v=!1,onMonthFocus:y,hasFocus:b,onFocusedViewChange:w,monthsPerRow:x=3,timezone:A,gridLabelId:_}=n,S=(0,De.A)(n,A$),{value:C,handleValueChange:k,timezone:T}=aF({name:"MonthCalendar",timezone:A,value:i,defaultValue:s,onChange:p,valueManager:BM}),E=eO(T),I=Be(),R=XM(),P=r.useMemo((()=>BM.getInitialReferenceValue({value:C,utils:R,props:n,timezone:T,referenceDate:a,granularity:xM.month})),[]),j=n,D=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"]},x$,t)})(j),N=r.useMemo((()=>R.getMonth(E)),[R,E]),M=r.useMemo((()=>null!=C?R.getMonth(C):g?null:R.getMonth(P)),[C,R,g,P]),[O,L]=r.useState((()=>M||N)),[F,U]=(0,oF.A)({name:"MonthCalendar",state:"hasFocus",controlled:b,default:null!=v&&v}),$=(0,cR.A)((e=>{U(e),w&&w(e)})),z=r.useCallback((e=>{const t=R.startOfMonth(u&&R.isAfter(E,h)?E:h),n=R.startOfMonth(c&&R.isBefore(E,d)?E:d),r=R.startOfMonth(e);return!!R.isBefore(r,t)||(!!R.isAfter(r,n)||!!f&&f(r))}),[c,u,d,h,E,f,R]),B=(0,cR.A)(((e,t)=>{if(m)return;const n=R.setMonth(null!=C?C:P,t);k(n)})),V=(0,cR.A)((e=>{z(R.setMonth(null!=C?C:P,e))||(L(e),$(!0),y&&y(e))}));r.useEffect((()=>{L((e=>null!==M&&e!==M?M:e))}),[M]);const W=(0,cR.A)(((e,t)=>{const n=12;switch(e.key){case"ArrowUp":V((n+t-3)%n),e.preventDefault();break;case"ArrowDown":V((n+t+3)%n),e.preventDefault();break;case"ArrowLeft":V((n+t+("ltr"===I.direction?-1:1))%n),e.preventDefault();break;case"ArrowRight":V((n+t+("ltr"===I.direction?1:-1))%n),e.preventDefault()}})),H=(0,cR.A)(((e,t)=>{V(t)})),q=(0,cR.A)(((e,t)=>{O===t&&$(!1)}));return(0,Ve.jsx)(_$,(0,je.A)({ref:t,className:(0,Ne.A)(D.root,o),ownerState:j,role:"radiogroup","aria-labelledby":_},S,{children:pM(R,null!=C?C:P).map((e=>{const t=R.getMonth(e),n=R.format(e,"monthShort"),r=R.format(e,"month"),o=t===M,i=l||z(e);return(0,Ve.jsx)(w$,{selected:o,value:t,onClick:B,onKeyDown:W,autoFocus:F&&t===O,disabled:i,tabIndex:t===O?0:-1,onFocus:H,onBlur:q,"aria-current":N===t?"date":void 0,"aria-label":r,monthsPerRow:x,children:n},n)}))}))}));function C$(e){return(0,iT.Ay)("MuiPickersYear",e)}const k$=(0,Ke.A)("MuiPickersYear",["root","yearButton","selected","disabled"]),T$=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],E$=(0,tT.Ay)("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})((e=>{let{ownerState:t}=e;return{flexBasis:3===t.yearsPerRow?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"}})),I$=(0,tT.Ay)("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${k$.disabled}`]:t.disabled},{[`&.${k$.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return(0,je.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:OU(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:OU(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${k$.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${k$.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})})),R$=r.memo((function(e){const t=oM({props:e,name:"MuiPickersYear"}),{autoFocus:n,className:o,children:i,disabled:s,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:p,"aria-current":f}=t,m=(0,De.A)(t,T$),g=r.useRef(null),v=(e=>{const{disabled:t,selected:n,classes:r}=e,o={root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]};return(0,eT.A)(o,C$,r)})(t);return r.useEffect((()=>{n&&g.current.focus()}),[n]),(0,Ve.jsx)(E$,(0,je.A)({className:(0,Ne.A)(v.root,o),ownerState:t},m,{children:(0,Ve.jsx)(I$,{ref:g,disabled:s,type:"button",role:"radio",tabIndex:s?-1:c,"aria-current":f,"aria-checked":a,onClick:e=>u(e,l),onKeyDown:e=>d(e,l),onFocus:e=>h(e,l),onBlur:e=>p(e,l),className:v.yearButton,ownerState:t,children:i})}))}));function P$(e){return(0,iT.Ay)("MuiYearCalendar",e)}(0,Ke.A)("MuiYearCalendar",["root"]);const j$=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"];const D$=(0,tT.Ay)("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:KF,maxHeight:280,boxSizing:"border-box",position:"relative"}),N$=r.forwardRef((function(e,t){const n=function(e,t){var n;const r=XM(),o=JM(),i=oM({props:e,name:t});return(0,je.A)({disablePast:!1,disableFuture:!1},i,{yearsPerRow:null!=(n=i.yearsPerRow)?n:3,minDate:hM(r,i.minDate,o.minDate),maxDate:hM(r,i.maxDate,o.maxDate)})}(e,"MuiYearCalendar"),{autoFocus:o,className:i,value:s,defaultValue:a,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:p,onChange:f,readOnly:m,shouldDisableYear:g,disableHighlightToday:v,onYearFocus:y,hasFocus:b,onFocusedViewChange:w,yearsPerRow:x,timezone:A,gridLabelId:_}=n,S=(0,De.A)(n,j$),{value:C,handleValueChange:k,timezone:T}=aF({name:"YearCalendar",timezone:A,value:s,defaultValue:a,onChange:f,valueManager:BM}),E=eO(T),I=Be(),R=XM(),P=r.useMemo((()=>BM.getInitialReferenceValue({value:C,utils:R,props:n,timezone:T,referenceDate:l,granularity:xM.year})),[]),j=n,D=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"]},P$,t)})(j),N=r.useMemo((()=>R.getYear(E)),[R,E]),M=r.useMemo((()=>null!=C?R.getYear(C):v?null:R.getYear(P)),[C,R,v,P]),[O,L]=r.useState((()=>M||N)),[F,U]=(0,oF.A)({name:"YearCalendar",state:"hasFocus",controlled:b,default:null!=o&&o}),$=(0,cR.A)((e=>{U(e),w&&w(e)})),z=r.useCallback((e=>{if(d&&R.isBeforeYear(e,E))return!0;if(u&&R.isAfterYear(e,E))return!0;if(p&&R.isBeforeYear(e,p))return!0;if(h&&R.isAfterYear(e,h))return!0;if(!g)return!1;const t=R.startOfYear(e);return g(t)}),[u,d,h,p,E,g,R]),B=(0,cR.A)(((e,t)=>{if(m)return;const n=R.setYear(null!=C?C:P,t);k(n)})),V=(0,cR.A)((e=>{z(R.setYear(null!=C?C:P,e))||(L(e),$(!0),null==y||y(e))}));r.useEffect((()=>{L((e=>null!==M&&e!==M?M:e))}),[M]);const W=(0,cR.A)(((e,t)=>{switch(e.key){case"ArrowUp":V(t-x),e.preventDefault();break;case"ArrowDown":V(t+x),e.preventDefault();break;case"ArrowLeft":V(t+("ltr"===I.direction?-1:1)),e.preventDefault();break;case"ArrowRight":V(t+("ltr"===I.direction?1:-1)),e.preventDefault()}})),H=(0,cR.A)(((e,t)=>{V(t)})),q=(0,cR.A)(((e,t)=>{O===t&&$(!1)})),G=r.useRef(null),K=(0,CT.A)(t,G);return r.useEffect((()=>{if(o||null===G.current)return;const e=G.current.querySelector('[tabindex="0"]');if(!e)return;const t=e.offsetHeight,n=e.offsetTop,r=G.current.clientHeight,i=G.current.scrollTop,s=n+t;t>r||n<i||(G.current.scrollTop=s-r/2-t/2)}),[o]),(0,Ve.jsx)(D$,(0,je.A)({ref:K,className:(0,Ne.A)(D.root,i),ownerState:j,role:"radiogroup","aria-labelledby":_},S,{children:R.getYearRange(p,h).map((e=>{const t=R.getYear(e),n=t===M,r=c||z(e);return(0,Ve.jsx)(R$,{selected:n,value:t,onClick:B,onKeyDown:W,autoFocus:F&&t===O,disabled:r,tabIndex:t===O?0:-1,onFocus:H,onBlur:q,"aria-current":N===t?"date":void 0,yearsPerRow:x,children:R.format(e,"year")},R.format(e,"year"))}))}))}));function M$(e){return(0,iT.Ay)("MuiPickersArrowSwitcher",e)}(0,Ke.A)("MuiPickersArrowSwitcher",["root","spacer","button"]);const O$=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],L$=["ownerState"],F$=["ownerState"],U$=(0,tT.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),$$=(0,tT.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})((e=>{let{theme:t}=e;return{width:t.spacing(3)}})),z$=(0,tT.Ay)(OE,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})((e=>{let{ownerState:t}=e;return(0,je.A)({},t.hidden&&{visibility:"hidden"})})),B$=r.forwardRef((function(e,t){var n,r,o,i;const s="rtl"===LI().direction,a=oM({props:e,name:"MuiPickersArrowSwitcher"}),{children:l,className:c,slots:u,slotProps:d,isNextDisabled:h,isNextHidden:p,onGoToNext:f,nextLabel:m,isPreviousDisabled:g,isPreviousHidden:v,onGoToPrevious:y,previousLabel:b}=a,w=(0,De.A)(a,O$),x=a,A=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"],spacer:["spacer"],button:["button"]},M$,t)})(x),_={isDisabled:h,isHidden:p,goTo:f,label:m},S={isDisabled:g,isHidden:v,goTo:y,label:b},C=null!=(n=null==u?void 0:u.previousIconButton)?n:z$,k=mO({elementType:C,externalSlotProps:null==d?void 0:d.previousIconButton,additionalProps:{size:"medium",title:S.label,"aria-label":S.label,disabled:S.isDisabled,edge:"end",onClick:S.goTo},ownerState:(0,je.A)({},x,{hidden:S.isHidden}),className:A.button}),T=null!=(r=null==u?void 0:u.nextIconButton)?r:z$,E=mO({elementType:T,externalSlotProps:null==d?void 0:d.nextIconButton,additionalProps:{size:"medium",title:_.label,"aria-label":_.label,disabled:_.isDisabled,edge:"start",onClick:_.goTo},ownerState:(0,je.A)({},x,{hidden:_.isHidden}),className:A.button}),I=null!=(o=null==u?void 0:u.leftArrowIcon)?o:sU,R=mO({elementType:I,externalSlotProps:null==d?void 0:d.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),P=(0,De.A)(R,L$),j=null!=(i=null==u?void 0:u.rightArrowIcon)?i:aU,D=mO({elementType:j,externalSlotProps:null==d?void 0:d.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),N=(0,De.A)(D,F$);return(0,Ve.jsxs)(U$,(0,je.A)({ref:t,className:(0,Ne.A)(A.root,c),ownerState:x},w,{children:[(0,Ve.jsx)(C,(0,je.A)({},k,{children:s?(0,Ve.jsx)(j,(0,je.A)({},N)):(0,Ve.jsx)(I,(0,je.A)({},P))})),l?(0,Ve.jsx)(KT,{variant:"subtitle1",component:"span",children:l}):(0,Ve.jsx)($$,{className:A.spacer,ownerState:x}),(0,Ve.jsx)(T,(0,je.A)({},E,{children:s?(0,Ve.jsx)(I,(0,je.A)({},P)):(0,Ve.jsx)(j,(0,je.A)({},N))}))]}))}));const V$=e=>(0,iT.Ay)("MuiPickersCalendarHeader",e),W$=(0,Ke.A)("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),H$=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],q$=["ownerState"],G$=(0,tT.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),K$=(0,tT.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})((e=>{let{theme:t}=e;return(0,je.A)({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})})),Y$=(0,tT.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),Q$=(0,tT.Ay)(OE,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})((e=>{let{ownerState:t}=e;return(0,je.A)({marginRight:"auto"},"year"===t.view&&{[`.${W$.switchViewIcon}`]:{transform:"rotate(180deg)"}})})),X$=(0,tT.Ay)(iU,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})((e=>{let{theme:t}=e;return{willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"}})),J$=r.forwardRef((function(e,t){var n,o,i,s;const a=ZM(),l=XM(),c=oM({props:e,name:"MuiPickersCalendarHeader"}),{slots:u,slotProps:d,components:h,currentMonth:p,disabled:f,disableFuture:m,disablePast:g,maxDate:v,minDate:y,onMonthChange:b,onViewChange:w,view:x,reduceAnimations:A,views:_,labelId:S,className:C,timezone:k}=c,T=(0,De.A)(c,H$),E=c,I=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},V$,t)})(c),R=null!=(n=null!=(o=null==u?void 0:u.switchViewButton)?o:null==h?void 0:h.SwitchViewButton)?n:Q$,P=mO({elementType:R,externalSlotProps:null==d?void 0:d.switchViewButton,additionalProps:{size:"small","aria-label":a.calendarViewSwitchingButtonAriaLabel(x)},ownerState:E,className:I.switchViewButton}),j=null!=(i=null!=(s=null==u?void 0:u.switchViewIcon)?s:null==h?void 0:h.SwitchViewIcon)?i:X$,D=mO({elementType:j,externalSlotProps:null==d?void 0:d.switchViewIcon,ownerState:void 0,className:I.switchViewIcon}),N=(0,De.A)(D,q$),M=function(e,t){let{disableFuture:n,maxDate:o,timezone:i}=t;const s=XM();return r.useMemo((()=>{const t=s.dateWithTimezone(void 0,i),r=s.startOfMonth(n&&s.isBefore(t,o)?t:o);return!s.isAfter(r,e)}),[n,o,e,s,i])}(p,{disableFuture:m,maxDate:v,timezone:k}),O=function(e,t){let{disablePast:n,minDate:o,timezone:i}=t;const s=XM();return r.useMemo((()=>{const t=s.dateWithTimezone(void 0,i),r=s.startOfMonth(n&&s.isAfter(t,o)?t:o);return!s.isBefore(r,e)}),[n,o,e,s,i])}(p,{disablePast:g,minDate:y,timezone:k});return 1===_.length&&"year"===_[0]?null:(0,Ve.jsxs)(G$,(0,je.A)({},T,{ownerState:E,className:(0,Ne.A)(C,I.root),ref:t,children:[(0,Ve.jsxs)(K$,{role:"presentation",onClick:()=>{if(1!==_.length&&w&&!f)if(2===_.length)w(_.find((e=>e!==x))||_[0]);else{const e=0!==_.indexOf(x)?0:1;w(_[e])}},ownerState:E,"aria-live":"polite",className:I.labelContainer,children:[(0,Ve.jsx)(PU,{reduceAnimations:A,transKey:l.format(p,"monthAndYear"),children:(0,Ve.jsx)(Y$,{id:S,ownerState:E,className:I.label,children:l.format(p,"monthAndYear")})}),_.length>1&&!f&&(0,Ve.jsx)(R,(0,je.A)({},P,{children:(0,Ve.jsx)(j,(0,je.A)({},N))}))]}),(0,Ve.jsx)(rR,{in:"day"===x,children:(0,Ve.jsx)(B$,{slots:u,slotProps:d,onGoToPrevious:()=>b(l.addMonths(p,-1),"right"),isPreviousDisabled:O,previousLabel:a.previousMonth,onGoToNext:()=>b(l.addMonths(p,1),"left"),isNextDisabled:M,nextLabel:a.nextMonth})})]}))})),Z$=(0,tT.Ay)("div")({overflow:"hidden",width:KF,maxHeight:334,display:"flex",flexDirection:"column",margin:"0 auto"}),ez=e=>(0,iT.Ay)("MuiDateCalendar",e),tz=((0,Ke.A)("MuiDateCalendar",["root","viewTransitionContainer"]),["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"]);const nz=(0,tT.Ay)(Z$,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:334}),rz=(0,tT.Ay)(PU,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),oz=r.forwardRef((function(e,t){var n,o,i;const s=XM(),a=(0,WP.A)(),l=function(e,t){var n,r,o,i,s,a,l;const c=XM(),u=JM(),d=JL(),h=oM({props:e,name:t});return(0,je.A)({},h,{loading:null!=(n=h.loading)&&n,disablePast:null!=(r=h.disablePast)&&r,disableFuture:null!=(o=h.disableFuture)&&o,openTo:null!=(i=h.openTo)?i:"day",views:null!=(s=h.views)?s:["year","day"],reduceAnimations:null!=(a=h.reduceAnimations)?a:d,renderLoading:null!=(l=h.renderLoading)?l:()=>(0,Ve.jsx)("span",{children:"..."}),minDate:hM(c,h.minDate,u.minDate),maxDate:hM(c,h.maxDate,u.maxDate)})}(e,"MuiDateCalendar"),{autoFocus:c,onViewChange:u,value:d,defaultValue:h,referenceDate:p,disableFuture:f,disablePast:m,defaultCalendarMonth:g,onChange:v,onYearChange:y,onMonthChange:b,reduceAnimations:w,shouldDisableDate:x,shouldDisableMonth:A,shouldDisableYear:_,view:S,views:C,openTo:k,className:T,disabled:E,readOnly:I,minDate:R,maxDate:P,disableHighlightToday:j,focusedView:D,onFocusedViewChange:N,showDaysOutsideCurrentMonth:M,fixedWeekNumber:O,dayOfWeekFormatter:L,components:F,componentsProps:U,slots:$,slotProps:z,loading:B,renderLoading:V,displayWeekNumber:W,yearsPerRow:H,monthsPerRow:q,timezone:G}=l,K=(0,De.A)(l,tz),{value:Y,handleValueChange:Q,timezone:X}=aF({name:"DateCalendar",timezone:G,value:d,defaultValue:h,onChange:v,valueManager:BM}),{view:J,setView:Z,focusedView:ee,setFocusedView:te,goToNextView:ne,setValueAndGoToNextView:re}=cF({view:S,views:C,openTo:k,onChange:Q,onViewChange:u,autoFocus:c,focusedView:D,onFocusedViewChange:N}),{referenceDate:oe,calendarState:ie,changeFocusedDay:se,changeMonth:ae,handleChangeMonth:le,isDateDisabled:ce,onMonthSwitchingAnimationEnd:ue}=EU({value:Y,defaultCalendarMonth:g,referenceDate:p,reduceAnimations:w,onMonthChange:b,minDate:R,maxDate:P,shouldDisableDate:x,disablePast:m,disableFuture:f,timezone:X}),de=E&&Y||R,he=E&&Y||P,pe=`${a}-grid-label`,fe=null!==ee,me=null!=(n=null!=(o=null==$?void 0:$.calendarHeader)?o:null==F?void 0:F.CalendarHeader)?n:J$,ge=mO({elementType:me,externalSlotProps:null!=(i=null==z?void 0:z.calendarHeader)?i:null==U?void 0:U.calendarHeader,additionalProps:{views:C,view:J,currentMonth:ie.currentMonth,onViewChange:Z,onMonthChange:(e,t)=>le({newMonth:e,direction:t}),minDate:de,maxDate:he,disabled:E,disablePast:m,disableFuture:f,reduceAnimations:w,timezone:X,labelId:pe,slots:$,slotProps:z},ownerState:l}),ve=(0,cR.A)((e=>{const t=s.startOfMonth(e),n=s.endOfMonth(e),r=ce(e)?dM({utils:s,date:e,minDate:s.isBefore(R,t)?t:R,maxDate:s.isAfter(P,n)?n:P,disablePast:m,disableFuture:f,isDateDisabled:ce,timezone:X}):e;r?(re(r,"finish"),null==b||b(t)):(ne(),ae(t)),se(r,!0)})),ye=(0,cR.A)((e=>{const t=s.startOfYear(e),n=s.endOfYear(e),r=ce(e)?dM({utils:s,date:e,minDate:s.isBefore(R,t)?t:R,maxDate:s.isAfter(P,n)?n:P,disablePast:m,disableFuture:f,isDateDisabled:ce,timezone:X}):e;r?(re(r,"finish"),null==y||y(r)):(ne(),ae(t)),se(r,!0)})),be=(0,cR.A)((e=>Q(e?uM(s,e,null!=Y?Y:oe):e,"finish",J)));r.useEffect((()=>{null!=Y&&s.isValid(Y)&&ae(Y)}),[Y]);const we=l,xe=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},ez,t)})(we),Ae={disablePast:m,disableFuture:f,maxDate:P,minDate:R},_e={disableHighlightToday:j,readOnly:I,disabled:E,timezone:X,gridLabelId:pe},Se=r.useRef(J);r.useEffect((()=>{Se.current!==J&&(ee===Se.current&&te(J,!0),Se.current=J)}),[ee,te,J]);const Ce=r.useMemo((()=>[Y]),[Y]);return(0,Ve.jsxs)(nz,(0,je.A)({ref:t,className:(0,Ne.A)(xe.root,T),ownerState:we},K,{children:[(0,Ve.jsx)(me,(0,je.A)({},ge)),(0,Ve.jsx)(rz,{reduceAnimations:w,className:xe.viewTransitionContainer,transKey:J,ownerState:we,children:(0,Ve.jsxs)("div",{children:["year"===J&&(0,Ve.jsx)(N$,(0,je.A)({},Ae,_e,{value:Y,onChange:ye,shouldDisableYear:_,hasFocus:fe,onFocusedViewChange:e=>te("year",e),yearsPerRow:H,referenceDate:oe})),"month"===J&&(0,Ve.jsx)(S$,(0,je.A)({},Ae,_e,{hasFocus:fe,className:T,value:Y,onChange:ve,shouldDisableMonth:A,onFocusedViewChange:e=>te("month",e),monthsPerRow:q,referenceDate:oe})),"day"===J&&(0,Ve.jsx)(f$,(0,je.A)({},ie,Ae,_e,{onMonthSwitchingAnimationEnd:ue,onFocusedDayChange:se,reduceAnimations:w,selectedDays:Ce,onSelectedDaysChange:be,shouldDisableDate:x,shouldDisableMonth:A,shouldDisableYear:_,hasFocus:fe,onFocusedViewChange:e=>te("day",e),showDaysOutsideCurrentMonth:M,fixedWeekNumber:O,dayOfWeekFormatter:L,displayWeekNumber:W,components:F,componentsProps:U,slots:$,slotProps:z,loading:B,renderLoading:V}))]})})]}))})),iz=e=>{let{view:t,onViewChange:n,views:r,focusedView:o,onFocusedViewChange:i,value:s,defaultValue:a,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:p,minDate:f,maxDate:m,shouldDisableDate:g,shouldDisableMonth:v,shouldDisableYear:y,reduceAnimations:b,onMonthChange:w,monthsPerRow:x,onYearChange:A,yearsPerRow:_,defaultCalendarMonth:S,components:C,componentsProps:k,slots:T,slotProps:E,loading:I,renderLoading:R,disableHighlightToday:P,readOnly:j,disabled:D,showDaysOutsideCurrentMonth:N,dayOfWeekFormatter:M,sx:O,autoFocus:L,fixedWeekNumber:F,displayWeekNumber:U,timezone:$}=e;return(0,Ve.jsx)(oz,{view:t,onViewChange:n,views:r.filter(gM),focusedView:o&&gM(o)?o:null,onFocusedViewChange:i,value:s,defaultValue:a,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:p,minDate:f,maxDate:m,shouldDisableDate:g,shouldDisableMonth:v,shouldDisableYear:y,reduceAnimations:b,onMonthChange:w,monthsPerRow:x,onYearChange:A,yearsPerRow:_,defaultCalendarMonth:S,components:C,componentsProps:k,slots:T,slotProps:E,loading:I,renderLoading:R,disableHighlightToday:P,readOnly:j,disabled:D,showDaysOutsideCurrentMonth:N,dayOfWeekFormatter:M,sx:O,autoFocus:L,fixedWeekNumber:F,displayWeekNumber:U,timezone:$})},sz=r.forwardRef((function(e,t){var n,o,i,s;const a=ZM(),l=XM(),c=dO(e,"MuiDesktopDatePicker"),u=(0,je.A)({day:iz,month:iz,year:iz},c.viewRenderers),d=(0,je.A)({},c,{viewRenderers:u,format:vM(l,c,!1),yearsPerRow:null!=(n=c.yearsPerRow)?n:4,slots:(0,je.A)({openPickerIcon:lU,field:kU},c.slots),slotProps:(0,je.A)({},c.slotProps,{field:e=>{var n;return(0,je.A)({},aM(null==(n=c.slotProps)?void 0:n.field,e),bU(c),{ref:t})},toolbar:(0,je.A)({hidden:!0},null==(o=c.slotProps)?void 0:o.toolbar)})}),{renderPicker:h}=(e=>{var t,n,o,i,s;let{props:a,getOpenDialogAriaText:l}=e,c=(0,De.A)(e,nU);const{slots:u,slotProps:d,className:h,sx:p,format:f,formatDensity:m,timezone:g,name:v,label:y,inputRef:b,readOnly:w,disabled:x,autoFocus:A,localeText:_,reduceAnimations:S}=a,C=XM(),k=r.useRef(null),T=r.useRef(null),E=(0,WP.A)(),I=null!=(t=null==d||null==(n=d.toolbar)?void 0:n.hidden)&&t,{open:R,actions:P,hasUIView:j,layoutProps:D,renderCurrentView:N,shouldRestoreFocus:M,fieldProps:O}=fF((0,je.A)({},c,{props:a,inputRef:k,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),L=null!=(o=u.inputAdornment)?o:ZN,F=mO({elementType:L,externalSlotProps:null==d?void 0:d.inputAdornment,additionalProps:{position:"end"},ownerState:a}),U=(0,De.A)(F,rU),$=null!=(i=u.openPickerButton)?i:OE,z=mO({elementType:$,externalSlotProps:null==d?void 0:d.openPickerButton,additionalProps:{disabled:x||w,onClick:R?P.onClose:P.onOpen,"aria-label":l(O.value,C),edge:U.position},ownerState:a}),B=(0,De.A)(z,oU),V=u.openPickerIcon,W=u.field,H=mO({elementType:W,externalSlotProps:null==d?void 0:d.field,additionalProps:(0,je.A)({},O,I&&{id:E},{readOnly:w,disabled:x,className:h,sx:p,format:f,formatDensity:m,timezone:g,label:y,name:v,autoFocus:A&&!a.open,focused:!!R||void 0}),ownerState:a});j&&(H.InputProps=(0,je.A)({},H.InputProps,{ref:T},!a.disableOpenPicker&&{[`${U.position}Adornment`]:(0,Ve.jsx)(L,(0,je.A)({},U,{children:(0,Ve.jsx)($,(0,je.A)({},B,{children:(0,Ve.jsx)(V,(0,je.A)({},null==d?void 0:d.openPickerIcon))}))}))}));const q=(0,je.A)({textField:u.textField,clearIcon:u.clearIcon,clearButton:u.clearButton},H.slots),G=null!=(s=u.layout)?s:tU,K=(0,CT.A)(k,H.inputRef,b);let Y=E;I&&(Y=y?`${E}-label`:void 0);const Q=(0,je.A)({},d,{toolbar:(0,je.A)({},null==d?void 0:d.toolbar,{titleId:E}),popper:(0,je.A)({"aria-labelledby":Y},null==d?void 0:d.popper)});return{renderPicker:()=>(0,Ve.jsxs)(qM,{localeText:_,children:[(0,Ve.jsx)(W,(0,je.A)({},H,{slots:q,slotProps:Q,inputRef:K})),(0,Ve.jsx)(rF,(0,je.A)({role:"dialog",placement:"bottom-start",anchorEl:T.current},P,{open:R,slots:u,slotProps:Q,shouldRestoreFocus:M,reduceAnimations:S,children:(0,Ve.jsx)(G,(0,je.A)({},D,null==Q?void 0:Q.layout,{slots:u,slotProps:Q,children:N()}))}))]})}})({props:d,valueManager:BM,valueType:"date",getOpenDialogAriaText:null!=(i=null==(s=d.localeText)?void 0:s.openDatePickerDialogue)?i:a.openDatePickerDialogue,validator:hO});return h()}));function az(e){return(0,iT.Ay)("MuiDialogContent",e)}sz.propTypes={autoFocus:sM().bool,className:sM().string,closeOnSelect:sM().bool,components:sM().object,componentsProps:sM().object,dayOfWeekFormatter:sM().func,defaultCalendarMonth:sM().any,defaultValue:sM().any,disabled:sM().bool,disableFuture:sM().bool,disableHighlightToday:sM().bool,disableOpenPicker:sM().bool,disablePast:sM().bool,displayWeekNumber:sM().bool,fixedWeekNumber:sM().number,format:sM().string,formatDensity:sM().oneOf(["dense","spacious"]),inputRef:lM,label:sM().node,loading:sM().bool,localeText:sM().object,maxDate:sM().any,minDate:sM().any,monthsPerRow:sM().oneOf([3,4]),name:sM().string,onAccept:sM().func,onChange:sM().func,onClose:sM().func,onError:sM().func,onMonthChange:sM().func,onOpen:sM().func,onSelectedSectionsChange:sM().func,onViewChange:sM().func,onYearChange:sM().func,open:sM().bool,openTo:sM().oneOf(["day","month","year"]),orientation:sM().oneOf(["landscape","portrait"]),readOnly:sM().bool,reduceAnimations:sM().bool,referenceDate:sM().any,renderLoading:sM().func,selectedSections:sM().oneOfType([sM().oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),sM().number,sM().shape({endIndex:sM().number.isRequired,startIndex:sM().number.isRequired})]),shouldDisableDate:sM().func,shouldDisableMonth:sM().func,shouldDisableYear:sM().func,showDaysOutsideCurrentMonth:sM().bool,slotProps:sM().object,slots:sM().object,sx:sM().oneOfType([sM().arrayOf(sM().oneOfType([sM().func,sM().object,sM().bool])),sM().func,sM().object]),timezone:sM().string,value:sM().any,view:sM().oneOf(["day","month","year"]),viewRenderers:sM().shape({day:sM().func,month:sM().func,year:sM().func}),views:sM().arrayOf(sM().oneOf(["day","month","year"]).isRequired),yearsPerRow:sM().oneOf([3,4])};(0,Ke.A)("MuiDialogContent",["root","dividers"]);function lz(e){return(0,iT.Ay)("MuiDialogTitle",e)}const cz=(0,Ke.A)("MuiDialogTitle",["root"]),uz=["className","dividers"],dz=(0,tT.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${cz.root} + &`]:{paddingTop:0}})})),hz=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiDialogContent"}),{className:r,dividers:o=!1}=n,i=(0,De.A)(n,uz),s=(0,je.A)({},n,{dividers:o}),a=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,eT.A)(r,az,t)})(s);return(0,Ve.jsx)(dz,(0,je.A)({className:(0,Ne.A)(a.root,r),ownerState:s,ref:t},i))})),pz=hz;function fz(e){return(0,iT.Ay)("MuiDialog",e)}const mz=(0,Ke.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const gz=r.createContext({}),vz=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],yz=(0,tT.Ay)(lR,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),bz=(0,tT.Ay)(SR,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),wz=(0,tT.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${(0,nT.A)(n.scroll)}`]]}})((e=>{let{ownerState:t}=e;return(0,je.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),xz=(0,tT.Ay)(uT,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${(0,nT.A)(n.scroll)}`],t[`paperWidth${(0,nT.A)(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${mz.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`,[`&.${mz.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${mz.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})})),Az=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiDialog"}),o=LI(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:f=!1,maxWidth:m="sm",onBackdropClick:g,onClick:v,onClose:y,open:b,PaperComponent:w=uT,PaperProps:x={},scroll:A="paper",TransitionComponent:_=rR,transitionDuration:S=i,TransitionProps:C}=n,k=(0,De.A)(n,vz),T=(0,je.A)({},n,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:f,maxWidth:m,scroll:A}),E=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e,s={root:["root"],container:["container",`scroll${(0,nT.A)(n)}`],paper:["paper",`paperScroll${(0,nT.A)(n)}`,`paperWidth${(0,nT.A)(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return(0,eT.A)(s,fz,t)})(T),I=r.useRef(),R=(0,WP.A)(a),P=r.useMemo((()=>({titleId:R})),[R]);return(0,Ve.jsx)(bz,(0,je.A)({className:(0,Ne.A)(E.root,d),closeAfterTransition:!0,components:{Backdrop:yz},componentsProps:{backdrop:(0,je.A)({transitionDuration:S,as:l},c)},disableEscapeKeyDown:h,onClose:y,open:b,ref:t,onClick:e=>{v&&v(e),I.current&&(I.current=null,g&&g(e),y&&y(e,"backdropClick"))},ownerState:T},k,{children:(0,Ve.jsx)(_,(0,je.A)({appear:!0,in:b,timeout:S,role:"presentation"},C,{children:(0,Ve.jsx)(wz,{className:(0,Ne.A)(E.container),onMouseDown:e=>{I.current=e.target===e.currentTarget},ownerState:T,children:(0,Ve.jsx)(xz,(0,je.A)({as:w,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":R},x,{className:(0,Ne.A)(E.paper,x.className),ownerState:T,children:(0,Ve.jsx)(gz.Provider,{value:P,children:u})}))})}))}))})),_z=Az,Sz=(0,tT.Ay)(_z)({[`& .${mz.container}`]:{outline:0},[`& .${mz.paper}`]:{outline:0,minWidth:KF}}),Cz=(0,tT.Ay)(pz)({"&:first-of-type":{padding:0}});function kz(e){var t,n;const{children:r,onDismiss:o,open:i,slots:s,slotProps:a}=e,l=null!=(t=null==s?void 0:s.dialog)?t:Sz,c=null!=(n=null==s?void 0:s.mobileTransition)?n:rR;return(0,Ve.jsx)(l,(0,je.A)({open:i,onClose:o},null==a?void 0:a.dialog,{TransitionComponent:c,TransitionProps:null==a?void 0:a.mobileTransition,PaperComponent:null==s?void 0:s.mobilePaper,PaperProps:null==a?void 0:a.mobilePaper,children:(0,Ve.jsx)(Cz,{children:r})}))}const Tz=["props","getOpenDialogAriaText"],Ez=r.forwardRef((function(e,t){var n,o,i;const s=ZM(),a=XM(),l=dO(e,"MuiMobileDatePicker"),c=(0,je.A)({day:iz,month:iz,year:iz},l.viewRenderers),u=(0,je.A)({},l,{viewRenderers:c,format:vM(a,l,!1),slots:(0,je.A)({field:kU},l.slots),slotProps:(0,je.A)({},l.slotProps,{field:e=>{var n;return(0,je.A)({},aM(null==(n=l.slotProps)?void 0:n.field,e),bU(l),{ref:t})},toolbar:(0,je.A)({hidden:!1},null==(n=l.slotProps)?void 0:n.toolbar)})}),{renderPicker:d}=(e=>{var t,n,o;let{props:i,getOpenDialogAriaText:s}=e,a=(0,De.A)(e,Tz);const{slots:l,slotProps:c,className:u,sx:d,format:h,formatDensity:p,timezone:f,name:m,label:g,inputRef:v,readOnly:y,disabled:b,localeText:w}=i,x=XM(),A=r.useRef(null),_=(0,WP.A)(),S=null!=(t=null==c||null==(n=c.toolbar)?void 0:n.hidden)&&t,{open:C,actions:k,layoutProps:T,renderCurrentView:E,fieldProps:I}=fF((0,je.A)({},a,{props:i,inputRef:A,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),R=l.field,P=mO({elementType:R,externalSlotProps:null==c?void 0:c.field,additionalProps:(0,je.A)({},I,S&&{id:_},!(b||y)&&{onClick:k.onOpen,onKeyDown:(j=k.onOpen,e=>{"Enter"!==e.key&&" "!==e.key||(j(e),e.preventDefault(),e.stopPropagation()),D&&D(e)})},{readOnly:null==y||y,disabled:b,className:u,sx:d,format:h,formatDensity:p,timezone:f,label:g,name:m}),ownerState:i});var j,D;P.inputProps=(0,je.A)({},P.inputProps,{"aria-label":s(I.value,x)});const N=(0,je.A)({textField:l.textField},P.slots),M=null!=(o=l.layout)?o:tU,O=(0,CT.A)(A,P.inputRef,v);let L=_;S&&(L=g?`${_}-label`:void 0);const F=(0,je.A)({},c,{toolbar:(0,je.A)({},null==c?void 0:c.toolbar,{titleId:_}),mobilePaper:(0,je.A)({"aria-labelledby":L},null==c?void 0:c.mobilePaper)});return{renderPicker:()=>(0,Ve.jsxs)(qM,{localeText:w,children:[(0,Ve.jsx)(R,(0,je.A)({},P,{slots:N,slotProps:F,inputRef:O})),(0,Ve.jsx)(kz,(0,je.A)({},k,{open:C,slots:l,slotProps:F,children:(0,Ve.jsx)(M,(0,je.A)({},T,null==F?void 0:F.layout,{slots:l,slotProps:F,children:E()}))}))]})}})({props:u,valueManager:BM,valueType:"date",getOpenDialogAriaText:null!=(o=null==(i=u.localeText)?void 0:i.openDatePickerDialogue)?o:s.openDatePickerDialogue,validator:hO});return d()}));Ez.propTypes={autoFocus:sM().bool,className:sM().string,closeOnSelect:sM().bool,components:sM().object,componentsProps:sM().object,dayOfWeekFormatter:sM().func,defaultCalendarMonth:sM().any,defaultValue:sM().any,disabled:sM().bool,disableFuture:sM().bool,disableHighlightToday:sM().bool,disableOpenPicker:sM().bool,disablePast:sM().bool,displayWeekNumber:sM().bool,fixedWeekNumber:sM().number,format:sM().string,formatDensity:sM().oneOf(["dense","spacious"]),inputRef:lM,label:sM().node,loading:sM().bool,localeText:sM().object,maxDate:sM().any,minDate:sM().any,monthsPerRow:sM().oneOf([3,4]),name:sM().string,onAccept:sM().func,onChange:sM().func,onClose:sM().func,onError:sM().func,onMonthChange:sM().func,onOpen:sM().func,onSelectedSectionsChange:sM().func,onViewChange:sM().func,onYearChange:sM().func,open:sM().bool,openTo:sM().oneOf(["day","month","year"]),orientation:sM().oneOf(["landscape","portrait"]),readOnly:sM().bool,reduceAnimations:sM().bool,referenceDate:sM().any,renderLoading:sM().func,selectedSections:sM().oneOfType([sM().oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),sM().number,sM().shape({endIndex:sM().number.isRequired,startIndex:sM().number.isRequired})]),shouldDisableDate:sM().func,shouldDisableMonth:sM().func,shouldDisableYear:sM().func,showDaysOutsideCurrentMonth:sM().bool,slotProps:sM().object,slots:sM().object,sx:sM().oneOfType([sM().arrayOf(sM().oneOfType([sM().func,sM().object,sM().bool])),sM().func,sM().object]),timezone:sM().string,value:sM().any,view:sM().oneOf(["day","month","year"]),viewRenderers:sM().shape({day:sM().func,month:sM().func,year:sM().func}),views:sM().arrayOf(sM().oneOf(["day","month","year"]).isRequired),yearsPerRow:sM().oneOf([3,4])};const Iz=["desktopModeMediaQuery"],Rz=r.forwardRef((function(e,t){const n=oM({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:r=GL}=n,o=(0,De.A)(n,Iz);return rM(r,{defaultMatches:!0})?(0,Ve.jsx)(sz,(0,je.A)({ref:t},o)):(0,Ve.jsx)(Ez,(0,je.A)({ref:t},o))})),Pz=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),jz=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),Dz=()=>{const[e,t]=(0,r.useState)({username:"",email:"",password:"",confirmPassword:"",dateOfBirth:"",name:""}),[n,o]=(0,r.useState)(null),[i,s]=(0,r.useState)({}),[a,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),p=Z(),{register:f}=jk(),m=e=>{const{name:n,value:r}=e.target;t((e=>({...e,[n]:r}))),i[n]&&s((e=>({...e,[n]:void 0})))};return a?(0,Ve.jsx)(VP,{maxWidth:"sm",children:(0,Ve.jsx)(Je,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Ve.jsx)(HN,{})})}):(0,Ve.jsx)(VP,{maxWidth:"sm",children:(0,Ve.jsx)(Je,{sx:{mt:8},children:(0,Ve.jsxs)(uT,{elevation:0,sx:{p:4},children:[(0,Ve.jsx)(KT,{variant:"h4",gutterBottom:!0,align:"center",children:"Create Account"}),(0,Ve.jsx)(KT,{variant:"body1",color:"text.secondary",paragraph:!0,align:"center",children:"Join SideEye and start sharing your thoughts with the community"}),d&&(0,Ve.jsx)(lN,{severity:"error",sx:{mb:2},children:d}),(0,Ve.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),h(null),(()=>{const t={};if(e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email format"):t.email="Email is required",e.password){const n=e.password;n.length<8?t.password="Password must be at least 8 characters long":/[A-Z]/.test(n)?/[a-z]/.test(n)?/[0-9]/.test(n)?/[!@#$%^&*(),.?":{}|<>]/.test(n)||(t.password="Password must contain at least one special character"):t.password="Password must contain at least one number":t.password="Password must contain at least one lowercase letter":t.password="Password must contain at least one uppercase letter"}else t.password="Password is required";if(e.password!==e.confirmPassword&&(t.confirmPassword="Passwords do not match"),e.username?e.username.length<3?t.username="Username must be at least 3 characters long":/^[a-zA-Z0-9_-]+$/.test(e.username)||(t.username="Username can only contain letters, numbers, underscores, and hyphens"):t.username="Username is required",e.name?e.name.length<2?t.name="Name must be at least 2 characters long":/^[a-zA-Z\s-']+$/.test(e.name)||(t.name="Name can only contain letters, spaces, hyphens, and apostrophes"):t.name="Name is required",n){const e=new Date;let r=e.getFullYear()-n.getFullYear();const o=e.getMonth()-n.getMonth();(o<0||0===o&&e.getDate()<n.getDate())&&r--,r<16?t.dateOfBirth="You must be at least 16 years old":r>120&&(t.dateOfBirth="Please enter a valid date of birth")}else t.dateOfBirth="Date of birth is required";return s(t),0===Object.keys(t).length})())try{if(l(!0),!n||isNaN(n.getTime()))throw new Error("Invalid date of birth");await f(e.email,e.password,e.username,il.fromDate(n)),p("/verify-email",{replace:!0})}catch(d){console.error("Registration error:",d),"auth/email-already-in-use"===d.code?h("Email is already in use"):"auth/weak-password"===d.code?h("Password is too weak"):"Invalid date of birth"===d.message?h("Please enter a valid date of birth"):h(d.message||"Error creating account. Please try again.")}finally{l(!1)}},children:[(0,Ve.jsx)(GD,{fullWidth:!0,label:"Full Name",name:"name",value:e.name,onChange:m,margin:"normal",required:!0,error:!!i.name,helperText:i.name}),(0,Ve.jsx)(GD,{fullWidth:!0,label:"Username",name:"username",value:e.username,onChange:m,margin:"normal",required:!0,error:!!i.username,helperText:i.username}),(0,Ve.jsx)(GD,{fullWidth:!0,label:"Email",name:"email",type:"email",value:e.email,onChange:m,margin:"normal",required:!0,error:!!i.email,helperText:i.email}),(0,Ve.jsx)(GD,{fullWidth:!0,label:"Password",name:"password",type:c?"text":"password",value:e.password,onChange:m,margin:"normal",required:!0,error:!!i.password,helperText:i.password,InputProps:{endAdornment:(0,Ve.jsx)(ZN,{position:"end",children:(0,Ve.jsx)(OE,{onClick:()=>u(!c),edge:"end",children:c?(0,Ve.jsx)(Pz,{}):(0,Ve.jsx)(jz,{})})})}}),(0,Ve.jsx)(GD,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:c?"text":"password",value:e.confirmPassword,onChange:m,margin:"normal",required:!0,error:!!i.confirmPassword,helperText:i.confirmPassword}),(0,Ve.jsx)(Rz,{label:"Date of Birth",value:n,onChange:e=>{o(e),e&&!isNaN(e.getTime())?t((t=>({...t,dateOfBirth:e.toISOString()}))):t((e=>({...e,dateOfBirth:""}))),i.dateOfBirth&&s((e=>({...e,dateOfBirth:void 0})))},slotProps:{textField:{margin:"normal",required:!0,fullWidth:!0,error:!!i.dateOfBirth,helperText:i.dateOfBirth}},disableFuture:!0,maxDate:new Date}),(0,Ve.jsx)(sI,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},disabled:a,children:"Create Account"}),(0,Ve.jsxs)(KT,{variant:"body2",sx:{mt:2},align:"center",children:["Already have an account? ",(0,Ve.jsx)(Ie,{to:"/login",children:"Log in"})]})]})]})})})},Nz=()=>{const{resetPassword:e}=jk(),[t,n]=(Z(),(0,r.useState)("")),[o,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(null);return(0,Ve.jsx)(VP,{maxWidth:"xs",children:(0,Ve.jsxs)(uT,{elevation:0,sx:{mt:8,p:4},children:[(0,Ve.jsx)(KT,{variant:"h5",component:"h1",gutterBottom:!0,align:"center",children:"Reset Password"}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",align:"center",paragraph:!0,children:"Enter your email address and we'll send you a link to reset your password."}),(0,Ve.jsxs)(Je,{component:"form",onSubmit:async n=>{if(n.preventDefault(),i(!0),a(null),c(null),!t)return a("Email is required."),void i(!1);try{await e(t),c("Password reset email sent. Please check your inbox.")}catch(gJ){console.error("Error sending password reset email:",gJ),a("Failed to send reset email. Please check the address and try again.")}finally{i(!1)}},noValidate:!0,sx:{mt:1},children:[(0,Ve.jsx)(GD,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:t,onChange:e=>n(e.target.value),autoFocus:!0}),s&&(0,Ve.jsx)(lN,{severity:"error",sx:{mt:2},children:s}),l&&(0,Ve.jsx)(lN,{severity:"success",sx:{mt:2},children:l}),(0,Ve.jsx)(sI,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:o,children:o?(0,Ve.jsx)(HN,{size:24}):"Send Reset Link"}),(0,Ve.jsx)(Je,{textAlign:"center",children:(0,Ve.jsx)(RN,{component:Ie,to:"/login",variant:"body2",children:"Back to Login"})})]})]})})};function Mz(e){return(0,iT.Ay)("MuiCard",e)}(0,Ke.A)("MuiCard",["root"]);const Oz=["className","raised"],Lz=(0,tT.Ay)(uT,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),Fz=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiCard"}),{className:r,raised:o=!1}=n,i=(0,De.A)(n,Oz),s=(0,je.A)({},n,{raised:o}),a=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"]},Mz,t)})(s);return(0,Ve.jsx)(Lz,(0,je.A)({className:(0,Ne.A)(a.root,r),elevation:o?8:void 0,ref:t,ownerState:s},i))})),Uz=Fz;function $z(e){return(0,iT.Ay)("MuiCardMedia",e)}(0,Ke.A)("MuiCardMedia",["root","media","img"]);const zz=["children","className","component","image","src","style"],Bz=(0,tT.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:o}=n;return[t.root,r&&t.media,o&&t.img]}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})})),Vz=["video","audio","picture","iframe","img"],Wz=["picture","img"],Hz=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiCardMedia"}),{children:r,className:o,component:i="div",image:s,src:a,style:l}=n,c=(0,De.A)(n,zz),u=-1!==Vz.indexOf(i),d=!u&&s?(0,je.A)({backgroundImage:`url("${s}")`},l):l,h=(0,je.A)({},n,{component:i,isMediaComponent:u,isImageComponent:-1!==Wz.indexOf(i)}),p=(e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e,o={root:["root",n&&"media",r&&"img"]};return(0,eT.A)(o,$z,t)})(h);return(0,Ve.jsx)(Bz,(0,je.A)({className:(0,Ne.A)(p.root,o),as:i,role:!u&&s?"img":void 0,ref:t,style:d,ownerState:h,src:u?s||a:void 0},c,{children:r}))})),qz=Hz;function Gz(e){return(0,iT.Ay)("MuiCardContent",e)}(0,Ke.A)("MuiCardContent",["root"]);const Kz=["className","component"],Yz=(0,tT.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),Qz=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiCardContent"}),{className:r,component:o="div"}=n,i=(0,De.A)(n,Kz),s=(0,je.A)({},n,{component:o}),a=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"]},Gz,t)})(s);return(0,Ve.jsx)(Yz,(0,je.A)({as:o,className:(0,Ne.A)(a.root,r),ownerState:s,ref:t},i))})),Xz=Qz;function Jz(e){return(0,iT.Ay)("MuiCardActions",e)}(0,Ke.A)("MuiCardActions",["root","spacing"]);const Zz=["disableSpacing","className"],eB=(0,tT.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),tB=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:o}=n,i=(0,De.A)(n,Zz),s=(0,je.A)({},n,{disableSpacing:r}),a=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,eT.A)(r,Jz,t)})(s);return(0,Ve.jsx)(eB,(0,je.A)({className:(0,Ne.A)(a.root,o),ownerState:s,ref:t},i))})),nB=tB,rB=["className","id"],oB=(0,tT.Ay)(KT,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),iB=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiDialogTitle"}),{className:o,id:i}=n,s=(0,De.A)(n,rB),a=n,l=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"]},lz,t)})(a),{titleId:c=i}=r.useContext(gz);return(0,Ve.jsx)(oB,(0,je.A)({component:"h2",className:(0,Ne.A)(l.root,o),ownerState:a,ref:t,variant:"h6",id:null!=i?i:c},s))})),sB=iB,aB=(0,AT.A)((0,Ve.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock"),lB=(0,AT.A)([(0,Ve.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,Ve.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),cB=(0,AT.A)((0,Ve.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),uB=(0,AT.A)((0,Ve.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd"),dB=(0,AT.A)((0,Ve.jsx)("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m3 2v2h6v-2zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"}),"PersonRemove"),hB=(0,AT.A)((0,Ve.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 12H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Message"),pB=(0,AT.A)((0,Ve.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"Group"),fB=(0,r.createContext)({db:null,loading:!1,error:null}),mB=()=>{const e=(0,r.useContext)(fB);if(void 0===e)throw new Error("useFirestore must be used within a FirestoreProvider");return null===e.db&&console.warn("useFirestore called before db was initialized or initialization failed"),e},gB=e=>{let{children:t}=e;const n={db:D_,loading:!1,error:null};return(0,Ve.jsx)(fB.Provider,{value:n,children:t})},vB=()=>(0,Ve.jsx)(VP,{maxWidth:"sm",sx:{mt:4,textAlign:"center"},children:(0,Ve.jsxs)(uT,{elevation:2,sx:{p:3},children:[(0,Ve.jsx)(aB,{sx:{fontSize:40,mb:2},color:"action"}),(0,Ve.jsx)(KT,{variant:"h6",gutterBottom:!0,children:"Account Deactivated"}),(0,Ve.jsx)(KT,{color:"text.secondary",children:"This user's account is currently deactivated."})]})}),yB=()=>{rM(LI().breakpoints.down("sm"));const{currentUser:e,user:t,userProfile:n,loading:o,setUserProfile:i}=jk(),{db:s}=mB(),{userId:a}=ee(),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(!0),[A,_]=(0,r.useState)(null),[S,C]=(0,r.useState)([]),[k,T]=(0,r.useState)([]),[E,I]=(0,r.useState)(null),[R,P]=(0,r.useState)(!1),[j,D]=(0,r.useState)(!1),[N,M]=(0,r.useState)(!1),[O,L]=(0,r.useState)(!1),[F,U]=(0,r.useState)([]),[$,z]=(0,r.useState)(!1),[B,V]=(0,r.useState)(""),[W,H]=(0,r.useState)(""),[q,G]=(0,r.useState)(""),[K,Y]=(0,r.useState)([]),[Q,X]=(0,r.useState)([]),[J,te]=(0,r.useState)(!1),ne=Z(),re=l||(null===e||void 0===e?void 0:e.uid)||"";(0,r.useEffect)((()=>{c(a||((null===e||void 0===e?void 0:e.uid)||null))}),[a,null===e||void 0===e?void 0:e.uid]);const oe=(0,r.useCallback)((async()=>{if(s&&l)try{x(!0),_(null),te(!1);const t=ng(s,"users",l),n=await gv(t);if(!n.exists())return _("Profile not found"),void x(!1);const r=n.data();if(!1===r.isActive)return te(!0),_(null),void x(!1);const o=r.isPrivate||!1,i=(null===e||void 0===e?void 0:e.uid)===l;if(P(o),d(r.username||""),p(r.name||""),v(r.bio||""),I(r.profilePic||null),i||!o)D(!0),_(null);else if(null!==e&&void 0!==e&&e.uid){const t=ng(s,`users/${l}/followers/${e.uid}`),n=(await gv(t)).exists();D(n),n||_("This profile is private")}else D(!1),_("This profile is private");const[a,c]=await Promise.all([yv(tg(s,`users/${l}/followers`)),yv(tg(s,`users/${l}/following`))]);T(a.docs.map((e=>e.id))),C(c.docs.map((e=>e.id)));const[u,h]=await Promise.all([yv(qg(tg(s,"sideRooms"),Kg("members","array-contains",l))),yv(qg(tg(s,"sideRooms"),Kg("ownerId","==",l),Kg("deleted","==",!1)))]);Y(u.docs.map((e=>({id:e.id,...e.data()})))),X(h.docs.map((e=>({id:e.id,...e.data()}))))}catch(A){console.error("Error in fetchUserData:",A),_("Failed to load profile data")}finally{x(!1)}else x(!1)}),[s,l,e]);(0,r.useEffect)((()=>{oe()}),[oe]),(0,r.useEffect)((()=>{if(!s||!re)return;const e=_v(tg(s,"users",re,"followers"),(e=>{const t=e.docs.map((e=>e.id));T(t)}));return()=>e()}),[s,re]),(0,r.useEffect)((()=>{if(!s||!re)return;const e=_v(tg(s,"users",re,"following"),(e=>{const t=e.docs.map((e=>e.id));C(t)}));return()=>e()}),[s,re]),(0,r.useEffect)((()=>{if(!s||!e||!re)return;const t=_v(ng(s,"users",e.uid,"following",re),(e=>{M(e.exists())}));return()=>t()}),[s,e,re]);const ie=async()=>{if(e&&re&&s)try{if(x(!0),R){const t=ng(s,"users",re,"followRequests",e.uid);await bv(t,{timestamp:Pv()}),L(!0),aS.success("Follow request sent")}else{const t=ng(s,"users",e.uid,"following",re),n=ng(s,"users",re,"followers",e.uid);await bv(t,{timestamp:Pv()}),await bv(n,{timestamp:Pv()}),M(!0),aS.success("Followed successfully")}}catch(A){console.error("Error handling follow:",A),_("Failed to process follow request"),aS.error("Failed to process follow request")}finally{x(!1)}else _("Database not initialized")},se=async()=>{if(e&&re&&s)try{x(!0);const t=ng(s,"users",e.uid,"following",re);await xv(t);const n=ng(s,"users",re,"followers",e.uid);await xv(n),M(!1),T((t=>t.filter((t=>t!==e.uid)))),C((e=>e.filter((e=>e!==re)))),aS.success("Unfollowed successfully")}catch(A){console.error("Error unfollowing user:",A),_("Failed to unfollow user"),aS.error("Failed to unfollow user")}finally{x(!1)}else _("Database not initialized")};return o||w?(0,Ve.jsx)(VP,{maxWidth:"lg",children:(0,Ve.jsx)(Je,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Ve.jsx)(HN,{})})}):J?(0,Ve.jsx)(vB,{}):(0,Ve.jsxs)(VP,{maxWidth:"lg",sx:{mt:2,mb:4},children:[(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,Ve.jsx)(uT,{elevation:0,sx:{p:3,borderRadius:2,backgroundColor:"background.paper"},children:(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3,alignItems:"center"},children:[(0,Ve.jsx)(Je,{sx:{position:"relative"},children:(0,Ve.jsx)(GE,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(null===e||void 0===e?void 0:e.uid)===l&&(0,Ve.jsxs)(OE,{component:"label",size:"small",sx:{bgcolor:"background.paper","&:hover":{bgcolor:"background.default"}},children:[(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:async t=>{var n;if(e&&null!==(n=t.target.files)&&void 0!==n&&n[0])try{x(!0);const n=t.target.files[0],r=Xy(M_,`profilePics/${e.uid}`);await Yy(r,n);const o=await Qy(r),i=ng(s,"users",e.uid);await wv(i,{profilePic:o,updatedAt:Pv()}),I(o),aS.success("Profile picture updated successfully")}catch(A){console.error("Error updating profile picture:",A),_("Failed to update profile picture"),aS.error("Failed to update profile picture")}finally{x(!1)}}}),(0,Ve.jsx)(lB,{fontSize:"small"})]}),children:(0,Ve.jsx)(zT,{src:E||void 0,alt:u,sx:{width:120,height:120}})})}),(0,Ve.jsxs)(Je,{sx:{flex:1,minWidth:0},children:[(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[(0,Ve.jsx)(KT,{variant:"h4",sx:{fontWeight:"bold"},children:h||"No name set"}),R&&(0,Ve.jsx)(aB,{color:"action"}),(null===e||void 0===e?void 0:e.uid)===re&&(0,Ve.jsx)(OE,{onClick:()=>b(!0),size:"small",children:(0,Ve.jsx)(cB,{fontSize:"small"})})]}),(0,Ve.jsxs)(KT,{variant:"body1",color:"text.secondary",sx:{mb:2},children:["@",u||"No username set"]}),R&&!j&&(null===e||void 0===e?void 0:e.uid)!==re?(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Ve.jsx)(lN,{severity:"info",sx:{mb:2},children:"This account is private. Follow to see their side rooms."}),(0,Ve.jsx)(Je,{sx:{display:"flex",gap:2},children:N?(0,Ve.jsx)(sI,{variant:"outlined",onClick:se,disabled:w,startIcon:(0,Ve.jsx)(dB,{}),children:"Unfollow"}):(0,Ve.jsx)(sI,{variant:"contained",onClick:ie,disabled:w,startIcon:(0,Ve.jsx)(uB,{}),children:O?"Request Sent":"Follow"})})]}):(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(KT,{variant:"body1",sx:{mb:2},children:g||"No bio set"}),(0,Ve.jsx)(Je,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:(null===e||void 0===e?void 0:e.uid)!==re&&(0,Ve.jsxs)(Ve.Fragment,{children:[N?(0,Ve.jsx)(sI,{variant:"outlined",onClick:se,disabled:w,startIcon:(0,Ve.jsx)(dB,{}),children:"Unfollow"}):(0,Ve.jsx)(sI,{variant:"contained",onClick:ie,disabled:w,startIcon:(0,Ve.jsx)(uB,{}),children:O?"Request Sent":"Follow"}),(0,Ve.jsx)(sI,{variant:"outlined",startIcon:(0,Ve.jsx)(hB,{}),onClick:()=>ne(`/chat/${re}`),children:"Message"})]})})]})]})]})}),(!R||j||(null===e||void 0===e?void 0:e.uid)===re)&&(0,Ve.jsx)(uT,{elevation:0,sx:{p:2,borderRadius:2,backgroundColor:"background.paper"},children:(0,Ve.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-around",gap:2},children:[(0,Ve.jsxs)(Je,{sx:{textAlign:"center"},children:[(0,Ve.jsx)(KT,{variant:"h6",children:Q.length}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",children:"Rooms"})]}),(0,Ve.jsxs)(Je,{sx:{textAlign:"center",cursor:"pointer","&:hover":{textDecoration:"underline"}},component:Ie,to:`/profile/${re}/followers`,children:[(0,Ve.jsx)(KT,{variant:"h6",children:k.length}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",children:"Followers"})]}),(0,Ve.jsxs)(Je,{sx:{textAlign:"center",cursor:"pointer","&:hover":{textDecoration:"underline"}},component:Ie,to:`/profile/${re}/following`,children:[(0,Ve.jsx)(KT,{variant:"h6",children:S.length}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",children:"Following"})]})]})}),(!R||j||(null===e||void 0===e?void 0:e.uid)===re)&&(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:3},children:[Q.length>0&&(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"h6",sx:{mb:2},children:"Created Rooms"}),(0,Ve.jsx)(Je,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2},children:Q.map((e=>(0,Ve.jsxs)(Uz,{sx:{display:"flex",flexDirection:"column",height:"100%","&:hover":{boxShadow:6,transform:"translateY(-2px)",transition:"all 0.2s ease-in-out"}},children:[e.thumbnailUrl&&(0,Ve.jsx)(qz,{component:"img",height:"140",image:e.thumbnailUrl,alt:e.name,sx:{objectFit:"cover"}}),(0,Ve.jsxs)(Xz,{sx:{flexGrow:1},children:[(0,Ve.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[(0,Ve.jsx)(KT,{variant:"h6",component:"div",children:e.name}),(0,Ve.jsx)(GF,{size:"small",label:"Owner",color:"primary"})]}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,Ve.jsxs)(Je,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(0,Ve.jsx)(GF,{size:"small",label:`${e.memberCount||0} members`,icon:(0,Ve.jsx)(pB,{})}),e.category&&(0,Ve.jsx)(GF,{size:"small",label:e.category,variant:"outlined"}),e.isPrivate&&(0,Ve.jsx)(GF,{size:"small",icon:(0,Ve.jsx)(aB,{}),label:"Private",variant:"outlined"})]})]}),(0,Ve.jsx)(nB,{children:(0,Ve.jsx)(sI,{size:"small",component:Ie,to:`/side-room/${e.id}`,variant:"contained",fullWidth:!0,children:"Enter Room"})})]},e.id)))})]}),K.length>0&&(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"h6",sx:{mb:2},children:"Joined Rooms"}),(0,Ve.jsx)(Je,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2},children:K.map((e=>(0,Ve.jsxs)(Uz,{sx:{display:"flex",flexDirection:"column",height:"100%","&:hover":{boxShadow:6,transform:"translateY(-2px)",transition:"all 0.2s ease-in-out"}},children:[e.thumbnailUrl&&(0,Ve.jsx)(qz,{component:"img",height:"140",image:e.thumbnailUrl,alt:e.name,sx:{objectFit:"cover"}}),(0,Ve.jsxs)(Xz,{sx:{flexGrow:1},children:[(0,Ve.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[(0,Ve.jsx)(KT,{variant:"h6",component:"div",children:e.name}),(0,Ve.jsx)(GF,{size:"small",label:"Member"})]}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,Ve.jsxs)(Je,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(0,Ve.jsx)(GF,{size:"small",label:`${e.memberCount||0} members`,icon:(0,Ve.jsx)(pB,{})}),e.category&&(0,Ve.jsx)(GF,{size:"small",label:e.category,variant:"outlined"}),e.isPrivate&&(0,Ve.jsx)(GF,{size:"small",icon:(0,Ve.jsx)(aB,{}),label:"Private",variant:"outlined"})]})]}),(0,Ve.jsx)(nB,{children:(0,Ve.jsx)(sI,{size:"small",component:Ie,to:`/side-room/${e.id}`,variant:"contained",fullWidth:!0,children:"Enter Room"})})]},e.id)))})]}),0===Q.length&&0===K.length&&(0,Ve.jsxs)(Je,{sx:{textAlign:"center",py:4},children:[(0,Ve.jsx)(KT,{variant:"body1",color:"text.secondary",children:"Not a member of any side rooms yet"}),(0,Ve.jsx)(sI,{variant:"contained",color:"primary",component:Ie,to:"/side-rooms",sx:{mt:2},children:"Browse Side Rooms"})]})]})]}),(0,Ve.jsxs)(_z,{open:y,onClose:()=>b(!1),maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(sB,{children:"Edit Profile"}),(0,Ve.jsx)(pz,{children:(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[(0,Ve.jsx)(GD,{label:"Name",value:B,onChange:e=>V(e.target.value),fullWidth:!0,variant:"outlined"}),(0,Ve.jsx)(GD,{label:"Username",value:q,onChange:e=>G(e.target.value),fullWidth:!0,variant:"outlined"}),(0,Ve.jsx)(GD,{label:"Bio",value:W,onChange:e=>H(e.target.value),multiline:!0,rows:4,fullWidth:!0,variant:"outlined",helperText:"Tell others about yourself (You can use emojis!)"})]})}),(0,Ve.jsxs)(xF,{sx:{p:3},children:[(0,Ve.jsx)(sI,{variant:"outlined",onClick:()=>b(!1),sx:{minWidth:"120px",borderColor:"text.secondary",color:"text.secondary","&:hover":{borderColor:"text.primary",color:"text.primary"}},children:"Cancel"}),(0,Ve.jsx)(sI,{variant:"contained",onClick:async()=>{if(e&&s)try{x(!0);const t=ng(s,"users",e.uid);await wv(t,{name:B,username:q,bio:W,updatedAt:Pv()}),p(B),d(q),v(W),b(!1),aS.success("Profile updated successfully")}catch(A){console.error("Error updating profile:",A),_("Failed to update profile"),aS.error("Failed to update profile")}finally{x(!1)}},disabled:w,sx:{minWidth:"120px",bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},children:w?"Saving...":"Save Changes"})]})]})]})},bB=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],wB=(0,tT.Ay)(RE,{shouldForwardProp:e=>(0,YE.A)(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${TF.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,rT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${TF.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,rT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${TF.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,rT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,rT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${TF.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${TF.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},"flex-start"===n.alignItems&&{alignItems:"flex-start"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.dense&&{paddingTop:4,paddingBottom:4})})),xB=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiListItemButton"}),{alignItems:o="center",autoFocus:i=!1,component:s="div",children:a,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:h=!1,className:p}=n,f=(0,De.A)(n,bB),m=r.useContext(lI),g=r.useMemo((()=>({dense:l||m.dense||!1,alignItems:o,disableGutters:c})),[o,m.dense,l,c]),v=r.useRef(null);(0,gI.A)((()=>{i&&v.current&&v.current.focus()}),[i]);const y=(0,je.A)({},n,{alignItems:o,dense:g.dense,disableGutters:c,divider:u,selected:h}),b=(e=>{const{alignItems:t,classes:n,dense:r,disabled:o,disableGutters:i,divider:s,selected:a}=e,l={root:["root",r&&"dense",!i&&"gutters",s&&"divider",o&&"disabled","flex-start"===t&&"alignItemsFlexStart",a&&"selected"]},c=(0,eT.A)(l,kF,n);return(0,je.A)({},n,c)})(y),w=(0,YT.A)(v,t);return(0,Ve.jsx)(lI.Provider,{value:g,children:(0,Ve.jsx)(wB,(0,je.A)({ref:w,href:f.href||f.to,component:(f.href||f.to)&&"div"===s?"button":s,focusVisibleClassName:(0,Ne.A)(b.focusVisible,d),ownerState:y,className:(0,Ne.A)(b.root,p)},f,{classes:b,children:a}))})})),AB=xB;function _B(e){return(0,iT.Ay)("PrivateSwitchBase",e)}(0,Ke.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const SB=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],CB=(0,tT.Ay)(RE)((e=>{let{ownerState:t}=e;return(0,je.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),kB=(0,tT.Ay)("input",{shouldForwardProp:YE.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),TB=r.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:o,className:i,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:c=!1,icon:u,id:d,inputProps:h,inputRef:p,name:f,onBlur:m,onChange:g,onFocus:v,readOnly:y,required:b=!1,tabIndex:w,type:x,value:A}=e,_=(0,De.A)(e,SB),[S,C]=(0,xD.A)({controlled:r,default:Boolean(s),name:"SwitchBase",state:"checked"}),k=tj();let T=a;k&&"undefined"===typeof T&&(T=k.disabled);const E="checkbox"===x||"radio"===x,I=(0,je.A)({},e,{checked:S,disabled:T,disableFocusRipple:l,edge:c}),R=(e=>{const{classes:t,checked:n,disabled:r,edge:o}=e,i={root:["root",n&&"checked",r&&"disabled",o&&`edge${(0,nT.A)(o)}`],input:["input"]};return(0,eT.A)(i,_B,t)})(I);return(0,Ve.jsxs)(CB,(0,je.A)({component:"span",className:(0,Ne.A)(R.root,i),centerRipple:!0,focusRipple:!l,disabled:T,tabIndex:null,role:void 0,onFocus:e=>{v&&v(e),k&&k.onFocus&&k.onFocus(e)},onBlur:e=>{m&&m(e),k&&k.onBlur&&k.onBlur(e)},ownerState:I,ref:t},_,{children:[(0,Ve.jsx)(kB,(0,je.A)({autoFocus:n,checked:r,defaultChecked:s,className:R.input,disabled:T,id:E?d:void 0,name:f,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;C(t),g&&g(e,t)},readOnly:y,ref:p,required:b,ownerState:I,tabIndex:w,type:x},"checkbox"===x&&void 0===A?{}:{value:A},h)),S?o:u]}))})),EB=TB;function IB(e){return(0,iT.Ay)("MuiSwitch",e)}const RB=(0,Ke.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),PB=["className","color","edge","size","sx"],jB=(0,tT.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${(0,nT.A)(n.edge)}`],t[`size${(0,nT.A)(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${RB.thumb}`]:{width:16,height:16},[`& .${RB.switchBase}`]:{padding:4,[`&.${RB.checked}`]:{transform:"translateX(16px)"}}}}]}),DB=(0,tT.Ay)(EB,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${RB.input}`]:t.input},"default"!==n.color&&t[`color${(0,nT.A)(n.color)}`]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${"light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${RB.checked}`]:{transform:"translateX(20px)"},[`&.${RB.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${RB.checked} + .${RB.track}`]:{opacity:.5},[`&.${RB.disabled} + .${RB.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:""+("light"===t.palette.mode?.12:.2)},[`& .${RB.input}`]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,rT.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${RB.checked}`]:{color:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,rT.X4)(t.palette[n].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${RB.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${n}DisabledColor`]:`${"light"===t.palette.mode?(0,rT.a)(t.palette[n].main,.62):(0,rT.e$)(t.palette[n].main,.55)}`}},[`&.${RB.checked} + .${RB.track}`]:{backgroundColor:(t.vars||t).palette[n].main}}}}))]}})),NB=(0,tT.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${"light"===t.palette.mode?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:""+("light"===t.palette.mode?.38:.3)}})),MB=(0,tT.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),OB=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiSwitch"}),{className:r,color:o="primary",edge:i=!1,size:s="medium",sx:a}=n,l=(0,De.A)(n,PB),c=(0,je.A)({},n,{color:o,edge:i,size:s}),u=(e=>{const{classes:t,edge:n,size:r,color:o,checked:i,disabled:s}=e,a={root:["root",n&&`edge${(0,nT.A)(n)}`,`size${(0,nT.A)(r)}`],switchBase:["switchBase",`color${(0,nT.A)(o)}`,i&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=(0,eT.A)(a,IB,t);return(0,je.A)({},t,l)})(c),d=(0,Ve.jsx)(MB,{className:u.thumb,ownerState:c});return(0,Ve.jsxs)(jB,{className:(0,Ne.A)(u.root,r),sx:a,ownerState:c,children:[(0,Ve.jsx)(DB,(0,je.A)({type:"checkbox",icon:d,checkedIcon:d,ref:t,ownerState:c},l,{classes:(0,je.A)({},u,{root:u.switchBase})})),(0,Ve.jsx)(NB,{className:u.track,ownerState:c})]})})),LB=OB,FB=(0,AT.A)((0,Ve.jsx)("path",{d:"M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1m-1 9h-4v-7h4z"}),"Devices"),UB=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),$B=(0,AT.A)([(0,Ve.jsx)("circle",{cx:"10",cy:"8",r:"4"},"0"),(0,Ve.jsx)("path",{d:"M10.67 13.02c-.22-.01-.44-.02-.67-.02-2.42 0-4.68.67-6.61 1.82-.88.52-1.39 1.5-1.39 2.53V20h9.26c-.79-1.13-1.26-2.51-1.26-4 0-1.07.25-2.07.67-2.98M20.75 16c0-.22-.03-.42-.06-.63l1.14-1.01-1-1.73-1.45.49c-.32-.27-.68-.48-1.08-.63L18 11h-2l-.3 1.49c-.4.15-.76.36-1.08.63l-1.45-.49-1 1.73 1.14 1.01c-.03.21-.06.41-.06.63s.03.42.06.63l-1.14 1.01 1 1.73 1.45-.49c.32.27.68.48 1.08.63L16 21h2l.3-1.49c.4-.15.76-.36 1.08-.63l1.45.49 1-1.73-1.14-1.01c.03-.21.06-.41.06-.63M17 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"1")],"ManageAccounts"),zB=(0,AT.A)((0,Ve.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code"),BB=(0,AT.A)((0,Ve.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"ReportProblem"),VB=(0,AT.A)((0,Ve.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),WB=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5z"}),"Shield"),HB=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),qB=(0,AT.A)([(0,Ve.jsx)("path",{d:"m21 5-9-4-9 4v6c0 5.55 3.84 10.74 9 12 2.3-.56 4.33-1.9 5.88-3.71l-3.12-3.12c-1.94 1.29-4.58 1.07-6.29-.64-1.95-1.95-1.95-5.12 0-7.07 1.95-1.95 5.12-1.95 7.07 0 1.71 1.71 1.92 4.35.64 6.29l2.9 2.9C20.29 15.69 21 13.38 21 11z"},"0"),(0,Ve.jsx)("circle",{cx:"12",cy:"12",r:"3"},"1")],"Policy"),GB=(0,AT.A)((0,Ve.jsx)("path",{d:"M21.95 10.99c-1.79-.03-3.7-1.95-2.68-4.22-2.98 1-5.77-1.59-5.19-4.56C6.95.71 2 6.58 2 12c0 5.52 4.48 10 10 10 5.89 0 10.54-5.08 9.95-11.01M8.5 15c-.83 0-1.5-.67-1.5-1.5S7.67 12 8.5 12s1.5.67 1.5 1.5S9.33 15 8.5 15m2-5C9.67 10 9 9.33 9 8.5S9.67 7 10.5 7s1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 6c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"Cookie"),KB=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen"),YB=(0,AT.A)((0,Ve.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),QB=(0,AT.A)((0,Ve.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),XB=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"}),"DarkMode"),JB=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)("");Z();(0,r.useEffect)((()=>{const e=async()=>{try{await navigator.mediaDevices.getUserMedia({audio:!0,video:!1})}catch(gJ){console.warn("Error requesting media permissions for device enumeration:",gJ)}try{const e=await navigator.mediaDevices.enumerateDevices();t(e.filter((e=>e.deviceId)));const r=e.find((e=>"audioinput"===e.kind));r&&!n&&o(r.deviceId)}catch(vb){console.error("Error enumerating devices:",vb)}};return navigator.mediaDevices.addEventListener("devicechange",e),e(),()=>{navigator.mediaDevices.removeEventListener("devicechange",e)}}),[]);return(0,Ve.jsxs)(Je,{sx:{my:2},children:[(0,Ve.jsx)(KT,{variant:"subtitle1",gutterBottom:!0,children:"Audio Input Device"}),(0,Ve.jsx)(GD,{select:!0,SelectProps:{native:!0},value:n,onChange:e=>(e=>{o(e),console.log("Selected Audio Input:",e)})(e.target.value),label:"Microphone",fullWidth:!0,variant:"outlined",size:"small",disabled:0===e.filter((e=>"audioinput"===e.kind)).length,children:e.filter((e=>"audioinput"===e.kind)).length>0?e.filter((e=>"audioinput"===e.kind)).map((e=>(0,Ve.jsx)("option",{value:e.deviceId,children:e.label||`Microphone ${e.deviceId.substring(0,8)}...`},e.deviceId))):(0,Ve.jsx)("option",{value:"",children:"No microphones found"})})]})},ZB=()=>{const e=LI(),{isDarkMode:t,toggleDarkMode:n}=(rM(e.breakpoints.down("sm")),(()=>{const e=(0,r.useContext)(Jk);if(void 0===e)throw new Error("useThemeContext must be used within a ThemeContextProvider");return e})()),{currentUser:o,userProfile:i}=jk(),{canViewProfile:s,canViewContent:a}=Nk(),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1),[f,m]=(0,r.useState)([]),[g,v]=(0,r.useState)({followers:0,following:0,pendingRequests:0,audioRooms:0}),[y,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(!1),[A,_]=(0,r.useState)(""),[S,C]=(0,r.useState)(""),[k,T]=(0,r.useState)(""),[E,I]=(0,r.useState)(!1),[R,P]=(0,r.useState)(""),j=Z(),D=async(e,t,n)=>{if(!o)return;const r=o.uid,i=ng(D_,`users/${r}/followRequests`,e),s=ng(D_,`users/${r}/followers`,t),a=ng(D_,`users/${t}/following`,r);try{await xv(i),n?(await bv(s,{userId:t,timestamp:Pv()}),await bv(a,{userId:r,timestamp:Pv()}),aS.success("Follow request accepted")):aS.success("Follow request declined")}catch(u){console.error("Error handling follow request:",u),aS.error("Failed to process follow request")}},N=async()=>{if(o&&A)try{const e=ng(D_,"users",o.uid),t=await gv(e);if(t.exists()){const e=t.data();if(e.verificationCode===A){const t=e.registrationSourceCode||`REG-${o.uid}`;P(t),I(!0),b(!1),_(""),aS.success("Code verified successfully")}else aS.error("Invalid verification code")}else aS.error("User data not found.")}catch(u){console.error("Error verifying code:",u),aS.error("Failed to verify code")}},M=[{title:"Audio Settings",icon:(0,Ve.jsx)(FB,{}),description:"Manage your audio devices and microphone settings",onClick:()=>c(!0),isSetting:!0},{title:"Security & Authentication",icon:(0,Ve.jsx)(UB,{}),path:"/security",description:"Learn about our authentication flow and security features",isSetting:!0},{title:"Account Management",icon:(0,Ve.jsx)($B,{}),path:"/account-management",description:"Manage your account settings and preferences",isSetting:!0},{title:"View Registration Code",icon:(0,Ve.jsx)(zB,{}),description:"View your unique registration code for new devices",onClick:async()=>{if(o)try{const e=ng(D_,"users",o.uid),t=await gv(e);if(t.exists()){const e=t.data();e.sourceCodeHash||e.verificationCode?b(!0):x(!0)}else aS.error("User data not found.")}catch(u){console.error("Error checking verification code:",u),aS.error("Failed to check verification status")}},isSetting:!0},{title:"Report an Issue",icon:(0,Ve.jsx)(BB,{}),path:"/report",description:"Report a bug, user, or other problem",isHelp:!0},{title:"Get Help via Sade AI",icon:(0,Ve.jsx)(VB,{}),description:"Chat with Sade AI for general help or assistance",onClick:()=>{j("/sade-ai?intent=help")},isHelp:!0},{title:"Safety & Community Guidelines",icon:(0,Ve.jsx)(WB,{}),path:"/safety",description:"Review our audio chat guidelines and community standards",isHelp:!0},{title:"About SideEye",icon:(0,Ve.jsx)(HB,{}),path:"/about",description:"Learn more about SideEye and our mission",isHelp:!0},{title:"Privacy Policy",icon:(0,Ve.jsx)(qB,{}),path:"/privacy-policy",description:"Read our privacy policy and data handling practices",isHelp:!0},{title:"Terms of Service",icon:(0,Ve.jsx)(qB,{}),path:"/terms",description:"Review our terms of service",isHelp:!0},{title:"Cookie Policy",icon:(0,Ve.jsx)(GB,{}),path:"/cookies",description:"Learn about how we use cookies",isHelp:!0}];return(0,r.useEffect)((()=>{if(o){const e=_v(ng(D_,"users",o.uid),(e=>{if(e.exists()){const t=e.data();p(t.isPrivate||!1),v((e=>{var n,r,o;return{...e,followers:(null===(n=t.followers)||void 0===n?void 0:n.length)||0,following:(null===(r=t.following)||void 0===r?void 0:r.length)||0,audioRooms:(null===(o=t.audioRooms)||void 0===o?void 0:o.length)||0}}))}})),t=_v(qg(tg(D_,`users/${o.uid}/followRequests`),Xg("timestamp","desc")),(e=>{const t=e.docs.map((e=>{const t=e.data();return{id:e.id,userId:t.userId,username:t.username||`User_${t.userId.substring(0,5)}`,timestamp:t.timestamp}}));m(t),v((e=>({...e,pendingRequests:t.length})))}),(e=>{console.error("Error fetching follow requests:",e)}));return()=>{e(),t()}}}),[o]),(0,Ve.jsxs)(VP,{maxWidth:"md",sx:{py:4},children:[(0,Ve.jsxs)(Je,{sx:{mb:4},children:[(0,Ve.jsx)(KT,{variant:"h4",sx:{mb:2,fontWeight:"bold"},children:"Settings"}),u&&(0,Ve.jsx)(lN,{severity:"error",sx:{mb:2},children:u}),(0,Ve.jsx)(uT,{elevation:0,sx:{borderRadius:2,border:`1px solid ${e.palette.divider}`},children:(0,Ve.jsx)(pI,{disablePadding:!0,children:M.filter((e=>e.isSetting)).map(((e,t,n)=>(0,Ve.jsxs)(r.Fragment,{children:[(0,Ve.jsxs)(AB,{component:e.path?Ie:"div",to:e.path,onClick:e.onClick,sx:{py:1.5,px:2},children:[(0,Ve.jsx)(lP,{sx:{minWidth:40},children:e.icon}),(0,Ve.jsx)(hP,{primary:e.title,secondary:e.description,primaryTypographyProps:{fontWeight:500}})]}),t<n.length-1&&(0,Ve.jsx)(vP,{})]},e.title)))})})]}),(0,Ve.jsxs)(Je,{sx:{mb:4},children:[(0,Ve.jsx)(KT,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Privacy"}),(0,Ve.jsxs)(uT,{elevation:0,sx:{p:2,borderRadius:2,border:`1px solid ${e.palette.divider}`},children:[(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[h?(0,Ve.jsx)(aB,{color:"action"}):(0,Ve.jsx)(KB,{color:"action"}),(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"body1",sx:{fontWeight:500},children:"Private Account"}),(0,Ve.jsx)(KT,{variant:"caption",color:"text.secondary",children:h?"Only approved followers can join your audio rooms.":"Anyone can join your audio rooms."})]})]}),(0,Ve.jsx)(LB,{checked:h,onChange:async()=>{if(null===o||void 0===o||!o.uid)return;const e=!h;try{const t=ng(D_,"users",o.uid);if(await wv(t,{isPrivate:e,updatedAt:Pv()}),p(e),aS.success("Account set to "+(e?"Private":"Public")),!e&&f.length>0){aS.loading("Accepting pending requests...",{id:"accepting-requests"});const e=f.map((e=>D(e.id,e.userId,!0)));await Promise.all(e),aS.dismiss("accepting-requests"),aS.success("All pending requests accepted.")}}catch(u){console.error("Error updating privacy settings:",u),aS.error("Failed to update privacy settings"),p(!e)}},color:"primary"})]}),(0,Ve.jsx)(vP,{sx:{my:2}}),(0,Ve.jsxs)(Je,{sx:{display:"flex",flexWrap:"wrap",gap:3},children:[(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"caption",color:"text.secondary",display:"block",children:"Followers"}),(0,Ve.jsx)(KT,{variant:"body1",sx:{fontWeight:500},children:g.followers})]}),(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"caption",color:"text.secondary",display:"block",children:"Following"}),(0,Ve.jsx)(KT,{variant:"body1",sx:{fontWeight:500},children:g.following})]}),h&&(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"caption",color:"text.secondary",display:"block",children:"Pending Requests"}),(0,Ve.jsx)(KT,{variant:"body1",sx:{fontWeight:500},children:g.pendingRequests})]})]}),h&&f.length>0&&(0,Ve.jsxs)(Je,{sx:{mt:3},children:[(0,Ve.jsx)(KT,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:500},children:"Follow Requests"}),(0,Ve.jsx)(pI,{disablePadding:!0,children:f.map((e=>{var t;return(0,Ve.jsx)(FF,{disablePadding:!0,secondaryAction:(0,Ve.jsxs)(Je,{sx:{display:"flex",gap:.5},children:[(0,Ve.jsx)(OE,{size:"small",color:"success",onClick:()=>D(e.id,e.userId,!0),title:"Accept",children:(0,Ve.jsx)(YB,{fontSize:"small"})}),(0,Ve.jsx)(OE,{size:"small",color:"error",onClick:()=>D(e.id,e.userId,!1),title:"Decline",children:(0,Ve.jsx)(QB,{fontSize:"small"})})]}),sx:{mb:1},children:(0,Ve.jsxs)(AB,{sx:{borderRadius:1,py:.5},children:[(0,Ve.jsx)(lP,{sx:{minWidth:40},children:(0,Ve.jsx)(zT,{sx:{width:28,height:28,fontSize:"0.8rem"},children:e.username?e.username[0].toUpperCase():"?"})}),(0,Ve.jsx)(hP,{primary:`@${e.username}`,secondary:e.timestamp?`Requested on ${new Date(null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toLocaleDateString()}`:"Requested recently",primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"caption"}})]})},e.id)}))})]})]})]}),(0,Ve.jsxs)(Je,{sx:{mb:4},children:[(0,Ve.jsx)(KT,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Help & Support"}),(0,Ve.jsx)(uT,{elevation:0,sx:{borderRadius:2,border:`1px solid ${e.palette.divider}`},children:(0,Ve.jsx)(pI,{disablePadding:!0,children:M.filter((e=>e.isHelp)).map(((e,t,n)=>(0,Ve.jsxs)(r.Fragment,{children:[(0,Ve.jsxs)(AB,{component:e.path?Ie:"div",to:e.path,onClick:e.onClick,sx:{py:1.5,px:2},children:[(0,Ve.jsx)(lP,{sx:{minWidth:40},children:e.icon}),(0,Ve.jsx)(hP,{primary:e.title,secondary:e.description,primaryTypographyProps:{fontWeight:500}})]}),t<n.length-1&&(0,Ve.jsx)(vP,{})]},e.title)))})})]}),(0,Ve.jsxs)(_z,{open:l,onClose:()=>c(!1),maxWidth:"xs",fullWidth:!0,children:[(0,Ve.jsx)(sB,{children:"Audio Settings"}),(0,Ve.jsxs)(pz,{children:[(0,Ve.jsxs)(FF,{disablePadding:!0,children:[(0,Ve.jsx)(lP,{sx:{minWidth:40},children:(0,Ve.jsx)(XB,{})}),(0,Ve.jsx)(hP,{primary:"Dark Mode"}),(0,Ve.jsx)(LB,{checked:t,onChange:n,color:"primary",edge:"end"})]}),(0,Ve.jsx)(vP,{sx:{my:2}}),(0,Ve.jsx)(JB,{})]}),(0,Ve.jsx)(xF,{children:(0,Ve.jsx)(sI,{onClick:()=>c(!1),children:"Close"})})]}),(0,Ve.jsxs)(_z,{open:w,onClose:()=>x(!1),maxWidth:"xs",fullWidth:!0,children:[(0,Ve.jsx)(sB,{children:"Create Verification Code"}),(0,Ve.jsxs)(pz,{children:[(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Create a numeric code (4-8 digits) to verify your identity when viewing sensitive information like your registration code."}),(0,Ve.jsx)(GD,{label:"New Verification Code",value:S,onChange:e=>C(e.target.value.replace(/[^0-9]/g,"")),fullWidth:!0,margin:"normal",type:"password",inputProps:{maxLength:8,inputMode:"numeric",pattern:"[0-9]*",minLength:4},autoFocus:!0})]}),(0,Ve.jsxs)(xF,{children:[(0,Ve.jsx)(sI,{onClick:()=>x(!1),children:"Cancel"}),(0,Ve.jsx)(sI,{onClick:async()=>{if(!o||!S||S.length<4)aS.error("Verification code must be at least 4 digits.");else if(/^\d+$/.test(S))try{const e=ng(D_,"users",o.uid);await wv(e,{verificationCode:S,updatedAt:Pv()}),C(""),x(!1),aS.success("Verification code created successfully. You can now view your Registration Code.")}catch(u){console.error("Error creating verification code:",u),aS.error("Failed to create verification code")}else aS.error("Verification code must contain only digits.")},variant:"contained",disabled:S.length<4,children:"Create"})]})]}),(0,Ve.jsxs)(_z,{open:y,onClose:()=>b(!1),maxWidth:"xs",fullWidth:!0,children:[(0,Ve.jsx)(sB,{children:"Enter Verification Code"}),(0,Ve.jsxs)(pz,{children:[(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Enter the numeric verification code you created."}),(0,Ve.jsx)(GD,{label:"Verification Code",value:A,onChange:e=>_(e.target.value.replace(/[^0-9]/g,"")),fullWidth:!0,margin:"normal",type:"password",inputProps:{maxLength:8,inputMode:"numeric",pattern:"[0-9]*"},autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&N()}})]}),(0,Ve.jsxs)(xF,{children:[(0,Ve.jsx)(sI,{onClick:()=>b(!1),children:"Cancel"}),(0,Ve.jsx)(sI,{onClick:N,variant:"contained",disabled:!A,children:"Verify"})]})]}),(0,Ve.jsxs)(_z,{open:E,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(sB,{children:"Your Registration Code"}),(0,Ve.jsxs)(pz,{children:[(0,Ve.jsx)(lN,{severity:"warning",icon:(0,Ve.jsx)(HB,{}),sx:{mb:2},children:"Keep this code safe and private. You'll need it to log in on new devices. Do not share it."}),(0,Ve.jsx)(KT,{variant:"body2",gutterBottom:!0,children:"Registration Code:"}),(0,Ve.jsx)(uT,{elevation:0,sx:{p:2,bgcolor:"action.hover",borderRadius:1},children:(0,Ve.jsx)(KT,{sx:{fontFamily:"monospace",wordBreak:"break-all",fontSize:"1.1rem",textAlign:"center"},children:R||"No registration code found."})})]}),(0,Ve.jsxs)(xF,{children:[(0,Ve.jsx)(sI,{onClick:()=>I(!1),children:"Close"}),(0,Ve.jsx)(sI,{onClick:()=>{navigator.clipboard.writeText(R),aS.success("Registration code copied!")},disabled:!R,children:"Copy Code"})]})]})]})};let eV;function tV(){if(eV)return eV;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),eV="reverse",e.scrollLeft>0?eV="default":(e.scrollLeft=1,0===e.scrollLeft&&(eV="negative")),document.body.removeChild(e),eV}function nV(e,t){const n=e.scrollLeft;if("rtl"!==t)return n;switch(tV()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function rV(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const oV=["onChange"],iV={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const sV=(0,AT.A)((0,Ve.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),aV=(0,AT.A)((0,Ve.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function lV(e){return(0,iT.Ay)("MuiTabScrollButton",e)}const cV=(0,Ke.A)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),uV=["className","slots","slotProps","direction","orientation","disabled"],dV=(0,tT.Ay)(RE,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})((e=>{let{ownerState:t}=e;return(0,je.A)({width:40,flexShrink:0,opacity:.8,[`&.${cV.disabled}`]:{opacity:0}},"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})})),hV=r.forwardRef((function(e,t){var n,r;const o=(0,Ze.b)({props:e,name:"MuiTabScrollButton"}),{className:i,slots:s={},slotProps:a={},direction:l}=o,c=(0,De.A)(o,uV),u=Wk(),d=(0,je.A)({isRtl:u},o),h=(e=>{const{classes:t,orientation:n,disabled:r}=e,o={root:["root",n,r&&"disabled"]};return(0,eT.A)(o,lV,t)})(d),p=null!=(n=s.StartScrollButtonIcon)?n:sV,f=null!=(r=s.EndScrollButtonIcon)?r:aV,m=UE({elementType:p,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d}),g=UE({elementType:f,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d});return(0,Ve.jsx)(dV,(0,je.A)({component:"div",className:(0,Ne.A)(h.root,i),ref:t,role:null,ownerState:d,tabIndex:null},c,{children:"left"===l?(0,Ve.jsx)(p,(0,je.A)({},m)):(0,Ve.jsx)(f,(0,je.A)({},g))}))})),pV=hV;function fV(e){return(0,iT.Ay)("MuiTabs",e)}const mV=(0,Ke.A)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),gV=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],vV=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,yV=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,bV=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}const t=o.disabled||"true"===o.getAttribute("aria-disabled");if(o.hasAttribute("tabindex")&&!t)return void o.focus();o=n(e,o)}},wV=(0,tT.Ay)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${mV.scrollButtons}`]:t.scrollButtons},{[`& .${mV.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})((e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${mV.scrollButtons}`]:{[n.breakpoints.down("sm")]:{display:"none"}}})})),xV=(0,tT.Ay)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((e=>{let{ownerState:t}=e;return(0,je.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),AV=(0,tT.Ay)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),_V=(0,tT.Ay)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})((e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),SV=(0,tT.Ay)((function(e){const{onChange:t}=e,n=(0,De.A)(e,oV),o=r.useRef(),i=r.useRef(null),s=()=>{o.current=i.current.offsetHeight-i.current.clientHeight};return(0,gI.A)((()=>{const e=(0,SI.A)((()=>{const e=o.current;s(),e!==o.current&&t(o.current)})),n=(0,CI.A)(i.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}}),[t]),r.useEffect((()=>{s(),t(o.current)}),[t]),(0,Ve.jsx)("div",(0,je.A)({style:iV},n,{ref:i}))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),CV={};const kV=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiTabs"}),o=LI(),i=Wk(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:f="primary",onChange:m,orientation:g="horizontal",ScrollButtonComponent:v=pV,scrollButtons:y="auto",selectionFollowsFocus:b,slots:w={},slotProps:x={},TabIndicatorProps:A={},TabScrollButtonProps:_={},textColor:S="primary",value:C,variant:k="standard",visibleScrollbar:T=!1}=n,E=(0,De.A)(n,gV),I="scrollable"===k,R="vertical"===g,P=R?"scrollTop":"scrollLeft",j=R?"top":"left",D=R?"bottom":"right",N=R?"clientHeight":"clientWidth",M=R?"height":"width",O=(0,je.A)({},n,{component:h,allowScrollButtonsMobile:p,indicatorColor:f,orientation:g,vertical:R,scrollButtons:y,textColor:S,variant:k,visibleScrollbar:T,fixed:!I,hideScrollbar:I&&!T,scrollableX:I&&!R,scrollableY:I&&R,centered:c&&!I,scrollButtonsHideMobile:!p}),L=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:i,centered:s,scrollButtonsHideMobile:a,classes:l}=e,c={root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]};return(0,eT.A)(c,fV,l)})(O),F=UE({elementType:w.StartScrollButtonIcon,externalSlotProps:x.startScrollButtonIcon,ownerState:O}),U=UE({elementType:w.EndScrollButtonIcon,externalSlotProps:x.endScrollButtonIcon,ownerState:O});const[$,z]=r.useState(!1),[B,V]=r.useState(CV),[W,H]=r.useState(!1),[q,G]=r.useState(!1),[K,Y]=r.useState(!1),[Q,X]=r.useState({overflow:"hidden",scrollbarWidth:0}),J=new Map,Z=r.useRef(null),ee=r.useRef(null),te=()=>{const e=Z.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollLeftNormalized:nV(e,i?"rtl":"ltr"),scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==C){const e=ee.current.children;if(e.length>0){const t=e[J.get(C)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},ne=(0,QT.A)((()=>{const{tabsMeta:e,tabMeta:t}=te();let n,r=0;if(R)n="top",t&&e&&(r=t.top-e.top+e.scrollTop);else if(n=i?"right":"left",t&&e){const o=i?e.scrollLeftNormalized+e.clientWidth-e.scrollWidth:e.scrollLeft;r=(i?-1:1)*(t[n]-e[n]+o)}const o={[n]:r,[M]:t?t[M]:0};if(isNaN(B[n])||isNaN(B[M]))V(o);else{const e=Math.abs(B[n]-o[n]),t=Math.abs(B[M]-o[M]);(e>=1||t>=1)&&V(o)}})),re=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:i=rV,duration:s=300}=r;let a=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=r=>{if(c)return void o(new Error("Animation cancelled"));null===a&&(a=r);const u=Math.min(1,(r-a)/s);t[e]=i(u)*(n-l)+l,u>=1?requestAnimationFrame((()=>{o(null)})):requestAnimationFrame(d)};l===n?o(new Error("Element already at target position")):requestAnimationFrame(d)}(P,Z.current,e,{duration:o.transitions.duration.standard}):Z.current[P]=e},oe=e=>{let t=Z.current[P];R?t+=e:(t+=e*(i?-1:1),t*=i&&"reverse"===tV()?-1:1),re(t)},ie=()=>{const e=Z.current[N];let t=0;const n=Array.from(ee.current.children);for(let r=0;r<n.length;r+=1){const o=n[r];if(t+o[N]>e){0===r&&(t=e);break}t+=o[N]}return t},se=()=>{oe(-1*ie())},ae=()=>{oe(ie())},le=r.useCallback((e=>{X({overflow:null,scrollbarWidth:e})}),[]),ce=(0,QT.A)((e=>{const{tabsMeta:t,tabMeta:n}=te();if(n&&t)if(n[j]<t[j]){const r=t[P]+(n[j]-t[j]);re(r,{animation:e})}else if(n[D]>t[D]){const r=t[P]+(n[D]-t[D]);re(r,{animation:e})}})),ue=(0,QT.A)((()=>{I&&!1!==y&&Y(!K)}));r.useEffect((()=>{const e=(0,SI.A)((()=>{Z.current&&ne()}));let t;const n=n=>{n.forEach((e=>{e.removedNodes.forEach((e=>{var n;null==(n=t)||n.unobserve(e)})),e.addedNodes.forEach((e=>{var n;null==(n=t)||n.observe(e)}))})),e(),ue()},r=(0,CI.A)(Z.current);let o;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(ee.current.children).forEach((e=>{t.observe(e)}))),"undefined"!==typeof MutationObserver&&(o=new MutationObserver(n),o.observe(ee.current,{childList:!0})),()=>{var n,i;e.clear(),r.removeEventListener("resize",e),null==(n=o)||n.disconnect(),null==(i=t)||i.disconnect()}}),[ne,ue]),r.useEffect((()=>{const e=Array.from(ee.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&I&&!1!==y){const n=e[0],r=e[t-1],o={root:Z.current,threshold:.99},i=new IntersectionObserver((e=>{H(!e[0].isIntersecting)}),o);i.observe(n);const s=new IntersectionObserver((e=>{G(!e[0].isIntersecting)}),o);return s.observe(r),()=>{i.disconnect(),s.disconnect()}}}),[I,y,K,null==u?void 0:u.length]),r.useEffect((()=>{z(!0)}),[]),r.useEffect((()=>{ne()})),r.useEffect((()=>{ce(CV!==B)}),[ce,B]),r.useImperativeHandle(l,(()=>({updateIndicator:ne,updateScrollButtons:ue})),[ne,ue]);const de=(0,Ve.jsx)(_V,(0,je.A)({},A,{className:(0,Ne.A)(L.indicator,A.className),ownerState:O,style:(0,je.A)({},B,A.style)}));let he=0;const pe=r.Children.map(u,(e=>{if(!r.isValidElement(e))return null;const t=void 0===e.props.value?he:e.props.value;J.set(t,he);const n=t===C;return he+=1,r.cloneElement(e,(0,je.A)({fullWidth:"fullWidth"===k,indicator:n&&!$&&de,selected:n,selectionFollowsFocus:b,onChange:m,textColor:S,value:t},1!==he||!1!==C||e.props.tabIndex?{}:{tabIndex:0}))})),fe=(()=>{const e={};e.scrollbarSizeListener=I?(0,Ve.jsx)(SV,{onChange:le,className:(0,Ne.A)(L.scrollableX,L.hideScrollbar)}):null;const t=I&&("auto"===y&&(W||q)||!0===y);return e.scrollButtonStart=t?(0,Ve.jsx)(v,(0,je.A)({slots:{StartScrollButtonIcon:w.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:F},orientation:g,direction:i?"right":"left",onClick:se,disabled:!W},_,{className:(0,Ne.A)(L.scrollButtons,_.className)})):null,e.scrollButtonEnd=t?(0,Ve.jsx)(v,(0,je.A)({slots:{EndScrollButtonIcon:w.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:U},orientation:g,direction:i?"left":"right",onClick:ae,disabled:!q},_,{className:(0,Ne.A)(L.scrollButtons,_.className)})):null,e})();return(0,Ve.jsxs)(wV,(0,je.A)({className:(0,Ne.A)(L.root,d),ownerState:O,ref:t,as:h},E,{children:[fe.scrollButtonStart,fe.scrollbarSizeListener,(0,Ve.jsxs)(xV,{className:L.scroller,ownerState:O,style:{overflow:Q.overflow,[R?"margin"+(i?"Left":"Right"):"marginBottom"]:T?void 0:-Q.scrollbarWidth},ref:Z,children:[(0,Ve.jsx)(AV,{"aria-label":s,"aria-labelledby":a,"aria-orientation":"vertical"===g?"vertical":null,className:L.flexContainer,ownerState:O,onKeyDown:e=>{const t=ee.current,n=(0,aI.A)(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===g?"ArrowLeft":"ArrowUp",o="horizontal"===g?"ArrowRight":"ArrowDown";switch("horizontal"===g&&i&&(r="ArrowRight",o="ArrowLeft"),e.key){case r:e.preventDefault(),bV(t,n,yV);break;case o:e.preventDefault(),bV(t,n,vV);break;case"Home":e.preventDefault(),bV(t,null,vV);break;case"End":e.preventDefault(),bV(t,null,yV)}},ref:ee,role:"tablist",children:pe}),$&&de]}),fe.scrollButtonEnd]}))})),TV=kV;function EV(e){return(0,iT.Ay)("MuiTab",e)}const IV=(0,Ke.A)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),RV=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],PV=(0,tT.Ay)(RE,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${(0,nT.A)(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${IV.iconWrapper}`]:t.iconWrapper}]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},n.label&&{flexDirection:"top"===n.iconPosition||"bottom"===n.iconPosition?"column":"row"},{lineHeight:1.25},n.icon&&n.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${IV.iconWrapper}`]:(0,je.A)({},"top"===n.iconPosition&&{marginBottom:6},"bottom"===n.iconPosition&&{marginTop:6},"start"===n.iconPosition&&{marginRight:t.spacing(1)},"end"===n.iconPosition&&{marginLeft:t.spacing(1)})},"inherit"===n.textColor&&{color:"inherit",opacity:.6,[`&.${IV.selected}`]:{opacity:1},[`&.${IV.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"primary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${IV.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${IV.disabled}`]:{color:(t.vars||t).palette.text.disabled}},"secondary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${IV.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${IV.disabled}`]:{color:(t.vars||t).palette.text.disabled}},n.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},n.wrapped&&{fontSize:t.typography.pxToRem(12)})})),jV=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiTab"}),{className:o,disabled:i=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:h,onClick:p,onFocus:f,selected:m,selectionFollowsFocus:g,textColor:v="inherit",value:y,wrapped:b=!1}=n,w=(0,De.A)(n,RV),x=(0,je.A)({},n,{disabled:i,disableFocusRipple:s,selected:m,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:v,wrapped:b}),A=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:i,label:s,selected:a,disabled:l}=e,c={root:["root",i&&s&&"labelIcon",`textColor${(0,nT.A)(n)}`,r&&"fullWidth",o&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return(0,eT.A)(c,EV,t)})(x),_=l&&d&&r.isValidElement(l)?r.cloneElement(l,{className:(0,Ne.A)(A.iconWrapper,l.props.className)}):l;return(0,Ve.jsxs)(PV,(0,je.A)({focusRipple:!s,className:(0,Ne.A)(A.root,o),ref:t,role:"tab","aria-selected":m,disabled:i,onClick:e=>{!m&&h&&h(e,y),p&&p(e)},onFocus:e=>{g&&!m&&h&&h(e,y),f&&f(e)},ownerState:x,tabIndex:m?0:-1},w,{children:["top"===c||"start"===c?(0,Ve.jsxs)(r.Fragment,{children:[_,d]}):(0,Ve.jsxs)(r.Fragment,{children:[d,_]}),u]}))})),DV=jV;function NV(e){return(0,iT.Ay)("MuiListItemAvatar",e)}(0,Ke.A)("MuiListItemAvatar",["root","alignItemsFlexStart"]);const MV=["className"],OV=(0,tT.Ay)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((e=>{let{ownerState:t}=e;return(0,je.A)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),LV=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiListItemAvatar"}),{className:o}=n,i=(0,De.A)(n,MV),s=r.useContext(lI),a=(0,je.A)({},n,{alignItems:s.alignItems}),l=(e=>{const{alignItems:t,classes:n}=e,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,eT.A)(r,NV,n)})(a);return(0,Ve.jsx)(OV,(0,je.A)({className:(0,Ne.A)(l.root,o),ownerState:a,ref:t},i))})),FV=LV,UV=()=>{const e=Z(),{searchQuery:t}=ee(),{db:n,loading:o,error:i}=mB(),[s,a]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(null),[h,p]=(0,r.useState)(0);rM(LI().breakpoints.down("sm"));(0,r.useEffect)((()=>{(async()=>{if(t&&n)try{c(!0);const e=[],r=qg(tg(n,"users"),Kg("username",">=",t.toLowerCase()),Kg("username","<=",t.toLowerCase()+"\uf8ff"),Zg(20));(await yv(r)).forEach((t=>{const n=t.data();e.push({id:t.id,type:"user",data:n})}));const o=qg(tg(n,"posts"),Kg("content",">=",t.toLowerCase()),Kg("content","<=",t.toLowerCase()+"\uf8ff"),Xg("content"),Zg(20)),i=await yv(o);for(const t of i.docs){const r=t.data(),o=(await gv(ng(n,"users",r.authorId))).data();e.push({id:t.id,type:"post",data:{...r,author:o}})}const s=qg(tg(n,"forums"),Kg("title",">=",t.toLowerCase()),Kg("title","<=",t.toLowerCase()+"\uf8ff"),Zg(20));(await yv(s)).forEach((t=>{const n=t.data();e.push({id:t.id,type:"forum",data:n})}));const l=qg(tg(n,"sideRooms"),Kg("name",">=",t.toLowerCase()),Kg("name","<=",t.toLowerCase()+"\uf8ff"),Zg(20));(await yv(l)).forEach((t=>{const n=t.data();e.push({id:t.id,type:"sideRoom",data:n})})),a(e)}catch(gJ){console.error("Error searching:",gJ),d("Failed to search. Please try again later.")}finally{c(!1)}})()}),[t,n]);const f=s.filter((e=>{switch(h){case 0:return"user"===e.type;case 1:return"post"===e.type;case 2:return"forum"===e.type;case 3:return"sideRoom"===e.type;default:return!0}}));return o?(0,Ve.jsx)("div",{children:"Loading..."}):i?(0,Ve.jsxs)("div",{children:["Error: ",i.message]}):n?(0,Ve.jsxs)(VP,{maxWidth:"md",sx:{mt:4},children:[(0,Ve.jsxs)(KT,{variant:"h4",gutterBottom:!0,children:['Search Results for "',t,'"']}),u&&(0,Ve.jsx)(lN,{severity:"error",sx:{mb:2},children:u}),(0,Ve.jsx)(Je,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:(0,Ve.jsxs)(TV,{value:h,onChange:(e,t)=>p(t),children:[(0,Ve.jsx)(DV,{label:"Users"}),(0,Ve.jsx)(DV,{label:"Posts"}),(0,Ve.jsx)(DV,{label:"Forums"}),(0,Ve.jsx)(DV,{label:"Side Rooms"})]})}),l?(0,Ve.jsx)(Je,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Ve.jsx)(HN,{})}):0===f.length?(0,Ve.jsx)(KT,{variant:"body1",color:"text.secondary",children:"No results found"}):(0,Ve.jsx)(pI,{children:f.map((t=>(0,Ve.jsxs)(AB,{onClick:()=>(t=>{switch(t.type){case"user":e(`/profile/${t.id}`);break;case"post":e(`/post/${t.id}`);break;case"forum":e(`/forum/${t.id}`);break;case"sideRoom":e(`/side-room/${t.id}`)}})(t),sx:{mb:1,borderRadius:1},children:[(0,Ve.jsx)(FV,{children:"user"===t.type?(0,Ve.jsx)(zT,{src:t.data.avatar}):(0,Ve.jsx)(zT,{children:"post"===t.type?"P":"forum"===t.type?"F":"S"})}),(0,Ve.jsx)(hP,{primary:t.data.title||t.data.username||t.data.name,secondary:"post"===t.type?t.data.content.substring(0,100)+"...":t.data.description})]},t.id)))})]}):(0,Ve.jsx)("div",{children:"Error: Database connection failed"})},$V=(0,AT.A)((0,Ve.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),zV=(0,AT.A)((0,Ve.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People");var BV={};function VV(){return BV}function WV(e){return WV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WV(e)}function HV(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function qV(e){HV(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===WV(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function GV(e,t){HV(2,arguments);var n=qV(e),r=qV(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function KV(e){HV(1,arguments);var t=qV(e);return t.setHours(23,59,59,999),t}function YV(e){HV(1,arguments);var t=qV(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function QV(e,t){HV(2,arguments);var n,r=qV(e),o=qV(t),i=GV(r,o),s=Math.abs(function(e,t){HV(2,arguments);var n=qV(e),r=qV(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,o));if(s<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);var a=GV(r,o)===-i;(function(e){HV(1,arguments);var t=qV(e);return KV(t).getTime()===YV(t).getTime()})(qV(e))&&1===s&&1===GV(e,o)&&(a=!1),n=i*(s-Number(a))}return 0===n?0:n}function XV(e,t){return HV(2,arguments),qV(e).getTime()-qV(t).getTime()}var JV={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function ZV(e){return e?JV[e]:JV.trunc}function eW(e,t,n){HV(2,arguments);var r=XV(e,t)/1e3;return ZV(null===n||void 0===n?void 0:n.roundingMethod)(r)}var tW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const nW=function(e,t,n){var r,o=tW[e];return r="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function rW(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const oW={date:rW({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:rW({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:rW({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var iW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const sW=function(e,t,n,r){return iW[e]};function aW(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):o;r=e.formattingValues[i]||e.formattingValues[o]}else{var s=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const lW={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:aW({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:aW({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:aW({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:aW({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:aW({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function cW(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s,a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(a)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}var uW,dW={ordinalNumber:(uW={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(uW.matchPattern);if(!n)return null;var r=n[0],o=e.match(uW.parsePattern);if(!o)return null;var i=uW.valueCallback?uW.valueCallback(o[0]):o[0];return{value:i=t.valueCallback?t.valueCallback(i):i,rest:e.slice(r.length)}}),era:cW({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:cW({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:cW({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:cW({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:cW({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const hW={code:"en-US",formatDistance:nW,formatLong:oW,formatRelative:sW,localize:lW,match:dW,options:{weekStartsOn:0,firstWeekContainsDate:1}},pW=hW;function fW(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function mW(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var gW=43200;function vW(e,t,n){var r,o;HV(2,arguments);var i=VV(),s=null!==(r=null!==(o=null===n||void 0===n?void 0:n.locale)&&void 0!==o?o:i.locale)&&void 0!==r?r:pW;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=GV(e,t);if(isNaN(a))throw new RangeError("Invalid time value");var l,c,u=fW(fW({},n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:a});a>0?(l=qV(t),c=qV(e)):(l=qV(e),c=qV(t));var d,h=eW(c,l),p=(mW(c)-mW(l))/1e3,f=Math.round((h-p)/60);if(f<2)return null!==n&&void 0!==n&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,u):h<10?s.formatDistance("lessThanXSeconds",10,u):h<20?s.formatDistance("lessThanXSeconds",20,u):h<40?s.formatDistance("halfAMinute",0,u):h<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):0===f?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",f,u);if(f<45)return s.formatDistance("xMinutes",f,u);if(f<90)return s.formatDistance("aboutXHours",1,u);if(f<1440){var m=Math.round(f/60);return s.formatDistance("aboutXHours",m,u)}if(f<2520)return s.formatDistance("xDays",1,u);if(f<gW){var g=Math.round(f/1440);return s.formatDistance("xDays",g,u)}if(f<86400)return d=Math.round(f/gW),s.formatDistance("aboutXMonths",d,u);if((d=QV(c,l))<12){var v=Math.round(f/gW);return s.formatDistance("xMonths",v,u)}var y=d%12,b=Math.floor(d/12);return y<3?s.formatDistance("aboutXYears",b,u):y<9?s.formatDistance("overXYears",b,u):s.formatDistance("almostXYears",b+1,u)}function yW(e,t){return HV(1,arguments),vW(e,Date.now(),t)}const bW=e=>{try{return yW(e)}catch(vb){return e instanceof Date?e.toLocaleString():new Date(e).toLocaleString()}},wW=e=>{if(!e)return"";try{return e.toDate?bW(e.toDate()):e instanceof Date?bW(e):bW(new Date(e))}catch(vb){return console.error("Error formatting timestamp:",vb),""}};function xW(e){return e.substring(2).toLowerCase()}function AW(e){const{children:t,disableReactTree:n=!1,mouseEvent:o="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=e,a=r.useRef(!1),l=r.useRef(null),c=r.useRef(!1),u=r.useRef(!1);r.useEffect((()=>(setTimeout((()=>{c.current=!0}),0),()=>{c.current=!1})),[]);const d=(0,CT.A)(kI(t),l),h=(0,cR.A)((e=>{const t=u.current;u.current=!1;const r=(0,qI.A)(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(a.current)return void(a.current=!1);let o;o=e.composedPath?e.composedPath().indexOf(l.current)>-1:!r.documentElement.contains(e.target)||l.current.contains(e.target),o||!n&&t||i(e)})),p=e=>n=>{u.current=!0;const r=t.props[e];r&&r(n)},f={ref:d};return!1!==s&&(f[s]=p(s)),r.useEffect((()=>{if(!1!==s){const e=xW(s),t=(0,qI.A)(l.current),n=()=>{a.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}}),[h,s]),!1!==o&&(f[o]=p(o)),r.useEffect((()=>{if(!1!==o){const e=xW(o),t=(0,qI.A)(l.current);return t.addEventListener(e,h),()=>{t.removeEventListener(e,h)}}}),[h,o]),(0,Ve.jsx)(r.Fragment,{children:r.cloneElement(t,f)})}const _W=()=>{var e;const[t,n]=(0,r.useState)(0),[o,i]=(0,r.useState)(""),[s,a]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!0),[h,p]=(0,r.useState)(new Set),f=Z(),{currentUser:m}=jk(),[g,v]=(0,r.useState)(null),y=LI(),b=rM(y.breakpoints.down("sm")),[w,x]=(0,r.useState)(!1),[A,_]=(0,r.useState)(!1),[S,C]=(0,r.useState)([]),[k,T]=(0,r.useState)(!1),E=r.useRef(null),[I,R]=(0,r.useState)([]),[P,j]=(0,r.useState)("All"),D=async()=>{try{d(!0),I.forEach((e=>e())),R([]);const e=tg(D_,"sideRooms"),t=qg(e,Kg("deleted","==",!1),Xg("lastActive","desc"),Zg(20)),n=await yv(t),r=await Promise.all(n.docs.map((async e=>{var t,n,r,o,i;const s=e.data();let a=null;if(s.ownerId){const e=ng(D_,"users",s.ownerId),t=await gv(e);t.exists()&&(a=t.data())}return{id:e.id,name:s.name||"",description:s.description||"",memberCount:s.memberCount||0,shareCount:s.shareCount||0,isPrivate:s.isPrivate||!1,createdAt:(null===(t=s.createdAt)||void 0===t?void 0:t.toDate())||new Date,creatorName:(null===(n=a)||void 0===n?void 0:n.username)||s.creatorName||"",creatorId:s.ownerId||"",creatorAvatar:(null===(r=a)||void 0===r?void 0:r.profilePic)||(null===(o=a)||void 0===o?void 0:o.avatar)||"",tags:s.tags||[],lastActive:(null===(i=s.lastActive)||void 0===i?void 0:i.toDate())||new Date,maxMembers:s.maxMembers||50,activeUsers:s.activeUsers||0,isLive:s.isLive||!1,thumbnailUrl:s.thumbnailUrl||null}})));a(r),r.forEach((e=>{F(e.id)}));const o=_v(qg(e,Kg("deleted","==",!1),Xg("lastActive","desc"),Zg(20)),(e=>{e.docChanges().forEach((async e=>{if("added"===e.type){var t,n,r,o,i;const s=e.doc.data();let l=null;if(s.ownerId){const e=ng(D_,"users",s.ownerId),t=await gv(e);t.exists()&&(l=t.data())}const c={id:e.doc.id,name:s.name||"",description:s.description||"",memberCount:s.memberCount||0,shareCount:s.shareCount||0,isPrivate:s.isPrivate||!1,createdAt:(null===(t=s.createdAt)||void 0===t?void 0:t.toDate())||new Date,creatorName:(null===(n=l)||void 0===n?void 0:n.username)||s.creatorName||"",creatorId:s.ownerId||"",creatorAvatar:(null===(r=l)||void 0===r?void 0:r.profilePic)||(null===(o=l)||void 0===o?void 0:o.avatar)||"",tags:s.tags||[],lastActive:(null===(i=s.lastActive)||void 0===i?void 0:i.toDate())||new Date,maxMembers:s.maxMembers||50,activeUsers:s.activeUsers||0,isLive:s.isLive||!1,thumbnailUrl:s.thumbnailUrl||null};a((e=>e.find((e=>e.id===c.id))?e:(F(c.id),[c,...e])))}"removed"===e.type&&a((t=>t.filter((t=>t.id!==e.doc.id))))}))}));R((e=>[...e,o]))}catch(g){console.error("Error fetching rooms:",g),aS.error("Failed to load rooms")}finally{d(!1)}};(0,r.useEffect)((()=>{(async()=>{try{const e=qg(tg(D_,"users"),Xg("createdAt","desc"),Zg(20)),t=(await yv(e)).docs.map((e=>({id:e.id,username:e.data().username||"",name:e.data().name||"",profilePic:e.data().profilePic,bio:e.data().bio,coverPhoto:e.data().coverPhoto,isPublic:e.data().isPublic,isAuthenticated:e.data().isAuthenticated,createdAt:e.data().createdAt,isActive:e.data().isActive})));c(t)}catch(g){console.error("Error fetching users:",g)}finally{d(!1)}})(),D(),m&&N()}),[m]);const N=async()=>{if(m)try{const e=qg(tg(D_,`users/${m.uid}/following`)),t=await yv(e),n=new Set(t.docs.map((e=>e.id)));p(n)}catch(g){console.error("Error fetching following:",g)}},M=async e=>{if(m&&e!==m.uid)try{const r=ng(D_,`users/${m.uid}/following`,e),o=ng(D_,`users/${e}/followers`,m.uid);if(h.has(e))await xv(r),await xv(o),p((t=>{const n=new Set(t);return n.delete(e),n})),aS.success("Unfollowed user");else{var t,n;await bv(r,{timestamp:Pv()}),await bv(o,{timestamp:Pv()}),p((t=>new Set(t).add(e)));const i={type:"follow",senderId:m.uid,senderName:m.displayName||(null===(t=m.email)||void 0===t?void 0:t.split("@")[0])||"Someone",senderAvatar:m.photoURL||"",recipientId:e,content:`${m.displayName||(null===(n=m.email)||void 0===n?void 0:n.split("@")[0])||"Someone"} started following you`,createdAt:Pv(),isRead:!1};await Av(tg(D_,"notifications"),i),aS.success("Followed user")}}catch(g){console.error("Error toggling follow:",g),aS.error("Failed to update follow status")}},O=e=>{f(`/side-room/${e}`)},L=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i(e),e.length<2&&!t)return _(!1),void D();if(t){_(!0),d(!0);try{const t=e.toLowerCase(),n=tg(D_,"users"),r=qg(n,Xg("username"),tv(t),rv(t+"\uf8ff"),Zg(20)),o=qg(tg(D_,"sideRooms"),Kg("deleted","==",!1),Kg("name_lower",">=",t),Kg("name_lower","<=",t+"\uf8ff"),Zg(20)),[i,s]=await Promise.all([yv(r),yv(o)]);let l=i.docs.map((e=>{var t;return{id:e.id,username:e.data().username||"",name:e.data().name||"",bio:e.data().bio||"",profilePic:e.data().profilePic||"",isPublic:null===(t=e.data().isPublic)||void 0===t||t,isAuthenticated:e.data().isAuthenticated,createdAt:e.data().createdAt,isActive:e.data().isActive}}));if(0===l.length&&t){const e=qg(n,Xg("name_lower"),tv(t),rv(t+"\uf8ff"),Zg(20));l=(await yv(e)).docs.map((e=>{var t;return{id:e.id,username:e.data().username||"",name:e.data().name||"",bio:e.data().bio||"",profilePic:e.data().profilePic||"",isPublic:null===(t=e.data().isPublic)||void 0===t||t,isAuthenticated:e.data().isAuthenticated,createdAt:e.data().createdAt,isActive:e.data().isActive}}))}const u=await Promise.all(s.docs.map((async e=>{var t,n,r,o,i;const s=e.data(),a={id:e.id,name:s.name||"",description:s.description||"",ownerId:s.ownerId||"",createdAt:s.createdAt,lastActive:s.lastActive,tags:s.tags||[],isPrivate:s.isPrivate||!1,activeUsers:s.activeUsers||0,isLive:s.isLive||!1,thumbnailUrl:s.thumbnailUrl||void 0};let l=null;if(a.ownerId){const e=ng(D_,"users",a.ownerId),t=await gv(e);t.exists()&&(l=t.data())}return{id:e.id,name:a.name,description:a.description,memberCount:s.memberCount||0,shareCount:s.shareCount||0,isPrivate:a.isPrivate,createdAt:(null===(t=a.createdAt)||void 0===t?void 0:t.toDate())||new Date,creatorName:(null===(n=l)||void 0===n?void 0:n.username)||s.creatorName||"",creatorId:a.ownerId,creatorAvatar:(null===(r=l)||void 0===r?void 0:r.profilePic)||(null===(o=l)||void 0===o?void 0:o.avatar)||"",tags:a.tags||[],lastActive:(null===(i=a.lastActive)||void 0===i?void 0:i.toDate())||new Date,maxMembers:s.maxMembers||50,activeUsers:a.activeUsers,isLive:a.isLive,thumbnailUrl:a.thumbnailUrl||void 0}})));c(l),a(u)}catch(g){console.error("Search error:",g),aS.error(`Search failed: ${g.code||g.message}`)}finally{d(!1)}}};(0,r.useEffect)((()=>()=>{I.forEach((e=>e()))}),[I]);const F=e=>{const t=ng(D_,"sideRooms",e),n=(_v(qg(tg(D_,"sideRooms",e,"presence"),Kg("isOnline","==",!0)),(n=>{const r=n.docs.map((e=>({id:e.id,...e.data()}))),o=r.find((e=>"owner"===e.role)),i=Boolean(o&&!o.isMuted);wv(t,{activeUsers:r.length,isLive:i,lastActive:Pv()}).catch((t=>{console.error(`Error updating room ${e} status:`,t)}))})),_v(t,(t=>{if(t.exists()){t.data();a((n=>{const r=[...n],o=r.findIndex((t=>t.id===e));if(-1!==o&&t.exists()){var i;const e=t.data();r[o]={...r[o],isLive:Boolean(e.isLive),activeUsers:e.activeUsers||0,lastActive:(null===(i=e.lastActive)||void 0===i?void 0:i.toDate())||new Date,thumbnailUrl:e.thumbnailUrl||r[o].thumbnailUrl}}return r}))}})));R((e=>[...e,n]))};return u&&!A?(0,Ve.jsx)(Je,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:(0,Ve.jsx)(HN,{})}):(0,Ve.jsxs)(Je,{sx:{height:"100vh",overflowY:"auto",position:"relative",backgroundColor:y.palette.background.default},children:[(0,Ve.jsx)(Je,{sx:{position:"sticky",top:0,backgroundColor:y.palette.background.default,zIndex:1e3,pt:2,pb:2,borderBottom:1,borderColor:"divider"},children:(0,Ve.jsxs)(VP,{maxWidth:!1,sx:{maxWidth:"1440px"},children:[(0,Ve.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,Ve.jsx)(Je,{sx:{display:"flex",alignItems:"center",gap:2},children:(0,Ve.jsx)(KT,{variant:b?"h5":"h4",component:"h1",sx:{fontWeight:600},children:A?"Search Results":"Discover"})}),(0,Ve.jsx)(AW,{onClickAway:()=>{T(!1)},children:(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1,position:"relative"},children:[w&&(0,Ve.jsxs)(Je,{ref:E,children:[(0,Ve.jsx)(GD,{size:"small",placeholder:"Search rooms and users...",value:o,onChange:e=>{(async e=>{if(i(e),e.length<1)return C([]),void T(!1);try{const t=e.toLowerCase(),n=tg(D_,"users"),r=e=>{var t,n,r,o,i,s,a,l,c;return{id:e.id,username:(null===(t=e.data())||void 0===t?void 0:t.username)||"",name:(null===(n=e.data())||void 0===n?void 0:n.name)||"",bio:null===(r=e.data())||void 0===r?void 0:r.bio,profilePic:null===(o=e.data())||void 0===o?void 0:o.profilePic,isPublic:null===(i=null===(s=e.data())||void 0===s?void 0:s.isPublic)||void 0===i||i,isAuthenticated:null===(a=e.data())||void 0===a?void 0:a.isAuthenticated,createdAt:null===(l=e.data())||void 0===l?void 0:l.createdAt,isActive:null===(c=e.data())||void 0===c?void 0:c.isActive}},o=qg(n,Xg("username_lower"),tv(t),rv(t+"\uf8ff"),Zg(5));let i=(await yv(o)).docs.map(r);if(i.length<5){const e=qg(n,Xg("name_lower"),tv(t),rv(t+"\uf8ff"),Zg(5-i.length)),o=(await yv(e)).docs.map(r),s=[...i,...o];i=Array.from(new Map(s.map((e=>[e.id,e]))).values())}C(i.slice(0,5)),T(!0)}catch(g){console.error("Instant search error:",g),aS.error("Failed to search users")}})(e.target.value),L(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(L(o,!0),T(!1))},InputProps:{startAdornment:(0,Ve.jsx)(ZN,{position:"start",children:(0,Ve.jsx)($V,{})})},sx:{backgroundColor:"background.paper",borderRadius:1,width:b?"200px":"250px","& .MuiOutlinedInput-root":{borderRadius:1}}}),(0,Ve.jsx)(WL,{open:k&&S.length>0,anchorEl:E.current,placement:"bottom-start",style:{width:null===(e=E.current)||void 0===e?void 0:e.offsetWidth,zIndex:1400},children:(0,Ve.jsx)(uT,{elevation:3,sx:{mt:1,maxHeight:"300px",overflowY:"auto",borderRadius:1},children:(0,Ve.jsx)(pI,{sx:{p:0},children:S.map(((e,t)=>{var n,o;return(0,Ve.jsxs)(r.Fragment,{children:[(0,Ve.jsxs)(FF,{button:!0,onClick:()=>{f(`/profile/${e.id}`),T(!1)},sx:{py:1,px:2,"&:hover":{backgroundColor:"action.hover"}},children:[(0,Ve.jsx)(FV,{children:(0,Ve.jsx)(zT,{src:!1===e.isActive?void 0:e.profilePic,alt:e.name,sx:{width:32,height:32},children:!1===e.isActive||e.profilePic?null:null===(n=e.name)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.toUpperCase()})}),(0,Ve.jsx)(hP,{primary:(0,Ve.jsx)(KT,{variant:"body1",children:e.name}),secondary:(0,Ve.jsxs)(KT,{variant:"body2",color:"text.secondary",children:["@",e.username]}),sx:{my:0}}),m&&e.id!==m.uid&&(0,Ve.jsxs)(Je,{sx:{display:"flex",gap:1},children:[(0,Ve.jsx)(OE,{size:"small",onClick:t=>{t.stopPropagation(),f(`/messages/${e.id}`)},children:(0,Ve.jsx)(hB,{fontSize:"small"})}),(0,Ve.jsx)(OE,{size:"small",onClick:t=>{t.stopPropagation(),M(e.id)},color:h.has(e.id)?"primary":"default",children:(0,Ve.jsx)(uB,{fontSize:"small"})})]})]}),t<S.length-1&&(0,Ve.jsx)(vP,{})]},e.id)}))})})})]}),(0,Ve.jsx)(OE,{onClick:()=>x(!w),sx:{backgroundColor:"background.paper","&:hover":{backgroundColor:"action.hover"}},children:(0,Ve.jsx)($V,{})})]})})]}),!A&&(0,Ve.jsxs)(TV,{value:P,onChange:(e,t)=>{j(t),A&&_(!1)},variant:"scrollable",scrollButtons:"auto","aria-label":"room categories",sx:{mb:3,borderBottom:1,borderColor:"divider"},children:[(0,Ve.jsx)(DV,{label:"All",value:"All"}),["ASMR","Just Chatting","Music","Gossip","Podcasts","Shows","Social","Other"].map((e=>(0,Ve.jsx)(DV,{label:e,value:e},e)))]})]})}),(0,Ve.jsxs)(VP,{maxWidth:!1,sx:{pt:3,pb:4,px:b?2:3,maxWidth:"1440px"},children:[A?(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:4},children:[l.length>0&&(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"h6",sx:{mb:2},children:"Users"}),(0,Ve.jsx)(pI,{children:l.map(((e,t)=>{var n,o;return(0,Ve.jsxs)(r.Fragment,{children:[(0,Ve.jsxs)(FF,{sx:{py:2,cursor:"pointer","&:hover":{backgroundColor:"action.hover"}},onClick:()=>f(`/profile/${e.id}`),children:[(0,Ve.jsx)(FV,{children:(0,Ve.jsx)(zT,{src:!1===e.isActive?void 0:e.profilePic,alt:e.name,sx:{width:50,height:50},children:!1===e.isActive||e.profilePic?null:null===(n=e.name)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.toUpperCase()})}),(0,Ve.jsx)(hP,{primary:(0,Ve.jsx)(KT,{variant:"subtitle1",sx:{fontWeight:600},children:e.name}),secondary:(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(KT,{variant:"body2",color:"text.secondary",children:["@",e.username]}),e.bio&&(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",sx:{mt:.5,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.bio})]})}),m&&e.id!==m.uid&&(0,Ve.jsx)(jF,{children:(0,Ve.jsxs)(Je,{sx:{display:"flex",gap:1},children:[(0,Ve.jsx)(OE,{onClick:t=>{t.stopPropagation(),f(`/messages/${e.id}`)},size:"small",children:(0,Ve.jsx)(hB,{})}),(0,Ve.jsx)(OE,{onClick:t=>{t.stopPropagation(),M(e.id)},size:"small",color:h.has(e.id)?"primary":"default",children:(0,Ve.jsx)(uB,{})})]})})]}),t<l.length-1&&(0,Ve.jsx)(vP,{})]},e.id)}))})]}),s.length>0&&(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"h6",sx:{mb:2},children:"Rooms"}),(0,Ve.jsx)(xN,{container:!0,spacing:3,children:s.filter((e=>{const t="All"===P||e.tags&&e.tags.includes(P);return console.log(`Filtering Room: '${e.name}', Tags: ${JSON.stringify(e.tags)}, Selected: '${P}', Included: ${t}`),t})).map((e=>(0,Ve.jsx)(xN,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsxs)(Uz,{sx:{display:"flex",flexDirection:"column",cursor:"pointer",borderRadius:2,overflow:"hidden",boxShadow:y.shadows[3],"&:hover":{transform:"translateY(-4px)",transition:"transform 0.2s ease-in-out",boxShadow:y.shadows[6]}},onClick:()=>O(e.id),children:[(0,Ve.jsxs)(Je,{sx:{position:"relative"},children:[(0,Ve.jsx)(qz,{component:"img",height:b?"220":"280",image:e.thumbnailUrl||e.creatorAvatar||"/default-room.jpg",alt:e.name,sx:{objectFit:"cover",width:"100%"}}),e.isLive&&(0,Ve.jsx)(GF,{label:"LIVE",color:"error",size:"small",sx:{position:"absolute",top:12,right:12,fontWeight:"bold",fontSize:b?"0.75rem":"0.875rem",height:"auto",padding:"6px 12px"}})]}),(0,Ve.jsxs)(Xz,{sx:{flexGrow:1,p:3,"&:last-child":{pb:3}},children:[(0,Ve.jsxs)(Je,{sx:{mb:2},children:[(0,Ve.jsx)(KT,{gutterBottom:!0,variant:b?"h6":"h5",component:"h2",noWrap:!0,sx:{fontWeight:600,mb:1},children:e.name}),(0,Ve.jsx)(KT,{variant:"body1",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",mb:2,lineHeight:1.5},children:e.description})]}),(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:2,flexWrap:"wrap"},children:[(0,Ve.jsx)(GF,{icon:(0,Ve.jsx)(zV,{sx:{fontSize:b?"1.1rem":"1.25rem"}}),label:`${e.activeUsers||0} viewing`,color:"primary",variant:"outlined",sx:{height:"auto",padding:"8px 12px","& .MuiChip-label":{padding:"0 4px",fontSize:b?"0.875rem":"1rem"}}}),e.isPrivate&&(0,Ve.jsx)(GF,{label:"Private",color:"secondary",sx:{height:"auto",padding:"8px 12px","& .MuiChip-label":{padding:"0 4px",fontSize:b?"0.875rem":"1rem"}}})]}),(0,Ve.jsxs)(KT,{variant:"body2",color:"text.secondary",sx:{fontSize:b?"0.75rem":"0.875rem",display:"flex",alignItems:"center",gap:.5},children:["Created by ",e.creatorName||"Anonymous"," \u2022 ",wW(e.lastActive)]})]})]})},e.id)))})]}),0===l.length&&0===s.length&&!u&&(0,Ve.jsxs)(Je,{sx:{textAlign:"center",py:4},children:[(0,Ve.jsx)(KT,{variant:"h6",color:"text.secondary",children:"No results found"}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",children:"Try different keywords or check your spelling"})]})]}):(0,Ve.jsx)(xN,{container:!0,spacing:3,children:s.filter((e=>{const t="All"===P||e.tags&&e.tags.includes(P);return console.log(`Filtering Room: '${e.name}', Tags: ${JSON.stringify(e.tags)}, Selected: '${P}', Included: ${t}`),t})).map((e=>(0,Ve.jsx)(xN,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsxs)(Uz,{sx:{display:"flex",flexDirection:"column",cursor:"pointer",borderRadius:2,overflow:"hidden",boxShadow:y.shadows[3],"&:hover":{transform:"translateY(-4px)",transition:"transform 0.2s ease-in-out",boxShadow:y.shadows[6]}},onClick:()=>O(e.id),children:[(0,Ve.jsxs)(Je,{sx:{position:"relative"},children:[(0,Ve.jsx)(qz,{component:"img",height:b?"220":"280",image:e.thumbnailUrl||e.creatorAvatar||"/default-room.jpg",alt:e.name,sx:{objectFit:"cover",width:"100%"}}),e.isLive&&(0,Ve.jsx)(GF,{label:"LIVE",color:"error",size:"small",sx:{position:"absolute",top:12,right:12,fontWeight:"bold",fontSize:b?"0.75rem":"0.875rem",height:"auto",padding:"6px 12px"}})]}),(0,Ve.jsxs)(Xz,{sx:{flexGrow:1,p:3,"&:last-child":{pb:3}},children:[(0,Ve.jsxs)(Je,{sx:{mb:2},children:[(0,Ve.jsx)(KT,{gutterBottom:!0,variant:b?"h6":"h5",component:"h2",noWrap:!0,sx:{fontWeight:600,mb:1},children:e.name}),(0,Ve.jsx)(KT,{variant:"body1",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",mb:2,lineHeight:1.5},children:e.description})]}),(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:2,flexWrap:"wrap"},children:[(0,Ve.jsx)(GF,{icon:(0,Ve.jsx)(zV,{sx:{fontSize:b?"1.1rem":"1.25rem"}}),label:`${e.activeUsers||0} viewing`,color:"primary",variant:"outlined",sx:{height:"auto",padding:"8px 12px","& .MuiChip-label":{padding:"0 4px",fontSize:b?"0.875rem":"1rem"}}}),e.isPrivate&&(0,Ve.jsx)(GF,{label:"Private",color:"secondary",sx:{height:"auto",padding:"8px 12px","& .MuiChip-label":{padding:"0 4px",fontSize:b?"0.875rem":"1rem"}}})]}),(0,Ve.jsxs)(KT,{variant:"body2",color:"text.secondary",sx:{fontSize:b?"0.75rem":"0.875rem",display:"flex",alignItems:"center",gap:.5},children:["Created by ",e.creatorName||"Anonymous"," \u2022 ",wW(e.lastActive)]})]})]})},e.id)))}),u&&A&&(0,Ve.jsx)(Je,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,Ve.jsx)(HN,{})})]})]})},SW=()=>{const{user:e}=jk(),{db:t}=mB(),[n,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(t&&e)try{const n=_v(qg(tg(t,"messages"),Kg("participants","array-contains",e.uid),Xg("timestamp","desc")),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));o(t),u(!1)}));return()=>n()}catch(gJ){h("Failed to fetch messages"),console.error("Error fetching messages:",gJ),u(!1)}}),[t,e]);return c?(0,Ve.jsx)(Je,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,Ve.jsx)(HN,{})}):d?(0,Ve.jsx)(Je,{p:3,children:(0,Ve.jsx)(KT,{color:"error",children:d})}):(0,Ve.jsxs)(Je,{p:3,children:[(0,Ve.jsx)(KT,{variant:"h4",gutterBottom:!0,children:"Messages"}),(0,Ve.jsxs)(Je,{mb:3,children:[(0,Ve.jsx)(GD,{fullWidth:!0,multiline:!0,rows:3,variant:"outlined",placeholder:"Type your message...",value:i,onChange:e=>s(e.target.value),sx:{mb:2}}),(0,Ve.jsx)(sI,{variant:"contained",color:"primary",onClick:async()=>{if(t&&e&&a&&i.trim())try{await Av(tg(t,"messages"),{text:i,senderId:e.uid,receiverId:a,timestamp:new Date,read:!1,participants:[e.uid,a]}),s("")}catch(gJ){h("Failed to send message"),console.error("Error sending message:",gJ)}},disabled:!i.trim()||!a,children:"Send"})]}),(0,Ve.jsxs)(pI,{children:[n.map((t=>{var n;return(0,Ve.jsxs)(r.Fragment,{children:[(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(FV,{children:(0,Ve.jsx)(zT,{src:t.senderId===(null===e||void 0===e?void 0:e.uid)&&(null===e||void 0===e?void 0:e.photoURL)||void 0})}),(0,Ve.jsx)(hP,{primary:t.text,secondary:(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(KT,{component:"span",variant:"body2",color:"text.primary",children:t.senderId===(null===e||void 0===e?void 0:e.uid)?"You":"Other User"})," \u2014 ",new Date(null===(n=t.timestamp)||void 0===n?void 0:n.toDate()).toLocaleString()]})})]}),(0,Ve.jsx)(vP,{})]},t.id)})),0===n.length&&(0,Ve.jsx)(KT,{variant:"body1",color:"text.secondary",children:"No messages yet"})]})]})};var CW=n(1014);function kW(e){return(0,iT.Ay)("MuiTooltip",e)}const TW=(0,Ke.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),EW=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function IW(e){return Math.round(1e5*e)/1e5}const RW=(0,tT.Ay)(WL,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:n,open:r}=e;return(0,je.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{[`&[data-popper-placement*="bottom"] .${TW.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${TW.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${TW.arrow}`]:(0,je.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${TW.arrow}`]:(0,je.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),PW=(0,tT.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${(0,nT.A)(n.placement.split("-")[0])}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,rT.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${IW(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${TW.popper}[data-popper-placement*="left"] &`]:(0,je.A)({transformOrigin:"right center"},n.isRtl?(0,je.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,je.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[`.${TW.popper}[data-popper-placement*="right"] &`]:(0,je.A)({transformOrigin:"left center"},n.isRtl?(0,je.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,je.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[`.${TW.popper}[data-popper-placement*="top"] &`]:(0,je.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[`.${TW.popper}[data-popper-placement*="bottom"] &`]:(0,je.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})})})),jW=(0,tT.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,rT.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let DW=!1;const NW=new cE.E;let MW={x:0,y:0};function OW(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t&&t(n,...o),e(n,...o)}}const LW=r.forwardRef((function(e,t){var n,o,i,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,x;const A=(0,Ze.b)({props:e,name:"MuiTooltip"}),{arrow:_=!1,children:S,components:C={},componentsProps:k={},describeChild:T=!1,disableFocusListener:E=!1,disableHoverListener:I=!1,disableInteractive:R=!1,disableTouchListener:P=!1,enterDelay:j=100,enterNextDelay:D=0,enterTouchDelay:N=700,followCursor:M=!1,id:O,leaveDelay:L=0,leaveTouchDelay:F=1500,onClose:U,onOpen:$,open:z,placement:B="bottom",PopperComponent:V,PopperProps:W={},slotProps:H={},slots:q={},title:G,TransitionComponent:K=HI,TransitionProps:Y}=A,Q=(0,De.A)(A,EW),X=r.isValidElement(S)?S:(0,Ve.jsx)("span",{children:S}),J=LI(),Z=Wk(),[ee,te]=r.useState(),[ne,re]=r.useState(null),oe=r.useRef(!1),ie=R||M,se=(0,cE.A)(),ae=(0,cE.A)(),le=(0,cE.A)(),ce=(0,cE.A)(),[ue,de]=(0,xD.A)({controlled:z,default:!1,name:"Tooltip",state:"open"});let he=ue;const pe=(0,CW.A)(O),fe=r.useRef(),me=(0,QT.A)((()=>{void 0!==fe.current&&(document.body.style.WebkitUserSelect=fe.current,fe.current=void 0),ce.clear()}));r.useEffect((()=>me),[me]);const ge=e=>{NW.clear(),DW=!0,de(!0),$&&!he&&$(e)},ve=(0,QT.A)((e=>{NW.start(800+L,(()=>{DW=!1})),de(!1),U&&he&&U(e),se.start(J.transitions.duration.shortest,(()=>{oe.current=!1}))})),ye=e=>{oe.current&&"touchstart"!==e.type||(ee&&ee.removeAttribute("title"),ae.clear(),le.clear(),j||DW&&D?ae.start(DW?D:j,(()=>{ge(e)})):ge(e))},be=e=>{ae.clear(),le.start(L,(()=>{ve(e)}))},{isFocusVisibleRef:we,onBlur:xe,onFocus:Ae,ref:_e}=(0,XT.A)(),[,Se]=r.useState(!1),Ce=e=>{xe(e),!1===we.current&&(Se(!1),be(e))},ke=e=>{ee||te(e.currentTarget),Ae(e),!0===we.current&&(Se(!0),ye(e))},Te=e=>{oe.current=!0;const t=X.props;t.onTouchStart&&t.onTouchStart(e)},Ee=e=>{Te(e),le.clear(),se.clear(),me(),fe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.start(N,(()=>{document.body.style.WebkitUserSelect=fe.current,ye(e)}))},Ie=e=>{X.props.onTouchEnd&&X.props.onTouchEnd(e),me(),le.start(F,(()=>{ve(e)}))};r.useEffect((()=>{if(he)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ve(e)}}),[ve,he]);const Re=(0,YT.A)(kI(X),_e,te,t);G||0===G||(he=!1);const Pe=r.useRef(),Me={},Oe="string"===typeof G;T?(Me.title=he||!Oe||I?null:G,Me["aria-describedby"]=he?pe:null):(Me["aria-label"]=Oe?G:null,Me["aria-labelledby"]=he&&!Oe?pe:null);const Le=(0,je.A)({},Me,Q,X.props,{className:(0,Ne.A)(Q.className,X.props.className),onTouchStart:Te,ref:Re},M?{onMouseMove:e=>{const t=X.props;t.onMouseMove&&t.onMouseMove(e),MW={x:e.clientX,y:e.clientY},Pe.current&&Pe.current.update()}}:{});const Fe={};P||(Le.onTouchStart=Ee,Le.onTouchEnd=Ie),I||(Le.onMouseOver=OW(ye,Le.onMouseOver),Le.onMouseLeave=OW(be,Le.onMouseLeave),ie||(Fe.onMouseOver=ye,Fe.onMouseLeave=be)),E||(Le.onFocus=OW(ke,Le.onFocus),Le.onBlur=OW(Ce,Le.onBlur),ie||(Fe.onFocus=ke,Fe.onBlur=Ce));const Ue=r.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(ne),options:{element:ne,padding:4}}];return null!=(e=W.popperOptions)&&e.modifiers&&(t=t.concat(W.popperOptions.modifiers)),(0,je.A)({},W.popperOptions,{modifiers:t})}),[ne,W]),$e=(0,je.A)({},A,{isRtl:Z,arrow:_,disableInteractive:ie,placement:B,PopperComponentProp:V,touch:oe.current}),ze=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${(0,nT.A)(i.split("-")[0])}`],arrow:["arrow"]};return(0,eT.A)(s,kW,t)})($e),Be=null!=(n=null!=(o=q.popper)?o:C.Popper)?n:RW,We=null!=(i=null!=(s=null!=(a=q.transition)?a:C.Transition)?s:K)?i:HI,He=null!=(l=null!=(c=q.tooltip)?c:C.Tooltip)?l:PW,qe=null!=(u=null!=(d=q.arrow)?d:C.Arrow)?u:jW,Ge=TT(Be,(0,je.A)({},W,null!=(h=H.popper)?h:k.popper,{className:(0,Ne.A)(ze.popper,null==W?void 0:W.className,null==(p=null!=(f=H.popper)?f:k.popper)?void 0:p.className)}),$e),Ke=TT(We,(0,je.A)({},Y,null!=(m=H.transition)?m:k.transition),$e),Ye=TT(He,(0,je.A)({},null!=(g=H.tooltip)?g:k.tooltip,{className:(0,Ne.A)(ze.tooltip,null==(v=null!=(y=H.tooltip)?y:k.tooltip)?void 0:v.className)}),$e),Qe=TT(qe,(0,je.A)({},null!=(b=H.arrow)?b:k.arrow,{className:(0,Ne.A)(ze.arrow,null==(w=null!=(x=H.arrow)?x:k.arrow)?void 0:w.className)}),$e);return(0,Ve.jsxs)(r.Fragment,{children:[r.cloneElement(X,Le),(0,Ve.jsx)(Be,(0,je.A)({as:null!=V?V:WL,placement:B,anchorEl:M?{getBoundingClientRect:()=>({top:MW.y,left:MW.x,right:MW.x,bottom:MW.y,width:0,height:0})}:ee,popperRef:Pe,open:!!ee&&he,id:pe,transition:!0},Fe,Ge,{popperOptions:Ue,children:e=>{let{TransitionProps:t}=e;return(0,Ve.jsx)(We,(0,je.A)({timeout:J.transitions.duration.shorter},t,Ke,{children:(0,Ve.jsxs)(He,(0,je.A)({},Ye,{children:[G,_?(0,Ve.jsx)(qe,(0,je.A)({},Qe,{ref:re})):null]}))}))}}))]})})),FW=LW,UW=(0,AT.A)((0,Ve.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),$W=(0,AT.A)([(0,Ve.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,Ve.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");var zW=n(7937);const BW=["component","direction","spacing","divider","children","className","useFlexGap"],VW=(0,Fe.A)(),WW=LP("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function HW(e){return CP({props:e,name:"MuiStack",defaultTheme:VW})}function qW(e,t){const n=r.Children.toArray(e).filter(Boolean);return n.reduce(((e,o,i)=>(e.push(o),i<n.length-1&&e.push(r.cloneElement(t,{key:`separator-${i}`})),e)),[])}const GW=e=>{let{ownerState:t,theme:n}=e,r=(0,je.A)({display:"flex",flexDirection:"column"},(0,cN.NI)({theme:n},(0,cN.kW)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,zW.LX)(n),o=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),i=(0,cN.kW)({values:t.direction,base:o}),s=(0,cN.kW)({values:t.spacing,base:o});"object"===typeof i&&Object.keys(i).forEach(((e,t,n)=>{if(!i[e]){const r=t>0?i[n[t-1]]:"column";i[e]=r}}));const a=(n,r)=>{return t.useFlexGap?{gap:(0,zW._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${o=r?i[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,zW._W)(e,n)}};var o};r=(0,kP.A)(r,(0,cN.NI)({theme:n},s,a))}return r=(0,cN.iZ)(n.breakpoints,r),r};const KW=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=WW,useThemeProps:n=HW,componentName:o="MuiStack"}=e,i=t(GW),s=r.forwardRef((function(e,t){const r=n(e),s=(0,Le.A)(r),{component:a="div",direction:l="column",spacing:c=0,divider:u,children:d,className:h,useFlexGap:p=!1}=s,f=(0,De.A)(s,BW),m={direction:l,spacing:c,useFlexGap:p},g=(0,eT.A)({root:["root"]},(e=>(0,iT.Ay)(o,e)),{});return(0,Ve.jsx)(i,(0,je.A)({as:a,ownerState:m,ref:t,className:(0,Ne.A)(g.root,h)},f,{children:u?qW(d,u):d}))}));return s}({createStyledComponent:(0,tT.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,Ze.b)({props:e,name:"MuiStack"})}),YW=KW;function QW(e){return(0,iT.Ay)("MuiFormControlLabel",e)}const XW=(0,Ke.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),JW=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],ZW=(0,tT.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${XW.label}`]:t.label},t.root,t[`labelPlacement${(0,nT.A)(n.labelPlacement)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${XW.disabled}`]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${XW.label}`]:{[`&.${XW.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})})),eH=(0,tT.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${XW.error}`]:{color:(t.vars||t).palette.error.main}}})),tH=r.forwardRef((function(e,t){var n,o;const i=(0,Ze.b)({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:h="end",required:p,slotProps:f={}}=i,m=(0,De.A)(i,JW),g=tj(),v=null!=(n=null!=c?c:l.props.disabled)?n:null==g?void 0:g.disabled,y=null!=p?p:l.props.required,b={disabled:v,required:y};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof l.props[e]&&"undefined"!==typeof i[e]&&(b[e]=i[e])}));const w=ZP({props:i,muiFormControl:g,states:["error"]}),x=(0,je.A)({},i,{disabled:v,labelPlacement:h,required:y,error:w.error}),A=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:i}=e,s={root:["root",n&&"disabled",`labelPlacement${(0,nT.A)(r)}`,o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return(0,eT.A)(s,QW,t)})(x),_=null!=(o=f.typography)?o:a.typography;let S=d;return null==S||S.type===KT||u||(S=(0,Ve.jsx)(KT,(0,je.A)({component:"span"},_,{className:(0,Ne.A)(A.label,null==_?void 0:_.className),children:S}))),(0,Ve.jsxs)(ZW,(0,je.A)({className:(0,Ne.A)(A.root,s),ownerState:x,ref:t},m,{children:[r.cloneElement(l,b),y?(0,Ve.jsxs)(YW,{display:"block",children:[S,(0,Ve.jsxs)(eH,{ownerState:x,"aria-hidden":!0,className:A.asterisk,children:["\u2009","*"]})]}):S]}))})),nH=tH,rH=e=>{let{open:t,onClose:n}=e;const{currentUser:o}=jk(),i=Z(),[s,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)({name:"",description:"",isPrivate:!1,password:"",category:"",tags:[]}),[h,p]=(0,r.useState)(!1),[f,m]=(0,r.useState)(""),[g,v]=(0,r.useState)([]),[y,b]=(0,r.useState)(""),[w,x]=(0,r.useState)(""),[A,_]=(0,r.useState)([]),[S,C]=(0,r.useState)(""),[k,T]=(0,r.useState)(!1),[E,I]=(0,r.useState)(!1),[R,P]=(0,r.useState)(null),j=()=>{y.trim()&&!g.includes(y.trim())&&(v([...g,y.trim()]),b(""))},D=()=>{S.trim()&&!A.includes(S.trim())&&(_([...A,S.trim()]),C(""))};return(0,Ve.jsxs)(_z,{open:t,onClose:n,maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(sB,{children:"Create Side Room"}),(0,Ve.jsxs)(pz,{children:[l&&(0,Ve.jsx)(lN,{severity:"error",sx:{mb:2},children:l}),(0,Ve.jsx)(GD,{autoFocus:!0,margin:"dense",label:"Room Name",type:"text",fullWidth:!0,value:u.name,onChange:e=>d((t=>({...t,name:e.target.value}))),required:!0,error:!u.name.trim(),helperText:u.name.trim()?"":"Room name is required"}),(0,Ve.jsx)(GD,{margin:"dense",label:"Description",type:"text",fullWidth:!0,multiline:!0,rows:3,value:u.description,onChange:e=>d((t=>({...t,description:e.target.value}))),required:!0,error:!u.description.trim(),helperText:u.description.trim()?"":"Description is required"}),(0,Ve.jsxs)(rD,{fullWidth:!0,margin:"dense",required:!0,error:!u.category,children:[(0,Ve.jsx)(Xj,{children:"Category"}),(0,Ve.jsxs)(zD,{value:u.category,onChange:e=>d((t=>({...t,category:e.target.value}))),label:"Category",children:[(0,Ve.jsx)(oP,{value:"Just Chatting",children:"Just Chatting"}),(0,Ve.jsx)(oP,{value:"Music",children:"Music"}),(0,Ve.jsx)(oP,{value:"Gossip",children:"Gossip"}),(0,Ve.jsx)(oP,{value:"Podcasts",children:"Podcasts"}),(0,Ve.jsx)(oP,{value:"Shows",children:"Shows"}),(0,Ve.jsx)(oP,{value:"Social",children:"Social"}),(0,Ve.jsx)(oP,{value:"ASMR",children:"ASMR"}),(0,Ve.jsx)(oP,{value:"Other",children:"Other"})]}),!u.category&&(0,Ve.jsx)(uD,{children:"Category is required"})]}),(0,Ve.jsxs)(Je,{sx:{mt:2},children:[(0,Ve.jsx)(KT,{variant:"subtitle2",children:"Tags (Optional)"}),(0,Ve.jsx)(Je,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:1},children:g.map((e=>(0,Ve.jsx)(GF,{label:e,onDelete:()=>{return t=e,void v(g.filter((e=>e!==t)));var t}},e)))}),(0,Ve.jsxs)(Je,{sx:{display:"flex",gap:1},children:[(0,Ve.jsx)(GD,{size:"small",value:y,onChange:e=>b(e.target.value),placeholder:"Add tag",onKeyPress:e=>"Enter"===e.key&&j()}),(0,Ve.jsx)(OE,{onClick:j,size:"small",children:(0,Ve.jsx)(UW,{})})]})]}),(0,Ve.jsxs)(Je,{sx:{mt:2},children:[(0,Ve.jsx)(KT,{variant:"subtitle2",children:"Rules (Optional)"}),(0,Ve.jsx)(Je,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:1},children:A.map((e=>(0,Ve.jsx)(GF,{label:e,onDelete:()=>{return t=e,void _(A.filter((e=>e!==t)));var t}},e)))}),(0,Ve.jsxs)(Je,{sx:{display:"flex",gap:1},children:[(0,Ve.jsx)(GD,{size:"small",value:S,onChange:e=>C(e.target.value),placeholder:"Add rule",onKeyPress:e=>"Enter"===e.key&&D()}),(0,Ve.jsx)(OE,{onClick:D,size:"small",children:(0,Ve.jsx)(UW,{})})]})]}),(0,Ve.jsx)(nH,{control:(0,Ve.jsx)(LB,{checked:u.isPrivate,onChange:e=>d((t=>({...t,isPrivate:e.target.checked})))}),label:"Private Room"}),u.isPrivate&&(0,Ve.jsx)(GD,{margin:"dense",label:"Password",type:"password",fullWidth:!0,value:u.password,onChange:e=>d((t=>({...t,password:e.target.value}))),required:!0,error:!u.password.trim(),helperText:u.password.trim()?"":"Password is required for private rooms"}),(0,Ve.jsxs)(Je,{sx:{mt:2,mb:1},children:[(0,Ve.jsxs)(sI,{variant:"outlined",component:"label",fullWidth:!0,children:["Upload Thumbnail (Optional)",(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]?P(e.target.files[0]):P(null)}})]}),R&&(0,Ve.jsxs)(KT,{variant:"caption",sx:{display:"block",mt:1},children:["Selected: ",R.name]})]})]}),(0,Ve.jsxs)(xF,{children:[(0,Ve.jsx)(sI,{onClick:n,children:"Cancel"}),(0,Ve.jsx)(sI,{onClick:async e=>{if(e.preventDefault(),o&&D_)if(u.name.trim())if(u.description.trim())if(u.category)if(!u.isPrivate||u.password.trim())try{I(!0);const e=ng(D_,"users",o.uid),a=await gv(e);let l="Anonymous",c="anonymous_user",d="";if(a.exists()){var t;const e=a.data();l=e.name||e.username||o.displayName||"Anonymous",c=e.username||(null===(t=o.displayName)||void 0===t?void 0:t.split(" ")[0].toLowerCase())||"anonymous_user",d=e.profilePic||o.photoURL||""}else{var r;l=o.displayName||"Anonymous",c=(null===(r=o.displayName)||void 0===r?void 0:r.split(" ")[0].toLowerCase())||"anonymous_user",d=o.photoURL||"",console.warn(`UserProfile not found for UID: ${o.uid}. Using Auth display name.`)}const h={name:u.name,description:u.description,ownerId:o.uid,viewers:[],memberCount:0,createdAt:Pv(),isPrivate:u.isPrivate,password:u.isPrivate?u.password:"",category:u.category,tags:Array.from(new Set([...g,u.category])),lastActive:Pv(),isLive:!1,activeUsers:0,deleted:!1,heartCount:0},p=await Av(tg(D_,"sideRooms"),h),f={userId:o.uid,displayName:l,username:c,avatar:d,role:"owner",joinedAt:il.now()};if(await wv(p,{viewers:jv(f),memberCount:1}),await bv(ng(D_,"users",o.uid,"sideRooms",p.id),{roomId:p.id,name:u.name,role:"owner",joinedAt:il.now(),lastActive:Pv()}),R){aS.loading("Uploading thumbnail...",{id:"thumbnail-upload"});try{const e=Xy(M_,`sideRoomThumbnails/${p.id}/${R.name}`),t=await Yy(e,R),n=await Qy(t.ref);await wv(p,{thumbnailUrl:n}),aS.dismiss("thumbnail-upload"),aS.success("Thumbnail uploaded!")}catch(s){console.error("Error uploading thumbnail:",s),aS.dismiss("thumbnail-upload"),aS.error("Failed to upload thumbnail, but room created.")}}aS.success("Room created successfully!"),n(),i(`/side-room/${p.id}`)}catch(l){console.error("Error creating room:",l),aS.error("Failed to create room")}finally{I(!1)}else aS.error("Password is required for private rooms");else aS.error("Category is required");else aS.error("Description is required");else aS.error("Room name is required")},variant:"contained",disabled:E,children:E?"Creating...":"Create Room"})]})]})},oH=["All","ASMR","Just Chatting","Music","Gossip","Podcasts","Shows","Social","Other"],iH=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[a,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(""),[x,A]=(0,r.useState)("All"),[_,S]=(0,r.useState)("newest"),C=Z(),{currentUser:k}=jk();(0,r.useEffect)((()=>{if(!D_)return l("Firestore not initialized"),void s(!1);try{s(!0);const e=tg(D_,"sideRooms"),n=_v(qg(e,Kg("deleted","==",!1),Xg("createdAt","desc")),(e=>{const n=e.docs.map((e=>{const t=e.data();return{id:e.id,name:t.name||"",description:t.description,createdAt:t.createdAt,lastActive:t.lastActive,viewerCount:t.viewerCount||0,maxViewers:t.maxViewers||100,viewers:t.viewers,isPrivate:t.isPrivate,password:t.password,genre:t.genre,tags:t.tags,category:t.category,thumbnailUrl:t.thumbnailUrl}}));t(n),s(!1),l(null)}),(e=>{console.error("Error fetching side rooms:",e),l("Error fetching rooms. Please check permissions or network."),s(!1)}));return()=>n()}catch(gJ){console.error("Error setting up side rooms query:",gJ),l(`Error setting up query: ${gJ.message}`),s(!1)}}),[D_]),(0,r.useEffect)((()=>{let t=[...e];b&&(t=t.filter((e=>e.name.toLowerCase().includes(b.toLowerCase())||e.description&&e.description.toLowerCase().includes(b.toLowerCase())))),"All"!==x&&(t=t.filter((e=>e.category===x||e.genre===x||e.tags&&e.tags.includes(x)))),t.sort(((e,t)=>{var n,r,o,i;const s=(null===(n=e.createdAt)||void 0===n?void 0:n.toMillis())||0,a=(null===(r=t.createdAt)||void 0===r?void 0:r.toMillis())||0,l=(null===(o=e.lastActive)||void 0===o?void 0:o.toMillis())||0,c=(null===(i=t.lastActive)||void 0===i?void 0:i.toMillis())||0;switch(_){case"newest":return a-s;case"oldest":return s-a;case"members":return(t.viewerCount||0)-(e.viewerCount||0);case"activity":return c-l;default:return 0}})),o(t)}),[e,b,x,_]);const T=async()=>{if(k&&p&&m&&D_){y(!0);try{var e;const t=ng(D_,"sideRooms",p.id),n=await gv(t);if(!n.exists()||(null===(e=n.data())||void 0===e?void 0:e.password)!==m)return aS.error("Incorrect password"),void y(!1);await Rv(D_,(async e=>{var n;const r=await e.get(t);if(!r.exists())throw new Error("Room does not exist!");const o=(null===(n=r.data())||void 0===n?void 0:n.viewers)||[],i=k&&o.some((e=>e.userId===k.uid));if(k&&!i){var s;const n={userId:k.uid,username:k.displayName||(null===(s=k.email)||void 0===s?void 0:s.split("@")[0])||"",avatar:k.photoURL||"",role:"viewer",joinedAt:il.now()};e.update(t,{viewers:jv(n),viewerCount:Dv(1)})}})),h(!1),g(""),C(`/side-room/${p.id}`)}catch(a){console.error("Error joining private room:",a),aS.error(`Failed to join room: ${(null===a||void 0===a?void 0:a.message)||a}`)}finally{y(!1)}}},E=e=>{if(!e)return"N/A";return e.toDate().toLocaleDateString("en-US",{month:"short",day:"numeric"})};return i?(0,Ve.jsx)(Je,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:(0,Ve.jsx)(HN,{})}):a?(0,Ve.jsxs)(KT,{color:"error",children:["Error: ",a]}):(0,Ve.jsxs)(Je,{sx:{flexGrow:1,p:3},children:[(0,Ve.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,Ve.jsx)(KT,{variant:"h4",children:"Side Rooms"}),(0,Ve.jsx)(sI,{variant:"contained",startIcon:(0,Ve.jsx)(UW,{}),onClick:()=>u(!0),disabled:!k,children:"Create Room"})]}),(0,Ve.jsxs)(uT,{elevation:1,sx:{p:2,mb:3,display:"flex",gap:2,flexWrap:"wrap"},children:[(0,Ve.jsx)(GD,{size:"small",placeholder:"Search rooms...",variant:"outlined",value:b,onChange:e=>w(e.target.value),InputProps:{startAdornment:(0,Ve.jsx)(ZN,{position:"start",children:(0,Ve.jsx)($V,{})})},sx:{flexGrow:1,minWidth:"200px"}}),(0,Ve.jsxs)(rD,{size:"small",sx:{minWidth:150},children:[(0,Ve.jsx)(Xj,{children:"Category"}),(0,Ve.jsx)(zD,{value:x,label:"Category",onChange:e=>A(e.target.value),children:oH.map((e=>(0,Ve.jsx)(oP,{value:e,children:e},e)))})]}),(0,Ve.jsxs)(rD,{size:"small",sx:{minWidth:150},children:[(0,Ve.jsx)(Xj,{children:"Sort By"}),(0,Ve.jsxs)(zD,{value:_,label:"Sort By",onChange:e=>S(e.target.value),children:[(0,Ve.jsx)(oP,{value:"newest",children:"Newest"}),(0,Ve.jsx)(oP,{value:"oldest",children:"Oldest"}),(0,Ve.jsx)(oP,{value:"members",children:"Most Viewers"}),(0,Ve.jsx)(oP,{value:"activity",children:"Last Active"})]})]})]}),(0,Ve.jsx)(xN,{container:!0,spacing:3,children:n.length>0?n.map((e=>(0,Ve.jsx)(xN,{item:!0,xs:12,md:6,lg:4,children:(0,Ve.jsxs)(Uz,{sx:{display:"flex",flexDirection:"column",height:"100%",borderRadius:2,transition:"box-shadow 0.3s","&:hover":{boxShadow:3}},children:[(0,Ve.jsx)(qz,{component:"img",height:"140",image:e.thumbnailUrl||"/default-room.jpg",alt:e.name,sx:{objectFit:"cover"}}),(0,Ve.jsxs)(Xz,{sx:{flexGrow:1},children:[(0,Ve.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[(0,Ve.jsx)(KT,{variant:"h6",component:"div",children:e.name}),e.isPrivate&&(0,Ve.jsx)(FW,{title:"Private Room",arrow:!0,children:(0,Ve.jsx)(aB,{fontSize:"small",color:"action"})})]}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,Ve.jsxs)(Je,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:2},children:[(0,Ve.jsx)(GF,{icon:(0,Ve.jsx)(jz,{fontSize:"small"}),label:`${e.viewerCount||0} Viewing`,size:"small",variant:"outlined"}),(0,Ve.jsx)(GF,{icon:(0,Ve.jsx)($W,{fontSize:"small"}),label:`Active: ${E(e.lastActive)}`,size:"small",variant:"outlined"}),e.category&&(0,Ve.jsx)(GF,{label:e.category,size:"small",variant:"outlined",color:"primary"})]})]}),(0,Ve.jsx)(nB,{sx:{justifyContent:"flex-end",p:2,borderTop:"1px solid",borderColor:"divider"},children:(0,Ve.jsx)(sI,{size:"small",variant:"contained",onClick:()=>(async e=>{if(k&&D_){if(e.isPrivate)return f(e),void h(!0);y(!0);try{const t=ng(D_,"sideRooms",e.id);await Rv(D_,(async e=>{var n;const r=await e.get(t);if(!r.exists())throw new Error("Room does not exist!");const o=(null===(n=r.data())||void 0===n?void 0:n.viewers)||[],i=k&&o.some((e=>e.userId===k.uid));if(k&&!i){var s;const n={userId:k.uid,username:k.displayName||(null===(s=k.email)||void 0===s?void 0:s.split("@")[0])||"",avatar:k.photoURL||"",role:"viewer",joinedAt:il.now()};e.update(t,{viewers:jv(n),viewerCount:Dv(1)})}})),C(`/side-room/${e.id}`)}catch(a){console.error("Error joining room:",a),aS.error(`Failed to join room: ${(null===a||void 0===a?void 0:a.message)||a}`)}finally{y(!1)}}else aS.error("You must be logged in to join a room.")})(e),disabled:v,children:"Join Room"})})]})},e.id))):(0,Ve.jsx)(KT,{sx:{width:"100%",textAlign:"center",mt:4},children:"No rooms found. Why not create one?"})}),(0,Ve.jsx)(rH,{open:c,onClose:()=>u(!1)}),(0,Ve.jsxs)(_z,{open:d,onClose:()=>h(!1),maxWidth:"xs",fullWidth:!0,children:[(0,Ve.jsx)(sB,{children:"Enter Room Password"}),(0,Ve.jsx)(pz,{children:(0,Ve.jsx)(GD,{autoFocus:!0,margin:"dense",label:"Password",type:"password",fullWidth:!0,variant:"standard",value:m,onChange:e=>g(e.target.value),onKeyDown:e=>"Enter"===e.key&&T()})}),(0,Ve.jsxs)(xF,{children:[(0,Ve.jsx)(sI,{onClick:()=>h(!1),disabled:v,children:"Cancel"}),(0,Ve.jsx)(sI,{onClick:T,disabled:v||!m,children:v?(0,Ve.jsx)(HN,{size:24}):"Join"})]})]})]})};function sH(e){return(0,iT.Ay)("MuiLinearProgress",e)}(0,Ke.A)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const aH=["className","color","value","valueBuffer","variant"];let lH,cH,uH,dH,hH,pH,fH=e=>e;const mH=(0,lE.i7)(lH||(lH=fH`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),gH=(0,lE.i7)(cH||(cH=fH`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),vH=(0,lE.i7)(uH||(uH=fH`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),yH=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:"light"===e.palette.mode?(0,rT.a)(e.palette[t].main,.62):(0,rT.e$)(e.palette[t].main,.5),bH=(0,tT.Ay)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${(0,nT.A)(n.color)}`],t[n.variant]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:yH(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),wH=(0,tT.Ay)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${(0,nT.A)(n.color)}`]]}})((e=>{let{ownerState:t,theme:n}=e;const r=yH(n,t.color);return(0,je.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,lE.AH)(dH||(dH=fH`
    animation: ${0} 3s infinite linear;
  `),vH)),xH=(0,tT.Ay)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${(0,nT.A)(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .4s linear"},"buffer"===t.variant&&{zIndex:1,transition:"transform .4s linear"})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,lE.AH)(hH||(hH=fH`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),mH)})),AH=(0,tT.Ay)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${(0,nT.A)(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return(0,je.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:yH(n,t.color),transition:"transform .4s linear"})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,lE.AH)(pH||(pH=fH`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),gH)})),_H=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiLinearProgress"}),{className:r,color:o="primary",value:i,valueBuffer:s,variant:a="indeterminate"}=n,l=(0,De.A)(n,aH),c=(0,je.A)({},n,{color:o,variant:a}),u=(e=>{const{classes:t,variant:n,color:r}=e,o={root:["root",`color${(0,nT.A)(r)}`,n],dashed:["dashed",`dashedColor${(0,nT.A)(r)}`],bar1:["bar",`barColor${(0,nT.A)(r)}`,("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&`barColor${(0,nT.A)(r)}`,"buffer"===n&&`color${(0,nT.A)(r)}`,("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,eT.A)(o,sH,t)})(c),d=Wk(),h={},p={bar1:{},bar2:{}};if("determinate"===a||"buffer"===a)if(void 0!==i){h["aria-valuenow"]=Math.round(i),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let e=i-100;d&&(e=-e),p.bar1.transform=`translateX(${e}%)`}else 0;if("buffer"===a)if(void 0!==s){let e=(s||0)-100;d&&(e=-e),p.bar2.transform=`translateX(${e}%)`}else 0;return(0,Ve.jsxs)(bH,(0,je.A)({className:(0,Ne.A)(u.root,r),ownerState:c,role:"progressbar"},h,{ref:t},l,{children:["buffer"===a?(0,Ve.jsx)(wH,{className:u.dashed,ownerState:c}):null,(0,Ve.jsx)(xH,{className:u.bar1,ownerState:c,style:p.bar1}),"determinate"===a?null:(0,Ve.jsx)(AH,{className:u.bar2,ownerState:c,style:p.bar2})]}))})),SH=_H;var CH=n(9223);const kH=()=>(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"center",pl:1,py:1.2},children:[" ",(0,Ve.jsx)(Je,{sx:{height:8,width:8,borderRadius:"50%",bgcolor:"grey.400",animation:"bounce 1.4s infinite ease-in-out both",mx:.5,animationName:"bounceKeyframes"}}),(0,Ve.jsx)(Je,{sx:{height:8,width:8,borderRadius:"50%",bgcolor:"grey.400",animation:"bounce 1.4s infinite ease-in-out both",mx:.5,animationDelay:"0.2s",animationName:"bounceKeyframes"}}),(0,Ve.jsx)(Je,{sx:{height:8,width:8,borderRadius:"50%",bgcolor:"grey.400",animation:"bounce 1.4s infinite ease-in-out both",mx:.5,animationDelay:"0.4s",animationName:"bounceKeyframes"}}),(0,Ve.jsx)("style",{children:"\n          @keyframes bounceKeyframes {\n            0%, 80%, 100% {\n              transform: scale(0);\n            }\n            40% {\n              transform: scale(1.0);\n            }\n          }\n        "})]}),TH=e=>{var t;let{board:n}=e;n.length;const r=(null===(t=n[0])||void 0===t?void 0:t.length)||0,o={"\ud83d\udd34":"#ff4136","\ud83d\udfe1":"#ffdc00","\u26aa":"#dddddd"};return(0,Ve.jsx)(Je,{sx:{bgcolor:"#0074D9",p:1,borderRadius:2,mb:2,display:"inline-block",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.2)"},children:(0,Ve.jsxs)(xN,{container:!0,spacing:.5,sx:{width:"auto"},children:[" ",n.map(((e,t)=>(0,Ve.jsx)(xN,{container:!0,item:!0,xs:12,justifyContent:"center",spacing:.5,children:e.map(((e,n)=>(0,Ve.jsx)(xN,{item:!0,children:(0,Ve.jsx)(Je,{sx:{width:{xs:30,sm:35},height:{xs:30,sm:35},borderRadius:"50%",bgcolor:o[e]||"#FFFFFF",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.2)"}})},`${t}-${n}`)))},t))),(0,Ve.jsx)(xN,{container:!0,item:!0,xs:12,justifyContent:"center",spacing:.5,sx:{mt:.5},children:Array.from({length:r}).map(((e,t)=>(0,Ve.jsx)(xN,{item:!0,sx:{width:{xs:30,sm:35},textAlign:"center"},children:(0,Ve.jsx)(KT,{variant:"caption",sx:{color:"white",fontWeight:"bold"},children:t+1})},`label-${t}`)))})]})})},EH=()=>{var e,t,n;const{currentUser:o}=jk(),[i,s]=(0,r.useState)([]),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(null),b=X(),[w,x]=(0,r.useState)(null),A=(0,r.useRef)(null);(0,r.useEffect)((()=>{(()=>{var e;null===(e=A.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()}),[i]);(0,r.useEffect)((()=>{const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALGOLIA_API_KEY:"b94f7163a6855940c1a0d94e635a307c",REACT_APP_ALGOLIA_APP_ID:"7PVTC2J64R",REACT_APP_ALGOLIA_INDEX_NAME:"searches",REACT_APP_API_URL:"https://sideeye-backend-production.up.railway.app",REACT_APP_FIREBASE_API_KEY:"AIzaSyBI9pvyseKR-5dw3eXuZgTLnG3OcvNGbeI",REACT_APP_FIREBASE_APP_ID:"1:864667627333:web:1ec087179141d1e91a982c",REACT_APP_FIREBASE_AUTH_DOMAIN:"sideeye.uk",REACT_APP_FIREBASE_DATABASE_URL:"https://sideeye-bafda-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"864667627333",REACT_APP_FIREBASE_PROJECT_ID:"sideeye-bafda",REACT_APP_FIREBASE_STORAGE_BUCKET:"sideeye-bafda.firebasestorage.app",REACT_APP_SHOTSTACK_API_KEY:"c0Bpc85oj7cHuDdfhz54eQJmmoEI1qauJyodpw9d",REACT_APP_SOCKET_SERVER_URL:"wss://sideeye-backend-production.up.railway.app"}.REACT_APP_SOCKET_URL||"https://sideeye-backend-production.up.railway.app";console.log(`[Frontend] Connecting Socket.IO to: ${e}`);const t=Tk(e,{});return y(t),t.on("connect",(()=>{console.log("[Frontend] Socket connected:",t.id)})),t.on("disconnect",(e=>{console.log("[Frontend] Socket disconnected:",e)})),t.on("connect_error",(e=>{console.error("[Frontend] Socket connection error:",e)})),()=>{console.log("[Frontend] Disconnecting socket..."),t.disconnect(),y(null)}}),[]),(0,r.useEffect)((()=>{if(v){const e=e=>{e&&"ai"===e.sender&&"string"===typeof e.text?(console.log("[Frontend] Received 'ai-message' via Socket:",e),s((t=>[...t,{sender:"ai",text:e.text}]))):console.warn("[Frontend] Received malformed 'ai-message' data via Socket:",e)};return v.on("ai-message",e),()=>{console.log("[Frontend] Removing 'ai-message' listener"),v.off("ai-message",e)}}}),[v]),(0,r.useEffect)((()=>{if("help"===new URLSearchParams(b.search).get("intent")&&0===i.length){console.log("[Frontend] Detected intent=help from URL params.");s([{sender:"ai",text:"Hi there! Looks like you clicked 'Get Help' in settings. How can I assist you today? Just type your question below. \ud83d\ude0a"}])}}),[b.search]),(0,r.useEffect)((()=>{const e=localStorage.getItem("sadeai_chat_history");e&&s(JSON.parse(e))}),[]),(0,r.useEffect)((()=>{localStorage.setItem("sadeai_chat_history",JSON.stringify(i))}),[i]);const _=(0,r.useRef)(null),S=()=>{_.current&&(clearInterval(_.current),_.current=null)},C=()=>{f((e=>{if(!e||!e.active)return console.log("[Frontend] handleTimerTick: No active state, clearing interval."),S(),null;const t=e.timer-1;return console.log(`[Frontend] handleTimerTick: Prev Timer: ${e.timer}, New Timer: ${t}, Step Index: ${e.currentStepIndex}`),t<=0?(console.log("[Frontend] handleTimerTick: Timer reached 0, starting next step."),setTimeout(k,0),{...e,timer:0}):{...e,timer:t}}))},k=()=>{console.log("[Frontend] startNextBreathingStep called."),S(),f((e=>{if(!e||!e.active)return console.warn("[Frontend] startNextBreathingStep: No active breathing state found on entry."),null;const t=e.currentStepIndex+1;if(console.log(`[Frontend] startNextBreathingStep: Prev Index: ${e.currentStepIndex}, Next Index: ${t}`),t>=e.steps.length)return console.log("[Frontend] startNextBreathingStep: Exercise finished."),console.log("[Frontend] endBreathingExercise called."),S(),s((e=>[...e,{sender:"ai",text:"Nicely done! Hope that helped you feel a bit calmer, mate. \ud83d\ude0a"}])),f(null),u(!1),null;const n=e.steps[t];console.log("[Frontend] startNextBreathingStep: Next step details:",n),s((e=>{const t=e[e.length-1];return"ai"===(null===t||void 0===t?void 0:t.sender)&&(null===t||void 0===t?void 0:t.text)===n.text?e:[...e,{sender:"ai",text:n.text}]})),_.current=setInterval(C,1e3),console.log("[Frontend] startNextBreathingStep: Interval started:",_.current);const r={...e,currentStepIndex:t,timer:n.duration,intervalId:_.current};return console.log("[Frontend] startNextBreathingStep: Setting new state:",r),r}))},T=()=>{f((e=>null!==e&&void 0!==e&&e.active?(console.log("[Frontend] Manually stopping breathing exercise."),S(),s((e=>[...e,{sender:"ai",text:"Okay, no worries! Stopping the exercise now."}])),u(!1),null):e))};(0,r.useEffect)((()=>()=>S()),[]);const E=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.trim())return;if(!o)return console.error("[SadeAIPage] Error: No user logged in. Cannot send message."),void s((e=>[...e,{sender:"ai",text:"Sorry, I can't send messages if you're not logged in."}]));const n={sender:"user",text:e};s((e=>[...e,n])),l(""),u(!0),g(!1);try{if(console.log("[Frontend] sendMessage called. forceSearch=",t,"Connect4Game:",w,"ActiveGame:",d,"BreathingState:",p),null!==p&&void 0!==p&&p.active&&e.toLowerCase().includes("stop"))return void T();if(null!==p&&void 0!==p&&p.active)return void s((e=>[...e,{sender:"ai",text:"Let's focus on breathing for now. You can type 'stop' if you need to."}]));if(d&&"guess_the_number"===d.gameType){console.log("[Frontend] Guess the Number game is active. Processing locally.");const t=parseInt(e,10),n=e.toLowerCase();if(isNaN(t))if(n.includes("even")||n.includes("odd")){const e=d.targetNumber%2===0?"Okay, cheeky hint for you... It's an **even** number! \ud83d\ude09":"Alright, since you asked nicely... It's an **odd** number! \ud83e\udd14";s((t=>[...t,{sender:"ai",text:e}]))}else{const e="Ah, trying to be clever? \ud83d\ude09 Just give me a number guess between 1 and 100!";s((t=>[...t,{sender:"ai",text:e}]))}else R(t);return}if(w&&"connect_4"===w.gameType&&!w.gameOver&&"User"===w.turn){console.log("[Frontend] Connect 4 game is active and it's User's turn. Processing input as move.");const t=parseInt(e.trim(),10);if(!isNaN(t)&&t>=1&&t<=7){console.log(`[Frontend] Sending Connect 4 move (column ${t}) to backend.`);const e="https://sideeye-backend-production.up.railway.app";if(!e)throw console.error("[SadeAIPage] ERROR: REACT_APP_API_URL is not defined."),new Error("Configuration error: Backend URL not set.");const n=`${e}/api/sade-ai`,r={message:`connect4_move_${t}`,userId:o.uid};console.log("[Frontend] Sending Connect 4 move request body:",r);const i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},a=await fetch(n,i);if(!a.ok){let e=`HTTP error! status: ${a.status}`;try{e=(await a.json()).error||e}catch(L_){}throw new Error(e)}const l=await a.json();if(console.log("[Frontend] Connect 4 move response data:",l),"connect_4"===l.gameUpdate&&l.board&&l.response){console.log("[Frontend] Received Connect 4 game update from backend.");const e={gameType:"connect_4",board:l.board,turn:l.turn,gameOver:l.gameOver,winner:l.winner};x(e),s((e=>[...e,{sender:"ai",text:l.response}])),l.gameOver&&console.log("[Frontend] Connect 4 game is over. Winner:",l.winner)}else l.error?s((e=>[...e,{sender:"ai",text:l.error}])):(console.error("[SadeAIPage] Received unexpected response structure after Connect 4 move:",l),s((e=>[...e,{sender:"ai",text:"Sorry, something went wrong with the game."}])),x(null))}else console.log("[Frontend] Connect 4 active, but input is not a valid column number (1-7)."),s((e=>[...e,{sender:"ai",text:"Please enter a column number from 1 to 7 to make your move, mate."}]));return}console.log("[Frontend] No active game/exercise or local action. Sending message to backend via HTTP.");const n="https://sideeye-backend-production.up.railway.app";if(!n)return console.error("[SadeAIPage] ERROR: REACT_APP_API_URL is not defined."),void s((e=>[...e,{sender:"ai",text:"Configuration error: Backend URL not set."}]));const r=`${n}/api/sade-ai`,a={message:e,history:i.slice(-10),forceSearch:t,userId:o.uid};console.log("[Frontend] Sending HTTP request body:",a);const l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},c=await fetch(r,l);if(!c.ok){let e=`HTTP error! status: ${c.status}`;try{e=(await c.json()).error||e}catch(L_){}throw new Error(e)}const u=await c.json();if(console.log("[Frontend] HTTP Backend response data:",u),u.startBreathingExercise&&u.steps){console.log("[Frontend] sendMessage: Received signal to start breathing exercise."),s((e=>[...e,{sender:"ai",text:u.response}]));const e={active:!0,steps:u.steps,currentStepIndex:-1,timer:0,intervalId:null};f(e),setTimeout(k,100),x(null),h(null)}else if("guess_the_number"===u.startGame&&u.response)I("guess_the_number",u.response),x(null),f(null);else if("connect_4"===u.startGame&&u.board&&u.response){console.log("[Frontend] sendMessage: Received signal to start Connect 4 game."),s((e=>[...e,{sender:"ai",text:u.response}]));const e={gameType:"connect_4",board:u.board,turn:"User",gameOver:!1,winner:null};x(e),h(null),f(null)}else u.response?s((e=>[...e,{sender:"ai",text:u.response}])):(console.error("[SadeAIPage] Received unexpected HTTP response structure:",u),s((e=>[...e,{sender:"ai",text:"Sorry, I got a bit confused there."}])))}catch(gJ){console.error("[SadeAIPage] sendMessage Error:",gJ),s((t=>[...t,{sender:"ai",text:`Sorry, there was an error: ${gJ.message||"Unknown error"}`}]))}finally{console.log("[SadeAIPage sendMessage finally] Setting loading to false."),u(!1)}},I=(e,t)=>{if("guess_the_number"===e){const e={gameType:"guess_the_number",targetNumber:Math.floor(100*Math.random())+1,guessesMade:0,lowerBound:1,upperBound:100};console.log("[Frontend] startGame called. Setting activeGame state to:",e),h(e),s((e=>[...e,{sender:"ai",text:t}]))}},R=e=>{if(!d||"guess_the_number"!==d.gameType)return;let t="";const n=d.guessesMade+1;let r=d.lowerBound,o=d.upperBound,i=!1;console.log(`[Frontend] handleGuess called with valid number: ${e}`),e<1||e>100?(t="Whoops! That number's not between 1 and 100, mate. Try again!",console.log("[Frontend] handleGuess: Input out of bounds.")):e===d.targetNumber?(t=`Yes! You got it in ${n} guesses! Proper smart. \ud83c\udf89 Fancy another round? (Just ask!)`,i=!0):e<d.targetNumber?(t=`A bit higher than ${e}... \ud83d\ude09`,r=Math.max(d.lowerBound,e+1)):(t=`Lower than ${e}, try again! \ud83d\udc47`,o=Math.min(d.upperBound,e-1)),s((e=>[...e,{sender:"ai",text:t}])),i?h(null):e>=1&&e<=100&&h({...d,guessesMade:n,lowerBound:r,upperBound:o})},P=null===p||void 0===p?void 0:p.active,j=null!==(e=null===p||void 0===p?void 0:p.currentStepIndex)&&void 0!==e?e:-1,D=P&&j>=0?p.steps[j]:null,N=null!==(t=null===D||void 0===D?void 0:D.duration)&&void 0!==t?t:0,M=null!==(n=null===p||void 0===p?void 0:p.timer)&&void 0!==n?n:0,O=N>0?(N-M)/N*100:0;return(0,Ve.jsx)(Je,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #FFF8DC 0%, #FFC0CB 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",pb:{xs:10,sm:7},pt:{xs:2,sm:6}},children:(0,Ve.jsxs)(uT,{elevation:6,sx:{width:"100%",maxWidth:500,p:{xs:2,sm:4},borderRadius:4,mb:2,mt:2,bgcolor:"#fffefa",boxShadow:"0 12px 40px rgba(0, 0, 0, 0.12)"},children:[(0,Ve.jsxs)(KT,{variant:"h4",align:"center",fontWeight:700,color:"primary.dark",gutterBottom:!0,sx:{letterSpacing:.5,display:"flex",alignItems:"center",justifyContent:"center"},children:["Sade AI \u2728",(0,Ve.jsx)(KT,{component:"span",variant:"body1",sx:{ml:1.5,fontWeight:400,fontSize:"1.1rem",color:"text.secondary"},children:"(SHA-DEY)"})]}),(0,Ve.jsx)(vP,{sx:{mb:2}}),(0,Ve.jsxs)(Je,{sx:{minHeight:320,maxHeight:{xs:350,sm:400},overflowY:"auto",bgcolor:"rgba(255, 255, 255, 0.6)",borderRadius:3,p:2,mb:2,boxShadow:"inset 0 1px 3px rgba(0,0,0,0.05)",transition:"background 0.3s"},children:[0===i.length&&(0,Ve.jsxs)(KT,{color:"text.secondary",align:"center",sx:{mt:8},children:["Say hello to ",(0,Ve.jsx)("b",{children:"Sade AI"}),", your friendly AI chatbot! \ud83c\udf38",(0,Ve.jsx)("br",{}),"Ask me anything! Search the web for information, or just chat."]}),i.map(((e,t)=>(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"ai"===e.sender?"flex-start":"flex-end",justifyContent:"user"===e.sender?"flex-end":"flex-start",mb:1.5},children:["ai"===e.sender&&(0,Ve.jsx)(zT,{src:"/images/sade-avatar.jpg",alt:"Sade AI Avatar",sx:{width:36,height:36,mr:1.5}}),(0,Ve.jsx)(Je,{sx:{bgcolor:"user"===e.sender?"primary.main":"#f3f6fb",color:"user"===e.sender?"primary.contrastText":"text.primary",borderRadius:"user"===e.sender?"18px 18px 4px 18px":"18px 18px 18px 4px",px:2,py:1.2,maxWidth:"80%",boxShadow:"user"===e.sender?"0 2px 8px 0 rgba(33, 150, 243, 0.10)":"0 2px 8px 0 rgba(31, 38, 135, 0.05)",fontSize:"1.08rem",wordBreak:"break-word",fontFamily:"inherit"},children:e.text})]},t))),c&&!d&&!(null!==p&&void 0!==p&&p.active)&&(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",mb:1.5},children:[(0,Ve.jsx)(zT,{src:"/images/sade-avatar.jpg",alt:"Sade AI Avatar",sx:{width:36,height:36,mr:1.5}}),(0,Ve.jsx)(Je,{sx:{bgcolor:"#f3f6fb",borderRadius:"18px 18px 18px 4px",px:1,py:.5,display:"inline-block"},children:(0,Ve.jsx)(kH,{})})]}),(0,Ve.jsx)("div",{ref:A})]}),!c&&!d&&!(null!==p&&void 0!==p&&p.active)&&i.length<=1&&(0,Ve.jsxs)(Je,{sx:{pt:1,pb:1.5,mb:2,overflow:"hidden"},children:[(0,Ve.jsx)(KT,{variant:"caption",sx:{width:"100%",textAlign:"center",color:"text.secondary",mb:1},children:"Try asking:"}),(0,Ve.jsx)(Je,{sx:{display:"flex",gap:1,flexWrap:"nowrap",overflowX:"auto",justifyContent:"flex-start",px:{xs:2,sm:0},pb:1,"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none","-ms-overflow-style":"none"},children:["Play Connect 4","I'm feeling a bit down today","Can we just talk?","Tell me a fact","What does 'wagwan' mean?","Play 'Would You Rather?'","Feeling a bit lost","Play Guess the Number","Breathing exercise"].map(((e,t)=>(0,Ve.jsx)(GF,{label:e,onClick:()=>{E(e)},clickable:!0,variant:"outlined",color:"primary",size:"small",disabled:c,sx:{fontWeight:500}},t)))})]}),d&&!(null!==p&&void 0!==p&&p.active)&&"guess_the_number"===d.gameType&&(0,Ve.jsxs)(KT,{variant:"caption",sx:{display:"block",textAlign:"center",mb:1,color:"text.secondary"},children:["Guessing between ",d.lowerBound," and ",d.upperBound," (Guess #",d.guessesMade+1,")"]}),P&&j>=0&&(0,Ve.jsxs)(Je,{sx:{p:1,mt:1,border:"1px dashed grey",borderRadius:2,textAlign:"center",bgcolor:"rgba(255,255,255,0.7)"},children:[(0,Ve.jsx)(KT,{variant:"caption",display:"block",sx:{mb:.5,fontWeight:500},children:null===D||void 0===D?void 0:D.text}),(0,Ve.jsx)(SH,{variant:"determinate",value:O,sx:{height:8,borderRadius:4,mb:.5,"& .MuiLinearProgress-bar":{transition:"transform .2s linear"}}}),(0,Ve.jsxs)(KT,{variant:"caption",display:"block",children:[M,"s remaining... (type 'stop' to end)"]})]}),w&&"connect_4"===w.gameType&&!w.gameOver&&(0,Ve.jsx)(Je,{sx:{display:"flex",justifyContent:"center",width:"100%",mb:2},children:(0,Ve.jsx)(TH,{board:w.board})}),(0,Ve.jsxs)(Je,{sx:{display:"flex",gap:1,alignItems:"center",position:{xs:"fixed",sm:"static"},bottom:{xs:64,sm:"auto"},left:0,width:{xs:"100vw",sm:"auto"},maxWidth:{xs:"100vw",sm:"none"},bgcolor:{xs:"rgba(255,255,255,0.95)",sm:"transparent"},p:{xs:2,sm:0},borderTop:{xs:"1px solid #eee",sm:"none"},zIndex:1200},children:[(0,Ve.jsx)(GD,{fullWidth:!0,variant:"outlined",placeholder:null!==p&&void 0!==p&&p.active?"Focus on breathing... (or type 'stop')":d?"Enter your guess...":"Type your message...",value:a,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"===e.key&&a.trim()&&E(a,m)},disabled:c||!(null!==v&&void 0!==v&&v.connected),type:"guess_the_number"===(null===d||void 0===d?void 0:d.gameType)?"number":"text",sx:{bgcolor:"white",borderRadius:2,boxShadow:"0 1px 4px 0 rgba(31,38,135,0.04)"}}),null!==p&&void 0!==p&&p.active?(0,Ve.jsx)(sI,{variant:"contained",color:"secondary",onClick:T,sx:{minWidth:80,fontWeight:600},children:"Stop"}):(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(sI,{variant:"contained",onClick:()=>E(a,!1),disabled:c||!a.trim()||!(null!==v&&void 0!==v&&v.connected),sx:{minWidth:80,fontWeight:600},children:d?"Guess":"Send"}),(0,Ve.jsx)(OE,{color:"primary",onClick:()=>E(a,!0),disabled:c||!a.trim()||!(null!==v&&void 0!==v&&v.connected),sx:{border:"1px solid",borderColor:"primary.main",ml:.5},title:"Search the web for this query",children:(0,Ve.jsx)(CH.A,{})})]}),!d&&!(null!==p&&void 0!==p&&p.active)&&(0,Ve.jsx)(sI,{variant:"outlined",color:"secondary",onClick:()=>{s([]),localStorage.removeItem("sadeai_chat_history"),h(null),f(null)},disabled:c,sx:{minWidth:90,fontWeight:500},children:"Clear Chat"})]})]})})},IH=(0,AT.A)((0,Ve.jsx)("path",{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28m-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18zM4.27 3 3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73z"}),"MicOff"),RH=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),PH=(0,AT.A)((0,Ve.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"}),"VolumeUp"),jH=(0,AT.A)((0,Ve.jsx)("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63m2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71M4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9zM12 4 9.91 6.09 12 8.18z"}),"VolumeOff"),DH=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12m8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8"}),"Block"),NH=(0,AT.A)((0,Ve.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),MH=(0,AT.A)((0,Ve.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),OH=(0,AT.A)((0,Ve.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder"),LH=(0,AT.A)((0,Ve.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),FH=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"}),"Palette"),UH=(0,AT.A)((0,Ve.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),$H=(0,AT.A)((0,Ve.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),zH=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"}),"Mic"),BH=(0,AT.A)((0,Ve.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),VH=(0,AT.A)((0,Ve.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),WH=(0,AT.A)((0,Ve.jsx)("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}),"Instagram"),HH=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"}),"MusicNote"),qH=(0,AT.A)((0,Ve.jsx)("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter"),GH=(0,AT.A)((0,Ve.jsx)("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook"),KH=(0,AT.A)((0,Ve.jsx)("path",{d:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z"}),"WhatsApp"),YH=e=>{var t;let{open:n,onClose:o,onSubmit:i,initialData:s,title:a="Create Room",submitButtonText:l="Create"}=e;const[c,u]=(0,r.useState)({name:(null===s||void 0===s?void 0:s.name)||"",description:(null===s||void 0===s?void 0:s.description)||"",isPrivate:(null===s||void 0===s?void 0:s.isPrivate)||!1,password:(null===s||void 0===s?void 0:s.password)||"",tags:(null===s||void 0===s?void 0:s.tags)||[]}),[d,h]=(0,r.useState)(null);return(0,Ve.jsx)(_z,{open:n,onClose:o,maxWidth:"sm",fullWidth:!0,children:(0,Ve.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i(c,d)},children:[(0,Ve.jsx)(sB,{children:a}),(0,Ve.jsx)(pz,{children:(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:2,pt:1},children:[(0,Ve.jsx)(GD,{label:"Name",value:c.name,onChange:e=>u((t=>({...t,name:e.target.value}))),required:!0,fullWidth:!0}),(0,Ve.jsx)(GD,{label:"Description",value:c.description,onChange:e=>u((t=>({...t,description:e.target.value}))),multiline:!0,rows:3,fullWidth:!0}),(0,Ve.jsx)(nH,{control:(0,Ve.jsx)(LB,{checked:c.isPrivate,onChange:e=>u((t=>({...t,isPrivate:e.target.checked})))}),label:"Private Room"}),c.isPrivate&&(0,Ve.jsx)(GD,{label:"Password",type:"password",value:c.password,onChange:e=>u((t=>({...t,password:e.target.value}))),required:c.isPrivate,fullWidth:!0}),(0,Ve.jsxs)(Je,{sx:{mt:1},children:[(0,Ve.jsxs)(sI,{variant:"outlined",component:"label",fullWidth:!0,children:["Upload Thumbnail",(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]?h(e.target.files[0]):h(null)}})]}),d&&(0,Ve.jsxs)(KT,{variant:"caption",sx:{display:"block",mt:1},children:["Selected: ",d.name]}),!d&&(null===s||void 0===s?void 0:s.thumbnailUrl)&&(0,Ve.jsxs)(KT,{variant:"caption",sx:{display:"block",mt:1},children:["Current: ",s.thumbnailUrl.substring(s.thumbnailUrl.lastIndexOf("/")+1)]})]}),(0,Ve.jsx)(GD,{label:"Tags (comma separated)",value:null===(t=c.tags)||void 0===t?void 0:t.join(", "),onChange:e=>u((t=>({...t,tags:e.target.value.split(",").map((e=>e.trim())).filter(Boolean)}))),fullWidth:!0,helperText:"Enter tags separated by commas"})]})}),(0,Ve.jsxs)(xF,{children:[(0,Ve.jsx)(sI,{onClick:o,children:"Cancel"}),(0,Ve.jsx)(sI,{type:"submit",variant:"contained",color:"primary",children:l})]})]})})},QH=()=>{const[e,t]=(0,r.useState)(!1),[n,o]=(0,r.useState)([]),[i,s]=(0,r.useState)([]),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(null),m=async()=>{await Ek.refreshDevices(),o(Ek.getInputDevices()),s(Ek.getOutputDevices()),l(Ek.getCurrentInputDevice()||""),u(Ek.getCurrentOutputDevice()||"")};(0,r.useEffect)((()=>{m();const e=Ek.onDeviceChange((()=>{m()}));return()=>{e()}}),[]);return(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(FW,{title:"Audio Settings",children:(0,Ve.jsx)(OE,{onClick:()=>t(!0),size:"small",children:(0,Ve.jsx)(wP,{})})}),(0,Ve.jsxs)(_z,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(sB,{children:"Audio Device Settings"}),(0,Ve.jsxs)(pz,{children:[d&&(0,Ve.jsx)(lN,{severity:"error",sx:{mb:2},children:d}),(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Ve.jsxs)(rD,{fullWidth:!0,children:[(0,Ve.jsx)(Xj,{id:"input-device-label",children:(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Ve.jsx)(zH,{fontSize:"small"}),"Microphone"]})}),(0,Ve.jsx)(zD,{labelId:"input-device-label",value:a,onChange:async e=>{const t=e.target.value;f("input"),h(null);try{await Ik.setAudioInput(t)?l(t):(h("Failed to set input device"),l(Ek.getCurrentInputDevice()||""))}catch(d){h("Error changing input device"),l(Ek.getCurrentInputDevice()||"")}finally{f(null)}},label:"Microphone",disabled:"input"===p,children:n.map((e=>(0,Ve.jsx)(oP,{value:e.deviceId,children:e.label},e.deviceId)))})]}),(0,Ve.jsxs)(rD,{fullWidth:!0,children:[(0,Ve.jsx)(Xj,{id:"output-device-label",children:(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Ve.jsx)(PH,{fontSize:"small"}),"Speaker"]})}),(0,Ve.jsx)(zD,{labelId:"output-device-label",value:c,onChange:async e=>{const t=e.target.value;f("output"),h(null);try{await Ik.setAudioOutput(t)?u(t):(h("Failed to set output device"),u(Ek.getCurrentOutputDevice()||""))}catch(d){h("Error changing output device"),u(Ek.getCurrentOutputDevice()||"")}finally{f(null)}},label:"Speaker",disabled:"output"===p,children:i.map((e=>(0,Ve.jsx)(oP,{value:e.deviceId,children:e.label},e.deviceId)))})]}),0===n.length&&0===i.length&&(0,Ve.jsx)(KT,{color:"text.secondary",children:"No audio devices found. Please make sure your devices are connected and you have granted permission to use them."})]})]}),(0,Ve.jsx)(xF,{children:(0,Ve.jsx)(sI,{onClick:()=>t(!1),children:"Close"})})]})]})};var XH=n(4901),JH=n.n(XH),ZH=n(949),eq=n.n(ZH),tq=n(403),nq=n.n(tq),rq=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(rq||{}),oq={rel:["amphtml","canonical","alternate"]},iq={type:["application/ld+json"]},sq={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},aq=Object.values(rq),lq={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},cq=Object.entries(lq).reduce(((e,t)=>{let[n,r]=t;return e[r]=n,e}),{}),uq="data-rh",dq="defaultTitle",hq="defer",pq="encodeSpecialCharacters",fq="onChangeClientState",mq="titleTemplate",gq="prioritizeSeoTags",vq=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},yq=e=>{let t=vq(e,"title");const n=vq(e,mq);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,(()=>t));const r=vq(e,dq);return t||r||void 0},bq=e=>vq(e,fq)||(()=>{}),wq=(e,t)=>t.filter((t=>"undefined"!==typeof t[e])).map((t=>t[e])).reduce(((e,t)=>({...e,...t})),{}),xq=(e,t)=>t.filter((e=>"undefined"!==typeof e.base)).map((e=>e.base)).reverse().reduce(((t,n)=>{if(!t.length){const r=Object.keys(n);for(let o=0;o<r.length;o+=1){const i=r[o].toLowerCase();if(-1!==e.indexOf(i)&&n[i])return t.concat(n)}}return t}),[]),Aq=(e,t,n)=>{const r={};return n.filter((t=>{return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&(n=`Helmet: ${e} should be of type "Array". Instead found type "${typeof t[e]}"`,console&&"function"===typeof console.warn&&console.warn(n)),!1);var n})).map((t=>t[e])).reverse().reduce(((e,n)=>{const o={};n.filter((e=>{let n;const i=Object.keys(e);for(let r=0;r<i.length;r+=1){const o=i[r],s=o.toLowerCase();-1===t.indexOf(s)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===s&&"stylesheet"===e[s].toLowerCase()||(n=s),-1===t.indexOf(o)||"innerHTML"!==o&&"cssText"!==o&&"itemprop"!==o||(n=o)}if(!n||!e[n])return!1;const s=e[n].toLowerCase();return r[n]||(r[n]={}),o[n]||(o[n]={}),!r[n][s]&&(o[n][s]=!0,!0)})).reverse().forEach((t=>e.push(t)));const i=Object.keys(o);for(let t=0;t<i.length;t+=1){const e=i[t],n={...r[e],...o[e]};r[e]=n}return e}),[]).reverse()},_q=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1){if(e[n][t])return!0}return!1},Sq=e=>Array.isArray(e)?e.join(""):e,Cq=(e,t)=>Array.isArray(e)?e.reduce(((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e)),{priority:[],default:[]}):{default:e,priority:[]},kq=(e,t)=>({...e,[t]:void 0}),Tq=["noscript","script","style"],Eq=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Iq=e=>Object.keys(e).reduce(((t,n)=>{const r="undefined"!==typeof e[n]?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r}),""),Rq=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(((t,n)=>(t[lq[n]||n]=e[n],t)),t)},Pq=(e,t)=>t.map(((t,n)=>{const o={key:n,[uq]:!0};return Object.keys(t).forEach((e=>{const n=lq[e]||e;if("innerHTML"===n||"cssText"===n){const e=t.innerHTML||t.cssText;o.dangerouslySetInnerHTML={__html:e}}else o[n]=t[e]})),r.createElement(e,o)})),jq=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(e){case"title":return{toComponent:()=>((e,t,n)=>{const o=Rq(n,{key:t,[uq]:!0});return[r.createElement("title",o,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,n,r)=>{const o=Iq(n),i=Sq(t);return o?`<${e} ${uq}="true" ${o}>${Eq(i,r)}</${e}>`:`<${e} ${uq}="true">${Eq(i,r)}</${e}>`})(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Rq(t),toString:()=>Iq(t)};default:return{toComponent:()=>Pq(e,t),toString:()=>function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.reduce(((t,r)=>{const o=r,i=Object.keys(o).filter((e=>!("innerHTML"===e||"cssText"===e))).reduce(((e,t)=>{const r="undefined"===typeof o[t]?t:`${t}="${Eq(o[t],n)}"`;return e?`${e} ${r}`:r}),""),s=o.innerHTML||o.cssText||"",a=-1===Tq.indexOf(e);return`${t}<${e} ${uq}="true" ${i}${a?"/>":`>${s}</${e}>`}`}),"")}(e,t,n)}}},Dq=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:o,noscriptTags:i,styleTags:s,title:a="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:u,metaTags:d,scriptTags:h}=e,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:u,metaTags:d,scriptTags:h}=(e=>{let{metaTags:t,linkTags:n,scriptTags:r,encode:o}=e;const i=Cq(t,sq),s=Cq(n,oq),a=Cq(r,iq);return{priorityMethods:{toComponent:()=>[...Pq("meta",i.priority),...Pq("link",s.priority),...Pq("script",a.priority)],toString:()=>`${jq("meta",i.priority,o)} ${jq("link",s.priority,o)} ${jq("script",a.priority,o)}`},metaTags:i.default,linkTags:s.default,scriptTags:a.default}})(e)),{priority:p,base:jq("base",t,r),bodyAttributes:jq("bodyAttributes",n,r),htmlAttributes:jq("htmlAttributes",o,r),link:jq("link",u,r),meta:jq("meta",d,r),noscript:jq("noscript",i,r),script:jq("script",h,r),style:jq("style",s,r),title:jq("title",{title:a,titleAttributes:l},r)}},Nq=[],Mq=!("undefined"===typeof window||!window.document||!window.document.createElement),Oq=class{instances=[];canUseDOM=(()=>Mq)();context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Nq:this.instances,add:e=>{(this.canUseDOM?Nq:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Nq:this.instances).indexOf(e);(this.canUseDOM?Nq:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Dq({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Lq=r.createContext({}),Fq=class e extends r.Component{static canUseDOM=(()=>Mq)();helmetData;constructor(t){super(t),this.helmetData=new Oq(this.props.context||{},e.canUseDOM)}render(){return r.createElement(Lq.Provider,{value:this.helmetData.value},this.props.children)}},Uq=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${uq}]`),o=[].slice.call(r),i=[];let s;return t&&t.length&&t.forEach((t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const r=e,o="undefined"===typeof t[r]?"":t[r];n.setAttribute(e,o)}n.setAttribute(uq,"true"),o.some(((e,t)=>(s=t,n.isEqualNode(e))))?o.splice(s,1):i.push(n)})),o.forEach((e=>e.parentNode?.removeChild(e))),i.forEach((e=>n.appendChild(e))),{oldTags:o,newTags:i}},$q=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(uq),o=r?r.split(","):[],i=[...o],s=Object.keys(t);for(const a of s){const e=t[a]||"";n.getAttribute(a)!==e&&n.setAttribute(a,e),-1===o.indexOf(a)&&o.push(a);const r=i.indexOf(a);-1!==r&&i.splice(r,1)}for(let a=i.length-1;a>=0;a-=1)n.removeAttribute(i[a]);o.length===i.length?n.removeAttribute(uq):n.getAttribute(uq)!==s.join(",")&&n.setAttribute(uq,s.join(","))},zq=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:o,linkTags:i,metaTags:s,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:u,title:d,titleAttributes:h}=e;$q("body",r),$q("html",o),((e,t)=>{"undefined"!==typeof e&&document.title!==e&&(document.title=Sq(e)),$q("title",t)})(d,h);const p={baseTag:Uq("base",n),linkTags:Uq("link",i),metaTags:Uq("meta",s),noscriptTags:Uq("noscript",a),scriptTags:Uq("script",c),styleTags:Uq("style",u)},f={},m={};Object.keys(p).forEach((e=>{const{newTags:t,oldTags:n}=p[e];t.length&&(f[e]=t),n.length&&(m[e]=p[e].oldTags)})),t&&t(),l(e,f,m)},Bq=null,Vq=e=>{Bq&&cancelAnimationFrame(Bq),e.defer?Bq=requestAnimationFrame((()=>{zq(e,(()=>{Bq=null}))})):(zq(e),Bq=null)},Wq=class extends r.Component{rendered=!1;shouldComponentUpdate(e){return!nq()(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const r=(o=e.get().map((e=>{const t={...e.props};return delete t.context,t})),{baseTag:xq(["href"],o),bodyAttributes:wq("bodyAttributes",o),defer:vq(o,hq),encode:vq(o,pq),htmlAttributes:wq("htmlAttributes",o),linkTags:Aq("link",["rel","href"],o),metaTags:Aq("meta",["name","charset","http-equiv","property","itemprop"],o),noscriptTags:Aq("noscript",["innerHTML"],o),onChangeClientState:bq(o),scriptTags:Aq("script",["src","innerHTML"],o),styleTags:Aq("style",["cssText"],o),title:yq(o),titleAttributes:wq("titleAttributes",o),prioritizeSeoTags:_q(o,gq)});var o;Fq.canUseDOM?Vq(r):Dq&&(n=Dq(r)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Hq=class extends r.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!JH()(kq(this.props,"helmetData"),kq(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach((t=>{n={...n,[t]:e[t]}})),n}warnOnInvalidChildren(e,t){return eq()(aq.some((t=>e.type===t)),"function"===typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${aq.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),eq()(!t||"string"===typeof t||Array.isArray(t)&&!t.some((e=>"string"!==typeof e)),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return r.Children.forEach(e,(e=>{if(!e||!e.props)return;const{children:r,...o}=e.props,i=Object.keys(o).reduce(((e,t)=>(e[cq[t]||t]=o[t],e)),{});let{type:s}=e;switch("symbol"===typeof s?s=s.toString():this.warnOnInvalidChildren(e,r),s){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(e,n,i,r);break;default:t=this.mapObjectTypeChildren(e,t,i,r)}})),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:o}=t;if(e&&(n=this.mapChildrenToProps(e,n)),o&&!(o instanceof Oq)){o=new Oq(o.context,!0),delete n.helmetData}return o?r.createElement(Wq,{...n,context:o.value}):r.createElement(Lq.Consumer,null,(e=>r.createElement(Wq,{...n,context:e})))}},qq=n(1397);const Gq=[{name:"Classic Light",headerColor:"#F5F5F5",backgroundColor:"#FFFFFF",textColor:"#212121",accentColor:"#1976D2",headerGradient:!1,backgroundGradient:!1},{name:"Classic Dark",headerColor:"#303030",backgroundColor:"#212121",textColor:"#E0E0E0",accentColor:"#90CAF9",headerGradient:!1,backgroundGradient:!1},{name:"Midnight Bloom",headerColor:"#4A00E0",backgroundColor:"#1E1E2F",textColor:"#EAEAEA",accentColor:"#8E2DE2",headerGradient:!0,backgroundGradient:!0},{name:"Sunset Vibes",headerColor:"#FF8C00",backgroundColor:"#FFF3E0",textColor:"#4E342E",accentColor:"#FF5722",headerGradient:!0,backgroundGradient:!1},{name:"Oceanic Calm",headerColor:"#0077B6",backgroundColor:"#E0F7FA",textColor:"#01579B",accentColor:"#00B4D8",headerGradient:!1,backgroundGradient:!1}],Kq=["Arial","Verdana","Georgia","Times New Roman","Courier New","Roboto","Open Sans","Lato","Montserrat"],Yq=[12,14,16,18,20,24,28,32],Qq=()=>{var e,t,n,o,i,s,a,l,c,u;const{roomId:d}=ee(),{currentUser:h}=jk(),p=Z(),f=LI();(0,r.useEffect)((()=>{Ik.setNavigate(p)}),[p]);const[m,g]=(0,r.useState)(null),[v,y]=(0,r.useState)(!0),[b,w]=(0,r.useState)(null),[x,A]=(0,r.useState)(!1),[_,S]=(0,r.useState)(!1),[C,k]=(0,r.useState)(""),[T,E]=(0,r.useState)(!1),[I,R]=(0,r.useState)(!1),[P,j]=(0,r.useState)(!1),[D,N]=(0,r.useState)(!1),[M,O]=(0,r.useState)(null),[L,F]=(0,r.useState)([]),[U,$]=(0,r.useState)(!0),[z,B]=(0,r.useState)(!1),[V,W]=(0,r.useState)(!1),[H,q]=(0,r.useState)(new Set),[G,K]=(0,r.useState)(null),[Y,Q]=((0,r.useRef)(null),(0,r.useState)(0)),[X,J]=(0,r.useState)(!1),[te,ne]=(0,r.useState)(null),re=(0,r.useRef)(null),[oe,ie]=(0,r.useState)(!1),[se,ae]=(0,r.useState)(""),[le,ce]=(0,r.useState)(null),[ue,de]=(0,r.useState)(""),[he,pe]=(0,r.useState)([]),[fe,me]=(0,r.useState)(!1),[ge,ve]=(0,r.useState)(null),[ye,be]=(0,r.useState)(!1),we=(0,r.useRef)(null),[xe,Ae]=(0,r.useState)(!1),[_e,Se]=(0,r.useState)([]),[Ce,ke]=(0,r.useState)(""),[Te,Ee]=(0,r.useState)(!1),Re=(0,r.useRef)(null),[Pe,je]=(0,r.useState)(!1),[De,Ne]=(0,r.useState)(Gq[0].name),[Me,Oe]=(0,r.useState)(!1),[Le,Fe]=(0,r.useState)(!1),[Ue,$e]=(0,r.useState)(Kq[0]),[ze,Be]=(0,r.useState)(Yq[2]),We=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(P)if(null!==m&&void 0!==m&&m.style){const e=m.style,t=Gq.find((t=>t.name===e.themeName));Ne(t?e.themeName:Gq[0].name);const n=t||Gq[0];Oe(void 0!==e.headerGradient?e.headerGradient:n.headerGradient||!1),Fe(void 0!==e.backgroundGradient?e.backgroundGradient:n.backgroundGradient||!1),$e(Kq.includes(e.font)?e.font:Kq[0]),Be(Yq.includes(e.headerFontSize)?e.headerFontSize:Yq[2])}else Ne(Gq[0].name),Oe(Gq[0].headerGradient||!1),Fe(Gq[0].backgroundGradient||!1),$e(Kq[0]),Be(Yq[2])}),[P,m]),console.log("[SideRoomComponent Debug] Checking owner:"),console.log("  Current User UID:",null===h||void 0===h?void 0:h.uid),console.log("  Room Owner ID:",null===m||void 0===m?void 0:m.ownerId),console.log("  Room Data:",m);const He=(0,r.useMemo)((()=>{const e=null===h||void 0===h?void 0:h.uid,t=null===m||void 0===m?void 0:m.ownerId;return!!e&&!!t&&e===t}),[null===m||void 0===m?void 0:m.ownerId,null===h||void 0===h?void 0:h.uid]),qe=(0,r.useMemo)((()=>{var e;return m&&null!==h&&void 0!==h&&h.uid&&(null===(e=m.viewers)||void 0===e?void 0:e.some((e=>e.userId===h.uid&&"guest"===e.role)))||!1}),[m,null===h||void 0===h?void 0:h.uid]),Ge=(0,r.useMemo)((()=>{var e;return!(null===m||void 0===m||null===(e=m.viewers)||void 0===e||!e.some((e=>e.userId===(null===h||void 0===h?void 0:h.uid))))}),[null===m||void 0===m?void 0:m.viewers,null===h||void 0===h?void 0:h.uid]),Ke=He||Ge,Ye=(0,r.useMemo)((()=>{console.log("[onlineParticipants Memo] Raw presence state:",L);const e=new Map;L.forEach((t=>{t.isOnline&&!e.has(t.userId)&&e.set(t.userId,t)}));const t=Array.from(e.values());return console.log("[onlineParticipants Memo] Filtered participants:",t),t}),[L]),Qe=(0,r.useMemo)((()=>{if(!m||!m.viewers||!Array.isArray(m.viewers))return void console.log("[SideRoomComponent Debug] ownerData: room or room.viewers not available or not an array.");console.log("[SideRoomComponent Debug] Inspecting room.viewers:",JSON.stringify(m.viewers,null,2));const e=m.viewers.find((e=>(console.log(`[SideRoomComponent Debug] Checking viewer: userId=${e.userId}, role=${e.role}, displayName="${e.displayName}", username="${e.username}"`),"owner"===e.role)));if(e){console.log("[SideRoomComponent Debug] Owner found in room.viewers:",JSON.stringify(e,null,2));const t=e.displayName;"string"===typeof t&&""!==t.trim()?console.log(`[SideRoomComponent Debug] Owner displayName is valid: "${t}"`):console.warn("[SideRoomComponent Debug] Owner found, but displayName is missing, empty, or not a string. DisplayName value:",t),"string"===typeof e.username&&""!==e.username.trim()?console.log(`[SideRoomComponent Debug] Owner username is valid: "${e.username}"`):console.warn("[SideRoomComponent Debug] Owner found, but username is missing, empty, or not a string. Username value:",e.username)}else console.log('[SideRoomComponent Debug] No member with role "owner" found in room.viewers.');return e}),[m]),Xe=(0,r.useCallback)((async()=>{if(d&&null!==h&&void 0!==h&&h.uid&&!x){A(!0);try{if(!await Ik.connectToReceiveAudio(d,h.uid))throw new Error("Failed to connect to room audio for listening.");await Ik.activateMicrophone(d,h.uid)?(B(!0),$(Ik.isMicrophoneMuted()),aS.success("Microphone activated!")):(aS.error("Could not activate microphone, but you can still listen."),B(!1))}catch(b){console.error("Error joining audio/activating mic:",b),aS.error("Failed to connect audio."),B(!1)}finally{A(!1)}}}),[d,null===h||void 0===h?void 0:h.uid,x]),Ze=(0,r.useCallback)((()=>{d&&null!==h&&void 0!==h&&h.uid&&(Ik.deactivateMicrophone(d,h.uid),B(!1),$(!0),aS.success("Microphone deactivated."))}),[d,null===h||void 0===h?void 0:h.uid]),et=(0,r.useCallback)((()=>{const e=!U;if($(e),Ik.setMuted(e),d&&null!==h&&void 0!==h&&h.uid){wv(ng(D_,"sideRooms",d,"presence",h.uid),{isMuted:e}).catch(console.error)}}),[d,null===h||void 0===h?void 0:h.uid,U]),tt=((0,r.useCallback)((()=>{if(!d||null===h||void 0===h||!h.uid)return;console.log(`[Room ${d}] User ${h.uid} triggering sound effect.`);Ik.triggerSoundEffect(d,"/assets/sounds/simple-beep.mp3")}),[d,null===h||void 0===h?void 0:h.uid]),()=>{ie(!0)}),nt=()=>{ie(!1),ae("")},rt=()=>{d?se.trim()?se.startsWith("http://")||se.startsWith("https://")?(Ik.shareVideo(d,se),ce(se),aS.success("Video shared!"),nt()):aS.error("Invalid URL format."):aS.error("Please enter a video URL."):aS.error("Cannot share video: Room ID is missing.")},ot=()=>{d?He?(Ik.shareVideo(d,""),ce(null),aS.success("Shared video cleared.")):aS.error("Only the room owner can clear the video."):aS.error("Cannot clear video: Room ID is missing.")};(0,r.useEffect)((()=>{const e=d,t=null===h||void 0===h?void 0:h.uid;return e&&t&&Ik.connectToReceiveAudio(e,t).then((t=>{t?console.log(`[SideRoomComponent] Successfully connected to receive audio for room ${e}`):console.error(`[SideRoomComponent] Failed to connect to receive audio for room ${e}`)})),()=>{console.log(`[SideRoomComponent] Unmounting room ${e} for user ${t}. Attempting audio cleanup.`),e&&t&&Ik.disconnectFromRoom(e,t)}}),[d,null===h||void 0===h?void 0:h.uid]),(0,r.useEffect)((()=>{if(!d||!h)return;const e=_v(ng(D_,"sideRooms",d),(e=>{if(e.exists()){const t={id:e.id,...e.data()};g(t),Q(t.heartCount||0),y(!1)}else console.warn(`[SideRoomComponent - Room Listener] Room document for roomId '${d}' reported as non-existent. Current error: '${b}'. Setting room state to null.`),w("Room not found"),g(null),y(!1)}));let t;if(null!==h&&void 0!==h&&h.uid){const e=ng(D_,"sideRooms",d,"heartedBy",h.uid);t=_v(e,(e=>{J(e.exists())}))}const n=_v(qg(tg(D_,"sideRooms",d,"heartedBy"),Xg("timestamp","desc"),Zg(1)),(e=>{e.docChanges().forEach((e=>{if("added"===e.type){const t=e.doc.data();t.userId!==(null===h||void 0===h?void 0:h.uid)&&t.username&&(ne(`${t.username} hearted the room!`),re.current&&clearTimeout(re.current),re.current=setTimeout((()=>{ne(null)}),3e3))}}))}));return()=>{e(),t&&t(),n(),re.current&&clearTimeout(re.current)}}),[d,h]),(0,r.useEffect)((()=>{if(console.log(`[Presence Listener Check] roomId: ${d}, hasRoomAccess: ${Ke}, currentUser?.uid: ${null===h||void 0===h?void 0:h.uid}, room exists: ${!!m}`),!d||!Ke||null===h||void 0===h||!h.uid||!m)return console.warn(`[Presence Listener] Condition met to clear presence:\n                - roomId: ${d} (truthy: ${!!d})\n                - hasRoomAccess: ${Ke} (truthy: ${!!Ke})\n                - currentUser?.uid: ${null===h||void 0===h?void 0:h.uid} (truthy: ${!(null===h||void 0===h||!h.uid)})\n                - room: ${m} (truthy: ${!!m})\n                Clearing presence now.`),void F([]);console.log(`[Presence Listener] Setting up for room ${d}, user ${h.uid}`);const e=h.uid,t=_v(qg(tg(D_,"sideRooms",d,"presence"),Kg("isOnline","==",!0)),(e=>{const t=e.docs.map((e=>({userId:e.id,...e.data()})));We.current&&(clearTimeout(We.current),We.current=null),t.length>0?(console.log("[Presence Listener] Received presence snapshot (updating). Number of online users from Firestore:",t.length,t),F(t)):(console.log("[Presence Listener] Received presence snapshot (empty). Number of online users from Firestore:",t.length,t),L.length>0?(console.log("[Presence Listener] Current presence not empty, scheduling clear."),We.current=setTimeout((()=>{console.log("[Presence Listener] Timeout fired. Clearing presence."),F([])}),150)):(console.log("[Presence Listener] Current presence already empty, setting to empty."),F([])))}),(e=>{console.error("[Presence Listener] CRITICAL: Snapshot error while listening to presence:",e),aS.error("Error listening to room presence. See console for details.")}));(async()=>{try{var t,n;const r=ng(D_,"users",e),o=await gv(r);let i="",s="",a=(null===(t=h.email)||void 0===t?void 0:t.split("@")[0])||`user_${e.substring(0,4)}`;if(o.exists()){const t=o.data();i=t.name||t.username||"",s=t.profilePic||"",a=t.username||a,console.log(`[Presence Listener Profile Fetch] Fetched profile for ${e}: Name='${i}', Pic='${s}', Username='${a}'`)}else console.warn(`[Presence Listener Profile Fetch] Firestore profile missing for ${e}. Using fallbacks.`),i=h.displayName||"",s=h.photoURL||"";let l="viewer";He?l="owner":m&&null!==(n=m.viewers)&&void 0!==n&&n.some((t=>t.userId===e&&"guest"===t.role))&&(l="guest");const c=ng(D_,"sideRooms",d,"presence",e),u={userId:e,username:a,avatar:s,lastSeen:Date.now(),isOnline:!0,role:l,displayName:i,photoURL:s};console.log("[Presence Listener Debug] Data being written to presence:",u),await bv(c,u,{merge:!0}),console.log(`[Presence Listener] Presence updated via fetch for ${e}`)}catch(r){console.error(`[Presence Listener] Error fetching profile or writing presence for ${e}:`,r)}})();return()=>{console.log(`[Presence Listener] Cleanup running for user ${e} in room ${d}.`),t(),We.current&&clearTimeout(We.current);wv(ng(D_,"sideRooms",d,"presence",e),{isOnline:!1,lastSeen:Pv()}).catch((t=>{"not-found"!==t.code&&console.error(`[Presence Listener] Error setting user offline for ${e}:`,t)}))}}),[d,Ke,null===h||void 0===h?void 0:h.uid,He,m]),(0,r.useEffect)((()=>{const e=(e,t)=>{q((n=>{const r=new Set(n);return t&&!Ik.isMicrophoneMuted()?r.add(e):r.delete(e),r}))};return Ik.onAudioLevel(e),()=>{Ik.removeAudioLevelCallback(e)}}),[]);const it=(0,r.useCallback)((e=>{console.log(`[SideRoomComponent] handleRemoteUserLeft called for: ${e}`),F((t=>{const n=t.filter((t=>t.userId!==e));return console.log(`[SideRoomComponent] Presence updated after user left. Old count: ${t.length}, New count: ${n.length}`),n}))}),[]);(0,r.useEffect)((()=>{console.log("[SideRoomComponent] Registering audioService.onUserLeft handler.");const e=Ik.onUserLeft(it);return()=>{console.log("[SideRoomComponent] Cleaning up onUserLeft handler registration."),e()}}),[it]),(0,r.useEffect)((()=>{if(!d)return;const e=Ik.onVideoShared((e=>{console.log(`[SideRoomComponent] Received shared video URL: ${e}`),ce(e)})),t=Ik.onVideoShareFailed((e=>{aS.error(`Video share failed: ${e}`)}));return()=>{e(),t()}}),[d]),(0,r.useEffect)((()=>{m&&m.currentSharedVideoUrl?ce(m.currentSharedVideoUrl):m&&!m.currentSharedVideoUrl&&ce(null)}),[m]),(0,r.useEffect)((()=>{const e=Ik.onInviteSuccess((e=>{aS.success(e.message),be(!1),de(""),R(!1)})),t=Ik.onInviteFailed((e=>{aS.error(e.reason),be(!1)})),n=Ik.onGuestJoined((e=>{console.log("Guest joined event received in component:",e),aS.success(`${e.guest.displayName||e.guest.username} joined as a guest!`)}));return()=>{e(),t(),n()}}),[]),(0,r.useEffect)((()=>{const e=Ik.onUserSearchResultsForInvite((e=>{console.log("[SideRoomComponent] Received search results in component:",e),e.error?(aS.error(e.error),pe([])):pe(e.users)}));return()=>e()}),[]);const st=(0,r.useCallback)((0,qq.debounce)((e=>{e.trim().length>=2&&(console.log(`[SideRoomComponent] Debounced search executing for: "${e.trim()}"`),Ik.searchUsersForInvite(e.trim()))}),300),[]),at=e=>{var t,n;let{participant:o}=e;const i=H.has(o.userId),s=o.isMuted,a=o.userId===(null===h||void 0===h?void 0:h.uid),[l,c]=(0,r.useState)(null),u=Boolean(l),d=()=>{c(null)};return console.log("[ParticipantGridItem] Rendering:",o),(0,Ve.jsx)(xN,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,Ve.jsxs)(Je,{sx:{position:"relative"},children:[(0,Ve.jsx)(Ie,{to:`/profile/${o.userId}`,style:{textDecoration:"none",color:"inherit"},onClick:e=>{a&&e.preventDefault()},children:(0,Ve.jsxs)(uT,{sx:{p:1,pt:He&&!a?4:1,textAlign:"center",position:"relative",bgcolor:i?"primary.light":"background.paper",transition:"all 0.3s ease-in-out",border:i&&!s?"2px solid":"none",borderColor:"primary.main","&:hover":{boxShadow:3,cursor:a?"default":"pointer"}},children:[(0,Ve.jsxs)(Je,{sx:{position:"relative"},children:[(0,Ve.jsx)(zT,{src:o.avatar,alt:o.displayName||o.username,sx:{width:60,height:60,margin:"auto",mb:1,border:i&&!s?"2px solid":"none",borderColor:"primary.main"},children:(null===(t=o.displayName)||void 0===t?void 0:t[0])||(null===(n=o.username)||void 0===n?void 0:n[0])}),i&&!s&&(0,Ve.jsx)(Je,{sx:{position:"absolute",bottom:8,right:-4,width:16,height:16,borderRadius:"50%",bgcolor:"success.main",border:"2px solid",borderColor:"background.paper"}})]}),(0,Ve.jsx)(KT,{variant:"caption",display:"block",noWrap:!0,children:o.displayName||o.username}),s&&(0,Ve.jsx)(IH,{fontSize:"small",color:"error",sx:{position:"absolute",bottom:4,right:4}}),"owner"===o.role&&(0,Ve.jsx)(GF,{label:"Host",size:"small",color:"primary",sx:{position:"absolute",top:4,left:4}}),"guest"===o.role&&(0,Ve.jsx)(GF,{label:"Guest",size:"small",color:"secondary",sx:{position:"absolute",top:4,left:4}})]})}),He&&!a&&(0,Ve.jsx)(FW,{title:"Manage User",children:(0,Ve.jsx)(OE,{"aria-label":"manage user","aria-controls":u?"manage-user-menu":void 0,"aria-haspopup":"true","aria-expanded":u?"true":void 0,onClick:e=>{c(e.currentTarget)},size:"small",sx:{position:"absolute",top:2,right:2,zIndex:2,backgroundColor:"rgba(255, 255, 255, 0.7)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.9)"}},children:(0,Ve.jsx)(RH,{fontSize:"small"})})}),(0,Ve.jsxs)(qR,{id:"manage-user-menu",anchorEl:l,open:u,onClose:d,MenuListProps:{"aria-labelledby":"manage-user-button"},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,Ve.jsxs)(oP,{onClick:()=>{gt(o.userId,!!s),d()},children:[(0,Ve.jsx)(lP,{children:s?(0,Ve.jsx)(PH,{fontSize:"small"}):(0,Ve.jsx)(jH,{fontSize:"small"})}),s?"Unmute User":"Mute User"]}),(0,Ve.jsxs)(oP,{onClick:()=>{vt(o.userId,o.username||o.displayName),d()},sx:{color:"warning.dark"},children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(dB,{fontSize:"small",color:"warning"})}),"Remove User"]}),(0,Ve.jsxs)(oP,{onClick:()=>{yt(o.userId,o.username||o.displayName),d()},sx:{color:"error.main"},children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DH,{fontSize:"small",color:"error"})}),"Ban User"]})]})]})})},lt=(0,r.useCallback)((()=>{N(!0)}),[]),ct=(0,r.useCallback)((e=>{O(e.currentTarget)}),[]),ut=(0,r.useCallback)((()=>{O(null)}),[]),dt=(0,r.useCallback)((()=>{E(!0),ut()}),[ut]),ht=(0,r.useCallback)((()=>{j(!0),ut()}),[ut]),pt=(0,r.useCallback)((()=>{R(!0),de(""),ve(null),pe([]),me(!1),ut()}),[ut]),ft=(0,r.useCallback)((async()=>{null!==h&&void 0!==h&&h.uid&&d&&(ge&&ge.username?(be(!0),Ik.inviteUserToRoom(d,h.uid,ge.username)):aS.error("Please search and select a user to invite."))}),[null===h||void 0===h?void 0:h.uid,d,ge,be]),mt=(0,r.useCallback)((async()=>{if(d&&He&&(ut(),window.confirm("Are you sure you want to delete this room? This cannot be undone."))){A(!0);try{const e=ng(D_,"sideRooms",d);await wv(e,{deleted:!0,deletedAt:Pv()}),aS.success("Room deleted successfully"),p("/side-rooms")}catch(b){console.error("Error deleting room:",b),aS.error("Failed to delete room"),A(!1)}}}),[d,He,p]),gt=(0,r.useCallback)((async(e,t)=>{if(!He||!d||e===(null===h||void 0===h?void 0:h.uid))return;console.log(`Owner toggling mute for ${e}. Currently muted: ${t}`);const n=!t,r=ng(D_,"sideRooms",d,"presence",e);try{await wv(r,{isMuted:n}),n?Ik.sendForceMute(d,e):Ik.sendForceUnmute(d,e),aS.success(`User ${n?"muted":"unmuted"}.`)}catch(b){console.error(`Error toggling mute for ${e}:`,b),aS.error("Failed to update mute status.")}}),[He,d,null===h||void 0===h?void 0:h.uid,D_]),vt=(0,r.useCallback)(((e,t)=>{if(!He||!d||e===(null===h||void 0===h?void 0:h.uid))return;const n=t||"this user";window.confirm(`Are you sure you want to remove ${n} from the room?`)&&(console.log(`Owner removing user ${e} from room ${d}`),Ik.sendForceRemove(d,e),aS.success(`Removing ${n}...`))}),[He,d,null===h||void 0===h?void 0:h.uid]),yt=(0,r.useCallback)(((e,t)=>{if(!He||!d||e===(null===h||void 0===h?void 0:h.uid))return;const n=t||"this user";window.confirm(`Are you sure you want to BAN ${n} from the room? They will be removed and unable to rejoin.`)&&(console.log(`Owner banning user ${e} from room ${d}`),Ik.sendForceBan(d,e),aS.success(`Banning ${n}...`))}),[He,d,null===h||void 0===h?void 0:h.uid]),bt=()=>{setTimeout((()=>{var e;null===(e=Re.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})}),100)};(0,r.useEffect)((()=>{xe&&bt()}),[_e,xe]),(0,r.useEffect)((()=>{const e=localStorage.getItem("sideroom_sade_chat_history");if(e)try{const t=JSON.parse(e);Array.isArray(t)&&t.every((e=>"object"===typeof e&&null!==e&&"sender"in e&&"text"in e))?Se(t):(console.warn("[SideRoomComponent - SadeAI History] Invalid data found in localStorage."),localStorage.removeItem("sideroom_sade_chat_history"))}catch(b){console.error("[SideRoomComponent - SadeAI History] Error parsing saved history:",b),localStorage.removeItem("sideroom_sade_chat_history")}}),[]),(0,r.useEffect)((()=>{(_e.length>0||localStorage.getItem("sideroom_sade_chat_history"))&&localStorage.setItem("sideroom_sade_chat_history",JSON.stringify(_e))}),[_e]);const wt=async function(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce).trim();if(!t)return;const n={sender:"user",text:t};Se((e=>[...e,n])),ke(""),Ee(!0);try{console.log("[SideRoomComponent - SadeAI] Sending message to backend.");const n="https://sideeye-backend-production.up.railway.app";if(!n)return console.error("[SideRoomComponent - SadeAI] ERROR: REACT_APP_API_URL is not defined."),Se((e=>[...e,{sender:"ai",text:"Configuration error: Backend URL not set."}])),void Ee(!1);const r=`${n}/api/sade-ai`;if(null===h||void 0===h||!h.uid)return console.error("[SideRoomComponent - SadeAI] ERROR: User ID not available."),Se((e=>[...e,{sender:"ai",text:"Error: Could not identify user."}])),void Ee(!1);const o={message:t,forceSearch:e,userId:h.uid};console.log("[SideRoomComponent - SadeAI] Sending HTTP request body:",o);const i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)},s=await fetch(r,i);if(!s.ok){let e=`HTTP error! status: ${s.status}`;try{e=(await s.json()).error||e}catch(L_){}throw new Error(e)}const a=await s.json();console.log("[SideRoomComponent - SadeAI] HTTP Backend response data:",a),a.response?Se((e=>[...e,{sender:"ai",text:a.response}])):a.error?(console.error("[SideRoomComponent - SadeAI] Backend returned error:",a.error),Se((e=>[...e,{sender:"ai",text:`Sorry, there was an error: ${a.error}`}]))):(console.error("[SideRoomComponent - SadeAI] Received unexpected HTTP response structure:",a),Se((e=>[...e,{sender:"ai",text:"Sorry, I got a bit confused there."}])))}catch(gJ){console.error("[SideRoomComponent - SadeAI] sendMessage Error:",gJ),Se((t=>[...t,{sender:"ai",text:`Sorry, there was an error: ${gJ.message||"Unknown error"}`}]))}finally{Ee(!1),bt()}},xt=e=>{const t=(e=>{let t=null;return(e=e.trim()).includes("youtube.com/watch?v=")?t=new URL(e).searchParams.get("v"):e.includes("youtu.be/")&&(t=e.substring(e.lastIndexOf("/")+1).split("?")[0]),t?`https://www.youtube.com/embed/${t}?autoplay=1&rel=0`:e.includes("tiktok.com/")||e.includes("instagram.com/reel/")?null:e.match(/\.(mp4|webm|ogg)$/i)?e:(aS.error("Unsupported video URL or format. Try a YouTube link."),null)})(e);return t?t.startsWith("https://www.youtube.com/embed/")?(0,Ve.jsx)("iframe",{src:t,title:"Shared Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):(0,Ve.jsx)(KT,{sx:{p:2,textAlign:"center"},children:"Video format not directly embeddable. Try a YouTube link."}):e.match(/\.(mp4|webm|ogg)$/i)?(0,Ve.jsx)("video",{src:e,controls:!0,autoPlay:!0,style:{width:"100%",height:"100%",objectFit:"contain"},onError:()=>aS.error("Failed to load video.")}):(0,Ve.jsx)(KT,{sx:{p:2,textAlign:"center"},children:"Unsupported video link or error loading video."})},At=async()=>{if(!h||!h.uid||!d||!m)return;const e=ng(D_,"sideRooms",d,"heartedBy",h.uid),t=ng(D_,"sideRooms",d);try{await Rv(D_,(async n=>{var r;const o=await n.get(e);if(!(await n.get(t)).exists())throw"Room does not exist!";const i=await gv(ng(D_,"users",h.uid)),s=i.exists()?(null===(r=i.data())||void 0===r?void 0:r.username)||h.displayName:"Someone";o.exists()?(n.delete(e),n.update(t,{heartCount:Dv(-1)})):(n.set(e,{userId:h.uid,username:s,timestamp:Pv()}),n.update(t,{heartCount:Dv(1)}))}))}catch(b){console.error("Error hearting room:",b),aS.error("Failed to update heart status.")}},_t=m?`${m.name} - SideEye`:v?"Loading Room...":"Room Not Found - SideEye",St=m&&m.description||"Join the conversation on SideEye.",Ct=`${window.location.origin}/default-app-logo.png`,kt=(null===m||void 0===m?void 0:m.thumbnailUrl)||Ct,Tt=`${window.location.origin}/side-room/${d||""}`;if(v&&!m)return(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Hq,{children:(0,Ve.jsx)("title",{children:"Loading Room... - SideEye"})}),(0,Ve.jsx)(Je,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,Ve.jsx)(HN,{})})]});if(b&&!m)return(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Hq,{children:(0,Ve.jsx)("title",{children:"Error Loading Room - SideEye"})}),(0,Ve.jsxs)(Je,{sx:{p:3,textAlign:"center"},children:[(0,Ve.jsx)(lN,{severity:"error",children:b}),(0,Ve.jsxs)(sI,{onClick:()=>p("/discover"),sx:{mt:2},children:[" ","Back to Discover"]})]})]});return(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(Hq,{children:[(0,Ve.jsx)("title",{children:_t}),(0,Ve.jsx)("meta",{name:"description",content:St}),(0,Ve.jsx)("meta",{property:"og:type",content:"website"}),(0,Ve.jsx)("meta",{property:"og:url",content:Tt}),(0,Ve.jsx)("meta",{property:"og:title",content:_t}),(0,Ve.jsx)("meta",{property:"og:description",content:St}),(0,Ve.jsx)("meta",{property:"og:image",content:kt}),(0,Ve.jsx)("meta",{property:"og:image:width",content:"1200"}),(0,Ve.jsx)("meta",{property:"og:image:height",content:"630"}),(0,Ve.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,Ve.jsx)("meta",{name:"twitter:url",content:Tt}),(0,Ve.jsx)("meta",{name:"twitter:title",content:_t}),(0,Ve.jsx)("meta",{name:"twitter:description",content:St}),(0,Ve.jsx)("meta",{name:"twitter:image",content:kt})]}),(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",height:"100vh",fontFamily:(null===m||void 0===m||null===(e=m.style)||void 0===e?void 0:e.font)||Kq[0],backgroundColor:null!==m&&void 0!==m&&null!==(t=m.style)&&void 0!==t&&t.backgroundGradient?`linear-gradient(to bottom right, ${(null===m||void 0===m||null===(n=m.style)||void 0===n?void 0:n.backgroundColor)||f.palette.background.default}, ${(null===m||void 0===m||null===(o=m.style)||void 0===o?void 0:o.accentColor)||f.palette.secondary.main})`:(null===m||void 0===m||null===(i=m.style)||void 0===i?void 0:i.backgroundColor)||f.palette.background.default,color:(null===m||void 0===m||null===(s=m.style)||void 0===s?void 0:s.textColor)||f.palette.text.primary},children:[m&&(()=>{var e,t,n,r,o,i,s,a,l,c,u,d,h,g,v,y,b,w,A,_,S,C,k,T,E;return(0,Ve.jsxs)(Je,{sx:{p:2,borderBottom:1,borderColor:"divider",backgroundColor:null!==m&&void 0!==m&&null!==(e=m.style)&&void 0!==e&&e.headerGradient?`linear-gradient(to right, ${(null===m||void 0===m||null===(t=m.style)||void 0===t?void 0:t.headerColor)||f.palette.primary.main}, ${(null===m||void 0===m||null===(n=m.style)||void 0===n?void 0:n.accentColor)||f.palette.secondary.light})`:(null===m||void 0===m||null===(r=m.style)||void 0===r?void 0:r.headerColor)||f.palette.background.paper,color:(null===m||void 0===m||null===(o=m.style)||void 0===o?void 0:o.textColor)||"inherit"},children:[(0,Ve.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column"},children:[(0,Ve.jsx)(KT,{variant:"h6",sx:{fontFamily:(null===m||void 0===m||null===(i=m.style)||void 0===i?void 0:i.font)||Kq[0],fontSize:null!==m&&void 0!==m&&null!==(s=m.style)&&void 0!==s&&s.headerFontSize?`${m.style.headerFontSize}px`:"1.25rem",fontWeight:600},children:null===m||void 0===m?void 0:m.name}),Qe&&(0,Ve.jsxs)(KT,{variant:"caption",sx:{opacity:null!==m&&void 0!==m&&null!==(a=m.style)&&void 0!==a&&a.textColor?.85:1,fontFamily:(null===m||void 0===m||null===(l=m.style)||void 0===l?void 0:l.font)||Kq[0]},children:["Host: ",Qe.username]})]}),(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"center",gap:.5},children:[z&&(0,Ve.jsx)(QH,{}),(0,Ve.jsx)(FW,{title:X?"Unheart Room":"Heart Room",children:(0,Ve.jsx)(OE,{onClick:At,color:X?"error":"inherit",sx:{color:X?f.palette.error.main:(null===m||void 0===m||null===(c=m.style)||void 0===c?void 0:c.accentColor)||"inherit"},disabled:Pe,children:X?(0,Ve.jsx)(MH,{}):(0,Ve.jsx)(OH,{})})}),(0,Ve.jsx)(GE,{badgeContent:Y>0?Y:"0",sx:{mr:1,"& .MuiBadge-badge":{backgroundColor:(null===m||void 0===m||null===(u=m.style)||void 0===u?void 0:u.accentColor)||f.palette.primary.main,color:null!==m&&void 0!==m&&null!==(d=m.style)&&void 0!==d&&d.textColor&&null!==m&&void 0!==m&&null!==(h=m.style)&&void 0!==h&&h.accentColor?f.palette.getContrastText(m.style.accentColor):f.palette.primary.contrastText}}}),(0,Ve.jsx)(FW,{title:"Share",children:(0,Ve.jsx)(OE,{onClick:lt,sx:{color:(null===m||void 0===m||null===(g=m.style)||void 0===g?void 0:g.accentColor)||"inherit"},children:(0,Ve.jsx)(LH,{})})}),(0,Ve.jsx)(FW,{title:"Chat with Sade AI",children:(0,Ve.jsx)(zT,{src:"/images/sade-avatar.jpg",alt:"Sade AI Chat",onClick:()=>Ae(!0),sx:{width:32,height:32,cursor:"pointer","&:hover":{opacity:.8},border:`1px solid ${(null===m||void 0===m||null===(v=m.style)||void 0===v?void 0:v.accentColor)||f.palette.primary.light}`}})}),He&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(FW,{title:"Room Settings",children:(0,Ve.jsx)(OE,{onClick:ct,sx:{color:(null===m||void 0===m||null===(y=m.style)||void 0===y?void 0:y.accentColor)||"inherit"},children:(0,Ve.jsx)(RH,{})})}),(0,Ve.jsxs)(qR,{anchorEl:M,open:Boolean(M),onClose:ut,children:[(0,Ve.jsxs)(oP,{onClick:dt,children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(cB,{fontSize:"small"})}),"Edit Room"]}),(0,Ve.jsxs)(oP,{onClick:ht,children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(FH,{fontSize:"small"})}),"Customize"]}),(0,Ve.jsxs)(oP,{onClick:pt,children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(uB,{fontSize:"small"})}),"Invite"]}),(0,Ve.jsxs)(oP,{onClick:mt,sx:{color:"error.main"},children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(UH,{fontSize:"small",color:"error"})}),"Delete Room"]})]})]}),(0,Ve.jsx)(FW,{title:"Leave Room",children:(0,Ve.jsx)(OE,{onClick:()=>p("/side-rooms"),disabled:x,sx:{color:(null===m||void 0===m||null===(b=m.style)||void 0===b?void 0:b.accentColor)||"inherit"},children:(0,Ve.jsx)($H,{})})})]})]}),(0,Ve.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsxs)(KT,{variant:"caption",sx:{fontFamily:(null===m||void 0===m||null===(w=m.style)||void 0===w?void 0:w.font)||Kq[0]},children:[Ye.length," Online"]}),(0,Ve.jsx)(Je,{sx:{display:"flex",gap:1,alignItems:"center"},children:z?(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(sI,{variant:"contained",size:"small",color:U?"secondary":"primary",onClick:et,startIcon:U?(0,Ve.jsx)(IH,{}):(0,Ve.jsx)(zH,{}),disabled:x,sx:{backgroundColor:!U&&null!==m&&void 0!==m&&null!==(A=m.style)&&void 0!==A&&A.accentColor?m.style.accentColor:void 0,fontFamily:(null===m||void 0===m||null===(_=m.style)||void 0===_?void 0:_.font)||Kq[0],color:!U&&null!==m&&void 0!==m&&null!==(S=m.style)&&void 0!==S&&S.accentColor?f.palette.getContrastText(m.style.accentColor):void 0},children:U?"Unmute":"Mute"}),(0,Ve.jsx)(sI,{variant:"outlined",size:"small",color:"error",onClick:Ze,disabled:x,sx:{fontFamily:(null===m||void 0===m||null===(C=m.style)||void 0===C?void 0:C.font)||Kq[0]},children:"Leave Audio"}),(0,Ve.jsx)(FW,{title:"Share Video Link",children:(0,Ve.jsx)(OE,{onClick:tt,disabled:x||!He&&!qe,size:"small",color:"secondary",children:(0,Ve.jsx)(BH,{})})})]}):(0,Ve.jsx)(sI,{variant:"contained",size:"small",color:"primary",onClick:Xe,startIcon:(0,Ve.jsx)(PH,{}),disabled:!Ke||x,sx:{backgroundColor:null===m||void 0===m||null===(k=m.style)||void 0===k?void 0:k.accentColor,fontFamily:(null===m||void 0===m||null===(T=m.style)||void 0===T?void 0:T.font)||Kq[0],color:null!==m&&void 0!==m&&null!==(E=m.style)&&void 0!==E&&E.accentColor?f.palette.getContrastText(m.style.accentColor):void 0},children:"Join Audio"})})]})]})})(),m&&(0,Ve.jsxs)(Je,{sx:{flexGrow:1,p:2,overflowY:"auto"},children:[(0,Ve.jsxs)(KT,{variant:"h6",gutterBottom:!0,children:["Participants (",Ye.length,")"]}),(0,Ve.jsx)(xN,{container:!0,spacing:2,children:Ye.map((e=>(0,Ve.jsx)(at,{participant:e},e.userId)))}),!z&&Ke&&!v&&m&&(0,Ve.jsx)(lN,{severity:"info",sx:{mt:2},children:"Join the audio to start talking or listening."}),le&&(0,Ve.jsxs)(Je,{sx:{mt:3,mb:2,p:1,border:"1px solid",borderColor:"divider",borderRadius:1,backgroundColor:"action.hover"},children:[(0,Ve.jsxs)(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,Ve.jsx)(KT,{variant:"subtitle1",sx:{textAlign:"center",flexGrow:1},children:"Shared Video"}),He&&(0,Ve.jsx)(FW,{title:"Clear Shared Video",children:(0,Ve.jsx)(OE,{onClick:ot,size:"small",children:(0,Ve.jsx)(NH,{})})})]}),(0,Ve.jsx)(Je,{sx:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden",maxWidth:"100%",background:"#000","& iframe":{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0}},children:xt(le)})]})]}),T&&m&&(0,Ve.jsx)(YH,{open:T,onClose:()=>E(!1),onSubmit:async(e,t)=>{A(!0);try{if(!d)throw new Error("Room ID is missing");const r=ng(D_,"sideRooms",d);let o=e.thumbnailUrl;if(t){aS.loading("Uploading thumbnail...",{id:"thumbnail-edit-upload"});try{const e=Xy(M_,`sideRoomThumbnails/${d}/${t.name}`),n=await Yy(e,t);o=await Qy(n.ref),aS.dismiss("thumbnail-edit-upload"),aS.success("Thumbnail updated!")}catch(n){console.error("Error uploading thumbnail during edit:",n),aS.dismiss("thumbnail-edit-upload"),aS.error("Failed to upload new thumbnail."),o=null===m||void 0===m?void 0:m.thumbnailUrl}}const i={...e};"string"===typeof o&&o?i.thumbnailUrl=o:null===o&&void 0===e.thumbnailUrl&&null!==m&&void 0!==m&&m.thumbnailUrl,await wv(r,i),aS.success("Room updated successfully"),E(!1)}catch(b){console.error("Error updating room:",b),aS.error("Failed to update room")}finally{A(!1)}},initialData:m,title:"Edit Room",submitButtonText:"Save Changes"}),(0,Ve.jsxs)(_z,{open:oe,onClose:nt,maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(sB,{children:"Share a Video"}),(0,Ve.jsxs)(pz,{children:[(0,Ve.jsx)(GD,{autoFocus:!0,margin:"dense",id:"video-url-input",label:"Video URL (YouTube, TikTok, Reels)",type:"url",fullWidth:!0,variant:"standard",value:se,onChange:e=>ae(e.target.value),placeholder:"e.g., https://www.youtube.com/watch?v=...",onKeyDown:e=>{"Enter"===e.key&&rt()}}),(0,Ve.jsx)(KT,{variant:"caption",color:"textSecondary",sx:{mt:1,display:"block"},children:"Currently, YouTube links are best supported for direct embedding."})]}),(0,Ve.jsxs)(xF,{children:[(0,Ve.jsx)(sI,{onClick:nt,children:"Cancel"}),(0,Ve.jsx)(sI,{onClick:rt,variant:"contained",children:"Share Video"})]})]}),(0,Ve.jsxs)(_z,{open:D,onClose:()=>N(!1),maxWidth:"xs",fullWidth:!0,children:[(0,Ve.jsx)(sB,{sx:{textAlign:"center"},children:"Share Room"}),(0,Ve.jsx)(pz,{children:(0,Ve.jsx)(GD,{fullWidth:!0,value:`${window.location.origin}/side-room/${d}`,InputProps:{readOnly:!0,endAdornment:(0,Ve.jsx)(OE,{onClick:()=>{const e=`${window.location.origin}/side-room/${d}`;navigator.clipboard.writeText(e),aS.success("Room link copied to clipboard!")},edge:"end",children:(0,Ve.jsx)(VH,{})})},sx:{mt:1},label:"Room Link",variant:"filled"})}),(0,Ve.jsx)(xF,{sx:{p:2,justifyContent:"center"},children:(0,Ve.jsx)(Je,{sx:{display:"flex",flexWrap:"wrap",gap:2,justifyContent:"center"},children:[{name:"Instagram",Icon:WH,scheme:"instagram://",inAppLinkInstructions:"Open Instagram and add it to your Story using the 'Link' sticker, or paste it in a DM."},{name:"Snapchat",Icon:VB,scheme:"snapchat://",inAppLinkInstructions:"Open Snapchat and paste it in a Snap or Chat."},{name:"TikTok",Icon:HH,scheme:null,inAppLinkInstructions:"Open TikTok and paste the link in your video description or a comment."},{name:"X (Twitter)",Icon:qH,webUrl:(e,t)=>`https://twitter.com/intent/tweet?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`},{name:"Facebook",Icon:GH,webUrl:e=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`},{name:"WhatsApp",Icon:KH,webUrl:(e,t)=>`https://wa.me/?text=${encodeURIComponent(t+" "+e)}`}].map((e=>(0,Ve.jsx)(FW,{title:`Share to ${e.name}`,children:(0,Ve.jsx)(OE,{onClick:async()=>{const t=`${window.location.origin}/side-room/${d}`,n=(null===m||void 0===m?void 0:m.name)||"Check out this Side Room!",r=`Join the conversation in "${n}"`;if(navigator.share)try{return await navigator.share({title:n,text:`${r}: ${t}`,url:t}),aS.success(`Shared to ${e.name} via system dialog!`),void N(!1)}catch(b){console.warn(`Web Share API failed for ${e.name}:`,b)}e.webUrl?(window.open(e.webUrl(t,`${r}: ${t}`),"_blank"),N(!1)):(navigator.clipboard.writeText(t).then((()=>{aS.success(`Link copied! ${e.inAppLinkInstructions}`,{duration:7e3}),e.scheme&&window.open(e.scheme,"_blank")})).catch((t=>{console.error(`Failed to copy link for ${e.name}: `,t),aS.error("Failed to copy link.")})),N(!1))},size:"large",sx:{"&:hover":{transform:"scale(1.1)"}},children:(0,Ve.jsx)(e.Icon,{fontSize:"large"})})},e.name)))})}),(0,Ve.jsx)(xF,{sx:{justifyContent:"center",pb:2},children:(0,Ve.jsx)(sI,{onClick:()=>N(!1),children:"Close"})})]}),(0,Ve.jsxs)(_z,{open:xe,onClose:()=>Ae(!1),fullWidth:!0,maxWidth:"sm","aria-labelledby":"sade-ai-chat-dialog-title",children:[(0,Ve.jsx)(sB,{id:"sade-ai-chat-dialog-title",children:"Chat with Sade AI \u2728"}),(0,Ve.jsxs)(pz,{dividers:!0,sx:{display:"flex",flexDirection:"column",maxHeight:"70vh"},children:[(0,Ve.jsxs)(Je,{sx:{flexGrow:1,overflowY:"auto",p:1,mb:1},children:[0===_e.length&&(0,Ve.jsx)(KT,{variant:"caption",color:"text.secondary",align:"center",sx:{display:"block",mt:4},children:"Start chatting with Sade AI..."}),_e.map(((e,t)=>(0,Ve.jsxs)(Je,{sx:{display:"flex",justifyContent:"user"===e.sender?"flex-end":"flex-start",mb:1.5},children:["ai"===e.sender&&(0,Ve.jsx)(zT,{src:"/images/sade-avatar.jpg",alt:"Sade AI Avatar",sx:{width:32,height:32,mr:1}}),(0,Ve.jsx)(Je,{sx:{bgcolor:"user"===e.sender?"primary.light":"#f0f0f0",color:"user"===e.sender?"primary.contrastText":"text.primary",borderRadius:"user"===e.sender?"16px 16px 4px 16px":"16px 16px 16px 4px",px:1.5,py:1,maxWidth:"80%",fontSize:"0.95rem",wordBreak:"break-word"},children:e.text})]},t))),Te&&(0,Ve.jsxs)(Je,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start",mb:1.5},children:[(0,Ve.jsx)(zT,{src:"/images/sade-avatar.jpg",alt:"Sade AI Avatar",sx:{width:32,height:32,mr:1}}),(0,Ve.jsx)(Je,{sx:{bgcolor:"#f0f0f0",borderRadius:"16px 16px 16px 4px",px:1,py:.5,display:"inline-block"},children:(0,Ve.jsx)(kH,{})})]}),(0,Ve.jsx)("div",{ref:Re})," "]}),(0,Ve.jsxs)(Je,{sx:{display:"flex",gap:1,alignItems:"center",mt:"auto"},children:[(0,Ve.jsx)(GD,{fullWidth:!0,placeholder:"Type message...",size:"small",value:Ce,onChange:e=>ke(e.target.value),onKeyDown:e=>{"Enter"===e.key&&Ce.trim()&&wt()},disabled:Te}),(0,Ve.jsx)(sI,{variant:"contained",onClick:()=>wt(),disabled:Te||!Ce.trim(),children:"Send"}),(0,Ve.jsx)(OE,{color:"primary",onClick:()=>wt(Ce,!0),disabled:Te||!Ce.trim(),size:"small",sx:{border:"1px solid",borderColor:"primary.light",ml:.5},title:"Search the web for this query",children:(0,Ve.jsx)($V,{fontSize:"small"})})]})]}),(0,Ve.jsxs)(xF,{children:[(0,Ve.jsx)(sI,{onClick:()=>{Se([]),localStorage.removeItem("sideroom_sade_chat_history"),aS.success("Sade AI chat cleared")},disabled:0===_e.length,children:"Clear Chat"}),(0,Ve.jsx)(sI,{onClick:()=>Ae(!1),children:"Close"})]})]}),(0,Ve.jsxs)(_z,{open:I,onClose:()=>R(!1),maxWidth:"xs",fullWidth:!0,children:[(0,Ve.jsx)(sB,{children:"Invite User to Room"}),(0,Ve.jsx)(AW,{onClickAway:()=>{me(!1)},children:(0,Ve.jsxs)(pz,{children:[(0,Ve.jsx)(GD,{autoFocus:!0,margin:"dense",id:"invitee-username-input",label:"Search Username to Invite",type:"text",fullWidth:!0,variant:"standard",value:ue,onChange:e=>{const t=e.target.value;console.log(`[SideRoomComponent] handleInviteSearchChange: "${t}"`),de(t),ve(null),t.trim().length>=2?(me(!0),st(t)):(me(!1),pe([]))},disabled:ye,inputRef:we,autoComplete:"off",onKeyDown:e=>{"Enter"===e.key&&ge&&!ye&&ft()}}),(0,Ve.jsx)(WL,{open:fe&&he.length>0,anchorEl:we.current,placement:"bottom-start",style:{width:null===(a=we.current)||void 0===a?void 0:a.offsetWidth,zIndex:1301},children:(0,Ve.jsx)(uT,{elevation:3,sx:{mt:.5,maxHeight:200,overflowY:"auto"},children:(0,Ve.jsx)(pI,{dense:!0,children:he.map((e=>(0,Ve.jsxs)(FF,{button:!0,onClick:()=>(e=>{ve(e),de(e.username),me(!1),pe([])})(e),children:[(0,Ve.jsx)(FV,{children:(0,Ve.jsx)(zT,{src:e.profilePic||void 0,sx:{width:32,height:32}})}),(0,Ve.jsx)(hP,{primary:e.name,secondary:`@${e.username}`})]},e.id)))})})})]})}),(0,Ve.jsxs)(xF,{children:[(0,Ve.jsx)(sI,{onClick:()=>{R(!1),de(""),ve(null),pe([]),me(!1)},disabled:ye,children:"Cancel"}),(0,Ve.jsx)(sI,{onClick:ft,variant:"contained",disabled:ye||!ge,children:ye?"Sending Invite...":"Send Invite"})]})]}),(0,Ve.jsxs)(_z,{open:P,onClose:()=>j(!1),maxWidth:"xs",fullWidth:!0,children:[(0,Ve.jsx)(sB,{children:"Customize Room Style"}),(0,Ve.jsx)(pz,{children:(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1},children:[(0,Ve.jsxs)(rD,{fullWidth:!0,margin:"dense",children:[(0,Ve.jsx)(Xj,{id:"theme-select-label",children:"Theme"}),(0,Ve.jsx)(zD,{labelId:"theme-select-label",value:De,label:"Theme",onChange:e=>Ne(e.target.value),children:Gq.map((e=>(0,Ve.jsx)(oP,{value:e.name,children:e.name},e.name)))})]}),(0,Ve.jsx)(nH,{control:(0,Ve.jsx)(LB,{checked:Me,onChange:e=>Oe(e.target.checked)}),label:"Use Header Gradient"}),(0,Ve.jsx)(nH,{control:(0,Ve.jsx)(LB,{checked:Le,onChange:e=>Fe(e.target.checked)}),label:"Use Background Gradient"}),(0,Ve.jsxs)(rD,{fullWidth:!0,margin:"dense",children:[(0,Ve.jsx)(Xj,{id:"font-select-label",children:"Font"}),(0,Ve.jsx)(zD,{labelId:"font-select-label",value:Ue,label:"Font",onChange:e=>$e(e.target.value),children:Kq.map((e=>(0,Ve.jsx)(oP,{value:e,children:e},e)))})]}),(0,Ve.jsxs)(rD,{fullWidth:!0,margin:"dense",children:[(0,Ve.jsx)(Xj,{id:"textsize-select-label",children:"Text Size (Header/General)"}),(0,Ve.jsx)(zD,{labelId:"textsize-select-label",value:ze.toString(),label:"Text Size (Header/General)",onChange:e=>Be(Number(e.target.value)),children:Yq.map((e=>(0,Ve.jsxs)(oP,{value:e.toString(),children:[e,"px"]},e)))})]})]})}),(0,Ve.jsxs)(xF,{sx:{p:3},children:[" ",(0,Ve.jsx)(sI,{onClick:()=>j(!1),children:"Cancel"}),(0,Ve.jsx)(sI,{onClick:async()=>{var e,t,n,r,o;if(!d||!m)return void aS.error("Cannot save style: Room data is missing.");if(!h)return void aS.error("You must be logged in to change the style.");if(!He)return void aS.error("Only the room owner can change the style.");const i=Gq.find((e=>e.name===De));if(!i){var s,a,l,c,u;aS.error("Invalid theme selected. Defaulting to first theme.");const e=Gq[0],t={themeName:e.name,headerColor:e.headerColor,backgroundColor:e.backgroundColor,textColor:e.textColor,accentColor:e.accentColor,font:Ue,headerFontSize:ze,headerGradient:Me,backgroundGradient:Le,customCss:(null===(s=m.style)||void 0===s?void 0:s.customCss)||"",bannerUrl:(null===(a=m.style)||void 0===a?void 0:a.bannerUrl)||"",stickers:(null===(l=m.style)||void 0===l?void 0:l.stickers)||[],glitterEffect:(null===(c=m.style)||void 0===c?void 0:c.glitterEffect)||!1,thumbnailUrl:(null===(u=m.style)||void 0===u?void 0:u.thumbnailUrl)||m.thumbnailUrl||""};try{const e=ng(D_,"sideRooms",d);await wv(e,{style:t,lastActive:Pv()}),aS.success("Room style updated (defaulted theme)!"),j(!1)}catch(b){console.error("Error updating room style with default theme:",b),aS.error("Failed to update room style.")}finally{A(!1)}return}const p={themeName:i.name,headerColor:i.headerColor,backgroundColor:i.backgroundColor,textColor:i.textColor,accentColor:i.accentColor,font:Ue,headerFontSize:ze,headerGradient:Me,backgroundGradient:Le,customCss:(null===(e=m.style)||void 0===e?void 0:e.customCss)||"",bannerUrl:(null===(t=m.style)||void 0===t?void 0:t.bannerUrl)||"",stickers:(null===(n=m.style)||void 0===n?void 0:n.stickers)||[],glitterEffect:(null===(r=m.style)||void 0===r?void 0:r.glitterEffect)||!1,thumbnailUrl:(null===(o=m.style)||void 0===o?void 0:o.thumbnailUrl)||m.thumbnailUrl||""};A(!0);try{const e=ng(D_,"sideRooms",d);await wv(e,{style:p,lastActive:Pv()}),aS.success("Room style updated successfully!"),j(!1)}catch(b){console.error("Error updating room style:",b),aS.error("Failed to update room style.")}finally{A(!1)}},variant:"contained",disabled:x,children:x?"Saving...":"Save Style"})]})]})]}),te&&(0,Ve.jsxs)(uT,{elevation:4,sx:{position:"fixed",bottom:20,left:20,p:1.5,backgroundColor:(null===m||void 0===m||null===(l=m.style)||void 0===l?void 0:l.accentColor)||f.palette.success.light,color:null!==m&&void 0!==m&&null!==(c=m.style)&&void 0!==c&&c.accentColor?f.palette.getContrastText(m.style.accentColor):f.palette.success.contrastText,borderRadius:"8px",zIndex:1500,display:"flex",alignItems:"center",gap:1},children:[(0,Ve.jsx)(MH,{fontSize:"small"}),(0,Ve.jsx)(KT,{variant:"body2",sx:{fontFamily:(null===m||void 0===m||null===(u=m.style)||void 0===u?void 0:u.font)||Kq[0]},children:te})]})]})},Xq=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(""),[i,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=_v(qg(tg(D_,"messages"),Xg("timestamp","asc")),(e=>{const n=e.docs.map((e=>{var t;return{id:e.id,...e.data(),timestamp:null===(t=e.data().timestamp)||void 0===t?void 0:t.toDate()}}));t(n)}));return()=>e()}),[]);return(0,Ve.jsx)(VP,{maxWidth:"md",children:(0,Ve.jsxs)(Je,{sx:{mt:4,mb:4},children:[(0,Ve.jsx)(KT,{variant:"h4",component:"h1",gutterBottom:!0,children:"Chat Room"}),(0,Ve.jsx)(pI,{sx:{maxHeight:"60vh",overflow:"auto",bgcolor:"background.paper",borderRadius:1},children:e.map((e=>{var t;return(0,Ve.jsxs)(FF,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,Ve.jsx)(KT,{variant:"subtitle2",color:"primary",children:e.username}),(0,Ve.jsx)(KT,{variant:"body1",children:e.text}),(0,Ve.jsx)(KT,{variant:"caption",color:"text.secondary",children:null===(t=e.timestamp)||void 0===t?void 0:t.toLocaleTimeString()})]},e.id)}))}),(0,Ve.jsxs)(Je,{component:"form",onSubmit:async e=>{if(e.preventDefault(),""!==n.trim()&&D_)try{var t;await Av(tg(D_,"messages"),{text:n,userId:null===(t=N_.currentUser)||void 0===t?void 0:t.uid,username:i||"Anonymous",timestamp:Pv()}),o("")}catch(a){console.error("Error sending message:",a)}},sx:{mt:2},children:[(0,Ve.jsx)(GD,{fullWidth:!0,variant:"outlined",placeholder:"Type your message...",value:n,onChange:e=>o(e.target.value),sx:{mb:2}}),(0,Ve.jsx)(sI,{type:"submit",variant:"contained",color:"primary",children:"Send"})]})]})})};var Jq=n(5361);function Zq(e){return(0,iT.Ay)("MuiCollapse",e)}(0,Ke.A)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const eG=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],tG=(0,tT.Ay)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===n.state&&(0,je.A)({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"})})),nG=(0,tT.Ay)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((e=>{let{ownerState:t}=e;return(0,je.A)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),rG=(0,tT.Ay)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((e=>{let{ownerState:t}=e;return(0,je.A)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),oG=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiCollapse"}),{addEndListener:o,children:i,className:s,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:h,onEntering:p,onExit:f,onExited:m,onExiting:g,orientation:v="vertical",style:y,timeout:b=Jq.p0.standard,TransitionComponent:w=OI}=n,x=(0,De.A)(n,eG),A=(0,je.A)({},n,{orientation:v,collapsedSize:a}),_=(e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,eT.A)(r,Zq,n)})(A),S=LI(),C=(0,cE.A)(),k=r.useRef(null),T=r.useRef(),E="number"===typeof a?`${a}px`:a,I="horizontal"===v,R=I?"width":"height",P=r.useRef(null),j=(0,YT.A)(t,P),D=e=>t=>{if(e){const n=P.current;void 0===t?e(n):e(n,t)}},N=()=>k.current?k.current[I?"clientWidth":"clientHeight"]:0,M=D(((e,t)=>{k.current&&I&&(k.current.style.position="absolute"),e.style[R]=E,d&&d(e,t)})),O=D(((e,t)=>{const n=N();k.current&&I&&(k.current.style.position="");const{duration:r,easing:o}=UI({style:y,timeout:b,easing:c},{mode:"enter"});if("auto"===b){const t=S.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,T.current=t}else e.style.transitionDuration="string"===typeof r?r:`${r}ms`;e.style[R]=`${n}px`,e.style.transitionTimingFunction=o,p&&p(e,t)})),L=D(((e,t)=>{e.style[R]="auto",h&&h(e,t)})),F=D((e=>{e.style[R]=`${N()}px`,f&&f(e)})),U=D(m),$=D((e=>{const t=N(),{duration:n,easing:r}=UI({style:y,timeout:b,easing:c},{mode:"exit"});if("auto"===b){const n=S.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,T.current=n}else e.style.transitionDuration="string"===typeof n?n:`${n}ms`;e.style[R]=E,e.style.transitionTimingFunction=r,g&&g(e)}));return(0,Ve.jsx)(w,(0,je.A)({in:u,onEnter:M,onEntered:L,onEntering:O,onExit:F,onExited:U,onExiting:$,addEndListener:e=>{"auto"===b&&C.start(T.current||0,e),o&&o(P.current,e)},nodeRef:P,timeout:"auto"===b?null:b},x,{children:(e,t)=>(0,Ve.jsx)(tG,(0,je.A)({as:l,className:(0,Ne.A)(_.root,s,{entered:_.entered,exited:!u&&"0px"===E&&_.hidden}[e]),style:(0,je.A)({[I?"minWidth":"minHeight"]:E},y),ref:j},t,{ownerState:(0,je.A)({},A,{state:e}),children:(0,Ve.jsx)(nG,{ownerState:(0,je.A)({},A,{state:e}),className:_.wrapper,ref:k,children:(0,Ve.jsx)(rG,{ownerState:(0,je.A)({},A,{state:e}),className:_.wrapperInner,children:i})})}))}))}));oG.muiSupportAuto=!0;const iG=oG;const sG=r.createContext({});function aG(e){return(0,iT.Ay)("MuiAccordion",e)}const lG=(0,Ke.A)("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),cG=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],uG=(0,tT.Ay)(uT,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${lG.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],n),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],n)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${lG.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${lG.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),(e=>{let{theme:t}=e;return{variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${lG.expanded}`]:{margin:"16px 0"}}}]}})),dG=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiAccordion"}),{children:o,className:i,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,slots:h={},slotProps:p={},TransitionComponent:f,TransitionProps:m}=n,g=(0,De.A)(n,cG),[v,y]=(0,xD.A)({controlled:c,default:s,name:"Accordion",state:"expanded"}),b=r.useCallback((e=>{y(!v),u&&u(e,!v)}),[v,u,y]),[w,...x]=r.Children.toArray(o),A=r.useMemo((()=>({expanded:v,disabled:a,disableGutters:l,toggle:b})),[v,a,l,b]),_=(0,je.A)({},n,{square:d,disabled:a,disableGutters:l,expanded:v}),S=(e=>{const{classes:t,square:n,expanded:r,disabled:o,disableGutters:i}=e,s={root:["root",!n&&"rounded",r&&"expanded",o&&"disabled",!i&&"gutters"],region:["region"]};return(0,eT.A)(s,aG,t)})(_),C=(0,je.A)({transition:f},h),k=(0,je.A)({transition:m},p),[T,E]=MT("transition",{elementType:iG,externalForwardedProps:{slots:C,slotProps:k},ownerState:_});return(0,Ve.jsxs)(uG,(0,je.A)({className:(0,Ne.A)(S.root,i),ref:t,ownerState:_,square:d},g,{children:[(0,Ve.jsx)(sG.Provider,{value:A,children:w}),(0,Ve.jsx)(T,(0,je.A)({in:v,timeout:"auto"},E,{children:(0,Ve.jsx)("div",{"aria-labelledby":w.props.id,id:w.props["aria-controls"],role:"region",className:S.region,children:x})}))]}))})),hG=dG;function pG(e){return(0,iT.Ay)("MuiAccordionSummary",e)}const fG=(0,Ke.A)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),mG=["children","className","expandIcon","focusVisibleClassName","onClick"],gG=(0,tT.Ay)(RE,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],n),[`&.${fG.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${fG.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${fG.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${fG.expanded}`]:{minHeight:64}}}]}})),vG=(0,tT.Ay)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})((e=>{let{theme:t}=e;return{display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${fG.expanded}`]:{margin:"20px 0"}}}]}})),yG=(0,tT.Ay)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})((e=>{let{theme:t}=e;return{display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${fG.expanded}`]:{transform:"rotate(180deg)"}}})),bG=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiAccordionSummary"}),{children:o,className:i,expandIcon:s,focusVisibleClassName:a,onClick:l}=n,c=(0,De.A)(n,mG),{disabled:u=!1,disableGutters:d,expanded:h,toggle:p}=r.useContext(sG),f=(0,je.A)({},n,{expanded:h,disabled:u,disableGutters:d}),m=(e=>{const{classes:t,expanded:n,disabled:r,disableGutters:o}=e,i={root:["root",n&&"expanded",r&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]};return(0,eT.A)(i,pG,t)})(f);return(0,Ve.jsxs)(gG,(0,je.A)({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":h,className:(0,Ne.A)(m.root,i),focusVisibleClassName:(0,Ne.A)(m.focusVisible,a),onClick:e=>{p&&p(e),l&&l(e)},ref:t,ownerState:f},c,{children:[(0,Ve.jsx)(vG,{className:m.content,ownerState:f,children:o}),s&&(0,Ve.jsx)(yG,{className:m.expandIconWrapper,ownerState:f,children:s})]}))})),wG=bG;function xG(e){return(0,iT.Ay)("MuiAccordionDetails",e)}(0,Ke.A)("MuiAccordionDetails",["root"]);const AG=["className"],_G=(0,tT.Ay)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{padding:t.spacing(1,2,2)}})),SG=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiAccordionDetails"}),{className:r}=n,o=(0,De.A)(n,AG),i=n,s=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"]},xG,t)})(i);return(0,Ve.jsx)(_G,(0,je.A)({className:(0,Ne.A)(s.root,r),ref:t,ownerState:i},o))})),CG=SG,kG=(0,AT.A)([(0,Ve.jsx)("path",{d:"M13 8.57c-.79 0-1.43.64-1.43 1.43s.64 1.43 1.43 1.43 1.43-.64 1.43-1.43-.64-1.43-1.43-1.43"},"0"),(0,Ve.jsx)("path",{d:"M13 3C9.25 3 6.2 5.94 6.02 9.64L4.1 12.2c-.25.33-.01.8.4.8H6v3c0 1.1.9 2 2 2h1v3h7v-4.68c2.36-1.12 4-3.53 4-6.32 0-3.87-3.13-7-7-7m3 7c0 .13-.01.26-.02.39l.83.66c.08.06.1.16.05.25l-.8 1.39c-.05.09-.16.12-.24.09l-.99-.4c-.21.16-.43.29-.67.39L14 13.83c-.01.1-.1.17-.2.17h-1.6c-.1 0-.18-.07-.2-.17l-.15-1.06c-.25-.1-.47-.23-.68-.39l-.99.4c-.09.03-.2 0-.25-.09l-.8-1.39c-.05-.08-.03-.19.05-.25l.84-.66c-.01-.13-.02-.26-.02-.39s.02-.27.04-.39l-.85-.66c-.08-.06-.1-.16-.05-.26l.8-1.38c.05-.09.15-.12.24-.09l1 .4c.2-.15.43-.29.67-.39L12 6.17c.02-.1.1-.17.2-.17h1.6c.1 0 .18.07.2.17l.15 1.06c.24.1.46.23.67.39l1-.4c.09-.03.2 0 .24.09l.8 1.38c.05.09.03.2-.05.26l-.85.66c.03.12.04.25.04.39"},"1")],"Psychology"),TG=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public"),EG=(0,AT.A)((0,Ve.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),IG=(0,AT.A)((0,Ve.jsx)("path",{d:"m5.2494 8.0688 2.83-2.8269 14.1343 14.15-2.83 2.8269zm4.2363-4.2415 2.828-2.8289 5.6577 5.656-2.828 2.8289zM.9989 12.3147l2.8284-2.8285 5.6569 5.6569-2.8285 2.8284zM1 21h12v2H1z"}),"Gavel"),RG=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"}),"VerifiedUser"),PG=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PersonOutline"),jG=(0,AT.A)((0,Ve.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),DG=(0,AT.A)((0,Ve.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3m1-4.3h-2V7h2z"}),"Report"),NG=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help"),MG=()=>(0,Ve.jsxs)(Je,{sx:{mx:"auto"},children:[(0,Ve.jsx)(KT,{variant:"body1",sx:{mb:3},children:"These guidelines help ensure SideEye remains a platform where users can express themselves freely while maintaining a respectful and safe environment for all."}),(0,Ve.jsxs)(KT,{variant:"body1",sx:{mb:3,bgcolor:"info.light",p:2,borderRadius:1},children:[(0,Ve.jsx)("strong",{children:"Important Notice:"}),' SideEye uses an AI-powered moderation system that automatically scans all content against our community guidelines. Violations will result in strike points on your account, which can lead to warnings, restrictions, or account suspension. See the "Strike System" section below for more details.']}),(0,Ve.jsxs)(hG,{children:[(0,Ve.jsx)(wG,{expandIcon:(0,Ve.jsx)(UB,{}),children:(0,Ve.jsx)(KT,{children:"Our Commitment to Safety"})}),(0,Ve.jsxs)(CG,{children:[(0,Ve.jsx)(KT,{paragraph:!0,children:"We are committed to maintaining a safe and respectful environment for all users. Our platform encourages healthy banter and shade while strictly prohibiting harassment, bullying, harmful content, misinformation, fraud, and cybercrime."}),(0,Ve.jsx)(KT,{paragraph:!0,children:"We believe in:"}),(0,Ve.jsxs)(pI,{children:[(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(WB,{})}),(0,Ve.jsx)(hP,{primary:"Protecting User Privacy",secondary:"We implement strict data protection measures and transparent privacy policies"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(kG,{})}),(0,Ve.jsx)(hP,{primary:"Mental Health Support",secondary:"We provide resources and tools to support users' wellbeing"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(TG,{})}),(0,Ve.jsx)(hP,{primary:"Inclusive Community",secondary:"We foster an environment that welcomes diverse perspectives and experiences"})]})]})]})]}),(0,Ve.jsxs)(hG,{children:[(0,Ve.jsx)(wG,{expandIcon:(0,Ve.jsx)(EG,{}),children:(0,Ve.jsx)(KT,{children:"Prohibited Content"})}),(0,Ve.jsxs)(CG,{children:[(0,Ve.jsx)(KT,{paragraph:!0,children:"The following content is not permitted on our platform and may result in content removal, account restrictions, or termination:"}),(0,Ve.jsxs)(pI,{children:[(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DH,{})}),(0,Ve.jsx)(hP,{primary:"Harassment & Bullying",secondary:"Targeted attacks, threats, persistent unwanted attention, or content designed to degrade or shame others"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DH,{})}),(0,Ve.jsx)(hP,{primary:"Hate Speech",secondary:"Content that promotes discrimination, hostility, or violence against protected characteristics including race, ethnicity, national origin, religious affiliation, sexual orientation, gender, gender identity, or disability"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DH,{})}),(0,Ve.jsx)(hP,{primary:"Misinformation",secondary:"Deliberate spreading of false information about health, science, elections, or current events that may cause public harm"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DH,{})}),(0,Ve.jsx)(hP,{primary:"Fraud & Scams",secondary:"Financial scams, phishing attempts, pyramid schemes, deceptive business practices, or unauthorized promotions"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DH,{})}),(0,Ve.jsx)(hP,{primary:"Cybercrime",secondary:"Hacking attempts, malware distribution, unauthorized access, or other illegal online activities"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DH,{})}),(0,Ve.jsx)(hP,{primary:"Adult Content & Exploitation",secondary:"Sexually explicit content, non-consensual intimate imagery, sexual exploitation, or content that sexualizes minors"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DH,{})}),(0,Ve.jsx)(hP,{primary:"Violence & Gore",secondary:"Gratuitous violence, content promoting self-harm, suicide, eating disorders, or graphic injury"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DH,{})}),(0,Ve.jsx)(hP,{primary:"Copyright Infringement",secondary:"Content that violates copyright laws, including unauthorized use of intellectual property, especially in Vibits videos"})]})]})]})]}),(0,Ve.jsxs)(hG,{children:[(0,Ve.jsx)(wG,{expandIcon:(0,Ve.jsx)(IG,{}),children:(0,Ve.jsx)(KT,{children:"Vibits Community Guidelines"})}),(0,Ve.jsxs)(CG,{children:[(0,Ve.jsx)(KT,{paragraph:!0,children:"Our Vibits video sharing feature has specific guidelines to ensure a safe and enjoyable experience for all users:"}),(0,Ve.jsxs)(pI,{children:[(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(RG,{})}),(0,Ve.jsx)(hP,{primary:"Content Ownership",secondary:"Only upload videos that you've created or have permission to use. Respect copyright and intellectual property rights"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DH,{})}),(0,Ve.jsx)(hP,{primary:"Appropriate Content",secondary:"Videos must not contain nudity, pornography, violence, hate speech, dangerous activities, or illegal substances"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(PG,{})}),(0,Ve.jsx)(hP,{primary:"Privacy & Consent",secondary:"Get consent before featuring identifiable individuals in your videos, especially in private settings"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(HB,{})}),(0,Ve.jsx)(hP,{primary:"Disclosure",secondary:"Clearly disclose if your content is sponsored, contains affiliate links, or is otherwise commercial in nature"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(WB,{})}),(0,Ve.jsx)(hP,{primary:"Music & Audio",secondary:"Only use music and audio that you have rights to use or that is available through our platform's licensed library"})]})]}),(0,Ve.jsx)(KT,{paragraph:!0,children:"Vibits content is subject to both human and AI-powered moderation. Videos that violate these guidelines may be removed, and repeated violations may result in account restrictions or termination."})]})]}),(0,Ve.jsxs)(hG,{children:[(0,Ve.jsx)(wG,{expandIcon:(0,Ve.jsx)(IG,{}),children:(0,Ve.jsx)(KT,{children:"Content Moderation"})}),(0,Ve.jsxs)(CG,{children:[(0,Ve.jsx)(KT,{paragraph:!0,children:"Our content moderation approach combines technology and human review to enforce our community guidelines fairly and consistently:"}),(0,Ve.jsxs)(pI,{children:[(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(RG,{})}),(0,Ve.jsx)(hP,{primary:"AI-Powered Detection",secondary:"Advanced algorithms detect harmful content, misinformation, and suspicious activities in real-time"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(jG,{})}),(0,Ve.jsx)(hP,{primary:"Automated Checks",secondary:"Real-time scanning for fraud, cybercrime, and policy violations using pattern recognition"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(PG,{})}),(0,Ve.jsx)(hP,{primary:"Human Review",secondary:"Trained moderators review flagged content and complex cases with cultural and contextual awareness"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(HB,{})}),(0,Ve.jsx)(hP,{primary:"Educational Approach",secondary:"First-time or minor violations may result in warnings with educational resources"})]})]}),(0,Ve.jsx)(vP,{sx:{my:2}}),(0,Ve.jsx)(KT,{variant:"h6",gutterBottom:!0,children:"Enforcement Actions"}),(0,Ve.jsx)(KT,{paragraph:!0,children:"Depending on the severity and frequency of violations, we may take the following actions:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Content removal"}),(0,Ve.jsx)("li",{children:"Warning notifications"}),(0,Ve.jsx)("li",{children:"Temporary feature restrictions"}),(0,Ve.jsx)("li",{children:"Temporary account suspension"}),(0,Ve.jsx)("li",{children:"Permanent account termination"})]})]})]}),(0,Ve.jsxs)(hG,{children:[(0,Ve.jsx)(wG,{expandIcon:(0,Ve.jsx)(EG,{}),children:(0,Ve.jsx)(KT,{children:"Strike System"})}),(0,Ve.jsxs)(CG,{children:[(0,Ve.jsx)(KT,{paragraph:!0,children:"SideEye employs a strike system to enforce our community guidelines fairly and consistently:"}),(0,Ve.jsx)(KT,{variant:"h6",gutterBottom:!0,children:"Strike Points"}),(0,Ve.jsx)(KT,{paragraph:!0,children:"Violations of our guidelines result in strike points based on severity:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Standard violations:"})," 1 strike point"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Serious violations"})," (misinformation, fraud, violence): 1.5 strike points"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Severe violations"})," (harmful content, cybercrime, exploitation): 2 strike points"]})]}),(0,Ve.jsx)(KT,{variant:"h6",gutterBottom:!0,children:"Consequences"}),(0,Ve.jsx)(KT,{paragraph:!0,children:"As strike points accumulate, the following actions will be taken:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"3+ points:"})," Warning and educational resources"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"6+ points:"})," Temporary feature restrictions for 3 days"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"9+ points:"})," Account suspension for 7 days"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"12+ points:"})," Permanent account suspension"]})]}),(0,Ve.jsx)(KT,{variant:"h6",gutterBottom:!0,children:"Appeals"}),(0,Ve.jsx)(KT,{paragraph:!0,children:"If you believe a strike was issued in error, you can appeal through your account settings or by contacting support@sideeye.com."}),(0,Ve.jsx)(KT,{variant:"h6",gutterBottom:!0,children:"Expiration"}),(0,Ve.jsx)(KT,{paragraph:!0,children:"Strike points remain on your account for 6 months before beginning to expire."})]})]}),(0,Ve.jsxs)(hG,{children:[(0,Ve.jsx)(wG,{expandIcon:(0,Ve.jsx)(DG,{}),children:(0,Ve.jsx)(KT,{children:"Reporting & Moderation"})}),(0,Ve.jsxs)(CG,{children:[(0,Ve.jsx)(KT,{paragraph:!0,children:"We rely on our community to help maintain a safe environment. If you encounter content that violates our guidelines, please report it immediately."}),(0,Ve.jsxs)(pI,{children:[(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DG,{})}),(0,Ve.jsx)(hP,{primary:"How to Report",secondary:"Click the three dots menu on any post, comment, or profile and select 'Report' to flag content that violates our guidelines"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DG,{})}),(0,Ve.jsx)(hP,{primary:"What Happens Next",secondary:"Our team reviews reports promptly, typically within 24-48 hours, and takes appropriate action based on our guidelines"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DG,{})}),(0,Ve.jsx)(hP,{primary:"Appeals Process",secondary:"If you believe a moderation decision was made in error, you can appeal through your account settings or by contacting support@sideeye.com"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DG,{})}),(0,Ve.jsx)(hP,{primary:"Transparency",secondary:"We publish regular reports on content moderation actions and policy enforcement to maintain accountability"})]})]})]})]}),(0,Ve.jsxs)(hG,{children:[(0,Ve.jsx)(wG,{expandIcon:(0,Ve.jsx)(NG,{}),children:(0,Ve.jsx)(KT,{children:"Getting Help"})}),(0,Ve.jsxs)(CG,{children:[(0,Ve.jsx)(KT,{paragraph:!0,children:"We're committed to supporting our users' wellbeing and safety both on and off the platform."}),(0,Ve.jsxs)(pI,{children:[(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(NG,{})}),(0,Ve.jsx)(hP,{primary:"Support Resources",secondary:"Access to mental health resources, crisis helplines, and support services through our Help Center"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(NG,{})}),(0,Ve.jsx)(hP,{primary:"Safety Tips",secondary:"Guidelines for protecting your privacy, recognizing potential scams, and staying safe online"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(NG,{})}),(0,Ve.jsx)(hP,{primary:"Contact Us",secondary:"Reach out to our support team at support@sideeye.com for assistance with safety concerns"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(NG,{})}),(0,Ve.jsx)(hP,{primary:"Emergency Situations",secondary:"If you're experiencing an emergency or believe someone is in immediate danger, please contact local emergency services immediately"})]})]}),(0,Ve.jsx)(KT,{variant:"body2",sx:{mt:2,fontStyle:"italic"},children:"SideEye is committed to continuously improving our safety measures and community guidelines. We regularly update our policies based on emerging threats, user feedback, and industry best practices."})]})]}),(0,Ve.jsxs)(hG,{children:[(0,Ve.jsx)(wG,{expandIcon:(0,Ve.jsx)(UB,{}),children:(0,Ve.jsx)(KT,{children:"Vibits Security & Privacy"})}),(0,Ve.jsxs)(CG,{children:[(0,Ve.jsx)(KT,{paragraph:!0,children:"We take the security and privacy of your Vibits videos seriously. Here's how we protect your content:"}),(0,Ve.jsxs)(pI,{children:[(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(WB,{})}),(0,Ve.jsx)(hP,{primary:"Secure Storage",secondary:"All videos are stored using industry-standard encryption and secure cloud storage protocols"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(PG,{})}),(0,Ve.jsx)(hP,{primary:"Privacy Controls",secondary:"You can delete your videos at any time, and you control who can view, comment on, and share your content"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(RG,{})}),(0,Ve.jsx)(hP,{primary:"Content Protection",secondary:"We implement measures to prevent unauthorized downloading and redistribution of your videos"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(jG,{})}),(0,Ve.jsx)(hP,{primary:"Metadata Stripping",secondary:"We remove sensitive metadata from videos that could reveal your location or device information"})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(DH,{})}),(0,Ve.jsx)(hP,{primary:"Report & Remove",secondary:"We provide tools to report videos that violate our guidelines, and we respond quickly to removal requests"})]})]}),(0,Ve.jsx)(KT,{paragraph:!0,children:"To enhance your privacy when using Vibits:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Be mindful of what's visible in your videos (addresses, personal documents, etc.)"}),(0,Ve.jsx)("li",{children:"Consider the environment you're filming in and who might be visible in the background"}),(0,Ve.jsx)("li",{children:"Review your videos before posting to ensure you're comfortable with all content"}),(0,Ve.jsx)("li",{children:"Use the reporting tools if you see content that violates our guidelines"})]})]})]})]}),OG=()=>(0,Ve.jsx)(VP,{maxWidth:"lg",children:(0,Ve.jsxs)(Je,{sx:{py:4},children:[(0,Ve.jsx)(KT,{variant:"h4",sx:{mb:3,fontWeight:"bold"},children:"Safety & Community Guidelines"}),(0,Ve.jsx)(uT,{elevation:3,sx:{p:{xs:2,md:4},borderRadius:2},children:(0,Ve.jsx)(MG,{})})]})}),LG=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),FG=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),UG=(0,AT.A)((0,Ve.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login"),$G=(0,AT.A)((0,Ve.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),zG=()=>{const{currentUser:e,userProfile:t}=jk(),{canViewProfile:n,canViewContent:o}=Nk(),[i,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)({emailVerified:!1,deviceVerified:!1,lastSecurityUpdate:null});(0,r.useEffect)((()=>{if(null===e||void 0===e||!e.uid)return;const t=_v(ng(D_,"users",e.uid),(t=>{if(t.exists()){const n=t.data();s(n.isPrivate||!1),l({emailVerified:e.emailVerified||!1,deviceVerified:n.sourceCodeSetupComplete||!1,lastSecurityUpdate:n.lastSecurityUpdate||null})}}));return()=>t()}),[null===e||void 0===e?void 0:e.uid,null===e||void 0===e?void 0:e.emailVerified]);return(0,Ve.jsx)(VP,{maxWidth:"md",sx:{py:4},children:(0,Ve.jsxs)(uT,{elevation:3,sx:{p:4},children:[(0,Ve.jsxs)(KT,{variant:"h4",component:"h1",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Ve.jsx)(UB,{color:"primary"})," Security & Authentication"]}),(0,Ve.jsx)(lN,{severity:"info",sx:{mt:2,mb:4},children:"SideEye takes your security and privacy seriously. Our multi-layer authentication system helps protect your account and data from unauthorized access."}),(0,Ve.jsxs)(Je,{sx:{mb:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"medium"},children:"Security Status"}),(0,Ve.jsx)(vP,{sx:{mb:3}}),(0,Ve.jsxs)(YW,{direction:"row",spacing:2,sx:{mb:3},children:[(0,Ve.jsx)(GF,{icon:a.emailVerified?(0,Ve.jsx)(LG,{}):(0,Ve.jsx)(FG,{}),label:a.emailVerified?"Email Verified":"Email Not Verified",color:a.emailVerified?"success":"error",variant:"outlined"}),(0,Ve.jsx)(GF,{icon:a.deviceVerified?(0,Ve.jsx)(LG,{}):(0,Ve.jsx)(FG,{}),label:a.deviceVerified?"Device Verified":"Device Not Verified",color:a.deviceVerified?"success":"error",variant:"outlined"})]})]}),(0,Ve.jsxs)(Je,{sx:{mb:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"medium"},children:"Account Privacy"}),(0,Ve.jsx)(vP,{sx:{mb:3}}),(0,Ve.jsxs)(uT,{elevation:1,sx:{p:3},children:[(0,Ve.jsx)(nH,{control:(0,Ve.jsx)(LB,{checked:i,onChange:async()=>{if(null!==e&&void 0!==e&&e.uid)try{await wv(ng(D_,"users",e.uid),{isPrivate:!i,lastSecurityUpdate:Pv()}),aS.success("Account is now "+(i?"public":"private"))}catch(vb){console.error("Error updating privacy settings:",vb),aS.error("Failed to update privacy settings")}},color:"primary"}),label:(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"subtitle1",children:"Private Account"}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",children:i?"Only approved followers can see your content":"Anyone can see your content"})]})}),(0,Ve.jsx)(lN,{severity:"info",sx:{mt:2},children:i?"When your account is private, only approved followers can see your content. New followers must send a follow request.":"When your account is public, anyone can see your content and follow you without approval."})]})]}),(0,Ve.jsxs)(Je,{sx:{mb:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"medium"},children:"Authentication Flow"}),(0,Ve.jsx)(vP,{sx:{mb:3}}),(0,Ve.jsxs)(pI,{children:[(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(UG,{color:"primary"})}),(0,Ve.jsx)(hP,{primary:"Step 1: Email & Password Authentication",secondary:"First, you log in with your email and password. This provides the initial layer of account security."})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(RG,{color:"primary"})}),(0,Ve.jsx)(hP,{primary:"Step 2: Email Verification",secondary:"New accounts must verify their email address before gaining full access to all features."})]}),(0,Ve.jsxs)(FF,{children:[(0,Ve.jsx)(lP,{children:(0,Ve.jsx)(zB,{color:"primary"})}),(0,Ve.jsx)(hP,{primary:"Step 3: Source Code Authentication",secondary:"When logging in from a new device, you must enter your 8-digit source code as an additional security measure."})]})]})]}),(0,Ve.jsxs)(hG,{children:[(0,Ve.jsx)(wG,{expandIcon:(0,Ve.jsx)($G,{}),children:(0,Ve.jsxs)(KT,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Ve.jsx)(HB,{fontSize:"small"})," Browser Privacy Settings"]})}),(0,Ve.jsxs)(CG,{children:[(0,Ve.jsx)(KT,{variant:"body2",paragraph:!0,children:"Some browsers have strict privacy settings that can affect device registration:"}),(0,Ve.jsxs)(pI,{dense:!0,children:[(0,Ve.jsx)(FF,{children:(0,Ve.jsx)(hP,{primary:"\u2022 Safari users may need to enable website data storage",secondary:"Safari > Preferences > Privacy > Website Data"})}),(0,Ve.jsx)(FF,{children:(0,Ve.jsx)(hP,{primary:"\u2022 Private/Incognito browsing may require re-authentication",secondary:"Devices won't be persistently registered in private browsing modes"})}),(0,Ve.jsx)(FF,{children:(0,Ve.jsx)(hP,{primary:"\u2022 Clearing browser data will remove device registration",secondary:"You'll need to re-authenticate with your Source Code"})})]})]})]})]})})},BG=()=>(0,Ve.jsx)(VP,{maxWidth:"md",sx:{py:4},children:(0,Ve.jsxs)(uT,{elevation:3,sx:{p:4},children:[(0,Ve.jsx)(KT,{variant:"h4",component:"h1",gutterBottom:!0,children:"Privacy Policy"}),(0,Ve.jsxs)(KT,{variant:"body1",paragraph:!0,children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"1. Information We Collect"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We collect information that you provide directly to us, including:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Account information (username, email, display name)"}),(0,Ve.jsx)("li",{children:"Profile information (bio, profile picture, custom avatars)"}),(0,Ve.jsx)("li",{children:"Content you post (posts, comments, likes, reposts)"}),(0,Ve.jsx)("li",{children:"Audio content from Side Rooms and Spaces"}),(0,Ve.jsx)("li",{children:"Connection data (followers, following relationships)"}),(0,Ve.jsx)("li",{children:"Messages and communications between users"}),(0,Ve.jsx)("li",{children:"Usage information and interaction with the platform"})]})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"2. How We Use Your Information"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We use the information we collect to:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Provide and maintain our services"}),(0,Ve.jsx)("li",{children:"Improve and personalize your experience"}),(0,Ve.jsx)("li",{children:"Facilitate connections between users"}),(0,Ve.jsx)("li",{children:"Process and deliver messages between users"}),(0,Ve.jsx)("li",{children:"Monitor and enforce our community guidelines"}),(0,Ve.jsx)("li",{children:"Communicate with you about updates and changes"}),(0,Ve.jsx)("li",{children:"Ensure platform safety and security"}),(0,Ve.jsx)("li",{children:"Comply with legal obligations"})]})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"3. Sharing Your Information"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We may share your information in the following ways:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"With Other Users:"})," Your profile information, posts, videos, and content are shared with other users according to your privacy settings."]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Service Providers:"})," We may share information with third-party vendors who provide services on our behalf, including video hosting and processing."]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Legal Requirements:"})," We may disclose information if required by law or to protect rights, safety, and security."]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets."]})]})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"4. Data Security"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We implement appropriate security measures to protect your personal information, including encryption of sensitive data, secure storage protocols, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"5. Your Rights"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"You have the right to:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Access your personal information"}),(0,Ve.jsx)("li",{children:"Correct inaccurate information"}),(0,Ve.jsx)("li",{children:"Delete your account and associated data"}),(0,Ve.jsx)("li",{children:"Delete audio content from Side Rooms and Spaces"}),(0,Ve.jsx)("li",{children:"Control your privacy settings and follower relationships"}),(0,Ve.jsx)("li",{children:"Restrict processing of your information"}),(0,Ve.jsx)("li",{children:"Request a data export of your content"}),(0,Ve.jsx)("li",{children:"Opt-out of marketing communications"})]})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"6. Content Removal and Retention"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"When you delete content, it may remain in our backup systems for a limited time. Deleted content is moved to a temporary storage for 24 hours before permanent deletion, allowing for potential recovery if accidentally deleted. For audio content, we may retain non-personally identifiable analytics data even after deletion."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"7. Cookies and Tracking"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We use cookies and similar tracking technologies to improve your experience, maintain login sessions, and analyze usage patterns. Please see our Cookie Policy for more details on how we use these technologies."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"8. Third-Party Links"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"Our service may contain links to third-party websites or services that are not owned or controlled by us. We have no control over and assume no responsibility for the content, privacy policies, or practices of any third-party services."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"9. Audio Content Information"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"When you participate in Side Rooms or Spaces, we collect:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Audio Content:"})," The audio data from your participation"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Metadata:"})," Information such as duration, timestamps, and participant information"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"User Association:"})," Connection between your account and the audio session"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Engagement Data:"})," Participation statistics and interaction data"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Device Information:"})," Information about the device used to participate"]})]}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We use this information to provide the audio chat services, improve our platform, and ensure quality of service. You maintain control over your audio content and can request deletion at any time, though we may retain anonymized analytics data."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"10. Children's Privacy"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"Our services are not intended for use by children under the age of 13. We do not knowingly collect personal information from children under 13. If you are a parent or guardian and believe your child has provided us with personal information, please contact us."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"11. Changes to This Policy"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last updated" date.'})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"12. Contact Us"}),(0,Ve.jsxs)(KT,{variant:"body1",paragraph:!0,children:["If you have any questions about this Privacy Policy, please contact us at:",(0,Ve.jsx)("br",{}),"Email: privacy@sideeye.com"]})]})]})}),VG=()=>(0,Ve.jsxs)(VP,{maxWidth:"lg",sx:{py:12},children:[(0,Ve.jsxs)(uT,{elevation:3,sx:{p:{xs:3,md:6},mb:6},children:[(0,Ve.jsx)(KT,{variant:"h1",component:"h1",sx:{textAlign:"center",fontWeight:"bold",mb:6,fontSize:{xs:"2.5rem",md:"3.5rem"},color:"primary.main",textTransform:"uppercase",letterSpacing:2},children:"About SideEye"}),(0,Ve.jsx)(vP,{sx:{my:6}}),(0,Ve.jsxs)(Je,{sx:{mb:8},children:[(0,Ve.jsx)(KT,{variant:"h2",sx:{fontWeight:"medium",mb:4,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary"},children:"Our Mission"}),(0,Ve.jsx)(KT,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"SideEye is a moderated social media platform dedicated to creating a safe and engaging space for users to share their thoughts, connect with others, and express themselves through various forms of content. We believe in fostering meaningful conversations while maintaining a respectful and inclusive environment through our comprehensive moderation system that ensures all users can interact authentically within clear community guidelines."})]}),(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"h2",sx:{fontWeight:"medium",mb:6,fontSize:{xs:"2rem",md:"2.5rem"},color:"text.primary"},children:"Features"}),(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:6},children:[(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Side Rooms"}),(0,Ve.jsx)(KT,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Create or join audio-based discussion rooms where you can connect with other users in real-time. Side Rooms provide a space for meaningful conversations and community building through voice interactions. These rooms can be public or private, with customizable settings for membership and moderation. Each room serves as a dedicated space for focused discussions around specific topics or interests, allowing users to engage in authentic conversations with like-minded individuals."})]}),(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Discover"}),(0,Ve.jsx)(KT,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Explore new content, find interesting users to follow, and discover trending Side Rooms through our Discover feature. This curated exploration space helps you find content aligned with your interests and introduces you to new communities within the platform. Discover makes it easy to expand your network and find engaging discussions to join."})]}),(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"AI Moderation"}),(0,Ve.jsx)(KT,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Our advanced AI moderation system automatically scans all content against our community guidelines, detecting potential violations across multiple categories including harmful content, misinformation, fraud, cybercrime, adult content, and violence. This system helps maintain a safe environment by issuing appropriate warnings or restrictions when needed, while protecting users from harmful interactions."})]}),(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"User Expression"}),(0,Ve.jsx)(KT,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Express yourself through various reaction types including sideEye, tea, shade, and petty. Our platform encourages authentic communication with features designed for meaningful social interaction. Whether you're sharing thoughts, connecting with others, or participating in discussions, SideEye provides the tools for genuine self-expression within a respectful framework."})]}),(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"h3",sx:{fontWeight:"medium",mb:3,fontSize:{xs:"1.75rem",md:"2rem"},color:"primary.main"},children:"Audio Spaces"}),(0,Ve.jsx)(KT,{variant:"h4",sx:{lineHeight:1.8,color:"text.secondary",fontSize:{xs:"1.25rem",md:"1.5rem"}},children:"Join or host live audio conversations in our Spaces feature. Similar to popular audio chat platforms, Spaces allow you to have real-time voice discussions with other users. Hosts can invite speakers, manage participants, and create an engaging audio experience. Listeners can join to hear the conversation and request to speak when appropriate. Perfect for discussions, Q&A sessions, or casual hangouts with your community."})]})]})]})]}),(0,Ve.jsx)(Je,{sx:{textAlign:"center",mt:8},children:(0,Ve.jsxs)(KT,{variant:"body2",color:"text.secondary",children:["\xa9 ",(new Date).getFullYear()," SideEye | Created by Enoch Asekomhe | All Rights Reserved"]})})]}),WG=()=>(0,Ve.jsx)(VP,{maxWidth:"md",sx:{py:4},children:(0,Ve.jsxs)(uT,{elevation:3,sx:{p:4},children:[(0,Ve.jsx)(KT,{variant:"h4",component:"h1",gutterBottom:!0,children:"Terms of Service"}),(0,Ve.jsxs)(KT,{variant:"body1",paragraph:!0,children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"1. Acceptance of Terms"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"By accessing or using SideEye, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing this site."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"2. User Accounts"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"To use certain features of SideEye, you must create an account. You are responsible for:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Maintaining the confidentiality of your account information"}),(0,Ve.jsx)("li",{children:"All activities that occur under your account"}),(0,Ve.jsx)("li",{children:"Providing accurate and complete profile information"}),(0,Ve.jsx)("li",{children:"Securing your login credentials"}),(0,Ve.jsx)("li",{children:"Notifying us immediately of any unauthorized use"})]})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"3. User Conduct"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"You agree not to:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Post or transmit any content that is unlawful, harmful, threatening, abusive, harassing, defamatory, vulgar, obscene, or otherwise objectionable"}),(0,Ve.jsx)("li",{children:"Share audio content that contains inappropriate material, copyright infringement, or violate our Community Guidelines"}),(0,Ve.jsx)("li",{children:"Harass, bully, intimidate, or stalk other users"}),(0,Ve.jsx)("li",{children:"Impersonate any person or entity or falsely state or misrepresent your affiliation with a person or entity"}),(0,Ve.jsx)("li",{children:"Interfere with or disrupt the proper functioning of the service or servers"}),(0,Ve.jsx)("li",{children:"Attempt to gain unauthorized access to any portion of the service or other systems"}),(0,Ve.jsx)("li",{children:"Use the service for any illegal purpose or in violation of any local, state, national, or international law"}),(0,Ve.jsx)("li",{children:"Collect or store personal data about other users without their consent"}),(0,Ve.jsx)("li",{children:"Create multiple accounts to evade restrictions or limitations"}),(0,Ve.jsx)("li",{children:"Engage in spamming, phishing, or other deceptive practices"})]})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"4. Content Ownership and License"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"You retain ownership of any content you post on SideEye, including audio content shared in Side Rooms and Spaces. By posting content, you grant us a worldwide, non-exclusive, royalty-free license (with the right to sublicense) to use, reproduce, process, adapt, modify, publish, transmit, display, and distribute your content in any and all media or distribution methods."}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"This license allows us to make your content available to the rest of the world and to let others do the same. The license continues even if you stop using our services, but you can delete content from public view at any time."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"5. Audio Content and Participation"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"SideEye provides audio-based features including Side Rooms and Spaces for real-time voice conversations. When participating in these features, you agree to:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Only share audio content that you have the right to share"}),(0,Ve.jsx)("li",{children:"Not share content that infringes on others' intellectual property rights"}),(0,Ve.jsx)("li",{children:"Not share content containing explicit material, hate speech, violence, or any content that violates our Community Guidelines"}),(0,Ve.jsx)("li",{children:"Respect other participants and maintain appropriate conduct during audio sessions"}),(0,Ve.jsx)("li",{children:"Grant us the license as described in Section 4 for audio content you share"}),(0,Ve.jsx)("li",{children:"Understand that we may remove content or restrict access that violates our policies without prior notice"})]}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We may provide tools to enhance your audio experience, but we do not claim ownership of your original content. We reserve the right to moderate audio sessions and take appropriate action to maintain community standards."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"6. Follower Relationships"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"SideEye allows users to follow other users and be followed by others. When you follow someone, you'll see their posts and activity on your feed. Users you follow will be able to see that you follow them. Similarly, users who follow you will be visible to you and others. You can unfollow users at any time."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"7. Direct Messages"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"SideEye provides a direct messaging feature for users to communicate privately. You are responsible for the content of your messages. While we strive to protect the privacy of your messages, we reserve the right to review content in the case of reported violations. We may take action if messages violate our guidelines."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"8. Content Moderation"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We reserve the right to moderate content posted on our platform, including audio content from Side Rooms and Spaces. We may remove, restrict, or disable access to any content or account that we determine violates these Terms or our Community Guidelines. Content moderation decisions are made in our sole discretion. Users can appeal moderation decisions through our support channels."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"9. Intellectual Property"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"The SideEye service and its original content, features, and functionality are and will remain the exclusive property of SideEye and its licensors. The service is protected by copyright, trademark, and other laws. Our trademarks and trade dress may not be used in connection with any product or service without the prior written consent of SideEye."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"10. Termination"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We reserve the right to terminate or suspend your account and access to the service at our sole discretion, without notice, for conduct that we believe violates these Terms or is harmful to other users, us, or third parties, or for any other reason. Upon termination, your right to use the service will immediately cease."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"11. Content Removal and Recovery"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"When you delete content, including audio content from Side Rooms and Spaces, it will be moved to a trash area for 24 hours before permanent deletion, allowing for recovery if accidentally deleted. We reserve the right to retain certain information as required by law or for legitimate business purposes."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"12. Disclaimer"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:'The service is provided "as is" without any warranties, express or implied. We do not guarantee that the service will be uninterrupted, timely, secure, or error-free. We make no warranties or representations about the accuracy or completeness of the content provided by our users.'})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"13. Limitation of Liability"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"In no event shall SideEye be liable for any indirect, incidental, special, consequential, or punitive damages arising out of or related to your use of the service, including but not limited to damages for loss of profits, goodwill, use, data, or other intangible losses."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"14. Indemnification"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"You agree to indemnify and hold harmless SideEye and its officers, directors, employees, and agents from any claims, damages, liabilities, costs, or expenses (including reasonable attorney fees) arising from your use of the service or your violation of these Terms."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"15. DMCA Compliance"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"SideEye respects the intellectual property rights of others. If you believe that your work has been copied in a way that constitutes copyright infringement in our audio features or elsewhere on our platform, please provide our copyright agent with the following information:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"An electronic or physical signature of the person authorized to act on behalf of the copyright owner"}),(0,Ve.jsx)("li",{children:"A description of the copyrighted work that you claim has been infringed"}),(0,Ve.jsx)("li",{children:"A description of where the material that you claim is infringing is located on the site"}),(0,Ve.jsx)("li",{children:"Your address, telephone number, and email address"}),(0,Ve.jsx)("li",{children:"A statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent, or the law"}),(0,Ve.jsx)("li",{children:"A statement by you, made under penalty of perjury, that the above information is accurate and that you are the copyright owner or authorized to act on the copyright owner's behalf"})]}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"Our copyright agent can be reached at: dmca@sideeye.com"})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"16. Changes to Terms"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:'We reserve the right to modify these Terms at any time. We will notify users of any material changes by posting the new Terms on the service and updating the "Last updated" date. Your continued use of the service after such changes constitutes your acceptance of the new Terms.'})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"17. Governing Law"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"These Terms shall be governed by and construed in accordance with the laws of the jurisdiction in which we operate, without regard to its conflict of law provisions."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"18. Contact Information"}),(0,Ve.jsxs)(KT,{variant:"body1",paragraph:!0,children:["If you have any questions about these Terms, please contact us at:",(0,Ve.jsx)("br",{}),"Email: legal@sideeye.com"]})]})]})}),HG=()=>(0,Ve.jsx)(VP,{maxWidth:"md",sx:{py:4},children:(0,Ve.jsxs)(uT,{elevation:3,sx:{p:4},children:[(0,Ve.jsx)(KT,{variant:"h4",component:"h1",gutterBottom:!0,children:"Cookie Policy"}),(0,Ve.jsxs)(KT,{variant:"body1",paragraph:!0,children:["Last updated: ",(new Date).toLocaleDateString()]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"Introduction"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We use cookies and similar technologies to provide, improve, and secure our services. This Cookie Policy explains how we use cookies, what types we use, their purposes, and how you can control them. These technologies help us deliver our audio-based features, including Side Rooms and Spaces, and ensure a smooth user experience."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"What Are Cookies?"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:'Cookies are small text files that are stored on your device when you visit a website. They are widely used to make websites work more efficiently and provide information to the website owners. Cookies can be "persistent" or "session" cookies. Persistent cookies remain on your device after you close your browser, while session cookies are deleted when you close your browser.'})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"Types of Cookies We Use"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We use the following types of cookies for the purposes explained below:"}),(0,Ve.jsx)(KT,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"1. Essential Cookies"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"These cookies are necessary for the functioning of our platform and cannot be switched off. They include:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Authentication cookies to recognize you when you log in"}),(0,Ve.jsx)("li",{children:"Security cookies to prevent fraudulent activities"}),(0,Ve.jsx)("li",{children:"Session cookies to maintain your active session"})]}),(0,Ve.jsx)(KT,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"2. Performance Cookies"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"These cookies help us understand how visitors interact with our platform by collecting information anonymously. They include:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Analytics cookies to measure user interactions with content"}),(0,Ve.jsx)("li",{children:"Error monitoring cookies to identify and fix platform issues"}),(0,Ve.jsx)("li",{children:"Load balancing cookies to distribute traffic to our servers"}),(0,Ve.jsx)("li",{children:"Audio quality monitoring cookies to ensure optimal performance"})]}),(0,Ve.jsx)(KT,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"3. Functional Cookies"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"These cookies enable enhanced functionality and personalization. They include:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Preference cookies to remember your settings and choices"}),(0,Ve.jsx)("li",{children:"Interface customization cookies for personalized layouts"}),(0,Ve.jsx)("li",{children:"Language preference cookies"})]}),(0,Ve.jsx)(KT,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"4. Targeting/Advertising Cookies"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"These cookies may be set through our site by our advertising partners to build a profile of your interests. They include:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Social media cookies for content sharing and network integration"}),(0,Ve.jsx)("li",{children:"Recommendation cookies to suggest relevant content"})]})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"Specific Cookies Used by SideEye"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"Below are some of the key cookies we use on SideEye:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"sideeye_session"}),": Authentication and session management"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"sideeye_preferences"}),": Stores user preferences like theme and layout settings"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"sideeye_auth"}),": Maintains login state and authentication details"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"sideeye_analytics"}),": Collects anonymous usage data to improve our services"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"sideeye_audio"}),": Stores audio quality preferences and device settings"]})]})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"Third-Party Cookies"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We may allow third parties to place cookies on your device when you visit our platform. These third parties include:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Analytics providers"})," (such as Google Analytics) to help us understand user behavior"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Social media platforms"})," (such as Twitter, Facebook) when you use social sharing features"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Security services"})," to protect against malicious activities"]})]}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"These third parties may use cookies, web beacons, and similar technologies to collect information about your use of our platform and other websites. We do not control these third-party technologies and their use is governed by the privacy policies of these third parties."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"Managing Your Cookie Preferences"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"You can control and/or delete cookies as you wish. You can delete all cookies that are already on your device and you can set most browsers to prevent them from being placed. However, if you do this, you may have to manually adjust some preferences every time you visit our platform, and some services and functionalities may not work."}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"You can manage your cookie preferences through your browser settings:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsxs)("li",{children:["Chrome: Settings ","->"," Privacy and Security ","->"," Cookies and other site data"]}),(0,Ve.jsxs)("li",{children:["Firefox: Options ","->"," Privacy & Security ","->"," Cookies and Site Data"]}),(0,Ve.jsxs)("li",{children:["Safari: Preferences ","->"," Privacy ","->"," Cookies and website data"]}),(0,Ve.jsxs)("li",{children:["Edge: Settings ","->"," Cookies and site permissions ","->"," Cookies and site data"]})]}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"For more information about cookies and how to disable them, please visit www.allaboutcookies.org"})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"Do Not Track"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:'Some browsers have a "Do Not Track" feature that signals to websites that you visit that you do not want to have your online activity tracked. Given the diverse and evolving state of "Do Not Track" implementations, we may or may not respond to "Do Not Track" signals.'})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"Changes to Our Cookie Policy"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We may update our Cookie Policy from time to time. Any changes will be posted on this page with an updated revision date. We encourage you to review this Cookie Policy periodically to stay informed about our use of cookies."})]}),(0,Ve.jsxs)(Je,{sx:{mt:4},children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"Contact Us"}),(0,Ve.jsxs)(KT,{variant:"body1",paragraph:!0,children:["If you have any questions about our use of cookies, please contact us at:",(0,Ve.jsx)("br",{}),"Email: privacy@sideeye.com"]})]})]})}),qG=()=>{const e=Z(),{currentUser:t,user:n,loading:o,sendEmailVerification:i,forceCheckEmailVerification:s}=(X(),jk()),[a,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{if(!o&&(t||n)){const r=t||n;try{const t=await s(r);console.log("Email verification status on page load:",t),t&&(console.log("User email is verified, redirecting to setup source code..."),e("/setup-source-code",{replace:!0}))}catch(gJ){console.error("Error checking verification status:",gJ)}}})()}),[t,n,o,e,s]);const v=async()=>{if(!(t||n))return u("Not logged in. Cannot resend verification email."),void e("/login");try{l(!0),u(null),h(!1),await i(),h(!0),u(null)}catch(c){console.error("Error sending verification email:",c),u(c.message||"Failed to send verification email. Please try again."),h(!1)}finally{l(!1)}};if(o)return(0,Ve.jsx)(VP,{maxWidth:"sm",children:(0,Ve.jsx)(Je,{sx:{display:"flex",justifyContent:"center",mt:8},children:(0,Ve.jsx)(HN,{})})});const y=t||n,b=(null===y||void 0===y?void 0:y.email)||"your registered email";return(0,Ve.jsx)(VP,{maxWidth:"sm",children:(0,Ve.jsxs)(uT,{elevation:0,sx:{mt:8,p:4},children:[(0,Ve.jsx)(KT,{variant:"h4",gutterBottom:!0,align:"center",children:"Verify Your Email"}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,align:"center",children:"A verification email has been sent to:"}),(0,Ve.jsx)(KT,{variant:"h6",align:"center",gutterBottom:!0,sx:{fontWeight:"bold"},children:b}),(0,Ve.jsx)(KT,{variant:"body1",color:"text.secondary",paragraph:!0,align:"center",children:"Please check your inbox (and spam folder) and click the verification link."}),c&&(0,Ve.jsx)(lN,{severity:"error",sx:{mb:2},children:c}),d&&(0,Ve.jsx)(lN,{severity:"success",sx:{mb:2},children:"Verification email sent! Please check your inbox (and spam folder)."}),m&&!c&&(0,Ve.jsxs)(lN,{severity:"info",sx:{mb:2},children:["Verification status checked at ",m.toLocaleTimeString(),". Email is not yet verified."]}),(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:2,mt:3},children:[(0,Ve.jsx)(sI,{variant:"outlined",onClick:async()=>{const r=t||n;if(!r)return u("Not logged in. Cannot check verification status."),void e("/login");try{f(!0),u(null);const t=await s(r);g(new Date),console.log("Manual verification check result:",t),t?e("/setup-source-code",{replace:!0}):u("Email not verified yet. Please check your email and click the verification link.")}catch(c){console.error("Error checking verification status:",c),u(c.message||"Failed to check verification status. Please try again.")}finally{f(!1)}},disabled:a||p,color:"primary",fullWidth:!0,children:p?(0,Ve.jsx)(HN,{size:24,color:"inherit"}):"I've Verified My Email"}),(0,Ve.jsx)(sI,{variant:"text",onClick:v,disabled:a||p,color:"secondary",fullWidth:!0,children:a?(0,Ve.jsx)(HN,{size:24,color:"inherit"}):"Resend Verification Email"})]}),(0,Ve.jsx)(vP,{sx:{my:3}}),(0,Ve.jsxs)(KT,{variant:"body2",color:"text.secondary",align:"center",children:["Having trouble? Try ",(0,Ve.jsx)(RN,{component:"button",onClick:v,children:"sending the email again"})," or ",(0,Ve.jsx)(RN,{component:"button",onClick:()=>e("/login"),children:"login with a different account"}),"."]})]})})},GG=()=>(0,Ve.jsx)(VP,{maxWidth:"md",children:(0,Ve.jsxs)(Je,{sx:{py:4},children:[(0,Ve.jsx)(KT,{variant:"h4",sx:{mb:4},children:"Trash"}),(0,Ve.jsx)(KT,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Posts in the trash will be automatically deleted after 24 hours. You can restore them before then."})]})}),KG=()=>{const{userId:e}=ee(),{db:t}=mB(),[n,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[a,l]=(0,r.useState)(null),{currentUser:c}=jk();return(0,r.useEffect)((()=>{(async()=>{if(t&&e){console.log("Firestore database initialized:",t),console.log("User ID:",e);try{const n=await gv(ng(t,"users",e));if(!n.exists())return void l("User not found");const r=n.data().isPrivate||!1;if(!(!r||c&&c.uid===e))return void l("This account is private. Follow to see their followers.");const i=tg(t,"users",e,"followers"),s=await yv(i);console.log("Followers snapshot size:",s.size);const a=s.docs.map((async e=>{const n=e.id,r=await gv(ng(t,"users",n));if(r.exists()){return{...r.data(),id:n}}return null})),u=await Promise.all(a);o(u.filter(Boolean))}catch(gJ){l("Failed to fetch followers"),console.error("Error fetching followers:",gJ)}finally{s(!1)}}else console.error("Firestore database or userId is not initialized")})()}),[t,e,c]),i?(0,Ve.jsx)(Je,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,Ve.jsx)(HN,{})}):a?(0,Ve.jsx)(Je,{p:3,children:(0,Ve.jsx)(KT,{color:"error",children:a})}):(0,Ve.jsxs)(Je,{p:3,children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"Followers"}),(0,Ve.jsxs)(pI,{children:[n.map((e=>(0,Ve.jsxs)(FF,{component:Ie,to:`/profile/${e.id}`,sx:{textDecoration:"none",color:"inherit","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[(0,Ve.jsx)(FV,{children:(0,Ve.jsx)(zT,{src:e.profilePic,alt:e.username})}),(0,Ve.jsx)(hP,{primary:e.username,secondary:e.name})]},e.id))),0===n.length&&(0,Ve.jsx)(KT,{variant:"body1",color:"text.secondary",children:"No followers yet"})]})]})},YG=()=>{const{userId:e}=ee(),{db:t}=mB(),[n,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[a,l]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{if(t&&e)try{const n=tg(t,"users",e,"following"),r=await yv(n);console.log("Following snapshot size:",r.size);const i=r.docs.map((async e=>{const n=e.id,r=await gv(ng(t,"users",n));if(r.exists()){return{...r.data(),id:n}}return null})),s=await Promise.all(i);o(s.filter(Boolean))}catch(gJ){l("Failed to fetch following"),console.error("Error fetching following:",gJ)}finally{s(!1)}})()}),[t,e]),i?(0,Ve.jsx)(Je,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,Ve.jsx)(HN,{})}):a?(0,Ve.jsx)(Je,{p:3,children:(0,Ve.jsx)(KT,{color:"error",children:a})}):(0,Ve.jsxs)(Je,{p:3,children:[(0,Ve.jsx)(KT,{variant:"h5",gutterBottom:!0,children:"Following"}),(0,Ve.jsxs)(pI,{children:[n.map((e=>(0,Ve.jsxs)(FF,{component:Ie,to:`/profile/${e.id}`,sx:{textDecoration:"none",color:"inherit","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[(0,Ve.jsx)(FV,{children:(0,Ve.jsx)(zT,{src:e.profilePic,alt:e.username})}),(0,Ve.jsx)(hP,{primary:e.username,secondary:e.name})]},e.id))),0===n.length&&(0,Ve.jsx)(KT,{variant:"body1",color:"text.secondary",children:"Not following anyone yet"})]})]})};function QG(e){return(0,iT.Ay)("MuiDialogContentText",e)}(0,Ke.A)("MuiDialogContentText",["root"]);const XG=["children","className"],JG=(0,tT.Ay)(KT,{shouldForwardProp:e=>(0,YE.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ZG=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiDialogContentText"}),{className:r}=n,o=(0,De.A)(n,XG),i=(e=>{const{classes:t}=e,n=(0,eT.A)({root:["root"]},QG,t);return(0,je.A)({},t,n)})(o);return(0,Ve.jsx)(JG,(0,je.A)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:(0,Ne.A)(i.root,r)},n,{classes:i}))})),eK=ZG,tK=(0,AT.A)([(0,Ve.jsx)("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22z"},"0"),(0,Ve.jsx)("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")],"WarningAmber"),nK=(0,AT.A)((0,Ve.jsx)("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause"),rK=(0,AT.A)((0,Ve.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever"),oK=()=>{const{currentUser:e,logout:t}=jk(),n=Z(),[o,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),[f,m]=(0,r.useState)(null);return(0,Ve.jsxs)(VP,{maxWidth:"md",sx:{py:4},children:[(0,Ve.jsxs)(uT,{elevation:3,sx:{p:4},children:[(0,Ve.jsxs)(KT,{variant:"h4",component:"h1",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Ve.jsx)(tK,{color:"warning"})," Account Management"]}),(0,Ve.jsx)(lN,{severity:"info",sx:{mt:2,mb:4},children:"You have the right to control your data. You can deactivate your account temporarily or delete it permanently."}),f&&(0,Ve.jsx)(lN,{severity:"error",sx:{mt:2,mb:2},children:f}),(0,Ve.jsxs)(Je,{sx:{mb:5},children:[(0,Ve.jsxs)(KT,{variant:"h5",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"medium",display:"flex",alignItems:"center",gap:1},children:[(0,Ve.jsx)(nK,{})," Deactivate Account"]}),(0,Ve.jsx)(vP,{sx:{mb:3}}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"Deactivating your account will temporarily hide your profile, posts, and comments from other users. Your account will remain in our systems, and you can reactivate it at any time by simply logging in again."}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:(0,Ve.jsx)("strong",{children:"What happens when you deactivate:"})}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Your profile becomes hidden from other users"}),(0,Ve.jsx)("li",{children:"Your posts and comments are hidden but not deleted"}),(0,Ve.jsx)("li",{children:"You won't receive notifications"}),(0,Ve.jsx)("li",{children:"You can reactivate by logging in at any time"})]}),(0,Ve.jsx)(sI,{variant:"outlined",color:"warning",startIcon:(0,Ve.jsx)(nK,{}),onClick:()=>i(!0),sx:{mt:2},disabled:h,children:"Deactivate Account"})]}),(0,Ve.jsxs)(Je,{children:[(0,Ve.jsxs)(KT,{variant:"h5",gutterBottom:!0,sx:{color:"error.main",fontWeight:"medium",display:"flex",alignItems:"center",gap:1},children:[(0,Ve.jsx)(rK,{})," Delete Account Permanently"]}),(0,Ve.jsx)(vP,{sx:{mb:3}}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"Deleting your account is permanent. All your data will be wiped from our systems and cannot be recovered."}),(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:(0,Ve.jsx)("strong",{children:"What happens when you delete your account:"})}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Your profile, posts, comments, and all other data are permanently deleted"}),(0,Ve.jsx)("li",{children:"You will lose access to your account history and connections"}),(0,Ve.jsx)("li",{children:"This action cannot be undone"}),(0,Ve.jsx)("li",{children:"If you want to use SideEye again, you'll need to create a new account"})]}),(0,Ve.jsx)(sI,{variant:"contained",color:"error",startIcon:(0,Ve.jsx)(rK,{}),onClick:()=>a(!0),sx:{mt:2},disabled:h,children:"Delete Account Permanently"})]})]}),(0,Ve.jsxs)(_z,{open:o,onClose:()=>i(!1),children:[(0,Ve.jsx)(sB,{children:"Confirm Account Deactivation"}),(0,Ve.jsx)(pz,{children:(0,Ve.jsx)(eK,{children:"Are you sure you want to deactivate your account? Your profile and content will be hidden until you log in again."})}),(0,Ve.jsxs)(xF,{children:[(0,Ve.jsx)(sI,{onClick:()=>i(!1),disabled:h,children:"Cancel"}),(0,Ve.jsx)(sI,{onClick:async()=>{if(e){p(!0),m(null);try{const r=ng(D_,"users",e.uid);await wv(r,{isActive:!1,deactivatedAt:(new Date).toISOString()}),await t(),aS.success("Your account has been deactivated. You can reactivate it by logging in again."),n("/login")}catch(gJ){console.error("Error deactivating account:",gJ),m("Failed to deactivate account. Please try again.")}finally{p(!1),i(!1)}}else m("You must be logged in to deactivate your account")},color:"warning",disabled:h,startIcon:h?(0,Ve.jsx)(HN,{size:20}):null,children:h?"Deactivating...":"Deactivate Account"})]})]}),(0,Ve.jsxs)(_z,{open:s,onClose:()=>a(!1),children:[(0,Ve.jsx)(sB,{children:"Delete Account"}),(0,Ve.jsxs)(pz,{children:[(0,Ve.jsx)(eK,{sx:{mb:2},children:"To confirm account deletion, please enter your password. This will permanently delete your account and all associated data."}),(0,Ve.jsx)(GD,{autoFocus:!0,margin:"dense",label:"Password",type:"password",fullWidth:!0,value:u,onChange:e=>d(e.target.value),variant:"outlined"})]}),(0,Ve.jsxs)(xF,{children:[(0,Ve.jsx)(sI,{onClick:()=>a(!1),disabled:h,children:"Cancel"}),(0,Ve.jsx)(sI,{onClick:()=>c(!0),color:"error",disabled:h||!u,children:"Proceed"})]})]}),(0,Ve.jsxs)(_z,{open:l,onClose:()=>c(!1),children:[(0,Ve.jsxs)(sB,{children:[(0,Ve.jsx)(tK,{color:"error"})," Final Warning"]}),(0,Ve.jsx)(pz,{children:(0,Ve.jsxs)(eK,{children:[(0,Ve.jsx)("strong",{children:"This action cannot be undone."})," Your account and all your data will be permanently deleted from our servers. Are you absolutely sure you want to proceed?"]})}),(0,Ve.jsxs)(xF,{children:[(0,Ve.jsx)(sI,{onClick:()=>c(!1),disabled:h,children:"No, Keep My Account"}),(0,Ve.jsx)(sI,{onClick:async()=>{const e=ca().currentUser;if(!e)return m("You must be logged in to delete your account"),void aS.error("Authentication error. Please log in again.");if(u){p(!0),m(null);try{if(!e.email)throw new Error("User email is not available for re-authentication.");const t=wi.credential(e.email,u);await Oi(e,t),console.log("Re-authentication successful");const r=ng(D_,"users",e.uid);await xv(r),console.log("Firestore user document deleted"),console.log("Cloud Function 'onUserDeleted' will handle further data cleanup."),await async function(e){return en(e).delete()}(e),console.log("Firebase Auth user deleted"),aS.success("Your account has been permanently deleted."),n("/login")}catch(gJ){console.error("Error deleting account:",gJ),"auth/wrong-password"===gJ.code||gJ.message.includes("auth/wrong-password")?(m("Incorrect password. Please try again."),aS.error("Incorrect password.")):"auth/requires-recent-login"===gJ.code||gJ.message.includes("auth/requires-recent-login")?(m("This operation requires a recent login. Please log out and log back in before deleting."),aS.error("Please log out and log back in to delete your account.")):(m(`Failed to delete account: ${gJ.message||gJ.code||"Unknown error"}`),aS.error("An error occurred during deletion."))}finally{p(!1),d(""),f?(c(!0),a(!0)):(c(!1),a(!1))}}else m("Please enter your password to confirm deletion")},color:"error",disabled:h,startIcon:h?(0,Ve.jsx)(HN,{size:20}):(0,Ve.jsx)(rK,{}),children:h?"Deleting...":"Yes, Delete Permanently"})]})]})]})},iK=e=>{let{children:t,requireAuth:n=!0,requireEmailVerification:o=!0,requireDeviceSetup:i=!0}=e;const{currentUser:s,userProfile:a,loading:l}=jk(),c=X();return(0,r.useEffect)((()=>{l||s||(window.location.href=`/login?redirect=${encodeURIComponent(c.pathname)}`)}),[s,l,c]),l?(0,Ve.jsx)(Je,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,Ve.jsx)(HN,{})}):n&&!s?(0,Ve.jsx)(me,{to:"/login",replace:!0}):o&&s&&!s.emailVerified?(0,Ve.jsx)(me,{to:"/verify-email",replace:!0}):i&&s&&a&&!a.sourceCodeSetupComplete?(0,Ve.jsx)(me,{to:"/setup-source-code",replace:!0}):(0,Ve.jsx)(Ve.Fragment,{children:t})};class sK extends r.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null},this.handleRetry=()=>{this.setState({hasError:!1,error:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){var e;return this.state.hasError?(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,textAlign:"center"},children:[(0,Ve.jsx)(KT,{variant:"h4",gutterBottom:!0,children:"Oops! Something went wrong"}),(0,Ve.jsx)(KT,{variant:"body1",color:"text.secondary",paragraph:!0,children:(null===(e=this.state.error)||void 0===e?void 0:e.message)||"An unexpected error occurred"}),(0,Ve.jsx)(sI,{variant:"contained",color:"primary",onClick:this.handleRetry,sx:{mt:2},children:"Try Again"})]}):this.props.children}}const aK=sK;const lK=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:o,open:i,resumeHideDuration:s}=e,a=(0,cE.A)();r.useEffect((()=>{if(i)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==o||o(e,"escapeKeyDown")}}),[i,o]);const l=(0,cR.A)(((e,t)=>{null==o||o(e,t)})),c=(0,cR.A)((e=>{o&&null!=e&&a.start(e,(()=>{l(null,"timeout")}))}));r.useEffect((()=>(i&&c(t),a.clear)),[i,t,c,a]);const u=a.clear,d=r.useCallback((()=>{null!=t&&c(null!=s?s:.5*t)}),[t,s,c]),h=e=>t=>{const n=e.onFocus;null==n||n(t),u()},p=e=>t=>{const n=e.onMouseEnter;null==n||n(t),u()},f=e=>t=>{const n=e.onMouseLeave;null==n||n(t),d()};return r.useEffect((()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}}),[n,i,d,u]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,je.A)({},IT(e),IT(t));return(0,je.A)({role:"presentation"},t,n,{onBlur:(r=n,e=>{const t=r.onBlur;null==t||t(e),d()}),onFocus:h(n),onMouseEnter:p(n),onMouseLeave:f(n)});var r},onClickAway:e=>{null==o||o(e,"clickaway")}}};function cK(e){return(0,iT.Ay)("MuiSnackbarContent",e)}(0,Ke.A)("MuiSnackbarContent",["root","message","action"]);const uK=["action","className","message","role"],dK=(0,tT.Ay)(uT,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98,r=(0,rT.tL)(t.palette.background.default,n);return(0,je.A)({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),hK=(0,tT.Ay)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),pK=(0,tT.Ay)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),fK=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiSnackbarContent"}),{action:r,className:o,message:i,role:s="alert"}=n,a=(0,De.A)(n,uK),l=n,c=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"],action:["action"],message:["message"]},cK,t)})(l);return(0,Ve.jsxs)(dK,(0,je.A)({role:s,square:!0,elevation:6,className:(0,Ne.A)(c.root,o),ownerState:l,ref:t},a,{children:[(0,Ve.jsx)(hK,{className:c.message,ownerState:l,children:i}),r?(0,Ve.jsx)(pK,{className:c.action,ownerState:l,children:r}):null]}))})),mK=fK;function gK(e){return(0,iT.Ay)("MuiSnackbar",e)}(0,Ke.A)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const vK=["onEnter","onExited"],yK=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],bK=(0,tT.Ay)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${(0,nT.A)(n.anchorOrigin.vertical)}${(0,nT.A)(n.anchorOrigin.horizontal)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:(0,je.A)({},"top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===n.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===n.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===n.anchorOrigin.horizontal&&{right:24,left:"auto"})})})),wK=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiSnackbar"}),o=LI(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:h,ContentProps:p,disableWindowBlurListener:f=!1,message:m,open:g,TransitionComponent:v=HI,transitionDuration:y=i,TransitionProps:{onEnter:b,onExited:w}={}}=n,x=(0,De.A)(n.TransitionProps,vK),A=(0,De.A)(n,yK),_=(0,je.A)({},n,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:f,TransitionComponent:v,transitionDuration:y}),S=(e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${(0,nT.A)(n.vertical)}${(0,nT.A)(n.horizontal)}`]};return(0,eT.A)(r,gK,t)})(_),{getRootProps:C,onClickAway:k}=lK((0,je.A)({},_)),[T,E]=r.useState(!0),I=UE({elementType:bK,getSlotProps:C,externalForwardedProps:A,ownerState:_,additionalProps:{ref:t},className:[S.root,d]});return!g&&T?null:(0,Ve.jsx)(AW,(0,je.A)({onClickAway:k},h,{children:(0,Ve.jsx)(bK,(0,je.A)({},I,{children:(0,Ve.jsx)(v,(0,je.A)({appear:!0,in:g,timeout:y,direction:"top"===a?"down":"up",onEnter:(e,t)=>{E(!1),b&&b(e,t)},onExited:e=>{E(!0),w&&w(e)}},x,{children:u||(0,Ve.jsx)(mK,(0,je.A)({message:m,action:s},p))}))}))}))})),xK=wK,AK=e=>{let{children:t,maxRequests:n=10,timeWindow:o=6e4}=e;const[i,s]=(0,r.useState)(null),a=(0,r.useRef)(0),l=(0,r.useRef)(Date.now()),c=(0,r.useCallback)((()=>{const e=Date.now();return e-l.current>=o&&(a.current=0,l.current=e),a.current>=n?(s(`Rate limit exceeded. Please try again in ${Math.ceil((o-(e-l.current))/1e3)} seconds.`),!1):(a.current++,!0)}),[n,o]),u=()=>{s(null)};return(0,Ve.jsxs)(Ve.Fragment,{children:[r.Children.map(t,(e=>r.isValidElement(e)?r.cloneElement(e,{checkRateLimit:c}):e)),(0,Ve.jsx)(xK,{open:!!i,autoHideDuration:6e3,onClose:u,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,Ve.jsx)(lN,{onClose:u,severity:"error",sx:{width:"100%"},children:i})})]})},_K=()=>{const{notifications:e,unreadCount:t,markAllAsRead:n,markAsRead:o,deleteNotification:i,loading:s}=Lk(),{currentUser:a}=jk(),l=Z();(0,r.useEffect)((()=>{}),[t]);return s?(0,Ve.jsx)(VP,{maxWidth:"sm",sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:(0,Ve.jsx)(HN,{})}):(0,Ve.jsxs)(VP,{maxWidth:"sm",sx:{mt:4,mb:4},children:[(0,Ve.jsxs)(Je,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,Ve.jsx)(KT,{variant:"h5",component:"h1",children:"Notifications"}),e.length>0&&t>0&&(0,Ve.jsx)(KT,{variant:"caption",color:"textSecondary",onClick:()=>{null!==a&&void 0!==a&&a.uid&&n(a.uid)},sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:"Mark all as read"})]}),0===e.length?(0,Ve.jsx)(KT,{textAlign:"center",color:"textSecondary",children:"No notifications yet."}):(0,Ve.jsx)(pI,{sx:{bgcolor:"background.paper",borderRadius:2},children:e.map(((t,n)=>{return(0,Ve.jsxs)(r.Fragment,{children:[(0,Ve.jsxs)(FF,{alignItems:"flex-start",onClick:()=>(e=>{e.isRead||o(e.id);let t="/notifications";switch(e.type){case"like":case"comment":case"mention":case"repost":e.postId&&(t=`/post/${e.postId}`);break;case"vibit_like":case"vibit_comment":case"vibit_mention":e.postId&&(t=`/vibit/${e.postId}`);break;case"follow":e.senderId&&(t=`/profile/${e.senderId}`);break;case"room_invite":case"room_invitation":case"room_removal":e.roomId&&(t=`/side-room/${e.roomId}`);break;default:console.warn(`Unhandled notification type for navigation: ${e.type}`)}console.log(`Navigating to: ${t} for notification type: ${e.type}`),l(t)})(t),sx:{cursor:"pointer",backgroundColor:t.isRead?"transparent":"action.hover","&:hover":{backgroundColor:"action.selected"}},secondaryAction:(0,Ve.jsx)(OE,{edge:"end","aria-label":"delete",onClick:e=>{return n=e,r=t.id,n.stopPropagation(),void i(r);var n,r},children:(0,Ve.jsx)(QB,{fontSize:"small"})}),children:[(0,Ve.jsx)(FV,{sx:{mr:1},children:(0,Ve.jsx)(Ie,{to:`/profile/${t.senderId}`,onClick:e=>e.stopPropagation(),style:{textDecoration:"none"},children:(0,Ve.jsx)(zT,{alt:t.senderName||"User",src:t.senderAvatar||void 0,sx:{bgcolor:t.senderAvatar?void 0:"primary.main",width:40,height:40},children:!t.senderAvatar&&t.senderName?t.senderName.charAt(0).toUpperCase():null})})}),(0,Ve.jsx)(hP,{primary:(0,Ve.jsx)(KT,{component:"span",variant:"body2",color:"text.primary",children:t.content||"Notification content missing."}),secondary:(0,Ve.jsx)(KT,{component:"span",variant:"caption",color:"text.secondary",children:(s=t.createdAt,s&&s instanceof Date&&!isNaN(s.getTime())?yW(s,{addSuffix:!0}):"Invalid date")})})]}),n<e.length-1&&(0,Ve.jsx)(vP,{variant:"inset",component:"li"})]},t.id);var s}))})]})},SK={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let CK;const kK=new Uint8Array(16);function TK(){if(!CK&&(CK="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!CK))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return CK(kK)}const EK=[];for(let n=0;n<256;++n)EK.push((n+256).toString(16).slice(1));function IK(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return EK[e[t+0]]+EK[e[t+1]]+EK[e[t+2]]+EK[e[t+3]]+"-"+EK[e[t+4]]+EK[e[t+5]]+"-"+EK[e[t+6]]+EK[e[t+7]]+"-"+EK[e[t+8]]+EK[e[t+9]]+"-"+EK[e[t+10]]+EK[e[t+11]]+EK[e[t+12]]+EK[e[t+13]]+EK[e[t+14]]+EK[e[t+15]]}const RK=function(e,t,n){if(SK.randomUUID&&!t&&!e)return SK.randomUUID();const r=(e=e||{}).random||(e.rng||TK)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return IK(r)},PK=()=>{const{currentUser:e,user:t,loading:n,userProfile:o}=jk(),i=Z(),[s,a]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(null),[h,p]=(0,r.useState)(null),[f,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)("");(0,r.useEffect)((()=>{(async()=>{try{let r="";try{r=localStorage.getItem("deviceId")||""}catch(L_){console.log("localStorage access blocked, generating new device ID")}if(!r){r=RK();try{localStorage.setItem("deviceId",r)}catch(L_){console.log("Failed to store device ID in localStorage")}}if(v(r),n)return;if(!(e||t))return void i("/login");null!==o&&void 0!==o&&o.sourceCodeSetupComplete&&i("/")}catch(gJ){console.error("Device initialization error:",gJ),d("Failed to initialize device")}})()}),[e,t,n,i,o]);return n?(0,Ve.jsx)(VP,{maxWidth:"sm",children:(0,Ve.jsx)(Je,{display:"flex",justifyContent:"center",mt:8,children:(0,Ve.jsx)(HN,{})})}):(0,Ve.jsx)(VP,{maxWidth:"xs",children:(0,Ve.jsxs)(uT,{elevation:3,sx:{mt:8,p:4},children:[(0,Ve.jsx)(KT,{variant:"h5",align:"center",gutterBottom:!0,children:"Device Registration"}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",align:"center",paragraph:!0,children:g?`Device ID: ${g.slice(0,8)}...`:"Generating device ID..."}),u&&(0,Ve.jsx)(lN,{severity:"error",sx:{mb:2},children:u}),h&&(0,Ve.jsx)(lN,{severity:"success",sx:{mb:2},children:h}),(0,Ve.jsxs)(Je,{component:"form",onSubmit:async n=>{if(n.preventDefault(),!(/^\d{8}$/.test(s)?s===l||(d("Codes do not match"),0):(d("Source code must be exactly 8 digits"),0)))return;if(!g)return void d("Device identification failed. Please refresh the page.");const r=e||t;if(r&&D_){m(!0),d(null);try{const e=iC.genSaltSync(10),t=iC.hashSync(s,e);if(!g||"string"!==typeof g)throw new Error("Invalid device ID");const n=ng(D_,"users",r.uid);await wv(n,{sourceCodeHash:t,sourceCodeSetupComplete:!0,registeredDevices:jv(g),lastUpdated:Pv()});const o=await gv(n);if(!o.exists()||!o.data().sourceCodeSetupComplete)throw new Error("Failed to update source code settings");localStorage.setItem("deviceId",g),p("Device registration successful! Redirecting..."),setTimeout((()=>i("/")),1500)}catch(gJ){console.error("Setup error:",gJ),d("permission-denied"===gJ.code?"Permission denied. Please contact support.":gJ.message.includes("device")?"Device registration failed. Please try again.":"Setup failed. Please try again.")}finally{m(!1)}}else d("Authentication error")},sx:{mt:2},children:[(0,Ve.jsx)(GD,{fullWidth:!0,margin:"normal",label:"8-Digit Security Code",value:s,type:"password",onChange:e=>a(e.target.value.replace(/\D/g,"").slice(0,8)),inputProps:{maxLength:8,inputMode:"numeric",pattern:"[0-9]*"},required:!0}),(0,Ve.jsx)(GD,{fullWidth:!0,margin:"normal",label:"Confirm Security Code",value:l,type:"password",onChange:e=>c(e.target.value.replace(/\D/g,"").slice(0,8)),inputProps:{maxLength:8,inputMode:"numeric",pattern:"[0-9]*"},required:!0}),(0,Ve.jsx)(sI,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3},disabled:f||!g,children:f?(0,Ve.jsx)(HN,{size:24}):"Register This Device"})]})]})})},jK=()=>{const{verifySourceCodeAndCompleteLogin:e,loading:t,error:n,setError:o,tempUserForSourceCode:i,currentUser:s}=jk(),a=Z(),[l,c]=(0,r.useState)("");(0,r.useEffect)((()=>{if(!s&&!i&&!t)return console.log("No temporary or current user found, redirecting to login."),void a("/login",{replace:!0});o(null)}),[s,i,a,t,o]);return(0,Ve.jsx)(VP,{maxWidth:"xs",children:(0,Ve.jsxs)(uT,{elevation:0,sx:{mt:8,p:4},children:[(0,Ve.jsx)(KT,{variant:"h5",component:"h1",gutterBottom:!0,align:"center",children:"Enter Source Code"}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",align:"center",paragraph:!0,children:"Enter your 8-digit source code to complete login."}),(0,Ve.jsxs)(Je,{component:"form",onSubmit:async t=>{t.preventDefault(),o(null),/^[0-9]{8}$/.test(l)?await e(l):o("Source code must be exactly 8 digits.")},noValidate:!0,sx:{mt:1},children:[(0,Ve.jsx)(GD,{margin:"normal",required:!0,fullWidth:!0,id:"source-code",label:"8-Digit Source Code",name:"source-code",type:"password",inputProps:{maxLength:8,pattern:"[0-9]*",inputMode:"numeric"},value:l,onChange:e=>c(e.target.value.replace(/\\D/g,"").slice(0,8)),autoFocus:!0}),n&&(0,Ve.jsx)(lN,{severity:"error",sx:{mt:2},children:n}),(0,Ve.jsx)(sI,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:t,children:t?(0,Ve.jsx)(HN,{size:24}):"Verify Code"}),(0,Ve.jsx)(Je,{textAlign:"center",children:(0,Ve.jsx)(RN,{component:Ie,to:"/reset-source-code",variant:"body2",sx:{mt:1},children:"Forgot Source Code?"})})]})]})})},DK=()=>{Z();const[e,t]=(0,r.useState)(""),[n,o]=(0,r.useState)(!1),[i,s]=(0,r.useState)(null),[a,l]=(0,r.useState)(null);return(0,Ve.jsx)(VP,{maxWidth:"xs",children:(0,Ve.jsxs)(uT,{elevation:0,sx:{mt:8,p:4},children:[(0,Ve.jsx)(KT,{variant:"h5",component:"h1",gutterBottom:!0,align:"center",children:"Reset Source Code"}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",align:"center",paragraph:!0,children:"Enter your account email address to receive a link to reset your 8-digit source code."}),(0,Ve.jsxs)(Je,{component:"form",onSubmit:async t=>{if(t.preventDefault(),o(!0),s(null),l(null),!e)return s("Email is required."),void o(!1);try{await(async e=>{console.log(`Placeholder: Sending source code reset email to ${e}`),await new Promise((e=>setTimeout(e,1500)))})(e),l("If an account exists for this email, a reset link has been sent. Please check your inbox.")}catch(gJ){console.error("Error sending source code reset email:",gJ),s("Failed to send reset email. Please try again later.")}finally{o(!1)}},noValidate:!0,sx:{mt:1},children:[(0,Ve.jsx)(GD,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:e,onChange:e=>t(e.target.value),autoFocus:!0}),i&&(0,Ve.jsx)(lN,{severity:"error",sx:{mt:2},children:i}),a&&(0,Ve.jsx)(lN,{severity:"success",sx:{mt:2},children:a}),(0,Ve.jsx)(sI,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:n,children:n?(0,Ve.jsx)(HN,{size:24}):"Send Reset Link"})]})]})})};function NK(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function MK(e,t){HV(2,arguments);var n=qV(e),r=NK(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function OK(e,t){HV(2,arguments);var n=qV(e).getTime(),r=NK(t);return new Date(n+r)}function LK(e,t){HV(2,arguments);var n=qV(e),r=NK(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());return i.setMonth(n.getMonth()+r+1,0),o>=i.getDate()?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function FK(e,t){return HV(2,arguments),LK(e,12*NK(t))}function UK(e,t){HV(2,arguments);var n=qV(e),r=qV(t),o=GV(n,r),i=Math.abs(function(e,t){HV(2,arguments);var n=qV(e),r=qV(t);return n.getFullYear()-r.getFullYear()}(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=GV(n,r)===-o,a=o*(i-Number(s));return 0===a?0:a}function $K(e){HV(1,arguments);var t=qV(e);return t.setHours(0,0,0,0),t}function zK(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function BK(e,t){HV(2,arguments);var n=qV(e),r=qV(t),o=zK(n,r),i=Math.abs(function(e,t){HV(2,arguments);var n=$K(e),r=$K(t),o=n.getTime()-mW(n),i=r.getTime()-mW(r);return Math.round((o-i)/864e5)}(n,r));n.setDate(n.getDate()-o*i);var s=o*(i-Number(zK(n,r)===-o));return 0===s?0:s}Math.pow(10,8);var VK=6e4,WK=36e5;function HK(e,t){var n,r,o,i,s,a,l,c;HV(1,arguments);var u=VV(),d=NK(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==o?o:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=qV(e),p=h.getDay(),f=6+(p<d?-7:0)-(p-d);return h.setDate(h.getDate()+f),h.setHours(23,59,59,999),h}function qK(e){HV(1,arguments);var t=qV(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function GK(e){if(HV(1,arguments),!function(e){return HV(1,arguments),e instanceof Date||"object"===WV(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=qV(e);return!isNaN(Number(t))}function KK(e,t){return HV(2,arguments),OK(e,-NK(t))}function YK(e){HV(1,arguments);var t=qV(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function QK(e){HV(1,arguments);var t=qV(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=YK(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=YK(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function XK(e){HV(1,arguments);var t=qV(e),n=YK(t).getTime()-function(e){HV(1,arguments);var t=QK(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),YK(n)}(t).getTime();return Math.round(n/6048e5)+1}function JK(e,t){var n,r,o,i,s,a,l,c;HV(1,arguments);var u=VV(),d=NK(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==o?o:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=qV(e),p=h.getUTCDay(),f=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-f),h.setUTCHours(0,0,0,0),h}function ZK(e,t){var n,r,o,i,s,a,l,c;HV(1,arguments);var u=qV(e),d=u.getUTCFullYear(),h=VV(),p=NK(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(d+1,0,p),f.setUTCHours(0,0,0,0);var m=JK(f,t),g=new Date(0);g.setUTCFullYear(d,0,p),g.setUTCHours(0,0,0,0);var v=JK(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=v.getTime()?d:d-1}function eY(e,t){HV(1,arguments);var n=qV(e),r=JK(n,t).getTime()-function(e,t){var n,r,o,i,s,a,l,c;HV(1,arguments);var u=VV(),d=NK(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=ZK(e,t),p=new Date(0);return p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0),JK(p,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function tY(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const nY={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return tY("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):tY(n+1,2)},d:function(e,t){return tY(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return tY(e.getUTCHours()%12||12,t.length)},H:function(e,t){return tY(e.getUTCHours(),t.length)},m:function(e,t){return tY(e.getUTCMinutes(),t.length)},s:function(e,t){return tY(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return tY(Math.floor(r*Math.pow(10,n-3)),t.length)}};var rY="midnight",oY="noon",iY="morning",sY="afternoon",aY="evening",lY="night",cY={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return nY.y(e,t)},Y:function(e,t,n,r){var o=ZK(e,r),i=o>0?o:1-o;return"YY"===t?tY(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):tY(i,t.length)},R:function(e,t){return tY(QK(e),t.length)},u:function(e,t){return tY(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return tY(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return tY(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return nY.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return tY(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var o=eY(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):tY(o,t.length)},I:function(e,t,n){var r=XK(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):tY(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):nY.d(e,t)},D:function(e,t,n){var r=function(e){HV(1,arguments);var t=qV(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):tY(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return tY(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return tY(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return tY(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,o=e.getUTCHours();switch(r=12===o?oY:0===o?rY:o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,o=e.getUTCHours();switch(r=o>=17?aY:o>=12?sY:o>=4?iY:lY,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return nY.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):nY.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):tY(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):tY(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):nY.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):nY.s(e,t)},S:function(e,t){return nY.S(e,t)},X:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return dY(o);case"XXXX":case"XX":return hY(o);default:return hY(o,":")}},x:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return dY(o);case"xxxx":case"xx":return hY(o);default:return hY(o,":")}},O:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+uY(o,":");default:return"GMT"+hY(o,":")}},z:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+uY(o,":");default:return"GMT"+hY(o,":")}},t:function(e,t,n,r){var o=r._originalDate||e;return tY(Math.floor(o.getTime()/1e3),t.length)},T:function(e,t,n,r){return tY((r._originalDate||e).getTime(),t.length)}};function uY(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var s=t||"";return n+String(o)+s+tY(i,2)}function dY(e,t){return e%60===0?(e>0?"-":"+")+tY(Math.abs(e)/60,2):hY(e,t)}function hY(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e);return r+tY(Math.floor(o/60),2)+n+tY(o%60,2)}const pY=cY;var fY=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},mY=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},gY={p:mY,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return fY(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",fY(o,t)).replace("{{time}}",mY(i,t))}};const vY=gY;var yY=["D","DD"],bY=["YY","YYYY"];function wY(e){return-1!==yY.indexOf(e)}function xY(e){return-1!==bY.indexOf(e)}function AY(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var _Y=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CY=/^'([^]*?)'?$/,kY=/''/g,TY=/[a-zA-Z]/;function EY(e,t,n){var r,o,i,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w;HV(2,arguments);var x=String(t),A=VV(),_=null!==(r=null!==(o=null===n||void 0===n?void 0:n.locale)&&void 0!==o?o:A.locale)&&void 0!==r?r:pW,S=NK(null!==(i=null!==(s=null!==(a=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==a?a:A.firstWeekContainsDate)&&void 0!==s?s:null===(d=A.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==i?i:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=NK(null!==(p=null!==(f=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(v=n.locale)||void 0===v||null===(y=v.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==m?m:A.weekStartsOn)&&void 0!==f?f:null===(b=A.locale)||void 0===b||null===(w=b.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==p?p:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var k=qV(e);if(!GK(k))throw new RangeError("Invalid time value");var T=KK(k,mW(k)),E={firstWeekContainsDate:S,weekStartsOn:C,locale:_,_originalDate:k};return x.match(SY).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,vY[t])(e,_.formatLong):e})).join("").match(_Y).map((function(r){if("''"===r)return"'";var o=r[0];if("'"===o)return function(e){var t=e.match(CY);if(!t)return e;return t[1].replace(kY,"'")}(r);var i=pY[o];if(i)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!xY(r)||AY(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!wY(r)||AY(r,t,String(e)),i(T,r,_.localize,E);if(o.match(TY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return r})).join("")}function IY(e){HV(1,arguments);var t=qV(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function RY(e,t){var n,r,o,i,s,a,l,c;HV(1,arguments);var u=VV(),d=NK(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==o?o:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=qV(e),p=h.getDay(),f=(p<d?7:0)+p-d;return h.setDate(h.getDate()-f),h.setHours(0,0,0,0),h}function PY(e,t){var n,r,o,i,s,a,l,c;HV(1,arguments);var u=VV(),d=NK(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=function(e,t){var n,r,o,i,s,a,l,c;HV(1,arguments);var u=qV(e),d=u.getFullYear(),h=VV(),p=NK(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setFullYear(d+1,0,p),f.setHours(0,0,0,0);var m=RY(f,t),g=new Date(0);g.setFullYear(d,0,p),g.setHours(0,0,0,0);var v=RY(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=v.getTime()?d:d-1}(e,t),p=new Date(0);return p.setFullYear(h,0,d),p.setHours(0,0,0,0),RY(p,t)}function jY(e,t){HV(2,arguments);var n=qV(e),r=qV(t);return n.getTime()>r.getTime()}function DY(e,t){HV(2,arguments);var n=qV(e),r=qV(t);return n.getTime()<r.getTime()}function NY(e){HV(1,arguments);var t=qV(e);return t.setMinutes(0,0,0),t}function MY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function OY(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return MY(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MY(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function LY(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZT(e,t)}function FY(e){return FY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FY(e)}function UY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(UY=function(){return!!e})()}function $Y(e){var t=UY();return function(){var n,r=FY(e);if(t){var o=FY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==WV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return JT(e)}(this,n)}}function zY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BY(e){var t=function(e,t){if("object"!=WV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WV(t)?t:t+""}function VY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BY(r.key),r)}}function WY(e,t,n){return t&&VY(e.prototype,t),n&&VY(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HY(e,t,n){return(t=BY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qY=function(){function e(){zY(this,e),HY(this,"priority",void 0),HY(this,"subPriority",0)}return WY(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),GY=function(e){LY(n,e);var t=$Y(n);function n(e,r,o,i,s){var a;return zY(this,n),(a=t.call(this)).value=e,a.validateValue=r,a.setValue=o,a.priority=i,s&&(a.subPriority=s),a}return WY(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(qY),KY=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",10),HY(JT(e),"subPriority",-1),e}return WY(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(qY),YY=function(){function e(){zY(this,e),HY(this,"incompatibleTokens",void 0),HY(this,"priority",void 0),HY(this,"subPriority",void 0)}return WY(e,[{key:"run",value:function(e,t,n,r){var o=this.parse(e,t,n,r);return o?{setter:new GY(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),QY=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",140),HY(JT(e),"incompatibleTokens",["R","u","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(YY),XY=/^(1[0-2]|0?\d)/,JY=/^(3[0-1]|[0-2]?\d)/,ZY=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,eQ=/^(5[0-3]|[0-4]?\d)/,tQ=/^(2[0-3]|[0-1]?\d)/,nQ=/^(2[0-4]|[0-1]?\d)/,rQ=/^(1[0-1]|0?\d)/,oQ=/^(1[0-2]|0?\d)/,iQ=/^[0-5]?\d/,sQ=/^[0-5]?\d/,aQ=/^\d/,lQ=/^\d{1,2}/,cQ=/^\d{1,3}/,uQ=/^\d{1,4}/,dQ=/^-?\d+/,hQ=/^-?\d/,pQ=/^-?\d{1,2}/,fQ=/^-?\d{1,3}/,mQ=/^-?\d{1,4}/,gQ=/^([+-])(\d{2})(\d{2})?|Z/,vQ=/^([+-])(\d{2})(\d{2})|Z/,yQ=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,bQ=/^([+-])(\d{2}):(\d{2})|Z/,wQ=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function xQ(e,t){return e?{value:t(e.value),rest:e.rest}:e}function AQ(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function _Q(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var r="+"===n[1]?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*WK+i*VK+1e3*s),rest:t.slice(n[0].length)}}function SQ(e){return AQ(dQ,e)}function CQ(e,t){switch(e){case 1:return AQ(aQ,t);case 2:return AQ(lQ,t);case 3:return AQ(cQ,t);case 4:return AQ(uQ,t);default:return AQ(new RegExp("^\\d{1,"+e+"}"),t)}}function kQ(e,t){switch(e){case 1:return AQ(hQ,t);case 2:return AQ(pQ,t);case 3:return AQ(fQ,t);case 4:return AQ(mQ,t);default:return AQ(new RegExp("^-?\\d{1,"+e+"}"),t)}}function TQ(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function EQ(e,t){var n,r=t>0,o=r?t:1-t;if(o<=50)n=e||100;else{var i=o+50;n=e+100*Math.floor(i/100)-(e>=i%100?100:0)}return r?n:1-n}function IQ(e){return e%400===0||e%4===0&&e%100!==0}var RQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",130),HY(JT(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return xQ(CQ(4,e),r);case"yo":return xQ(n.ordinalNumber(e,{unit:"year"}),r);default:return xQ(CQ(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var o=EQ(n.year,r);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var i="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(YY),PQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",130),HY(JT(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return xQ(CQ(4,e),r);case"Yo":return xQ(n.ordinalNumber(e,{unit:"year"}),r);default:return xQ(CQ(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var o=ZK(e,r);if(n.isTwoDigitYear){var i=EQ(n.year,o);return e.setUTCFullYear(i,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),JK(e,r)}var s="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(s,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),JK(e,r)}}]),n}(YY),jQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",130),HY(JT(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t){return kQ("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),YK(r)}}]),n}(YY),DQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",130),HY(JT(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t){return kQ("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(YY),NQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",120),HY(JT(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return CQ(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(YY),MQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",120),HY(JT(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return CQ(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(YY),OQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),HY(JT(e),"priority",110),e}return WY(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return xQ(AQ(XY,e),r);case"MM":return xQ(CQ(2,e),r);case"Mo":return xQ(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(YY),LQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",110),HY(JT(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return xQ(AQ(XY,e),r);case"LL":return xQ(CQ(2,e),r);case"Lo":return xQ(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(YY);var FQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",100),HY(JT(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return AQ(eQ,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return CQ(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return JK(function(e,t,n){HV(2,arguments);var r=qV(e),o=NK(t),i=eY(r,n)-o;return r.setUTCDate(r.getUTCDate()-7*i),r}(e,n,r),r)}}]),n}(YY);var UQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",100),HY(JT(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return AQ(eQ,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return CQ(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return YK(function(e,t){HV(2,arguments);var n=qV(e),r=NK(t),o=XK(n)-r;return n.setUTCDate(n.getUTCDate()-7*o),n}(e,n))}}]),n}(YY),$Q=[31,28,31,30,31,30,31,31,30,31,30,31],zQ=[31,29,31,30,31,30,31,31,30,31,30,31],BQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",90),HY(JT(e),"subPriority",1),HY(JT(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return AQ(JY,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return CQ(t.length,e)}}},{key:"validate",value:function(e,t){var n=IQ(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=zQ[r]:t>=1&&t<=$Q[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(YY),VQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",90),HY(JT(e),"subpriority",1),HY(JT(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return AQ(ZY,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return CQ(t.length,e)}}},{key:"validate",value:function(e,t){return IQ(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(YY);function WQ(e,t,n){var r,o,i,s,a,l,c,u;HV(2,arguments);var d=VV(),h=NK(null!==(r=null!==(o=null!==(i=null!==(s=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==s?s:null===n||void 0===n||null===(a=n.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==i?i:d.weekStartsOn)&&void 0!==o?o:null===(c=d.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==r?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=qV(e),f=NK(t),m=((f%7+7)%7<h?7:0)+f-p.getUTCDay();return p.setUTCDate(p.getUTCDate()+m),p}var HQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",90),HY(JT(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=WQ(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(YY),qQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",90),HY(JT(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return xQ(CQ(t.length,e),o);case"eo":return xQ(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=WQ(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(YY),GQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",90),HY(JT(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return xQ(CQ(t.length,e),o);case"co":return xQ(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=WQ(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(YY);var KQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",90),HY(JT(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return CQ(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return xQ(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return xQ(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return xQ(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return xQ(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){HV(2,arguments);var n=NK(t);n%7===0&&(n-=7);var r=qV(e),o=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+o),r}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(YY),YQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",80),HY(JT(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(TQ(n),0,0,0),e}}]),n}(YY),QQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",80),HY(JT(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(TQ(n),0,0,0),e}}]),n}(YY),XQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",80),HY(JT(e),"incompatibleTokens",["a","b","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(TQ(n),0,0,0),e}}]),n}(YY),JQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",70),HY(JT(e),"incompatibleTokens",["H","K","k","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return AQ(oQ,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return CQ(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(YY),ZQ=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",70),HY(JT(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return AQ(tQ,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return CQ(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(YY),eX=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",70),HY(JT(e),"incompatibleTokens",["h","H","k","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return AQ(rQ,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return CQ(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(YY),tX=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",70),HY(JT(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return AQ(nQ,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return CQ(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),n}(YY),nX=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",60),HY(JT(e),"incompatibleTokens",["t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return AQ(iQ,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return CQ(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(YY),rX=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",50),HY(JT(e),"incompatibleTokens",["t","T"]),e}return WY(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return AQ(sQ,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return CQ(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(YY),oX=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",30),HY(JT(e),"incompatibleTokens",["t","T"]),e}return WY(n,[{key:"parse",value:function(e,t){return xQ(CQ(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(YY),iX=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",10),HY(JT(e),"incompatibleTokens",["t","T","x"]),e}return WY(n,[{key:"parse",value:function(e,t){switch(t){case"X":return _Q(gQ,e);case"XX":return _Q(vQ,e);case"XXXX":return _Q(yQ,e);case"XXXXX":return _Q(wQ,e);default:return _Q(bQ,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(YY),sX=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",10),HY(JT(e),"incompatibleTokens",["t","T","X"]),e}return WY(n,[{key:"parse",value:function(e,t){switch(t){case"x":return _Q(gQ,e);case"xx":return _Q(vQ,e);case"xxxx":return _Q(yQ,e);case"xxxxx":return _Q(wQ,e);default:return _Q(bQ,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(YY),aX=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",40),HY(JT(e),"incompatibleTokens","*"),e}return WY(n,[{key:"parse",value:function(e){return SQ(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(YY),lX=function(e){LY(n,e);var t=$Y(n);function n(){var e;zY(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return HY(JT(e=t.call.apply(t,[this].concat(o))),"priority",20),HY(JT(e),"incompatibleTokens","*"),e}return WY(n,[{key:"parse",value:function(e){return SQ(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(YY),cX={G:new QY,y:new RQ,Y:new PQ,R:new jQ,u:new DQ,Q:new NQ,q:new MQ,M:new OQ,L:new LQ,w:new FQ,I:new UQ,d:new BQ,D:new VQ,E:new HQ,e:new qQ,c:new GQ,i:new KQ,a:new YQ,b:new QQ,B:new XQ,h:new JQ,H:new ZQ,K:new eX,k:new tX,m:new nX,s:new rX,S:new oX,X:new iX,x:new sX,t:new aX,T:new lX},uX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hX=/^'([^]*?)'?$/,pX=/''/g,fX=/\S/,mX=/[a-zA-Z]/;function gX(e,t,n,r){var o,i,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,x;HV(3,arguments);var A=String(e),_=String(t),S=VV(),C=null!==(o=null!==(i=null===r||void 0===r?void 0:r.locale)&&void 0!==i?i:S.locale)&&void 0!==o?o:pW;if(!C.match)throw new RangeError("locale must contain match property");var k=NK(null!==(s=null!==(a=null!==(l=null!==(c=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==c?c:null===r||void 0===r||null===(u=r.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==l?l:S.firstWeekContainsDate)&&void 0!==a?a:null===(h=S.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==s?s:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=NK(null!==(f=null!==(m=null!==(g=null!==(v=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==v?v:null===r||void 0===r||null===(y=r.locale)||void 0===y||null===(b=y.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==g?g:S.weekStartsOn)&&void 0!==m?m:null===(w=S.locale)||void 0===w||null===(x=w.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==f?f:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===_)return""===A?qV(n):new Date(NaN);var E,I={firstWeekContainsDate:k,weekStartsOn:T,locale:C},R=[new KY],P=_.match(dX).map((function(e){var t=e[0];return t in vY?(0,vY[t])(e,C.formatLong):e})).join("").match(uX),j=[],D=OY(P);try{var N=function(){var t=E.value;null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!xY(t)||AY(t,_,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!wY(t)||AY(t,_,e);var n=t[0],o=cX[n];if(o){var i=o.incompatibleTokens;if(Array.isArray(i)){var s=j.find((function(e){return i.includes(e.token)||e.token===n}));if(s)throw new RangeError("The format string mustn't contain `".concat(s.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===o.incompatibleTokens&&j.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));j.push({token:n,fullToken:t});var a=o.run(A,t,C.match,I);if(!a)return{v:new Date(NaN)};R.push(a.setter),A=a.rest}else{if(n.match(mX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(hX)[1].replace(pX,"'")),0!==A.indexOf(t))return{v:new Date(NaN)};A=A.slice(t.length)}};for(D.s();!(E=D.n()).done;){var M=N();if("object"===WV(M))return M.v}}catch(gJ){D.e(gJ)}finally{D.f()}if(A.length>0&&fX.test(A))return new Date(NaN);var O=R.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return R.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),L=qV(n);if(isNaN(L.getTime()))return new Date(NaN);var F,U=KK(L,mW(L)),$={},z=OY(O);try{for(z.s();!(F=z.n()).done;){var B=F.value;if(!B.validate(U,I))return new Date(NaN);var V=B.set(U,$,I);Array.isArray(V)?(U=V[0],fW($,V[1])):U=V}}catch(gJ){z.e(gJ)}finally{z.f()}return U}function vX(e){HV(1,arguments);var t=qV(e);return t.setDate(1),t.setHours(0,0,0,0),t}function yX(e){HV(1,arguments);var t=qV(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function bX(e,t){var n;HV(1,arguments);var r=NK(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var o,i=function(e){var t,n={},r=e.split(wX.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],wX.timeZoneDelimiter.test(n.date)&&(n.date=e.split(wX.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var o=wX.timezone.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}(e);if(i.date){var s=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?o:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(i.date,r);o=function(e,t){if(null===t)return new Date(NaN);var n=e.match(xX);if(!n)return new Date(NaN);var r=!!n[4],o=SX(n[1]),i=SX(n[2])-1,s=SX(n[3]),a=SX(n[4]),l=SX(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,a,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=7*(t-1)+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}(t,a,l):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(kX[t]||(TX(e)?29:28))}(t,i,s)&&function(e,t){return t>=1&&t<=(TX(e)?366:365)}(t,o)?(c.setUTCFullYear(t,i,Math.max(o,s)),c):new Date(NaN)}(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a,l=o.getTime(),c=0;if(i.time&&(c=function(e){var t=e.match(AX);if(!t)return NaN;var n=CX(t[1]),r=CX(t[2]),o=CX(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,o))return NaN;return n*WK+r*VK+1e3*o}(i.time),isNaN(c)))return new Date(NaN);if(!i.timezone){var u=new Date(l+c),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return a=function(e){if("Z"===e)return 0;var t=e.match(_X);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,o))return NaN;return n*(r*WK+o*VK)}(i.timezone),isNaN(a)?new Date(NaN):new Date(l+c+a)}var wX={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},xX=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,AX=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_X=/^([+-])(\d{2})(?::?(\d{2}))?$/;function SX(e){return e?parseInt(e):1}function CX(e){return e&&parseFloat(e.replace(",","."))||0}var kX=[31,null,31,30,31,30,31,31,30,31,30,31];function TX(e){return e%400===0||e%4===0&&e%100!==0}var EX=n(4894),IX=n.n(EX);const RX={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},PX={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class jX{constructor(e){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=RX,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=e=>"undefined"===typeof e?new Date:null===e?null:new Date(e),this.dateWithTimezone=e=>this.date(e),this.getTimezone=()=>"default",this.setTimezone=e=>e,this.toJsDate=e=>e,this.getCurrentLocaleCode=()=>{var e;return(null==(e=this.locale)?void 0:e.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>!this.locale||/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=e=>e.match(/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,this.longFormatters[t])(e,this.locale.formatLong)}return e})).join(""),this.getFormatHelperText=e=>this.expandFormat(e).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=e=>null===e,this.formatNumber=e=>e,this.getMeridiemText=e=>"am"===e?"AM":"PM";const{locale:t,formats:n,longFormatters:r}=e;this.locale=t,this.formats=(0,je.A)({},PX,n),this.longFormatters=r}}class DX extends jX{constructor(){let{locale:e,formats:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({locale:null!=e?e:hW,formats:t,longFormatters:IX()}),this.parseISO=e=>bX(e),this.toISO=e=>function(e,t){var n,r;HV(1,arguments);var o=qV(e);if(isNaN(o.getTime()))throw new RangeError("Invalid time value");var i=String(null!==(n=null===t||void 0===t?void 0:t.format)&&void 0!==n?n:"extended"),s=String(null!==(r=null===t||void 0===t?void 0:t.representation)&&void 0!==r?r:"complete");if("extended"!==i&&"basic"!==i)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==s&&"time"!==s&&"complete"!==s)throw new RangeError("representation must be 'date', 'time', or 'complete'");var a="",l="",c="extended"===i?"-":"",u="extended"===i?":":"";if("time"!==s){var d=tY(o.getDate(),2),h=tY(o.getMonth()+1,2),p=tY(o.getFullYear(),4);a="".concat(p).concat(c).concat(h).concat(c).concat(d)}if("date"!==s){var f=o.getTimezoneOffset();if(0!==f){var m=Math.abs(f),g=tY(Math.floor(m/60),2),v=tY(m%60,2);l="".concat(f<0?"+":"-").concat(g,":").concat(v)}else l="Z";var y=""===a?"":"T",b=[tY(o.getHours(),2),tY(o.getMinutes(),2),tY(o.getSeconds(),2)].join(u);a="".concat(a).concat(y).concat(b).concat(l)}return a}(e,{format:"extended"}),this.parse=(e,t)=>""===e?null:gX(e,t,new Date,{locale:this.locale}),this.isValid=e=>GK(this.date(e)),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>EY(e,t,{locale:this.locale}),this.getDiff=(e,t,n)=>{switch(n){case"years":return UK(e,this.date(t));case"quarters":return function(e,t,n){HV(2,arguments);var r=QV(e,t)/3;return ZV(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"months":return QV(e,this.date(t));case"weeks":return function(e,t,n){HV(2,arguments);var r=BK(e,t)/7;return ZV(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"days":return BK(e,this.date(t));case"hours":return function(e,t,n){HV(2,arguments);var r=XV(e,t)/WK;return ZV(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"minutes":return function(e,t,n){HV(2,arguments);var r=XV(e,t)/VK;return ZV(null===n||void 0===n?void 0:n.roundingMethod)(r)}(e,this.date(t));case"seconds":return eW(e,this.date(t));default:return XV(e,this.date(t))}},this.isEqual=(e,t)=>null===e&&null===t||function(e,t){HV(2,arguments);var n=qV(e),r=qV(t);return n.getTime()===r.getTime()}(e,t),this.isSameYear=(e,t)=>function(e,t){HV(2,arguments);var n=qV(e),r=qV(t);return n.getFullYear()===r.getFullYear()}(e,t),this.isSameMonth=(e,t)=>function(e,t){HV(2,arguments);var n=qV(e),r=qV(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,t),this.isSameDay=(e,t)=>function(e,t){HV(2,arguments);var n=$K(e),r=$K(t);return n.getTime()===r.getTime()}(e,t),this.isSameHour=(e,t)=>function(e,t){HV(2,arguments);var n=NY(e),r=NY(t);return n.getTime()===r.getTime()}(e,t),this.isAfter=(e,t)=>jY(e,t),this.isAfterYear=(e,t)=>jY(e,qK(t)),this.isAfterDay=(e,t)=>jY(e,KV(t)),this.isBefore=(e,t)=>DY(e,t),this.isBeforeYear=(e,t)=>DY(e,yX(t)),this.isBeforeDay=(e,t)=>DY(e,$K(t)),this.isWithinRange=(e,t)=>{let[n,r]=t;return function(e,t){HV(2,arguments);var n=qV(e).getTime(),r=qV(t.start).getTime(),o=qV(t.end).getTime();if(!(r<=o))throw new RangeError("Invalid interval");return n>=r&&n<=o}(e,{start:n,end:r})},this.startOfYear=e=>yX(e),this.startOfMonth=e=>vX(e),this.startOfWeek=e=>RY(e,{locale:this.locale}),this.startOfDay=e=>$K(e),this.endOfYear=e=>qK(e),this.endOfMonth=e=>YV(e),this.endOfWeek=e=>HK(e,{locale:this.locale}),this.endOfDay=e=>KV(e),this.addYears=(e,t)=>FK(e,t),this.addMonths=(e,t)=>LK(e,t),this.addWeeks=(e,t)=>function(e,t){return HV(2,arguments),MK(e,7*NK(t))}(e,t),this.addDays=(e,t)=>MK(e,t),this.addHours=(e,t)=>function(e,t){return HV(2,arguments),OK(e,36e5*NK(t))}(e,t),this.addMinutes=(e,t)=>function(e,t){return HV(2,arguments),OK(e,6e4*NK(t))}(e,t),this.addSeconds=(e,t)=>function(e,t){return HV(2,arguments),OK(e,1e3*NK(t))}(e,t),this.getYear=e=>function(e){return HV(1,arguments),qV(e).getFullYear()}(e),this.getMonth=e=>function(e){return HV(1,arguments),qV(e).getMonth()}(e),this.getDate=e=>function(e){return HV(1,arguments),qV(e).getDate()}(e),this.getHours=e=>function(e){return HV(1,arguments),qV(e).getHours()}(e),this.getMinutes=e=>function(e){return HV(1,arguments),qV(e).getMinutes()}(e),this.getSeconds=e=>function(e){return HV(1,arguments),qV(e).getSeconds()}(e),this.getMilliseconds=e=>function(e){return HV(1,arguments),qV(e).getMilliseconds()}(e),this.setYear=(e,t)=>function(e,t){HV(2,arguments);var n=qV(e),r=NK(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}(e,t),this.setMonth=(e,t)=>function(e,t){HV(2,arguments);var n=qV(e),r=NK(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=IY(s);return n.setMonth(r,Math.min(i,a)),n}(e,t),this.setDate=(e,t)=>function(e,t){HV(2,arguments);var n=qV(e),r=NK(t);return n.setDate(r),n}(e,t),this.setHours=(e,t)=>function(e,t){HV(2,arguments);var n=qV(e),r=NK(t);return n.setHours(r),n}(e,t),this.setMinutes=(e,t)=>function(e,t){HV(2,arguments);var n=qV(e),r=NK(t);return n.setMinutes(r),n}(e,t),this.setSeconds=(e,t)=>function(e,t){HV(2,arguments);var n=qV(e),r=NK(t);return n.setSeconds(r),n}(e,t),this.setMilliseconds=(e,t)=>function(e,t){HV(2,arguments);var n=qV(e),r=NK(t);return n.setMilliseconds(r),n}(e,t),this.getDaysInMonth=e=>IY(e),this.getNextMonth=e=>LK(e,1),this.getPreviousMonth=e=>LK(e,-1),this.getMonthArray=e=>{const t=[yX(e)];for(;t.length<12;){const e=t[t.length-1];t.push(this.getNextMonth(e))}return t},this.mergeDateAndTime=(e,t)=>this.setSeconds(this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t)),this.getSeconds(t)),this.getWeekdays=()=>{const e=new Date;return function(e,t){var n;HV(1,arguments);var r=e||{},o=qV(r.start),i=qV(r.end).getTime();if(!(o.getTime()<=i))throw new RangeError("Invalid interval");var s=[],a=o;a.setHours(0,0,0,0);var l=Number(null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;a.getTime()<=i;)s.push(qV(a)),a.setDate(a.getDate()+l),a.setHours(0,0,0,0);return s}({start:RY(e,{locale:this.locale}),end:HK(e,{locale:this.locale})}).map((e=>this.formatByString(e,"EEEEEE")))},this.getWeekArray=e=>{const t=RY(vX(e),{locale:this.locale}),n=HK(YV(e),{locale:this.locale});let r=0,o=t;const i=[];for(;DY(o,n);){const e=Math.floor(r/7);i[e]=i[e]||[],i[e].push(o),o=MK(o,1),r+=1}return i},this.getWeekNumber=e=>function(e,t){HV(1,arguments);var n=qV(e),r=RY(n,t).getTime()-PY(n,t).getTime();return Math.round(r/6048e5)+1}(e,{locale:this.locale}),this.getYearRange=(e,t)=>{const n=yX(e),r=qK(t),o=[];let i=n;for(;DY(i,r);)o.push(i),i=FK(i,1);return o}}}const NX=(0,AT.A)((0,Ve.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),MX=(0,AT.A)((0,Ve.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),OX=(0,AT.A)((0,Ve.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function LX(e){return(0,iT.Ay)("MuiCheckbox",e)}const FX=(0,Ke.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),UX=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],$X=(0,tT.Ay)(EB,{shouldForwardProp:e=>(0,YE.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${(0,nT.A)(n.size)}`],"default"!==n.color&&t[`color${(0,nT.A)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${"default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,rT.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{[`&.${FX.checked}, &.${FX.indeterminate}`]:{color:(t.vars||t).palette[n.color].main},[`&.${FX.disabled}`]:{color:(t.vars||t).palette.action.disabled}})})),zX=(0,Ve.jsx)(MX,{}),BX=(0,Ve.jsx)(NX,{}),VX=(0,Ve.jsx)(OX,{}),WX=r.forwardRef((function(e,t){var n,o;const i=(0,Ze.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:s=zX,color:a="primary",icon:l=BX,indeterminate:c=!1,indeterminateIcon:u=VX,inputProps:d,size:h="medium",className:p}=i,f=(0,De.A)(i,UX),m=c?u:l,g=c?u:s,v=(0,je.A)({},i,{color:a,indeterminate:c,size:h}),y=(e=>{const{classes:t,indeterminate:n,color:r,size:o}=e,i={root:["root",n&&"indeterminate",`color${(0,nT.A)(r)}`,`size${(0,nT.A)(o)}`]},s=(0,eT.A)(i,LX,t);return(0,je.A)({},t,s)})(v);return(0,Ve.jsx)($X,(0,je.A)({type:"checkbox",inputProps:(0,je.A)({"data-indeterminate":c},d),icon:r.cloneElement(m,{fontSize:null!=(n=m.props.fontSize)?n:h}),checkedIcon:r.cloneElement(g,{fontSize:null!=(o=g.props.fontSize)?o:h}),ownerState:v,ref:t,className:(0,Ne.A)(y.root,p)},f,{classes:y}))})),HX=WX;var qX=n(6319);const GX=()=>{const e=Z(),[t,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)({necessary:!0,functionality:!1,analytics:!1});(0,r.useEffect)((()=>{localStorage.getItem("cookiePreferences")||n(!0)}),[]);const s=e=>t=>{i({...o,[e]:t.target.checked})};return(0,Ve.jsxs)(_z,{open:t,onClose:()=>{},maxWidth:"sm",fullWidth:!0,PaperProps:{style:{position:"fixed",bottom:20,right:20,margin:0,maxWidth:"500px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"}},children:[(0,Ve.jsxs)(sB,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,Ve.jsx)(KT,{variant:"h6",component:"div",children:"Cookie Preferences"}),(0,Ve.jsx)(OE,{onClick:()=>n(!1),size:"small",sx:{color:"text.secondary"},children:(0,Ve.jsx)(qX.A,{})})]}),(0,Ve.jsx)(vP,{}),(0,Ve.jsxs)(pz,{children:[(0,Ve.jsx)(KT,{variant:"body1",paragraph:!0,children:"We use cookies to enhance your experience. Please select your preferences:"}),(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Ve.jsx)(nH,{control:(0,Ve.jsx)(HX,{checked:o.necessary,disabled:!0,color:"primary"}),label:(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"body2",fontWeight:"bold",children:"Necessary Cookies"}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",children:"Required for the app to function properly. Cannot be disabled."})]})}),(0,Ve.jsx)(nH,{control:(0,Ve.jsx)(HX,{checked:o.functionality,onChange:s("functionality"),color:"primary"}),label:(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"body2",fontWeight:"bold",children:"Functionality Cookies"}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",children:"Remember your preferences and settings."})]})}),(0,Ve.jsx)(nH,{control:(0,Ve.jsx)(HX,{checked:o.analytics,onChange:s("analytics"),color:"primary"}),label:(0,Ve.jsxs)(Je,{children:[(0,Ve.jsx)(KT,{variant:"body2",fontWeight:"bold",children:"Analytics Cookies"}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",children:"Help us understand how you use our app."})]})})]}),(0,Ve.jsx)(Je,{sx:{mt:2},children:(0,Ve.jsx)(RN,{component:"button",variant:"body2",onClick:()=>{e("/cookies"),n(!1)},sx:{color:"primary.main"},children:"Learn more about how we use cookies"})})]}),(0,Ve.jsx)(vP,{}),(0,Ve.jsxs)(xF,{sx:{p:2,gap:1},children:[(0,Ve.jsx)(sI,{onClick:()=>{localStorage.setItem("cookiePreferences",JSON.stringify(o)),n(!1)},variant:"outlined",color:"primary",sx:{minWidth:"120px"},children:"Save Preferences"}),(0,Ve.jsx)(sI,{onClick:()=>{const e={necessary:!0,functionality:!0,analytics:!0};i(e),localStorage.setItem("cookiePreferences",JSON.stringify(e)),n(!1)},variant:"contained",color:"primary",sx:{minWidth:"120px"},children:"Accept All"})]})]})};function KX(e){return(0,iT.Ay)("MuiBottomNavigation",e)}(0,Ke.A)("MuiBottomNavigation",["root"]);const YX=["children","className","component","onChange","showLabels","value"],QX=(0,tT.Ay)("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"center",height:56,backgroundColor:(t.vars||t).palette.background.paper}})),XX=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiBottomNavigation"}),{children:o,className:i,component:s="div",onChange:a,showLabels:l=!1,value:c}=n,u=(0,De.A)(n,YX),d=(0,je.A)({},n,{component:s,showLabels:l}),h=(e=>{const{classes:t}=e;return(0,eT.A)({root:["root"]},KX,t)})(d);return(0,Ve.jsx)(QX,(0,je.A)({as:s,className:(0,Ne.A)(h.root,i),ref:t,ownerState:d},u,{children:r.Children.map(o,((e,t)=>{if(!r.isValidElement(e))return null;const n=void 0===e.props.value?t:e.props.value;return r.cloneElement(e,{selected:n===c,showLabel:void 0!==e.props.showLabel?e.props.showLabel:l,value:n,onChange:a})}))}))})),JX=XX;function ZX(e){return(0,iT.Ay)("MuiBottomNavigationAction",e)}const eJ=(0,Ke.A)("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),tJ=["className","icon","label","onChange","onClick","selected","showLabel","value"],nJ=(0,tT.Ay)(RE,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.showLabel&&!n.selected&&t.iconOnly]}})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({transition:t.transitions.create(["color","padding-top"],{duration:t.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(t.vars||t).palette.text.secondary,flexDirection:"column",flex:"1"},!n.showLabel&&!n.selected&&{paddingTop:14},!n.showLabel&&!n.selected&&!n.label&&{paddingTop:0},{[`&.${eJ.selected}`]:{color:(t.vars||t).palette.primary.main}})})),rJ=(0,tT.Ay)("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:(e,t)=>t.label})((e=>{let{theme:t,ownerState:n}=e;return(0,je.A)({fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!n.showLabel&&!n.selected&&{opacity:0,transitionDelay:"0s"},{[`&.${eJ.selected}`]:{fontSize:t.typography.pxToRem(14)}})})),oJ=r.forwardRef((function(e,t){const n=(0,Ze.b)({props:e,name:"MuiBottomNavigationAction"}),{className:r,icon:o,label:i,onChange:s,onClick:a,value:l}=n,c=(0,De.A)(n,tJ),u=n,d=(e=>{const{classes:t,showLabel:n,selected:r}=e,o={root:["root",!n&&!r&&"iconOnly",r&&"selected"],label:["label",!n&&!r&&"iconOnly",r&&"selected"]};return(0,eT.A)(o,ZX,t)})(u);return(0,Ve.jsxs)(nJ,(0,je.A)({ref:t,className:(0,Ne.A)(d.root,r),focusRipple:!0,onClick:e=>{s&&s(e,l),a&&a(e)},ownerState:u},c,{children:[o,(0,Ve.jsx)(rJ,{className:d.label,ownerState:u,children:i})]}))})),iJ=oJ,sJ=(0,AT.A)((0,Ve.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),aJ=(0,AT.A)((0,Ve.jsx)("path",{d:"M14 6v15H3v-2h2V3h9v1h5v15h2v2h-4V6zm-4 5v2h2v-2z"}),"MeetingRoom"),lJ=(0,AT.A)((0,Ve.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),cJ=()=>{const e=Z(),t=X(),{currentUser:n}=jk();return(0,Ve.jsx)(Ve.Fragment,{children:(0,Ve.jsxs)(JX,{value:t.pathname,onChange:(t,n)=>{e(n)},sx:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"background.paper",borderTop:"1px solid",borderColor:"divider",zIndex:1e3},children:[(0,Ve.jsx)(iJ,{label:"Discover",value:"/",icon:(0,Ve.jsx)(sJ,{})}),(0,Ve.jsx)(iJ,{label:"Side Rooms",value:"/side-rooms",icon:(0,Ve.jsx)(aJ,{})}),(0,Ve.jsx)(iJ,{label:"Sade AI",value:"/sade-ai",icon:(0,Ve.jsx)(zT,{src:"/images/sade-avatar.jpg",sx:{width:24,height:24}})}),(0,Ve.jsx)(iJ,{label:"Profile",value:`/profile/${null===n||void 0===n?void 0:n.uid}`,icon:(0,Ve.jsx)(lJ,{})})]})})},uJ=(0,qe.A)({components:{MuiButton:{styleOverrides:{root:{"&.MuiButton-root":{}}}},MuiButtonBase:{styleOverrides:{root:{"&.MuiButtonBase-root":{}}}}}}),dJ=e=>{let{children:t}=e;return(0,Ve.jsxs)(Xk,{theme:uJ,children:[(0,Ve.jsx)(st,{}),t]})},hJ=()=>{const{currentUser:e}=jk(),t=Z(),[n,o]=(0,r.useState)(""),[i,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1);return(0,Ve.jsx)(VP,{maxWidth:"sm",sx:{py:4},children:(0,Ve.jsxs)(uT,{elevation:3,sx:{p:{xs:2,sm:4},borderRadius:2},children:[(0,Ve.jsx)(KT,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Report an Issue"}),(0,Ve.jsx)(KT,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Help us keep SideEye safe and running smoothly. Please provide as much detail as possible."}),(0,Ve.jsxs)(Je,{component:"form",onSubmit:async r=>{if(r.preventDefault(),e)if(n&&a)if("user"!==n||i){u(!0);try{const r={reporterUid:e.uid,reporterEmail:e.email,reportType:n,description:a,timestamp:Pv(),status:"new"};"user"===n&&i&&(r.reportedUsername=i.startsWith("@")?i.substring(1):i);const o=await Av(tg(D_,"reports"),r);console.log("Report submitted with ID: ",o.id),aS.success("Report submitted successfully. Thank you!"),t("/settings")}catch(vb){console.error("Error submitting report: ",vb),aS.error("Failed to submit report. Please try again.")}finally{u(!1)}}else aS.error("Please enter the username of the user you are reporting.");else aS.error("Please select a report type and provide a description.");else aS.error("You must be logged in to submit a report.")},noValidate:!0,children:[(0,Ve.jsxs)(rD,{fullWidth:!0,margin:"normal",required:!0,children:[(0,Ve.jsx)(Xj,{id:"report-type-label",children:"Type of Report"}),(0,Ve.jsxs)(zD,{labelId:"report-type-label",id:"report-type",value:n,label:"Type of Report",onChange:e=>{o(e.target.value),"user"!==e.target.value&&s("")},children:[(0,Ve.jsx)(oP,{value:"",children:(0,Ve.jsx)("em",{children:"Select a type..."})}),(0,Ve.jsx)(oP,{value:"user",children:"Report a User (Harassment, Abuse, etc.)"}),(0,Ve.jsx)(oP,{value:"bug",children:"Report a Bug or Technical Issue"}),(0,Ve.jsx)(oP,{value:"content",children:"Report Inappropriate Content"}),(0,Ve.jsx)(oP,{value:"other",children:"Other Issue"})]})]}),"user"===n&&(0,Ve.jsx)(GD,{margin:"normal",required:!0,fullWidth:!0,id:"reportedUser",label:"Username of User to Report (e.g., @username)",name:"reportedUser",autoComplete:"off",value:i,onChange:e=>s(e.target.value)}),(0,Ve.jsx)(GD,{margin:"normal",required:!0,fullWidth:!0,id:"description",label:"Detailed Description",name:"description",multiline:!0,rows:4,value:a,onChange:e=>l(e.target.value),helperText:"Please include specific details like what happened, when, and where (if applicable)."}),(0,Ve.jsx)(sI,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,py:1.5},disabled:c,children:c?(0,Ve.jsx)(HN,{size:24,color:"inherit"}):"Submit Report"})]})]})})},pJ=()=>{const{currentUser:e}=jk(),t=X();return!e||["/login","/register"].includes(t.pathname)?null:(0,Ve.jsx)(cJ,{})},fJ=()=>{const e="/vibits"===X().pathname;return(0,Ve.jsxs)(Je,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[!e&&(0,Ve.jsx)(AP,{}),(0,Ve.jsx)(Je,{component:"main",sx:{flexGrow:1,pt:{xs:2,sm:3}},children:(0,Ve.jsxs)(ye,{children:[(0,Ve.jsx)(ge,{path:"/login",element:(0,Ve.jsx)(qN,{})}),(0,Ve.jsx)(ge,{path:"/register",element:(0,Ve.jsx)(Dz,{})}),(0,Ve.jsx)(ge,{path:"/reset-password",element:(0,Ve.jsx)(Nz,{})}),(0,Ve.jsx)(ge,{path:"/verify-email",element:(0,Ve.jsx)(qG,{})}),(0,Ve.jsx)(ge,{path:"/setup-source-code",element:(0,Ve.jsx)(PK,{})}),(0,Ve.jsx)(ge,{path:"/enter-source-code",element:(0,Ve.jsx)(jK,{})}),(0,Ve.jsx)(ge,{path:"/reset-source-code",element:(0,Ve.jsx)(DK,{})}),(0,Ve.jsx)(ge,{path:"/safety",element:(0,Ve.jsx)(OG,{})}),(0,Ve.jsx)(ge,{path:"/privacy-policy",element:(0,Ve.jsx)(BG,{})}),(0,Ve.jsx)(ge,{path:"/about",element:(0,Ve.jsx)(VG,{})}),(0,Ve.jsx)(ge,{path:"/terms",element:(0,Ve.jsx)(WG,{})}),(0,Ve.jsx)(ge,{path:"/cookies",element:(0,Ve.jsx)(HG,{})}),(0,Ve.jsx)(ge,{path:"/",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(_W,{})})}),(0,Ve.jsx)(ge,{path:"/profile/:userId",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(yB,{})})}),(0,Ve.jsx)(ge,{path:"/settings",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(ZB,{})})}),(0,Ve.jsx)(ge,{path:"/security",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(zG,{})})}),(0,Ve.jsx)(ge,{path:"/search",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(UV,{})})}),(0,Ve.jsx)(ge,{path:"/messages",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(SW,{})})}),(0,Ve.jsx)(ge,{path:"/side-rooms",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(iH,{})})}),(0,Ve.jsx)(ge,{path:"/side-room/:roomId",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(Qq,{})})}),(0,Ve.jsx)(ge,{path:"/chat/:userId",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(Xq,{})})}),(0,Ve.jsx)(ge,{path:"/trash",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(GG,{})})}),(0,Ve.jsx)(ge,{path:"/profile/:userId/followers",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(KG,{})})}),(0,Ve.jsx)(ge,{path:"/profile/:userId/following",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(YG,{})})}),(0,Ve.jsx)(ge,{path:"/notifications",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(_K,{})})}),(0,Ve.jsx)(ge,{path:"/account-management",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(oK,{})})}),(0,Ve.jsx)(ge,{path:"/report",element:(0,Ve.jsx)(iK,{children:(0,Ve.jsx)(hJ,{})})}),(0,Ve.jsx)(ge,{path:"/sade-ai",element:(0,Ve.jsx)(EH,{})}),(0,Ve.jsx)(ge,{path:"*",element:(0,Ve.jsx)(me,{to:"/",replace:!0})})]})}),(0,Ve.jsx)(GX,{}),(0,Ve.jsx)(DS,{position:"bottom-right"}),(0,Ve.jsx)(pJ,{})]})},mJ=()=>(0,Ve.jsx)(aK,{children:(0,Ve.jsx)(Fq,{children:(0,Ve.jsx)(ke,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,Ve.jsx)(dJ,{children:(0,Ve.jsxs)(Zk,{children:[(0,Ve.jsx)(st,{}),(0,Ve.jsx)(qM,{dateAdapter:DX,children:(0,Ve.jsx)(Pk,{children:(0,Ve.jsx)(gB,{children:(0,Ve.jsx)(Ok,{children:(0,Ve.jsx)(AK,{children:(0,Ve.jsx)(fJ,{})})})})})})]})})})})});i.createRoot(document.getElementById("root")).render((0,Ve.jsx)(mJ,{}))})()})();