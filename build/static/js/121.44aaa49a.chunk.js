"use strict";(self.webpackChunkside_eye=self.webpackChunkside_eye||[]).push([[121],{1121:(e,r,t)=>{t.r(r),t.d(r,{default:()=>A});var s=t(9950),a=t(9808),i=t(2235),o=t(2053),l=t(6491),n=t(5979),u=t(3788),d=t(6101),p=t(3266),c=t(8145),h=t(226),m=t(6639),b=t(1367),x=t(330),g=t(6220),f=t(5887),y=t(8429),v=t(4414);const A=()=>{const{currentUser:e}=(0,b.As)(),r=(0,y.Zp)(),[t,A]=(0,s.useState)(""),[j,R]=(0,s.useState)(""),[w,S]=(0,s.useState)(""),[U,k]=(0,s.useState)(!1);return(0,v.jsx)(a.A,{maxWidth:"sm",sx:{py:4},children:(0,v.jsxs)(i.A,{elevation:3,sx:{p:{xs:2,sm:4},borderRadius:2},children:[(0,v.jsx)(o.A,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Report an Issue"}),(0,v.jsx)(o.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Help us keep SideEye safe and running smoothly. Please provide as much detail as possible."}),(0,v.jsxs)(l.A,{component:"form",onSubmit:async s=>{if(s.preventDefault(),e)if(t&&w)if("user"!==t||j){k(!0);try{const s={reporterUid:e.uid,reporterEmail:e.email,reportType:t,description:w,timestamp:(0,g.O5)(),status:"new"};"user"===t&&j&&(s.reportedUsername=j.startsWith("@")?j.substring(1):j);const a=await(0,g.gS)((0,g.rJ)(x.db,"reports"),s);console.log("Report submitted with ID: ",a.id),f.oR.success("Report submitted successfully. Thank you!"),r("/settings")}catch(a){console.error("Error submitting report: ",a),f.oR.error("Failed to submit report. Please try again.")}finally{k(!1)}}else f.oR.error("Please enter the username of the user you are reporting.");else f.oR.error("Please select a report type and provide a description.");else f.oR.error("You must be logged in to submit a report.")},noValidate:!0,children:[(0,v.jsxs)(n.A,{fullWidth:!0,margin:"normal",required:!0,children:[(0,v.jsx)(u.A,{id:"report-type-label",children:"Type of Report"}),(0,v.jsxs)(d.A,{labelId:"report-type-label",id:"report-type",value:t,label:"Type of Report",onChange:e=>{A(e.target.value),"user"!==e.target.value&&R("")},children:[(0,v.jsx)(p.A,{value:"",children:(0,v.jsx)("em",{children:"Select a type..."})}),(0,v.jsx)(p.A,{value:"user",children:"Report a User (Harassment, Abuse, etc.)"}),(0,v.jsx)(p.A,{value:"bug",children:"Report a Bug or Technical Issue"}),(0,v.jsx)(p.A,{value:"content",children:"Report Inappropriate Content"}),(0,v.jsx)(p.A,{value:"other",children:"Other Issue"})]})]}),"user"===t&&(0,v.jsx)(c.A,{margin:"normal",required:!0,fullWidth:!0,id:"reportedUser",label:"Username of User to Report (e.g., @username)",name:"reportedUser",autoComplete:"off",value:j,onChange:e=>R(e.target.value)}),(0,v.jsx)(c.A,{margin:"normal",required:!0,fullWidth:!0,id:"description",label:"Detailed Description",name:"description",multiline:!0,rows:4,value:w,onChange:e=>S(e.target.value),helperText:"Please include specific details like what happened, when, and where (if applicable)."}),(0,v.jsx)(h.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,py:1.5},disabled:U,children:U?(0,v.jsx)(m.A,{size:24,color:"inherit"}):"Submit Report"})]})]})})}}}]);